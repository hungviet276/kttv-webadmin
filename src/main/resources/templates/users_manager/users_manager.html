<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:replace="/layout_header.html :: head_tag" />
    <link rel="stylesheet" href="/css/user_manager.css" type="text/css">
    <title>Quản lý người dùng</title>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">

    <th:block th:replace="/layout_menu.html :: menu_tag" />
    <div class="content-wrapper">
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                </div>
            </div>
        </div>
        <div class="content">
            <div class="container-fluid">
                <div class="card card-default">
                    <div class="card-header">
                        <h4>Quản lý người dùng</h4>
                    </div>
                    <div class="container-fluid">
                        <div class="row content" style="height: 1119px;width: 100%">
                        <div class="col-sm-5" id="box_search">
                            <div class="card-header">
                                <h3 style="text-align: center"><b>Tìm kiếm người dùng</b></h3>
                            </div>
                            <br/>
                            <form class="form-horizontal" id="form_data">
                            <div class="form-row" id ="search_users">
                                <div class="form-group col-md-6">
                                    <label for="code_search">Mã người dùng</label>
                                    <input type="text" class="form-control" id="code_search"
                                           placeholder="">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="Username_search">Username</label>
                                    <input type="text" class="form-control" id="Username_search"
                                           placeholder="">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="start_date">Từ ngày</label>
                                    <input type="text" class="form-control" id="start_date"
                                    placeholder="">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="end_date">Đến ngày</label>
                                    <input type="text" class="form-control" id="end_date"
                                           placeholder="">
                                </div>
                            </div>
                            </form>
                            <div class="wrap-button-control">
                                <button class="btn btn-primary" id="btnSearch" style="width:100px;">
                                    <i class="fas fa-search"></i> Tìm kiếm
                                </button>
                                <button class="btn btn-primary" id="btnDonew" style="width:100px;">
                                    <i class="fas fa-plus"></i> Thêm
                                </button>
                            </div>
                            <p th:text="${a}"></p>
                            <div class="card-body" style="width: 100%;overflow: auto">
                                <table id="tableDataView" class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th data-id="s_id">ID</th>
                                        <th data-id="s_ip">IP</th>
                                        <th data-id="s_port">Port</th>
                                        <th data-id="s_username">Username</th>
                                        <th data-id="s_password">Password</th>
                                        <th data-id="s_domain">Domain</th>
                                        <th data-id="s_sendername">SenderName</th>
                                        <th data-id="s_email">Email</th>
                                        <th data-id="s_protocol">Protocol</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.card-footer -->
                    <div class="col-sm-7"  id ="box_info">
                        <div style="width: 95%;float: right">
                        <div class="card-header">
                            <h3 style="text-align: center"><b>Thông tin người dùng</b></h3>
                        </div>
                        <form class="form-horizontal" id="form_input">
                            <div class="form-row">

                                <div class="form-group col-md-6">
                                    <label for="input_code">Mã tài khoản <span style="color: red;">*</span></label>
                                    <input type="text" class="form-control" id="input_code" placeholder="">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="input_search">Email</label>
                                    <input type="text" class="form-control" id="input_search"
                                           placeholder="">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="input_Username">Tên đăng nhập <span style="color: red;">*</span></label>
                                    <input type="text" class="form-control" id="input_Username" placeholder="">
                                </div>
                                <div class="col-md-6">
                                    <label for="input_Password">Mật khẩu <span style="color: red;">*</span></label>
                                    <input type="text" class="form-control" id="input_Password" placeholder="">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="input_name">Họ và tên <span style="color: red;">*</span></label>
                                    <input type="text" class="form-control" id="input_name" placeholder="">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="input_cardNumber">Số chứng minh thư</label>
                                    <input type="text" class="form-control" id="input_cardNumber" placeholder="">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="input_group_id">Nhóm người dùng</label>
                                    <input type="email" class="form-control" id="input_group_id" placeholder="">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="input_phone">Số điện thoại</label>
                                    <input type="text" class="form-control" id="input_phone" placeholder="">
                                </div>
                            </div>
                            <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="input_group_id">Giới tính</label>
                                <div>
                                    <input  id="checkNam" name="checkedGender" class="checkedGender" type="radio" value="0" checked="true">
                                    <lable style="font-size: 9pt">Nam </lable>&nbsp;&nbsp;
                                    <input  id="checkNu"  name="checkedGender" class="checkedGender" type="radio" value="1">
                                    <lable style="font-size: 9pt">Nữ</lable>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="input_phone">Trạng thái</label>
                                <select class="form-control" name="status_id" id="status_id">
                                    <option value="0">Không chọn</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="input_group_id">Phân quyền <span style="color: red;"> * </span></label>
                                <div>
                                    <input  id="checkNhomquyen" name="checkedQuyen" class="checkedQuyen" type="radio" value="0" checked="true" onclick="ckNhom_quyen()">
                                    <lable style="font-size: 9pt">Nhóm quyền </lable>&nbsp;&nbsp;
                                    <input  id="checktacvu"  name="checkedQuyen" class="checkedQuyen" type="radio" value="1" onclick="checktac_vu()">
                                    <lable style="font-size: 9pt">Nghiệp vụ </lable>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="input_time_download">Thời gian download </label>
                                <input type="text" class="form-control" id="input_time_download" placeholder="(Ngày)">
                            </div>
                        </div>
                        <!--  tab phan quyen-->
                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#NV">Nghiệp vụ</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#menu2">Nhóm quyền</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="NV" class="tab-pane fade">
                                    <h3>Nghiệp vụ</h3>
                                    <div class="box-body no-padding" id='data-list-table-nv' ></div>
                                </div>
                                <div id="menu2" class="tab-pane fade in active">
                                    <h3>Nhóm quyền</h3>
                                    <div class="box-body no-padding" id='data-list-table-nq' style="width: 100%;" ></div>
                                </div>
                             </div>
                        </form>
                            <!-- end tab phan quyen-->
                            <div class="wrap-button-control">
                                <button class="btn btn-primary" id="btnsave" style="display:none;width: 100px;">
                                    <i class="fas fa-plus"></i> Lưu
                                </button>
                                <button class="btn btn-primary" id="btnDelete" style="display:none;width: 100px;">
                                    <i class="far fa-trash-alt"></i> Xoá
                                </button>
                                <button class="btn btn-primary" id="btnReset" style="display:none;width: 100px;">
                                    <i class="fas fa-redo-alt"></i> Làm mới
                                </button>
                                <button class="btn btn-primary" id="btncancer" style="display:none;width: 100px;">
                                    <i class="fas fa-times"></i> Hủy
                                </button>
                            </div>

                        </div>
                    </div>
                    </div>
                    </div>
                </div>

        <div class="popup-loading">
            <div class="wrapper-loading">
                <div class="sub-wrapper-loading">
                    <div class="d-flex justify-content-center">
                        <div class="spinner-border" role="status">
                            <span class="sr-only" th:text="#{action.loading}">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>
</body>
    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
    </aside>
    <th:block th:replace="layout_footer.html :: footer_tag" />
    <script type="text/javascript">
        var apiUrl = "[[${session.apiUrl}]]";
        var userBO = "[[${session.userBO}]]";
        var token = "[[${session.token}]]";
        // console.log(apiUrl + "|" + JSON.stringify(userBO) + "|" + token);
    </script>
<script>
    $(document).ready(function() {
        disabled_right();
        show_search();
    });
    $('#btnDonew').click(function(){
        // enabled_right();
        $("#btnsave").css("display", "inline");
        $("#btnDelete").css("display", "inline");
        $("#btnReset").css("display", "inline");
        $("#btncancer").css("display", "inline");
        $("#btnDonew").attr("disabled", true);
        togle_search();
    });

    $('#btncancer').click(function(){
        // disabled_right();
        $("#btnsave").css("display", "none");
        $("#btnDelete").css("display", "none");
        $("#btnReset").css("display", "none");
        $("#btncancer").css("display", "none");
        $("#btnDonew").attr("disabled", false);
        show_search();
    });

    function disabled_right(){
        $("#form_input input:text").each(function(){$(this).prop("readonly",true);});
        $("#form_input input:password").each(function(){$(this).prop("readonly",true);});
        $("#form_input select").each(function(){$(this).attr("disabled", true);});
        $("#input_group_id").attr("disabled", true);
        $(".checkedGender").attr("disabled", true);
        $(".checkedQuyen").attr("disabled", true);
    }
    function enabled_right(){
        $("#form_input input:text").each(function(){$(this).prop("readonly",false);});
        $("#form_input input:password").each(function(){$(this).prop("readonly",false);});
        $("#form_input select").each(function(){$(this).attr("disabled", false);});
        $("#input_group_id").attr("disabled", false);
        $(".checkedGender").attr("disabled", false);
        $(".checkedQuyen").attr("disabled", false);
    }
    function show_search(){
        $("#box_info").hide(500);
        $("#box_search").attr('class', 'col-sm-12');
    }
    function togle_search(){
        $("#box_info").show(500);
        $("#box_info").attr('class', 'col-sm-7');
        $("#box_search").attr('class', 'col-sm-5');
    }
</script>
<!--    <script src="/js/users_manage.js"></script>-->

</html>