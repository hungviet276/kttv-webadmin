// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
(function(c,a){var b,l=function(){return"undefined"!==typeof w&&"function"!==typeof w?w:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),h=function(){},k=function(a){for(var b in a)return 0;return 1},f={}.toString,e=function(a){return"[object Function]"==f.call(a)},n=function(a){return"[object String]"==f.call(a)},g=function(a){return"[object Array]"==f.call(a)},d=function(a,b){if(a)for(var d=0;d<a.length;)b(a[d++])},m=function(a,b){for(var d in b)a[d]=b[d];return a},q=function(a,
b){return m(Error(a),{src:"dojoLoader",info:b})},r=1,p=function(){return"_"+r++},t=function(a,b,d){return ba(a,b,d,0,t)},w=l,v=w.document,u=v&&v.createElement("DiV"),x=t.has=function(a){return e(y[a])?y[a]=y[a](w,v,u):y[a]},y=x.cache=a.hasCache;e(c)&&(c=c(l));x.add=function(a,b,d,g){(void 0===y[a]||g)&&(y[a]=b);return d&&x(a)};x.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);x("host-webworker")&&(m(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(a,b){try{importScripts(a),b()}catch(Ca){console.info("failed to load resource ("+a+")"),console.error(Ca)}}});for(var z in c.has)x.add(z,c.has[z],0,1);t.async=1;var B=x("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(a,b){return B(a+"\r\n//# sourceURL\x3d"+b)};var A={},E=t.signal=function(a,b){a=A[a];d(a&&a.slice(0),function(a){a.apply(null,
g(b)?b:[b])})};z=t.on=function(a,b){var d=A[a]||(A[a]=[]);d.push(b);return{remove:function(){for(var a=0;a<d.length;a++)if(d[a]===b){d.splice(a,1);break}}}};var C=[],D={},F=[],I={},G=t.map={},H=[],J={},L="",N={},M={},l={},R=0;if(!x("foreign-loader"))var Q=function(a,b){b=!1!==b;var d,g,e,m;for(d in M)g=M[d],(e=d.match(/^url\:(.+)/))?N["url:"+Da(e[1],a)]=g:"*now"==d?m=g:"*noref"!=d&&(e=ea(d,a,!0),N[e.mid]=N["url:"+e.url]=g);m&&m(ca(a));b&&(M={})};var ma=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},V=function(a,b){b.splice(0,b.length);for(var d in a)b.push([d,a[d],new RegExp("^"+ma(d)+"(/|$)"),d.length]);b.sort(function(a,b){return b[3]-a[3]});return b},O=function(a,b){d(a,function(a){b.push([n(a[0])?new RegExp("^"+ma(a[0])+"$"):a[0],a[1]])})},W=function(a){var b=a.name;b||(b=a,a={name:b});a=m({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(G[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));I[b]=a},ga=[],da=function(a,b,g){for(var e in a){"waitSeconds"==
e&&(t.waitms=1E3*(a[e]||0));"cacheBust"==e&&(L=a[e]?n(a[e])?a[e]:(new Date).getTime()+"":"");if("baseUrl"==e||"combo"==e)t[e]=a[e];a[e]!==y&&(t.rawConfig[e]=a[e],"has"!=e&&x.add("config-"+e,a[e],0,b))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(e in a.has)x.add(e,a.has[e],0,b);d(a.packages,W);for(var f in a.packagePaths)d(a.packagePaths[f],function(a){var b=f+"/"+a;n(a)&&(a={name:a});a.location=b;W(a)});V(m(G,a.map),H);d(H,function(a){a[1]=V(a[1],[]);"*"==a[0]&&(H.star=
a)});V(m(D,a.paths),F);O(a.aliases,C);if(!x("foreign-loader")){if(b)ga.push({config:a.config});else for(e in a.config)b=na(e,g),b.config=m(b.config||{},a.config[e]);a.cache&&(Q(),M=a.cache,Q(0,!!a.cache["*noref"]))}E("config",[a,t.rawConfig])};if(x("dojo-cdn")){var U=v.getElementsByTagName("script");b=0;for(var S,P,T,Y;b<U.length;)if(S=U[b++],(T=S.getAttribute("src"))&&(Y=T.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(P=Y[3]||"",a.baseUrl=a.baseUrl||P,R=S),T=S.getAttribute("data-dojo-config")||S.getAttribute("djConfig"))l=
t.eval("({ "+T+" })","data-dojo-config"),R=S}t.rawConfig={};da(a,1);x("dojo-cdn")&&((I.dojo.location=P)&&(P+="/"),I.dijit.location=P+"../dijit/",I.dojox.location=P+"../dojox/");da(c,1);da(l,1);if(!x("foreign-loader"))var Z=function(a){va(function(){d(a.deps,Ea)})},ba=function(a,b,d,e,f){var c;if(n(a)){if((c=na(a,e,!0))&&c.executed)return c.result;throw q("undefinedModule",a);}g(a)||(da(a,0,e),a=b,b=d);if(g(a))if(a.length){d="require*"+p();for(var v,r=[],u=0;u<a.length;)v=a[u++],r.push(na(v,e));c=
m(X("",d,0,""),{injected:2,deps:r,def:b||h,require:e?e.require:t,gc:1});J[c.mid]=c;Z(c);var w=sa&&!0;va(function(){wa(c,w)});c.executed||aa.push(c);xa()}else b&&b();return f},ca=function(a){if(!a)return t;var b=a.require;b||(b=function(d,g,e){return ba(d,g,e,a,b)},a.require=m(b,t),b.module=a,b.toUrl=function(b){return Da(b,a)},b.toAbsMid=function(b){return qa(b,a)});return b},aa=[],ha=[],fa={},oa=function(a){a.injected=1;fa[a.mid]=1;a.url&&(fa[a.url]=a.pack||1);Ka()},pa=function(a){a.injected=2;delete fa[a.mid];
a.url&&delete fa[a.url];k(fa)&&La()},K=t.idle=function(){return!ha.length&&k(fa)&&!aa.length&&!sa};var ja=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},ka=function(a){var b=[],d,g;for(a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&b.length&&".."!=g?(b.pop(),g=b[b.length-1]):"."!=d&&b.push(g=d);return b.join("/")},X=function(a,b,d,g){return{pid:a,mid:b,pack:d,url:g,executed:0,def:0}},ia=function(a,b,g,m,n,f,c,v,p,t){var r,u,w,k;k=/^\./.test(a);
if(/(^\/)|(\:)|(\.js$)/.test(a)||k&&!b)return X(0,a,0,a);a=ka(k?b.mid+"/../"+a:a);if(/^\./.test(a))throw q("irrationalPath",a);t||k||!f.star||(w=ja(a,f.star[1]));!w&&b&&(w=(w=ja(b.mid,f))&&ja(a,w[1]));w&&(a=w[1]+a.substring(w[3]));b=(Y=a.match(/^([^\/]+)(\/(.+))?$/))?Y[1]:"";(r=g[b])?a=b+"/"+(u=Y[3]||r.main):b="";var h=0;d(v,function(b){var d=a.match(b[0]);d&&0<d.length&&(h=e(b[1])?a.replace(b[0],b[1]):b[1])});if(h)return ia(h,0,g,m,n,f,c,v,p);if(g=m[a])return p?X(g.pid,g.mid,g.pack,g.url):m[a];m=
(w=ja(a,c))?w[1]+a.substring(w[3]):b?("/"===r.location.slice(-1)?r.location.slice(0,-1):r.location)+"/"+u:a;/(^\/)|(\:)/.test(m)||(m=n+m);return X(b,a,r,ka(m+".js"))},ea=function(a,b,d){return ia(a,b,I,J,t.baseUrl,H,F,C,void 0,d)};if(!x("foreign-loader"))var la=function(a,b,d){return a.normalize?a.normalize(b,function(a){return qa(a,d)}):qa(b,d)},ra=0,na=function(a,b,d){var g,e;(g=a.match(/^(.+?)\!(.*)$/))?(e=na(g[1],b,d),5!==e.executed||e.load||ya(e),e.load?(g=la(e,g[2],b),a=e.mid+"!"+(e.dynamic?
++ra+"!":"")+g):(g=g[2],a=e.mid+"!"+ ++ra+"!waitingForPlugin"),a={plugin:e,mid:a,req:ca(b),prid:g}):a=ea(a,b);return J[a.mid]||!d&&(J[a.mid]=a)};var qa=t.toAbsMid=function(a,b){return ea(a,b).mid},Da=t.toUrl=function(a,b){b=ea(a+"/x",b);var d=b.url;return Fa(0===b.pid?a:d.substring(0,d.length-5))};if(!x("foreign-loader")){var Ga={injected:2,executed:5,def:3,result:3};P=function(a){return J[a]=m({mid:a},Ga)};var Ma=P("require"),Na=P("exports"),Oa=P("module"),ta={},za=0,ya=function(a){var b=a.result;
a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Pa=function(a){var b={};d(a.loadQ,function(d){var g=la(a,d.prid,d.req.module),e=a.dynamic?d.mid.replace(/waitingForPlugin$/,g):a.mid+"!"+g,g=m(m({},d),{mid:e,prid:g,injected:0});J[e]&&J[e].injected||Ha(J[e]=g);b[d.mid]=J[e];pa(d);delete J[d.mid]});a.loadQ=0;var g=function(a){for(var d=a.deps||[],g=0;g<d.length;g++)(a=b[d[g].mid])&&(d[g]=a)},e;for(e in J)g(J[e]);d(aa,g)},Aa=function(a){t.trace("loader-finish-exec",[a.mid]);a.executed=
5;a.defOrder=za++;a.loadQ&&(ya(a),Pa(a));for(b=0;b<aa.length;)aa[b]===a?aa.splice(b,1):b++;/^require\*/.test(a.mid)&&delete J[a.mid]},Qa=[],wa=function(a,b){if(4===a.executed)return t.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||b?ta:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ta;var d=a.mid,g=a.deps||[],m,n=[],f=0;for(a.executed=4;m=g[f++];){m=m===Ma?ca(a):m===Na?a.cjs.exports:m===Oa?a.cjs:wa(m,b);if(m===ta)return a.executed=0,t.trace("loader-exec-module",
["abort",d]),ta;n.push(m)}t.trace("loader-run-factory",[a.mid]);b=a.def;n=e(b)?b.apply(null,n):b;a.result=void 0===n&&a.cjs?a.cjs.exports:n;Aa(a)}return a.result},sa=0,va=function(a){try{sa++,a()}catch(Ja){throw Ja;}finally{sa--}K()&&E("idle",[])},xa=function(){sa||va(function(){for(var a,b,d=0;d<aa.length;)a=za,b=aa[d],wa(b),a!=za?d=0:d++})}}var Fa="function"==typeof c.fixupUrl?c.fixupUrl:function(a){a+="";return a+(L?(/\?/.test(a)?"\x26":"?")+L:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",
1);var Ha=function(a){var b=a.plugin;5!==b.executed||b.load||ya(b);var d=function(b){a.result=b;pa(a);Aa(a);xa()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],aa.unshift(b),Ea(b))},ua=0,Ra=function(a,b){x("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===ua?ua.call(null):t.eval(a,x("dojo-loader-eval-hint-url")?b.url:b.mid)},Ea=function(a){var b=a.mid,d=a.url;if(!(a.executed||a.injected||fa[b]||a.url&&(a.pack&&fa[a.url]===a.pack||1==fa[a.url])))if(oa(a),a.plugin)Ha(a);
else{var g=function(){Sa(a);if(2!==a.injected){if(x("dojo-enforceDefine")){E("error",q("noDefine",a));return}pa(a);m(a,Ga);t.trace("loader-define-nonmodule",[a.url])}xa()};(ua=N[b]||N["url:"+a.url])?(t.trace("loader-inject",["cache",a.mid,d]),Ra(ua,a),g()):(t.trace("loader-inject",["script",a.mid,d]),t.injectUrl(Fa(d),g,a))}},Ia=function(a,b,d){t.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return E("error",q("multipleDefine",a)),a;m(a,{deps:b,def:d,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var g=0;b[g];g++)b[g]=na(b[g],a);pa(a);e(d)||b.length||(a.result=d,Aa(a));return a},Sa=function(a,b){for(var g=[],e,m;ha.length;)m=ha.shift(),b&&(m[0]=b.shift()),e=m[0]&&na(m[0])||a,g.push([e,m[1],m[2]]);Q(a);d(g,function(a){Z(Ia.apply(null,a))})},La=h,Ka=h;x("dom");if(x("dom")){var Ba=function(a,b,d,g){a.addEventListener(b,g,!1);return function(){a.removeEventListener(b,g,!1)}},Ta=Ba(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=v.readyState&&(v.readyState="complete")}catch(Ua){}Ta()}),U=v.getElementsByTagName("script");for(b=0;!R;)/^dojo/.test((S=U[b++])&&S.type)||(R=S);t.injectUrl=function(a,b,d){d=d.node=v.createElement("script");var g=Ba(d,"load","onreadystatechange",function(a){a=a||window.event;var d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))g(),e(),b&&b()}),e=Ba(d,"error","onerror",function(b){g();e();E("error",q("scriptError: "+a,[a,b]))});d.type="text/javascript";
d.charset="utf-8";d.src=a;R.parentNode.insertBefore(d,R);return d}}t.log=h;t.trace=h;x("foreign-loader")?S=h:(S=function(a,b,d){var g=arguments.length,m=["require","exports","module"],f=[0,a,b];1==g?f=[0,e(a)?m:[],a]:2==g&&n(a)?f=[a,e(b)?m:[],b]:3==g&&(f=[a,b,d]);t.trace("loader-define",f.slice(0,2));(g=f[0]&&na(f[0]))&&!fa[g.mid]?Z(Ia(g,f[1],f[2])):ha.push(f)},S.amd={vendor:"dojotoolkit.org"});m(m(t,a.loaderPatch),c.loaderPatch);z("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+
":",a[b]);console.log(".")}}catch(Ca){}});m(t,{uid:p,cache:N,packs:I});w.define||(w.define=S,w.require=t,x("foreign-loader")||(d(ga,function(a){da(a)}),S=l.deps||c.deps||a.deps,c=l.callback||c.callback||a.callback,t.boot=S||c?[S||[],c]:0))})(function(c){return c.dojoConfig||c.djConfig||c.require||{}},{async:1,baseUrl:"http://localhost/nbd/arcgis_js_v417_api/arcgis_js_api/library/4.17/dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr",
"cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",
name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"esri/Map":function(){define("require exports tslib ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/Logger ./core/accessorSupport/decorators ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q,r){var p=n.getLogger("esri.Map");return function(a){function e(b){b=a.call(this,b)||this;b.basemap=null;b.ground=new h;b._basemapCache=d.createCache();return b}b.__extends(e,
a);e.prototype.destroy=function(){var a,b;this.allLayers.destroy();this.allTables.destroy();null===(a=this.ground)||void 0===a?void 0:a.destroy();null===(b=this.basemap)||void 0===b?void 0:b.destroy();d.destroyCache(this._basemapCache);this._basemapCache=null};Object.defineProperty(e.prototype,"allLayers",{get:function(){return new f({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:function(a){return a.layers}})},enumerable:!1,
configurable:!0});Object.defineProperty(e.prototype,"allTables",{get:function(){return this._createTablesFlattener(this)},enumerable:!1,configurable:!0});e.prototype.castBasemap=function(a){return d.ensureType(a,this._basemapCache)};e.prototype.castGround=function(a){a=m.ensureType(a);return a?a:(p.error("Map.ground may not be set to null or undefined"),this._get("ground"))};e.prototype.findLayerById=function(a){return this.allLayers.find(function(b){return b.id===a})};e.prototype._createTablesFlattener=
function(a){var b=this;return new f({root:a,rootCollectionNames:["tables","layers"],getChildrenFunction:function(a){return a&&"group"===a.type?b._createTablesFlattener(a):null},itemFilterFunction:function(a){return b._isMapOrGroupLayer(a.parent)&&a.parent.tables.includes(a)}})};e.prototype._isMapOrGroupLayer=function(a){return a&&(a===this||this._isGroupLayer(a))};e.prototype._isGroupLayer=function(a){return a&&"group"===a.type};b.__decorate([g.property({readOnly:!0})],e.prototype,"allLayers",null);
b.__decorate([g.property({readOnly:!0})],e.prototype,"allTables",null);b.__decorate([g.property({type:l})],e.prototype,"basemap",void 0);b.__decorate([g.cast("basemap")],e.prototype,"castBasemap",null);b.__decorate([g.property({type:h,nonNullable:!0})],e.prototype,"ground",void 0);b.__decorate([g.cast("ground")],e.prototype,"castGround",null);return e=b.__decorate([g.subclass("esri.Map")],e)}(r.TablesMixin(q.LayersMixin(e.EventedMixin(k))))})},"tslib/tslib":function(){var c,a,b,l,h,k,f,e,n,g,d,m,
q,r,p,t,w,v,u,x,y,z,B;(function(a){function b(a,b){a!==d&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(d,g){return a[d]=b?b(d,g):g}}var d="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(g){a(b(d,b(g)))}):"object"===typeof module&&"object"===typeof module.exports?a(b(d,b(module.exports))):a(b(d))})(function(A){var E=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};c=function(a,b){function d(){this.constructor=a}E(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};a=Object.assign||function(a){for(var b,d=1,g=arguments.length;d<g;d++){b=arguments[d];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};b=function(a,b){var d={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,
g)&&0>b.indexOf(g)&&(d[g]=a[g]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(g=Object.getOwnPropertySymbols(a);e<g.length;e++)0>b.indexOf(g[e])&&Object.prototype.propertyIsEnumerable.call(a,g[e])&&(d[g[e]]=a[g[e]])}return d};l=function(a,b,d,g){var e=arguments.length,m=3>e?b:null===g?g=Object.getOwnPropertyDescriptor(b,d):g,n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)m=Reflect.decorate(a,b,d,g);else for(var f=a.length-1;0<=f;f--)if(n=a[f])m=(3>
e?n(m):3<e?n(b,d,m):n(b,d))||m;return 3<e&&m&&Object.defineProperty(b,d,m),m};h=function(a,b){return function(d,g){b(d,g,a)}};k=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};f=function(a,b,d,g){function e(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,m){function n(a){try{q(g.next(a))}catch(Q){m(Q)}}function f(a){try{q(g["throw"](a))}catch(Q){m(Q)}}function q(a){a.done?d(a.value):e(a.value).then(n,
f)}q((g=g.apply(a,b||[])).next())})};e=function(a,b){function d(a){return function(b){return g([a,b])}}function g(d){if(m)throw new TypeError("Generator is already executing.");for(;e;)try{if(m=1,n&&(f=d[0]&2?n["return"]:d[0]?n["throw"]||((f=n["return"])&&f.call(n),0):n.next)&&!(f=f.call(n,d[1])).done)return f;if(n=0,f)d=[d[0]&2,f.value];switch(d[0]){case 0:case 1:f=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++;n=d[1];d=[0];continue;case 7:d=e.ops.pop();e.trys.pop();continue;
default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!f||d[1]>f[0]&&d[1]<f[3]))e.label=d[1];else if(6===d[0]&&e.label<f[1])e.label=f[1],f=d;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(d);else{f[2]&&e.ops.pop();e.trys.pop();continue}}d=b.call(a,e)}catch(R){d=[6,R],n=0}finally{m=f=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},m,n,f,q;return q={next:d(0),
"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q};B=function(a,b,d,g){void 0===g&&(g=d);a[g]=b[d]};n=function(a,b){for(var d in a)"default"===d||b.hasOwnProperty(d)||(b[d]=a[d])};g=function(a){var b="function"===typeof Symbol&&Symbol.iterator,d=b&&a[b],g=0;if(d)return d.call(a);if(a&&"number"===typeof a.length)return{next:function(){a&&g>=a.length&&(a=void 0);return{value:a&&a[g++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");
};d=function(a,b){var d="function"===typeof Symbol&&a[Symbol.iterator];if(!d)return a;a=d.call(a);var g,e=[],m;try{for(;(void 0===b||0<b--)&&!(g=a.next()).done;)e.push(g.value)}catch(J){m={error:J}}finally{try{g&&!g.done&&(d=a["return"])&&d.call(a)}finally{if(m)throw m.error;}}return e};m=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(d(arguments[b]));return a};q=function(){for(var a=0,b=0,d=arguments.length;b<d;b++)a+=arguments[b].length;for(var a=Array(a),g=0,b=0;b<d;b++)for(var e=
arguments[b],m=0,f=e.length;m<f;m++,g++)a[g]=e[m];return a};r=function(a){return this instanceof r?(this.v=a,this):new r(a)};p=function(a,b,d){function g(a){q[a]&&(c[a]=function(b){return new Promise(function(d,g){1<p.push([a,b,d,g])||e(a,b)})})}function e(a,b){try{var d=q[a](b);d.value instanceof r?Promise.resolve(d.value.v).then(m,f):n(p[0][2],d)}catch(O){n(p[0][3],O)}}function m(a){e("next",a)}function f(a){e("throw",a)}function n(a,b){(a(b),p.shift(),p.length)&&e(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
var q=d.apply(a,b||[]),c,p=[];return c={},g("next"),g("throw"),g("return"),c[Symbol.asyncIterator]=function(){return this},c};t=function(a){function b(b,e){d[b]=a[b]?function(d){return(g=!g)?{value:r(a[b](d)),done:"return"===b}:e?e(d):d}:e}var d,g;return d={},b("next"),b("throw",function(a){throw a;}),b("return"),d[Symbol.iterator]=function(){return this},d};w=function(a){function b(b){m[b]=a[b]&&function(g){return new Promise(function(e,m){g=a[b](g);d(e,m,g.done,g.value)})}}function d(a,b,d,g){Promise.resolve(g).then(function(b){a({value:b,
done:d})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],m;return e?e.call(a):(a="function"===typeof g?g(a):a[Symbol.iterator](),m={},b("next"),b("throw"),b("return"),m[Symbol.asyncIterator]=function(){return this},m)};v=function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};u=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.hasOwnProperty.call(a,d)&&(b[d]=
a[d]);b["default"]=a;return b};x=function(a){return a&&a.__esModule?a:{"default":a}};y=function(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)};z=function(a,b,d){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");b.set(a,d);return d};A("__extends",c);A("__assign",a);A("__rest",b);A("__decorate",l);A("__param",h);A("__metadata",k);A("__awaiter",f);A("__generator",e);A("__exportStar",n);A("__createBinding",B);A("__values",
g);A("__read",d);A("__spread",m);A("__spreadArrays",q);A("__await",r);A("__asyncGenerator",p);A("__asyncDelegator",t);A("__asyncValues",w);A("__makeTemplateObject",v);A("__importStar",u);A("__importDefault",x);A("__classPrivateFieldGet",y);A("__classPrivateFieldSet",z)})},"esri/Basemap":function(){define("require exports tslib ./geometry ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){var x=0,y=d.getLogger("esri.Basemap");return function(a){function d(b){var d=a.call(this,b)||this;d.id=null;d.portalItem=null;d.spatialReference=null;d.thumbnailUrl=null;d.title="Basemap";d.id=Date.now().toString(16)+"-basemap-"+x++;d.baseLayers=new h;d.referenceLayers=new h;var g=function(a){a.parent&&a.parent!==d&&"remove"in a.parent&&a.parent.remove(a);a.parent=d;"elevation"===a.type&&y.error("Layer '"+a.title+", id:"+a.id+"' of type '"+a.type+"' is not supported as a basemap layer and will therefore be ignored.")};
d.baseLayers.on("after-add",function(a){return g(a.item)});d.referenceLayers.on("after-add",function(a){return g(a.item)});d.baseLayers.on("after-remove",function(a){a.item.parent=null});d.referenceLayers.on("after-remove",function(a){a.item.parent=null});return d}b.__extends(d,a);f=d;d.prototype.initialize=function(){var a=this;this.when().catch(function(b){y.error("#load()","Failed to load basemap (title: '"+a.title+"', id: '"+a.id+"')",b)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};
d.prototype.destroy=function(){for(var a,b=0,d=this.baseLayers.removeAll();b<d.length;b++){var g=d[b];g.destroy()}b=0;for(d=this.referenceLayers.removeAll();b<d.length;b++)g=d[b],g.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null===(a=this.portalItem)||void 0===a?void 0:a.destroy();this.portalItem=null};d.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),a=b.__assign({},a),delete a.resourceInfo);return a};Object.defineProperty(d.prototype,
"baseLayers",{set:function(a){this._set("baseLayers",k.referenceSetter(a,this._get("baseLayers")))},enumerable:!1,configurable:!0});d.prototype._writeBaseLayers=function(a,d,g){var e=[];a&&(g=b.__assign(b.__assign({},g),{layerContainerType:"basemap"}),this.baseLayers.forEach(function(a){a=u.getLayerJSON(a,g.webmap?g.webmap.getLayerJSONFromResourceInfo(a):null,g);m.isSome(a)&&e.push(a)}),this.referenceLayers.forEach(function(a){a=u.getLayerJSON(a,g.webmap?g.webmap.getLayerJSONFromResourceInfo(a):null,
g);m.isSome(a)&&(a.isReference=!0,e.push(a))}));d.baseMapLayers=e};Object.defineProperty(d.prototype,"referenceLayers",{set:function(a){this._set("referenceLayers",k.referenceSetter(a,this._get("referenceLayers")))},enumerable:!1,configurable:!0});d.prototype.writeTitle=function(a,b){b.title=a||"Basemap"};d.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return q.resolve(this)};d.prototype.loadAll=function(){var a=this;return g.loadAll(this,function(b){b(a.baseLayers,
a.referenceLayers)})};d.prototype.clone=function(){var a={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(a.loadStatus="loaded");return(new f({resourceInfo:this.resourceInfo})).set(a)};d.prototype.read=function(b,d){this.resourceInfo||this._set("resourceInfo",{data:b,context:d});a.prototype.read.call(this,b,d)};d.prototype.write=function(d,g){d=d||{};g&&g.origin||(g=b.__assign({origin:"web-map"},
g));a.prototype.write.call(this,d,g);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(d.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(function(a){a=e.clone(a);a.url&&r.isProtocolRelative(a.url)&&(a.url="https:"+a.url);a.templateUrl&&r.isProtocolRelative(a.templateUrl)&&(a.templateUrl="https:"+a.templateUrl);return a}));return d};d.prototype._loadFromSource=function(a){return b.__awaiter(this,void 0,void 0,function(){var d,g,e,m,f,n,c=this;return b.__generator(this,
function(b){switch(b.label){case 0:return d=this,g=d.resourceInfo,e=d.portalItem,q.throwIfAborted(a),m=[],g?(f=g.context?g.context.url:null,m.push(this._loadLayersFromJSON(g.data,f,a)),g.data.id&&!g.data.title&&(n=g.data.id,m.push(v.getBasemapTitle(n).then(function(a){a&&c.read({title:a},g.context)})))):e&&m.push(this._loadFromItem(e,a)),[4,q.all(m)];case 1:return b.sent(),[2]}})})};d.prototype._loadLayersFromJSON=function(a,d,g){return b.__awaiter(this,void 0,void 0,function(){var e,m,f,n,p,v,t,
r;return b.__generator(this,function(b){switch(b.label){case 0:return e=this.resourceInfo&&this.resourceInfo.context,m=this.portalItem&&this.portalItem.portal||e&&e.portal||null,f=e&&"web-scene"===e.origin?"web-scene":"web-map",[4,new Promise(function(a,b){c(["./portal/support/layersCreator"],a,b)})];case 1:return n=b.sent(),p=[],q.throwIfAborted(g),a.baseMapLayers&&Array.isArray(a.baseMapLayers)&&(v={context:{origin:f,url:d,portal:m,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},
t=n.populateOperationalLayers(this.baseLayers,a.baseMapLayers.filter(function(a){return!a.isReference}),v),p.push(t),r=n.populateOperationalLayers(this.referenceLayers,a.baseMapLayers.filter(function(a){return a.isReference}),v),p.push(r)),[4,q.eachAlways(p)];case 2:return b.sent(),[2]}})})};d.prototype._loadFromItem=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var g,e,m;return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load(d)];case 1:return g=b.sent(),[4,
g.fetchData("json",d)];case 2:return e=b.sent(),m=r.urlToObject(a.itemUrl),this._set("resourceInfo",{data:e.baseMap,context:{origin:"web-map",portal:a.portal||t.getDefault(),url:m}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:e.spatialReference},this.resourceInfo.context),this.read({title:a.title,thumbnailUrl:a.thumbnailUrl},{origin:"portal-item",portal:a.portal||t.getDefault(),url:m}),[2,this._loadLayersFromJSON(this.resourceInfo.data,m,d)]}})})};d.fromId=
function(a){return(a=v.esriBasemapDefinitions[a])?f.fromJSON(a):null};var f;b.__decorate([p.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer:function(a,b,d,g){this._writeBaseLayers(a,b,g)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:h}},writer:function(a,b,d,g){this._writeBaseLayers(a,b,g)}}}}}})],d.prototype,"baseLayers",null);b.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],d.prototype,"id",void 0);b.__decorate([p.property({type:w})],
d.prototype,"portalItem",void 0);b.__decorate([p.property()],d.prototype,"referenceLayers",null);b.__decorate([p.property({readOnly:!0})],d.prototype,"resourceInfo",void 0);b.__decorate([p.property({type:l.SpatialReference})],d.prototype,"spatialReference",void 0);b.__decorate([p.property()],d.prototype,"thumbnailUrl",void 0);b.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],d.prototype,"title",void 0);b.__decorate([p.writer("title")],d.prototype,"writeTitle",
null);return d=f=b.__decorate([p.subclass("esri.Basemap")],d)}(f.JSONSupportMixin(n))})},"esri/geometry":function(){define("require exports tslib ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q){Object.defineProperty(a,"__esModule",{value:!0});a.ensureType=a.geometryTypes=
a.isGeometry=a.SpatialReference=a.Polyline=a.Polygon=a.Point=a.Multipoint=a.BaseGeometry=a.Extent=void 0;a.Extent=h;a.BaseGeometry=k;a.Multipoint=f;a.Point=e;a.Polygon=n;a.Polyline=g;a.SpatialReference=d;b.__exportStar(m,a);a.isGeometry=function(a){return a instanceof k};Object.defineProperty(a,"fromJSON",{enumerable:!0,get:function(){return q.fromJSON}});a.geometryTypes={base:k,key:"type",typeMap:{extent:h,multipoint:f,point:e,polyline:g,polygon:n}};a.ensureType=l.ensureOneOfType(a.geometryTypes)})},
"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(c,a,b,l){function h(a){return null==a?a:new Date(a)}function k(a){return null==a?a:!!a}function f(a){return null==a?a:a.toString()}function e(a){if(null==a)return a;a=parseFloat(a);return isNaN(a)?0:a}function n(a){return null==a?a:Math.round(parseFloat(a))}function g(a){return a&&a.constructor&&void 0!==a.constructor.__accessorMetadata__}function d(a,b){return null!=b&&a&&!(b instanceof
a)}function m(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function q(a,b){var d;(d=!b||!b.constructor)||(d=b.constructor,d=!(d&&"isCollection"in d));if(d)return r(a,b)?b:new a(b);d=m(a.prototype.itemType);var g=m(b.constructor.prototype.itemType);if(!d)return b;if(!g)return new a(b);if(d===g)return b;if(d.prototype.isPrototypeOf(g.prototype))return new a(b);r(a,b);return b}function r(a,b){return g(b)?(F.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||
"unknown")+"' which is not a subclass of '"+t(a)+"'"),!0):!1}function p(a,b){return null==b?b:a&&"isCollection"in a?q(a,b):d(a,b)?r(a,b)?b:new a(b):b}function t(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function w(a){switch(a){case Number:return e;case I:return n;case Boolean:return k;case String:return f;case Date:return h;default:return p.bind(null,a)}}function v(a,b){var d=w(a);return 1===arguments.length?d:d(b)}function u(a,b,d){return 1===arguments.length?u.bind(null,a):
b?Array.isArray(b)?b.map(function(b){return a(b,d)}):[a(b,d)]:b}function x(a,b,d){return 0!==b&&Array.isArray(d)?d.map(function(d){return x(a,b-1,d)}):a(d)}function y(a,b,d){if(2===arguments.length)return y.bind(null,a,b);if(!d)return d;d=x(a,b,d);for(var g=b,e=d;0<g&&Array.isArray(e);)g--,e=e[0];if(void 0!==e)for(e=0;e<g;e++)d=[d];return d}function z(a,b){if(2===arguments.length)return z(a).call(null,b);for(var g=new Set,e=a.filter(function(a){return"function"!==typeof a}),m=a.filter(function(a){return"function"===
typeof a}),f=0;f<a.length;f++){var n=a[f];"string"!==typeof n&&"number"!==typeof n||g.add(n)}var q=null,c=null;return function(a,b){if(null==a)return a;var f=typeof a,n="string"===f||"number"===f;if(n&&(g.has(a)||m.some(function(a){return"string"===f&&a===String||"number"===f&&a===Number}))||"object"===f&&m.some(function(b){return!d(a,b)}))return a;n&&e.length?(q||(q=e.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),F.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+
q)):"object"===typeof a&&m.length?(c||(c=m.map(function(a){return t(a)}).join(", ")),F.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+c)):F.error("Accessor#set","'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function B(a,b){if(2===arguments.length)return B(a).call(null,b);var e={},m=[],f=[],n;for(n in a.typeMap){var q=a.typeMap[n];e[n]=v(q);m.push(t(q));f.push(n)}var c="string"===typeof a.key?function(b){return b[a.key]}:
a.key;return function(b){if(a.base&&!d(a.base,b)||null==b)return b;var n=c(b)||a.defaultKeyValue,q=e[n];if(!q)return F.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+m.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+f.join("', '")+"'")+")"),null;if(!d(a.typeMap[n],b))return b;if("string"===typeof a.key&&!g(b)){var n={},p;for(p in b)p!==a.key&&(n[p]=b[p]);return q(n)}return q(b)}}function A(a){switch(a.type){case "native":return v(a.value);
case "array":return u(A(a.value));case "one-of":return E(a);default:return b.neverReached(a),null}}function E(a){var b=null;return function(d,g){if(D(d,a))return d;null==b&&(b=C(a));F.error("Accessor#set","Invalid property value, value needs to be of type "+b);g&&(g.valid=!1);return null}}function C(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case I:return"integer";case Date:return"date";default:return t(a.value)}case "array":return"array of "+
C(a.value);case "one-of":return a=a.values.map(function(a){return C(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:b.neverReached(a)}return"unknown"}function D(a,b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case I:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!D(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return D(a,
b)})}}Object.defineProperty(a,"__esModule",{value:!0});a.ensureLongFormType=a.isLongFormType=a.types=a.Integer=a.ensureOneOfType=a.ensureOneOf=a.isOneOf=a.ensureNArray=a.ensureNArrayTyped=a.ensureArray=a.ensureArrayTyped=a.ensureType=a.ensureClass=a.requiresType=a.isClassedType=a.ensureInteger=a.ensureNumber=a.ensureString=a.ensureBoolean=a.ensureDate=void 0;var F=l.getLogger("esri.core.Accessor");a.ensureDate=h;a.ensureBoolean=k;a.ensureString=f;a.ensureNumber=e;a.ensureInteger=n;a.isClassedType=
g;a.requiresType=d;a.ensureClass=p;a.ensureType=v;a.ensureArrayTyped=u;a.ensureArray=function(a,b){return 1===arguments.length?u(v.bind(null,a)):u(v.bind(null,a),b)};a.ensureNArrayTyped=y;a.ensureNArray=function(a,b,d){return 2===arguments.length?y(v.bind(null,a),b):y(v.bind(null,a),b,d)};a.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};a.ensureOneOf=z;a.ensureOneOfType=B;var I=function(){return function(){}}();
a.Integer=I;a.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};a.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:b.neverReachedSilent(a)}return!1};a.ensureLongFormType=A;a.default=v})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});
a.tuple=a.typeCast=a.neverReachedSilent=a.neverReached=void 0;a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/core/has":function(){define("require exports tslib ../config ./global ../views/webgl/context-util".split(" "),function(c,a,b,l,h,k){function f(a){return"function"===typeof m[a]?m[a]=m[a](h):m[a]}function e(){if(q)return q;q={available:!1,
majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return q;var b=k.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!b&&(b=k.createContext(a,{},"webgl"))&&(q.majorPerformanceCaveat=!0);if(!b)return q;a=b.getParameter(b.VERSION);if(!a)return q;
if(a=a.match(/^WebGL\s+([\d.]*)/)){q.version=parseFloat(a[1]);q.available=.94<=q.version;if(a=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT))q.supportsHighPrecisionFragment=0<a.precision;q.supportsVertexShaderSamplers=0<b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS);q.supportsElementIndexUint=null!==b.getExtension("OES_element_index_uint");q.supportsStandardDerivatives=null!==b.getExtension("OES_standard_derivatives");q.supportsInstancedArrays=null!==b.getExtension("ANGLE_instanced_arrays");
q.supportsTextureFloat=null!==b.getExtension("OES_texture_float");q.supportsColorBufferFloat=null!==b.getExtension("WEBGL_color_buffer_float")}q.maxTextureSize=b.getParameter(b.MAX_TEXTURE_SIZE);return q}function n(){if(r)return r;r={available:!1,version:0};var a=document.createElement("canvas");if(!a)return r;a=k.createContext(a,{},"webgl2");if(!a)return r;r.available=!0;a=a.getParameter(a.VERSION);if(!a)return r;if(a=a.match(/^WebGL\s+([\d.]*)/))r.version=parseFloat(a[1]);return r}var g,d,m;l.has||
(null===(g=h.dojoConfig)||void 0===g?0:g.has)?(m=b.__assign(b.__assign({},null===(d=h.dojoConfig)||void 0===d?void 0:d.has),l.has),delete l.has):m={};f.add=function(a,b,d,g){if(g||"undefined"===typeof m[a])m[a]=b;return d&&f(a)};f.cache=m;(function(){f.add("host-webworker","undefined"!==typeof h.WorkerGlobalScope&&self instanceof h.WorkerGlobalScope);var a="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;
f.add("host-browser",a);f.add("dom",a);if(f("host-browser")){var b=navigator,a=b.userAgent,b=b.appVersion,d=parseFloat(b);f.add("edge",parseFloat(a.split("Edge/")[1])||void 0);f.add("webkit",!f("edge")&&parseFloat(a.split("WebKit/")[1])||void 0);f.add("chrome",!f("edge")&&!0&&parseFloat(a.split("Chrome/")[1])||void 0);f.add("safari",0<=b.indexOf("Safari")&&!f("chrome")&&!f("edge")?parseFloat(b.split("Version/")[1]):void 0);f.add("mac",0<=b.indexOf("Macintosh"));if(a.match(/(iPhone|iPod|iPad)/)){var g=
RegExp.$1.replace(/P/,"p"),e=a.match(/OS ([\d_]+)/)?RegExp.$1:"1",e=parseFloat(e.replace(/_/,".").replace(/_/g,""));f.add(g,e);f.add("ios",e)}f.add("trident",parseFloat(b.split("Trident/")[1])||void 0);f("webkit")||(0<=a.indexOf("Opera")&&f.add("opera",9.8<=d?parseFloat(a.split("Version/")[1])||d:d),0<=a.indexOf("Gecko")&&!f("trident")&&!f("edge")&&f.add("mozilla",d),f("mozilla")&&f.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0))}})();f.add("esri-deprecation-warnings",
!0);(function(){if(h.navigator){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&f.add("esri-mobile",b);a&&f.add("esri-iPhone",a);f.add("esri-geolocation",!!navigator.geolocation)}f.add("esri-canvas-svg-support",!f("trident"));f.add("esri-secure-context",function(){if("isSecureContext"in h)return h.isSecureContext;if(h.location&&h.location.origin)return 0===h.location.origin.indexOf("https:")});f.add("esri-wasm","WebAssembly"in
h);f.add("esri-shared-array-buffer",function(){var a=!1===h.crossOriginIsolated;return"SharedArrayBuffer"in h&&!a});f.add("esri-atomics","Atomics"in h);f.add("esri-workers","Worker"in h);f.add("esri-text-decoder","TextDecoder"in h);f.add("esri-text-encoder","TextEncoder"in h);f.add("featurelayer-advanced-symbols",!1);f.add("featurelayer-pbf",!1);f.add("feature-layers-workers",!0);f.add("mapview-transitions-duration",200);f("host-webworker")||(f.add("esri-abortable-fetch","fetch"in h&&"signal"in new Request("https://www.arcgis.com")),
f.add("csp-restrictions",function(){try{new Function}catch(w){return!0}return!1}),f.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){f.add("esri-image-decode",!0,!0,!0)}).catch(function(){f.add("esri-image-decode",!1,!0,!0)})}else return!1}),f.add("esri-url-encodes-apostrophe",function(){var a=h.document.createElement("a");
a.href="?'";return-1<a.href.indexOf("?%27")}),f.add("esri-webgl",function(){return e().available}),f.add("esri-webgl-high-precision-fragment",function(){return e().supportsHighPrecisionFragment}),f.add("esri-webgl-vertex-shader-samplers",function(){return e().supportsVertexShaderSamplers}),f.add("esri-webgl-element-index-uint",function(){return e().supportsElementIndexUint}),f.add("esri-webgl-standard-derivatives",function(){return e().supportsStandardDerivatives}),f.add("esri-webgl-texture-float",
function(){return e().supportsTextureFloat}),f.add("esri-webgl-color-buffer-float",function(){return e().supportsColorBufferFloat}),f.add("esri-webgl-instanced-arrays",function(){return e().supportsInstancedArrays}),f.add("esri-webgl-major-performance-caveat",function(){return e().majorPerformanceCaveat}),f.add("esri-featurelayer-webgl",!0),f.add("esri-featurelayer-webgl-labeling",!0),f.add("esri-webgl2",function(){return n().available}),f.add("esri-webgl-max-texture-size",function(){return e().maxTextureSize}))})();
var q=null,r=null;return f})},"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(c,a,b,l,h){b.add("postmessage",!1,!0);c={applicationUrl:l.location&&l.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",
portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};l.esriConfig&&h.deepMerge(c,l.esriConfig,!0);c.request.corsEnabledServers=
[];c.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return c})},"@dojo/framework/has/has":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],c)})(function(c,a){function b(b){b=
b.toLowerCase();return!!(b in e||b in a.testCache||a.testFunctions[b])}function l(g,d,m){void 0===m&&(m=!1);var f=g.toLowerCase();if(b(f)&&!m&&!(f in e))throw new TypeError('Feature "'+g+'" exists and overwrite not true.');"function"===typeof d?a.testFunctions[f]=d:(a.testCache[f]=d,delete a.testFunctions[f])}function h(b){var d=b.toLowerCase();if(d in e)b=e[d];else if(a.testFunctions[d])b=a.testCache[d]=a.testFunctions[d].call(null),delete a.testFunctions[d];else if(d in a.testCache)b=a.testCache[d];
else throw new TypeError('Attempt to detect unregistered has feature "'+b+'"');return b}Object.defineProperty(a,"__esModule",{value:!0});var k=c("tslib"),f=c("../shim/global");a.testCache={};a.testFunctions={};c=(f.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in f.default&&delete f.default.DojoHasEnvironment;var e=c?"function"===typeof c?c.apply(f.default):c:{};a.load=function(a,b,e,f){a?b([a],e):e()};a.normalize=function(a,b){function d(a){var b=g[e++];if(":"===b)return null;
if("?"===g[e++]){if(!a&&h(b))return d();d(!0);return d(a)}return b}var g=a.match(/[\?:]|[^:\?]*/g)||[],e=0;return(a=d())&&b(a)};a.exists=b;a.add=l;a.default=h;l("public-path",void 0);l("dojo-debug",!1);l("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);l("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});l("fetch","fetch"in f.default&&"function"===typeof f.default.fetch,!0);l("es6-array",function(){return["from",
"of"].every(function(a){return a in f.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in f.default.Array.prototype})},!0);l("es6-array-fill",function(){return"fill"in f.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);l("es7-array",function(){return"includes"in f.default.Array.prototype},!0);l("es6-map",function(){if("function"===typeof f.default.Map)try{var a=new f.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&h("es6-symbol")&&
"function"===typeof a.values&&"function"===typeof a.entries}catch(d){}return!1},!0);l("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof f.default.Math[a]})},!0);l("es6-math-imul",function(){return"imul"in f.default.Math?-5===Math.imul(4294967295,5):!1},!0);l("es6-object",function(){return h("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===
typeof f.default.Object[a]})},!0);l("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof f.default.Object[a]})},!0);l("es-observable",function(){return"undefined"!==typeof f.default.Observable},!0);l("es6-promise",function(){return"undefined"!==typeof f.default.Promise&&h("es6-symbol")},!0);l("es2018-promise-finally",function(){return h("es6-promise")&&"undefined"!==typeof f.default.Promise.prototype.finally},!0);l("es6-set",
function(){if("function"===typeof f.default.Set){var a=new f.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&h("es6-symbol")}return!1},!0);l("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof f.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof f.default.String.prototype[a]})},!0);l("es6-string-raw",function(){function a(a){for(var b=1;b<arguments.length;b++);
b=k.__spread(a);b.raw=a.raw;return b}if("raw"in f.default.String){var b=a(n||(n=k.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];return"a\\n"===f.default.String.raw(b,42)}return!1},!0);l("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof f.default.String.prototype[a]})},!0);l("es6-symbol",function(){return"undefined"!==typeof f.default.Symbol&&"symbol"===typeof Symbol()},!0);l("es6-weakmap",function(){if("undefined"!==typeof f.default.WeakMap){var a=
{},b={},e=new f.default.WeakMap([[a,1]]);Object.freeze(a);return 1===e.get(a)&&e.set(b,2)===e&&h("es6-symbol")}return!1},!0);l("microtasks",function(){return h("es6-promise")||0||h("dom-mutationobserver")},!0);l("postmessage",function(){return"undefined"!==typeof f.default.window&&"function"===typeof f.default.postMessage},!0);l("raf",function(){return"function"===typeof f.default.requestAnimationFrame},!0);l("setimmediate",function(){return"undefined"!==typeof f.default.setImmediate},!0);l("dom-mutationobserver",
function(){if(h("host-browser")&&(f.default.MutationObserver||f.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (f.default.MutationObserver||f.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);l("dom-webanimation",function(){return h("host-browser")&&void 0!==f.default.Animation&&void 0!==f.default.KeyframeEffect},!0);l("abort-controller",function(){return"undefined"!==
typeof f.default.AbortController});l("abort-signal",function(){return"undefined"!==typeof f.default.AbortSignal});l("dom-intersection-observer",function(){return h("host-browser")&&void 0!==f.default.IntersectionObserver},!0);l("dom-resize-observer",function(){return h("host-browser")&&void 0!==f.default.ResizeObserver},!0);l("dom-pointer-events",function(){return h("host-browser")&&void 0!==f.default.onpointerdown},!0);l("build-elide",!1);var n})},"@dojo/framework/shim/global":function(){(function(c){"object"===
typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});c=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=c})},"esri/core/global":function(){define(["require","exports"],function(c,a){var b;c=function(){if("undefined"!==
typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();if(null===(b=null===c||void 0===c?void 0:c.performance)||void 0===b||!b.now){var l=c.performance=c.performance||{};if(l.webkitNow)l.now=function(){return l.webkitNow()};else if(l.mozNow)l.now=function(){return l.mozNow()};else if(l.msNow)l.now=function(){return l.msNow()};else if(l.oNow)l.now=function(){return l.oNow()};else{var h;
h=l.timing&&l.timing.navigationStart?l.timing.navigationStart:Date.now();l.now=function(){return Date.now()-h}}}return c})},"esri/core/object":function(){define(["require","exports","./lang"],function(c,a,b){function l(a,b,e){for(var f=0;f<a.length;f++){var g=a[f];if(null==e)return;if(!(g in e))if(b)e[g]={};else return;e=e[g]}return e}function h(a,f,e){return f?Object.keys(f).reduce(function(a,g){var d=a[g],m=f[g];if(d===m)return a;if(void 0===d)return a[g]=b.clone(m),a;if(Array.isArray(m)||Array.isArray(a))d=
d?Array.isArray(d)?a[g]=d.concat():a[g]=[d]:a[g]=[],m&&(Array.isArray(m)||(m=[m]),e?m.forEach(function(a){-1===d.indexOf(a)&&d.push(a)}):a[g]=m.concat());else if(m&&"object"===typeof m)a[g]=h(d,m,e);else if(!a.hasOwnProperty(g)||f.hasOwnProperty(g))a[g]=m;return a},a||{}):a}Object.defineProperty(a,"__esModule",{value:!0});a.setDeepValue=a.getDeepValue=a.deepMerge=void 0;a.deepMerge=function(a,b,e){void 0===e&&(e=!1);return h(a,b,e)};a.getDeepValue=function(a,b){if(null!=b)return b[a]||l(a.split("."),
!1,b)};a.setDeepValue=function(a,b,e){var f=a.split(".");a=f.pop();(e=l(f,!0,e))&&a&&(e[a]=b)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(c,a,b){function l(a,b){var e;if(b)for(e in a)a.hasOwnProperty(e)&&(void 0===a[e]?delete a[e]:a[e]instanceof Object&&l(a[e],!0));else for(e in a)a.hasOwnProperty(e)&&void 0===a[e]&&delete a[e];return a}function h(a){if(!a||"object"!==typeof a||"function"===typeof a)return a;if(b.isInt8Array(a)||b.isUint8Array(a)||b.isUint8ClampedArray(a)||
b.isInt16Array(a)||b.isUint16Array(a)||b.isInt32Array(a)||b.isUint32Array(a)||b.isFloat32Array(a)||b.isFloat64Array(a))return b.slice(a);if(a instanceof Date)return new Date(a.getTime());if(a instanceof ArrayBuffer)return a.slice(0,a.byteLength);if(a instanceof Map){var e=new Map;a.forEach(function(a,b){e.set(b,h(a))});return e}if(a instanceof Set){var n=new Set;a.forEach(function(a){n.add(h(a))});return n}return"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?
a.map(h):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():k({},a,h)}function k(a,b,n){var g,d,e={};for(g in b){d=b[g];var f=!(g in e)||e[g]!==d;if(!(g in a)||a[g]!==d&&f)a[g]=n?n(d):d}return a}Object.defineProperty(a,"__esModule",{value:!0});a.mixin=a.equals=a.clone=a.fixJson=void 0;a.fixJson=l;a.clone=h;a.equals=function(a,b){return a===b||"number"===typeof a&&isNaN(a)&&"number"===typeof b&&isNaN(b)||"function"===typeof(a||{}).getTime&&"function"===typeof(b||{}).getTime&&
a.getTime()===b.getTime()||!1};a.mixin=function(a){void 0===a&&(a={});for(var b=[],n=1;n<arguments.length;n++)b[n-1]=arguments[n];for(n=0;n<b.length;n++)k(a,b[n]);return a}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.estimateSize=a.toArray=a.isFloat64Array=a.isFloat32Array=a.isUint32Array=a.isInt32Array=a.isUint16Array=a.isInt16Array=a.isUint8ClampedArray=a.isUint8Array=a.isInt8Array=a.isArrayBuffer=a.slice=
a.forEach=void 0;a.forEach=function(a,c){if(a.forEach)a.forEach(c);else for(var b=0;b<a.length;b++)c(a[b],b,a)};a.slice=function(a,c,h){if(a.slice)return a.slice(c,h);void 0===c?c=0:(0>c&&(c+=a.length),c=Math.min(a.length,Math.max(0,c)));void 0===h?h=a.length:(0>h&&(h+=a.length),h=Math.min(a.length,Math.max(0,h)));h=Math.max(0,h-c);for(var b=new a.constructor(h),f=0;f<h;f++)b[f]=a[c+f];return b};a.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};
a.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};a.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};a.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};a.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};a.isUint16Array=function(a){return a instanceof
Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};a.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};a.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};a.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};a.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===
a.constructor.name};a.toArray=function(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b};a.estimateSize=function(a){return a?128+a.buffer.byteLength+64:0}})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(c,a){function b(a,b,n){void 0===b&&(b={});var g;switch(n){case "webgl":g=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":g=["webgl2"];break;default:g=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}n=null;for(var d=
0;d<g.length;d++){var e=g[d];try{n=a.getContext(e,b)}catch(q){}if(n)break}return n}function l(a,b){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(a,"__esModule",{value:!0});a.createContext=a.createContextOrErrorHTML=void 0;
a.createContextOrErrorHTML=function(a,e,n){void 0===e&&(e={});if(!window.WebGLRenderingContext)return l(a,h),null;e=b(a,e,n);return e?e:(l(a,k),null)};a.createContext=b;var h='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',k='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},"esri/core/Logger":function(){define("require exports tslib ../config ./has ./maybe ./string @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f){var e={info:0,warn:1,error:2,none:3};return function(){function a(b){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=b.level&&(this.level=b.level);null!=b.writer&&(this.writer=b.writer);this._module=b.module;a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this._parent=a.getLogger(this.module.slice(0,b)))}Object.defineProperty(a.prototype,"module",{get:function(){return this._module},
enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0});a.prototype.error=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["error","always"],a))};a.prototype.warn=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["warn","always"],a))};a.prototype.info=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=
arguments[d];this._log.apply(this,b.__spreadArrays(["info","always"],a))};a.prototype.errorOnce=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["error","once"],a))};a.prototype.warnOnce=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["warn","once"],a))};a.prototype.infoOnce=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["info",
"once"],a))};a.prototype.errorOncePerTick=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["error","oncePerTick"],a))};a.prototype.warnOncePerTick=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["warn","oncePerTick"],a))};a.prototype.infoOncePerTick=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._log.apply(this,b.__spreadArrays(["info","oncePerTick"],a))};
Object.defineProperty(a,"test",{get:function(){return{resetLoggers:function(b){void 0===b&&(b={});var d=a._loggers;a._loggers=b;return d},set throttlingDisabled(b){a._throttlingDisabled=b}}},enumerable:!1,configurable:!0});a.getLogger=function(b){var d=a._loggers[b];d||(d=new a({module:b}));return d};a.prototype._log=function(g,d){for(var e=[],f=2;f<arguments.length;f++)e[f-2]=arguments[f];if(this._matchLevel(g)){if("always"!==d&&!a._throttlingDisabled){var f=this._argsToKey(e),n=this._loggedMessages[g].get(f);
if("once"===d&&null!=n||"oncePerTick"===d&&n&&n>=a._tickCounter)return;this._loggedMessages[g].set(f,a._tickCounter);a._scheduleTickCounterIncrement()}f=0;for(n=l.log.interceptors;f<n.length;f++)if(n[f].apply(void 0,b.__spreadArrays([g,this.module],e)))return;this._inheritedWriter().apply(void 0,b.__spreadArrays([g,this.module],e))}};a.prototype._parentWithMember=function(a,b){for(var d=this;k.isSome(d);){var g=d[a];if(k.isSome(g))return g;d=d.parent}return b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",
this._consoleWriter)};a.prototype._consoleWriter=function(a,d){for(var g=[],e=2;e<arguments.length;e++)g[e-2]=arguments[e];console[a].apply(console,b.__spreadArrays(["["+d+"]"],g))};a.prototype._matchLevel=function(a){return e[this._parentWithMember("level",l.log.level?l.log.level:"warn")]<=e[a]};a.prototype._argsToKey=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return f.numericHash(JSON.stringify(a,function(a,b){return"object"!==typeof b||Array.isArray(b)?b:"[Object]"}))};
a._scheduleTickCounterIncrement=function(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then(function(){a._tickCounter++;a._tickCounterScheduled=!1}))};a._loggers={};a._tickCounter=0;a._tickCounterScheduled=!1;a._throttlingDisabled=!1;return a}()})},"esri/core/maybe":function(){define(["require","exports"],function(c,a){function b(a,b,c){return null!=a?c(a):b}Object.defineProperty(a,"__esModule",{value:!0});a.assumeNonNull=a.get=a.mapSomeFirst=a.andThen=a.mapOr=a.forEachSome=
a.mapMany=a.mapSome=a.nullifyNonnullableForDispose=a.removeMaybe=a.disposeMaybe=a.destroyMaybe=a.unwrapOr=a.unwrap=a.applySome=a.isUndefined=a.isNone=a.isSome=a.none=void 0;a.none=null;a.isSome=function(a){return null!=a};a.isNone=function(a){return null==a};a.isUndefined=function(a){return void 0===a};a.applySome=function(a,b){return null!=a?b(a):null};a.unwrap=function(a){return a};a.unwrapOr=function(a,b){return null!=a?a:"function"===typeof b?b():b};a.destroyMaybe=function(a){null!=a&&a.destroy();
return null};a.disposeMaybe=function(a){null!=a&&a.dispose();return null};a.removeMaybe=function(a){null!=a&&a.remove();return null};a.nullifyNonnullableForDispose=function(a){return null};a.mapSome=function(a,b){var c=[];a.forEach(function(a){a=b(a);null!=a&&c.push(a)});return c};a.mapMany=function(a,c){for(var k=[],f=0;f<a.length;f++)k.push(b(a[f],null,c));return k};a.forEachSome=function(a,c){for(var k=0;k<a.length;k++)b(a[k],null,c)};a.mapOr=b;a.andThen=function(a,b){return null!=a?b(a):null};
a.mapSomeFirst=function(a,b){for(var c=0;c<a.length;c++){var f=b(a[c]);if(null!=f)return f}return null};a.get=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var c=a,f=0;f<b.length&&c;)c=c[b[f++]];return c};a.assumeNonNull=function(a){return a}})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(c,a,b,l){function h(a){return null==a?"":a}Object.defineProperty(a,"__esModule",{value:!0});a.numericHash=a.escapeRegExpString=
a.replace=void 0;var k=/\{([^\}]+)\}/g;Object.defineProperty(a,"endsWith",{enumerable:!0,get:function(){return l.endsWith}});Object.defineProperty(a,"startsWith",{enumerable:!0,get:function(){return l.startsWith}});Object.defineProperty(a,"padEnd",{enumerable:!0,get:function(){return l.padEnd}});Object.defineProperty(a,"padStart",{enumerable:!0,get:function(){return l.padStart}});Object.defineProperty(a,"includes",{enumerable:!0,get:function(){return l.includes}});a.replace=function(a,e){return a.replace(k,
"object"===typeof e?function(a,g){return h(b.getDeepValue(g,e))}:function(a,b){return h(e(b))})};a.escapeRegExpString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!==b.indexOf(a)?a:"\\"+a})};a.numericHash=function(a){for(var b=0,f=0;f<a.length;f++)b=(b<<5)-b+a.charCodeAt(f),b|=0;return b}})},"@dojo/framework/shim/string":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):
"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});var b=c("tslib"),l=c("./global"),h=c("../has/has");c=c("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=56320;a.LOW_SURROGATE_MAX=57343;if(h.default("es6-string")&&h.default("es6-string-raw"))a.fromCodePoint=l.default.String.fromCodePoint,a.raw=l.default.String.raw,a.codePointAt=
c.wrapNative(l.default.String.prototype.codePointAt),a.endsWith=c.wrapNative(l.default.String.prototype.endsWith),a.includes=c.wrapNative(l.default.String.prototype.includes),a.normalize=c.wrapNative(l.default.String.prototype.normalize),a.repeat=c.wrapNative(l.default.String.prototype.repeat),a.startsWith=c.wrapNative(l.default.String.prototype.startsWith);else{var k=function(a,b,n,g,d){void 0===d&&(d=!1);if(null==b)throw new TypeError("string."+a+" requires a valid string to search against.");a=
b.length;return[b,String(n),Math.min(Math.max(g!==g?d?a:0:g,0),a)]};a.fromCodePoint=function(){for(var b=0;b<arguments.length;b++);b=arguments.length;if(!b)return"";for(var e=String.fromCharCode,n=[],g=-1,d="";++g<b;){var m=Number(arguments[g]);if(!(isFinite(m)&&Math.floor(m)===m&&0<=m&&1114111>=m))throw RangeError("string.fromCodePoint: Invalid code point "+m);65535>=m?n.push(m):(m-=65536,n.push((m>>10)+a.HIGH_SURROGATE_MIN,m%1024+a.LOW_SURROGATE_MIN));if(g+1===b||16384<n.length)d+=e.apply(null,
n),n.length=0}return d};a.raw=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];var f=a.raw,g="",d=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var m=0,c=f.length;m<c;m++)g+=f[m]+(m<d&&m<c-1?b[m]:"");return g};a.codePointAt=function(b,e){void 0===e&&(e=0);if(null==b)throw new TypeError("string.codePointAt requries a valid string.");var f=b.length;e!==e&&(e=0);if(!(0>e||e>=f)){var g=b.charCodeAt(e);return g>=
a.HIGH_SURROGATE_MIN&&g<=a.HIGH_SURROGATE_MAX&&f>e+1&&(b=b.charCodeAt(e+1),b>=a.LOW_SURROGATE_MIN&&b<=a.LOW_SURROGATE_MAX)?1024*(g-a.HIGH_SURROGATE_MIN)+b-a.LOW_SURROGATE_MIN+65536:g}};a.endsWith=function(a,e,n){if(""===e)return!0;if("undefined"===typeof n)n=a.length;else if(null===n||isNaN(n))return!1;n=b.__read(k("endsWith",a,e,n,!0),3);a=n[0];e=n[1];n=n[2];var g=n-e.length;return 0>g?!1:a.slice(g,n)===e};a.includes=function(a,e,n){void 0===n&&(n=0);n=b.__read(k("includes",a,e,n),3);a=n[0];e=n[1];
n=n[2];return-1!==a.indexOf(e,n)};a.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var e="";b;)b%2&&(e+=a),1<b&&(a+=a),b>>=1;return e};a.startsWith=function(a,e,n){void 0===n&&(n=0);e=String(e);n=b.__read(k("startsWith",a,e,n),3);a=n[0];e=n[1];n=n[2];var g=n+e.length;return g>a.length?!1:a.slice(n,g)===e}}h.default("es2017-string")?
(a.padEnd=c.wrapNative(l.default.String.prototype.padEnd),a.padStart=c.wrapNative(l.default.String.prototype.padStart)):(a.padEnd=function(b,e,n){void 0===n&&(n=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;b=String(b);e-=b.length;0<e&&(b+=a.repeat(n,Math.floor(e/n.length))+n.slice(0,e%n.length));return b},a.padStart=function(b,e,
n){void 0===n&&(n=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;b=String(b);e-=b.length;0<e&&(b=a.repeat(n,Math.floor(e/n.length))+n.slice(0,e%n.length)+b);return b})})},"@dojo/framework/shim/support/util":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=
c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,c,h,k){void 0===c&&(c=!1);void 0===h&&(h=!0);void 0===k&&(k=!0);return{value:a,enumerable:c,writable:h,configurable:k}};a.wrapNative=function(a){return function(b){for(var c=[],k=1;k<arguments.length;k++)c[k-1]=arguments[k];return a.apply(b,c)}}})},"@dojo/framework/shim/Promise":function(){(function(c){"object"===typeof module&&
"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});var b=c("tslib"),l=c("./global"),h=c("./support/queue");c("./Symbol");c=c("../has/has");a.ShimPromise=l.default.Promise;a.isThenable=function(a){return a&&"function"===typeof a.then};c.default("es6-promise")||(l.default.Promise=
a.ShimPromise=(k=function(){function f(b){var e=this;this.state=1;this[Symbol.toStringTag]="Promise";var g=!1,d=[],m=function(a){d&&d.push(a)},c=function(a,b){1===e.state&&(e.state=a,e.resolvedValue=b,m=h.queueMicroTask,d&&0<d.length&&h.queueMicroTask(function(){if(d){for(var a=d.length,b=0;b<a;++b)d[b].call(null);d=null}}))},r=function(b,d){1!==e.state||g||(a.isThenable(d)?(d.then(c.bind(null,0),c.bind(null,2)),g=!0):c(b,d))};this.then=function(a,b){return new f(function(d,g){m(function(){var m=
2===e.state?b:a;if("function"===typeof m)try{d(m(e.resolvedValue))}catch(x){g(x)}else 2===e.state?g(e.resolvedValue):d(e.resolvedValue)})})};try{b(r.bind(null,0),r.bind(null,2))}catch(p){c(2,p)}}f.all=function(e){return new this(function(n,g){function d(a,b){c[a]=b;++r;t||r<p||n(c)}function m(b,e){++p;a.isThenable(e)?e.then(d.bind(null,b),g):f.resolve(e).then(d.bind(null,b))}var c=[],r=0,p=0,t=!0,w=0;try{for(var v=b.__values(e),u=v.next();!u.done;u=v.next())m(w,u.value),w++}catch(z){k={error:z}}finally{try{u&&
!u.done&&(h=v.return)&&h.call(v)}finally{if(k)throw k.error;}}(t=!1,r<p)||n(c);var k,h})};f.race=function(a){return new this(function(e,g){try{for(var d=b.__values(a),m=d.next();!m.done;m=d.next()){var n=m.value;n instanceof f?n.then(e,g):f.resolve(n).then(e)}}catch(t){c={error:t}}finally{try{m&&!m.done&&(p=d.return)&&p.call(d)}finally{if(c)throw c.error;}}var c,p})};f.reject=function(a){return new this(function(b,g){g(a)})};f.resolve=function(a){return new this(function(b){b(a)})};f.prototype.catch=
function(a){return this.then(void 0,a)};return f}(),k[Symbol.species]=a.ShimPromise,k));c.default("es2018-promise-finally")||(l.default.Promise.prototype.finally=function(a){return this.then(a&&function(b){return Promise.resolve(a()).then(function(){return b})},a&&function(b){return Promise.resolve(a()).then(function(){throw b;})})});a.default=a.ShimPromise;var k})},"@dojo/framework/shim/support/queue":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,
exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],c)})(function(c,a){function b(a){a&&a.isActive&&a.callback&&a.callback()}function l(a,b){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(a,"__esModule",{value:!0});var h=c("../global"),k=c("../../has/has"),f,e;a.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=e(a);return l(a,d&&
function(){d(b)})}var d,e;if(k.default("postmessage")){var n=[];h.default.addEventListener("message",function(a){a.source===h.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),n.length&&b(n.shift()))});e=function(a){n.push(a);h.default.postMessage("dojo-queue-message","*")}}else k.default("setimmediate")?(d=h.default.clearImmediate,e=function(a){return setImmediate(b.bind(null,a))}):(d=h.default.clearTimeout,e=function(a){return setTimeout(b.bind(null,a),0)});return k.default("microtasks")?
a:function(b){f();return a(b)}}();if(!k.default("microtasks")){var n=!1;e=[];f=function(){n||(n=!0,a.queueTask(function(){n=!1;if(e.length)for(var a=void 0;a=e.shift();)b(a)}))}}a.queueAnimationTask=function(){function g(a){a={isActive:!0,callback:a};var d=requestAnimationFrame(b.bind(null,a));return l(a,function(){cancelAnimationFrame(d)})}return k.default("raf")?k.default("microtasks")?g:function(a){f();return g(a)}:a.queueTask}();a.queueMicroTask=function(){var a;if(k.default("host-node"))a=function(a){h.default.process.nextTick(b.bind(null,
a))};else if(k.default("es6-promise"))a=function(a){h.default.Promise.resolve(a).then(b)};else if(k.default("dom-mutationobserver")){var d=h.default.MutationObserver||h.default.WebKitMutationObserver,m=document.createElement("div"),n=[];(new d(function(){for(;0<n.length;){var a=n.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(m,{attributes:!0});a=function(a){n.push(a);m.setAttribute("queueStatus","1")}}else a=function(a){f();e.push(a)};return function(b){b={isActive:!0,callback:b};a(b);
return l(b)}}()})},"@dojo/framework/shim/Symbol":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],c)})(function(c,a){function b(a){return a&&("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var l=c("../has/has"),h=c("./global"),k=c("./support/util");
a.Symbol=h.default.Symbol;if(!l.default("es6-symbol")){var f=function(a){if(!b(a))throw new TypeError(a+" is not a symbol");return a},e=Object.defineProperties,n=Object.defineProperty,g=Object.create,d=Object.prototype,m={},q=function(){var a=g(null);return function(b){for(var g=0,e;a[String(b)+(g||"")];)++g;b+=String(g||"");a[b]=!0;e="@@"+b;Object.getOwnPropertyDescriptor(d,e)||n(d,e,{set:function(a){n(this,e,k.getValueDescriptor(a))}});return e}}(),r=function t(a){if(this instanceof r)throw new TypeError("TypeError: Symbol is not a constructor");
return t(a)};a.Symbol=h.default.Symbol=function w(a){if(this instanceof w)throw new TypeError("TypeError: Symbol is not a constructor");var b=Object.create(r.prototype);a=void 0===a?"":String(a);return e(b,{__description__:k.getValueDescriptor(a),__name__:k.getValueDescriptor(q(a))})};n(a.Symbol,"for",k.getValueDescriptor(function(b){return m[b]?m[b]:m[b]=a.Symbol(String(b))}));e(a.Symbol,{keyFor:k.getValueDescriptor(function(a){var b;f(a);for(b in m)if(m[b]===a)return b}),hasInstance:k.getValueDescriptor(a.Symbol.for("hasInstance"),
!1,!1),isConcatSpreadable:k.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:k.getValueDescriptor(a.Symbol.for("iterator"),!1,!1),match:k.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:k.getValueDescriptor(a.Symbol.for("observable"),!1,!1),replace:k.getValueDescriptor(a.Symbol.for("replace"),!1,!1),search:k.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:k.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:k.getValueDescriptor(a.Symbol.for("split"),!1,
!1),toPrimitive:k.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:k.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:k.getValueDescriptor(a.Symbol.for("unscopables"),!1,!1)});e(r.prototype,{constructor:k.getValueDescriptor(a.Symbol),toString:k.getValueDescriptor(function(){return this.__name__},!1,!1)});e(a.Symbol.prototype,{toString:k.getValueDescriptor(function(){return"Symbol ("+f(this).__description__+")"}),valueOf:k.getValueDescriptor(function(){return f(this)})});
n(a.Symbol.prototype,a.Symbol.toPrimitive,k.getValueDescriptor(function(){return f(this)}));n(a.Symbol.prototype,a.Symbol.toStringTag,k.getValueDescriptor("Symbol",!1,!1,!0));n(r.prototype,a.Symbol.toPrimitive,k.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],!1,!1,!0));n(r.prototype,a.Symbol.toStringTag,k.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],!1,!1,!0))}a.isSymbol=b;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||
Object.defineProperty(a.Symbol,b,k.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"esri/geometry/Extent":function(){define("require exports tslib ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q){function r(a,b,d){return null==b?d:null==d?b:a(b,d)}c=function(a){function f(){for(var b=
[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}b.__extends(f,a);c=f;f.prototype.normalizeCtorArgs=function(a,b,d,e,g){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?n.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:d,ymax:e,spatialReference:null==g?n.WGS84:g}:{spatialReference:a,
xmin:0,ymin:0,xmax:0,ymax:0}};f.fromBounds=function(a,b){return new c({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(f.prototype,"center",{get:function(){var a=new e({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"extent",{get:function(){return this.clone()},
enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"width",{get:function(){return Math.abs(this.xmax-
this.xmin)},enumerable:!1,configurable:!0});f.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};f.prototype.clone=function(){var a=new c;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};f.prototype.contains=function(a){if(!a)return!1;
var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&q.canProject(b,d)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return"point"===a.type?g.extentContainsPoint(this,a):"extent"===a.type?g.extentContainsExtent(this,a):!1};f.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&q.canProject(b,d)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return this.xmin===
a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};f.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,d=this.height*a;this.xmin+=b;this.ymin+=d;this.xmax-=b;this.ymax-=d;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};f.prototype.intersects=function(a){if(l.isNone(a))return!1;var b=this.spatialReference,
e=a.spatialReference;b&&e&&!b.equals(e)&&q.canProject(b,e)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));b=d.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};f.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};f.prototype.offset=function(a,b,d){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=d&&(this.zmin+=d,this.zmax+=d);return this};f.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};
f.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=r(Math.min,this.zmin,a.zmin),this.zmax=r(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=r(Math.min,this.mmin,a.mmin),this.mmax=r(Math.max,this.mmax,a.mmax);return this};f.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=
Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=r(Math.max,this.zmin,a.zmin),this.zmax=r(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=r(Math.max,this.mmin,a.mmin),this.mmax=r(Math.min,this.mmax,a.mmax);return this};f.prototype.toJSON=function(a){return this.write(null,a)};f.prototype._shiftCM=function(a){void 0===a&&(a=m.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
d=this._getCM(a);if(d){var e=b.isWebMercator?q.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new n(h.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:e.x}))}return this};f.prototype._getCM=function(a){var b=null,d=a.valid;a=d[0];var d=d[1],e=this.xmin,g=this.xmax;e>=a&&e<=d&&g>=a&&g<=d||(b=this.center);return b};f.prototype._normalize=function(a,b,d){var e=this.spatialReference;if(!e)return this;d=d||
m.getInfo(e);if(!d)return this;var g=this._getParts(d).map(function(a){return a.extent});if(2>g.length)return g[0]||this;if(2<g.length)return a?this._shiftCM(d):this.set({xmin:d.valid[0],xmax:d.valid[1]});if(a)return this._shiftCM(d);if(b)return g;var f=!0,n=!0;g.forEach(function(a){a.hasZ||(f=!1);a.hasM||(n=!1)});return{rings:g.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f)for(var d=(a.zmax-a.zmin)/2,e=0;e<b.length;e++)b[e].push(d);if(n)for(a=
(a.mmax-a.mmin)/2,e=0;e<b.length;e++)b[e].push(a);return b}),hasZ:f,hasM:n,spatialReference:e}};f.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],d=this.ymin,e=this.ymax,g=this.spatialReference,f=this.width,n=this.xmin,q=this.xmax,p=void 0;a=a||m.getInfo(g);var t=a.valid,r=t[0],v=t[1],p=this._normalizeX(this.xmin,a),w=p.x,t=p.frameId,p=this._normalizeX(this.xmax,a),k=p.x;a=p.frameId;p=w===k&&0<f;if(f>2*v){f=new c(n<q?w:k,d,v,e,g);n=new c(r,d,n<q?k:w,e,g);q=new c(0,d,v,e,g);
d=new c(r,d,0,e,g);e=[];g=[];f.contains(q)&&e.push(t);f.contains(d)&&g.push(t);n.contains(q)&&e.push(a);n.contains(d)&&g.push(a);for(r=t+1;r<a;r++)e.push(r),g.push(r);b.push({extent:f,frameIds:[t]},{extent:n,frameIds:[a]},{extent:q,frameIds:e},{extent:d,frameIds:g})}else w>k||p?b.push({extent:new c(w,d,v,e,g),frameIds:[t]},{extent:new c(r,d,k,e,g),frameIds:[a]}):b.push({extent:new c(w,d,k,e,g),frameIds:[t]});this.cache._parts=b}a=this.hasZ;d=this.hasM;if(a||d)for(t={},a&&(t.zmin=this.zmin,t.zmax=
this.zmax),d&&(t.mmin=this.mmin,t.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(t);return b};f.prototype._normalizeX=function(a,b){var d=b.valid;b=d[0];var e=d[1],d=2*e,g=0;a>e?(b=Math.ceil(Math.abs(a-e)/d),a-=b*d,g=b):a<b&&(b=Math.ceil(Math.abs(a-b)/d),a+=b*d,g=-b);return{x:a,frameId:g}};var c;b.__decorate([k.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],f.prototype,"cache",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["cache"]})],f.prototype,
"center",null);b.__decorate([k.property({readOnly:!0,dependsOn:["cache"]})],f.prototype,"extent",null);b.__decorate([k.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null);b.__decorate([k.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);b.__decorate([k.property({readOnly:!0,dependsOn:["ymin","ymax"]})],f.prototype,"height",null);b.__decorate([k.property({readOnly:!0,
dependsOn:["xmin","xmax"]})],f.prototype,"width",null);b.__decorate([k.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],f.prototype,"xmin",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"ymin",void 0);b.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],f.prototype,"mmin",void 0);b.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],f.prototype,"zmin",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"xmax",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"ymax",void 0);b.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],f.prototype,"mmax",void 0);b.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],f.prototype,"zmax",void 0);return f=c=b.__decorate([k.subclass("esri.geometry.Extent")],f)}(f);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/accessorSupport/decorators":function(){define("require exports tslib ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer ./decorators/persistable".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r){Object.defineProperty(a,"__esModule",{value:!0});b.__exportStar(l,a);b.__exportStar(h,a);b.__exportStar(k,a);b.__exportStar(f,a);b.__exportStar(e,a);b.__exportStar(n,a);b.__exportStar(g,a);b.__exportStar(d,a);b.__exportStar(m,a);b.__exportStar(q,a);b.__exportStar(r,a)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","tslib","./property"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=void 0;
a.aliasOf=function(a,c){a=c?b.__assign(b.__assign({},c),{source:a}):a;return l.property({aliasOf:a})}})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(c,a,b,l,h,k,f){function e(a){var b=0,d=a;if(l.isLongFormType(a))return l.ensureLongFormType(a);for(;Array.isArray(d)&&1===d.length&&"string"!==typeof d[0]&&"number"!==typeof d[0];)d=d[0],b++;return l.isOneOf(d)?0===b?l.ensureOneOf(d):l.ensureNArrayTyped(l.ensureOneOf(d),
b):1===b?l.ensureArray(d):1<b?l.ensureNArray(d,b):a.from?a.from:l.default(a)}function n(a,b){return function(d){d=+a(d);null!=b.step&&(d=Math.round(d/b.step)*b.step);null!=b.min&&(d=Math.max(b.min,d));null!=b.max&&(d=Math.min(b.max,d));return d}}Object.defineProperty(a,"__esModule",{value:!0});a.ensureRange=a.propertyJSONMeta=a.property=void 0;var g=b.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(b,d,c){if(b===Function.prototype)throw Error("Inappropriate use of @property() on a static field: "+
b.name+"."+d+". Accessor does not support static properties.");var m=k.getOwnPropertyMetadata(b,d);c&&(c.get||c.set?(m.get=c.get||m.get,m.set=c.set||m.set):"value"in c&&("value"in a&&g.warn('@property() will redefine the value of "'+d+'" on "'+b.constructor.name+'" already defined in the metadata',a),m.value=a.value=c.value));null!=a.readOnly&&(m.readOnly=a.readOnly);if(b=a.aliasOf){var q="string"===typeof b?b:b.source;b="string"===typeof b?null:!0===b.overridable;var r;m.dependsOn=[q];m.get=function(){var a=
h.default(this,q);if("function"===typeof a){r||(r=q.split(".").slice(0,-1).join("."));var b=h.default(this,r);b&&(a=a.bind(b))}return a};m.readOnly||(m.set=b?function(a){void 0!==a?this._override(d,a):this._clearOverride(d)}:function(a){f.default(this,q,a)})}b=a.type;c=a.types;m.cast||(b?m.cast=e(b):c&&(Array.isArray(c)?m.cast=l.ensureArrayTyped(l.ensureOneOfType(c[0])):m.cast=l.ensureOneOfType(c)));a.range&&(m.cast=n(m.cast,a.range));k.mergeProperty(m,a)}};a.propertyJSONMeta=function(a,b,e){a=k.getOwnPropertyMetadata(a,
e);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a};a.ensureRange=n})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(c,a,b){function l(a,f,g){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=g.getItemAt||Array.isArray(g)){var d=parseInt(a,10);if(!isNaN(d))return Array.isArray(g)?g[d]:g.getItemAt(d)}d=b.getProperties(g);return f?b.isPropertyDeclared(d,a)?d.get(a):g[a]:b.isPropertyDeclared(d,
a)?d.internalGet(a):g[a]}function h(a,b,g,d){if(null==a)return a;if((a=l(b[d],g,a))||!(d<b.length-1))return d===b.length-1?a:h(a,b,g,d+1)}function k(a,f,g,d){void 0===g&&(g=!1);void 0===d&&(d=0);return"string"===typeof f&&-1===f.indexOf(".")?l(f,g,a):h(a,b.pathToArray(f),g,d)}function f(a,b){return k(a,b,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.exists=a.get=a.valueOf=void 0;a.valueOf=k;a.get=f;a.exists=function(a,b){return void 0!==k(b,a,!0)};a.default=f})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../handleUtils","../lang","../maybe"],function(c,a,b,l,h){function k(a,b,d){return b?Object.keys(b).reduce(function(a,g){var e=null,m="merge";d&&(e=d.path?d.path+"."+g:g,m=d.policy(e));if("replace"===m)return a[g]=b[g],a;if(void 0===a[g])return a[g]=l.clone(b[g]),a;var f=a[g],m=b[g];if(f===m)return a;if(Array.isArray(m)||Array.isArray(a))f=f?Array.isArray(f)?a[g]=f.concat():a[g]=[f]:a[g]=[],m&&(Array.isArray(m)||(m=[m]),m.forEach(function(a){-1===f.indexOf(a)&&f.push(a)}));else if(m&&"object"===
typeof m)if(d){var n=d.path;d.path=h.assumeNonNull(e);a[g]=k(f,m,d);d.path=n}else a[g]=k(f,m,null);else if(!a.hasOwnProperty(g)||b.hasOwnProperty(g))a[g]=m;return a},a||{}):a}function f(a){return Array.isArray(a)?a:a.split(".")}function e(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}Object.defineProperty(a,"__esModule",{value:!0});a.once=a.parse=a.parseConditionalPath=a.splitPath=
a.pathToArray=a.pathToStringOrArray=a.merge=a.isPropertyDeclared=a.getProperties=void 0;a.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,b){return null!=a&&a.metadatas&&null!=a.metadatas[b]};a.merge=function(a,b,d){return d?k(a,b,{policy:d,path:""}):k(a,b,null)};a.pathToStringOrArray=function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:f(a)};a.pathToArray=f;a.splitPath=e;a.parseConditionalPath=function(a){if(-1===
a.indexOf("?"))return null;a=f(a);for(var b=Array(a.length),d=0;d<a.length;d++){var e=a[d];b[d]="?"===e[e.length-1];b[d]&&(a[d]=e.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};a.parse=function(a,g,d,m){g=e(g);return Array.isArray(g)?(g=g.map(function(b){return m(a,b.trim(),d)}),b.handlesGroup(g)):m(a,g.trim(),d)};a.once=function(a){var b=!1;return function(){b||(b=!0,a())}}})},"esri/core/handleUtils":function(){define(["require","exports","./maybe"],function(c,a,b){function l(a){return{remove:function(){a&&
(a(),a=void 0)}}}Object.defineProperty(a,"__esModule",{value:!0});a.timeoutHandle=a.destroyHandle=a.refHandle=a.makeHandle=a.handlesGroup=void 0;a.handlesGroup=function(a){return l(function(){return a.forEach(function(a){return b.isSome(a)&&a.remove()})})};a.makeHandle=l;a.refHandle=function(a){return l(function(){var c=a();b.isSome(c)&&c.remove()})};a.destroyHandle=function(a){return l(function(){return a.destroy()})};a.timeoutHandle=function(a,b){var f=setTimeout(a,b);return{remove:function(){return clearTimeout(f)}}}})},
"esri/core/accessorSupport/metadata":function(){define(["require","exports","../lang","../maybe","./utils"],function(c,a,b,l,h){function k(a){var d=a.constructor.__accessorMetadata__,e=Object.prototype.hasOwnProperty.call(a.constructor,"__accessorMetadata__");if(!d)d=new g({}),Object.defineProperty(a.constructor,"__accessorMetadata__",{value:d,enumerable:!1,configurable:!0,writable:!0});else if(!e){var e=Object.create(d.properties),m=d.autoDestroy,f;for(f in e)e[f]=b.clone(e[f]);d=new g(e);d.autoDestroy=
m;Object.defineProperty(a.constructor,"__accessorMetadata__",{value:d,enumerable:!1,configurable:!0,writable:!0})}return l.assumeNonNull(a.constructor.__accessorMetadata__)}function f(a){return k(a).properties}function e(a){return d.test(a)?"replace":"merge"}function n(a){return m.test(a)?e(a.slice(11)):"merge"}Object.defineProperty(a,"__esModule",{value:!0});a.mergeProperty=a.merge=a.setPropertyMetadata=a.getOwnPropertyMetadata=a.getOwnPropertiesMetadata=a.getOwnClassMetadata=a.ClassMetadata=void 0;
var g=function(){return function(a){this.autoDestroy=!1;this.properties=a}}();a.ClassMetadata=g;a.getOwnClassMetadata=k;a.getOwnPropertiesMetadata=f;a.getOwnPropertyMetadata=function(a,b){a=f(a);var d=a[b];d||(d=a[b]={});return d};a.setPropertyMetadata=function(a,b,d){f(a)[b]=d};a.merge=function(a,b){return h.merge(a,b,n)};a.mergeProperty=function(a,b){return h.merge(a,b,e)};var d=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,m=/^properties\./})},"esri/core/accessorSupport/set":function(){define(["require",
"exports","../has","../Logger","./get"],function(c,a,b,l,h){function k(a,b,c){if(a&&b)if("object"===typeof b){c=0;for(var g=Object.getOwnPropertyNames(b);c<g.length;c++){var d=g[c];k(a,d,b[d])}}else-1!==b.indexOf(".")?(b=b.split("."),d=b.splice(b.length-1,1)[0],k(h.default(a,b),d,c)):a[b]=c}Object.defineProperty(a,"__esModule",{value:!0});a.set=void 0;l.getLogger("esri.core.accessorSupport.set");a.set=k;a.default=k})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=void 0;a.autoDestroy=function(){return function(a,c){b.getOwnClassMetadata(a).autoDestroy=!0;return a[c]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(c,a,b,l){function h(a){var g="__accessorMetadata__"in a?b.ensureType(a):a;return function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a.push(g);if("number"===
typeof a[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return k.apply(this,a)}}function k(a,b,d,e){l.getOwnPropertyMetadata(a,b).cast=e}function f(a){return function(b,d){l.getOwnPropertyMetadata(b,a).cast=b[d]}}Object.defineProperty(a,"__esModule",{value:!0});a.cast=void 0;var e=Object.prototype.toString;a.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===e.call(a[0]))return h(a[0]);
if(1===a.length&&"string"===typeof a[0])return f(a[0])}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../deprecate","../../has","../../Logger"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.declared=void 0;a.declared=function(a){for(var f=[],e=1;e<arguments.length;e++)f[e-1]=arguments[e];if(0<f.length)throw Error("Multi-inheritance unsupported since 4.16");l("esri-deprecation-warnings")&&b.deprecated(h.getLogger("esri.core.accessorSupport.decorators"),
"'extends declared(superclass)' syntax",{version:"4.16",see:"https://arcg.is/T8fr4"});return a}})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(c,a,b){function l(a,f,e){void 0===e&&(e={});if(b("esri-deprecation-warnings")){var c=e.replacement,g=e.version,d=e.see;e=e.warnOnce;c&&(f+="\n\t\ud83d\udee0\ufe0f Replacement: "+c);g&&(f+="\n\t\u2699\ufe0f Version: "+g);d&&(f+="\n\t\ud83d\udd17 See "+d+" for more details.");c=f;g=e;void 0===g&&(g=!1);g&&h.has(c)||(g&&h.add(c),
a.warn("\ud83d\uded1 DEPRECATED - "+c))}}Object.defineProperty(a,"__esModule",{value:!0});a.deprecated=a.deprecatedProperty=a.deprecatedFunction=a.deprecatedModule=void 0;var h=new Set;a.deprecatedModule=function(a,f,e){void 0===e&&(e={});b("esri-deprecation-warnings")&&l(a,"Module: "+f,e)};a.deprecatedFunction=function(a,f,e){void 0===e&&(e={});if(b("esri-deprecation-warnings")){var c=e.moduleName;l(a,"Function: "+((c?c+"::":"")+f+"()"),e)}};a.deprecatedProperty=function(a,f,e){void 0===e&&(e={});
if(b("esri-deprecation-warnings")){var c=e.moduleName;l(a,"Property: "+((c?c+"::":"")+f),e)}};a.deprecated=l})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../jsonMap","./property"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=void 0;a.enumeration=function(a,c){void 0===c&&(c={ignoreUnknown:!0});a=a instanceof b.JSONMap?a:new b.JSONMap(a,c);return l.property({type:(null===c||void 0===c?0:c.ignoreUnknown)?a.apiValues:
String,readOnly:null===c||void 0===c?void 0:c.readOnly,json:{type:a.jsonValues,read:(null===c||void 0===c?0:c.readOnly)?!1:{reader:a.read},write:{writer:a.write}}})}})},"esri/core/jsonMap":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.strict=a.JSONMap=void 0;var b=function(){function a(a,b){var f=this;void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=
this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return f.fromJSON(a)};this.write=function(a,b,g){a=f.toJSON(a);void 0!==a&&(b[g]=a)};this.write.isJSONMapWriter=!0}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b=
{},f;for(f in a)b[a[f]]=f;return b};a.prototype.getKeysSorted=function(a){var b=[],f;for(f in a)b.push(f);b.sort();return b};return a}();a.JSONMap=b;a.strict=function(){return function(a){return new b(a,{ignoreUnknown:!0})}};a.default=b})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.reader=void 0;a.reader=function(a,c,f){var e,n;void 0===c||Array.isArray(c)?(n=
a,f=c,e=[void 0]):(n=c,e=Array.isArray(a)?a:[a]);return function(a,d){var g=a.constructor.prototype;e.forEach(function(e){e=l.propertyJSONMeta(a,e,n);e.read&&"object"!==typeof e.read&&(e.read={});b.setDeepValue("read.reader",g[d],e);f&&(e.read.source=(e.read.source||[]).concat(f))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=void 0;a.shared=function(a){return function(b,c){b[c]=
a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define("require exports tslib ../../has ../extensions ../metadata".split(" "),function(c,a,b,l,h,k){function f(a,b){return null==b.get?void 0===b.value?function(){return this.__accessor__.store.get(a)}:function(){var d=this.__accessor__.store;return d.has(a)?d.get(a):b.value}:function(){return this.__accessor__.getterComputed(a,b)}}function e(a){var b=a.prototype,d=b.declaredClass,e=k.getOwnClassMetadata(b).properties;h.processClassMetadatas(e,
d);for(var g={},b=function(a){var b=e[a];g[a]={enumerable:!0,configurable:!0,get:f(a,b),set:function(d){var e=this.__accessor__;if(void 0===e)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(e.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===e.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+
this.declaredClass);e.set(a,d)}}}},d=0,c=Object.getOwnPropertyNames(e);d<c.length;d++)b(c[d]);Object.defineProperties(a.prototype,g)}Object.defineProperty(a,"__esModule",{value:!0});a.processClass=a.subclass=void 0;var n=new Set,g=new Set;a.subclass=function(a){return function(d){d.prototype.declaredClass=a;h.processPrototypeMetadatas(k.getOwnClassMetadata(d.prototype).properties,a);e(d);for(var m=[],f=[],c=d.prototype;c;)c.hasOwnProperty("initialize")&&!n.has(c.initialize)&&(n.add(c.initialize),
m.push(c.initialize)),c.hasOwnProperty("destroy")&&!g.has(c.destroy)&&(g.add(c.destroy),f.push(c.destroy)),c=Object.getPrototypeOf(c);n.clear();g.clear();c=function(a){function d(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];e=a.apply(this,b)||this;if(e.constructor===d&&"function"===typeof e.postscript){m.length&&Object.defineProperty(e,"initialize",{enumerable:!1,configurable:!0,value:function(){for(var a=m.length-1;0<=a;a--)m[a].call(this)}});if(f.length){var g=!1;Object.defineProperty(e,
"destroy",{enumerable:!1,configurable:!0,value:function(){if(!g){g=!0;for(var a=0;a<f.length;a++)f[a].call(this)}}})}e.postscript.apply(e,b)}return e}b.__extends(d,a);return d}(d);c.__accessorMetadata__=k.getOwnClassMetadata(d.prototype);c.prototype.declaredClass=a;return c}};a.processClass=e})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/computedProperty","./extensions/serializableProperty"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});
a.instanceCreated=a.processClassMetadatas=a.processPrototypeMetadatas=void 0;var h=[b.default,l.default];a.processPrototypeMetadatas=function(a,b){for(var e=0;e<h.length;e++){var f=h[e];if(f.processPrototypePropertyMetadata)for(var g in a)f.processPrototypePropertyMetadata(g,a[g],a,b)}};a.processClassMetadatas=function(a,b){for(var e=0;e<h.length;e++){var f=h[e];if(f.processClassPropertyMetadata)for(var g in a)f.processClassPropertyMetadata(g,a[g],a,b)}};a.instanceCreated=function(a,b){for(var e=
Object.getOwnPropertyNames(b),f=0;f<h.length;f++){var g=h[f];g.instanceCreated&&g.instanceCreated(a,b,e)}}})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.ComputedPropertyExtension=void 0;l.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,c,
g){b.dependsOn&&b.dependsOn.length&&(b.wire=k.create(b.dependsOn,function(b){var d;return null===(d=h.getProperties(b))||void 0===d?void 0:d.propertyInvalidated(a)}))},instanceCreated:function(a,b,c){for(var e=0;e<c.length;e++){var d=b[c[e]];d.wire&&d.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/wire":function(){define(["require","exports","../maybe","./utils"],function(c,a,b,l){function h(a,b,e){b=l.splitPath(b);if(Array.isArray(b)){for(var d=[],m=0;m<b.length;m++)d.push((new k(b[m],
e)).install(a));return new n(d)}a=(new k(b,e)).install(a);return new g(a)}Object.defineProperty(a,"__esModule",{value:!0});a.wire=a.create=void 0;var k=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=l.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=l.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;
return this}a.prototype.install=function(a){a=this.chain?new e(this,a):new f(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),f=function(){function a(a,b){var d;this.binding=a;this.target=b;null===(d=l.getProperties(b))||void 0===d?void 0:d.addCursor(this.binding.path,this)}a.prototype.destroy=function(){var a;this.target&&(null===(a=l.getProperties(this.target))||void 0===a?void 0:a.removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=
function(a,b){var d;null===(d=l.getProperties(this.target))||void 0===d?void 0:d.removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),e=function(){function a(a,d){this.binding=a;this.target=d;this.stack=[];this.properties=b.assumeNonNull(l.getProperties(d));a=a.chain[0];this.stack.push({properties:this.properties,propertyName:a});this.properties.addCursor(a,
this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=
function(a,b){for(var d=this.stack,e=d[d.length-1];e.properties!==a&&e.propertyName!==b;)e.properties.removeCursor(e.propertyName,this),d.pop(),e=d[d.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=l.getProperties(b))&&this.binding.chain&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];
this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};return a}(),n=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),g=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor=b.destroyMaybe(this.cursor)};return a}();a.create=function(a,b){a=l.splitPath(a);
if(Array.isArray(a)){for(var d=[],e=0;e<a.length;e++)d.push(new k(a[e],b));return function(a){for(var b=[],e=0;e<d.length;e++)b[e]=d[e].install(a);return new n(b)}}var f=new k(a,b);return function(a){return new g(f.install(a))}};a.wire=h;a.default=h})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(c,a,b,l,h,k,f){function e(a,b,d){var e=a&&a.json;a&&a.json&&a.json.origins&&d&&(a=a.json.origins[d.origin])&&("any"===b||b in a)&&(e=a);return e}Object.defineProperty(a,"__esModule",{value:!0});a.SerializablePropertyExtension=a.originSpecificPropertyDefinition=a.originSpecificWritePropertyDefinition=a.originSpecificReadPropertyDefinition=void 0;a.originSpecificReadPropertyDefinition=function(a,b){return e(a,"read",b)};a.originSpecificWritePropertyDefinition=function(a,b){return e(a,"write",
b)};a.originSpecificPropertyDefinition=e;a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,e){if(k.process(e)){l.process(e);if(e.type)if(e.type){a=0;for(var d=e.type;Array.isArray(d)&&!b.isOneOf(d);)d=d[0],a++;a={type:d,ndimArray:a}}else a=void 0;else if(e.types){a=0;for(d=e.types;Array.isArray(d);)d=d[0],a++;a={types:d,ndimArray:a}}else a=void 0;if(e.json.origins)for(var g in e.json.origins)d=e.json.origins[g],h.create(a,d,!1),f.create(a,d);h.create(a,e.json,!0);f.create(a,
e.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=void 0;a.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,c={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var e=b[a];c[a].forEach(function(a){b[a]=e});delete b[a]}};for(var k in c)a(k)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("require exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),
function(c,a,b,l,h,k,f){function e(a){var b,d,e,g=null!==(b=a.ndimArray)&&void 0!==b?b:0;if(1<g)return m(a);if(1===g)return q(a);if("type"in a&&r(a.type)){b=null===(e=null===(d=a.type.prototype)||void 0===d?void 0:d.itemType)||void 0===e?void 0:e.Type;var c=q("function"===typeof b?{type:b}:{types:b});return function(b,d,e){return(b=c(b,d,e))?new a.type(b):b}}return n(a)}function n(a){return"type"in a?g(a.type):w(a.types)}function g(a){return a.prototype.read?function(b,d,e){if(null==b)return b;d=
typeof b;if("object"!==d)v.error("Expected JSON value of type 'object' to deserialize type '"+a.prototype.declaredClass+"', but got '"+d+"'");else return d=new a,d.read(b,e),d}:a.fromJSON}function d(a,b,e,g){return 0!==g&&Array.isArray(b)?b.map(function(b){return d(a,b,e,g-1)}):a(b,void 0,e)}function m(a){var b,e=n(a),g=d.bind(null,e),c=null!==(b=a.ndimArray)&&void 0!==b?b:0;return function(a,b,d){if(null==a)return a;a=g(a,d,c);b=c;for(d=a;0<b&&Array.isArray(d);)b--,d=d[0];if(void 0!==d)for(d=0;d<
b;d++)a=[a];return a}}function q(a){var b=n(a);return function(a,d,e){if(null==a)return a;if(Array.isArray(a)){d=[];for(var g=0;g<a.length;g++){var c=b(a[g],void 0,e);void 0!==c&&d.push(c)}return d}a=b(a,void 0,e);return void 0!==a?[a]:void 0}}function r(a){return f.isCollection(a)?(a=a.prototype.itemType)&&a.Type?"function"===typeof a.Type?p(a.Type):t(a.Type):!1:!1}function p(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||r(a))}function t(a){for(var b in a.typeMap)if(!p(a.typeMap[b]))return!1;
return!0}function w(a){var b,d=null,e=null!==(b=a.errorContext)&&void 0!==b?b:"type";return function(b,g,c){if(null==b)return b;g=typeof b;if("object"!==g)v.error("Expected JSON value of type 'object' to deserialize, but got '"+g+"'");else{if(!d){var f,m;g={};for(var n in a.typeMap){var q=a.typeMap[n],t=k.getOwnClassMetadata(q.prototype);if("function"!==typeof a.key&&(t=t.properties[a.key]))if((null===(f=t.json)||void 0===f?0:f.type)&&Array.isArray(t.json.type)&&1===t.json.type.length&&"string"===
typeof t.json.type[0]&&(g[t.json.type[0]]=q),(t=null===(m=t.json)||void 0===m?void 0:m.write)&&t.writer){var p=t.target,p="string"===typeof p?p:a.key,r={};t.writer(n,r,p);r[p]&&(g[r[p]]=q)}else g[n]=q}d=g}f=a.key;if("string"===typeof f){if(m=(f=b[f])?d[f]:a.defaultKeyValue?a.typeMap[a.defaultKeyValue]:void 0)return f=new m,f.read(b,c),f;f="Type '"+(f||"unknown")+"' is not supported";c&&c.messages&&b&&c.messages.push(new h(e+":unsupported",f,{definition:b,context:c}));v.error(f)}}}}Object.defineProperty(a,
"__esModule",{value:!0});a.createTypeReader=a.create=void 0;var v=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(a,b,d){var g,c;!a||!d&&!b.read||null!==(g=b.read)&&void 0!==g&&g.reader||!1===(null===(c=b.read)||void 0===c?void 0:c.enabled)||(d="types"in a?t(a.types):p(a.type),d&&l.setDeepValue("read.reader",e(a),b))};a.createTypeReader=e})},"esri/core/Warning":function(){define(["require","exports","tslib","./Message"],function(c,a,b,l){c=function(a){function c(b,
e,n){var g=a.call(this,b,e,n)||this;return g instanceof c?g:new c(b,e,n)}b.__extends(c,a);return c}(l);c.prototype.type="warning";return c})},"esri/core/Message":function(){define(["require","exports","./object"],function(c,a,b){function l(a,c){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,e){if(""===e)return"$";a=b.getDeepValue(e,c);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+e+'" in template');return a.toString()})}return function(){function a(b,
c,e){this.name=b;this.details=e;this.message=void 0;this instanceof a&&(this.message=c&&l(c,e)||"")}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=void 0;a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},
"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(c,a){function b(a){a.name&&(a.read?"object"===typeof a.read?void 0===a.read.source&&(a.read.source=a.name):a.read={source:a.name}:a.read={source:a.name},a.write?"object"===typeof a.write?void 0===a.write.target&&(a.write.target=a.name):a.write={target:a.name}:a.write={target:a.name})}function l(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read=
{enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function h(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=void 0;a.process=function(a){a.json||(a.json={});l(a.json);h(a.json);b(a.json);if(a.json.origins)for(var c in a.json.origins)l(a.json.origins[c]),
h(a.json.origins[c]),b(a.json.origins[c]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(c,a,b,l){function h(a,e,g,c){b.setDeepValue(g,k(a,c),e)}function k(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?f(a):a}function f(a){return-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a}function e(a,
e,g,c){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return k(a,c)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[k(a,c)];b.setDeepValue(g,a,e)}function n(a,b,e){return 0!==e&&Array.isArray(a)?a.map(function(a){return n(a,b,e-1)}):k(a,b)}function g(a){return function(d,e,g,c){if(null===d)d=null;else{d=n(d,c,a);c=a;for(var f=d;0<c&&Array.isArray(f);)c--,f=f[0];if(void 0!==f)for(f=0;f<c;f++)d=[d]}b.setDeepValue(g,d,e)}}Object.defineProperty(a,"__esModule",{value:!0});a.numberToJSON=
a.create=void 0;a.create=function(a,b){var d;if(b.write&&!b.write.writer&&(!1!==b.write.enabled||b.write.overridePolicy)){var c=null!==(d=null===a||void 0===a?void 0:a.ndimArray)&&void 0!==d?d:0;a&&(1===c||"type"in a&&l.isCollection(a.type))?b.write.writer=e:b.write.writer=1<c?g(c):h}};a.numberToJSON=f})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.writer=void 0;
a.writer=function(a,c,f){var e,n;void 0===c?(n=a,e=[void 0]):"string"!==typeof c?(n=a,e=[void 0],f=c):(n=c,e=Array.isArray(a)?a:[a]);return function(a,d){var g=a.constructor.prototype;e.forEach(function(e){e=l.propertyJSONMeta(a,e,n);e.write&&"object"!==typeof e.write&&(e.write={});f&&b.setDeepValue("write.target",f,e);b.setDeepValue("write.writer",g[d],e)})}}})},"esri/core/accessorSupport/decorators/persistable":function(){define("require exports tslib ../../maybe ../../multiOriginJSONSupportUtils ../../urlUtils ../../uuid ../metadata ../PropertyOrigin ./property ../../../portal/support/resourceUtils ../../../support/persistableUrlUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){function q(a,g,c){var f=e.getOwnPropertyMetadata(g,c);return{type:String,read:function(a,b,d){a=m.read(a,b,d);if(f.type===String)return a;if("function"===typeof f.type)return new f.type({url:a})},write:{writer:function(e,g,q,v){if(v&&v.resources){var u;u=l.isNone(e)?null:"string"===typeof e?e:e.url;u=u?m.toJSON(u,b.__assign(b.__assign({},v),{verifyItemRelativeUrls:v&&v.verifyItemRelativeUrls?{writtenUrls:v.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null})):
null;var w=f.type!==String&&(!h.isMultiOriginJSONMixin(this)||v&&v.origin&&this.originIdOf(c)>n.nameToId(v.origin));if(v&&v.portalItem&&l.isSome(u)&&!k.isAbsolute(u))if(w){var w=v.portalItem.resourceFromPath(u),y=t(e,u,v),z=d.resourceContentExtension(y),x=k.getPathExtension(w.path);z!==x?r(this,c,e,u,g,q,v,a):(p(this,c,w,y,v.resources.toUpdate),g[q]=u)}else v.resources.toKeep.push({resource:v.portalItem.resourceFromPath(u)}),g[q]=u;else v&&v.portalItem&&(l.isNone(u)||l.isSome(m.itemIdFromResourceUrl(u))||
k.isBlobProtocol(u)||w)?r(this,c,e,u,g,q,v,a):g[q]=u}else g[q]="string"===typeof e?m.toJSON(e,v):e.write({},v)}}}}function r(a,b,e,g,c,m,n,q){var v=f.generateUUID();e=t(e,g,n);var r=k.join(l.get(q,"prefix"),v);q=r+"."+d.resourceContentExtension(e);var u=n.portalItem.resourceFromPath(q);k.isBlobProtocol(g)&&n.resources.pendingOperations.push(w(g).then(function(a){u.path=r+"."+d.resourceContentExtension(a);c[m]=u.itemRelativeUrl}).catch(function(){}));p(a,b,u,e,n.resources.toAdd);c[m]=u.itemRelativeUrl}
function p(a,b,d,e,g){g.push({resource:d,content:e,finish:function(d){"string"===typeof a[b]?a[b]=d.url:a[b].url=d.url}})}function t(a,b,d){return"string"===typeof a?{url:b}:new Blob([JSON.stringify(a.toJSON(d))],{type:"application/json"})}function w(a){return b.__awaiter(this,void 0,void 0,function(){var d,e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["../../../request"],a,b)})];case 1:return d=b.sent(),[4,d(a,{responseType:"blob"})];case 2:return e=
b.sent().data,[2,e]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.persistable=void 0;a.persistable=function(a){var b=l.isSome(a)&&a.origins?a.origins:[void 0];return function(d,e){var c;a:if(l.isSome(a)&&"resource"===a.type)c=q(a,d,e);else{switch(l.isSome(a)&&a.type?a.type:"other"){case "other":c={read:!0,write:!0};break a;case "url":c={read:m.read,write:m.write};break a}c=void 0}for(var f=0;f<b.length;f++){var n=g.propertyJSONMeta(d,b[f],e),t;for(t in c)n[t]=c[t]}}}})},"esri/core/multiOriginJSONSupportUtils":function(){define(["require",
"exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.isMultiOriginJSONMixin=void 0;a.isMultiOriginJSONMixin=function(a){return a&&"getAtOrigin"in a&&"originOf"in a}})},"esri/core/urlUtils":function(){define("require exports tslib ../config ./Error ./global ./Logger ./maybe ./string".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a){var b={path:null,query:null},e=new Y(a),g=a.indexOf("?");null===e.query?b.path=a:(b.path=a.substring(0,g),b.query=d(e.query));e.fragment&&(b.hash=
e.fragment,null===e.query&&(b.path=b.path.substring(0,b.path.length-(e.fragment.length+1))));return b}function d(a){var b={},d=0;for(a=a.split("\x26");d<a.length;d++){var e=a[d];if(e){var g=e.indexOf("\x3d"),c=void 0,f=void 0;0>g?(c=decodeURIComponent(e),f=""):(c=decodeURIComponent(e.slice(0,g)),f=decodeURIComponent(e.slice(g+1)));e=b[c];"string"===typeof e&&(e=b[c]=[e]);Array.isArray(e)?e.push(f):b[c]=f}}return b}function m(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}
function q(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(d){return encodeURIComponent(d)+"\x3d"+encodeURIComponent(b(d,a[d]))}).join("\x26"):Object.keys(a).map(function(d){var e=a[d];if(null==e)return"";var g=encodeURIComponent(d)+"\x3d";return(d=b&&b[d])?g+encodeURIComponent(d(e)):Array.isArray(e)?e.map(function(a){return m(a)?g+encodeURIComponent(JSON.stringify(a)):g+encodeURIComponent(a)}).join("\x26"):m(e)?g+encodeURIComponent(JSON.stringify(e)):g+encodeURIComponent(e)}).filter(function(a){return a}).join("\x26"):
""}function r(a){var b=a.indexOf("?");-1!==b?(Z.path=a.slice(0,b),Z.query=a.slice(b+1)):(Z.path=a,Z.query=null);return Z}function p(a){a=r(a).path;a&&"/"===a[a.length-1]||(a+="/");a=N(a,!0);return a=a.toLowerCase()}function t(a){var b=V.proxyRules;a=p(a);for(var d=0;d<b.length;d++)if(0===a.indexOf(b[d].urlPrefix))return b[d]}function w(a){a=x(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function v(a,b,d){void 0===d&&(d=!1);a=Q(a);b=Q(b);return!d&&a.scheme!==b.scheme||
null==a.host||null==b.host?!1:a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port}function u(b,d,g){void 0===d&&(d=a.appBaseUrl);return I(b)?g&&g.preserveProtocolRelative?b:"http"===a.appUrl.scheme&&a.appUrl.authority===z(b).slice(2)?"http:"+b:"https:"+b:G(b)?b:e.assumeNonNull(y("/"===b[0]?M(d):d,b))}function x(a){a=a.trim();a=u(a);if(/^https?:\/\//i.test(a)){var b=r(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,
"$1www.$2");return a=R(a)}function y(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if((b=a.filter(e.isSome))&&b.length){a=[];if(B(b[0])){var d=b[0],g=d.indexOf("//");-1!==g&&(a.push(d.slice(0,g+1)),da.test(b[0])&&(a[0]+="/"),b[0]=d.slice(g+2))}else"/"===b[0][0]&&a.push("");b=b.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(d=0;d<b.length;d++)g=b[d],".."===g&&0<a.length&&".."!==a[a.length-1]?a.pop():(!g&&d===b.length-1||g&&("."!==g||0===a.length))&&a.push(g);return a.join("/")}}
function z(a,b){void 0===b&&(b=!1);if(A(a)||E(a))return null;var d=a.indexOf("://");if(-1===d&&I(a))d=2;else if(-1!==d)d+=3;else return null;d=a.indexOf("/",d);-1!==d&&(a=a.slice(0,d));b&&(a=N(a,!0));return a}function B(a){return I(a)||G(a)}function A(a){return null!=a&&"blob:"===a.slice(0,5)}function E(a){return"data:"===a.slice(0,5)}function C(a){a=D(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),d=0;d<a.length;d++)b[d]=a.charCodeAt(d);return b.buffer}function D(a){return(a=
a.match(ba))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function F(a){var b=C(a);if(!b)return null;a=D(a);return new Blob([b],{type:a.mediaType})}function I(a){return null!=a&&void 0!==a&&"/"===a[0]&&"/"===a[1]}function G(a){return O.test(a)}function H(b){return W.test(b)||"http"===a.appUrl.scheme&&I(b)}function J(a){return I(a)?"https:"+a:a.replace(W,"https:")}function L(){return"https"===a.appUrl.scheme}function N(a,b){void 0===b&&(b=!1);if(I(a))return a.slice(2);a=a.replace(O,"");b&&1<a.length&&
"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function M(a){var b=a.indexOf("//"),b=a.indexOf("/",b+2);return-1===b?a:a.slice(0,b)}function R(b){var d=V.httpsDomains;if(!H(b))return b;var e=b.indexOf("/",7),g;g=-1===e?b:b.slice(0,e);g=g.toLowerCase().slice(7);if(U.test(g))if(n.endsWith(g,":80"))g=g.slice(0,-3),b=b.replace(":80","");else return b;if("http"===a.appUrl.scheme&&g===a.appUrl.authority&&!S.test(b))return b;if(L()&&g===a.appUrl.authority||d&&d.some(function(a){return g===a||n.endsWith(g,
"."+a)})||L()&&!t(b))b=J(b);return b}function Q(b){if("string"===typeof b)return new Y(u(b));b.scheme||(b.scheme=a.appUrl.scheme);return b}Object.defineProperty(a,"__esModule",{value:!0});a.getPathExtension=a.removeQueryParameter=a.addQueryParameters=a.addQueryParameter=a.removeQueryParameters=a.isSVG=a.changeDomain=a.removeTrailingSlash=a.removeFile=a.isAppHTTPS=a.toHTTPS=a.toHTTP=a.hasProtocol=a.isProtocolRelative=a.downloadDataAsFile=a.dataToBlob=a.makeData=a.dataComponents=a.dataToArrayBuffer=
a.isDataProtocol=a.isBlobProtocol=a.isAbsolute=a.getOrigin=a.join=a.normalize=a.makeRelative=a.makeAbsolute=a.isTrustedServer=a.hasSameOrigin=a.getInterceptor=a.hasSamePortal=a.getProxyRule=a.addProxyRule=a.addProxy=a.getProxyUrl=a.objectToQuery=a.queryToObject=a.urlToObject=a.appBaseUrl=a.trustedServersUrlCache=a.appUrl=a.Url=void 0;var ma=f.getLogger("esri.core.urlUtils"),V=l.request,O=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W=/^\s*http:/i,ga=/^\s*https:/i,da=/^\s*file:/i,U=/:\d+$/,S=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,
P=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,T=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,Y=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=e.assumeNonNull(this.uri.match(P));this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&
(a=e.assumeNonNull(this.authority.match(T)),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();a.Url=Y;a.appUrl=new Y(l.applicationUrl);a.trustedServersUrlCache={};a.appBaseUrl=function(){var b=e.assumeNonNull(a.appUrl.path),b=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+b}();a.urlToObject=
g;a.queryToObject=d;a.objectToQuery=q;a.getProxyUrl=function(b){void 0===b&&(b=!1);var d,e=V.proxyUrl;if("string"===typeof b){if(d=b,d=ga.test(d)||"https"===a.appUrl.scheme&&I(d),b=t(b))e=b.proxyUrl}else d=!!b;if(!e)throw ma.warn("esri/config: esriConfig.request.proxyUrl is not set."),new h("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&L()&&(e=J(e));return g(e)};a.addProxy=function(a){var e=t(a),c=void 0,f;e&&(f=r(e.proxyUrl),c=f.path,f=f.query?d(f.query):null);
c&&(e=g(a),a=c+"?"+e.path,(c=q(b.__assign(b.__assign({},f),e.query)))&&(a=a+"?"+c));return a};var Z={path:"",query:""};a.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:p(a.urlPrefix)};for(var b=V.proxyRules,d=a.urlPrefix,e=b.length,g=0;g<b.length;g++){var c=b[g].urlPrefix;if(0===d.indexOf(c)){if(d.length===c.length)return-1;e=g;break}0===c.indexOf(d)&&(e=g+1)}b.splice(e,0,a);return e};a.getProxyRule=t;a.hasSamePortal=function(a,b){a=w(a);b=w(b);return N(a)===N(b)};a.getInterceptor=function(a){var b=
function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&n.startsWith(a,b)},d=V.interceptors;if(d)for(var e=0;e<d.length;e++){var g=d[e];if(Array.isArray(g.urls)){if(g.urls.some(b))return g}else if(b(g.urls))return g}return null};a.hasSameOrigin=v;a.isTrustedServer=function(b){if("string"===typeof b)if(B(b))b=Q(b);else return!0;if(v(b,a.appUrl))return!0;for(var d=V.trustedServers||[],e=0;e<d.length;e++){var g;g=d[e];a.trustedServersUrlCache[g]||(G(g)||I(g)?a.trustedServersUrlCache[g]=
[new Y(u(g))]:a.trustedServersUrlCache[g]=[new Y("http://"+g),new Y("https://"+g)]);g=a.trustedServersUrlCache[g];for(var c=0;c<g.length;c++)if(v(b,g[c]))return!0}return!1};a.makeAbsolute=u;a.makeRelative=function(b,d,e){void 0===d&&(d=a.appBaseUrl);if(!B(b))return b;var g=x(b),c=g.toLowerCase();d=x(d).toLowerCase().replace(/\/+$/,"");if((e=e?x(e).toLowerCase().replace(/\/+$/,""):null)&&0!==d.indexOf(e))return b;for(var f=function(a,b,d){d=a.indexOf(b,d);return-1===d?a.length:d},m=f(c,"/",c.indexOf("//")+
2),n=-1;c.slice(0,m+1)===d.slice(0,m)+"/";){n=m+1;if(m===c.length)break;m=f(c,"/",m+1)}if(-1===n||e&&n<e.length)return b;b=g.slice(n);g=d.slice(n-1).replace(/[^/]+/g,"").length;if(0<g)for(c=0;c<g;c++)b="../"+b;else b="./"+b;return b};a.normalize=x;a.join=y;a.getOrigin=z;a.isAbsolute=B;a.isBlobProtocol=A;a.isDataProtocol=E;a.dataToArrayBuffer=C;var ba=/^data:(.*?)(;base64)?,(.*)$/;a.dataComponents=D;a.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+
","+a.data};a.dataToBlob=F;a.downloadDataAsFile=function(a,b){var d;a:if(d=document.createElement("a"),"download"in d){var e=null;if(k.URL&&k.URL.createObjectURL){e=F(a);if(!e){d=!1;break a}e=k.URL.createObjectURL(e)}d.download=b;d.href=e||a;d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);e&&k.URL.revokeObjectURL(e);d=void 0}else d=!1;d||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(F(a),b)};a.isProtocolRelative=I;a.hasProtocol=G;a.toHTTP=
function(a){return I(a)?"http:"+a:a.replace(ga,"http:")};a.toHTTPS=J;a.isAppHTTPS=L;a.removeFile=function(a){var b=0;if(B(a)){var d=a.indexOf("//");-1!==d&&(b=d+2)}d=a.lastIndexOf("/");return d<b?a:a.slice(0,d+1)};a.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};a.changeDomain=function(a,b,d){if(!(b&&d&&a&&B(a)))return a;var e=a.indexOf("//"),g=a.indexOf("/",e+2),c=a.indexOf(":",e+2),g=Math.min(0>g?a.length:g,0>c?a.length:c);if(a.slice(e+2,g).toLowerCase()!==b.toLowerCase())return a;
b=a.slice(0,e+2);a=a.slice(g);return""+b+d+a};a.isSVG=function(a){return aa.test(a)};a.removeQueryParameters=function(a,b){a=g(a);var d=Object.keys(a.query||{});0<d.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+d.join(", ")+".");return a.path};a.addQueryParameter=function(a,b,d){a=g(a);var e=a.query||{};e[b]=String(d);return a.path+"?"+q(e)};a.addQueryParameters=function(a,b){a=g(a);var d=a.query||{},e;for(e in b)d[e]=
b[e];return(b=q(d))?a.path+"?"+b:a.path};a.removeQueryParameter=function(a,b){var d=g(a),e=d.path,d=d.query;if(!d)return a;delete d[b];return(a=q(d))?e+"?"+a:e};a.getPathExtension=function(a){return e.isNone(a)?null:(a=a.match(ca))?a[1]:null};var ca=/.*?\.([^\/]*)$/,aa=/(^data:image\/svg|\.svg$)/i})},"esri/core/Error":function(){define("require exports tslib ./lang ./Logger ./Message".split(" "),function(c,a,b,l,h,k){c=function(a){function e(b,g,d){var c=a.call(this,b,g,d)||this;return c instanceof
e?c:new e(b,g,d)}b.__extends(e,a);e.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,function(a,b){if(b&&"object"===typeof b&&"function"===typeof b.toJSON)return b;try{return l.clone(b)}catch(d){return"[object]"}}))}}catch(n){throw h.getLogger("esri.core.Error").error(n),n;}return{name:this.name,message:this.message,details:this.details}};e.fromJSON=function(a){return new e(a.name,a.message,a.details)};
return e}(k);c.prototype.type="error";return c})},"esri/core/uuid":function(){define(["require","exports","./global"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.generateUUID=void 0;a.generateUUID=function(){var a=l.getRandomValues(new Uint16Array(8));a[3]=a[3]&4095|16384;a[4]=a[4]&16383|32768;var b=function(b){return a[b].toString(16)};return b(0)+b(1)+"-"+b(2)+"-"+b(3)+"-"+b(4)+"-"+b(5)+b(6)+b(7)};var l=b.crypto||b.msCrypto})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports","../maybe"],function(c,a,b){function l(a){switch(a){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function h(a){switch(a){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return b.assumeNonNull(void 0)}Object.defineProperty(a,"__esModule",{value:!0});a.idToWritableName=a.writableNameToId=a.idToReadableName=
a.readableNameToId=a.idToName=a.nameToId=a.OriginIdNum=void 0;a.OriginIdNum=7;a.nameToId=l;a.idToName=h;a.readableNameToId=function(a){return l(a)};a.idToReadableName=function(a){return h(a)};a.writableNameToId=function(a){return l(a)};a.idToWritableName=function(a){return h(a)}})},"esri/portal/support/resourceUtils":function(){define("require exports tslib ../../request ../../core/Error ../../core/maybe ../../core/urlUtils ../../core/urlUtils".split(" "),function(c,a,b,l,h,k,f,e){function n(a){var b=
a.lastIndexOf("/");return-1===b?[".",a]:[a.slice(0,b),a.slice(b+1)]}function g(a){var b;b=e.getPathExtension(a);b=k.isNone(b)?[a,""]:[a.slice(0,a.length-b.length-1),"."+b];a=b[1];b=n(b[0]);return[b[0],b[1],a]}function d(a){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return a instanceof Blob?[2,a]:[4,l(a.url,{responseType:"blob"})];case 1:return d=b.sent(),[2,d.data]}})})}function m(a){if(a instanceof Blob)return a.type;a=e.getPathExtension(a.url);
return q[a]||t}Object.defineProperty(a,"__esModule",{value:!0});a.resourceContentExtension=a.resourceContentType=a.getSiblingOfSameTypeI=a.getSiblingOfSameType=a.contentToBlob=a.splitPrefixFileNameAndExtension=a.removeAllResources=a.removeResource=a.addOrUpdateResource=a.fetchResources=void 0;a.fetchResources=function(a,d,e){void 0===d&&(d={});return b.__awaiter(this,void 0,void 0,function(){var g,c,m,n,q,t,p,r,v,u,w;return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load(e)];
case 1:return b.sent(),g=f.join(a.itemUrl,"resources"),c=d.start,m=void 0===c?1:c,n=d.num,q=void 0===n?10:n,t=d.sortOrder,p=void 0===t?"asc":t,r=d.sortField,v=void 0===r?"created":r,u={query:{start:m,num:q,sortOrder:p,sortField:v},signal:k.get(e,"signal")},[4,a.portal._request(g,u)];case 2:return w=b.sent(),[2,{total:w.total,nextStart:w.nextStart,resources:w.resources.map(function(b){return{created:new Date(b.created),size:b.size,resource:a.resourceFromPath(b.resource)}})}]}})})};a.addOrUpdateResource=
function(a,e,g,c){return b.__awaiter(this,void 0,void 0,function(){var m,q,t,p,r,v;return b.__generator(this,function(b){switch(b.label){case 0:if(!a.hasPath())throw new h("portal-item-resource-"+e+":invalid-path","Resource does not have a valid path");return[4,a.portalItem.load(c)];case 1:return b.sent(),m=f.join(a.portalItem.userItemUrl,"add"===e?"addResources":"updateResources"),q=n(a.path),t=q[0],p=q[1],[4,d(g)];case 2:return r=b.sent(),v=new FormData,t&&"."!==t&&v.append("resourcesPrefix",t),
v.append("fileName",p),v.append("file",r,p),v.append("f","json"),k.isSome(c)&&c.access&&v.append("access",c.access),[4,a.portalItem.portal._request(m,{method:"post",body:v,signal:k.get(c,"signal")})];case 3:return b.sent(),[2,a]}})})};a.removeResource=function(a,d,e){return b.__awaiter(this,void 0,void 0,function(){var g;return b.__generator(this,function(b){switch(b.label){case 0:if(!d.hasPath())throw new h("portal-item-resources-remove:invalid-path","Resource does not have a valid path");return[4,
a.load(e)];case 1:return b.sent(),g=f.join(a.userItemUrl,"removeResources"),[4,a.portal._request(g,{method:"post",query:{resource:d.path},signal:k.get(e,"signal")})];case 2:return b.sent(),d.portalItem=null,[2]}})})};a.removeAllResources=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load(d)];case 1:return b.sent(),e=f.join(a.userItemUrl,"removeResources"),[2,a.portal._request(e,{method:"post",query:{deleteAll:!0},
signal:k.get(d,"signal")})]}})})};a.splitPrefixFileNameAndExtension=g;a.contentToBlob=d;a.getSiblingOfSameType=function(a,b){if(!a.hasPath())return null;var d=g(a.path);return a.portalItem.resourceFromPath(f.join(d[0],b+d[2]))};a.getSiblingOfSameTypeI=function(a,b){if(!a.hasPath())return null;var d=g(a.path);return a.portalItem.resourceFromPath(f.join(d[0],b+d[2]))};a.resourceContentType=m;a.resourceContentExtension=function(a){return r[m(a)]||w};var q={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",
bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"},r={},p;for(p in q)r[q[p]]=p;var t="text/plain",w=r[t]})},"esri/request":function(){define("require exports tslib ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r){function p(a,c){return b.__awaiter(this,void 0,void 0,function(){var f,m,n,t,p,r,w,k;return b.__generator(this,function(h){switch(h.label){case 0:return f=q.isDataProtocol(a),(m=q.isBlobProtocol(a))||f||(a=q.normalize(a)),n={url:a,requestOptions:b.__assign({},g.unwrap(c))},(t=q.getInterceptor(a))?[4,A(t,n)]:[3,2];case 1:p=h.sent();if(null!=p)return[2,{data:p,getHeader:R,requestOptions:n.requestOptions,url:n.url}];t.after||t.error||(t=null);h.label=2;case 2:a=
n.url;c=n.requestOptions;if("image"===c.responseType){if(e("host-webworker"))throw v("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),n);}else if(f)throw v("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),n);if("head"===c.method){if(c.body)throw v("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),n);if(f||m)throw v("request:invalid-parameters",
Error("data and blob URLs are not supported for method 'head'"),n);}return[4,u()];case 3:h.sent();if(G)return[2,G.execute(a,c)];r=d.createAbortController();d.onAbort(c,function(){return r.abort()});w={controller:r,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:t,params:n,redoRequest:!1,useIdentity:H.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,D(w)];case 4:return k=h.sent(),t&&t.after&&t.after(k),[2,k]}})})}function t(a){q.isBlobProtocol(a)||q.isDataProtocol(a)||
(a=q.getOrigin(a))&&-1===p._corsServers.indexOf(a)&&p._corsServers.push(a)}function w(a){a=q.getOrigin(a);return!a||m.endsWith(a,".arcgis.com")||-1!==p._corsServers.indexOf(a)||q.isTrustedServer(a)}function v(a,b,e,g){var c="Error",f={url:e.url,requestOptions:e.requestOptions,getHeader:R,ssl:!1};if(b instanceof k)return b.details?(b.details=n.clone(b.details),b.details.url=e.url,b.details.requestOptions=e.requestOptions):b.details=f,b;if(b){e=g&&function(a){return g.headers.get(a)};var m=g&&g.status,
q=b.message;q&&(c=q);e&&(f.getHeader=e);f.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||m||0;f.subCode=b.subcode;f.messageCode=b.messageCode;f.messages="string"===typeof b.details?[b.details]:b.details}return d.isAbortError(b)?d.createAbortError():new k(a,c,f)}function u(){return b.__awaiter(this,void 0,void 0,function(){var a;return b.__generator(this,function(b){switch(b.label){case 0:return e("host-webworker")?G?[3,2]:[4,new Promise(function(a,b){c(["./core/workers/request"],a,b)})]:[3,3];case 1:G=
b.sent(),b.label=2;case 2:return[3,6];case 3:if(p._abortableFetch)return[3,6];if(!e("esri-abortable-fetch"))return[3,4];p._abortableFetch=f.fetch.bind(f);return[3,6];case 4:return a=p,[4,new Promise(function(a,b){c(["whatwg-fetch"],a,b)})];case 5:a._abortableFetch=b.sent().fetch,b.label=6;case 6:return[2]}})})}function x(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){switch(a.label){case 0:return h.id?[3,2]:[4,new Promise(function(a,b){c(["./identity/IdentityManager"],
a,b)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function y(a){return b.__awaiter(this,void 0,void 0,function(){var e,g,c,m,n,q,t,r;return b.__generator(this,function(b){switch(b.label){case 0:e=a.params.url;g=a.params.requestOptions;c=a.controller.signal;m=g.body;t=q=n=null;J&&"HTMLFormElement"in f&&(m instanceof FormData?n=m:m instanceof HTMLFormElement&&(q=m,n=new FormData(q)));"string"===typeof m&&(t=m);a.fetchOptions={cache:g.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",
credentials:"same-origin",headers:g.headers||{},method:"head"===g.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:c};if(n||t)a.fetchOptions.body=n||t;"anonymous"===g.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(e)||g.query&&g.query.token||n&&n.get&&n.get("token")||q&&q.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||z(e)||d.isAborted(c))return[3,11];r=void 0;return"immediate"!==g.authMode?[3,3]:[4,x()];case 1:return b.sent(),[4,h.id.getCredential(e,{signal:c})];
case 2:return r=b.sent(),a.credential=r,[3,10];case 3:return"no-prompt"!==g.authMode?[3,9]:[4,x()];case 4:b.sent(),b.label=5;case 5:return b.trys.push([5,7,,8]),[4,h.id.getCredential(e,{prompt:!1,signal:c})];case 6:return r=b.sent(),a.credential=r,[3,8];case 7:return b.sent(),[3,8];case 8:return[3,10];case 9:h.id&&(r=h.id.findCredential(e)),b.label=10;case 10:r&&(a.credentialToken=r.token,a.useSSL=!!r.ssl),b.label=11;case 11:return[2]}})})}function z(a){return M.some(function(b){return b.test(a)})}
function B(a){return b.__awaiter(this,void 0,void 0,function(){var g,c,f,m,n,r,u,k,y,l,z,x,B,F,D,A,G,R,Q,L,N,M,X;return b.__generator(this,function(O){switch(O.label){case 0:g=a.params.url;c=a.params.requestOptions;f=a.fetchOptions;m=q.isBlobProtocol(g)||q.isDataProtocol(g);n=c.responseType||"json";r=m?0:null!=c.timeout?c.timeout:H.timeout;u=!1;if(!m){a.useSSL&&(g=q.toHTTPS(g));c.cacheBust&&"default"===f.cache&&(g=q.addQueryParameter(g,"request.preventCache",Date.now()));k=b.__assign({},c.query);
a.credentialToken&&(k.token=a.credentialToken);y=q.objectToQuery(k);e("esri-url-encodes-apostrophe")&&(y=y.replace(/'/g,"%27"));l=g.length+1+y.length;z=void 0;u="post"===c.method||!!c.body||l>H.maxUrlLength;if(x=c.useProxy||!!q.getProxyRule(g))B=q.getProxyUrl(g),z=B.path,!u&&z.length+1+l>H.maxUrlLength&&(u=!0),B.query&&(k=b.__assign(b.__assign({},B.query),k));if("HEAD"===f.method&&(u||x)){if(u){if(l>H.maxUrlLength)throw v("request:invalid-parameters",Error("URL exceeds maximum length"),a.params);
throw v("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(x)throw v("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}u?(f.method="POST",c.body?g=q.addQueryParameters(g,k):(f.body=q.objectToQuery(k),f.headers["Content-Type"]="application/x-www-form-urlencoded")):g=q.addQueryParameters(g,k);x&&(a.useProxy=!0,g=z+"?"+g);k.token&&J&&f.body instanceof FormData&&(F=f.body,F.set?F.set("token",k.token):F.append("token",
k.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:q.isTrustedServer(g)?a.withCredentials=!0:h.id&&(D=h.id.findServerInfo(g))&&D.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(f.credentials="include")}A=0;G=!1;0<r&&(A=setTimeout(function(){G=!0;a.controller.abort()},r));O.label=1;case 1:return O.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==f.cache||"GET"!==f.method||u||E(c.headers)||!m&&!a.useProxy&&H.proxyUrl&&!w(g)?[3,3]:[4,I(g,a)];case 2:return Q=
O.sent(),[3,17];case 3:return[4,p._abortableFetch(g,f)];case 4:R=O.sent();a.useProxy||t(g);if(!R.ok||"HEAD"===f.method)return[3,17];L=n;switch(L){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,R.arrayBuffer()];case 6:return Q=O.sent(),[3,11];case 7:return[4,R.blob()];case 8:return Q=O.sent(),[3,11];case 9:return[4,R.text()];case 10:return Q=O.sent(),[3,11];case 11:A&&(clearTimeout(A),A=0);if("json"===n||"xml"===n||"document"===n)if(Q)switch(n){case "json":Q=
JSON.parse(Q);break;case "xml":Q=C(Q,"application/xml");break;case "document":Q=C(Q,"text/html")}else Q=null;if(!Q)return[3,17];if("array-buffer"!==n&&"blob"!==n)return[3,15];N=R.headers.get("Content-Type");if(!(/application\/json|text\/plain/i.test(N)&&750>=Q["blob"===n?"size":"byteLength"]))return[3,15];O.label=12;case 12:return O.trys.push([12,14,,15]),[4,(new Response(Q)).json()];case 13:return M=O.sent(),M.error&&(Q=M),[3,15];case 14:return O.sent(),[3,15];case 15:return"image"===n&&Q instanceof
Blob?[4,I(URL.createObjectURL(Q),a,!0)]:[3,17];case 16:Q=O.sent(),O.label=17;case 17:return[3,20];case 18:X=O.sent();if("AbortError"===X.name){if(G)throw Error("Timeout exceeded");throw d.createAbortError("Request canceled");}if(!R&&X instanceof TypeError&&H.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,q.addProxyRule({proxyUrl:H.proxyUrl,urlPrefix:q.removeFile(q.urlToObject(g).path)});else throw X;return[3,20];case 19:return A&&clearTimeout(A),[7];case 20:return[2,
[R,Q]]}})})}function A(a,d){return b.__awaiter(this,void 0,void 0,function(){var e,g,c;return b.__generator(this,function(f){switch(f.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(d.requestOptions.headers=b.__assign(b.__assign({},d.requestOptions.headers),a.headers));a.query&&(d.requestOptions.query=b.__assign(b.__assign({},d.requestOptions.query),a.query));if(!a.before)return[3,5];g=e=void 0;f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.before(d)];case 2:return g=
f.sent(),[3,4];case 3:return c=f.sent(),e=v("request:interceptor",c,d),[3,4];case 4:if(g instanceof Error||g instanceof k)e=v("request:interceptor",g,d);if(e)throw a.error&&a.error(e),e;return[2,g];case 5:return[2]}})})}function E(a){if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<d.length;b++)if(a[d[b]])return!0;return!1}function C(a,b){var d;try{d=(new DOMParser).parseFromString(a,b)}catch(O){}if(!d||d.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return d}
function D(a){return b.__awaiter(this,void 0,void 0,function(){var d,e,g,c,f,m,n,t,p,r,w;return b.__generator(this,function(b){switch(b.label){case 0:return[4,y(a)];case 1:b.sent(),b.label=2;case 2:b.trys.push([2,8,,9]),b.label=3;case 3:return[4,B(a)];case 4:w=b.sent(),d=w[0],e=w[1],b.label=5;case 5:return[4,F(a,d,e)];case 6:if(!b.sent())return[3,3];b.label=7;case 7:return[3,9];case 8:throw g=b.sent(),c=v("request:server",g,a.params,d),c.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(c),
c;case 9:return f=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(f)&&!a.hasToken&&!a.credentialToken&&e&&e.user&&e.user.username&&!q.isTrustedServer(f)&&(m=q.getOrigin(f,!0))&&H.trustedServers.push(m),(n=a.credential)&&h.id&&(p=(t=h.id.findServerInfo(n.server))&&t.owningSystemUrl)&&(p=p.replace(/\/?$/,"/sharing"),(r=h.id.findCredential(p,n.userId))&&-1===h.id._getIdenticalSvcIdx(p,r)&&r.resources.unshift(p)),[2,{data:e,getHeader:d?function(a){return d.headers.get(a)}:R,requestOptions:a.params.requestOptions,
ssl:a.useSSL,url:a.params.url}]}})})}function F(a,d,e){return b.__awaiter(this,void 0,void 0,function(){var g,c,f,m,q,t,p;return b.__generator(this,function(b){switch(b.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!d)return[2,!0];if(!d.ok)throw Error("Unable to load "+d.url+" status: "+d.status);e&&e.error&&(g=n.mixin(Error(),e.error));g&&(c=Number(g.code),f=g.hasOwnProperty("subcode")?Number(g.subcode):null,m=(m=g.messageCode)&&m.toUpperCase());q=a.params.requestOptions.authMode;
return 403===c&&(4===f||g.message&&-1<g.message.toLowerCase().indexOf("ssl")&&-1===g.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===q&&498!==c||-1===L.indexOf(c)||z(a.params.url)||!(403!==c||-1===N.indexOf(m)&&(null==f||2===f&&a.credentialToken))?[3,6]:[4,x()];case 2:b.sent(),b.label=3;case 3:return b.trys.push([3,5,,6]),[4,h.id.getCredential(a.params.url,{error:v("request:server",g,a.params),prompt:"no-prompt"!==q,
signal:a.controller.signal,token:a.credentialToken})];case 4:return t=b.sent(),a.credential=t,a.credentialToken=t.token,a.useSSL=a.useSSL||t.ssl,[2,!1];case 5:p=b.sent();if("no-prompt"===q)return a.credential=null,a.credentialToken=null,[2,!1];g=p;return[3,6];case 6:if(g)throw g;return[2,!0]}})})}function I(a,b,d){void 0===d&&(d=!1);var e=b.controller.signal,g=new Image;g.crossOrigin=b.withCredentials?"use-credentials":"anonymous";g.alt="";g.src=a;return r.loadImageAsync(g,a,d,e)}var G,H=l.request,
J="FormData"in f,L=[499,498,403,401],N=["COM_0056","COM_0057","SB_0008"],M=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=function(){return null};p._abortableFetch=null;p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return p})},"esri/kernel":function(){define(["require","exports","./core/has","./support/revision","@dojo/framework/shim/Promise"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.setId=a.id=a.revision=
a.workerMessages=a.version=void 0;Object.defineProperty(a,"revision",{enumerable:!0,get:function(){return l.commitHash}});a.version="4.17";a.workerMessages={request:function(a,b){return(new Promise(function(a,b){c(["./request"],a,b)})).then(function(c){var e=a.options||{};e.responseType="array-buffer";e.signal=null===b||void 0===b?void 0:b.signal;return c(a.url,e)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}};a.setId=function(b){a.id=b};b("host-webworker")||(console.debug("Using ArcGIS API for JavaScript "+
a.version+" [Date: "+l.buildDate+", Revision: "+l.commitHash.slice(0,8)+"]"),(b("edge")||b("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))})},"esri/support/revision":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.commitHash=a.buildDate=void 0;a.buildDate="20201021";a.commitHash="e28c17dac835fabbece2ad8a871f439477a47994"})},"esri/core/promiseUtils":function(){define("require exports tslib @dojo/framework/shim/AbortController ./clock ./Error ./events ./Logger ./maybe @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n){function g(a){return Promise.all(a)}function d(a){return new Promise(function(b,d){try{a(b,d)}catch(F){Promise.resolve().then(function(){return d(F)})}})}function m(a){void 0===a&&(a="Aborted");return new k("AbortError",a)}function q(){return new l.default}function r(a){if(t(a))throw m();}function p(a){return n.isSome(a)?"aborted"in a?a:a.signal:a}function t(a){a=p(a);return n.isSome(a)&&a.aborted}function w(a,b){a=p(a);if(!n.isNone(a))if(a.aborted)b();else return f.once(a,
"abort",function(){return b()})}function v(a){return a&&"AbortError"===a.name}function u(){var a=null,b=d(function(b,d){a={promise:void 0,resolve:b,reject:d}});a.promise=b;return a}function x(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),e=b.map(function(b){return a[b]});return x(e).then(function(a){var d={};b.forEach(function(b,e){return d[b]=a[e]});return d})}var g=y;return d(function(b){var d=[],e=a.length;0===e&&b(d);a.forEach(function(a){var c={promise:a||g(a)};d.push(c);c.promise.then(function(a){c.value=
a}).catch(function(a){c.error=a}).then(function(){--e;0===e&&b(d)})})})}}function y(a){void 0===a&&(a=void 0);return Promise.resolve(a)}function z(a,b,e){void 0===b&&(b=void 0);var g=q();w(e,function(){return g.abort()});return d(function(d,e){var c=setTimeout(function(){c=0;d(b)},a);w(g,function(){c&&(clearTimeout(c),e(m()))})})}function B(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:y(a)}Object.defineProperty(a,"__esModule",{value:!0});a.always=a.createResolver=a.debounce=
a.when=a.isPromiseLike=a.timeout=a.after=a.resolve=a.reject=a.first=a.eachAlwaysValues=a.isThenable=a.eachAlways=a.createDeferred=a.logOnError=a.ignoreAbortErrors=a.isAbortError=a.onAbortOrThrow=a.onAbort=a.throwIfNotAbortError=a.throwIfAbortError=a.isAborted=a.throwIfAborted=a.createAbortController=a.createAbortError=a.create=a.filter=a.all=void 0;var A=e.getLogger("esri");a.all=g;a.filter=function(a,b){var d=a.slice();return g(a.map(function(a,d){return b(a,d)})).then(function(a){return d.filter(function(b,
d){return a[d]})})};a.create=d;a.createAbortError=m;a.createAbortController=q;a.throwIfAborted=r;a.isAborted=t;a.throwIfAbortError=function(a){if(v(a))throw a;};a.throwIfNotAbortError=function(a){if(!v(a))throw a;};a.onAbort=w;a.onAbortOrThrow=function(a,b){a=p(a);if(!n.isNone(a))return r(a),f.once(a,"abort",function(){return b(m())})};a.isAbortError=v;a.ignoreAbortErrors=function(a){return a.catch(function(a){if(!v(a))throw a;})};a.logOnError=function(a,b){return a.catch(function(a){v(a)||(b=n.isSome(b)?
b:A,b.error(a))})};a.createDeferred=u;a.eachAlways=x;a.isThenable=function(a){return a&&"function"===typeof a.then};a.eachAlwaysValues=function(a){return x(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};a.first=function(a){return a&&a.length?d(function(b,d){for(var e=0;e<a.length;e++)a[e].then(b,d)}):y()};a.reject=function(a){return Promise.reject(a)};a.resolve=y;a.after=z;a.timeout=function(a,b,d,e){var g=d&&"abort"in d?d:null;null!=e||g||(e=
d);var c=setTimeout(function(){c=0;g&&g.abort()},b),f=function(){throw e||new k("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");};return a.then(function(a){if(0===c)throw f();clearTimeout(c);return a},function(a){clearTimeout(c);throw 0===c?f():a;})};a.isPromiseLike=function(a){return a&&"function"===typeof a.then};a.when=B;a.debounce=function(a,d){void 0===d&&(d=-1);var e,g,c,f,t=null,p=function(){for(var r=[],v=0;v<arguments.length;v++)r[v]=arguments[v];if(e)return g=
r,f&&f.reject(m()),f=u(),r=n.assumeNonNull(f.promise),t&&(v=t,t=null,v.abort()),r;c=f||u();f=null;if(0<d){var w=q(),k=e=B(a.apply(void 0,b.__spreadArrays(r,[w.signal])));z(d).then(function(){e===k&&(f?w.abort():t=w)})}else e=1,e=B(a.apply(void 0,r));var r=function(){var a=g;g=c=e=t=null;null!=a&&p.apply(void 0,a)},v=e,h=c;v.then(r,r);v.then(h.resolve,h.reject);return n.assumeNonNull(h.promise)};return p};a.createResolver=function(){var a,b,e=d(function(d,e){a=d;b=e}),g=function(b){a(b)};g.resolve=
function(b){return a(b)};g.reject=function(a){return b(a)};g.timeout=function(a,b){return h.default.setTimeout(function(){return g.reject(b)},a)};g.promise=e;return g};a.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],c)})(function(c,
a){Object.defineProperty(a,"__esModule",{value:!0});var b=c("./global"),l=c("../has/has"),h=c("./array");a.ShimAbortSignal=b.default.AbortSignal;l.default("abort-signal")||(b.default.AbortSignal=a.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,b){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.removeEventListener=
function(a,b){if(a in this.listeners){var e=h.findIndex(this.listeners[a],function(a){return a===b});0<=e&&this.listeners[a].splice(e,1)}};a.prototype.dispatchEvent=function(a){var b=this,c=a.type;"abort"===c&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(c in this.listeners))return!1;this.listeners[c].forEach(function(e){setTimeout(function(){return e.call(b,a)},0)});return!a.preventDefault};return a}());a.ShimAbortController=b.default.AbortController;l.default("abort-controller")||
(b.default.AbortController=a.ShimAbortController=function(){function b(){this.signal=new a.ShimAbortSignal}b.prototype.abort=function(){var a;try{a=new Event("abort")}catch(e){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return b}());a.default=a.ShimAbortController})},"@dojo/framework/shim/array":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=
c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});var b=c("tslib"),l=c("./global"),h=c("./iterator"),k=c("./number"),f=c("../has/has");c=c("./support/util");if(f.default("es6-array")&&f.default("es6-array-fill"))a.from=l.default.Array.from,a.of=l.default.Array.of,a.copyWithin=c.wrapNative(l.default.Array.prototype.copyWithin),
a.fill=c.wrapNative(l.default.Array.prototype.fill),a.find=c.wrapNative(l.default.Array.prototype.find),a.findIndex=c.wrapNative(l.default.Array.prototype.findIndex);else{var e=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),k.MAX_SAFE_INTEGER)},n=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},g=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};a.from=function(a,g,c){if(null==a)throw new TypeError("from: requires an array-like object");
g&&c&&(g=g.bind(c));c=e(a.length);var d="function"===typeof this?Object(new this(c)):Array(c);if(!h.isArrayLike(a)&&!h.isIterable(a))return d;if(h.isArrayLike(a)){if(0===c)return[];for(var f=0;f<a.length;f++)d[f]=g?g(a[f],f):a[f]}else{f=0;try{for(var m=b.__values(a),n=m.next();!n.done;n=m.next()){var q=n.value;d[f]=g?g(q,f):q;f++}}catch(y){u={error:y}}finally{try{n&&!n.done&&(k=m.return)&&k.call(m)}finally{if(u)throw u.error;}}}void 0!==a.length&&(d.length=c);return d;var u,k};a.of=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};a.copyWithin=function(a,b,c,f){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");var d=e(a.length);b=g(n(b),d);c=g(n(c),d);f=g(void 0===f?d:n(f),d);f=Math.min(f-c,d-b);d=1;b>c&&b<c+f&&(d=-1,c+=f-1,b+=f-1);for(;0<f;)c in a?a[b]=a[c]:delete a[b],b+=d,c+=d,f--;return a};a.fill=function(a,b,c,f){var d=e(a.length);c=g(n(c),d);for(f=g(void 0===f?d:n(f),d);c<f;)a[c++]=b;return a};a.find=
function(b,e,g){e=a.findIndex(b,e,g);return-1!==e?b[e]:void 0};a.findIndex=function(a,b,g){var d=e(a.length);if(!b)throw new TypeError("find: second argument must be a function");g&&(b=b.bind(g));for(g=0;g<d;g++)if(b(a[g],g,a))return g;return-1}}f.default("es7-array")?a.includes=c.wrapNative(l.default.Array.prototype.includes):a.includes=function(a,b,e){void 0===e&&(e=0);var d;d=a.length;d=Number(d);isNaN(d)?d=0:(isFinite(d)&&(d=Math.floor(d)),d=Math.min(Math.max(d,0),k.MAX_SAFE_INTEGER));for(;e<
d;++e){var g=a[e];if(b===g||b!==b&&g!==g)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],c)})(function(c,a){function b(a){return a&&"function"===typeof a[Symbol.iterator]}function l(a){return a&&"number"===typeof a.length}function h(a){if(b(a))return a[Symbol.iterator]();
if(l(a))return new e(a)}Object.defineProperty(a,"__esModule",{value:!0});c("./Symbol");var k=c("./string"),f={done:!0,value:void 0},e=function(){function a(a){this._nextIndex=-1;b(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:f:f};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=e;a.isIterable=
b;a.isArrayLike=l;a.get=h;a.forOf=function(a,b,d){function e(){g=!0}var g=!1;if(l(a)&&"string"===typeof a)for(var c=a.length,f=0;f<c;++f){var n=a[f];if(f+1<c){var w=n.charCodeAt(0);w>=k.HIGH_SURROGATE_MIN&&w<=k.HIGH_SURROGATE_MAX&&(n+=a[++f])}b.call(d,n,a,e);if(g)break}else if(c=h(a))for(f=c.next();!f.done;){b.call(d,f.value,a,e);if(g)break;f=c.next()}}})},"@dojo/framework/shim/number":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==
c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],c)})(function(c,a){function b(a){return"number"===typeof a&&h.default.isFinite(a)}function l(a){return b(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var h=c("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===typeof a&&h.default.isNaN(a)};a.isFinite=b;a.isInteger=l;a.isSafeInteger=function(b){return l(b)&&
Math.abs(b)<=a.MAX_SAFE_INTEGER}})},"esri/core/clock":function(){define(["require","exports","./global"],function(c,a,b){function l(a){return{setTimeout:function(b,c){var e=a.setTimeout(b,c);return{remove:function(){return a.clearTimeout(e)}}}}}Object.defineProperty(a,"__esModule",{value:!0});a.wrap=void 0;a.wrap=l;a.default=l(b)})},"esri/core/events":function(){define(["require","exports"],function(c,a){function b(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function l(a,
c,f){if(!b(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(c,f);if(Array.isArray(c)){for(var e=c.slice(),n=0;n<e.length;n++)a.addEventListener(e[n],f);return{remove:function(){for(var b=0;b<e.length;b++)a.removeEventListener(e[b],f)}}}a.addEventListener(c,f);return{remove:function(){a.removeEventListener(c,f)}}}Object.defineProperty(a,"__esModule",{value:!0});a.eventKey=a.ieKeyNormalizationMap=a.pausable=a.once=a.on=a.isEventTarget=void 0;a.isEventTarget=
b;a.on=l;a.once=function(a,c,f){if(!b(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(c,f);var e=l(a,c,function(b){e.remove();f.call(a,b)});return{remove:function(){e.remove()}}};a.pausable=function(a,b,c){var e=!1,f=l(a,b,function(b){e||c.call(a,b)});return{resume:function(){e=!1},pause:function(){e=!0},remove:function(){f.remove()}}};a.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",
Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function(b){b=b.key;return a.ieKeyNormalizationMap[b]||b}})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(c,a,b,l,h){function k(){try{return new DOMException("Aborted","AbortError")}catch(e){var a=Error();a.name="AbortError";return a}}Object.defineProperty(a,"__esModule",{value:!0});a.loadImageAsync=
void 0;a.loadImageAsync=function(a,e,c,g){void 0===c&&(c=!1);return h.create(function(d,f){if(h.isAborted(g))f(k());else{var m=function(){t();f(Error("Unable to load "+e))},n=function(){var b=a;t();d(b)},p=function(){if(a){var b=a;t();b.src="";f(k())}},t=function(){b("esri-image-decode")||(a.removeEventListener("error",m),a.removeEventListener("load",n));a=n=m=null;l.isSome(g)&&g.removeEventListener("abort",p);p=null;c&&URL.revokeObjectURL(e)};l.isSome(g)&&g.addEventListener("abort",p);b("esri-image-decode")?
a.decode().then(n,m):(a.addEventListener("error",m),a.addEventListener("load",n))}})}})},"esri/support/persistableUrlUtils":function(){define(["require","exports","../core/maybe","../core/urlUtils"],function(c,a,b,l){function h(a,b){var d=b&&b.url&&b.url.path;a&&d&&(a=l.makeAbsolute(a,d,{preserveProtocolRelative:!0}),b.portalItem&&b.readResourcePaths&&(d=l.makeRelative(a,b.portalItem.itemUrl),n.test(d)&&b.readResourcePaths.push(b.portalItem.resourceFromPath(d).path)));return f(a,b&&b.portal)}function k(a,
b){if(!a)return a;!l.isAbsolute(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var d=l.makeAbsolute(a);if(b){var e=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;e&&(e=f(e,b.portal),d=l.makeRelative(f(d,b.portal),e,e),d!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(d))}a=d;d=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?l.changeDomain(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;l.isAbsolute(d)&&(d=l.normalize(d));
return d}function f(a,b){if(!b||b.isPortal||!b.urlKey||!b.customBaseUrl)return a;var d=b.urlKey+"."+b.customBaseUrl;return l.hasSameOrigin(l.appUrl,l.appUrl.scheme+"://"+d)?l.changeDomain(a,b.portalHostname,d):l.changeDomain(a,d,b.portalHostname)}Object.defineProperty(a,"__esModule",{value:!0});a.itemIdFromResourceUrl=a.write=a.read=a.toJSON=a.fromJSON=void 0;a.fromJSON=h;a.toJSON=k;a.read=function(a,b,e){return h(a,e)};a.write=function(a,b,e,c){a=k(a,c);void 0!==a&&(b[e]=a)};var e=/\/items\/([^\/]+)\/resources\//,
n=/^\.\/resources\//;a.itemIdFromResourceUrl=function(a){a=b.isSome(a)?a.match(e):null;return b.isSome(a)?a[1]:null}})},"esri/geometry/Geometry":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(c,a,b,l,h,k){return function(a){function e(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];b=a.apply(this,b)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=k.WGS84;return b}b.__extends(e,
a);Object.defineProperty(e.prototype,"cache",{get:function(){return{}},enumerable:!1,configurable:!0});e.prototype.readSpatialReference=function(a,b){if(a instanceof k)return a;if(null!=a){var d=new k;d.read(a,b);return d}return a};e.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};e.prototype.clearCache=function(){this.notifyChange("cache")};e.prototype.getCacheValue=function(a){return this.cache[a]};e.prototype.setCacheValue=function(a,
b){this.cache[a]=b};b.__decorate([h.property()],e.prototype,"type",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"cache",null);b.__decorate([h.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"extent",void 0);b.__decorate([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],e.prototype,"hasM",void 0);b.__decorate([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
e.prototype,"hasZ",void 0);b.__decorate([h.property({type:k,json:{write:!0}})],e.prototype,"spatialReference",void 0);b.__decorate([h.reader("spatialReference")],e.prototype,"readSpatialReference",null);return e=b.__decorate([h.subclass("esri.geometry.Geometry")],e)}(l.JSONSupport)})},"esri/core/JSONSupport":function(){define("require exports tslib ./Accessor ./accessorSupport/read ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,
"__esModule",{value:!0});a.JSONSupport=a.isJSONSupport=a.JSONSupportMixin=void 0;a.JSONSupportMixin=function(a){a=function(a){function e(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];return a.apply(this,b)||this}b.__extends(e,a);e.prototype.read=function(a,b){h.default(this,a,b)};e.prototype.write=function(a,b){void 0===a&&(a={});return k.default(this,a,b)};e.prototype.toJSON=function(a){return this.write({},a)};e.fromJSON=function(a,b){if(a){if(a.declaredClass)throw Error("JSON object is already hydrated");
var d=new this;d.read(a,b);a=d}else a=null;return a};return e=b.__decorate([f.subclass("esri.core.JSONSupport")],e)}(a);a.prototype.toJSON.isDefaultToJSON=!0;return a};a.isJSONSupport=function(a){return a&&"read"in a&&"write"in a&&"toJSON"in a};c=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}b.__extends(e,a);return e=b.__decorate([f.subclass("esri.core.JSONSupport")],e)}(a.JSONSupportMixin(l));a.JSONSupport=c})},"esri/core/Accessor":function(){define("require exports tslib ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){function r(a){var b=typeof a;if(null==a)return{value:a};if(Array.isArray(a))return{type:[a[0]],value:null};if("object"===b)return a.constructor&&a.constructor.__accessorMetadata__||a instanceof Date?{type:a.constructor,value:a}:a;if("boolean"===b)return{type:Boolean,value:a};if("string"===b)return{type:String,value:a};if("number"===b)return{type:Number,value:a};if("function"===b)return{type:a,value:null}}return function(){function a(){for(var b=[],d=0;d<arguments.length;d++)b[d]=
arguments[d];if(this.constructor===a)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new e.default(this)});0<b.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,b));if(g.interceptor)g.interceptor.onInstanceConstruct(this)}a.createSubclass=function(a){void 0===a&&(a={});if(Array.isArray(a))throw Error("Multi-inheritance unsupported since 4.16");
var d=a.properties,e=a.declaredClass,g=a.constructor;delete a.declaredClass;delete a.properties;delete a.constructor;var c=this,n=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];d=a.apply(this,b)||this;d.inherited=null;g&&g.apply(d,b);return d}b.__extends(d,a);return d}(c);f.getOwnClassMetadata(n.prototype);var t=function(b){var d=a[b];n.prototype[b]="function"===typeof d?function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];e=this.inherited;this.inherited=
function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(c.prototype[b])return c.prototype[b].apply(this,a)};var g=void 0;try{g=d.apply(this,a)}catch(I){throw this.inherited=e,I;}this.inherited=e;return g}:a[b]},p;for(p in a)t(p);for(p in d)t=r(d[p]),m.property(t)(n.prototype,p);return q.subclass(e)(n)};a.prototype.postscript=function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()};a.prototype.initialize=
function(){};a.prototype.destroy=function(){if(!this.destroyed&&(d.removeTarget(this),this.__accessor__.destroy(),g.interceptor))g.interceptor.onInstanceDestroy(this)};Object.defineProperty(a.prototype,"initialized",{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"constructed",{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,
"destroyed",{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1},enumerable:!1,configurable:!0});a.prototype.get=function(a){return k.default(this,a)};a.prototype.hasOwnProperty=function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)};a.prototype.isInstanceOf=function(a){l.deprecatedFunction(h.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof a};a.prototype.keys=
function(){return this.__accessor__?this.__accessor__.keys():[]};a.prototype.set=function(a,b){n.default(this,a,b);return this};a.prototype.watch=function(a,b,e){return d.default(this,a,b,e)};a.prototype._clearOverride=function(a){return this.__accessor__.clearOverride(a)};a.prototype._override=function(a,b){return this.__accessor__.override(a,b)};a.prototype._isOverridden=function(a){return this.__accessor__.isOverridden(a)};a.prototype.notifyChange=function(a){this.__accessor__.propertyInvalidated(a)};
a.prototype._get=function(a){return this.__accessor__.internalGet(a)};a.prototype._set=function(a,b){this.__accessor__.internalSet(a,b);return this};return a}()})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.Properties");c=function(){function a(a){this.host=a;this._origin=
6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new n.Store;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;f.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<
d.length;b++){var e=d[b],g=a[e];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,e);a[e]=null}}if(this.autoDestroy)for(e in this.metadatas)(a=this.internalGet(e))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[e].nonNullable||this.internalSet(e,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!1,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};
a.prototype.get=function(a){var b=this.metadatas[a],d=b.get;return!this.store.has(a)||d&&this.dirties[a]?d?(b=d.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};a.prototype.getterComputed=function(a,b){var d;if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);b=null===(d=b.get)||void 0===d?void 0:d.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===
b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":e.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){return this.setAtOrigin(a,b,this.initialized?this._origin:0)};a.prototype.setAtOrigin=function(a,b,d){if(this.metadatas[a]){var e=this.store.get(a);l.equals(b,e)&&d===this.store.originOf(a)&&
this.store.has(a,d)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,d),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var d=this.metadatas[a];if(!d.nonNullable||null!=b){if(d=d.cast){b=this.cast(d,b);var d=b.valid,e=b.value;g.release(b);if(!d)return;
b=e}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var d=this.metadatas[a];if(!d.nonNullable||null!=b){var e=d.set;if(d=d.cast){b=this.cast(d,b);var d=b.valid,c=b.value;g.release(b);if(!d)return;b=c}e?e.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=function(a){this._origin=e.nameToId(a)};a.prototype.getDefaultOrigin=function(){return e.idToName(this._origin)};a.prototype.propertyInvalidated=function(a){var b=this.dirties;
this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var d=0;d<b.length;d++)b[d].propertyInvalidated(this,a)};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var d=0;d<b.length;d++)b[d].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var d=this.cursors[a];d||(this.cursors[a]=d=[]);d.push(b)};a.prototype.removeCursor=function(a,b){var d=this.cursors;if(d){var e=d[a];e&&(e.splice(e.indexOf(b),
1),0===e.length&&(d[a]=null))}};a.prototype.cast=function(a,b){var d=g.acquire();d.valid=!0;d.value=b;a&&(d.value=a.call(this.host,b,d));return d};return a}();b=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var g=new k(b);a.default=c})},"esri/core/ObjectPool":function(){define(["require","exports","tslib"],function(c,a,b){return function(){function a(a,b,c,e,n){void 0===e&&(e=1);void 0===
n&&(n=0);this.ctor=a;this.acquireFunction=b;this.releaseFunction=c;this.allocationSize=e;this._pool=Array(n);this._initialSize=n;if(this.ctor)for(a=0;a<n;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(e,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=function(){for(var c=[],k=0;k<arguments.length;k++)c[k]=arguments[k];k=this.ctor;if(a.test.disabled)k=new k;else{if(0===this._pool.length)for(var f=this.allocationSize,e=0;e<f;e++)this._pool[e]=new k;k=this._pool.pop()}this.acquireFunction?
this.acquireFunction.apply(this,b.__spreadArrays([k],c)):k&&k.acquire&&"function"===typeof k.acquire&&k.acquire.apply(k,c);return k};a.prototype.release=function(b){b&&!a.test.disabled&&(this.releaseFunction?this.releaseFunction(b):b&&b.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var b=a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};a.prototype._dispose=
function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.test={disabled:!1};return a}()})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.Store=void 0;c=function(){function a(){this._values=new Map}a.prototype.clone=function(b){var c=new a;this._values.forEach(function(a,f){b&&b.has(f)||c.set(f,l.clone(a))});return c};a.prototype.get=function(a){return this._values.get(a)};
a.prototype.originOf=function(){return 6};a.prototype.keys=function(){return b.keysOfMap(this._values)};a.prototype.set=function(a,b){this._values.set(a,b)};a.prototype.delete=function(a){this._values.delete(a)};a.prototype.has=function(a){return this._values.has(a)};a.prototype.forEach=function(a){this._values.forEach(a)};return a}();a.Store=c})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(c,a,b,l){function h(a){return a}function k(a,
b){void 0===b&&(b=h);if(a&&0!==a.length){for(var d=a[0],e=b(d),g=1;g<a.length;++g){var c=a[g],f=Number(b(c));f>e&&(e=f,d=c)}return d}}function f(a,b,d,e){e=e||q;for(var g=Math.max(0,e.last-10),c=g;c<d;++c)if(a[c]===b)return e.last=c;d=Math.min(g,d);for(c=0;c<d;++c)if(a[c]===b)return e.last=c;return-1}function e(a){return a?(p.seed=a,function(){return p.getFloat()}):Math.random}function n(a,b){return-1===a.indexOf(b)}function g(a,b,d){return!a.some(b.bind(null,d))}function d(a){return a}Object.defineProperty(a,
"__esModule",{value:!0});a.remove=a.fromMapValues=a.keysOfSet=a.keysOfMap=a.shuffle=a.pickRandom=a.removeUnorderedMany=a.removeUnordered=a.indexOf=a.PositionHint=a.flatten=a.binaryFindClosest=a.binaryIndexOf=a.range=a.constant=a.splitIntoChunks=a.intersect=a.difference=a.equals=a.unique=a.min=a.max=a.last=a.first=a.includes=a.from=a.findIndex=a.find=void 0;Object.defineProperty(a,"find",{enumerable:!0,get:function(){return b.find}});Object.defineProperty(a,"findIndex",{enumerable:!0,get:function(){return b.findIndex}});
Object.defineProperty(a,"from",{enumerable:!0,get:function(){return b.from}});Object.defineProperty(a,"includes",{enumerable:!0,get:function(){return b.includes}});a.first=function(a){if(a)return 0<a.length?a[0]:void 0};a.last=function(a){if(a){var b=a.length;return 0<b?a[b-1]:void 0}};a.max=k;a.min=function(a,b){void 0===b&&(b=h);return k(a,function(a){return-b(a)})};a.unique=function(a,d){return d?a.filter(function(a,e,g){return b.findIndex(g,d.bind(null,a))===e}):a.filter(function(a,b,d){return d.indexOf(a)===
b})};a.equals=function(a,b,d){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(d)for(var e=0;e<a.length;e++){if(!d(a[e],b[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0};a.difference=function(a,b,d){var e;d?(e=b.filter(g.bind(null,a,d)),a=a.filter(g.bind(null,b,d))):(e=b.filter(n.bind(null,a)),a=a.filter(n.bind(null,b)));return{added:e,removed:a}};a.intersect=function(a,d,e){return a&&d?e?a.filter(function(a){return-1<b.findIndex(d,function(b){return e(a,b)})}):
a.filter(function(a){return-1<d.indexOf(a)}):[]};a.splitIntoChunks=function(a,b){var d=a.length;if(0===d)return[];for(var e=[],g=0;g<d;g+=b)e.push(a.slice(g,g+b));return e};var m=!!Array.prototype.fill;a.constant=function(a,b){if(m)return Array(a).fill(b);for(var d=Array(a),e=0;e<a;e++)d[e]=b;return d};a.range=function(a,b){void 0===b&&(b=a,a=0);for(var d=Array(b-a),e=a;e<b;e++)d[e-a]=e;return d};a.binaryIndexOf=function(a,b,d){for(var e=a.length,g=0,c=e-1;g<c;){var f=g+Math.floor((c-g)/2);b>a[f]?
g=f+1:c=f}c=a[g];return d?b>=a[e-1]?-1:c===b?g:g-1:c===b?g:-1};a.binaryFindClosest=function(a,b,d){if(a&&0!==a.length){var e=a.length-1,g=a[0];if(b<=d(g))return g;g=a[e];if(b>=d(g))return g;for(var c=0,g=0,f=e;c<f;){var g=c+Math.floor((f-c)/2),m=a[g],n=d(m);if(n===b)return m;if(b<n){if(0<g){var f=a[g-1],q=d(f);if(b>q)return b-q>=n-b?m:f}f=g}else{if(g<e&&(c=a[g+1],q=d(c),b<q))return b-n>=q-b?c:m;c=g+1}}return a[g]}};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};c=
function(){return function(){this.last=0}}();a.PositionHint=c;var q=new c;a.indexOf=f;a.removeUnordered=function(a,b,d,e){var g=null==d?a.length:d;e=f(a,b,g,e);if(-1!==e)return a[e]=a[g-1],null==d&&a.pop(),b};var r=new Set;a.removeUnorderedMany=function(a,b,d,e,g,c){void 0===d&&(d=a.length);void 0===e&&(e=b.length);if(0===e||0===d)return d;r.clear();for(var f=0;f<e;++f)r.add(b[f]);g=g||q;for(f=b=Math.max(0,g.last-10);f<d;++f)if(r.has(a[f])&&(c&&c.push(a[f]),r.delete(a[f]),a[f]=a[d-1],--d,--f,0===
r.size||0===d))return r.clear(),d;for(f=0;f<b;++f)if(r.has(a[f])&&(c&&c.push(a[f]),r.delete(a[f]),a[f]=a[d-1],--d,--f,0===r.size||0===d))return r.clear(),d;r.clear();return d};a.pickRandom=function(a,b,d){var g=a.length;if(b>=g)return a.slice(0);d=e(d);for(var c=new Set,f=[];f.length<b;){var m=Math.floor(d()*g);c.has(m)||(c.add(m),f.push(a[m]))}return f};a.shuffle=function(a,b){b=e(b);for(var d=a.length-1;0<d;d--){var g=Math.floor(b()*(d+1)),c=a[d];a[d]=a[g];a[g]=c}return a};var p=new l;a.keysOfMap=
function(a){var b=Array(a.size),d=0;a.forEach(function(a,e){return b[d++]=e});return b};a.keysOfSet=function(a,b){void 0===b&&(b=d);var e=Array(a.size),g=0;a.forEach(function(a){return e[g++]=b(a)});return e};a.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};a.remove=function(a,b){var d=a.indexOf(b);return-1!==d?(a.splice(d,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(c,
a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(b){this._seed=null==b?Math.random()*a._m:b},enumerable:!1,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,c){c-=b;var k=this.getInt()/a._m;return b+Math.floor(k*
c)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.interceptor=void 0;a.interceptor=null})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a){v.has(a)?u.splice(u.indexOf(a),1):v.add(a);u.push(a);x||(x=k.schedule(m))}
function d(a){if(!a.removed){var b=a.callback,d=a.path,e=a.oldValue,g=a.target,c=f.valueOf(g,a.propertyPath,!0);l.equals(e,c)||(a.oldValue=c,b.call(g,c,e,d,g))}}function m(){for(var a=10;x&&a--;){x=null;var b=u;u=w.acquire();v.clear();for(var e=w.acquire(),g=0,c=b;g<c.length;g++){var f=c[g],m=f.uid;d(f);m===f.uid&&f.removed&&e.push(f)}for(g=0;g<u.length;g++)f=u[g],f.removed&&(e.push(f),v.delete(f),u.splice(g,1),--g);for(g=0;g<e.length;g++)t.pool.release(e[g]);w.release(b);w.release(e);y.forEach(function(a){return a()})}}
function q(a,b,d){var c=e.parse(a,b,d,function(a,b,d){var m=f.valueOf(a,b,!0),q,p,r=n.wire(a,b,function(a,b){a.__accessor__.destroyed||q&&q.uid!==p?c.remove():(q||(q=t.pool.acquire(a,b,m,d),p=q.uid,m=null),g(q))});return{remove:e.once(function(){r.remove();q&&(q.uid!==p||q.removed||(q.removed=!0,g(q)),q=null);c=r=m=null})}});return c}function r(a,b,d){var g=e.parse(a,b,d,function(a,b,d){var e=f.valueOf(a,b,!0),c=!1;return n.wire(a,b,function(a,b){if(!a||a.__accessor__.destroyed)g.remove();else if(!c&&
b){c=!0;var m=f.valueOf(a,b,!0);l.equals(e,m)||d.call(a,m,e,b,a);e=f.valueOf(a,b,!0);c=!1}})});return g}function p(a,b,d,e){void 0===e&&(e=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:e?r(a,b,d):q(a,b,d)}Object.defineProperty(a,"__esModule",{value:!0});a.isValueInUse=a.watch=a.afterDispatch=a.dispatch=a.removeTarget=a.dispatchTarget=void 0;var t=function(){function a(){this.uid=0;this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=
null}a.prototype.acquire=function(b,d,g,c){this.target=b;this.path=d;this.oldValue=g;this.callback=c;this.propertyPath=e.pathToStringOrArray(d);this.uid=++a.uid;this.removed=!1};a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new h.ReentrantObjectPool(a);a.uid=0;return a}(),w=new b,v=new Set,u=w.acquire(),x;a.dispatchTarget=function(a){for(var b=w.copy(u),e=0;e<b.length;e++){var g=b[e];g.target===a&&(d(g),
v.delete(g),u.splice(u.indexOf(g),1))}};a.removeTarget=function(a){for(var b=0;b<u.length;b++){var d=u[b];d.target===a&&(d.removed=!0)}};a.dispatch=m;var y=new Set;a.afterDispatch=function(a){y.add(a);return{remove:function(){y.delete(a)}}};a.watch=p;a.isValueInUse=function(a){return u.some(function(b){return b.oldValue===a})};a.default=p})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(c,a,b){function l(a){a.length=0}var h=Array.prototype.splice;c=function(){function a(a,
c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new b(Array,void 0,l,c,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);h.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.prototype.prune=function(){this._pool.prune(0)};a.acquire=function(){return k.acquire()};a.copy=function(a){return k.copy(a)};a.release=function(a){return k.release(a)};a.prune=function(){k.prune()};return a}();
var k=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","tslib","./maybe","./ObjectPool"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.ReentrantObjectPool=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._set=new Set;return b}b.__extends(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=l.nullifyNonnullableForDispose(this._set)};c.prototype.acquire=function(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.prototype.acquire.apply(this,b);this._set.delete(b);return b};c.prototype.release=function(b){b&&!this._set.has(b)&&(a.prototype.release.call(this,b),this._set.add(b))};c.prototype._dispose=function(b){this._set.delete(b);a.prototype._dispose.call(this,b)};return c}(h);a.ReentrantObjectPool=c})},"esri/core/scheduling":function(){define("require exports ./maybe ./nextTick ./PooledArray ./promiseUtils".split(" "),function(c,a,b,l,h,k){function f(b){void 0===
b&&(b=performance.now());a.debug.rafId=null;0<u.length&&(a.debug.rafId=e());a.debug.executeFrameTasks(b)}function e(){return a.debug.requestNextFrame?a.debug.requestNextFrame(d):d()}function n(){u.forEachSimple(function(a){a.removed&&y.push(a)});u.removeUnorderedMany(y.data,y.length);y.clear()}function g(){for(;v.length;){var d=b.assumeNonNull(v.shift());d.isActive&&d.callback()}a.debug.willDispatch=!1}function d(){return requestAnimationFrame(f)}Object.defineProperty(a,"__esModule",{value:!0});a.waitTicks=
a.requestNextFrame=a.setFrameDuration=a.addFrameTask=a.schedule=a.debug=a.FrameTaskHandle=void 0;var m=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),q=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),r=-1,p=0,t={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},w=["prepare","preRender","render","postRender","update"],v=[],u=new h,x=function(){function a(a){this._task=a}a.prototype.remove=
function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};return a}();a.FrameTaskHandle=x;a.debug={frameTasks:u,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);u.forEachSimple(function(a){a.removed=!0});a&&n()},dispatch:g,executeFrameTasks:function(a){void 0===a&&(a=performance.now());0>r&&(r=a);var b=a-r,d=0<p?p:1E3/60,e=Math.max(0,b-d);r=a;for(var g=function(g){var c=w[g];
u.forEachSimple(function(f){var m;f.paused||f.removed||(0===g&&f.ticks++,f.phases[c]&&(t.time=a,t.deltaTime=0===f.ticks?0:b,t.elapsedFrameTime=performance.now()-a,t.frameDuration=d-e,null===(m=f.phases[c])||void 0===m?void 0:m.call(f,t)))})},c=0;c<w.length;c++)g(c);n()}};a.schedule=function(b){b=new q(b);v.push(b);a.debug.willDispatch||(a.debug.willDispatch=!0,l(g));return b};a.addFrameTask=function(b){b=new m(b);u.push(b);a.debug.rafId||(r=-1,a.debug.rafId=e());return new x(b)};a.setFrameDuration=
function(a){p=Math.max(0,a)};a.requestNextFrame=e;var y=new h;a.waitTicks=function(a,b){void 0===a&&(a=1);var d=k.createResolver(),e=function(){k.isAborted(b)?d.reject(k.createAbortError()):0===a?d():(--a,l(function(){return e()}))};e();return d.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global","@dojo/framework/shim/Promise"],function(c,a,b){function l(a){k.push(a);1===k.length&&h(function(){for(var a=0,b=f;a<b.length;a++)(0,b[a])();a=k.slice();for(b=k.length=0;b<
a.length;b++)(0,a[b])()})}var h=function(){return b.queueMicrotask?b.queueMicrotask:function(a){b.Promise.resolve().then(a)}}(),k=[],f=[];(function(a){a.before=function(a){f.push(a);return{remove:function(){f=f.filter(function(b){return b!==a})}}}})(l||(l={}));return l})},"esri/core/PooledArray":function(){define(["require","exports","tslib","./arrayUtils","./HeapSort"],function(c,a,b,l,h){return function(){function a(a){var b=this;this.data=[];this._length=0;this._allocator=void 0;this._deallocator=
function(){return null};this._shrink=function(){};this._hint=new l.PositionHint;a&&(a.initialSize&&(this.data=Array(a.initialSize)),a.allocator&&(this._allocator=a.allocator),void 0!==a.deallocator&&(this._deallocator=a.deallocator),a.shrink&&(this._shrink=function(){b.data.length>1.5*b.length&&(b.data.length=Math.floor(1.1*b.length))}))}a.prototype.toArray=function(){return this.data.slice(0,this.length)};a.prototype.getItemAt=function(a){if(!(0>a||a>=this._length))return this.data[a]};Object.defineProperty(a.prototype,
"length",{get:function(){return this._length},set:function(a){if(a>this._length)if(this._allocator)for(;this._length<a;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=a;else{if(this._deallocator)for(var b=a;b<this._length;++b)this.data[b]=this._deallocator(this.data[b]);this._length=a;this._shrink()}},enumerable:!1,configurable:!0});a.prototype.clear=function(){this.length=0};a.prototype.prune=function(){this.clear();this.data=[]};a.prototype.push=function(a){this.data[this._length++]=
a};a.prototype.pushArray=function(a,b){void 0===b&&(b=a.length);for(var e=0;e<b;e++)this.data[this._length++]=a[e]};a.prototype.fill=function(a,b){for(var e=0;e<b;e++)this.data[this._length++]=a};a.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var a=this.data[this._length];++this._length;return a};a.prototype.pop=function(){if(0!==this.length){var a=this.data[this.length-1];--this.length;this._shrink();return a}};a.prototype.iterableRemoveMany=
function(a){var e,c;return b.__generator(this,function(b){switch(b.label){case 0:e=[],c=0,b.label=1;case 1:if(!(c<this.length)||c>=this.length)return[3,4];0>l.indexOf(a.data,this.data[c],a.length,a._hint)&&e.push(this.data[c]);return[4];case 2:b.sent(),b.label=3;case 3:return++c,[3,1];case 4:return this.data=e,this._length=this.data.length,[2]}})};a.prototype.remove=function(a){var b=l.indexOf(this.data,a,this.length,this._hint);if(-1!==b)return this.data.splice(b,1),--this.length,a};a.prototype.removeUnordered=
function(a){a=l.removeUnordered(this.data,a,this.length,this._hint);void 0!==a&&--this.length;return a};a.prototype.removeUnorderedIndex=function(a){if(!(a>=this.length||0>a))return this.swapElements(a,this.length-1),this.pop()};a.prototype.removeUnorderedMany=function(a,b,c){void 0===b&&(b=a.length);this.length=l.removeUnorderedMany(this.data,a,this.length,b,this._hint,c)};a.prototype.front=function(){if(0!==this.length)return this.data[0]};a.prototype.back=function(){if(0!==this.length)return this.data[this.length-
1]};a.prototype.swapElements=function(a,b){var e;a>=this.length||b>=this.length||a===b||(e=[this.data[b],this.data[a]],this.data[a]=e[0],this.data[b]=e[1])};a.prototype.sort=function(a){h.sort(this.data,0,this.length,a)};a.prototype.iterableSort=function(a){return h.iterableSort(this.data,0,this.length,a)};a.prototype.some=function(a,b){for(var e=0;e<this.length;++e)if(a.call(b,this.data[e],e,this.data))return!0;return!1};a.prototype.filterInPlace=function(a,b){for(var e=0,g=0;g<this._length;++g){var d=
this.data[g];a.call(b,d,g,this.data)&&(this.data[g]=this.data[e],this.data[e]=d,e++)}if(this._deallocator)for(g=e;g<this._length;g++)this.data[g]=this._deallocator(this.data[g]);this._length=e;return this};a.prototype.forEachSimple=function(a,b){for(var e=this.length,g=this.data,d=0;d<e;++d)a.call(b,g[d],d,g)};a.prototype.iterableForEach=function(){var a;return b.__generator(this,function(b){switch(b.label){case 0:a=0,b.label=1;case 1:return a<this.length?[4,this.data[a]]:[3,4];case 2:b.sent(),b.label=
3;case 3:return++a,[3,1];case 4:return[2]}})};a.prototype.map=function(a,b){for(var e=Array(this.length),g=0;g<this.length;++g)e[g]=a.call(b,this.data[g],g,this.data);return e};a.prototype.reduce=function(a,b){for(var e=0;e<this.length;++e)b=a(b,this.data[e],e,this.data);return b};return a}()})},"esri/core/HeapSort":function(){define(["require","exports","tslib"],function(c,a,b){var l;(function(a){function c(a,b,g,d){for(var e=b,c=g>>>1,f=a[e-1];b<=c;){b=e<<1;b<g&&0>d(a[b-1],a[b])&&++b;var n=a[b-
1];if(0>=d(n,f))break;a[e-1]=n;e=b}a[e-1]=f}function f(a,b){return a<b?-1:a>b?1:0}a.sort=function(a,b,g,d){void 0===b&&(b=0);void 0===g&&(g=a.length);void 0===d&&(d=f);for(var e=g>>>1;e>b;e--)c(a,e,g,d);for(var n=b+1,e=g-1;e>b;e--)g=a[b],a[b]=a[e],a[e]=g,c(a,n,e,d)};a.iterableSort=function(a,n,g,d){var e,q,r;return b.__generator(this,function(b){switch(b.label){case 0:void 0===n&&(n=0),void 0===g&&(g=a.length),void 0===d&&(d=f),e=g>>>1,b.label=1;case 1:if(!(e>n))return[3,4];c(a,e,g,d);return[4];case 2:b.sent(),
b.label=3;case 3:return e--,[3,1];case 4:q=n+1,e=g-1,b.label=5;case 5:if(!(e>n))return[3,8];r=a[n];a[n]=a[e];a[e]=r;c(a,q,e,d);return[4];case 6:b.sent(),b.label=7;case 7:return e--,[3,5];case 8:return[2]}})}})(l||(l={}));return l})},"esri/core/accessorSupport/read":function(){define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),function(c,a,b,l,h,k){function f(a,b,d){void 0===d&&(d=e);if(b&&"object"===typeof b){for(var g=h.getProperties(a),c=g.metadatas,f={},n=
0,t=Object.getOwnPropertyNames(b);n<t.length;n++){var w=f,v=c,u=t[n],x=b,y=d,z=k.originSpecificReadPropertyDefinition(v[u],y);z&&(!z.read||!1!==z.read.enabled&&!z.read.source)&&(w[u]=!0);for(var B=0,A=Object.getOwnPropertyNames(v);B<A.length;B++){var E=A[B],z=k.originSpecificReadPropertyDefinition(v[E],y),C;a:{C=u;var D=x;if(z&&z.read&&!1!==z.read.enabled&&z.read.source)if(z=z.read.source,"string"===typeof z){if(z===C||-1<z.indexOf(".")&&0===z.indexOf(C)&&l.exists(z,D)){C=!0;break a}}else for(var F=
0;F<z.length;F++){var I=z[F];if(I===C||-1<I.indexOf(".")&&0===I.indexOf(C)&&l.exists(I,D)){C=!0;break a}}C=!1}C&&(w[E]=!0)}}g.setDefaultOrigin(d.origin);t=0;for(w=Object.getOwnPropertyNames(f);t<w.length;t++)n=w[t],u=(v=k.originSpecificReadPropertyDefinition(c[n],d).read)&&v.source,x=void 0,x=u&&"string"===typeof u?l.valueOf(b,u):b[n],v&&v.reader&&(x=v.reader.call(a,x,b,d)),void 0!==x&&g.set(n,x);if(!d||!d.ignoreDefaults)for(b=0,c=Object.getOwnPropertyNames(c);b<c.length;b++)n=c[b],f[n]||(t=a,w=g,
v=d,u=(u=k.originSpecificPropertyDefinition(w.metadatas[n],"any",v))&&u.default,void 0!==u&&(t="function"===typeof u?u.call(t,n,v):u,void 0!==t&&w.set(n,t)));g.setDefaultOrigin("user")}}Object.defineProperty(a,"__esModule",{value:!0});a.readLoadable=a.read=void 0;var e={origin:"service"};a.read=f;a.readLoadable=function(a,g,d,c){var f;void 0===c&&(c=e);g=b.__assign(b.__assign({},c),{messages:[]});d(g);null===(f=g.messages)||void 0===f?void 0:f.forEach(function(b){"warning"!==b.type||a.loaded?c&&c.messages&&
c.messages.push(b):a.loadWarnings.push(b)})};a.default=f})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ../promiseUtils ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a,b,d,e,g){var c,f,m={};null===(f=null===(c=b.write)||void 0===c?void 0:c.writer)||void 0===f?void 0:f.call(a,e,m,d,g);return m}function d(a,d,e,g,c,m){if(!g||!g.write)return!1;var n=a.get(e);if(!c&&g.write.overridePolicy){var p=
g.write.overridePolicy.call(a,n,e,m);void 0!==p&&(c=p)}c||(c=g.write);if(!c||!1===c.enabled)return!1;if((null===n&&!c.allowNull||void 0===n)&&c.isRequired)return(d=new l("web-document-write:property-required","Missing value for required property '"+e+"' on '"+a.declaredClass+"'",{propertyName:e,target:a}),m)&&m.messages?m.messages.push(d):d&&!m&&q.error(d.name,d.message),!1;if(void 0===n||null===n&&!c.allowNull)return!1;p=g.default;void 0===p?n=!1:null!=g.defaultEquals?n=g.defaultEquals(n):"function"===
typeof p?Array.isArray(n)?(a=p.call(a,e,m),n=b.equals(a,n)):n=!1:n=p===n;return n?!1:void 0!==g.default?!0:!c.ignoreOrigin&&m&&m.origin&&d.store.originOf(e)<f.nameToId(m.origin)?!1:!0}function m(a,b,c){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return e.merge(b,a.toJSON());var m=e.getProperties(a),q=m.metadatas,p=function(p){var t=n.originSpecificWritePropertyDefinition(q[p],c);if(!d(a,m,p,t,void 0,c))return"continue";var r=a.get(p),v=g(a,t,t.write&&"string"===typeof t.write.target?
t.write.target:p,r,c);0<Object.keys(v).length&&(b=e.merge(b,v),c&&c.resources&&c.resources.pendingOperations&&c.resources.pendingOperations.length&&k.all(c.resources.pendingOperations).then(function(){return e.merge(b,v)}),c&&c.writtenProperties&&c.writtenProperties.push({target:a,propName:p,oldOrigin:f.idToReadableName(m.store.originOf(p)),newOrigin:c.origin}))},t;for(t in q)p(t);return b}Object.defineProperty(a,"__esModule",{value:!0});a.write=a.willPropertyWrite=void 0;var q=h.getLogger("esri.core.accessorSupport.write");
a.willPropertyWrite=function(a,b,g,c){var f=e.getProperties(a),m=n.originSpecificWritePropertyDefinition(f.metadatas[b],c);return m?d(a,f,b,m,g,c):!1};a.write=m;a.default=m})},"esri/geometry/SpatialReference":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(c,a,b,l,h,k,f,e,n){c=function(a){function d(b){b=
a.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.vcsWkid=null;b.latestVcsWkid=null;b.imageCoordinateSystem=null;return b}b.__extends(d,a);g=d;d.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return g.WebMercator;if(4326===a.wkid)return g.WGS84}var b=new g;b.read(a);return b};d.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(d.prototype,"isWGS84",{get:function(){return n.isWGS84(this)},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"isWebMercator",{get:function(){return n.isWebMercator(this)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"isGeographic",{get:function(){return n.isGeographic(this)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"isWrappable",{get:function(){return n.isWrappable(this)},enumerable:!1,configurable:!0});d.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};d.prototype.clone=function(){if(this===
g.WGS84)return g.WGS84;if(this===g.WebMercator)return g.WebMercator;var a=new g;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=h.clone(this.imageCoordinateSystem));return a};d.prototype.equals=function(a){if(null==a)return!1;if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var b=a.imageCoordinateSystem,d=b.id,b=b.referenceServiceName,e=a.imageCoordinateSystem.geodataXform,g=this.imageCoordinateSystem;return null==d||e?JSON.stringify(g)===JSON.stringify(a.imageCoordinateSystem):b?g.id===d&&g.referenceServiceName===b:g.id===d}return n.equals(this,a)};d.prototype.toJSON=function(a){return this.write(void 0,a)};var g;d.GCS_NAD_1927=null;d.WGS84=null;d.WebMercator=null;b.__decorate([k.property({dependsOn:["wkid"],
readOnly:!0})],d.prototype,"isWGS84",null);b.__decorate([k.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWebMercator",null);b.__decorate([k.property({dependsOn:["wkid","wkt"],readOnly:!0})],d.prototype,"isGeographic",null);b.__decorate([k.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWrappable",null);b.__decorate([k.property({type:Number,json:{write:!0}})],d.prototype,"latestWkid",void 0);b.__decorate([k.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===
this.wkt?!0:!1}}}}}}})],d.prototype,"wkid",void 0);b.__decorate([k.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],d.prototype,"wkt",void 0);b.__decorate([e.writer("wkt"),e.writer("web-scene","wkt")],d.prototype,"writeWkt",null);b.__decorate([k.property({type:Number,json:{write:!0}})],d.prototype,"vcsWkid",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],d.prototype,"latestVcsWkid",void 0);b.__decorate([k.property()],
d.prototype,"imageCoordinateSystem",void 0);return d=g=b.__decorate([f.subclass("esri.geometry.SpatialReference")],d)}(l.JSONSupport);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});c.WGS84=new c(n.WGS84);c.WebMercator=new c(n.WebMercator);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),
Object.freeze(c.WebMercator));return c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(c,a,b,l){function h(a){return k(a)&&null!=a.wkid&&!0===f[a.wkid]}function k(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(a,"__esModule",{value:!0});a.WebMercator=a.WGS84=a.isValid=a.isWrappable=a.isWebMercator=a.isWGS84=a.isGeographic=a.getInfo=a.equals=void 0;var f={102113:!0,102100:!0,
3857:!0,3785:!0},e={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};c=[-2.0037508342788905E7,2.0037508342788905E7];var n=[-2.0037508342787E7,2.0037508342787E7],g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:c,origin:n,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:c,origin:n,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:n,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:c,origin:n,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5}};a.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||h(a)&&h(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};a.getInfo=function(a){return k(a)&&a.wkid?g[a.wkid]:null};a.isGeographic=function(a){return k(a)?a.wkid?null==l[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};a.isWGS84=function(a){return k(a)&&4326===a.wkid};
a.isWebMercator=h;a.isWrappable=function(a){return k(a)&&null!=a.wkid&&!0===e[a.wkid]};a.isValid=k;a.WGS84={wkid:4326,wkt:b.replace(g[4326].wkTemplate,{Central_Meridian:"0.0"})};a.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define(["require","exports"],function(c,a){a={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,
20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,
2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,
3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,
3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,
4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,
5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,
6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,
6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,
6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,
6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,
7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,
7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,
8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,
8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,20499:0,20538:0,
20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,
29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,
102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,
103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,
103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,
103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,
103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(c=2E3;2045>=c;c++)a[c]=0;for(c=2056;2065>=c;c++)a[c]=0;for(c=2067;2135>=c;c++)a[c]=0;for(c=2137;2154>=c;c++)a[c]=0;for(c=2161;2170>=c;c++)a[c]=0;for(c=2172;2193>=c;c++)a[c]=0;for(c=2195;2198>=c;c++)a[c]=0;for(c=2200;2203>=c;c++)a[c]=0;for(c=2205;2217>=c;c++)a[c]=0;for(c=2222;2224>=c;c++)a[c]=1;for(c=2225;2250>=c;c++)a[c]=2;for(c=2251;2253>=c;c++)a[c]=1;for(c=2257;2264>=
c;c++)a[c]=2;for(c=2274;2279>=c;c++)a[c]=2;for(c=2280;2282>=c;c++)a[c]=1;for(c=2283;2289>=c;c++)a[c]=2;for(c=2290;2292>=c;c++)a[c]=0;for(c=2308;2313>=c;c++)a[c]=0;for(c=2315;2491>=c;c++)a[c]=0;for(c=2494;2866>=c;c++)a[c]=0;for(c=2867;2869>=c;c++)a[c]=1;for(c=2870;2888>=c;c++)a[c]=2;for(c=2891;2895>=c;c++)a[c]=2;for(c=2896;2898>=c;c++)a[c]=1;for(c=2902;2908>=c;c++)a[c]=2;for(c=2915;2920>=c;c++)a[c]=2;for(c=2921;2923>=c;c++)a[c]=1;for(c=2924;2930>=c;c++)a[c]=2;for(c=2931;2962>=c;c++)a[c]=0;for(c=2964;2968>=
c;c++)a[c]=2;for(c=2969;2973>=c;c++)a[c]=0;for(c=2975;2991>=c;c++)a[c]=0;for(c=2995;3051>=c;c++)a[c]=0;for(c=3054;3079>=c;c++)a[c]=0;for(c=3081;3088>=c;c++)a[c]=0;for(c=3092;3101>=c;c++)a[c]=0;for(c=3106;3138>=c;c++)a[c]=0;for(c=3146;3151>=c;c++)a[c]=0;for(c=3153;3166>=c;c++)a[c]=0;for(c=3168;3172>=c;c++)a[c]=0;for(c=3174;3203>=c;c++)a[c]=0;for(c=3294;3358>=c;c++)a[c]=0;for(c=3367;3403>=c;c++)a[c]=0;for(c=3408;3416>=c;c++)a[c]=0;for(c=3417;3438>=c;c++)a[c]=2;for(c=3441;3446>=c;c++)a[c]=2;for(c=3447;3450>=
c;c++)a[c]=0;for(c=3451;3459>=c;c++)a[c]=2;for(c=3460;3478>=c;c++)a[c]=0;for(c=3554;3559>=c;c++)a[c]=0;for(c=3560;3570>=c;c++)a[c]=2;for(c=3571;3581>=c;c++)a[c]=0;for(c=3594;3597>=c;c++)a[c]=0;for(c=3601;3604>=c;c++)a[c]=0;for(c=3637;3639>=c;c++)a[c]=0;for(c=3665;3667>=c;c++)a[c]=0;for(c=3693;3695>=c;c++)a[c]=0;for(c=3701;3727>=c;c++)a[c]=0;for(c=3728;3739>=c;c++)a[c]=2;for(c=3740;3751>=c;c++)a[c]=0;for(c=3753;3760>=c;c++)a[c]=2;for(c=3761;3773>=c;c++)a[c]=0;for(c=3775;3777>=c;c++)a[c]=0;for(c=3779;3781>=
c;c++)a[c]=0;for(c=3783;3785>=c;c++)a[c]=0;for(c=3788;3791>=c;c++)a[c]=0;for(c=3797;3802>=c;c++)a[c]=0;for(c=3814;3816>=c;c++)a[c]=0;for(c=3825;3829>=c;c++)a[c]=0;for(c=3832;3841>=c;c++)a[c]=0;for(c=3844;3852>=c;c++)a[c]=0;for(c=3873;3885>=c;c++)a[c]=0;for(c=3890;3893>=c;c++)a[c]=0;for(c=3907;3912>=c;c++)a[c]=0;for(c=3942;3950>=c;c++)a[c]=0;for(c=3968;3970>=c;c++)a[c]=0;for(c=3973;3976>=c;c++)a[c]=0;for(c=3986;3989>=c;c++)a[c]=0;for(c=3994;3997>=c;c++)a[c]=0;for(c=4048;4051>=c;c++)a[c]=0;for(c=4056;4063>=
c;c++)a[c]=0;for(c=4093;4096>=c;c++)a[c]=0;for(c=4390;4398>=c;c++)a[c]=0;for(c=4399;4413>=c;c++)a[c]=2;for(c=4418;4433>=c;c++)a[c]=2;for(c=4455;4457>=c;c++)a[c]=2;for(c=4484;4489>=c;c++)a[c]=0;for(c=4491;4554>=c;c++)a[c]=0;for(c=4568;4589>=c;c++)a[c]=0;for(c=4652;4656>=c;c++)a[c]=0;for(c=4766;4800>=c;c++)a[c]=0;for(c=5014;5016>=c;c++)a[c]=0;for(c=5069;5072>=c;c++)a[c]=0;for(c=5105;5130>=c;c++)a[c]=0;for(c=5173;5188>=c;c++)a[c]=0;for(c=5253;5259>=c;c++)a[c]=0;for(c=5269;5275>=c;c++)a[c]=0;for(c=5292;5311>=
c;c++)a[c]=0;for(c=5329;5331>=c;c++)a[c]=0;for(c=5343;5349>=c;c++)a[c]=0;for(c=5355;5357>=c;c++)a[c]=0;for(c=5387;5389>=c;c++)a[c]=0;for(c=5459;5463>=c;c++)a[c]=0;for(c=5479;5482>=c;c++)a[c]=0;for(c=5518;5520>=c;c++)a[c]=0;for(c=5530;5539>=c;c++)a[c]=0;for(c=5550;5552>=c;c++)a[c]=0;for(c=5562;5583>=c;c++)a[c]=0;for(c=5623;5625>=c;c++)a[c]=2;for(c=5631;5639>=c;c++)a[c]=0;for(c=5649;5653>=c;c++)a[c]=0;for(c=5663;5680>=c;c++)a[c]=0;for(c=5682;5685>=c;c++)a[c]=0;for(c=5875;5877>=c;c++)a[c]=0;for(c=5896;5899>=
c;c++)a[c]=0;for(c=5921;5940>=c;c++)a[c]=0;for(c=6050;6125>=c;c++)a[c]=0;for(c=6244;6275>=c;c++)a[c]=0;for(c=6328;6348>=c;c++)a[c]=0;for(c=6350;6356>=c;c++)a[c]=0;for(c=6366;6372>=c;c++)a[c]=0;for(c=6381;6387>=c;c++)a[c]=0;for(c=6393;6404>=c;c++)a[c]=0;for(c=6480;6483>=c;c++)a[c]=0;for(c=6511;6514>=c;c++)a[c]=0;for(c=6579;6581>=c;c++)a[c]=0;for(c=6619;6624>=c;c++)a[c]=0;for(c=6625;6627>=c;c++)a[c]=2;for(c=6628;6632>=c;c++)a[c]=0;for(c=6634;6637>=c;c++)a[c]=0;for(c=6669;6692>=c;c++)a[c]=0;for(c=6707;6709>=
c;c++)a[c]=0;for(c=6720;6723>=c;c++)a[c]=0;for(c=6732;6738>=c;c++)a[c]=0;for(c=6931;6933>=c;c++)a[c]=0;for(c=6956;6959>=c;c++)a[c]=0;for(c=7005;7007>=c;c++)a[c]=0;for(c=7057;7070>=c;c++)a[c]=2;for(c=7074;7082>=c;c++)a[c]=0;for(c=7109;7118>=c;c++)a[c]=0;for(c=7119;7127>=c;c++)a[c]=1;for(c=7374;7376>=c;c++)a[c]=0;for(c=7528;7586>=c;c++)a[c]=0;for(c=7587;7645>=c;c++)a[c]=2;for(c=7692;7696>=c;c++)a[c]=0;for(c=7755;7787>=c;c++)a[c]=0;for(c=7791;7795>=c;c++)a[c]=0;for(c=7799;7801>=c;c++)a[c]=0;for(c=7803;7805>=
c;c++)a[c]=0;for(c=7825;7831>=c;c++)a[c]=0;for(c=7845;7859>=c;c++)a[c]=0;for(c=8013;8032>=c;c++)a[c]=0;for(c=8065;8068>=c;c++)a[c]=1;for(c=8518;8529>=c;c++)a[c]=2;for(c=8533;8536>=c;c++)a[c]=2;for(c=8538;8540>=c;c++)a[c]=2;for(c=8677;8679>=c;c++)a[c]=0;for(c=8836;8840>=c;c++)a[c]=0;for(c=8857;8859>=c;c++)a[c]=0;for(c=8908;8910>=c;c++)a[c]=0;for(c=9154;9159>=c;c++)a[c]=0;for(c=9205;9218>=c;c++)a[c]=0;for(c=9271;9273>=c;c++)a[c]=0;for(c=20002;20032>=c;c++)a[c]=0;for(c=20062;20092>=c;c++)a[c]=0;for(c=
20135;20138>=c;c++)a[c]=0;for(c=20248;20258>=c;c++)a[c]=0;for(c=20348;20358>=c;c++)a[c]=0;for(c=20436;20440>=c;c++)a[c]=0;for(c=20822;20824>=c;c++)a[c]=0;for(c=20934;20936>=c;c++)a[c]=0;for(c=21035;21037>=c;c++)a[c]=0;for(c=21095;21097>=c;c++)a[c]=0;for(c=21148;21150>=c;c++)a[c]=0;for(c=21413;21423>=c;c++)a[c]=0;for(c=21453;21463>=c;c++)a[c]=0;for(c=21473;21483>=c;c++)a[c]=0;for(c=21780;21782>=c;c++)a[c]=0;for(c=21891;21894>=c;c++)a[c]=0;for(c=21896;21899>=c;c++)a[c]=0;for(c=22171;22177>=c;c++)a[c]=
0;for(c=22181;22187>=c;c++)a[c]=0;for(c=22191;22197>=c;c++)a[c]=0;for(c=22234;22236>=c;c++)a[c]=0;for(c=22521;22525>=c;c++)a[c]=0;for(c=22991;22994>=c;c++)a[c]=0;for(c=23028;23038>=c;c++)a[c]=0;for(c=23830;23853>=c;c++)a[c]=0;for(c=23866;23872>=c;c++)a[c]=0;for(c=23877;23884>=c;c++)a[c]=0;for(c=23886;23894>=c;c++)a[c]=0;for(c=23946;23948>=c;c++)a[c]=0;for(c=24311;24313>=c;c++)a[c]=0;for(c=24342;24347>=c;c++)a[c]=0;for(c=24370;24374>=c;c++)a[c]=10;for(c=24375;24381>=c;c++)a[c]=0;for(c=24718;24721>=
c;c++)a[c]=0;for(c=24817;24821>=c;c++)a[c]=0;for(c=24877;24882>=c;c++)a[c]=0;for(c=24891;24893>=c;c++)a[c]=0;for(c=25391;25395>=c;c++)a[c]=0;for(c=25828;25838>=c;c++)a[c]=0;for(c=26191;26195>=c;c++)a[c]=0;for(c=26391;26393>=c;c++)a[c]=0;for(c=26701;26722>=c;c++)a[c]=0;for(c=26729;26799>=c;c++)a[c]=2;for(c=26801;26803>=c;c++)a[c]=2;for(c=26811;26813>=c;c++)a[c]=2;for(c=26847;26870>=c;c++)a[c]=2;for(c=26891;26899>=c;c++)a[c]=0;for(c=26901;26923>=c;c++)a[c]=0;for(c=26929;26946>=c;c++)a[c]=0;for(c=26948;26998>=
c;c++)a[c]=0;for(c=27037;27040>=c;c++)a[c]=0;for(c=27205;27232>=c;c++)a[c]=0;for(c=27258;27260>=c;c++)a[c]=0;for(c=27391;27398>=c;c++)a[c]=0;for(c=27561;27564>=c;c++)a[c]=0;for(c=27571;27574>=c;c++)a[c]=0;for(c=27581;27584>=c;c++)a[c]=0;for(c=27591;27594>=c;c++)a[c]=0;for(c=28191;28193>=c;c++)a[c]=0;for(c=28348;28358>=c;c++)a[c]=0;for(c=28402;28432>=c;c++)a[c]=0;for(c=28462;28492>=c;c++)a[c]=0;for(c=29118;29122>=c;c++)a[c]=0;for(c=29168;29172>=c;c++)a[c]=0;for(c=29177;29185>=c;c++)a[c]=0;for(c=29187;29195>=
c;c++)a[c]=0;for(c=29900;29903>=c;c++)a[c]=0;for(c=30161;30179>=c;c++)a[c]=0;for(c=30491;30494>=c;c++)a[c]=0;for(c=30729;30732>=c;c++)a[c]=0;for(c=31251;31259>=c;c++)a[c]=0;for(c=31265;31268>=c;c++)a[c]=0;for(c=31275;31279>=c;c++)a[c]=0;for(c=31281;31297>=c;c++)a[c]=0;for(c=31461;31469>=c;c++)a[c]=0;for(c=31491;31495>=c;c++)a[c]=0;for(c=31917;31922>=c;c++)a[c]=0;for(c=31965;32E3>=c;c++)a[c]=0;for(c=32001;32003>=c;c++)a[c]=2;for(c=32005;32031>=c;c++)a[c]=2;for(c=32033;32060>=c;c++)a[c]=2;for(c=32064;32067>=
c;c++)a[c]=2;for(c=32074;32077>=c;c++)a[c]=2;for(c=32081;32086>=c;c++)a[c]=0;for(c=32107;32130>=c;c++)a[c]=0;for(c=32133;32158>=c;c++)a[c]=0;for(c=32164;32167>=c;c++)a[c]=2;for(c=32180;32199>=c;c++)a[c]=0;for(c=32201;32260>=c;c++)a[c]=0;for(c=32301;32360>=c;c++)a[c]=0;for(c=32601;32662>=c;c++)a[c]=0;for(c=32664;32667>=c;c++)a[c]=2;for(c=32701;32761>=c;c++)a[c]=0;for(c=53001;53004>=c;c++)a[c]=0;for(c=53008;53019>=c;c++)a[c]=0;for(c=53021;53032>=c;c++)a[c]=0;for(c=53034;53037>=c;c++)a[c]=0;for(c=53042;53046>=
c;c++)a[c]=0;for(c=53074;53080>=c;c++)a[c]=0;for(c=54001;54004>=c;c++)a[c]=0;for(c=54008;54019>=c;c++)a[c]=0;for(c=54021;54032>=c;c++)a[c]=0;for(c=54034;54037>=c;c++)a[c]=0;for(c=54042;54046>=c;c++)a[c]=0;for(c=54048;54053>=c;c++)a[c]=0;for(c=54074;54080>=c;c++)a[c]=0;for(c=54098;54101>=c;c++)a[c]=0;for(c=102001;102040>=c;c++)a[c]=0;for(c=102042;102063>=c;c++)a[c]=0;for(c=102065;102067>=c;c++)a[c]=0;for(c=102070;102117>=c;c++)a[c]=0;for(c=102122;102216>=c;c++)a[c]=0;for(c=102221;102377>=c;c++)a[c]=
0;for(c=102382;102388>=c;c++)a[c]=0;for(c=102389;102398>=c;c++)a[c]=2;for(c=102399;102444>=c;c++)a[c]=0;for(c=102445;102447>=c;c++)a[c]=2;for(c=102448;102458>=c;c++)a[c]=0;for(c=102459;102468>=c;c++)a[c]=2;for(c=102469;102499>=c;c++)a[c]=0;for(c=102500;102519>=c;c++)a[c]=1;for(c=102520;102524>=c;c++)a[c]=0;for(c=102525;102529>=c;c++)a[c]=2;for(c=102530;102588>=c;c++)a[c]=0;for(c=102590;102598>=c;c++)a[c]=0;for(c=102601;102603>=c;c++)a[c]=0;for(c=102605;102628>=c;c++)a[c]=0;for(c=102629;102646>=c;c++)a[c]=
2;for(c=102648;102700>=c;c++)a[c]=2;for(c=102701;102703>=c;c++)a[c]=0;for(c=102707;102730>=c;c++)a[c]=2;for(c=102733;102758>=c;c++)a[c]=2;for(c=102767;102900>=c;c++)a[c]=0;for(c=102965;102969>=c;c++)a[c]=0;for(c=102971;102973>=c;c++)a[c]=0;for(c=102975;102989>=c;c++)a[c]=0;for(c=102990;102992>=c;c++)a[c]=1;for(c=102997;103002>=c;c++)a[c]=0;for(c=103003;103008>=c;c++)a[c]=2;for(c=103009;103011>=c;c++)a[c]=0;for(c=103012;103014>=c;c++)a[c]=2;for(c=103019;103021>=c;c++)a[c]=0;for(c=103022;103024>=c;c++)a[c]=
2;for(c=103029;103031>=c;c++)a[c]=0;for(c=103032;103034>=c;c++)a[c]=2;for(c=103065;103068>=c;c++)a[c]=0;for(c=103074;103076>=c;c++)a[c]=0;for(c=103077;103079>=c;c++)a[c]=1;for(c=103080;103082>=c;c++)a[c]=0;for(c=103083;103085>=c;c++)a[c]=2;for(c=103090;103093>=c;c++)a[c]=0;for(c=103097;103099>=c;c++)a[c]=0;for(c=103100;103102>=c;c++)a[c]=2;for(c=103107;103109>=c;c++)a[c]=0;for(c=103110;103112>=c;c++)a[c]=2;for(c=103113;103116>=c;c++)a[c]=0;for(c=103117;103120>=c;c++)a[c]=2;for(c=103153;103157>=c;c++)a[c]=
0;for(c=103158;103162>=c;c++)a[c]=2;for(c=103163;103165>=c;c++)a[c]=0;for(c=103166;103168>=c;c++)a[c]=1;for(c=103169;103171>=c;c++)a[c]=2;for(c=103186;103188>=c;c++)a[c]=0;for(c=103189;103191>=c;c++)a[c]=2;for(c=103192;103195>=c;c++)a[c]=0;for(c=103196;103199>=c;c++)a[c]=2;for(c=103200;103224>=c;c++)a[c]=0;for(c=103225;103227>=c;c++)a[c]=1;for(c=103232;103237>=c;c++)a[c]=0;for(c=103238;103243>=c;c++)a[c]=2;for(c=103244;103246>=c;c++)a[c]=0;for(c=103247;103249>=c;c++)a[c]=2;for(c=103254;103256>=c;c++)a[c]=
0;for(c=103257;103259>=c;c++)a[c]=2;for(c=103264;103266>=c;c++)a[c]=0;for(c=103267;103269>=c;c++)a[c]=2;for(c=103300;103375>=c;c++)a[c]=0;for(c=103381;103383>=c;c++)a[c]=0;for(c=103384;103386>=c;c++)a[c]=1;for(c=103387;103389>=c;c++)a[c]=0;for(c=103390;103392>=c;c++)a[c]=2;for(c=103397;103399>=c;c++)a[c]=0;for(c=103400;103471>=c;c++)a[c]=2;for(c=103476;103478>=c;c++)a[c]=0;for(c=103479;103481>=c;c++)a[c]=2;for(c=103486;103488>=c;c++)a[c]=0;for(c=103489;103491>=c;c++)a[c]=2;for(c=103492;103495>=c;c++)a[c]=
0;for(c=103496;103499>=c;c++)a[c]=2;for(c=103528;103543>=c;c++)a[c]=0;for(c=103544;103548>=c;c++)a[c]=2;for(c=103549;103551>=c;c++)a[c]=0;for(c=103552;103554>=c;c++)a[c]=1;for(c=103555;103557>=c;c++)a[c]=2;for(c=103558;103560>=c;c++)a[c]=0;for(c=103571;103573>=c;c++)a[c]=0;for(c=103574;103576>=c;c++)a[c]=2;for(c=103577;103580>=c;c++)a[c]=0;for(c=103581;103583>=c;c++)a[c]=2;for(c=103595;103598>=c;c++)a[c]=0;for(c=103600;103694>=c;c++)a[c]=0;for(c=103696;103699>=c;c++)a[c]=0;for(c=103700;103793>=c;c++)a[c]=
2;for(c=103794;103871>=c;c++)a[c]=0;for(c=103900;103971>=c;c++)a[c]=2;return a})},"esri/geometry/Point":function(){define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){function m(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var q=[0,0],r=l.getLogger("esri.geometry.Point");
c=function(a){function c(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}b.__extends(c,a);f=c;c.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};c.distance=function(a,b){var d=a.x-b.x,e=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(d*d+e*e+a*a)};c.prototype.normalizeCtorArgs=
function(a,b,g,c,f){var n;if(Array.isArray(a))n=a,f=b,a=n[0],b=n[1],g=n[2],c=n[3];else if(a&&"object"===typeof a){if(n=a,a=null!=n.x?n.x:n.longitude,b=null!=n.y?n.y:n.latitude,g=n.z,c=n.m,(f=n.spatialReference)&&"esri.geometry.SpatialReference"!==f.declaredClass&&(f=new e(f)),null!=n.longitude||null!=n.latitude)null==n.longitude?r.warn(".longitude\x3d","Latitude was defined without longitude"):null==n.latitude?r.warn(".latitude\x3d","Longitude was defined without latitude"):!n.declaredClass&&f&&f.isWebMercator&&
(b=d.lngLatToXY(n.longitude,n.latitude,q),a=b[0],b=b[1])}else m(g)?(f=g,g=null):m(c)&&(f=c,c=null);a={x:a,y:b};null==a.x&&null!=a.y?r.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&r.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=f&&(a.spatialReference=f);null!=g&&(a.z=g);null!=c&&(a.m=c);return a};Object.defineProperty(c.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),
this._set("hasM",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return d.xyToLngLat(this.x,this.y,q)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");
b&&(b.isWebMercator?this._set("y",d.lngLatToXY(this.x,a,q)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return d.xyToLngLat(this._get("x"),this._get("y"),q)[0];if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",d.lngLatToXY(a,this._get("y"),
q)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!1,configurable:!0});c.prototype.writeX=function(a,b,d){b[d]=isNaN(a)?"NaN":a};c.prototype.readX=function(a){return"string"===typeof a?NaN:a};c.prototype.clone=function(){var a=new f;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};c.prototype.copy=function(a){f.copy(a,this);return this};c.prototype.equals=function(a){var b;if(!a)return!1;var e=this.x,g=this.y,c=this.z,f=this.m,
m=this.spatialReference,n=a.z,q=a.m,p=a.x;b=a.y;a=a.spatialReference;if(!m.equals(a))if(m.isWebMercator&&a.isWGS84)b=d.lngLatToXY(p,b),p=b[0],b=b[1],a=m;else if(m.isWGS84&&a.isWebMercator)b=d.xyToLngLat(p,b),p=b[0],b=b[1],a=m;else return!1;return e===p&&g===b&&c===n&&f===q&&m.wkid===a.wkid};c.prototype.offset=function(a,b,d){return n.offsetPoint(this,a,b,d)};c.prototype.normalize=function(){if(!this.spatialReference)return this;var a=g.getInfo(this.spatialReference);if(!a)return this;var b=this.x,
d=a.valid,a=d[0],e=d[1],d=2*e;b>e?(a=Math.ceil(Math.abs(b-e)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};c.prototype.distance=function(a){return f.distance(this,a)};c.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};c.prototype.toJSON=function(a){return this.write(null,a)};var f;b.__decorate([h.property({dependsOn:["x","y","z","m","spatialReference"]})],
c.prototype,"cache",void 0);b.__decorate([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);b.__decorate([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);b.__decorate([h.property({type:Number,dependsOn:["y"]})],c.prototype,"latitude",null);b.__decorate([h.property({type:Number,dependsOn:["x"]})],c.prototype,"longitude",null);b.__decorate([h.property({type:Number,
json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h.cast(function(a){return isNaN(a)?a:k.ensureNumber(a)})],c.prototype,"x",void 0);b.__decorate([h.writer("x")],c.prototype,"writeX",null);b.__decorate([h.reader("x")],c.prototype,"readX",null);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);b.__decorate([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);b.__decorate([h.property({type:Number,
json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);return c=f=b.__decorate([h.subclass("esri.geometry.Point")],c)}(f);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/offset":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.offsetCoordsX=a.offsetPoint=void 0;a.offsetPoint=function(a,c,h,k){a.x+=c;a.y+=h;null!=k&&null!=a.z&&(a.z+=k);return a};a.offsetCoordsX=function(a,c){a[0]+=
c;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../SpatialReference ./geodesicConstants ./spatialReferenceUtils".split(" "),function(c,a,b,l,h,k){function f(a,b,e,g,c){var f;if("x"in a&&"x"in c)b=b(a.x,a.y,d,g),c.x=b[0],c.y=b[1];else if("xmin"in a&&"xmin"in c)f=b(a.xmin,a.ymin,d,g),c.xmin=f[0],c.ymin=f[1],b=b(a.xmax,a.ymax,d,g),c.xmax=b[0],c.ymax=b[1];else if("paths"in a&&"paths"in c||"rings"in a&&"rings"in c){f="paths"in a?a.paths:a.rings;
var m=[],n=void 0;for(a=0;a<f.length;a++){var q=f[a],n=[];m.push(n);for(var p=0;p<q.length;p++)n.push(b(q[p][0],q[p][1],[0,0],g)),2<q[p].length&&n[p].push(q[p][2]),3<q[p].length&&n[p].push(q[p][3])}"paths"in c?c.paths=m:c.rings=m}else if("points"in a&&"points"in c){f=a.points;m=[];for(a=0;a<f.length;a++)m[a]=b(f[a][0],f[a][1],[0,0],g),2<f[a].length&&m[a].push(f[a][2]),3<f[a].length&&m[a].push(f[a][3]);c.points=m}else if("type"in a&&"mesh"===a.type&&"type"in c&&"mesh"===c.type&&(f=a.vertexAttributes&&
a.vertexAttributes.position,m=c.vertexAttributes&&c.vertexAttributes.position,f))for(n=[0,0],a=0;a<f.length;a+=3)b(f[a],f[a+1],n,g),m[a]=n[0],m[a+1]=n[1];c.spatialReference=e;return c}function e(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?k.equals(b,a)?!0:k.isWebMercator(b)&&k.isWGS84(a)||k.isWebMercator(a)&&k.isWGS84(b):!1}function n(a,b,d){void 0===d&&(d=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;
d[0]=.017453292519943*a*h.earthRadius;d[1]=h.halfEarthRadius*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return d}function g(a,b,d,e){void 0===d&&(d=[0,0]);void 0===e&&(e=!1);a=a/h.earthRadius*57.29577951308232;d[0]=e?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/h.earthRadius)));return d}Object.defineProperty(a,"__esModule",{value:!0});a.webMercatorToGeographic=a.geographicToWebMercator=a.xyToLngLat=a.lngLatToXY=a.project=a.canProject=void 0;var d=[0,0];
a.canProject=e;a.project=function(a,d){var c=a&&a.spatialReference;d=d&&(null!=d.wkid||null!=d.wkt?d:d.spatialReference);return e(c,d)?k.equals(c,d)?b.clone(a):k.isWebMercator(d)?f(a,n,l.WebMercator,!1,b.clone(a)):k.isWGS84(d)?f(a,g,l.WGS84,!1,b.clone(a)):null:null};a.lngLatToXY=n;a.xyToLngLat=g;a.geographicToWebMercator=function(a,d,e){void 0===d&&(d=!1);void 0===e&&(e=b.clone(a));return f(a,n,l.WebMercator,d,e)};a.webMercatorToGeographic=function(a,d,e){void 0===d&&(d=!1);void 0===e&&(e=b.clone(a));
return f(a,g,l.WGS84,d,e)}})},"esri/geometry/support/geodesicConstants":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.spheroids=a.earthEllipsoidConstants=a.earthSqEccentricity=a.earthEccentricity=a.densificationRatio=a.earthInverseFlattening=a.earthFlattening=a.metersPerDegree=a.halfEarthCircumference=a.halfEarthRadius=a.earthRadius=a.WKT_SPHEROID_REGEX=a.toRadians=void 0;a.toRadians=Math.PI/180;a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;
a.earthRadius=6378137;a.halfEarthRadius=a.earthRadius/2;a.halfEarthCircumference=Math.PI*a.earthRadius;a.metersPerDegree=a.halfEarthCircumference/180;a.earthFlattening=1/298.257223563;a.earthInverseFlattening=1/(1-a.earthFlattening)-1;a.densificationRatio=.0015696101447650193;a.earthEccentricity=.0818191908426215;a.earthSqEccentricity=.006694379990137799;a.earthEllipsoidConstants={a:a.earthRadius,e2:a.earthSqEccentricity,a1:a.earthRadius*a.earthSqEccentricity,a2:a.earthRadius*a.earthSqEccentricity*
a.earthRadius*a.earthSqEccentricity,a3:a.earthRadius*a.earthSqEccentricity*a.earthSqEccentricity/2,a4:a.earthRadius*a.earthSqEccentricity*a.earthRadius*a.earthSqEccentricity*2.5,a5:a.earthRadius*a.earthSqEccentricity+a.earthRadius*a.earthSqEccentricity*a.earthSqEccentricity/2,a6:1-a.earthSqEccentricity};a.spheroids={4326:{a:a.earthRadius,f:a.earthFlattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,
f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,
f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},
104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,
f:0},104974:{a:2439400,f:0}}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(c,a){function b(a,b){return l(a,b[0],b[1])}function l(a,b,g,d){return b>=a.xmin&&b<=a.xmax&&g>=a.ymin&&g<=a.ymax?null!=d&&a.hasZ?d>=a.zmin&&d<=a.zmax:!0:!1}function h(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var e=!1,d=0,c=a.length;d<c;d++)e=k(e,a[d],b);b=e}else b=k(!1,a,b);else b=!1;return b}function k(a,b,g){var d=g[0];g=g[1];for(var e=0,c=0,f=b.length;c<f;c++){e++;e===f&&(e=
0);var n=b[c],t=n[0],n=n[1],w=b[e],v=w[0],w=w[1];(n<g&&w>=g||w<g&&n>=g)&&t+(g-n)/(w-n)*(v-t)<d&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});a.polygonContainsCoords=a.polygonContainsPoint=a.extentContainsCoords3D=a.extentContainsCoords2D=a.extentContainsExtent=a.extentContainsMultipoint=a.extentContainsPoint=void 0;var f=[0,0];a.extentContainsPoint=function(a,b){return l(a,b.x,b.y,b.z)};a.extentContainsMultipoint=function(a,c){if(!c.points||c.points.length)return!1;var e=0;for(c=
c.points;e<c.length;e++)if(!b(a,c[e]))return!1;return!0};a.extentContainsExtent=function(a,b){var e=b.xmin,d=b.ymin,c=b.zmin,f=b.xmax,n=b.ymax,p=b.zmax;return a.hasZ&&b.hasZ?l(a,e,d,c)&&l(a,e,n,c)&&l(a,f,n,c)&&l(a,f,d,c)&&l(a,e,d,p)&&l(a,e,n,p)&&l(a,f,n,p)&&l(a,f,d,p):l(a,e,d)&&l(a,e,n)&&l(a,f,n)&&l(a,f,d)};a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(a,b){return l(a,b[0],b[1],b[2])};a.polygonContainsPoint=function(a,b){f[1]=b.y;f[0]=b.x;return h(a,f)};a.polygonContainsCoords=h})},
"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(c,a,b){function l(a,d){return b.extentContainsPoint(a,d)}function h(a,b){var d=a.hasZ&&b.hasZ,e;if(a.xmin<=b.xmin){if(e=b.xmin,a.xmax<e)return!1}else if(e=a.xmin,b.xmax<e)return!1;if(a.ymin<=b.ymin){if(e=b.ymin,a.ymax<e)return!1}else if(e=a.ymin,b.ymax<e)return!1;if(d&&b.hasZ)if(a.zmin<=b.zmin){if(d=b.zmin,a.zmax<d)return!1}else if(d=a.zmin,b.zmax<d)return!1;return!0}function k(a,d){var e=d.hasZ?b.extentContainsCoords3D:
b.extentContainsCoords2D,g=0;for(d=d.points;g<d.length;g++)if(e(a,d[g]))return!0;return!1}function f(a,e){d[0]=a.xmin;d[1]=a.ymax;m[0]=a.xmax;m[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;for(var g=0,c=p;g<c.length;g++)if(b.polygonContainsCoords(e,c[g]))return!0;g=0;for(e=e.rings;g<e.length;g++)if(c=e[g],c.length){var f=c[0];if(b.extentContainsCoords2D(a,f))return!0;for(var w=1;w<c.length;w++){var u=c[w];if(b.extentContainsCoords2D(a,u)||n(f,u,t))return!0;f=u}}return!1}function e(a,
e){d[0]=a.xmin;d[1]=a.ymax;m[0]=a.xmax;m[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;e=e.paths;for(var g=0;g<e.length;g++){var c=e[g];if(e.length){var f=c[0];if(b.extentContainsCoords2D(a,f))return!0;for(var p=1;p<c.length;p++){var w=c[p];if(b.extentContainsCoords2D(a,w)||n(f,w,t))return!0;f=w}}}return!1}function n(a,b,d){for(var e=0;e<d.length;e++)if(g(a,b,d[e][0],d[e][1]))return!0;return!1}function g(a,b,d,e,g){var c=a[0];a=a[1];var f=b[0];b=b[1];var m=d[0],n=d[1];d=e[0]-m;var m=c-
m,p=f-c;e=e[1]-n;var n=a-n,q=b-a,t=e*p-d*q;if(0===t)return!1;d=(d*n-e*m)/t;m=(p*n-q*m)/t;return 0<=d&&1>=d&&0<=m&&1>=m?(g&&(g[0]=c+d*(f-c),g[1]=a+d*(b-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});a.getExtentIntersector=a.segmentIntersects=a.isSelfIntersecting=a.extentIntersectsPolyline=a.extentIntersectsPolygon=a.extentIntersectsMultipoint=a.extentIntersectsExtent=a.extentIntersectsPoint=void 0;a.extentIntersectsPoint=l;a.extentIntersectsExtent=h;a.extentIntersectsMultipoint=k;var d=
[0,0],m=[0,0],q=[0,0],r=[0,0],p=[d,m,q,r],t=[[q,d],[d,m],[m,r],[r,q]];a.extentIntersectsPolygon=f;a.extentIntersectsPolyline=e;var w=[0,0];a.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],e=0;e<d.length-1;e++)for(var c=d[e],f=d[e+1],m=b+1;m<a.length;m++)for(var n=0;n<a[m].length-1;n++){var p=a[m][n],q=a[m][n+1],t=g(c,f,p,q,w);if(t&&!(w[0]===c[0]&&w[1]===c[1]||w[0]===p[0]&&w[1]===p[1]||w[0]===f[0]&&w[1]===f[1]||w[0]===q[0]&&w[1]===q[1]))return!0}n=d.length;if(!(4>=n))for(e=
0;e<n-3;e++){var r=n-1;0===e&&(r=n-2);c=d[e];f=d[e+1];for(m=e+2;m<r;m++)if(p=d[m],q=d[m+1],(t=g(c,f,p,q,w))&&!(w[0]===c[0]&&w[1]===c[1]||w[0]===p[0]&&w[1]===p[1]||w[0]===f[0]&&w[1]===f[1]||w[0]===q[0]&&w[1]===q[1]))return!0}}return!1};a.segmentIntersects=g;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return h;case "esriGeometryMultipoint":case "multipoint":return k;case "esriGeometryPoint":case "point":return l;case "esriGeometryPolygon":case "polygon":return f;
case "esriGeometryPolyline":case "polyline":return e;case "mesh":return h}}})},"esri/geometry/Multipoint":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}c=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.points=[];b.type="multipoint";return b}
b.__extends(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var d={};Array.isArray(a)?(d.points=a,d.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(d.points=a.points),a.spatialReference&&(d.spatialReference=a.spatialReference),a.hasZ&&(d.hasZ=a.hasZ),a.hasM&&(d.hasM=a.hasM)):d.spatialReference=a;if(a=d.points&&d.points[0])void 0===d.hasZ&&void 0===d.hasM?(d.hasZ=2<a.length,d.hasM=!1):void 0===d.hasZ?d.hasZ=3<a.length:
void 0===d.hasM&&(d.hasM=3<a.length);return d};Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new k,d=this.hasZ,e=this.hasM,c=d?3:2,f=a[0],n=g(Math.min),m=g(Math.max),q=f[0],h=f[1],l=f[0],f=f[1],E,C,D,F,I=0,G=a.length;I<G;I++){var H=a[I],J=H[0],L=H[1],q=n(q,J),h=n(h,L),l=m(l,J),f=m(f,L);d&&2<H.length&&(J=H[2],E=n(E,J),D=m(D,J));e&&H.length>c&&(H=H[c],C=n(C,H),F=m(F,H))}b.xmin=q;b.ymin=h;b.xmax=l;b.ymax=f;b.spatialReference=this.spatialReference;
d?(b.zmin=E,b.zmax=D):(b.zmin=null,b.zmax=null);e?(b.mmin=C,b.mmax=F):(b.mmin=null,b.mmax=null);return b},enumerable:!1,configurable:!0});d.prototype.writePoints=function(a,b){b.points=l.clone(this.points)};d.prototype.addPoint=function(a){this.clearCache();n.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};d.prototype.clone=function(){var a={points:l.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&
(a.hasM=!0);return new c(a)};d.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},d=2;this.hasZ&&(b.z=a[2],d=3);this.hasM&&(b.m=a[d]);return new e(b)};d.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;this.clearCache();return new e(this.points.splice(a,1)[0],this.spatialReference)};d.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();n.updateSupportFromPoint(this,
b);Array.isArray(b)||(b=b.toArray());this.points[a]=b;return this};d.prototype.toJSON=function(a){return this.write(null,a)};d.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var c;b.__decorate([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],d.prototype,"cache",void 0);b.__decorate([h.property({dependsOn:["cache"]})],d.prototype,"extent",null);b.__decorate([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);
b.__decorate([h.writer("points")],d.prototype,"writePoints",null);return d=c=b.__decorate([h.subclass("esri.geometry.Multipoint")],d)}(f);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.updateSupportFromPoint=void 0;a.updateSupportFromPoint=function(a,c,h){void 0===h&&(h=!1);var b=a.hasM,f=a.hasZ;Array.isArray(c)?4!==c.length||b||f?3===c.length&&h&&!b?(f=!0,b=
!1):3===c.length&&b&&f&&(f=b=!1):f=b=!0:(f=!f&&c.hasZ&&(!b||c.hasM),b=!b&&c.hasM&&(!f||c.hasZ));a.hasZ=f;a.hasM=b}})},"esri/geometry/Polygon":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t){c=function(a){function c(){for(var b=
[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}b.__extends(c,a);f=c;c.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var d=!1,e=!1;b.map(function(a){a.hasZ&&(d=!0);a.hasM&&(e=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var c=a.zmin+.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(c);if(e&&a.hasM)for(a=a.mmin+.5*(a.mmax-
a.mmin),g=0;g<b.length;g++)b[g].push(a);return b}),spatialReference:a};d&&(b.hasZ=!0);e&&(b.hasM=!0);return new f(b)};c.prototype.normalizeCtorArgs=function(a,b){var d=null,e,g,c=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,g=a.hasM):d=a;d=d||[];b=b||n.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(c=d[0]&&d[0][0])void 0===e&&void 0===g?(e=2<c.length,g=!1):void 0===e?e=!g&&3<c.length:void 0===g&&
(g=!e&&3<c.length);return{rings:d,spatialReference:b,hasZ:e,hasM:g}};Object.defineProperty(c.prototype,"centroid",{get:function(){var a=g.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new e;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"extent",{get:function(){var a=this.spatialReference,b=q.getPolygonExtent(this);if(!b)return null;b=new k(b);
b.spatialReference=a;return b},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"isSelfIntersecting",{get:function(){return r.isSelfIntersecting(this.rings)},enumerable:!1,configurable:!0});c.prototype.writePaths=function(a,b){b.rings=l.clone(this.rings)};c.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var e=[],g=0,c=a.length;g<c;g++)e[g]=a[g].toArray();b[d]=e}return this}};c.prototype.clone=function(){var a=
new f;a.spatialReference=this.spatialReference;a.rings=l.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};c.prototype.contains=function(a){if(!a)return!1;p.canProject(a,this.spatialReference)&&(a=p.project(a,this.spatialReference));return d.polygonContainsPoint(this,a)};c.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return m.isClockwise(a,this.hasM,this.hasZ)};c.prototype.getPoint=
function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new e(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new e(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new e(a[0],a[1],a[2],a[3],this.spatialReference):new e(a[0],a[1],this.spatialReference)};c.prototype.insertPoint=function(a,b,d){if(!this._validateInputs(a,b,!0))return this;this.clearCache();t.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.rings[a].splice(b,
0,d);return this};c.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new e(this.rings[a].splice(b,1)[0],this.spatialReference)};c.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new e(a,b)})};c.prototype.setPoint=function(a,b,d){if(!this._validateInputs(a,b))return this;this.clearCache();t.updateSupportFromPoint(this,
d);Array.isArray(d)||(d=d.toArray());this.rings[a][b]=d;return this};c.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};c.prototype.toJSON=function(a){return this.write(null,a)};var f;b.__decorate([h.property({dependsOn:["hasM","hasZ","rings"]})],c.prototype,"cache",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["cache"]})],c.prototype,"centroid",null);b.__decorate([h.property({dependsOn:["cache"],
readOnly:!0})],c.prototype,"extent",null);b.__decorate([h.property({dependsOn:["cache"],readOnly:!0})],c.prototype,"isSelfIntersecting",null);b.__decorate([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],c.prototype,"rings",void 0);b.__decorate([h.writer("rings")],c.prototype,"writePaths",null);return c=f=b.__decorate([h.subclass("esri.geometry.Polygon")],c)}(f);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(c,a,b){function l(a,b){if(!a||!a.length)return null;for(var e=[],g=[],d=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],c=0,f=a.length;c<f;c++){var r=h(a[c],b,d);r&&g.push(r)}g.sort(function(a,d){var e=a[2]-d[2];0===e&&b&&(e=a[4]-d[4]);return e});g.length&&(c=6*g[0][2],e[0]=g[0][0]/c,e[1]=g[0][1]/c,b&&(c=6*g[0][4],e[2]=0!==c?g[0][3]/c:0),e[0]<d[0]||e[0]>d[1]||e[1]<d[2]||e[1]>d[3]||b&&(e[2]<d[4]||e[2]>d[5]))&&(e.length=
0);if(!e.length)if(a=a[0]&&a[0].length?k(a[0],b):null)e[0]=a[0],e[1]=a[1],b&&2<a.length&&(e[2]=a[2]);else return null;return e}function h(a,b,c){for(var e=0,d=0,f=0,n=0,r=0,p=0;p<a.length;p++){var t=a[p],w=t[0],v=t[1],u=t[2],k=a[(p+1)%a.length],h=k[0],l=k[1],B=k[2],A=w*l-h*v,n=n+A,e=e+(w+h)*A,d=d+(v+l)*A;b&&2<t.length&&2<k.length&&(A=w*B-h*u,f+=(u+B)*A,r+=A);w<c[0]&&(c[0]=w);w>c[1]&&(c[1]=w);v<c[2]&&(c[2]=v);v>c[3]&&(c[3]=v);b&&(u<c[4]&&(c[4]=u),u>c[5]&&(c[5]=u))}0<n&&(n*=-1);0<r&&(r*=-1);if(!n)return null;
a=[e,d,.5*n];b&&(a[3]=f,a[4]=.5*r);return a}function k(a,e){for(var c=e?[0,0,0]:[0,0],g=e?[0,0,0]:[0,0],d=0,f=0,q=0,r=0,p=0,t=a.length;p<t-1;p++){var w=a[p],k=a[p+1];if(w&&k){c[0]=w[0];c[1]=w[1];g[0]=k[0];g[1]=k[1];e&&2<w.length&&2<k.length&&(c[2]=w[2],g[2]=k[2]);var u=b.getLength(c,g);u&&(d+=u,w=b.getMidpoint(w,k),f+=u*w[0],q+=u*w[1],e&&2<w.length&&(r+=u*w[2]))}}return 0<d?e?[f/d,q/d,r/d]:[f/d,q/d]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.lineCentroid=a.ringsCentroid=
a.polygonCentroid=a.extentCentroid=void 0;a.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?l(a.rings,a.hasZ):null};a.ringsCentroid=l;a.lineCentroid=k})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(c,a,b){function l(a,b){var e=b[0]-a[0],d=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(e*e+d*d+
a*a)):Math.sqrt(e*e+d*d)}function h(a,b,c){var d=a[0]+c*(b[0]-a[0]),e=a[1]+c*(b[1]-a[1]);return 2<a.length&&2<b.length?[d,e,a[2]+c*(b[2]-a[2])]:[d,e]}function k(a,b,c){for(var d=a.length,e=0,g=0,f=0,n=0;n<d;n++){var t=a[n],w=a[(n+1)%d],k=2,e=e+(t[0]*w[1]-w[0]*t[1]);2<t.length&&2<w.length&&c&&(g+=t[0]*w[2]-w[0]*t[2],k=3);t.length>k&&w.length>k&&b&&(f+=t[0]*w[k]-w[0]*t[k])}return 0>=e&&0>=g&&0>=f}function f(a,c){if(c=b.getInfo(c)){var e=c.valid[0],d=c.valid[1],f=d-e;c=function(a){var b=Infinity,c=-Infinity;
a.forEach(function(a){for(var g=a[0];g<e;)g+=f;for(;g>d;)g-=f;b=Math.min(b,g);c=Math.max(c,g);a[0]=g});var g=c-b;f-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=f)})};for(var n=0;n<a.length;n++)c(a[n])}}Object.defineProperty(a,"__esModule",{value:!0});a.computeUnnormalizedVertexPositionsOnDateLineCrossing=a.unnormalizeVerticesOnDatelineCrossing=a.unnormalizeGeometryOnDatelineCrossing=a.getRingArea=a.closeRings=a.closeRingsAndFixWinding=a.isClockwise=a.getPointOnPath=a.getPathLength=a.getMidpoint=a.projectPointOnLine=
a.getLength=a.geometryToCoordinates=void 0;a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,e=a.hasM;if("point"===a.type)return e&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:e?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var d=!1,c=!1;a.forEach(function(a){a.hasZ&&(d=!0);a.hasM&&
(c=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var e=.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(e);if(c&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b})}return null};a.getLength=l;a.projectPointOnLine=function(a,b,c,d){var e=c[d],g=e[0],e=e[1];d=c[d+1];c=d[0]-g;d=d[1]-e;b=Math.min(1,Math.max(0,((b[0]-g)*c+(b[1]-e)*d)/(c*c+d*d)));a[0]=g+c*b;a[1]=e+d*b;return a};a.getMidpoint=
function(a,b){return h(a,b,.5)};a.getPathLength=function(a){for(var b=a.length,e=0,d=0;d<b-1;++d)e+=l(a[d],a[d+1]);return e};a.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var e=a.length,d=0,c=0;c<e-1;++c){var f=l(a[c],a[c+1]);if(b-d<f)return h(a[c],a[c+1],(b-d)/f);d+=f}return a[e-1]};a.isClockwise=k;a.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,e=a.rings;b<e.length;b++){var d=e[b];3>d.length||d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push([d[0][0],d[0][1]])}if(0<
a.rings.length&&!k(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=a.rings[b].reverse()}};a.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var e=a[b];3>e.length||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]])}}};a.getRingArea=function(a){for(var b=a.length,e=0,d=0;d<b;d++)var c=a[d],f=a[(d+1)%b],e=e+(c[0]*f[1]-f[0]*c[1]);return e};a.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==
a.type)return a;f("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};a.unnormalizeVerticesOnDatelineCrossing=f;a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,c,d){var e=Infinity,g=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<b;)f+=d;for(;f>c;)f-=d;e=Math.min(e,f);g=Math.max(g,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var f=g-e;d-f<f&&a.forEach(function(a){0>
a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=d)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(c,a,b){function l(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=!1);return b?e?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:e?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function h(a){var d=a.hasZ,
e=a.hasM;return l(b.getPointsBounds(n,a.points,d,e),d,e)}function k(a){var b=a.x,e=a.y,c=a.z;a=a.m;var g=null!=a;return null!=c?g?{xmin:b,ymin:e,zmin:c,mmin:a,xmax:b,ymax:e,zmax:c,mmax:a}:{xmin:b,ymin:e,zmin:c,xmax:b,ymax:e,zmax:c}:g?{xmin:b,ymin:e,mmin:a,xmax:b,ymax:e,mmax:a}:{xmin:b,ymin:e,xmax:b,ymax:e}}function f(a){var d=a.hasZ,e=a.hasM;return(a=b.getRingsOrPathsBounds(n,a.rings,d,e))?l(a,d,e):null}function e(a){var d=a.hasZ,e=a.hasM;return(a=b.getRingsOrPathsBounds(n,a.paths,d,e))?l(a,d,e):
null}Object.defineProperty(a,"__esModule",{value:!0});a.getPolylineExtent=a.getPolygonExtent=a.getPointExtent=a.getMultipointExtent=a.getGeometryExtent=void 0;var n=[];a.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?k(a):void 0!==a.rings?f(a):void 0!==a.paths?e(a):void 0!==a.points?h(a):null:null};a.getMultipointExtent=h;a.getPointExtent=k;a.getPolygonExtent=f;a.getPolylineExtent=e})},"esri/geometry/support/boundsUtils":function(){define(["require",
"exports"],function(c,a){function b(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function l(a){return function(b,e){return null==b?e:null==e?b:a(b,e)}}function h(a,b,c,f){var d=c?3:2;if(!b.length||!b[0].length)return null;for(var g=b[0][0],m=g[0],g=g[1],q=b[0][0],k=q[0],q=q[1],u=void 0,h=void 0,l=void 0,z=void 0,B=0;B<b.length;B++)for(var A=b[B],E=0;E<A.length;E++){var C=A[E],D=C[0],F=C[1],m=e(m,D),g=e(g,F),k=n(k,D),q=n(q,F);c&&2<C.length&&(D=C[2],u=e(u,D),h=n(h,D));
f&&C.length>d&&(z=C[d],l=e(u,z),z=n(h,z))}if(c){if(f)return a[0]=m,a[1]=g,a[2]=u,a[3]=l,a[4]=k,a[5]=q,a[6]=h,a[7]=z,a.length=8,a;a[0]=m;a[1]=g;a[2]=u;a[3]=k;a[4]=q;a[5]=h;a.length=6;return a}if(f)return a[0]=m,a[1]=g,a[2]=l,a[3]=k,a[4]=q,a[5]=z,a.length=6,a;a[0]=m;a[1]=g;a[2]=k;a[3]=q;a.length=4;return a}function k(a,b,e,c,f,n){e=b.xmin;c=b.xmax;var d=b.ymin,g=b.ymax,m=b.zmin,p=b.zmax,q=b.mmin;b=b.mmax;if(f){m=m||0;p=p||0;if(n)return a[0]=e,a[1]=d,a[2]=m,a[3]=q||0,a[4]=c,a[5]=g,a[6]=p,a[7]=b||0,a;
a[0]=e;a[1]=d;a[2]=m;a[3]=c;a[4]=g;a[5]=p;return a}if(n)return a[0]=e,a[1]=d,a[2]=q||0,a[3]=c,a[4]=g,a[5]=b||0,a;a[0]=e;a[1]=d;a[2]=c;a[3]=g;return a}function f(a,b,c,f,r,p){var d=c?3:2;f=f&&p;c=c&&r;if(!b.length||!b[0].length)return null;for(var g=b[0],m=g[0],g=g[1],q=b[0],k=q[0],q=q[1],h=void 0,l=void 0,B=void 0,A=void 0,E=0;E<b.length;E++){var C=b[E],D=C[0],F=C[1],m=e(m,D),g=e(g,F),k=n(k,D),q=n(q,F);c&&2<C.length&&(D=C[2],h=e(h,D),l=n(l,D));f&&C.length>d&&(A=C[d],B=e(h,A),A=n(l,A))}if(r){h=h||
0;l=l||0;if(p)return a[0]=m,a[1]=g,a[2]=h,a[3]=B||0,a[4]=k,a[5]=q,a[6]=l,a[7]=A||0,a;a[0]=m;a[1]=g;a[2]=h;a[3]=k;a[4]=q;a[5]=l;return a}if(p)return a[0]=m,a[1]=g,a[2]=B||0,a[3]=k,a[4]=q,a[5]=A||0,a;a[0]=m;a[1]=g;a[2]=k;a[3]=q;return a}Object.defineProperty(a,"__esModule",{value:!0});a.getPointsBoundsCenterX=a.getPointsBoundsWidth=a.getPointsBounds=a.getExtentBounds=a.getRingsOrPathsBounds=a.getBoundsXYZ=a.getBoundsXY=void 0;var e=l(Math.min),n=l(Math.max);a.getBoundsXY=function(a,d){if(void 0!==d.paths)return h(a,
d.paths,!1,!1);if(void 0!==d.rings)return h(a,d.rings,!1,!1);if(void 0!==d.points)return f(a,d.points,!1,!1,!1,!1);if(b(d))return k(a,d);void 0!==d.x&&void 0!==d.y&&(a[0]=d.x,a[1]=d.y,a[2]=d.x,a[3]=d.y);return a};a.getBoundsXYZ=function(a,d){if(void 0!==d.paths)return h(a,d.paths,!0,!1);if(void 0!==d.rings)return h(a,d.rings,!0,!1);if(void 0!==d.points)return f(a,d.points,!0,!1,!0,!1);if(b(d))return k(a,d,!0,!1,!0,!1);void 0!==d.x&&void 0!==d.y&&(a[0]=d.x,a[1]=d.y,a[2]=d.z,a[3]=d.x,a[4]=d.y,a[5]=
d.z);return a};a.getRingsOrPathsBounds=h;a.getExtentBounds=k;a.getPointsBounds=f;a.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],g=0;g<a.length;g++)var f=a[g][0],b=e(b,f),c=n(c,f);return c-b};a.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],g=0;g<a.length;g++)var f=a[g][0],b=e(b,f),c=n(c,f);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){c=function(a){function c(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.paths=[];b.type="polyline";return b}b.__extends(c,a);f=c;c.prototype.normalizeCtorArgs=function(a,b){var d=null,e,c,g=null;a&&!Array.isArray(a)?(d=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),e=a.hasZ,c=a.hasM):d=a;d=d||[];b=b||n.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(g=d[0]&&d[0][0])void 0===
e&&void 0===c?(e=2<g.length,c=!1):void 0===e?e=!c&&3<g.length:void 0===c&&(c=!e&&3<g.length);return{paths:d,spatialReference:b,hasZ:e,hasM:c}};Object.defineProperty(c.prototype,"extent",{get:function(){var a=this.spatialReference,b=g.getPolylineExtent(this);if(!b)return null;b=new k(b);b.spatialReference=a;return b},enumerable:!1,configurable:!0});c.prototype.writePaths=function(a,b){b.paths=l.clone(this.paths)};c.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,d=b.length;if(Array.isArray(a[0]))b[d]=
a.concat();else{for(var e=[],c=0,g=a.length;c<g;c++)e[c]=a[c].toArray();b[d]=e}return this}};c.prototype.clone=function(){var a=new f;a.spatialReference=this.spatialReference;a.paths=l.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};c.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new e(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new e(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new e(a[0],
a[1],a[2],a[3],this.spatialReference):new e(a[0],a[1],this.spatialReference)};c.prototype.insertPoint=function(a,b,e){if(!this._validateInputs(a,b,!0))return this;this.clearCache();d.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a].splice(b,0,e);return this};c.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new e(a,b)})};c.prototype.removePoint=
function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new e(this.paths[a].splice(b,1)[0],this.spatialReference)};c.prototype.setPoint=function(a,b,e){if(!this._validateInputs(a,b))return this;this.clearCache();d.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a][b]=e;return this};c.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=
a.length))?!1:!0};c.prototype.toJSON=function(a){return this.write(null,a)};var f;b.__decorate([h.property({dependsOn:["hasM","hasZ","paths"]})],c.prototype,"cache",void 0);b.__decorate([h.property({dependsOn:["cache"],readOnly:!0})],c.prototype,"extent",null);b.__decorate([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],c.prototype,"paths",void 0);b.__decorate([h.writer("paths")],c.prototype,"writePaths",null);return c=f=b.__decorate([h.subclass("esri.geometry.Polyline")],c)}(f);c.prototype.toJSON.isDefaultToJSON=
!0;return c})},"esri/geometry/support/typeUtils":function(){define(["require","exports","../../core/jsonMap"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.typeKebabDictionary=a.featureGeometryTypeKebabDictionary=a.isFeatureGeometryType=void 0;a.isFeatureGeometryType=function(a){return"point"===a||"multipoint"===a||"polyline"===a||"polygon"===a};a.featureGeometryTypeKebabDictionary=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon"});a.typeKebabDictionary=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(c,a,b,l,h,k,f,e){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function g(a){return void 0!==
a.points}function d(a){return void 0!==a.x&&void 0!==a.y}function m(a){return void 0!==a.paths}function q(a){return void 0!==a.rings}function r(a){return a?a instanceof l?a:d(a)?k.fromJSON(a):m(a)?e.fromJSON(a):q(a)?f.fromJSON(a):g(a)?h.fromJSON(a):n(a)?b.fromJSON(a):null:null}Object.defineProperty(a,"__esModule",{value:!0});a.getGeometryType=a.getJsonType=a.fromJSON=a.isMesh=a.isPolygon=a.isPolyline=a.isPoint=a.isMultipoint=a.isExtent=a.fromJson=void 0;a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(w){console.warn(w.stack)}return r(a)};a.isExtent=n;a.isMultipoint=g;a.isPoint=d;a.isPolyline=m;a.isPolygon=q;a.isMesh=function(a){return void 0!==a.vertexAttributes};a.fromJSON=r;a.getJsonType=function(a){return a?d(a)?"esriGeometryPoint":m(a)?"esriGeometryPolyline":q(a)?"esriGeometryPolygon":n(a)?"esriGeometryEnvelope":g(a)?"esriGeometryMultipoint":null:null};var p={esriGeometryPoint:k,esriGeometryPolyline:e,esriGeometryPolygon:f,esriGeometryEnvelope:b,esriGeometryMultipoint:h};a.getGeometryType=
function(a){return a&&p[a]||null}})},"esri/core/Collection":function(){define("require exports tslib ./ArrayPool ./arrayUtils ./Evented ./lang ./maybe ./ObjectPool ./scheduling ./accessorSupport/ensureType ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q){function r(a){return a?a instanceof A?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function p(a){if(a&&a.length)return a[0]}function t(a,b,d,e){b&&b.forEach(function(b,
c,g){a.push(b);t(a,d.call(e,b,c,g),d,e)})}c=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var w=new n(c,void 0,function(a){a.item=null;a.target=null;a.defaultPrevented=!1;a.cancellable=!1}),v=function(){},u=new Set,x=new Set,y=new Set,z=new Map,B=0,A=function(a){function c(b){b=
a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:B++});return b}b.__extends(c,a);n=c;c.isCollection=function(a){return null!=a&&a instanceof n};c.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof n?{items:a}:a:{}};Object.defineProperty(c.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||(this._splice.apply(this,b.__spreadArrays([0,this.length],
r(a))),this._emitAfterChanges(1))},enumerable:!1,configurable:!0});c.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};c.prototype.on=function(a,b){if("change"===a){var d=this._chgListeners,c={removed:!1,callback:b};d.push(c);this._notifications&&this._notifications.push({listeners:d.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=v;c.removed=!0;d.splice(d.indexOf(c),1)}}}return this._emitter.on(a,
b)};c.prototype.once=function(a,b){var d=this.on(a,b);return{remove:function(){d.remove()}}};c.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(null!==b&&void 0!==b?b:null);this._splice(b,0,a);this._emitAfterChanges(1);return this};c.prototype.addMany=function(a,d){void 0===d&&(d=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;d=this.getNextIndex(d);this._splice.apply(this,b.__spreadArrays([d,0],r(a)));this._emitAfterChanges(1);
return this};c.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};c.prototype.clone=function(){return this._createNewInstance({items:this._items.map(f.clone)})};c.prototype.concat=function(){for(var a,b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=b.map(r);return this._createNewInstance({items:(a=this._items).concat.apply(a,b)})};c.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var d=
e.assumeNonNull(this._splice(0,this.length)),c=d.length,g=0;g<c;g++)a.call(b,d[g],g,d);this._emitAfterChanges(2)}};c.prototype.every=function(a,b){return this._items.every(a,b)};c.prototype.filter=function(a,b){var d;d=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:d})};c.prototype.find=function(a,b){return h.find(this._items,a,b)};c.prototype.findIndex=function(a,b){return h.findIndex(this._items,a,b)};c.prototype.flatten=function(a,b){var d=
[];t(d,this,a,b);return new n(d)};c.prototype.forEach=function(a,b){return this._items.forEach(a,b)};c.prototype.getItemAt=function(a){return this._items[a]};c.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};c.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};c.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};c.prototype.join=function(a){void 0===a&&(a=",");
return this._items.join(a)};c.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};c.prototype.map=function(a,b){a=this._items.map(a,b);return new n({items:a})};c.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var d=this.indexOf(a);if(-1!==d){0>b?b=0:b>=this.length&&(b=this.length-1);if(d!==b){if(this._emitBeforeChanges(4))return a;this._splice(d,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};c.prototype.pop=function(){if(this.length&&
!this._emitBeforeChanges(2)){var a=p(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};c.prototype.push=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,b.__spreadArrays([this.length,0],a));this._emitAfterChanges(1);return this.length};c.prototype.reduce=function(a,b){var d=this._items;return 2===arguments.length?d.reduce(a,b):d.reduce(a)};c.prototype.reduceRight=function(a,b){var d=this._items;
return 2===arguments.length?d.reduceRight(a,b):d.reduceRight(a)};c.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};c.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=p(this._splice(a,1)),this._emitAfterChanges(2),a};c.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof n?a.toArray():a;for(var b=this._items,d=[],c=a.length,e=0;e<c;e++){var g=b.indexOf(a[e]);if(-1<g){for(var f=e+1,m=g+
1,q=Math.min(a.length-f,b.length-m),p=0;p<q&&a[f+p]===b[m+p];)p++;f=1+p;(g=this._splice(g,f))&&0<g.length&&d.push.apply(d,g);e+=f-1}}this._emitAfterChanges(2);return d};c.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,b.__spreadArrays([0,0],a)));this._emitAfterChanges(4);return this};c.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=p(this._splice(0,1));this._emitAfterChanges(2);
return a}};c.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};c.prototype.some=function(a,b){return this._items.some(a,b)};c.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var d=e.assumeNonNull(this._splice(0,this.length));arguments.length?d.sort(a):d.sort();this._splice.apply(this,b.__spreadArrays([0,0],d));this._emitAfterChanges(4);return this};c.prototype.splice=function(a,
d){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];e=(d?2:0)|(c.length?1:0);if(this._emitBeforeChanges(e))return[];c=this._splice.apply(this,b.__spreadArrays([a,d],c))||[];this._emitAfterChanges(e);return c};c.prototype.toArray=function(){return this._items.slice()};c.prototype.toJSON=function(){return this.toArray()};c.prototype.toLocaleString=function(){return this._items.toLocaleString()};c.prototype.toString=function(){return this._items.toString()};c.prototype.unshift=function(){for(var a=
[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,b.__spreadArrays([0,0],a));this._emitAfterChanges(1);return this.length};c.prototype._createNewInstance=function(a){return new this.constructor(a)};c.prototype._splice=function(a,d){for(var c=this,e=[],f=2;f<arguments.length;f++)e[f-2]=arguments[f];var f=this._items,n=this.constructor.prototype.itemType,m,q=void 0;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=g.schedule(function(){return c._dispatchChange()}));if(d){q=f.splice(a,d);if(this.hasEventListener("before-remove")){var p=w.acquire();p.target=this;p.cancellable=!0;for(var r=0,t=q.length;r<t;r++)m=q[r],p.reset(m),this.emit("before-remove",p),p.defaultPrevented&&(q.splice(r,1),f.splice(a,0,m),a+=1,--r,--t);w.release(p)}this.length=this._items.length;if(this.hasEventListener("after-remove")){m=
w.acquire();m.target=this;m.cancellable=!1;t=q.length;for(r=0;r<t;r++)m.reset(q[r]),this.emit("after-remove",m);w.release(m)}}if(e&&e.length){if(n){r=[];for(t=0;t<e.length;t++)m=e[t],p=n.ensureType(m),null==p&&null!=m||r.push(p);e=r}n=this.hasEventListener("before-add");r=this.hasEventListener("after-add");t=a===this.length;if(n||r){m=w.acquire();m.target=this;m.cancellable=!0;p=w.acquire();p.target=this;p.cancellable=!1;for(var k=0,u=e;k<u.length;k++){var v=u[k];n?(m.reset(v),this.emit("before-add",
m),m.defaultPrevented||(t?f.push(v):f.splice(a++,0,v),this._set("length",f.length),r&&(p.reset(v),this.emit("after-add",p)))):(t?f.push(v):f.splice(a++,0,v),this._set("length",f.length),p.reset(v),this.emit("after-add",p))}w.release(p);w.release(m)}else{if(t)for(n=0,r=e;n<r.length;n++)f.push(r[n]);else f.splice.apply(f,b.__spreadArrays([a,0],e));this._set("length",f.length)}}(e&&e.length||q&&q.length)&&this._notifyChangeEvent(e,q);return q};c.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var d=
w.acquire();d.target=this;d.cancellable=!0;d.type=a;this.emit("before-changes",d);b=d.defaultPrevented;w.release(d)}return b};c.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=w.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);w.release(b)}};c.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};c.prototype._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;u.clear();x.clear();y.clear();for(var e=0;e<b.length;e++){var c=b[e],g=c.added,c=c.removed;if(g)if(0===y.size&&0===x.size)for(var f=0,n=g;f<n.length;f++)g=n[f],u.add(g);else for(f=0,n=g;f<n.length;f++)g=n[f],x.has(g)?(y.add(g),x.delete(g)):y.has(g)||u.add(g);if(c)if(0===y.size&&0===u.size)for(f=0;f<c.length;f++)g=c[f],x.add(g);
else for(f=0;f<c.length;f++)g=c[f],u.has(g)?u.delete(g):(y.delete(g),x.add(g))}var m=l.acquire();u.forEach(function(a){m.push(a)});var q=l.acquire();x.forEach(function(a){q.push(a)});var p=d._items,r=a.items,t=l.acquire();y.forEach(function(a){r.indexOf(a)!==p.indexOf(a)&&t.push(a)});if(a.listeners&&(m.length||q.length||t.length))for(b={target:d,added:m,removed:q,moved:t},e=a.listeners.length,g=0;g<e;g++)c=a.listeners[g],c.removed||c.callback.call(d,b);l.release(m);l.release(q);l.release(t)},d=this,
e=0;e<a.length;e++)b(a[e]);u.clear();x.clear();y.clear()}};var n;c.ofType=function(a){if(!a)return n;if(z.has(a))return z.get(a);var e=null;if("function"===typeof a)e=a.prototype.declaredClass;else if(a.base)e=a.base.prototype.declaredClass;else for(var c in a.typeMap)var g=a.typeMap[c].prototype.declaredClass,e=e?e+(" | "+g):g;c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}b.__extends(d,a);return d=b.__decorate([q.subclass("esri.core.Collection\x3c"+e+"\x3e")],d)}(n);g=
{Type:a,ensureType:"function"===typeof a?d.ensureType(a):d.ensureOneOfType(a)};Object.defineProperty(c.prototype,"itemType",{value:g});z.set(a,c);return c};b.__decorate([m.property()],c.prototype,"length",void 0);b.__decorate([m.property()],c.prototype,"items",null);return c=n=b.__decorate([q.subclass("esri.core.Collection")],c)}(k.EventedAccessor);return A})},"esri/core/Evented":function(){define("require exports tslib ./Accessor ./handleUtils ./accessorSupport/decorators/subclass".split(" "),function(c,
a,b,l,h,k){var f=function(){function a(){this._emitter=new a.EventEmitter(this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var c=function(){function a(a){void 0===a&&(a=null);this.target=a;this._listenersMap=null}a.prototype.clear=function(){this._listenersMap&&
this._listenersMap.clear()};a.prototype.emit=function(a,d){a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;var c=this.target||this;b.__spreadArrays(a).forEach(function(a){a.call(c,d)});return 0<a.length};a.prototype.on=function(a,b){var d=this;if(Array.isArray(a)){var c=a.map(function(a){return d.on(a,b)});return h.handlesGroup(c)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=
new Map);c=this._listenersMap.get(a)||[];c.push(b);this._listenersMap.set(a,c);return{remove:function(){var c=d._listenersMap&&d._listenersMap.get(a)||[],e=c.indexOf(b);0<=e&&c.splice(e,1)}}};a.prototype.once=function(a,b){var d;return d=this.on(a,function(a){d.remove();b.call(null,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=c;a.EventedMixin=function(a){return function(a){function d(){var b=null!==
a&&a.apply(this,arguments)||this;b._emitter=new c;return b}b.__extends(d,a);d.prototype.emit=function(a,b){return this._emitter.emit(a,b)};d.prototype.on=function(a,b){return this._emitter.on(a,b)};d.prototype.once=function(a,b){return this._emitter.once(a,b)};d.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return d=b.__decorate([k.subclass("esri.core.Evented")],d)}(a)};var e=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new f.EventEmitter(b);
return b}b.__extends(d,a);d.prototype.emit=function(a,b){return this._emitter.emit(a,b)};d.prototype.on=function(a,b){return this._emitter.on(a,b)};d.prototype.once=function(a,b){return this._emitter.once(a,b)};d.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return d=b.__decorate([k.subclass("esri.core.Evented")],d)}(l);a.EventedAccessor=e})(f||(f={}));return f})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(c,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a.castForReferenceSetter=a.referenceSetter=void 0;a.referenceSetter=function(a,c,k){void 0===k&&(k=b);c||(c=new k);if(c===a)return c;c.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?c.addMany(a):a&&c.add(a);return c};a.castForReferenceSetter=function(a){return a}})},"esri/core/Loadable":function(){define("require exports tslib ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(c,a,b,l,h,k,f,e,n){var g=function(a){return function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var c=a.apply(this,b)||this;c._loadController=null;c.loadError=null;c.loadStatus="not-loaded";c._set("loadWarnings",[]);c.addResolvingPromise(k.create(function(a){var b=c.load.bind(c);c.load=function(d){var e=k.create(function(a,b){k.onAbortOrThrow(d,b);c.destroyed&&b(new l("load:instance-destroyed","Instance of '"+(c.declaredClass||c.constructor.name)+"' is already destroyed",
{instance:c}));c._promiseProps.when(a,b)});if("not-loaded"===c.loadStatus){c._set("loadStatus","loading");var g=c._loadController=k.createAbortController();b({signal:g.signal});k.onAbort(g.signal,function(){c._promiseProps.abort()})}a();return e}}));c.when(function(){c._set("loadStatus","loaded");c._loadController=null},function(a){c._set("loadStatus","failed");c._set("loadError",a);c._loadController=null});return c}b.__extends(d,a);Object.defineProperty(d.prototype,"loaded",{get:function(){return"loaded"===
this.loadStatus},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"loadWarnings",{get:function(){return this._get("loadWarnings")},enumerable:!1,configurable:!0});d.prototype.load=function(){return null};d.prototype.cancelLoad=function(){var a;if(this.isFulfilled())return this;this._set("loadError",new l("load:cancelled","Cancelled"));null===(a=this._loadController)||void 0===a?void 0:a.abort();return this};b.__decorate([e.property({readOnly:!0,dependsOn:["loadStatus"]})],d.prototype,
"loaded",null);b.__decorate([e.property({readOnly:!0})],d.prototype,"loadError",void 0);b.__decorate([e.property()],d.prototype,"loadStatus",void 0);b.__decorate([e.property({type:[f],readOnly:!0})],d.prototype,"loadWarnings",null);return d=b.__decorate([n.subclass("esri.core.Loadable")],d)}(a)};c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}b.__extends(d,a);return d=b.__decorate([n.subclass("esri.core.Loadable")],d)}(g(h.EsriPromise));(function(a){a.LoadableMixin=g;a.isLoadable=
function(a){return!(!a||!a.load)}})(c||(c={}));return c})},"esri/core/Promise":function(){define("require exports tslib ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.EsriPromise=a.EsriPromiseMixin=void 0;var e=function(){function a(a){var b=this;this.instance=a;this._resolver=k.createDeferred();this._status=0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=1;
b._cleanUp()},function(){b._status=2;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 1===this._status};a.prototype.isRejected=function(){return 2===this._status};a.prototype.isFulfilled=function(){return 0!==this._status};a.prototype.abort=function(){this._resolver.reject(k.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=
this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var d=k.createDeferred(),c=b.__spreadArrays(this._resolvingPromises,[h.assumeNonNull(d.promise)]),e=this._allPromise=k.all(c);e.then(function(){a.isFulfilled()||a._allPromise!==e||a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==e||k.isAbortError(b)||a._resolver.reject(b)});d.resolve()}};return a}();a.EsriPromiseMixin=function(a){return function(a){function d(){for(var b=
[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b._promiseProps=new e(b);b.addResolvingPromise(k.resolve());return b}b.__extends(d,a);d.prototype.isResolved=function(){return this._promiseProps.isResolved()};d.prototype.isRejected=function(){return this._promiseProps.isRejected()};d.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};d.prototype.when=function(a,b){var d=this;return k.create(function(a,b){d._promiseProps.when(a,b)}).then(a,b)};d.prototype.catch=
function(a){return this.when(null,a)};d.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return d=b.__decorate([f.subclass("esri.core.Promise")],d)}(a)};c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);return c=b.__decorate([f.subclass("esri.core.Promise")],c)}(a.EsriPromiseMixin(l));a.EsriPromise=c})},"esri/core/loadAll":function(){define("require exports tslib ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),
function(c,a,b,l,h,k,f){function e(a,d){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load()];case 1:return b.sent(),[2,n(a,d)]}})})}function n(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,e,g,n=this;return b.__generator(this,function(m){switch(m.label){case 0:return c=[],e=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<a.length;b++){var d=a[b];f.isNone(d)||(Array.isArray(d)?e.apply(void 0,
d):h.isCollection(d)?d.forEach(function(a){return e(a)}):k.isLoadable(d)&&c.push(d))}},d(e),g=null,[4,l.map(c,function(a){return b.__awaiter(n,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,l.result("loadAll"in a&&"function"===typeof a.loadAll?a.loadAll():a.load())];case 1:return d=b.sent(),!1!==d.ok||g||(g=a),[2]}})})})];case 1:m.sent();if(g)throw g.loadError;return[2,a]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.loadAllChildren=
a.loadAll=void 0;a.loadAll=e;a.loadAllChildren=n;a.default=e})},"esri/core/asyncUtils":function(){define(["require","exports","./promiseUtils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.assertResult=a.result=a.map=a.forEach=void 0;a.forEach=function(a,c,k){return b.eachAlways(a.map(function(a,b){return c.apply(k,[a,b])}))};a.map=function(a,c,k){return b.eachAlways(a.map(function(a,b){return c.apply(k,[a,b])})).then(function(a){return a.map(function(a){return a.value})})};
a.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};a.assertResult=function(a){if(!0===a.ok)return a.value;throw a.error;}})},"esri/portal/Portal":function(){define("require exports tslib ../config ../intl ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){var x,y={PortalGroup:function(){return new Promise(function(a,b){c(["./PortalGroup"],a,b)})},PortalItem:function(){return new Promise(function(a,b){c(["./PortalItem"],a,b)})},PortalUser:function(){return new Promise(function(a,b){c(["./PortalUser"],a,b)})}};return function(a){function d(b){b=a.call(this,b)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=
!1;b.canListData=!1;b.canListPreProvisionedItems=!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=null;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=
null;b.hasCategorySchema=!1;b.helperServices=null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.isReadOnly=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.sourceJSON=null;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;
b.templatesGroupQuery=null;b.units=null;b.url=l.portalUrl;b.urlKey=null;b.user=null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}b.__extends(d,a);n=d;d.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};d.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};d.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=
0;b<a.length;b++){var d=a[b];-1===l.request.trustedServers.indexOf(d)&&l.request.trustedServers.push(d)}return a};d.prototype.readDefaultBasemap=function(a){return a?(a=x.fromJSON(a),a.portalItem={portal:this},a):null};d.prototype.readDefaultVectorBasemap=function(a){return a?(a=x.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(d.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!1,configurable:!0});d.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};d.prototype.readUser=function(a){var b=null;a&&(b=u.fromJSON(a),b.portal=this);return b};d.prototype.load=function(a){var b=this,d=(new Promise(function(a,b){c(["../Basemap"],a,b)})).then(function(b){q.throwIfAborted(a);x=b}).then(function(){return b.sourceJSON?b.sourceJSON:b._fetchSelf(b.authMode,!1,a)}).then(function(a){if(k.id){var d=k.id;b.credential=d.findCredential(b.restUrl);b.credential||
b.authMode!==n.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=d.on("credential-create",function(){d.findCredential(b.restUrl)&&b._signIn()}))}b.sourceJSON=a;b.read(a)});this.addResolvingPromise(d);return q.resolve(this)};d.prototype.createClosestFacilityTask=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load()];case 1:return b.sent(),a=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,
b){c(["../tasks/ClosestFacilityTask"],a,b)})];case 2:return d=b.sent(),[2,new d(a)]}})})};d.prototype.createElevationLayers=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load()];case 1:return b.sent(),a=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,b){c(["../layers/ElevationLayer"],a,b)})];case 2:return d=b.sent(),[2,a?a.map(function(a){return new d({id:a.id,url:a.url})}):
[]]}})})};d.prototype.createGeometryService=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load()];case 1:return b.sent(),a=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,b){c(["../tasks/GeometryService"],a,b)})];case 2:return d=b.sent(),[2,new d({url:a})]}})})};d.prototype.createPrintTask=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,
this.load()];case 1:return b.sent(),a=this._getHelperServiceUrl("printTask"),[4,new Promise(function(a,b){c(["../tasks/PrintTask"],a,b)})];case 2:return d=b.sent(),[2,new d(a)]}})})};d.prototype.createRouteTask=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load()];case 1:return b.sent(),a=this._getHelperServiceUrl("route"),[4,new Promise(function(a,b){c(["../tasks/RouteTask"],a,b)})];case 2:return d=b.sent(),
[2,new d(a)]}})})};d.prototype.createServiceAreaTask=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load()];case 1:return b.sent(),a=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,b){c(["../tasks/ServiceAreaTask"],a,b)})];case 2:return d=b.sent(),[2,new d(a)]}})})};d.prototype.fetchBasemaps=function(a,b){var d=new w;d.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:
this.basemapGalleryGroupQuery);d.disableExtraQuery=!0;return this.queryGroups(d,b).then(function(a){d.num=100;d.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],d.sortField=a.sortField||"name",d.sortOrder=a.sortOrder||"desc",a.queryItems(d,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new x({portalItem:a})}):[]})};d.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+
"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):q.isAborted(a)?q.reject(q.createAbortError()):q.resolve([])};d.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,d=new w;d.num=100;d.sortField="title";if(b&&b.length){for(var c=[],e=0;e<b.length;e++){var g=b[e];c.push('(title:"'+g.title+'" AND owner:'+g.owner+")")}d.query=c.join(" OR ");return this.queryGroups(d,a).then(function(a){return a.results})}return q.isAborted(a)?q.reject(q.createAbortError()):
q.resolve([])};d.prototype.fetchRegions=function(a){var d=this.user&&this.user.culture||this.culture||h.getLocale();return this._request(this.restUrl+"/portals/regions",b.__assign(b.__assign({},a),{query:{culture:d}}))};d.getDefault=function(){if(!n._default||n._default.destroyed)n._default=new n;return n._default};d.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};d.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",
b)};d.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};d.prototype.toJSON=function(){throw new e("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new n({sourceJSON:a})};d.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new e("portal:service-not-found",
'The `helperServices` do not include an entry named "'+a+'"');return b};d.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new e("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};d.prototype._fetchSelf=function(a,d,c){void 0===a&&(a=this.authMode);void 0===d&&(d=!1);var e=this.restUrl+"/portals/self";a=b.__assign({authMode:a,query:{culture:h.getLocale().toLowerCase()}},c);"auto"===a.authMode&&
(a.authMode="no-prompt");d&&(a.query.default=!0);return this._request(e,a)};d.prototype._queryPortal=function(a,d,c,e){var g=this,f=p.ensureType(w,d),m=function(d){return g._request(g.restUrl+a,b.__assign(b.__assign({},f.toRequestOptions(g)),e)).then(function(a){var b=f.clone();b.start=a.nextStart;return new v({nextQueryParams:b,queryParams:f,total:a.total,results:n._resultsToTypedArray(d,{portal:g},a,e)})}).then(function(a){return q.all(a.results.map(function(b){return"function"===typeof b.when?
b.when():a})).then(function(){return a},function(b){q.throwIfAbortError(b);return a})})};return c&&y[c]?y[c]().then(function(a){q.throwIfAborted(e);return m(a)}):m()};d.prototype._signIn=function(){var a=this;if(this.authMode===n.AUTH_MODE_ANONYMOUS)return q.reject(new e("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return q.reject(this.loadError);var b=function(b){return q.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return k.id?k.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};d.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,
"https:").replace(":7080",":7443")};d.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};d.prototype._requestToTypedArray=function(a,b,d){var c=this;return this._request(a,b).then(function(a){var b=n._resultsToTypedArray(d,{portal:c},a);return q.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};d.prototype._request=function(a,
d){void 0===d&&(d={});var c=b.__assign({f:"json"},d.query),e=d.authMode,g=d.body,m=d.cacheBust,p=d.method,q=d.responseType;d={authMode:void 0===e?this.authMode===n.AUTH_MODE_ANONYMOUS?"anonymous":"auto":e,body:void 0===g?null:g,cacheBust:void 0===m?!1:m,method:void 0===p?"auto":p,query:c,responseType:void 0===q?"json":q,timeout:0,signal:d.signal};return f(this._normalizeSSL(a),d).then(function(a){return a.data})};d._resultsToTypedArray=function(a,b,d,c){if(d){var e=m.isSome(c)?c.signal:null;d=d.listings||
d.notifications||d.userInvitations||d.tags||d.items||d.groups||d.comments||d.provisions||d.results||d.relatedItems||d;if(a||b)d=d.map(function(d){d=g.mixin(a?a.fromJSON(d):d,b);"function"===typeof d.load&&d.load(e);return d})}else d=[];return d};var n;d.AUTH_MODE_ANONYMOUS="anonymous";d.AUTH_MODE_AUTO="auto";d.AUTH_MODE_IMMEDIATE="immediate";b.__decorate([r.property()],d.prototype,"access",void 0);b.__decorate([r.property()],d.prototype,"allSSL",void 0);b.__decorate([r.property()],d.prototype,"authMode",
void 0);b.__decorate([r.property()],d.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([r.reader("authorizedCrossOriginDomains")],d.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([r.property()],d.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"bingKey",void 0);b.__decorate([r.property()],d.prototype,"canListApps",void 0);b.__decorate([r.property()],d.prototype,"canListData",void 0);b.__decorate([r.property()],d.prototype,"canListPreProvisionedItems",
void 0);b.__decorate([r.property()],d.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([r.property()],d.prototype,"canSearchPublic",void 0);b.__decorate([r.property()],d.prototype,"canShareBingPublic",void 0);b.__decorate([r.property()],d.prototype,"canSharePublic",void 0);b.__decorate([r.property()],d.prototype,"canSignInArcGIS",void 0);b.__decorate([r.property()],d.prototype,"canSignInIDP",void 0);b.__decorate([r.property()],d.prototype,"colorSetsGroupQuery",void 0);b.__decorate([r.property()],
d.prototype,"commentsEnabled",void 0);b.__decorate([r.property({type:Date})],d.prototype,"created",void 0);b.__decorate([r.property()],d.prototype,"credential",void 0);b.__decorate([r.property()],d.prototype,"culture",void 0);b.__decorate([r.property()],d.prototype,"currentVersion",void 0);b.__decorate([r.property()],d.prototype,"customBaseUrl",void 0);b.__decorate([r.property()],d.prototype,"defaultBasemap",void 0);b.__decorate([r.reader("defaultBasemap")],d.prototype,"readDefaultBasemap",null);
b.__decorate([r.property({type:t})],d.prototype,"defaultExtent",void 0);b.__decorate([r.property()],d.prototype,"defaultVectorBasemap",void 0);b.__decorate([r.reader("defaultVectorBasemap")],d.prototype,"readDefaultVectorBasemap",null);b.__decorate([r.property()],d.prototype,"description",void 0);b.__decorate([r.property()],d.prototype,"eueiEnabled",void 0);b.__decorate([r.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],d.prototype,"extraQuery",null);b.__decorate([r.property()],
d.prototype,"featuredGroups",void 0);b.__decorate([r.property()],d.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"hasCategorySchema",void 0);b.__decorate([r.property()],d.prototype,"helpBase",void 0);b.__decorate([r.property()],d.prototype,"helperServices",void 0);b.__decorate([r.property()],d.prototype,"helpMap",
void 0);b.__decorate([r.property()],d.prototype,"homePageFeaturedContent",void 0);b.__decorate([r.property()],d.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([r.property()],d.prototype,"httpPort",void 0);b.__decorate([r.property()],d.prototype,"httpsPort",void 0);b.__decorate([r.property()],d.prototype,"id",void 0);b.__decorate([r.property()],d.prototype,"ipCntryCode",void 0);b.__decorate([r.property({dependsOn:["access"],readOnly:!0})],d.prototype,"isOrganization",null);b.__decorate([r.property()],
d.prototype,"isPortal",void 0);b.__decorate([r.property()],d.prototype,"isReadOnly",void 0);b.__decorate([r.property()],d.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([r.property({type:Date})],d.prototype,"modified",void 0);b.__decorate([r.property()],d.prototype,"name",void 0);b.__decorate([r.property()],d.prototype,"portalHostname",void 0);b.__decorate([r.property()],d.prototype,"portalMode",void 0);b.__decorate([r.property()],
d.prototype,"portalProperties",void 0);b.__decorate([r.property()],d.prototype,"region",void 0);b.__decorate([r.property({dependsOn:["url"],readOnly:!0})],d.prototype,"restUrl",null);b.__decorate([r.property()],d.prototype,"rotatorPanels",void 0);b.__decorate([r.property()],d.prototype,"showHomePageDescription",void 0);b.__decorate([r.property()],d.prototype,"sourceJSON",void 0);b.__decorate([r.property()],d.prototype,"staticImagesUrl",void 0);b.__decorate([r.property()],d.prototype,"stylesGroupQuery",
void 0);b.__decorate([r.property()],d.prototype,"supportsHostedServices",void 0);b.__decorate([r.property()],d.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"templatesGroupQuery",void 0);b.__decorate([r.property()],d.prototype,"thumbnail",void 0);b.__decorate([r.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],d.prototype,"thumbnailUrl",null);b.__decorate([r.property()],d.prototype,"units",void 0);b.__decorate([r.property()],d.prototype,"url",void 0);b.__decorate([r.property()],
d.prototype,"urlKey",void 0);b.__decorate([r.reader("urlKey")],d.prototype,"readUrlKey",null);b.__decorate([r.property()],d.prototype,"user",void 0);b.__decorate([r.reader("user")],d.prototype,"readUser",null);b.__decorate([r.property()],d.prototype,"useStandardizedQuery",void 0);b.__decorate([r.property()],d.prototype,"useVectorBasemaps",void 0);b.__decorate([r.property()],d.prototype,"vectorBasemapGalleryGroupQuery",void 0);return d=n=b.__decorate([r.subclass("esri.portal.Portal")],d)}(n.JSONSupportMixin(d))})},
"esri/intl":function(){define("require exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});Object.defineProperty(a,"formatDate",{enumerable:!0,get:function(){return b.formatDate}});Object.defineProperty(a,"convertDateFormatToIntlOptions",{enumerable:!0,get:function(){return b.convertDateFormatToIntlOptions}});Object.defineProperty(a,"formatNumber",{enumerable:!0,get:function(){return l.formatNumber}});
Object.defineProperty(a,"convertNumberFormatToIntlOptions",{enumerable:!0,get:function(){return l.convertNumberFormatToIntlOptions}});Object.defineProperty(a,"substitute",{enumerable:!0,get:function(){return h.substitute}});Object.defineProperty(a,"getLocale",{enumerable:!0,get:function(){return k.getLocale}});Object.defineProperty(a,"setLocale",{enumerable:!0,get:function(){return k.setLocale}});Object.defineProperty(a,"onLocaleChange",{enumerable:!0,get:function(){return k.onLocaleChange}});Object.defineProperty(a,
"prefersRTL",{enumerable:!0,get:function(){return k.prefersRTL}});Object.defineProperty(a,"loadMessageBundle",{enumerable:!0,get:function(){return f.loadMessageBundle}});Object.defineProperty(a,"getKnownMessageBundleLocale",{enumerable:!0,get:function(){return f.getKnownMessageBundleLocale}})})},"esri/intl/date":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(c,a,b,l,h,k){function f(a){a=a||t;if(!p.has(a)){var b=k.getLocale(),b=r[k.getLocale()]||
b;p.set(a,new Intl.DateTimeFormat(b,a))}return p.get(a)}Object.defineProperty(a,"__esModule",{value:!0});a.formatDate=a.convertDateFormatToIntlOptions=a.getDateTimeFormatter=a.fromJSON=a.toJSON=a.dateFormats=a.dictionary=void 0;c={year:"numeric",month:"numeric",day:"numeric"};var e={year:"numeric",month:"long",day:"numeric"},n={year:"numeric",month:"short",day:"numeric"},g={year:"numeric",month:"long",weekday:"long",day:"numeric"},d={hour:"numeric",minute:"numeric"},m=b.__assign(b.__assign({},d),
{second:"numeric"}),q={"short-date":c,"short-date-short-time":b.__assign(b.__assign({},c),d),"short-date-short-time-24":b.__assign(b.__assign(b.__assign({},c),d),{hour12:!1}),"short-date-long-time":b.__assign(b.__assign({},c),m),"short-date-long-time-24":b.__assign(b.__assign(b.__assign({},c),m),{hour12:!1}),"short-date-le":c,"short-date-le-short-time":b.__assign(b.__assign({},c),d),"short-date-le-short-time-24":b.__assign(b.__assign(b.__assign({},c),d),{hour12:!1}),"short-date-le-long-time":b.__assign(b.__assign({},
c),m),"short-date-le-long-time-24":b.__assign(b.__assign(b.__assign({},c),m),{hour12:!1}),"long-month-day-year":e,"long-month-day-year-short-time":b.__assign(b.__assign({},e),d),"long-month-day-year-short-time-24":b.__assign(b.__assign(b.__assign({},e),d),{hour12:!1}),"long-month-day-year-long-time":b.__assign(b.__assign({},e),m),"long-month-day-year-long-time-24":b.__assign(b.__assign(b.__assign({},e),m),{hour12:!1}),"day-short-month-year":n,"day-short-month-year-short-time":b.__assign(b.__assign({},
n),d),"day-short-month-year-short-time-24":b.__assign(b.__assign(b.__assign({},n),d),{hour12:!1}),"day-short-month-year-long-time":b.__assign(b.__assign({},n),m),"day-short-month-year-long-time-24":b.__assign(b.__assign(b.__assign({},n),m),{hour12:!1}),"long-date":g,"long-date-short-time":b.__assign(b.__assign({},g),d),"long-date-short-time-24":b.__assign(b.__assign(b.__assign({},g),d),{hour12:!1}),"long-date-long-time":b.__assign(b.__assign({},g),m),"long-date-long-time-24":b.__assign(b.__assign(b.__assign({},
g),m),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":d,"long-time":m};a.dictionary=h.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",
shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",
dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.dateFormats=a.dictionary.apiValues;a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);
var r={ar:"ar-u-nu-latn-ca-gregory"},p=new l.default,t=q["short-date-short-time"];k.beforeLocaleChange(function(){p=new l.default;t=q["short-date-short-time"]});a.getDateTimeFormatter=f;a.convertDateFormatToIntlOptions=function(a){return q[a]||null};a.formatDate=function(a,b){return f(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&
define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),c)})(function(c,a){Object.defineProperty(a,"__esModule",{value:!0});var b=c("tslib"),l=c("./global"),h=c("./iterator"),k=c("../has/has");c("./Symbol");a.WeakMap=l.default.WeakMap;if(!k.default("es6-weakmap")){var f={},e=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();a.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=
e();this._frozenEntries=[];if(a)if(h.isArrayLike(a))for(var d=0;d<a.length;d++){var c=a[d];this.set(c[0],c[1])}else try{for(d=b.__values(a),c=d.next();!c.done;c=d.next()){var g=b.__read(c.value,2);this.set(g[0],g[1])}}catch(t){f={error:t}}finally{try{c&&!c.done&&(n=d.return)&&n.call(d)}finally{if(f)throw f.error;}}var f,n}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===
a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==f)return b.value=f,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==f)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==f||0<=this._getFrozenEntryIndex(a)?
!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var d=a[this._name];d&&d.key===a||(d=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(d):Object.defineProperty(a,this._name,{value:d}));d.value=b;return this};return a}()}a.default=a.WeakMap})},"esri/intl/locale":function(){define(["require","exports","tslib","../core/global"],function(c,a,b,l){function h(){var a,b;return null!==
(b=null!==r&&void 0!==r?r:null===(a=l.navigator)||void 0===a?void 0:a.language)&&void 0!==b?b:"en"}function k(){void 0===q&&(q=h());return q}function f(){var a=null!==m&&void 0!==m?m:h();q!==a&&(q=a,b.__spreadArrays(w).forEach(function(b){b.call(null,a)}),b.__spreadArrays(t).forEach(function(b){b.call(null,a)}))}var e,n,g,d;Object.defineProperty(a,"__esModule",{value:!0});var m=a.beforeLocaleChange=a.onLocaleChange=a.prefersRTL=a.setLocale=a.getLocale=a.getDefaultLocale=void 0,q=void 0,r=null!==(n=
null===(e=l.esriConfig)||void 0===e?void 0:e.locale)&&void 0!==n?n:null===(g=l.dojoConfig)||void 0===g?void 0:g.locale;a.getDefaultLocale=h;a.getLocale=k;a.setLocale=function(a){m=a?a:void 0;f()};var p={he:!0,ar:!0};a.prefersRTL=function(a){void 0===a&&(a=k());a=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(a);a=null===a||void 0===a?void 0:a[1].toLowerCase();return void 0!==a&&(p[a]||!1)};var t=[];a.onLocaleChange=function(a){t.push(a);return{remove:function(){t.splice(t.indexOf(a),1)}}};var w=[];a.beforeLocaleChange=
function(a){w.push(a);return{remove:function(){t.splice(w.indexOf(a),1)}}};null===(d=l.addEventListener)||void 0===d?void 0:d.call(l,"languagechange",f)})},"esri/intl/number":function(){define(["require","exports","@dojo/framework/shim/WeakMap","../core/maybe","./locale"],function(c,a,b,l,h){function k(a){var b=a||n;if(!e.has(b)){var c=h.getLocale(),c=f[h.getLocale()]||c;e.set(b,new Intl.NumberFormat(c,a))}return l.assumeNonNull(e.get(b))}Object.defineProperty(a,"__esModule",{value:!0});a.formatNumber=
a.convertNumberFormatToIntlOptions=a.getFormatter=void 0;var f={ar:"ar-u-nu-latn"},e=new b.default,n={};h.beforeLocaleChange(function(){e=new b.default;n={}});a.getFormatter=k;a.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};a.formatNumber=function(a,b){return k(b).format(a)}})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(c,a,b,l,h,k,f){function e(a){switch(typeof a){case "string":return a;case "number":return f.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?k.formatDate(a):""}}Object.defineProperty(a,"__esModule",{value:!0});a.substitute=void 0;var n=b.getLogger("esri.intl");a.substitute=function(a,b,c){void 0===c&&(c={});c=c.format;var d=void 0===c?{}:c;return h.replace(a,function(a){var c;var g,m=a.indexOf(":");-1===m?g=a.trim():(g=a.slice(0,m).trim(),c=a.slice(m+1).trim());
if(g)if(a=l.getDeepValue(g,b),null==a)c="";else if(g=d[c]||d[g])b:switch(g.type){case "date":c=k.formatDate(a,g.intlOptions);break b;case "number":c=f.formatNumber(a,g.intlOptions);break b;default:n.warn("missing format descriptor for key {key}"),c=e(a)}else if(c)b:switch(c.toLowerCase()){case "dateformat":c=k.formatDate(a);break b;case "numberformat":c=f.formatNumber(a);break b;default:n.warn("inline format is unsupported since 4.12: "+c),c=/^(dateformat|datestring)/i.test(c)?k.formatDate(a):/^numberformat/i.test(c)?
f.formatNumber(a):e(a)}else c=e(a);else c="";return c})}})},"esri/intl/messages":function(){define("require exports tslib ../assets ../core/Error ../core/maybe ../core/promiseUtils ../core/SetUtils ./locale @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a){if(!q.test(a))return null;var b=q.exec(a);a=b[1];b=b[2];b=a+(b?"-"+b.toUpperCase():"");return r.has(b)?b:r.has(a)?a:null}function d(a){return b.__awaiter(this,void 0,void 0,function(){var d,c,e,f,q,p,r,t,k;return b.__generator(this,
function(b){switch(b.label){case 0:d=/^(.*)\/t9n\/(.*)$/g.exec(a);if(!d)throw new h("esri-intl:invalid-bundle",'Missing "t9n" folder in locale bundle path "'+a+'"');c=d[1]+"/t9n/";e=d[2];f=n.getLocale();q=g(f);p=""+c+e+".json";r=q?""+c+e+"_"+q+".json":p;b.label=1;case 1:return b.trys.push([1,3,,8]),[4,m(r)];case 2:return t=b.sent(),[3,8];case 3:k=b.sent();if(r===p)throw k;b.label=4;case 4:return b.trys.push([4,6,,7]),[4,m(p)];case 5:return t=b.sent(),[3,7];case 6:throw b.sent(),new h("esri-intl:unknown-bundle",
'Bundle "'+a+'" cannot be loaded',{error:k});case 7:return[3,8];case 8:return[2,t]}})})}function m(d){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:return k.isSome(a.test.fetchBundleAsset)?[2,a.test.fetchBundleAsset(d)]:[4,l.fetchAsset(d,{responseType:"json"})];case 1:return c=b.sent(),[2,c.data]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.test=a.getKnownMessageBundleLocale=a.loadMessageBundle=void 0;var q=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,
r=e.SetFromValues("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),p=new Map;n.beforeLocaleChange(function(){p.clear()});a.loadMessageBundle=function(a){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:return p.has(a)||p.set(a,d(a)),c=p.get(a),[4,t.add(c)];case 1:return b.sent(),[2,c]}})})};a.getKnownMessageBundleLocale=g;var t=new (function(){function a(){this._numLoading=
0}a.prototype.waitForAll=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){switch(a.label){case 0:return this._dfd?[4,this._dfd.promise]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};a.prototype.add=function(a){var b=this;this._increase();a.then(function(){return b._decrease()},function(){return b._decrease()});return this.waitForAll()};a.prototype._increase=function(){this._numLoading++;this._dfd||(this._dfd=f.createDeferred())};a.prototype._decrease=
function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return a}());a.test={cache:p}})},"esri/assets":function(){define(["require","exports","./request","./core/urlUtils"],function(c,a,b,l){function h(a){return l.join(c.toUrl("."),"../",a)}Object.defineProperty(a,"__esModule",{value:!0});a.getAssetUrl=a.fetchAsset=void 0;a.fetchAsset=function(a,c){return b(h(a),c)};a.getAssetUrl=h})},"esri/core/SetUtils":function(){define(["require",
"exports","./maybe"],function(c,a,b){function l(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function h(a){if(0===a.size)throw Error("Set is empty");var c=void 0,f=!1;a.forEach(function(a){f||(c=a,f=!0)});return b.assumeNonNull(c)}Object.defineProperty(a,"__esModule",{value:!0});a.reduceSet=a.firstOfSet=a.SetFromValues=a.valuesOfSet=a.someSet=void 0;a.someSet=Set.prototype.entries?function(a,b){a=a.entries();for(var c=a.next();!c.done;c=a.next())if(b(c.value[0]))return!0;
return!1}:function(a,b){var c=!0;a.forEach(function(a){c&&(c=!b(a))});return!c};c=!!Set.prototype.values;var k=!!Array.from;a.valuesOfSet=c&&k?function(a){return Array.from(a.values())}:function(a){var b=Array(a.size),c=0;a.forEach(function(a){return b[c++]=a});return b};a.SetFromValues=c?function(a){return new Set(a)}:function(a){for(var b=new Set,c=0;c<a.length;c++)b.add(a[c]);return b};a.firstOfSet=c?l:h;a.reduceSet=function(a,b,c){var e=c;a.forEach(function(a){return e=b(a,e)});return e}})},"esri/portal/PortalQueryParams":function(){define("require exports tslib ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g){var d=new h.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function c(b){b=a.call(this,b)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}b.__extends(c,a);m=c;Object.defineProperty(c.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},
enumerable:!1,configurable:!0});c.prototype.clone=function(){return new m({categories:this.categories?k.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};c.prototype.toRequestOptions=function(a,c){var e;this.categories&&(e=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var f;if(this.extent){var m=g.project(this.extent,
n.WGS84);m&&(f=m.xmin+","+m.ymin+","+m.xmax+","+m.ymax)}m=this.query;!this.disableExtraQuery&&a.extraQuery&&(m="("+m+")"+a.extraQuery);a={categories:e,bbox:f,q:m,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=this.sortField.split(",").map(function(a){return d.toJSON(a.trim())}).join(","),a.sortOrder=this.sortOrder);return{query:b.__assign(b.__assign({},c),a)}};var m;b.__decorate([f.property()],c.prototype,"categories",void 0);b.__decorate([f.property()],
c.prototype,"disableExtraQuery",void 0);b.__decorate([f.property({type:e})],c.prototype,"extent",void 0);b.__decorate([f.property()],c.prototype,"num",void 0);b.__decorate([f.property()],c.prototype,"query",void 0);b.__decorate([f.property()],c.prototype,"sortField",void 0);b.__decorate([f.property()],c.prototype,"sortOrder",null);b.__decorate([f.property()],c.prototype,"start",void 0);return c=m=b.__decorate([f.subclass("esri.portal.PortalQueryParams")],c)}(l)})},"esri/portal/PortalQueryResult":function(){define(["require",
"exports","tslib","../core/Accessor","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}b.__extends(c,a);b.__decorate([h.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([h.property()],c.prototype,"queryParams",void 0);b.__decorate([h.property()],c.prototype,"results",void 0);b.__decorate([h.property()],c.prototype,"total",void 0);return c=b.__decorate([h.subclass("esri.portal.PortalQueryResult")],
c)}(l)})},"esri/portal/PortalUser":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,e,n){return function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=
null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.sourceJSON=null;b.units=null;b.username=null;b.userType=null;return b}b.__extends(d,a);g=d;Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+
this.username:null},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!1,configurable:!0});d.prototype.addItem=function(a){var b=this,d=a&&a.item,c=a&&a.data;a=a&&a.folder;var e={method:"post"};d&&(e.query=d.createPostQuery(),null!=c&&("string"===typeof c?e.query.text=c:"object"===typeof c&&(e.query.text=JSON.stringify(c))));c=this.userContentUrl;a&&(c+="/"+("string"===
typeof a?a:a.id));return this.portal._request(c+"/addItem",e).then(function(a){d.id=a.id;d.portal=b.portal;return d.loaded?d.reload():d.load()})};d.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=null})};d.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",d=a.map(function(a){return a.id});return d.length?(d={method:"post",
query:{items:d.join(",")}},this.portal._request(b,d).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):k.resolve(void 0)};d.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=e.fromJSON(b);b.portal=a.portal;return b}):[]})};d.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=
n.fromJSON(b);b.portal=a.portal;return b}):[]})};d.prototype.fetchItems=function(a){var b=this;a||(a={});var d=this.userContentUrl;a.folder&&(d+="/"+a.folder.id);var e;return(new Promise(function(a,b){c(["./PortalItem"],a,b)})).then(function(c){e=c;return b.portal._request(d,{query:{folders:!1,num:a.num||10,start:a.start||1,sortField:a.sortField||"created",sortOrder:a.sortOrder||"asc"}})}).then(function(a){var d;return a&&a.items?(d=a.items.map(function(a){a=e.fromJSON(a);a.portal=b.portal;return a}),
k.all(d.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:d,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};d.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};d.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};d.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new n({id:this.favGroupId,
portal:this.portal})),this._favGroup.queryItems(a)):k.reject(new l("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};d.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new g;b.sourceJSON=a;b.read(a);return b};var g;b.__decorate([f.property()],d.prototype,"access",void 0);b.__decorate([f.property({type:Date})],
d.prototype,"created",void 0);b.__decorate([f.property()],d.prototype,"culture",void 0);b.__decorate([f.property()],d.prototype,"description",void 0);b.__decorate([f.property()],d.prototype,"email",void 0);b.__decorate([f.property()],d.prototype,"favGroupId",void 0);b.__decorate([f.property()],d.prototype,"fullName",void 0);b.__decorate([f.property({type:Date})],d.prototype,"modified",void 0);b.__decorate([f.property()],d.prototype,"orgId",void 0);b.__decorate([f.property()],d.prototype,"portal",
void 0);b.__decorate([f.property()],d.prototype,"preferredView",void 0);b.__decorate([f.property()],d.prototype,"privileges",void 0);b.__decorate([f.property()],d.prototype,"region",void 0);b.__decorate([f.property()],d.prototype,"role",void 0);b.__decorate([f.property()],d.prototype,"roleId",void 0);b.__decorate([f.property()],d.prototype,"sourceJSON",void 0);b.__decorate([f.property()],d.prototype,"thumbnail",void 0);b.__decorate([f.property({dependsOn:["url","thumbnail","portal.credential.token"],
readOnly:!0})],d.prototype,"thumbnailUrl",null);b.__decorate([f.property()],d.prototype,"units",void 0);b.__decorate([f.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"userContentUrl",null);b.__decorate([f.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);b.__decorate([f.property()],d.prototype,"username",void 0);b.__decorate([f.property()],d.prototype,"userType",void 0);return d=g=b.__decorate([f.subclass("esri.portal.PortalUser")],d)}(h.JSONSupport)})},
"esri/portal/PortalFolder":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!1,configurable:!0});
c.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};b.__decorate([k.property({type:Date})],c.prototype,"created",void 0);b.__decorate([k.property()],c.prototype,"id",void 0);b.__decorate([k.property()],c.prototype,"portal",void 0);b.__decorate([k.property()],c.prototype,"title",void 0);b.__decorate([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"url",null);b.__decorate([k.property()],c.prototype,"username",
void 0);return c=b.__decorate([k.subclass("esri.portal.PortalFolder")],c)}(h.JSONSupport)})},"esri/portal/PortalGroup":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;
b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!1,configurable:!0});c.prototype.fetchCategorySchema=function(a){var b=
this;return this.portal._request(this.url+"/categorySchema",a).then(function(d){d=d.categorySchema||[];return d.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):d})};c.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");
};c.prototype.queryItems=function(a,b){a=f.ensureType(e,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new e,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new e;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,b)};c.prototype._fetchCategorySchemaSet=function(a,b){var d=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var c=new e;c.disableExtraQuery=
!0;c.num=1;c.query=a;return d.portal.queryGroups(c,b)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(d){if(d.total){d=d.results[0];var c=new e;c.num=1;c.query='typekeywords:"'+a+'"';return d.queryItems(c,b)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):
[]})};b.__decorate([k.property()],c.prototype,"access",void 0);b.__decorate([k.property({type:Date})],c.prototype,"created",void 0);b.__decorate([k.property()],c.prototype,"description",void 0);b.__decorate([k.property()],c.prototype,"id",void 0);b.__decorate([k.property()],c.prototype,"isInvitationOnly",void 0);b.__decorate([k.property({type:Date})],c.prototype,"modified",void 0);b.__decorate([k.property()],c.prototype,"owner",void 0);b.__decorate([k.property()],c.prototype,"portal",void 0);b.__decorate([k.property()],
c.prototype,"snippet",void 0);b.__decorate([k.property()],c.prototype,"sortField",void 0);b.__decorate([k.property()],c.prototype,"sortOrder",void 0);b.__decorate([k.property()],c.prototype,"tags",void 0);b.__decorate([k.property()],c.prototype,"thumbnail",void 0);b.__decorate([k.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);b.__decorate([k.property()],c.prototype,"title",void 0);b.__decorate([k.property({dependsOn:["portal.restUrl"],
readOnly:!0})],c.prototype,"url",null);return c=b.__decorate([k.subclass("esri.portal.PortalGroup")],c)}(h.JSONSupport)})},"esri/portal/PortalItem":function(){define("require exports tslib ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating @dojo/framework/shim/Promise".split(" "),function(c,
a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w){return function(a){function e(b){b=a.call(this,b)||this;b.access=null;b.accessInformation=null;b.applicationProxies=null;b.avgRating=null;b.categories=null;b.created=null;b.culture=null;b.description=null;b.extent=null;b.groupCategories=null;b.id=null;b.itemControl=null;b.licenseInfo=null;b.modified=null;b.name=null;b.numComments=null;b.numRatings=null;b.numViews=null;b.owner=null;b.ownerFolder=null;b.portal=null;b.screenshots=null;b.size=null;b.snippet=null;b.sourceJSON=
null;b.tags=null;b.title=null;b.type=null;b.typeKeywords=null;b.url=null;return b}b.__extends(e,a);k=e;e.from=function(a){return q.ensureClass(k,a)};e.prototype.destroy=function(){this.portal=null};Object.defineProperty(e.prototype,"displayName",{get:function(){var a=this.type,b=this.typeKeywords||[],d=a;"Feature Service"===a||"Feature Collection"===a?d=-1<b.indexOf("Table")?"Table":-1<b.indexOf("Route Layer")?"Route Layer":-1<b.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===a?d=-1<
b.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<b.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===a?d="Scene Layer":"Scene Package"===a?d="Scene Layer Package":"Stream Service"===a?d="Feature Layer":"Geoprocessing Service"===a&&this.portal&&this.portal.isPortal?d=-1<b.indexOf("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===a?d="Locator":"Microsoft Powerpoint"===a?d="Microsoft PowerPoint":"GeoJson"===a?d="GeoJSON":"Globe Service"===a?d="Globe Layer":
"Vector Tile Service"===a?d="Tile Layer":"netCDF"===a?d="NetCDF":"Map Service"===a?d=-1===b.indexOf("Spatiotemporal")&&(-1<b.indexOf("Hosted Service")||-1<b.indexOf("Tiled"))&&-1===b.indexOf("Relational")?"Tile Layer":"Map Image Layer":a&&-1<a.toLowerCase().indexOf("add in")?d=a.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===a?d="Big Data File Share":"Compact Tile Package"===a&&(d="Tile Package (tpkx)");return d},enumerable:!1,configurable:!0});e.prototype.readExtent=function(a){return a&&
a.length?new r(a[0][0],a[0][1],a[1][0],a[1][1]):null};Object.defineProperty(e.prototype,"iconUrl",{get:function(){var a=this.type&&this.type.toLowerCase()||"",b=this.typeKeywords||[],d=!1,c=!1,e=!1,g=!1,f=!1;0<a.indexOf("service")||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a?(d=-1<b.indexOf("Hosted Service"),"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(c=-1<b.indexOf("Table"),e=-1<b.indexOf("Route Layer"),g=-1<b.indexOf("Markup"),a=(f=-1!==b.indexOf("Spatiotemporal"))&&
c?"spatiotemporaltable":c?"table":e?"routelayer":g?"markup":f?"spatiotemporal":d?"featureshosted":"features"):a="map service"===a||"wms"===a||"wmts"===a?d||-1<b.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?-1<b.indexOf("Line")?"sceneweblayerline":-1<b.indexOf("3DObject")?"sceneweblayermultipatch":-1<b.indexOf("Point")?"sceneweblayerpoint":-1<b.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<b.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<b.indexOf("Polygon")?"sceneweblayerpolygon":
-1<b.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===a?-1<b.indexOf("Elevation 3D Layer")?"elevationlayer":-1<b.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a?-1<b.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):a="web map"===a||"cityengine web scene"===
a?"maps":"web scene"===a?-1<b.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<b.indexOf("ArcGIS Pro")||
"explorer map"===a&&b.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a||"administrative report"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"sqlite geodatabase"===a||"csv collection"===
a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"gml"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<b.indexOf("Explorer Mapping Application")||-1<b.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===
a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"mobile scene package"===a?"mobilescenepackage":"tile package"===a||"compact tile package"===a?"tilepackage":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":
"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"insights theme"===a?"insightstheme":"hub initiative"===a?"hubinitiative":"hubpage"===a?"hubpage":"hub event"===a?"hubevent":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a?"datastorecollection":"image collection"===a?"imagecollection":"style"===a?"style":"desktop style"===a?"desktopstyle":"dashboard"===a?"dashboard":"raster function template"===
a?"rasterprocessingtemplate":"vector tile package"===a?"vectortilepackage":"ortho mapping project"===a?"orthomappingproject":"ortho mapping template"===a?"orthomappingtemplate":"solution"===a?"solutions":"geopackage"===a?"geopackage":"deep learning package"===a?"deeplearningpackage":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"feed"===a?"feed":"excalibur imagery project"===a?"excaliburimageryproject":"notebook"===a?"notebook":"storymap"===a?"storymap":"survey123 add in"===
a?"survey123addin":"mission"===a?"mission":"mission report"===a?"missionreport":"quickcapture project"===a?"quickcaptureproject":"pro report"===a?"proreport":"urban model"===a?"urbanmodel":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"workflow"===a?"workflow":"insights script"===a?"insightsscript":"kernel gateway connection"===a?"kernelgatewayconnection":"hub initiative template"===a?"hubinitiativetemplate":"storymap theme"===a?"storymaptheme":"maps";
return a?l.getAssetUrl("esri/images/portal/"+a+"16.png"):null},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"isLayer",{get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"itemUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/items/"+this.id:null},enumerable:!1,configurable:!0});
Object.defineProperty(e.prototype,"thumbnailUrl",{get:function(){var a=this.itemUrl,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"userItemUrl",{get:function(){var a=this.get("portal.restUrl");if(!a)return null;var b=this.owner||this.get("portal.user.username");return b?a+"/content/users/"+(this.ownerFolder?b+"/"+this.ownerFolder:b)+"/items/"+this.id:null},enumerable:!1,configurable:!0});e.prototype.load=
function(a){var b=this;this.portal||(this.portal=p.getDefault());var d=this.portal.load(a).then(function(){return b.sourceJSON?b.sourceJSON:b.id&&b.itemUrl?b.portal._request(b.itemUrl,{signal:n.isSome(a)?a.signal:null}):{}}).then(function(a){b.sourceJSON=a;b.read(a)});this.addResolvingPromise(d);return g.resolve(this)};e.prototype.addRating=function(a){var b={method:"post",query:{}};a instanceof w&&(a=a.rating);isNaN(a)||"number"!==typeof a||(b.query.rating=a);return this.portal._request(this.itemUrl+
"/addRating",b).then(function(){return new w({rating:a,created:new Date})})};e.prototype.clone=function(){var a={access:this.access,accessInformation:this.accessInformation,applicationProxies:f.clone(this.applicationProxies),avgRating:this.avgRating,categories:f.clone(this.categories),created:f.clone(this.created),culture:this.culture,description:this.description,extent:f.clone(this.extent),groupCategories:f.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,
modified:f.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:f.clone(this.screenshots),size:this.size,snippet:this.snippet,tags:f.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:f.clone(this.typeKeywords),url:this.url};this.loaded&&(a.loadStatus="loaded");return(new k({sourceJSON:this.sourceJSON})).set(a)};e.prototype.createPostQuery=
function(){var a=this.toJSON(),b;for(b in a)"tags"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"typeKeywords"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"extent"===b&&a[b]&&(a[b]=JSON.stringify(a[b]));return a};e.prototype.deleteRating=function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(function(){})};e.prototype.fetchData=function(a,d){void 0===a&&(a="json");return this.portal._request(this.itemUrl+"/data",b.__assign({responseType:a},d))};e.prototype.fetchRating=
function(a){return this.portal._request(this.itemUrl+"/rating",a).then(function(a){return null!=a.rating?(a.created=new Date(a.created),new w(a)):null})};e.prototype.fetchRelatedItems=function(a,d){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",b.__assign({query:a},d),k)};e.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};e.prototype.reload=function(){var a=this;return this.portal._request(this.itemUrl,{cacheBust:!0}).then(function(b){a.sourceJSON=
b;a.read(b);return a})};e.prototype.update=function(a){var b=this;return this.id?this.load().then(function(){return b.portal._signIn()}).then(function(){var d=a&&a.data,c={method:"post"};c.query=b.createPostQuery();for(var e in c.query)null===c.query[e]&&(c.query[e]="");c.query.clearEmptyFields=!0;null!=d&&("string"===typeof d?c.query.text=d:"object"===typeof d&&(c.query.text=JSON.stringify(d)));return b.portal._request(b.userItemUrl+"/update",c).then(function(){return b.reload()})}):g.reject(new h("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))};e.prototype.updateThumbnail=function(a){var b=this;return this.id?this.load().then(function(){return b.portal._signIn()}).then(function(){var c=a.thumbnail,e=a.filename,g={method:"post"};if("string"===typeof c)d.isDataProtocol(c)?g.query={data:c}:g.query={url:d.makeAbsolute(c)},n.isSome(e)&&(g.query.filename=e);else{var f=new FormData;n.isSome(e)?f.append("file",c,e):f.append("file",c);g.body=f}return b.portal._request(b.userItemUrl+"/updateThumbnail",
g).then(function(){return b.reload()})}):g.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};e.prototype.fetchResources=function(a,d){void 0===a&&(a={});return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./support/resourceUtils"],a,b)})];case 1:return e=b.sent(),[2,e.fetchResources(this,a,d)]}})})};e.prototype.addResource=function(a,d,e){return b.__awaiter(this,
void 0,void 0,function(){var g;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./support/resourceUtils"],a,b)})];case 1:return g=b.sent(),a.portalItem=this,[2,g.addOrUpdateResource(a,"add",d,e)]}})})};e.prototype.removeResource=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./support/resourceUtils"],a,b)})];case 1:e=b.sent();
if(a.portalItem&&a.portalItem.itemUrl!==this.itemUrl)throw new h("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return[2,e.removeResource(this,a,d)]}})})};e.prototype.removeAllResources=function(a){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./support/resourceUtils"],a,b)})];case 1:return d=b.sent(),[2,d.removeAllResources(this,
a)]}})})};e.prototype.resourceFromPath=function(a){return new t({portalItem:this,path:a})};e.prototype.toJSON=function(){var a=this.extent,a={created:this.created&&this.created.getTime(),description:this.description,extent:a&&[[a.xmin,a.ymin],[a.xmax,a.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,
url:this.url};return f.fixJson(a)};e.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new k({sourceJSON:a})};e.prototype._getPostQuery=function(){var a=this.toJSON(),b;for(b in a)"tags"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"typeKeywords"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"extent"===b&&a[b]&&(a[b]=JSON.stringify(a[b]));return a};var k;b.__decorate([m.property({type:["private","shared","org","public"]})],e.prototype,"access",
void 0);b.__decorate([m.property()],e.prototype,"accessInformation",void 0);b.__decorate([m.property({json:{read:{source:"appProxies"}}})],e.prototype,"applicationProxies",void 0);b.__decorate([m.property()],e.prototype,"avgRating",void 0);b.__decorate([m.property()],e.prototype,"categories",void 0);b.__decorate([m.property({type:Date})],e.prototype,"created",void 0);b.__decorate([m.property()],e.prototype,"culture",void 0);b.__decorate([m.property()],e.prototype,"description",void 0);b.__decorate([m.property({dependsOn:["type",
"typeKeywords"],readOnly:!0})],e.prototype,"displayName",null);b.__decorate([m.property({type:r})],e.prototype,"extent",void 0);b.__decorate([m.reader("extent")],e.prototype,"readExtent",null);b.__decorate([m.property()],e.prototype,"groupCategories",void 0);b.__decorate([m.property({dependsOn:["type","typeKeywords"],readOnly:!0})],e.prototype,"iconUrl",null);b.__decorate([m.property()],e.prototype,"id",void 0);b.__decorate([m.property({dependsOn:["type"],readOnly:!0})],e.prototype,"isLayer",null);
b.__decorate([m.property()],e.prototype,"itemControl",void 0);b.__decorate([m.property({dependsOn:["portal.restUrl","id"],readOnly:!0})],e.prototype,"itemUrl",null);b.__decorate([m.property()],e.prototype,"licenseInfo",void 0);b.__decorate([m.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([m.property()],e.prototype,"name",void 0);b.__decorate([m.property()],e.prototype,"numComments",void 0);b.__decorate([m.property()],e.prototype,"numRatings",void 0);b.__decorate([m.property()],
e.prototype,"numViews",void 0);b.__decorate([m.property()],e.prototype,"owner",void 0);b.__decorate([m.property()],e.prototype,"ownerFolder",void 0);b.__decorate([m.property({type:p})],e.prototype,"portal",void 0);b.__decorate([m.property()],e.prototype,"screenshots",void 0);b.__decorate([m.property()],e.prototype,"size",void 0);b.__decorate([m.property()],e.prototype,"snippet",void 0);b.__decorate([m.property()],e.prototype,"sourceJSON",void 0);b.__decorate([m.property()],e.prototype,"tags",void 0);
b.__decorate([m.property()],e.prototype,"thumbnail",void 0);b.__decorate([m.property({dependsOn:["itemUrl","thumbnail","portal.credential.token"],readOnly:!0})],e.prototype,"thumbnailUrl",null);b.__decorate([m.property()],e.prototype,"title",void 0);b.__decorate([m.property()],e.prototype,"type",void 0);b.__decorate([m.property()],e.prototype,"typeKeywords",void 0);b.__decorate([m.property()],e.prototype,"url",void 0);b.__decorate([m.property({dependsOn:["portal.restUrl","portal.user.username","owner",
"ownerFolder","id"],readOnly:!0})],e.prototype,"userItemUrl",null);return e=k=b.__decorate([m.subclass("esri.portal.PortalItem")],e)}(k.JSONSupportMixin(e))})},"esri/portal/PortalItemResource":function(){define("require exports tslib ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,e,n){var g=k.getLogger("esri.portal.PortalItemResource");return function(a){function d(b){b=
a.call(this,b)||this;b.portalItem=null;return b}b.__extends(d,a);d.prototype.normalizeCtorArgs=function(a){return a&&a.portalItem&&a.path?b.__assign(b.__assign({},a),{path:this.normalizePath(a.path,a.portalItem)}):a};Object.defineProperty(d.prototype,"path",{set:function(a){f.isSome(a)&&e.isAbsolute(a)?g.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",a)},enumerable:!1,configurable:!0});d.prototype._castPath=function(a){return this.normalizePath(a,
this.portalItem)};Object.defineProperty(d.prototype,"url",{get:function(){return this.portalItem&&this.path?this.portalItem.itemUrl+"/resources/"+this.path:null},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"itemRelativeUrl",{get:function(){return this.portalItem&&this.path?"./resources/"+this.path:null},enumerable:!1,configurable:!0});d.prototype.fetch=function(a,b){void 0===a&&(a="json");var d=this.url;if(f.isNone(d))throw new h("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal._request(d,{responseType:a,signal:f.get(b,"signal")})};d.prototype.update=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./support/resourceUtils"],a,b)})];case 1:return e=b.sent(),[2,e.addOrUpdateResource(this,"update",a,d)]}})})};d.prototype.hasPath=function(){return f.isSome(this.path)};d.prototype.normalizePath=function(a,b){if(f.isNone(a))return a;
a=a.replace(/^\/+/,"");f.isSome(b)&&e.isAbsolute(a)&&(a=e.makeRelative(a,b.itemUrl));return a.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};b.__decorate([n.property()],d.prototype,"portalItem",void 0);b.__decorate([n.property({type:String,value:null})],d.prototype,"path",null);b.__decorate([n.cast("path")],d.prototype,"_castPath",null);b.__decorate([n.property({type:String,readOnly:!0,dependsOn:["portalItem","path"]})],d.prototype,"url",null);b.__decorate([n.property({type:String,readOnly:!0,
dependsOn:["portalItem","path"]})],d.prototype,"itemRelativeUrl",null);return d=b.__decorate([n.subclass("esri.portal.PortalItemResource")],d)}(l)})},"esri/portal/PortalRating":function(){define(["require","exports","tslib","../core/Accessor","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.created=null;b.rating=null;return b}b.__extends(c,a);b.__decorate([h.property()],c.prototype,"created",void 0);b.__decorate([h.property()],c.prototype,
"rating",void 0);return c=b.__decorate([h.subclass("esri.portal.PortalRating")],c)}(l)})},"esri/support/basemapDefinitions":function(){define(["require","exports","tslib","../assets","../intl/messages"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.esriBasemapDefinitions=a.getBasemapTitle=void 0;a.getBasemapTitle=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,e;return b.__generator(this,function(b){switch(b.label){case 0:if(!a)return[2,void 0];c=-1<a.indexOf("-vector")?
a.slice(0,a.indexOf("-vector")):a;return[4,h.loadMessageBundle("esri/t9n/basemaps")];case 1:return e=b.sent(),[2,e[a]||e[c]]}})})};a.esriBasemapDefinitions={streets:{id:"streets",thumbnailUrl:l.getAssetUrl("esri/images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",thumbnailUrl:l.getAssetUrl("esri/images/basemap/satellite.jpg"),
baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",thumbnailUrl:l.getAssetUrl("esri/images/basemap/hybrid.jpg"),baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,
opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",thumbnailUrl:l.getAssetUrl("esri/images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",
title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",thumbnailUrl:l.getAssetUrl("esri/images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",thumbnailUrl:l.getAssetUrl("esri/images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",thumbnailUrl:l.getAssetUrl("esri/images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",thumbnailUrl:l.getAssetUrl("esri/images/basemap/oceans.jpg"),baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",thumbnailUrl:l.getAssetUrl("esri/images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",thumbnailUrl:l.getAssetUrl("esri/images/basemap/osm.jpg"),
baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",
styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/gray-vector.jpg"),baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/streets-vector.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/topo-vector.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",thumbnailUrl:l.getAssetUrl("esri/images/basemap/streets-relief.jpg"),
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",showLegend:!1,visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
thumbnailUrl:l.getAssetUrl("esri/images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]}}})},"esri/webdoc/support/writeUtils":function(){define("require exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/SetUtils ../../core/accessorSupport/extensions/serializableProperty/writer".split(" "),
function(c,a,b,l,h,k,f,e){function n(a){return!("feature"!==a.type||a.url||!a.source||"memory"!==a.source.type)}Object.defineProperty(a,"__esModule",{value:!0});a.getLayerJSON=a.disableRestrictedWriting=a.enableRestrictedWriting=void 0;var g=f.SetFromValues("bing-maps open-street-map tile unknown unsupported vector-tile web-tile".split(" ")),d=f.SetFromValues("feature group tile unknown unsupported vector-tile web-tile".split(" "));a.enableRestrictedWriting=function(a){g.delete(a);d.delete(a)};a.disableRestrictedWriting=
function(a){g.add(a);d.add(a)};a.getLayerJSON=function(a,c,f){if(!("write"in a&&a.write))return f&&f.messages&&f.messages.push(new b("layer:unsupported","Layers ("+a.title+", "+a.id+") of type '"+a.declaredClass+"' cannot be persisted",{layer:a})),null;var m;f.restrictedWebMapWriting?(m="basemap"===f.layerContainerType?g:"operational-layers"===f.layerContainerType?d:null,m=h.isSome(m)?m.has(a.type)&&!n(a):!0):m=!0;if(m)return c={},a.write(c,f)?c:null;if(h.isSome(c)){f=c=l.clone(c);if(n(a)){if(m=(m=
k.getDeepValue("featureCollection.layers",f))&&m[0]&&m[0].layerDefinition)"maxScale"in a&&(m.maxScale=e.numberToJSON(a.maxScale)),"minScale"in a&&(m.minScale=e.numberToJSON(a.minScale))}else"group"!==a.type&&("maxScale"in a&&(f.maxScale=e.numberToJSON(a.maxScale)),"minScale"in a&&(f.minScale=e.numberToJSON(a.minScale)));"blendMode"in a&&(f.blendMode=a.blendMode,"normal"===f.blendMode&&delete f.blendMode);f.opacity=e.numberToJSON(a.opacity);f.title=a.title||"Layer";f.visibility=a.visible;if("legendEnabled"in
a&&"wmts"!==a.type)if(n(a)){if(f=f.featureCollection)f.showLegend=a.legendEnabled}else f.showLegend=a.legendEnabled}return c}})},"esri/Ground":function(){define("require exports tslib ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./ground/NavigationConstraint ./webdoc/support/opacityUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v){function u(a){return"elevation"===a.type||a&&"createElevationSampler"in a}var x=q.getLogger("esri.Ground");return function(a){function d(b){var d=a.call(this,b)||this;d.opacity=1;d.surfaceColor=null;d.navigationConstraint=null;d.layers=new h;d.layers.on("after-add",function(a){a=a.item;a.parent&&a.parent!==d&&"remove"in a.parent&&a.parent.remove(a);a.parent=d;"elevation"!==a.type&&"base-elevation"!==a.type&&x.error("Layer '"+a.title+", id:"+a.id+"' of type '"+
a.type+"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.")});d.layers.on("after-remove",function(a){a.item.parent=null});return d}b.__extends(d,a);n=d;d.prototype.initialize=function(){this.when().catch(function(a){x.error("#load()","Failed to load ground",a)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};d.prototype.destroy=function(){for(var a=0,b=this.layers.removeAll();a<b.length;a++)b[a].destroy();
this.layers.destroy()};d.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),a=b.__assign({},a),delete a.resourceInfo);return a};Object.defineProperty(d.prototype,"layers",{set:function(a){this._set("layers",k.referenceSetter(a,this._get("layers")))},enumerable:!1,configurable:!0});d.prototype.writeLayers=function(a,d,c,g){var n=[];a&&(g=b.__assign(b.__assign({},g),{layerContainerType:"ground"}),a.forEach(function(a){if("write"in a){var b={};f.typeCast(a)().write(b,
g)&&n.push(b)}else g&&g.messages&&g.messages.push(new e("layer:unsupported","Layers ("+a.title+", "+a.id+") of type '"+a.declaredClass+"' cannot be persisted in the ground",{layer:a}))}));d.layers=n};d.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return r.resolve(this)};d.prototype.loadAll=function(){var a=this;return m.loadAll(this,function(b){b(a.layers)})};d.prototype.queryElevation=function(a,b){var d=this;return this.load().then(function(){return d._importElevationQuery()}).then(function(c){c=
new c.ElevationQuery;var e=d.layers.filter(u).toArray();return c.queryAll(e,a,b)})};d.prototype.createElevationSampler=function(a,b){var d=this.layers.filter(u).toArray();return 1===d.length?d[0].createElevationSampler(a,b):this._importElevationQuery().then(function(c){return(new c.ElevationQuery).createSamplerAll(d,a,b)})};d.prototype.clone=function(){var a={opacity:this.opacity,surfaceColor:g.clone(this.surfaceColor),navigationConstraint:g.clone(this.navigationConstraint),layers:this.layers.slice()};
this.loaded&&(a.loadStatus="loaded");return(new n({resourceInfo:this.resourceInfo})).set(a)};d.prototype.read=function(b,d){this.resourceInfo||this._set("resourceInfo",{data:b,context:d});a.prototype.read.call(this,b,d)};d.prototype._loadFromSource=function(a){var b=this.resourceInfo;return b?this._loadLayersFromJSON(b.data,b.context,a):r.resolve(null)};d.prototype._loadLayersFromJSON=function(a,b,d){var e=this,g=b&&b.origin||"web-scene",f=b&&b.portal||null,n=b&&b.url||null;return(new Promise(function(a,
b){c(["./portal/support/layersCreator"],a,b)})).then(function(b){r.throwIfAborted(d);var c=[];a.layers&&Array.isArray(a.layers)&&c.push(b.populateOperationalLayers(e.layers,a.layers,{context:{origin:g,url:n,portal:f,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return r.eachAlways(c)}).then(function(){})};d.prototype._importElevationQuery=function(){return new Promise(function(a,b){c(["./layers/support/ElevationQuery"],a,b)})};var n;b.__decorate([p.property({json:{read:!1}})],
d.prototype,"layers",null);b.__decorate([p.writer("layers")],d.prototype,"writeLayers",null);b.__decorate([p.property({readOnly:!0})],d.prototype,"resourceInfo",void 0);b.__decorate([p.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:t.Integer,read:{reader:v.transparencyToOpacity,source:"transparency"},write:{writer:function(a,b){b.transparency=v.opacityToTransparency(a)},target:"transparency"}}})],d.prototype,"opacity",void 0);b.__decorate([p.property({type:l,json:{type:[t.Integer],
write:function(a,b){b.surfaceColor=a.toJSON().slice(0,3)}}})],d.prototype,"surfaceColor",void 0);b.__decorate([p.property({type:w.NavigationConstraint,json:{write:!0}})],d.prototype,"navigationConstraint",void 0);return d=n=b.__decorate([p.subclass("esri.Ground")],d)}(n.JSONSupportMixin(d))})},"esri/Color":function(){define("require exports ./colorUtils ./core/mathUtils ./core/maybe ./core/accessorSupport/ensureType".split(" "),function(c,a,b,l,h,k){function f(a){return l.clamp(k.ensureInteger(a),
0,255)}function e(a,b,d){a=Number(a);return isNaN(a)?d:a<b?b:a>d?d:a}c=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,d,c,e){void 0===e&&(e=new a);e.r=Math.round(b.r+(d.r-b.r)*c);e.g=Math.round(b.g+(d.g-b.g)*c);e.b=Math.round(b.b+(d.b-b.b)*c);e.a=b.a+(d.a-b.a)*c;return e._sanitize()};a.fromRgb=function(c,d){var e=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){c=e[2].split(/\s*,\s*/);e=e[1];if("rgb"===e&&3===c.length||"rgba"===
e&&4===c.length)return e=c[0],"%"===e.charAt(e.length-1)?(e=c.map(function(a){return 2.56*parseFloat(a)}),4===c.length&&(e[3]=parseFloat(c[3])),a.fromArray(e,d)):a.fromArray(c.map(function(a){return parseFloat(a)}),d);if("hsl"===e&&3===c.length||"hsla"===e&&4===c.length)return a.fromArray(b.hsla2rgba(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100,parseFloat(c[3])),d)}return null};a.fromHex=function(b,d){void 0===d&&(d=new a);var c=4===b.length?4:8,e=(1<<c)-1,g=Number("0x"+b.substr(1));
if(isNaN(g))return null;["b","g","r"].forEach(function(a){var b=g&e;g>>=c;d[a]=4===c?17*b:b});d.a=1;return d};a.fromArray=function(b,d){void 0===d&&(d=new a);d._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(d.a)&&(d.a=1);return d._sanitize()};a.fromString=function(c,d){var e=b.getNamedColor(c);return e&&a.fromArray(e,d)||a.fromRgb(c,d)||a.fromHex(c,d)};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};a.toUnitRGB=function(a){return h.isSome(a)?[a.r/255,a.g/255,a.b/
255]:null};a.toUnitRGBA=function(a){return h.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};Object.defineProperty(a.prototype,"isBright",{get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b},enumerable:!1,configurable:!0});a.prototype.setColor=function(b){var d,c,e,g;"string"===typeof b?a.fromString(b,this):Array.isArray(b)?a.fromArray(b,this):(this._set(null!==(d=b.r)&&void 0!==d?d:0,null!==(c=b.g)&&void 0!==c?c:0,null!==(e=b.b)&&void 0!==e?e:0,null!==(g=b.a)&&void 0!==g?g:
1),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};a.prototype.toString=
function(){return this.toCss(!0)};a.prototype.toJSON=function(){return this.toArray()};a.prototype.toArray=function(a){void 0===a&&(a=0);var b=f(this.r),c=f(this.g),e=f(this.b);return 0===a||1!==this.a?[b,c,e,f(255*this.a)]:[b,c,e]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};a.prototype._sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,
255));this.a=e(this.a,0,1);return this};a.prototype._set=function(a,b,c,e){this.r=a;this.g=b;this.b=c;this.a=e};return a}();c.prototype.declaredClass="esri.Color";return c})},"esri/colorUtils":function(){define(["require","exports","tslib"],function(c,a,b){function l(a){var b;return null!==(b=k[a])&&void 0!==b?b:null}function h(a,b,c){0>c&&++c;1<c&&--c;var e=6*c;return 1>e?a+(b-a)*e:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}Object.defineProperty(a,"__esModule",{value:!0});a.hex2rgba=a.hsla2rgba=a.getNamedColorCopy=
a.getNamedColor=void 0;var k={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,
196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,
248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,
238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,
104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,
218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,
180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};a.getNamedColor=l;a.getNamedColorCopy=function(a){return(a=l(a))?b.__spreadArrays(a):a};a.hsla2rgba=function(a,b,c,g){void 0===g&&(g=1);a=(a%360+360)%360/360;b=.5>=c?c*(b+1):c+b-c*b;c=2*c-b;return[Math.round(256*h(c,b,a+1/3)),Math.round(256*h(c,b,a)),Math.round(256*h(c,b,a-1/3)),g]};a.hex2rgba=function(a){var b=5<a.length,
c=b?8:4,g=(1<<c)-1,d=b?1:17,b=b?9===a.length:5===a.length;a=Number("0x"+a.substr(1));if(isNaN(a))return null;var f=[0,0,0,1];b&&(b=a&g,a>>=c,f[3]=d*b/255);b=a&g;a>>=c;f[2]=d*b;b=a&g;a>>=c;f[1]=d*b;b=a&g;a>>=c;f[0]=d*b;return f}})},"esri/core/mathUtils":function(){define(["require","exports"],function(c,a){function b(a,b,c){return a<b?b:a>c?c:a}function l(a,b,c){return a+(b-a)*c}function h(a){k[0]=a;return k[0]}Object.defineProperty(a,"__esModule",{value:!0});a.NUMBER_MAX_FLOAT32=a.clampFloat32=a.floatEqualAbsolute=
a.floatEqualRelative=a.asinClamped=a.acosClamped=a.reciprocalClamped=a.rad2deg=a.deg2rad=a.scale=a.lerp=a.log2=a.sign=a.nextHighestPowerOfTen=a.nextPowerOfTwo=a.isPowerOfTwo=a.glClamp=a.clamp=a.nextHighestPowerOfTwo=a.isNaN=a.isFinite=void 0;var k=new Float32Array(1);a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};a.clamp=b;a.glClamp=
function(a,b,c){return Math.min(Math.max(a,b),c)};a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextPowerOfTwo=function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.lerp=l;a.scale=function(a,b,c,g,d){return l(g,d,(a-b)/(c-b))};a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=
function(a){return 180*a/Math.PI};a.reciprocalClamped=function(a,b){void 0===b&&(b=1E-6);return(0>a?-1:1)/Math.max(Math.abs(a),b)};a.acosClamped=function(a){return Math.acos(b(a,-1,1))};a.asinClamped=function(a){return Math.asin(b(a,-1,1))};a.floatEqualRelative=function(b,c,n){void 0===n&&(n=1E-6);if(a.isNaN(b)||a.isNaN(c))return!1;if(b===c)return!0;var e=Math.abs(b-c),d=Math.abs(b),f=Math.abs(c);if(0===b||0===c||1E-12>d&&1E-12>f){if(e>.01*n)return!1}else if(e/(d+f)>n)return!1;return!0};a.floatEqualAbsolute=
function(b,c,n){void 0===n&&(n=1E-6);return a.isNaN(b)||a.isNaN(c)?!1:(b>c?b-c:c-b)<=n};a.clampFloat32=function(b){return h(Math.max(-a.NUMBER_MAX_FLOAT32,Math.min(b,a.NUMBER_MAX_FLOAT32)))};a.NUMBER_MAX_FLOAT32=h(3.4028234663852886E38)})},"esri/ground/NavigationConstraint":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.NavigationConstraint=void 0;c=function(a){function c(b){b=
a.call(this,b)||this;b.type="none";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({type:this.type})};var e;b.__decorate([h.enumeration({none:"none",stayAbove:"stay-above"})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.ground.NavigationConstraint")],c)}(l.JSONSupport);a.NavigationConstraint=c})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(c,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a.transparencyToOpacity=a.opacityToTransparency=void 0;a.opacityToTransparency=function(a){a=b.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/core/CollectionFlattener":function(){define("require exports tslib ./Collection ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=
a.call(this,b)||this;b._handles=new h;b.root=null;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this._handles.add(this.rootCollectionNames.map(function(b){return a.watch("root."+b,function(){return a.updateCollections()},!0)}));this.updateCollections()};c.prototype.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null};c.prototype.updateCollections=function(){var a=this;this._collections=this.rootCollectionNames.map(function(b){return a.get("root."+
b)}).filter(function(a){return null!=a});this.refresh()};c.prototype.refresh=function(){var a=this,b=this._handles;b.remove("collections");this.removeAll();for(var c=[],e=[],f=0,n=this._collections;f<n.length;f++){var t=n[f];this._processCollection(c,e,t)}this.push.apply(this,e);for(e=0;e<c.length;e++)t=c[e],b.add(t.on("after-changes",function(){return a.refresh()}),"collections")};c.prototype._createNewInstance=function(a){return new l(a)};c.prototype._processCollection=function(a,b,c){var d=this;
c&&(a.push(c),c.forEach(function(c){c&&(d.itemFilterFunction&&!d.itemFilterFunction(c)||b.push(c),d.getChildrenFunction&&d._processCollection(a,b,d.getChildrenFunction(c)))}))};b.__decorate([k.property()],c.prototype,"rootCollectionNames",void 0);b.__decorate([k.property()],c.prototype,"root",void 0);b.__decorate([k.property()],c.prototype,"getChildrenFunction",void 0);b.__decorate([k.property()],c.prototype,"itemFilterFunction",void 0);return c=b.__decorate([f.subclass("esri.core.CollectionFlattener")],
c)}(l)})},"esri/core/Handles":function(){define("require exports tslib ./Accessor ./Collection ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,b)||this;b._groups=new Map;return b}b.__extends(c,a);c.prototype.destroy=function(){this.removeAll()};Object.defineProperty(c.prototype,"size",{get:function(){var a=0;this._groups.forEach(function(b){a+=b.length});return a},enumerable:!1,
configurable:!0});c.prototype.add=function(a,b){var d=this;if(!this._isHandle(a)&&!Array.isArray(a)&&!h.isCollection(a))return this;var c=this._getOrCreateGroup(b);Array.isArray(a)||h.isCollection(a)?a.forEach(function(a){return d._isHandle(a)&&c.push(a)}):c.push(a);this.notifyChange("size");return this};c.prototype.forEach=function(a,b){if("function"===typeof a)this._groups.forEach(function(b){return b.forEach(a)});else{var d=this._getGroup(a);d&&b&&d.forEach(b)}};c.prototype.has=function(a){return this._groups.has(this._ensureGroupKey(a))};
c.prototype.remove=function(a){if(Array.isArray(a)||h.isCollection(a))return a.forEach(this.remove,this),this;if(!this.has(a))return this;for(var b=this._getGroup(a),d=0;d<b.length;d++)b[d].remove();this._deleteGroup(a);this.notifyChange("size");return this};c.prototype.removeAll=function(){this._groups.forEach(function(a){for(var b=0;b<a.length;b++)a[b].remove()});this._groups.clear();this.notifyChange("size");return this};c.prototype._isHandle=function(a){return a&&!!a.remove};c.prototype._getOrCreateGroup=
function(a){if(this.has(a))return this._getGroup(a);var b=[];this._groups.set(this._ensureGroupKey(a),b);return b};c.prototype._getGroup=function(a){return k.assumeNonNull(this._groups.get(this._ensureGroupKey(a)))};c.prototype._deleteGroup=function(a){return this._groups.delete(this._ensureGroupKey(a))};c.prototype._ensureGroupKey=function(a){return a||"_default_"};b.__decorate([f.property({readOnly:!0})],c.prototype,"size",null);return c=b.__decorate([e.subclass("esri.core.Handles")],c)}(l)})},
"esri/support/basemapUtils":function(){define("require exports ../Basemap ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(c,a,b,l,h,k,f,e){function n(a,d){var c;if("string"===typeof a){if(!(a in e.esriBasemapDefinitions))return d=Object.keys(e.esriBasemapDefinitions).map(function(a){return'"'+a+'"'}).join(", "),x.warn("Unable to find basemap definition for: "+a+". Try one of these: "+d),null;d&&(c=d[a]);c||(c=b.fromId(a),
d&&(d[a]=c))}else c=f.default(b,a);if(null===c||void 0===c?0:c.destroyed)x.warn("The provided basemap is already destroyed",{basemap:c}),c=null;return c}function g(a,b){var d=new l;a.forEach(function(a){var c=b.find(function(b){return v(q(a),q(b))})||a;d.some(function(a){return a===c})?d.push(a):d.push(c)});return d}function d(a){return a?!a.loaded&&a.resourceInfo?r(a.resourceInfo.data):{baseLayers:m(a.baseLayers),referenceLayers:m(a.referenceLayers)}:null}function m(a){return(l.isCollection(a)?a.toArray():
a).map(q)}function q(a){return{type:a.type,url:u("urlTemplate"in a&&a.urlTemplate||a.url||"styleUrl"in a&&a.styleUrl),minScale:"minScale"in a&&null!=a.minScale?a.minScale:0,maxScale:"maxScale"in a&&null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visible?!!a.visible:!0}}function r(a){return a?{baseLayers:p(a.baseMapLayers.filter(function(a){return!a.isReference})),referenceLayers:p(a.baseMapLayers.filter(function(a){return a.isReference}))}:null}function p(a){return a.map(function(a){var b;
switch(a.layerType){case "VectorTileLayer":b="vector-tile";break;case "ArcGISTiledMapServiceLayer":b="tile";break;default:b="unknown"}return{type:b,url:u(a.templateUrl||a.urlTemplate||a.styleUrl||a.url),minScale:null!=a.minScale?a.minScale:0,maxScale:null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visibility?!!a.visibility:!0}})}function t(a,b,d){return null!=a!==(null!=b)?"not-equal":a?w(a.baseLayers,b.baseLayers)?w(a.referenceLayers,b.referenceLayers)?"equal":d.mustMatchReferences?
"not-equal":"base-layers-equal":"not-equal":"equal"}function w(a,b){if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(!v(a[d],b[d]))return!1;return!0}function v(a,b){return a.type===b.type&&a.url===b.url&&a.minScale===b.minScale&&a.maxScale===b.maxScale&&a.visible===b.visible&&a.opacity===b.opacity}function u(a){return a?k.normalize(a).replace(/^\s*https?:/i,"").toLowerCase():""}Object.defineProperty(a,"__esModule",{value:!0});a.contentEquals=a.getWellKnownBasemapId=a.clonePreservingTiledLayers=
a.ensureType=a.destroyCache=a.createCache=void 0;var x=h.getLogger("esri.support.basemapUtils");a.createCache=function(){return{}};a.destroyCache=function(a){for(var b in a){var d=a[b];!1===(null===d||void 0===d?void 0:d.destroyed)&&d.destroy();delete a[b]}};a.ensureType=n;a.clonePreservingTiledLayers=function(a,d){void 0===d&&(d=null);a=n(a);if(!a)return null;var c=new b({id:a.id,title:a.title,baseLayers:a.baseLayers.slice(),referenceLayers:a.referenceLayers.slice()});d&&(c.baseLayers=g(c.baseLayers,
d.baseLayers),c.referenceLayers=g(c.referenceLayers,d.referenceLayers));c.load().catch(function(){});c.portalItem=a.portalItem;return c};a.getWellKnownBasemapId=function(a){var b=null;a=d(a);for(var c in e.esriBasemapDefinitions){var g=r(e.esriBasemapDefinitions[c]),g=t(a,g,{mustMatchReferences:!1});if("equal"===g){b=c;break}"base-layers-equal"===g&&(b=c)}return b};a.contentEquals=function(a,b){if(a===b)return!0;a=d(a);b=d(b);return"equal"===t(a,b,{mustMatchReferences:!0})}})},"esri/support/groundUtils":function(){define(["require",
"exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.ensureType=a.groundElevationLayers=void 0;var k=l.getLogger("esri.support.groundUtils");a.groundElevationLayers={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(c){var e;"string"===typeof c?c in a.groundElevationLayers?e=new b({resourceInfo:{data:{layers:[a.groundElevationLayers[c]]}}}):k.warn("Unable to find ground definition for: "+c+'. Try "world-elevation"'):e=h.default(b,c);return e}})},"esri/support/LayersMixin":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../layers/Layer".split(" "),
function(c,a,b,l,h,k,f,e,n){function g(a,b,d){var c;if(a)for(var e=0,f=a.length;e<f;e++)if(c=a.getItemAt(e),c[b]===d||c&&"group"===c.type&&(c=g(c.layers,b,d)))return c}Object.defineProperty(a,"__esModule",{value:!0});a.LayersMixin=void 0;var d=k.getLogger("esri.support.LayersMixin");a.LayersMixin=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=a.apply(this,b)||this;e.layers=new l;e.layers.on("before-add",function(a){a=a.item;a.parent&&"remove"in
a.parent&&a.parent.remove(a)});e.layers.on("after-add",function(a){a=a.item;a.parent=e;e.layerAdded(a);"elevation"!==a.type&&"base-elevation"!==a.type||d.error("Layer 'title:"+a.title+", id:"+a.id+"' of type '"+a.type+"' is not supported as an operational layer and will therefore be ignored.")});e.layers.on("after-remove",function(a){a=a.item;a.parent=null;e.layerRemoved(a)});return e}b.__extends(c,a);c.prototype.destroy=function(){for(var a=0,b=this.layers.removeAll();a<b.length;a++){var d=b[a];
this.layerRemoved(d);d.destroy()}this.layers.destroy()};Object.defineProperty(c.prototype,"layers",{set:function(a){this._set("layers",h.referenceSetter(a,this._get("layers")))},enumerable:!1,configurable:!0});c.prototype.add=function(a,b){var c=this,e=this.layers;b=e.getNextIndex(b);a instanceof n?a.parent===this?this.reorder(a,b):e.add(a,b):f.isPromiseLike(a)?a.then(function(a){c.destroyed||c.add(a,b)}):d.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};
c.prototype.addMany=function(a,b){var d=this,c=this.layers;b=c.getNextIndex(b);a.slice().forEach(function(a){a.parent===d?d.reorder(a,b):(c.add(a,b),b+=1)})};c.prototype.findLayerById=function(a){return g(this.layers,"id",a)};c.prototype.findLayerByUid=function(a){return g(this.layers,"uid",a)};c.prototype.remove=function(a){return this.layers.remove(a)};c.prototype.removeMany=function(a){return this.layers.removeMany(a)};c.prototype.removeAll=function(){return this.layers.removeAll()};c.prototype.reorder=
function(a,b){return this.layers.reorder(a,b)};c.prototype.layerAdded=function(a){};c.prototype.layerRemoved=function(a){};b.__decorate([e.property()],c.prototype,"layers",null);return c=b.__decorate([e.subclass("esri.support.LayersMixin")],c)}(a)}})},"esri/layers/Layer":function(){define("require exports tslib ../config ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){var r=0,p=d.getLogger("esri.layers.Layer");return function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.attributionDataUrl=null;b.fullExtent=new h.Extent(-180,-90,180,90,h.SpatialReference.WGS84);b.id=Date.now().toString(16)+"-layer-"+r++;b.legendEnabled=!0;b.listMode="show";b.opacity=1;b.parent=null;b.popupEnabled=!0;b.attributionVisible=!0;b.spatialReference=h.SpatialReference.WGS84;b.title=null;b.type=null;b.url=null;b.visible=!0;return b}
b.__extends(e,a);e.fromArcGISServerUrl=function(a){return b.__awaiter(this,void 0,void 0,function(){var d,e,g;return b.__generator(this,function(b){switch(b.label){case 0:return d="string"===typeof a?{url:a}:a,[4,new Promise(function(a,b){c(["./support/arcgisLayers"],a,b)})];case 1:e=b.sent(),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,e.fromUrl(d)];case 3:return[2,b.sent()];case 4:throw g=b.sent(),p.error("#fromArcGISServerUrl({ url: '"+d.url+"'})","Failed to create layer from arcgis server url",
g),g;case 5:return[2]}})})};e.fromPortalItem=function(a){return b.__awaiter(this,void 0,void 0,function(){var d,e,g,f,n,m;return b.__generator(this,function(b){switch(b.label){case 0:return d="portalItem"in a?a:{portalItem:a},[4,new Promise(function(a,b){c(["../portal/support/portalLayers"],a,b)})];case 1:e=b.sent(),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,e.fromItem(d)];case 3:return[2,b.sent()];case 4:throw g=b.sent(),n=(f=d&&d.portalItem)&&f.id||"unset",m=f&&f.portal&&f.portal.url||l.portalUrl,
p.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+m+"', id: '"+n+"')",g),g;case 5:return[2]}})})};e.prototype.initialize=function(){var a=this;this.when().catch(function(b){var c,e;d.getLogger(a.declaredClass).error("#load()","Failed to load layer (title: '"+(null!==(c=a.title)&&void 0!==c?c:"no title")+"', id: '"+(null!==(e=a.id)&&void 0!==e?e:"no id")+"')",{error:b})})};e.prototype.destroy=function(){if(this.parent){var a=this.parent;"layers"in a&&a.layers.includes(this)?
a.layers.remove(this):"tables"in a&&a.tables.includes(this)?a.tables.remove(this):"baseLayers"in a&&a.baseLayers.includes(this)?a.baseLayers.remove(this):"baseLayers"in a&&a.referenceLayers.includes(this)&&a.referenceLayers.remove(this)}};Object.defineProperty(e.prototype,"hasAttributionData",{get:function(){return null!=this.attributionDataUrl},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"parsedUrl",{get:function(){var a=this._get("url");return a?m.urlToObject(a):null},enumerable:!1,
configurable:!0});e.prototype.fetchAttributionData=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return a=this.attributionDataUrl,this.hasAttributionData&&a?[4,k(a,{query:{f:"json"},responseType:"json"})]:[3,2];case 1:return d=b.sent(),[2,d.data];case 2:throw new f("layer:no-attribution-data","Layer does not have attribution data");}})})};b.__decorate([q.property({type:String})],e.prototype,"attributionDataUrl",void 0);
b.__decorate([q.property({type:h.Extent})],e.prototype,"fullExtent",void 0);b.__decorate([q.property({readOnly:!0,dependsOn:["attributionDataUrl"]})],e.prototype,"hasAttributionData",null);b.__decorate([q.property({type:String})],e.prototype,"id",void 0);b.__decorate([q.property({type:Boolean,nonNullable:!0})],e.prototype,"legendEnabled",void 0);b.__decorate([q.property({type:["show","hide","hide-children"]})],e.prototype,"listMode",void 0);b.__decorate([q.property({type:Number,range:{min:0,max:1},
nonNullable:!0})],e.prototype,"opacity",void 0);b.__decorate([q.property()],e.prototype,"parent",void 0);b.__decorate([q.property({readOnly:!0,dependsOn:["url"]})],e.prototype,"parsedUrl",null);b.__decorate([q.property({type:Boolean})],e.prototype,"popupEnabled",void 0);b.__decorate([q.property({type:Boolean})],e.prototype,"attributionVisible",void 0);b.__decorate([q.property({type:h.SpatialReference})],e.prototype,"spatialReference",void 0);b.__decorate([q.property({type:String})],e.prototype,"title",
void 0);b.__decorate([q.property({type:String,readOnly:!0,json:{read:!1}})],e.prototype,"type",void 0);b.__decorate([q.property()],e.prototype,"url",void 0);b.__decorate([q.property({type:Boolean,nonNullable:!0})],e.prototype,"visible",void 0);return e=b.__decorate([q.subclass("esri.layers.Layer")],e)}(e.EventedMixin(n.IdentifiableMixin(g)))})},"esri/core/Identifiable":function(){define(["require","exports","tslib","./accessorSupport/decorators/subclass"],function(c,a,b,l){Object.defineProperty(a,
"__esModule",{value:!0});a.Identifiable=a.IdentifiableMixin=void 0;var h=0;a.IdentifiableMixin=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h++});return b}b.__extends(c,a);return c=b.__decorate([l.subclass("esri.core.Identifiable")],c)}(a)};c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,
a);return c=b.__decorate([l.subclass("esri.core.Identifiable")],c)}(a.IdentifiableMixin(function(){return function(){}}()));a.Identifiable=c})},"esri/support/TablesMixin":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.TablesMixin=void 0;var e=k.getLogger("esri.support.TablesMixin");a.TablesMixin=function(a){return function(a){function d(){for(var b=
[],d=0;d<arguments.length;d++)b[d]=arguments[d];var c=a.apply(this,b)||this;c.tables=new l;c.tables.on("after-add",function(a){a=a.item;a.parent&&a.parent!==c&&"tables"in a.parent&&a.parent.tables.remove(a);a.parent=c;"feature"!==a.type&&e.error("Layer 'title:"+a.title+", id:"+a.id+"' of type '"+a.type+"' is not supported as a table and will therefore be ignored.")});c.tables.on("after-remove",function(a){a.item.parent=null});return c}b.__extends(d,a);d.prototype.destroy=function(){for(var a=0,b=
this.tables.removeAll();a<b.length;a++)b[a].destroy();this.tables.destroy()};Object.defineProperty(d.prototype,"tables",{set:function(a){this._set("tables",h.referenceSetter(a,this._get("tables")))},enumerable:!1,configurable:!0});b.__decorate([f.property()],d.prototype,"tables",null);return d=b.__decorate([f.subclass("esri.support.TablesMixin")],d)}(a)}})},"esri/Viewpoint":function(){define("require exports tslib ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators ./geometry/support/jsonUtils".split(" "),
function(c,a,b,l,h,k,f,e){function n(){return{enabled:!this.camera}}return function(a){function d(b){b=a.call(this,b)||this;b.rotation=0;b.scale=0;b.targetGeometry=null;b.camera=null;return b}b.__extends(d,a);c=d;d.prototype.castRotation=function(a){a%=360;0>a&&(a+=360);return a};d.prototype.clone=function(){return new c({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})};var c;b.__decorate([f.property({type:Number,
json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],d.prototype,"rotation",void 0);b.__decorate([f.cast("rotation")],d.prototype,"castRotation",null);b.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],d.prototype,"scale",void 0);b.__decorate([f.property({types:h.geometryTypes,json:{read:e.fromJSON,write:!0,origins:{"web-scene":{read:e.fromJSON,write:{overridePolicy:n}}}}})],
d.prototype,"targetGeometry",void 0);b.__decorate([f.property({type:l,json:{write:!0}})],d.prototype,"camera",void 0);return d=c=b.__decorate([f.subclass("esri.Viewpoint")],d)}(k.JSONSupport)})},"esri/Camera":function(){define("require exports tslib ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./geometry/Point ./views/3d/support/mathUtils".split(" "),function(c,a,b,l,h,k,f,e,n){return function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=
arguments[d];b=a.apply(this,b)||this;b.position=new e([0,0,0]);b.heading=0;b.tilt=0;b.fov=55;return b}b.__extends(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,b,d,c){a&&"object"===typeof a&&("x"in a||Array.isArray(a))&&(a={position:a},null!=b&&(a.heading=b),null!=d&&(a.tilt=d),null!=c&&(a.fov=c));return a};d.prototype.writePosition=function(a,b,d,c){var e=a.clone();e.x=f.ensureNumber(a.x||0);e.y=f.ensureNumber(a.y||0);e.z=a.hasZ?f.ensureNumber(a.z||0):a.z;b[d]=e.write(null,c)};d.prototype.readPosition=
function(a,b){var d=new e;d.read(a,b);d.x=f.ensureNumber(d.x||0);d.y=f.ensureNumber(d.y||0);d.z=d.hasZ?f.ensureNumber(d.z||0):d.z;return d};d.prototype.equals=function(a){return a?this.tilt===a.tilt&&this.heading===a.heading&&this.fov===a.fov&&this.position.equals(a.position):!1};d.prototype.clone=function(){return new c({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};var c;b.__decorate([k.property({type:e,json:{write:{isRequired:!0}}})],d.prototype,"position",
void 0);b.__decorate([k.writer("position")],d.prototype,"writePosition",null);b.__decorate([k.reader("position")],d.prototype,"readPosition",null);b.__decorate([k.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(function(a){return n.cyclicalDeg.normalize(f.ensureNumber(a))})],d.prototype,"heading",void 0);b.__decorate([k.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(function(a){return h.clamp(f.ensureNumber(a),-180,180)})],d.prototype,"tilt",
void 0);b.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"fov",void 0);return d=c=b.__decorate([k.subclass("esri.Camera")],d)}(l.JSONSupport)})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(c,a,b,l,h){function k(a){for(var b in a){var d=a[b];d instanceof Function&&(a[b]=d.bind(a))}return a}Object.defineProperty(a,
"__esModule",{value:!0});a.cyclicalDeg=a.cyclicalPI=a.cyclical2PI=a.planeFromPoints=a.Cyclical=a.makePiecewiseLinearFunction=a.angle=a.slerp=a.bilerp=a.directionFromTo=a.sphericalToCartesian=a.cartesianToSpherical=a.moduloPositive=a.tangentFrame=a.makeOrthonormal=a.scaleFromMatrix=a.maxScale=a.fovy2fovx=a.fovx2fovy=a.cosCapped=void 0;a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.fovx2fovy=function(a,b,d){return 2*Math.atan(d*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,d){return 2*
Math.atan(b*Math.tan(.5*a)/d)};a.maxScale=function(a){return Math.sqrt(Math.max(Math.max(a[0]*a[0]+a[4]*a[4]+a[8]*a[8],a[1]*a[1]+a[5]*a[5]+a[9]*a[9]),a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){l.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=function(a,b,d){d=d||a;var c=l.vec3.dot(a,b);l.vec3.set(d,a[0]-c*b[0],a[1]-c*b[1],a[2]-c*b[2]);l.vec3.normalize(d,d)};
a.tangentFrame=function(a,b,d){Math.abs(a[0])>Math.abs(a[1])?l.vec3.set(b,0,1,0):l.vec3.set(b,1,0,0);l.vec3.cross(d,a,b);l.vec3.normalize(b,b);l.vec3.cross(b,d,a);l.vec3.normalize(d,d)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,d){var c=l.vec3.length(a),e=b.asinClamped(a[2]/c);l.vec3.set(d,c,e,Math.atan2(a[1]/c,a[0]/c));return d};a.sphericalToCartesian=function(a,b){var d=a[0],c=a[1];a=a[2];var e=Math.cos(c);l.vec3.set(b,d*e*Math.cos(a),d*e*Math.sin(a),d*Math.sin(c))};
a.directionFromTo=function(a,b,d){var c=d[0]-b[0],e=d[1]-b[1];b=d[2]-b[2];d=c*c+e*e+b*b;if(!d)return a[0]=0,a[1]=0,a[2]=0,a;d=1/Math.sqrt(d);a[0]=c*d;a[1]=e*d;a[2]=b*d;return a};a.bilerp=function(a,b,d,c,e,g){a+=(b-a)*e;return a+(d+(c-d)*e-a)*g};a.slerp=function(a,b,c,e){void 0===e&&(e=h.vec3f64.create());var f=l.vec3.length(a),n=l.vec3.length(b),m=l.vec3.dot(a,b)/(f*n);if(.9999999999999999>m){var m=Math.acos(m),p=((1-c)*f+c*n)/Math.sin(m),n=p/n*Math.sin(c*m);l.vec3.scale(g,a,p/f*Math.sin((1-c)*m));
l.vec3.scale(d,b,n);return l.vec3.add(e,g,d)}return l.vec3.lerp(e,a,b,c)};a.angle=function(a,c,e){a=l.vec3.normalize(g,a);c=l.vec3.normalize(d,c);var f=b.acosClamped(l.vec3.dot(a,c));return e&&(a=l.vec3.cross(n,a,c),0>l.vec3.dot(a,e))?-f:f};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(d){if(d<=a[0][0])return a[0][1];if(d>=a[b-1][0])return a[b-1][1];for(var c=1;d>a[c][0];)c++;var e=a[c][0];d=(e-d)/(e-a[c-1][0]);return d*a[c-1][1]+(1-d)*a[c][1]}};c=function(){function a(a,
b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,d,c,e){void 0===c&&(c=0);void 0===e&&(e=!1);d-=c;d<a?d+=this.ndiff(a-d):d>b&&(d-=this.ndiff(d-b));e&&d===b&&(d=a);return d+c};a.prototype.normalize=function(a,b,d){void 0===b&&(b=0);void 0===d&&(d=!1);return this._normalize(this.min,this.max,a,b,d)};a.prototype.clamp=function(a,d){void 0===d&&(d=0);return b.clamp(a-d,this.min,
this.max)+d};a.prototype.monotonic=function(a,b,d){return a<b?b:b+this.ndiff(a-b,d)};a.prototype.minimalMonotonic=function(a,b,d){return this._normalize(a,a+this.range,b,d)};a.prototype.center=function(a,b,d){b=this.monotonic(a,b,d);return this.normalize((a+b)/2,d)};a.prototype.diff=function(a,b,d){return this.monotonic(a,b,d)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var d=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(d)<
Math.abs(a)?d:a};a.prototype.contains=function(a,b,d){b=this.minimalMonotonic(a,b);d=this.minimalMonotonic(a,d);return d>a&&d<b};return a}();a.Cyclical=c;a.planeFromPoints=function(a,b,d,c){l.vec3.subtract(f,b,a);l.vec3.subtract(e,d,a);l.vec3.cross(c,f,e);l.vec3.normalize(c,c);c[3]=-l.vec3.dot(a,c)};var f=h.vec3f64.create(),e=h.vec3f64.create();a.cyclical2PI=k(new c(0,2*Math.PI));a.cyclicalPI=k(new c(-Math.PI,Math.PI));a.cyclicalDeg=k(new c(0,360));var n=h.vec3f64.create(),g=h.vec3f64.create(),d=
h.vec3f64.create()})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=void 0;a.vec3=b})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(c,a,b,l){function h(a){var b=a[0],d=a[1];a=a[2];return Math.sqrt(b*b+d*d+a*a)}function k(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function f(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];
a[2]=b[2]-d[2];return a}function e(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];a[2]=b[2]*d[2];return a}function n(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];return a}function g(a,b){var d=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(d*d+c*c+a*a)}function d(a,b){var d=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return d*d+c*c+a*a}function m(a){var b=a[0],d=a[1];a=a[2];return b*b+d*d+a*a}function q(a,b){var d=b[0],c=b[1],e=b[2],d=d*d+c*c+e*e;0<d&&(d=1/Math.sqrt(d),a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d);
return a}function r(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=a.str=a.angle=a.rotateZ=a.rotateY=a.rotateX=a.transformQuat=a.transformMat3=a.transformMat4=a.random=a.bezier=a.hermite=a.lerp=a.cross=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=
a.copy=a.length=void 0;a.length=h;a.copy=k;a.set=function(a,b,d,c){a[0]=b;a[1]=d;a[2]=c;return a};a.add=function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];return a};a.subtract=f;a.multiply=e;a.divide=n;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};a.min=function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);
return a};a.max=function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};a.scale=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;return a};a.scaleAndAdd=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;return a};a.distance=g;a.squaredDistance=d;a.squaredLength=m;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};a.inverse=
function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};a.normalize=q;a.dot=r;a.cross=function(a,b,d){var c=b[0],e=b[1];b=b[2];var g=d[0],f=d[1];d=d[2];a[0]=e*d-b*f;a[1]=b*g-c*d;a[2]=c*f-e*g;return a};a.lerp=function(a,b,d,c){var e=b[0],g=b[1];b=b[2];a[0]=e+c*(d[0]-e);a[1]=g+c*(d[1]-g);a[2]=b+c*(d[2]-b);return a};a.hermite=function(a,b,d,c,e,g){var f=g*g,n=f*(2*g-3)+1,m=f*(g-2)+g,k=f*(g-1);g=f*(3-2*g);a[0]=b[0]*n+d[0]*m+c[0]*k+e[0]*g;a[1]=b[1]*n+d[1]*m+c[1]*k+e[1]*g;a[2]=b[2]*n+d[2]*m+c[2]*k+
e[2]*g;return a};a.bezier=function(a,b,d,c,e,g){var f=1-g,n=f*f,m=g*g,k=n*f,n=3*g*n,f=3*m*f;g*=m;a[0]=b[0]*k+d[0]*n+c[0]*f+e[0]*g;a[1]=b[1]*k+d[1]*n+c[1]*f+e[1]*g;a[2]=b[2]*k+d[2]*n+c[2]*f+e[2]*g;return a};a.random=function(a,b){b=b||1;var d=2*l.RANDOM()*Math.PI,c=2*l.RANDOM()-1,e=Math.sqrt(1-c*c)*b;a[0]=Math.cos(d)*e;a[1]=Math.sin(d)*e;a[2]=c*b;return a};a.transformMat4=function(a,b,d){var c=b[0],e=b[1];b=b[2];a[0]=d[0]*c+d[4]*e+d[8]*b+d[12];a[1]=d[1]*c+d[5]*e+d[9]*b+d[13];a[2]=d[2]*c+d[6]*e+d[10]*
b+d[14];return a};a.transformMat3=function(a,b,d){var c=b[0],e=b[1];b=b[2];a[0]=c*d[0]+e*d[3]+b*d[6];a[1]=c*d[1]+e*d[4]+b*d[7];a[2]=c*d[2]+e*d[5]+b*d[8];return a};a.transformQuat=function(a,b,d){var c=d[0],e=d[1],g=d[2],f=b[0],n=b[1];b=b[2];var m=e*b-g*n,k=g*f-c*b,t=c*n-e*f;d=2*d[3];a[0]=f+m*d+2*(e*t-g*k);a[1]=n+k*d+2*(g*m-c*t);a[2]=b+t*d+2*(c*k-e*m);return a};a.rotateX=function(a,b,d,c){var e=[],g=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];g[0]=e[0];g[1]=e[1]*Math.cos(c)-e[2]*Math.sin(c);g[2]=
e[1]*Math.sin(c)+e[2]*Math.cos(c);a[0]=g[0]+d[0];a[1]=g[1]+d[1];a[2]=g[2]+d[2];return a};a.rotateY=function(a,b,d,c){var e=[],g=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];g[0]=e[2]*Math.sin(c)+e[0]*Math.cos(c);g[1]=e[1];g[2]=e[2]*Math.cos(c)-e[0]*Math.sin(c);a[0]=g[0]+d[0];a[1]=g[1]+d[1];a[2]=g[2]+d[2];return a};a.rotateZ=function(a,b,d,c){var e=[],g=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];g[0]=e[0]*Math.cos(c)-e[1]*Math.sin(c);g[1]=e[0]*Math.sin(c)+e[1]*Math.cos(c);g[2]=e[2];a[0]=g[0]+
d[0];a[1]=g[1]+d[1];a[2]=g[2]+d[2];return a};a.angle=function(a,b){k(p,a);k(t,b);q(p,p);q(t,t);a=r(p,t);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var p=b.create(),t=b.create();a.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};a.equals=function(a,b){var d=a[0],c=a[1];a=a[2];var e=b[0],g=b[1];b=b[2];return Math.abs(d-e)<=l.EPSILON*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(c-g)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&
Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.sub=f;a.mul=e;a.div=n;a.dist=g;a.sqrDist=d;a.len=h;a.sqrLen=m})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(c,a){function b(){return[0,0,0]}function l(){return[1,1,1]}function h(){return[1,0,0]}function k(){return[0,1,0]}function f(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_Z=a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitZ=a.unitY=a.unitX=a.ones=a.zeros=a.createView=
a.fromArray=a.fromValues=a.clone=a.create=void 0;a.create=b;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,b,c){return[a,b,c]};a.fromArray=function(a){for(var c=b(),e=Math.min(3,a.length),d=0;d<e;++d)c[d]=a[d];return c};a.createView=function(a,b){return new Float64Array(a,b,3)};a.zeros=function(){return b()};a.ones=l;a.unitX=h;a.unitY=k;a.unitZ=f;a.ZEROS=b();a.ONES=l();a.UNIT_X=h();a.UNIT_Y=k();a.UNIT_Z=f()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require",
"exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.equals=a.toDegree=a.toRadian=a.RANDOM=a.EPSILON=void 0;a.EPSILON=1E-6;a.RANDOM=Math.random;var b=Math.PI/180,l=180/Math.PI;a.toRadian=function(a){return a*b};a.toDegree=function(a){return a*l};a.equals=function(b,c){return Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(c,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a.vec3f64=void 0;a.vec3f64=b})},"esri/layers/mixins/OperationalLayer":function(){define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.OperationalLayer=void 0;a.OperationalLayer=function(a){return function(a){function d(){var b=
null!==a&&a.apply(this,arguments)||this;b.title="Layer";return b}b.__extends(d,a);d.prototype.writeListMode=function(a,b,d,c){c&&"ground"===c.layerContainerType?b[d]=a:a&&f.willPropertyWrite(this,d,{},c)&&(b[d]=a)};d.prototype.writeOperationalLayerType=function(a,b,d,c){!a||c&&"tables"===c.layerContainerType||(b.layerType=a)};d.prototype.writeTitle=function(a,b){b.title=a||"Layer"};d.prototype.read=function(b,d){var c=this;d&&(d.layer=this);k.readLoadable(this,b,function(d){return a.prototype.read.call(c,
b,d)},d)};d.prototype.write=function(d,c){if(c&&c.origin){var g=c.origin+"/"+(c.layerContainerType||"operational-layers"),f=e.supportedTypes[g],f=f&&f[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===g&&(f=!1);if(!f)return c.messages&&c.messages.push(new l("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+g+"'",{layer:this})),null}d=a.prototype.write.call(this,
d,b.__assign(b.__assign({},c),{layer:this}));c=!!c&&!!c.messages&&!!c.messages.filter(function(a){return a instanceof l&&"web-document-write:property-required"===a.name}).length;return!this.url&&c?null:d};d.prototype.beforeSave=function(){};b.__decorate([h.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],d.prototype,"id",void 0);b.__decorate([h.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,
write:!1}}}})],d.prototype,"listMode",void 0);b.__decorate([h.writer("listMode")],d.prototype,"writeListMode",null);b.__decorate([h.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],d.prototype,"operationalLayerType",void 0);b.__decorate([h.writer("operationalLayerType")],d.prototype,"writeOperationalLayerType",null);b.__decorate([h.property(n.opacity)],d.prototype,"opacity",void 0);b.__decorate([h.property({type:String,
json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}}})],d.prototype,"title",void 0);b.__decorate([h.writer("title")],d.prototype,"writeTitle",null);b.__decorate([h.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],d.prototype,"visible",void 0);return d=b.__decorate([h.subclass("esri.layers.mixins.OperationalLayer")],
d)}(a)}})},"esri/layers/mixins/operationalLayers":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.supportedTypes=void 0;a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,
WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,
ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},
"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}}})},"esri/layers/support/commonProperties":function(){define("require exports tslib ../../TimeExtent ../../core/accessorSupport/utils ../../core/accessorSupport/write ../../support/persistableUrlUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.combinedViewLayerTimeExtentProperty=
a.opacityDrawingInfo=a.opacity=a.readOnlyService=a.elevationInfo=a.legendEnabled=a.url=a.labelsVisible=a.popupEnabled=a.screenSizePerspectiveEnabled=void 0;a.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(a,b){if(null==b.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled"))h.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0);else return b.screenSizePerspective}},write:{ignoreOrigin:!0,
target:"screenSizePerspective",writer:function(a,b,c,e){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&a?b[c]=a:k.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},e)&&(b[c]=a)}}}}}};a.popupEnabled={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(a,b){return!b.disablePopup}},write:{enabled:!0,writer:function(a,b,c){b[c]=!a}}}};a.labelsVisible={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};a.url={type:String,json:{origins:{"portal-item":{write:!1}},
write:{isRequired:!0,ignoreOrigin:!0,writer:f.write}}};a.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};a.elevationInfo={value:null,type:e,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};a.readOnlyService=function(a){return{type:a,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.opacity={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}};
a.opacityDrawingInfo=b.__assign(b.__assign({},a.opacity),{json:b.__assign(b.__assign({},a.opacity.json),{origins:{"web-document":b.__assign(b.__assign({},a.opacity.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(a,b,c){if((!c||"service"===c.origin)&&b.drawingInfo&&void 0!==b.drawingInfo.transparency)return n.transparencyToOpacity(b.drawingInfo.transparency);
if(b.layerDefinition&&b.layerDefinition.drawingInfo&&void 0!==b.layerDefinition.drawingInfo.transparency)return n.transparencyToOpacity(b.layerDefinition.drawingInfo.transparency)}}})});a.combinedViewLayerTimeExtentProperty={type:l,dependsOn:"view.timeExtent layer.timeExtent layer.timeInfo layer.timeOffset layer.timeOffset.value layer.timeOffset.unit layer.useViewTime".split(" "),readOnly:!0,get:function(){var a,b;if(null===(a=this.layer)||void 0===a||!a.timeInfo)return null;a=null===(b=this.view)||
void 0===b?void 0:b.timeExtent;b=this.layer.timeExtent;b=this.layer.useViewTime?a&&b?a.intersection(b):a||b:b;if(!b||b.isEmpty)return b;b=(a=this.layer.timeOffset)?b.offset(-a.value,a.unit):b;a=this._get("timeExtent");return b.equals(a)?a:b}}})},"esri/TimeExtent":function(){define("require exports tslib ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(c,a,b,l,h,k){c=function(a){function c(b){b=a.call(this,b)||this;b.end=null;b.start=null;return b}
b.__extends(c,a);d=c;Object.defineProperty(c,"allTime",{get:function(){return f},enumerable:!1,configurable:!0});Object.defineProperty(c,"empty",{get:function(){return e},enumerable:!1,configurable:!0});c.prototype.readEnd=function(a,b){return null!=b.end?new Date(b.end):null};c.prototype.writeEnd=function(a,b){b.end=a?a.getTime():null};Object.defineProperty(c.prototype,"isAllTime",{get:function(){return this.equals(d.allTime)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"isEmpty",
{get:function(){return this.equals(d.empty)},enumerable:!1,configurable:!0});c.prototype.readStart=function(a,b){return null!=b.start?new Date(b.start):null};c.prototype.writeStart=function(a,b){b.start=a?a.getTime():null};c.prototype.clone=function(){return new d({end:this.end,start:this.start})};c.prototype.intersection=function(a){var b,c,e,g,f,n,m,k;if(!a)return this.clone();if(this.isEmpty||a.isEmpty)return d.empty;if(this.isAllTime)return a.clone();if(a.isAllTime)return this.clone();var h=null!==
(c=null===(b=this.start)||void 0===b?void 0:b.getTime())&&void 0!==c?c:-Infinity;b=null!==(g=null===(e=this.end)||void 0===e?void 0:e.getTime())&&void 0!==g?g:Infinity;e=null!==(n=null===(f=a.start)||void 0===f?void 0:f.getTime())&&void 0!==n?n:-Infinity;a=null!==(k=null===(m=a.end)||void 0===m?void 0:m.getTime())&&void 0!==k?k:Infinity;var l,B;e>=h&&e<=b?l=e:h>=e&&h<=a&&(l=h);b>=e&&b<=a?B=b:a>=h&&a<=b&&(B=a);return isNaN(l)||isNaN(B)?d.empty:(m=new d,m.start=-Infinity===l?null:new Date(l),m.end=
Infinity===B?null:new Date(B),m)};c.prototype.offset=function(a,b){if(this.isEmpty||this.isAllTime)return this.clone();var c=new d,e=this.start,g=this.end;e&&(c.start=k.offsetDate(e,a,b));g&&(c.end=k.offsetDate(g,a,b));return c};c.prototype.equals=function(a){if(!a)return!1;var b=this.start?this.start.getTime():this.start,d=this.end?this.end.getTime():this.end,c=a.start?a.start.getTime():a.start;a=a.end?a.end.getTime():a.end;return b===c&&d===a};var d;b.__decorate([h.property({type:Date,json:{write:{allowNull:!0}}})],
c.prototype,"end",void 0);b.__decorate([h.reader("end")],c.prototype,"readEnd",null);b.__decorate([h.writer("end")],c.prototype,"writeEnd",null);b.__decorate([h.property({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([h.property({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([h.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([h.reader("start")],c.prototype,
"readStart",null);b.__decorate([h.writer("start")],c.prototype,"writeStart",null);return c=d=b.__decorate([h.subclass("esri.TimeExtent")],c)}(l.JSONSupport);var f=new c,e=new c({start:void 0,end:void 0});return c})},"esri/layers/support/timeUtils":function(){define(["require","exports","../../core/compilerUtils","../../core/jsonMap"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.truncateDate=a.millisecondsPerTimeUnit=a.offsetDate=a.timeUnitKebabDictionary=a.Milliseconds=void 0;
a.Milliseconds=function(a){return a};var h={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",
multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.timeUnitKebabDictionary=l.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});
a.offsetDate=function(a,b,c){a=new Date(a.getTime());if(b&&c){c=h[c];var e=c.multiplier;a[c.setter](a[c.getter]()+b*e)}return a};a.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.truncateDate=function(a,c){switch(c){case "milliseconds":return new Date(a.getTime());case "seconds":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());case "minutes":return new Date(a.getFullYear(),
a.getMonth(),a.getDate(),a.getHours(),a.getMinutes());case "hours":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours());case "days":return new Date(a.getFullYear(),a.getMonth(),a.getDate());case "weeks":return new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay());case "months":return new Date(a.getFullYear(),a.getMonth(),1);case "years":return new Date(a.getFullYear(),0,1);case "decades":return new Date(a.getFullYear()-a.getFullYear()%10,0,1);case "centuries":return new Date(a.getFullYear()-
a.getFullYear()%100,0,1);default:return b.neverReached(c),null}}})},"esri/symbols/support/ElevationInfo":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./FeatureExpressionInfo ./unitConversionUtils".split(" "),function(c,a,b,l,h,k,f,e,n){var g=l.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),d=new l.JSONMap({foot:"feet",
kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.offset=null;return b}b.__extends(c,a);m=c;c.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};c.prototype.writeFeatureExpressionInfo=function(a,b,d,c){b[d]=a.write(null,c);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(c.prototype,
"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):k.isSome(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!1,configurable:!0});c.prototype.write=function(b,d){return this.offset||this.mode||this.featureExpressionInfo||this.unit?a.prototype.write.call(this,b,d):null};c.prototype.clone=
function(){return new m({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var m;b.__decorate([f.property({type:e,json:{write:!0}})],c.prototype,"featureExpressionInfo",void 0);b.__decorate([f.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);b.__decorate([f.writer("featureExpressionInfo",{featureExpressionInfo:{type:e},"featureExpression.value":{type:[0]}})],
c.prototype,"writeFeatureExpressionInfo",null);b.__decorate([f.property({type:g.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:g.jsonValues,read:g.read,write:{writer:g.write,isRequired:!0}}})],c.prototype,"mode",null);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"offset",void 0);b.__decorate([f.property({type:n.supportedUnits,json:{type:String,read:d.read,write:d.write}})],c.prototype,"unit",null);return c=m=b.__decorate([f.subclass("esri.layers.support.ElevationInfo")],
c)}(h.JSONSupport)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);f=c;c.prototype.collectRequiredFields=function(a,d){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){return[2,k.collectArcadeFieldNames(a,
d,this.expression)]})})};c.prototype.clone=function(){return new f({expression:this.expression,title:this.title})};var f;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=f=b.__decorate([h.subclass("esri.layers.support.FeatureExpressionInfo")],c)}(l.JSONSupport)})},"esri/layers/support/fieldUtils":function(){define("require exports tslib @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){function m(a,b,d){if(a)for(var c=0;c<a.length;c++){var e=a[c],g=f.getDeepValue(e,b);(g=g&&"function"!==typeof g&&t(d,g))&&f.setDeepValue(e,g.name,b)}}function q(a,b){if(!a||!b)return[];M.clear();r(M,a,b);return n.valuesOfSet(M).sort()}function r(a,b,d){if(d)if(b&&b.length)if(l.includes(d,"*"))for(d=0;d<b.length;d++)a.add(b[d].name);else for(var c=0;c<d.length;c++)e=d[c],p(a,b,e);else if(l.includes(d,"*"))a.clear(),a.add("*");else for(b=0;b<d.length;b++){var e=d[b];
a.add(e)}}function p(a,b,d){b&&b.length?(b=t(b,d))&&a.add(b.name):"string"===typeof d&&a.add(d)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return c}}return null}function w(a,c,e){return b.__awaiter(this,void 0,void 0,function(){var g,f,n,m,k;return b.__generator(this,function(b){switch(b.label){case 0:return e?[4,d.loadArcade()]:[2];case 1:g=b.sent().arcadeUtils;f=g.extractFieldNames(e);n=0;
for(m=f;n<m.length;n++)k=m[n],p(a,c,k);return[2]}})})}function v(a,b){for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.valueType&&c.valueType===b)return c.name}return null}function u(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,e;return b.__generator(this,function(b){if(!d)return[2];c=d.fields;return(e=f.getDeepValue("elevationInfo.featureExpressionInfo",d))?[2,e.collectRequiredFields(a,c)]:[2]})})}function x(a,d,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,
function(b){c.outStatistic.onStatisticValueExpression?w(a,d,c.outStatistic.onStatisticValueExpression):a.add(c.outStatistic.onStatisticField);return[2]})})}function y(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,g;return b.__generator(this,function(b){switch(b.label){case 0:return c=d.labelingInfo,g=d.fields,c&&c.length?[4,e.all(c.map(function(b){return z(a,g,b)}))]:[2];case 1:return b.sent(),[2]}})})}function z(a,d,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,f,n,m;
return b.__generator(this,function(b){switch(b.label){case 0:if(!c)return[2];e=c.getLabelExpression();g=c.where;return"arcade"!==e.type?[3,2]:[4,w(a,d,e.expression)];case 1:return b.sent(),[3,3];case 2:(f=e.expression.match(/{[^}]*}/g))&&f.forEach(function(b){p(a,d,b.slice(1,-1))}),b.label=3;case 3:return n=/['"]+/g,g&&(m=g.split(" "),3===m.length&&p(a,d,m[0].replace(n,"")),7===m.length&&(p(a,d,m[0].replace(n,"")),p(a,d,m[4].replace(n,"")))),[2]}})})}function B(a){return"number"===typeof a&&!isNaN(a)&&
isFinite(a)}function A(a){return null===a||B(a)}function E(a){return null===a||R(a)}function C(a){return null!=a&&"string"===typeof a}function D(a){return null===a||C(a)}function F(){return!0}function I(a,b){var d;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":d=a.nullable?E:R;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":d=
a.nullable?A:B;break;case "string":case "esriFieldTypeString":d=a.nullable?D:C;break;default:d=F}return 1===arguments.length?d:d(b)}function G(a){return null!=a&&Q.has(a.type)}function H(a,b){return a.nullable&&null===b?null:G(a)&&!J(a.type,Number(b))?ma.OUT_OF_RANGE:I(a,b)?a.domain?g.validateDomainValue(a.domain,b):null:V.INVALID_TYPE}function J(a,b){return(a="string"===typeof a?L(a):a)?a.isInteger?R(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function L(b){switch(b){case "esriFieldTypeSmallInteger":case "small-integer":return a.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return a.integerRange;case "esriFieldTypeSingle":case "single":return a.singleRange;case "esriFieldTypeDouble":case "double":return a.doubleRange}}function N(a,b,d){if(!b||!b.attributes||!a){if(k.isSome(d))for(var c=0;c<a.length;c++)b=a[c],d.add(b);return!0}for(var c=b.attributes,e=!1,g=0;g<a.length;g++)if(b=a[g],!(b in c))if(e=!0,k.isSome(d))d.add(b);else break;return e}Object.defineProperty(a,"__esModule",{value:!0});a.getExpressionFields=a.populateMissingFields=
a.featureHasFields=a.validationErrorToString=a.doubleRange=a.singleRange=a.integerRange=a.smallIntegerRange=a.getNumericTypeForValue=a.getFieldRange=a.isNumberInRange=a.validateFieldValue=a.sanitizeNullFieldValue=a.TypeValidationError=a.NumericRangeValidationError=a.isValidFieldValue=a.isDateField=a.isStringField=a.isNumericField=a.numericTypes=a.isValueMatchingFieldType=a.getFieldDefaultValue=a.collectLabelingFields=a.getLabelingFields=a.getFeatureGeometryFields=a.getFeatureEditFields=a.getTimeFields=
a.collectFilterFields=a.collectFeatureReductionFields=a.collectElevationFields=a.getElevationFields=a.getDisplayFieldName=a.collectArcadeFieldNames=a.hasField=a.getField=a.packFields=a.unpackFieldNames=a.collectField=a.collectFields=a.fixFields=a.fixTimeInfoFields=a.fixRendererFields=a.visualVariableFields=a.rendererFields=void 0;a.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
a.visualVariableFields=["field","normalizationField"];a.fixRendererFields=function(b,d){if(null!=b&&null!=d){var c=0;for(b=Array.isArray(b)?b:[b];c<b.length;c++){var e=b[c];m(a.rendererFields,e,d);if("visualVariables"in e&&e.visualVariables)for(var g=0,e=e.visualVariables;g<e.length;g++)m(a.visualVariableFields,e[g],d)}}};a.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var d=t(b,a.startField);b=t(b,a.endField);a.startField=d&&d.name||null;a.endField=b&&b.name||null}else d=
t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=d&&d.name||null,a.endTimeField=b&&b.name||null};var M=new Set;a.fixFields=q;a.collectFields=r;a.collectField=p;a.unpackFieldNames=function(a,b){return b&&a?l.includes(b,"*")?a.map(function(a){return a.name}):b:[]};a.packFields=function(a,b,d){void 0===d&&(d=1);if(!b||!a)return[];if(l.includes(b,"*"))return["*"];b=q(a,b);return b.length/a.length>=d?["*"]:b};a.getField=t;a.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return!0}return!1};a.collectArcadeFieldNames=w;a.getDisplayFieldName=function(a){var b=a.displayField;a=a.fields;if(b)return b;if(!a||!a.length)return null;if(!(b=v(a,"name-or-title")||v(a,"unique-identifier")||v(a,"type-or-category")))a:{for(b=0;b<a.length;b++){var d=a[b];if(d&&d.name){var c=d.name.toLowerCase();if(-1<c.indexOf("name")||-1<c.indexOf("title")){b=d.name;break a}}}b=null}return b};a.getElevationFields=function(a){return b.__awaiter(this,
void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];d=new Set;return[4,u(d,a)];case 1:return b.sent(),[2,n.valuesOfSet(d).sort()]}})})};a.collectElevationFields=u;a.collectFeatureReductionFields=function(a,d,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return d&&c&&"cluster"===c.type&&c.fields?[4,e.all(c.fields.map(function(b){return x(a,d.fields,b)}))]:[2];case 1:return b.sent(),
[2]}})})};a.collectFilterFields=function(a,d,e){return b.__awaiter(this,void 0,void 0,function(){var g,f;return b.__generator(this,function(b){switch(b.label){case 0:if(!d||!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];d.timeInfo&&e.timeExtent&&r(a,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return e.where?[4,new Promise(function(a,b){c(["../../core/sql/WhereClause"],a,b)})]:[3,2];case 1:g=b.sent();f=g.WhereClause.create(e.where,d.fieldsIndex);if(!f.isStandardized)throw new h("fieldUtils:collectFilterFields",
"Where clause is not standardized");r(a,d.fields,f.fieldNames);b.label=2;case 2:return[2]}})})};a.getTimeFields=function(a){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){return a?(d="timeInfo"in a&&a.timeInfo)?[2,q(a.fields,[a.trackIdField,d.startField,d.endField])]:[2,[]]:[2,[]]})})};a.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?q(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,
b&&b.editDateField]):[]};a.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?q(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};a.getLabelingFields=function(a){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];d=new Set;return[4,y(d,a)];case 1:return b.sent(),[2,n.valuesOfSet(d).sort()]}})})};a.collectLabelingFields=y;a.getFieldDefaultValue=
function(a){var b=a.defaultValue;if(void 0!==b&&I(a,b))return b;if(a.nullable)return null};var R=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();a.isValueMatchingFieldType=I;a.numericTypes=["integer","small-integer","single","double"];var Q=n.SetFromValues(b.__spreadArrays(a.numericTypes,["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));a.isNumericField=G;a.isStringField=
function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};a.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};a.isValidFieldValue=function(a,b){return null===H(a,b)};var ma;(ma=a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var V;(V=a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";a.sanitizeNullFieldValue=
function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};a.validateFieldValue=H;a.isNumberInRange=J;a.getFieldRange=function(a){var b=g.getDomainRange(a.domain);if(b)return b;if(G(a))return L(a.type)};a.getNumericTypeForValue=function(b){if(!B(b))return null;if(R(b)){if(b>=a.smallIntegerRange.min&&b<=a.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(b>=a.integerRange.min&&b<=a.integerRange.max)return"esriFieldTypeInteger"}return b>=a.singleRange.min&&b<=a.singleRange.max?"esriFieldTypeSingle":
"esriFieldTypeDouble"};a.smallIntegerRange={min:-32768,max:32767,isInteger:!0};a.integerRange={min:-2147483648,max:2147483647,isInteger:!0};a.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};a.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.validationErrorToString=function(a,b,d){switch(a){case g.DomainValidationError.INVALID_CODED_VALUE:return"Value "+d+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case g.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+
d+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case V.INVALID_TYPE:return"Value "+d+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case ma.OUT_OF_RANGE:return a=L(b.type),"Value "+d+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};a.featureHasFields=function(a,b){return!N(a,b,null)};a.populateMissingFields=N;a.getExpressionFields=
function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,e,g,f;return b.__generator(this,function(b){switch(b.label){case 0:c=new Set,e=0,g=d,b.label=1;case 1:if(!(e<g.length))return[3,4];f=g[e];return[4,w(c,a.fields,f)];case 2:b.sent(),b.label=3;case 3:return e++,[3,1];case 4:return[2,n.valuesOfSet(c).sort()]}})})}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,
a,b,l,h,k,f){function e(a,b){switch(a.type){case "range":var d="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>d)return n.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return n.INVALID_CODED_VALUE}return null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJSON=a.getDomainRange=a.types=a.validateDomainValue=a.isValidDomainValue=a.DomainValidationError=a.RangeDomain=
a.InheritedDomain=a.DomainBase=a.CodedValueDomain=void 0;a.CodedValueDomain=l;a.DomainBase=h;a.InheritedDomain=k;a.RangeDomain=f;var n;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(n=a.DomainValidationError||(a.DomainValidationError={}));a.isValidDomainValue=function(a,b){return null===e(a,b)};a.validateDomainValue=e;a.types={key:"type",base:h,typeMap:{range:f,"coded-value":l,inherited:k}};a.getDomainRange=
function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};a.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return f.fromJSON(a);case "codedValue":return l.fromJSON(a);case "inherited":return k.fromJSON(a);default:b.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),
function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}b.__extends(c,a);e=c;c.prototype.getName=function(a){var b=null;if(this.codedValues){var d=String(a);this.codedValues.some(function(a){String(a.code)===d&&(b=a.name);return!!b})}return b};c.prototype.clone=function(){return new e({codedValues:l.clone(this.codedValues),name:this.name})};var e;b.__decorate([h.property({type:[k.default],json:{write:!0}})],c.prototype,"codedValues",
void 0);b.__decorate([h.enumeration({codedValue:"coded-value"})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.CodedValueDomain")],c)}(f)})},"esri/layers/support/CodedValue":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.CodedValue=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}b.__extends(c,
a);e=c;c.prototype.clone=function(){return new e({name:this.name,code:this.code})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:[String,Number],json:{write:!0}})],c.prototype,"code",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.CodedValue")],c)}(l.JSONSupport);a.CodedValue=c;a.default=c})},"esri/layers/support/Domain":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k){var f=new l.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}b.__extends(c,a);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.enumeration(f)],c.prototype,"type",void 0);return c=b.__decorate([k.subclass("esri.layers.support.Domain")],c)}(h.JSONSupport)})},"esri/layers/support/InheritedDomain":function(){define(["require",
"exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="inherited";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e};var e;b.__decorate([l.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.layers.support.InheritedDomain")],c)}(h)})},"esri/layers/support/RangeDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators",
"./Domain"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var e;b.__decorate([l.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer:function(a,b,d){b[d]=[this.minValue||0,a]}}}})],c.prototype,"maxValue",void 0);b.__decorate([l.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],c.prototype,"minValue",void 0);b.__decorate([l.enumeration({range:"range"})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.layers.support.RangeDomain")],c)}(h)})},"esri/support/arcadeOnDemand":function(){define("require exports tslib ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k){function f(){return b.__awaiter(this,void 0,void 0,function(){var a=this;return b.__generator(this,function(d){e||(e=function(){return b.__awaiter(a,void 0,void 0,function(){var a;return b.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./arcadeUtils"],a,b)})];case 1:return a=b.sent(),[4,a.arcade.load()];case 2:return b.sent(),[2,{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}]}})})}());return[2,e]})})}
Object.defineProperty(a,"__esModule",{value:!0});a.ArcadeExpression=a.createDictionaryExpression=a.createVVExpression=a.createRendererExpression=a.createLabelExpression=a.loadArcade=void 0;var e;a.loadArcade=f;a.createLabelExpression=function(a,b,c){return n.create(a,b,c,null,["$feature"])};a.createRendererExpression=function(a,b,c){return n.create(a,b,c,null,["$feature","$view"])};a.createVVExpression=a.createRendererExpression;a.createDictionaryExpression=function(a,b,c,e){return n.create(a,b,c,
e,["$feature","$view"])};var n=function(){function a(a,b,c,e,g,f,n,k){this.script=a;this.evaluate=g;this.fields=n;this._syntaxTree=e;this._arcade=b;this._arcadeDictionary=c;this._arcadeFeature=f;this._spatialReference=k;this._referencesGeometry=b.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}a.create=function(d,c,e,g,n,t){return b.__awaiter(this,void 0,void 0,function(){var m,p,r,q,y,z,B,A,E,C,D,F,I,G,H;return b.__generator(this,
function(u){switch(u.label){case 0:return[4,f()];case 1:return m=u.sent(),p=m.arcade,r=m.Feature,q=m.Dictionary,y=l.SpatialReference.fromJSON(c),z=p.parseScript(d,t),B=n.reduce(function(a,d){var c;return b.__assign(b.__assign({},a),(c={},c[d]=null,c))},{}),A=null,h.isSome(g)&&(A=new q(g),A.immutable=!0,B.$config=null),E=p.scriptUsesGeometryEngine(z)&&p.enableGeometrySupport(),C=p.scriptUsesFeatureSet(z)&&p.enableFeatureSetSupport(),D=p.scriptIsAsync(z)&&p.enableAsyncSupport(),F={vars:B,spatialReference:y,
useAsync:!!D},I=new q,I.immutable=!1,I.setField("scale",0),G=p.compileScript(z,F),H=function(a){"$view"in a&&a.$view&&(I.setField("scale",a.$view.scale),a.$view=I);A&&(a.$config=A);return G({vars:a,spatialReference:y})},[4,k.all([E,C,D])];case 2:return u.sent(),[2,new a(d,p,q,z,H,new r,e,y)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,
{fields:this.fields});return this._arcadeFeature};a.prototype.repurposeAdapter=function(a){this._arcadeFeature.repurposeFromAdapter(a,{fields:this.fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};
a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();a.ArcadeExpression=n;a.default=n})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.supportedUnits=a.getMetersPerUnit=a.supportsUnit=void 0;a.supportsUnit=function(a){return null!=
b.meterIn[a]};a.getMetersPerUnit=function(a){return 1/(b.meterIn[a]||1)};a.supportedUnits=function(){var a=Object.keys(b.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("require exports ../../core/arrayUtils ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),function(c,a,b,l,h,k,f,e){function n(a,b,d){var c="";0===b?c=q.lt+" ":b===d&&(c=q.gt+" ");return c+a}function g(a){var b=a.minValue,d=a.maxValue,
c=a.isFirstBreak?"":q.gt+" ";a="percent-of-total"===a.normalizationType?q.pct:"";b=null==b?"":f.format(b);d=null==d?"":f.format(d);return c+b+a+" "+q.ld+" "+d+a}function d(a,b){return"normalizationField"in a&&a.normalizationField?{type:"normalized-field",field:a.field,normalizationField:a.normalizationField}:"field"in a&&a.field?{type:"field",field:a.field}:"valueExpression"in a&&a.valueExpression?{type:"expression",expression:a.valueExpression,title:a.valueExpressionTitle,returnType:b}:null}Object.defineProperty(a,
"__esModule",{value:!0});a.getAttributes=a.getAttribute=a.createUniqueValueLabel=a.calculateDateFormatInterval=a.updateClassBreak=a.setLabelsForClassBreaks=a.createClassBreakLabel=a.updateColorStops=a.createColorStops=a.timelineDateFormatOptions=a.meterIn=void 0;var m=l.getLogger("esri.renderers.support.utils"),q={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},r={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},p={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",
minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};a.meterIn={inches:h.convertUnit(1,"meters","inches"),feet:h.convertUnit(1,"meters","feet"),"us-feet":h.convertUnit(1,"meters","us-feet"),yards:h.convertUnit(1,"meters","yards"),miles:h.convertUnit(1,"meters","miles"),"nautical-miles":h.convertUnit(1,"meters","nautical-miles"),millimeters:h.convertUnit(1,"meters","millimeters"),centimeters:h.convertUnit(1,
"meters","centimeters"),decimeters:h.convertUnit(1,"meters","decimeters"),meters:h.convertUnit(1,"meters","meters"),kilometers:h.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/h.lengthToDegrees(1,"meters")};a.timelineDateFormatOptions=k.convertDateFormatToIntlOptions("short-date");a.createColorStops=function(a){var b=a.values,d=a.colors,c=a.labelIndexes,g=a.isDate,m=a.dateFormatOptions;return b.map(function(a,p){var t=null;if(!c||-1<c.indexOf(p)){var h=void 0;(h=g?k.formatDate(a,m):f.format(a))&&
(t=n(h,p,b.length-1))}return new e({value:a,color:d[p],label:t})})};a.updateColorStops=function(a){var b=a.stops,d=a.changes,c=a.isDate,e=a.dateFormatOptions,g=b.map(function(a){return a.value});a=[];for(var m=0;m<d.length;m++){var p=d[m];a.push(p.index);g[p.index]=p.value}var t=f.round(g,{indexes:a});b.forEach(function(a,d){a.value=g[d];if(null!=a.label){var m=void 0,p=null;(m=c?k.formatDate(t[d],e):f.format(t[d]))&&(p=n(m,d,b.length-1));a.label=p}})};a.createClassBreakLabel=g;a.setLabelsForClassBreaks=
function(a){var b=a.classBreakInfos,d=a.normalizationType,c=[];if(b&&b.length)if("standard-deviation"===a.classificationMethod)m.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){c.push(b[0].minValue);for(a=0;a<b.length;a++)c.push(b[a].maxValue);c=f.round(c);b.forEach(function(a,b){a.label=g({minValue:0===b?c[0]:c[b],maxValue:c[b+1],isFirstBreak:0===b,normalizationType:d})})}else b.forEach(function(a,b){a.label=g({minValue:a.minValue,
maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:d})})};a.updateClassBreak=function(a){if("standard-deviation"===a.classificationMethod)m.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,d=a.change,c=d.index,d=d.value,e=b.length,f=-1,n=-1;0===c?f=c:c===e?n=c-1:(n=c-1,f=c);a=a.normalizationType;c=null;-1<f&&f<e&&(c=b[f],c.minValue=d,c.label=g({minValue:c.minValue,maxValue:c.maxValue,isFirstBreak:0===f,normalizationType:a}));
-1<n&&n<e&&(c=b[n],c.maxValue=d,c.label=g({minValue:c.minValue,maxValue:c.maxValue,isFirstBreak:0===n,normalizationType:a}))}};a.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,d=Infinity,c=null,e=0;e<b-1;e++){for(var g=a[e],f=[],n=Infinity,m=null,k=e+1;k<b;k++){var p=a[k],p=g.getFullYear()!==p.getFullYear()&&"year"||g.getMonth()!==p.getMonth()&&"month"||g.getDate()!==p.getDate()&&"day"||g.getHours()!==p.getHours()&&"hour"||g.getMinutes()!==p.getMinutes()&&
"minute"||g.getSeconds()!==p.getSeconds()&&"second"||"millisecond",t=r[p];t<n&&(n=t,m=p);f.push(p)}n<d&&(d=n,c=m)}return c};a.createUniqueValueLabel=function(a){var b=a.value,d=a.domain,c=a.fieldInfo;a=a.dateFormatInterval;var e=String(b);(d=d&&"codedValues"in d&&d.codedValues?d.getName(b):null)?e=d:"number"===typeof b&&(e=c&&"date"===c.type?k.formatDate(b,a&&k.convertDateFormatToIntlOptions(p[a])):f.format(b));return e};a.getAttribute=d;a.getAttributes=function(a,c){var e=[];if("class-breaks"===
a.type||"heatmap"===a.type)e.push(d(a,"number"));else if("unique-value"===a.type){var g=a.authoringInfo;if(g&&"relationship"===g.type){if(g.field1&&g.field2){var f=g.field2.field,n=g.field2.normalizationField;e.push(d({field:g.field1.field,normalizationField:g.field1.normalizationField}));e.push(d({field:f,normalizationField:n}))}}else f=a.uniqueValueInfos[0],g=null,f&&f.value&&(f=typeof a.uniqueValueInfos[0].value,"string"===f||"number"===f)&&(g=f),e.push(d(a,g)),[a.field2,a.field3].forEach(function(a){return a&&
e.push({type:"field",field:a})})}else"dot-density"===a.type&&a.attributes.forEach(function(a){return e.push(d(a,"number"))});(a=c?c(a):"visualVariables"in a?a.visualVariables:null)&&a.forEach(function(a){return e.push(d(a,"number"))});return b.unique(e.filter(Boolean),function(a,b){return"field"===a.type&&"field"===b.type?a.field===b.field:"normalized-field"===a.type&&"normalized-field"===b.type?a.field===b.field&&a.normalizationField===b.normalizationField:"expression"===a.type&&"expression"===b.type?
a.expression===b.expression:!1})}})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ../geometry/support/geodesicConstants ../geometry/support/WKIDUnitConversion".split(" "),function(c,a,b,l,h,k,f){function e(a){if(a=D[a])return a;throw Error("unknown measure");}function n(a){return C[a].baseUnit}function g(a,b){void 0===b&&(b=null);b=b||e(a);return C[b].baseUnit===a}function d(a,b,d){if(b===d)return a;var c=e(b);if(c!==e(d))throw Error("incompatible units");
a=g(b,c)?a:a*C[c].units[b].inBaseUnits;return g(d,c)?a:a/C[c].units[d].inBaseUnits}function m(a,b){return 3E3>d(a,b,"meters")?"meters":"kilometers"}function q(a,b){return 1E5>d(a,b,"meters")?"meters":"kilometers"}function r(a,b){return 1E3>d(a,b,"feet")?"feet":"miles"}function p(a,b){return 1E5>d(a,b,"feet")?"feet":"miles"}function t(a){return E.fromJSON(a.toLowerCase())||null}function w(a,b){void 0===b&&(b=x);return v(a,!0)||b}function v(a,b){void 0===b&&(b=!1);var d,c,e;null!=a&&("object"===typeof a?
(d=a.wkid,c=a.wkt):"number"===typeof a?d=a:"string"===typeof a&&(c=a));d?(e=B.values[B[d]],!e&&b&&A.has(d)&&(e=y)):c&&-1!==c.search(/^PROJCS/i)&&(a=z.exec(c))&&a[1]&&(e=parseFloat(a[1].split(",")[1]));return e}function u(a){var b,d,c;null!=a&&("object"===typeof a?(b=a.wkid,d=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(d=a));b?c=B.units[B[b]]:d&&-1!==d.search(/^PROJCS/i)&&(a=z.exec(d))&&a[1]&&(c=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return c?t(c):null}Object.defineProperty(a,"__esModule",
{value:!0});a.getDefaultUnitSystem=a.getUnitString=a.getMetersPerUnit=a.getMetersPerUnitForSR=a.getVerticalUnitStringForSR=a.getMetersPerVerticalUnitForSR=a.unitToRESTJSON=a.unitFromRESTJSON=a.lengthToDegrees=a.preferredImperialAreaUnit=a.preferredMetricAreaUnit=a.preferredImperialVerticalLengthUnit=a.preferredImperialLengthUnit=a.preferredMetricVerticalLengthUnit=a.preferredMetricLengthUnit=a.preferredVerticalLengthUnit=a.preferredLengthUnit=a.convertUnit=a.isBaseUnit=a.baseUnitForUnit=a.baseUnitForMeasure=
a.measureForUnit=a.measurementLengthUnits=a.measurementAreaUnits=a.inchesPerMeter=void 0;a.inchesPerMeter=39.37;var x=k.metersPerDegree,y=k.earthRadius*Math.PI/200,z=/UNIT\[([^\]]+)\]\]$/i,B=f,A=h.SetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),E=l.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",
chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});c={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},
"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};l={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},
ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var C={length:{baseUnit:"meters",units:c},area:{baseUnit:"square-meters",units:l},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},
"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},D=function(){var a={},b;for(b in C)for(var d in C[b].units)a[d]=b;return a}();a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");
a.measureForUnit=e;a.baseUnitForMeasure=n;a.baseUnitForUnit=function(a){return n(e(a))};a.isBaseUnit=g;a.convertUnit=d;a.preferredLengthUnit=function(a,b,d){switch(d){case "metric":return m(a,b);case "imperial":return r(a,b);default:return d}};a.preferredVerticalLengthUnit=function(a,b,d){switch(d){case "metric":return q(a,b);case "imperial":return p(a,b);default:return d}};a.preferredMetricLengthUnit=m;a.preferredMetricVerticalLengthUnit=q;a.preferredImperialLengthUnit=r;a.preferredImperialVerticalLengthUnit=
p;a.preferredMetricAreaUnit=function(a,b){return 3E6>d(a,b,"square-meters")?"square-meters":"square-kilometers"};a.preferredImperialAreaUnit=function(a,b){return 1E6>d(a,b,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(a,b,c){void 0===c&&(c=k.earthRadius);return d(a,b,"meters")/(c*Math.PI/180)};a.unitFromRESTJSON=t;a.unitToRESTJSON=function(a){return E.toJSON(a)||null};a.getMetersPerVerticalUnitForSR=function(a){a=w(a);return 1E5<a?1:a};a.getVerticalUnitStringForSR=function(a){return 1E5<
w(a)?"meters":u(a)};a.getMetersPerUnitForSR=w;a.getMetersPerUnit=v;a.getUnitString=u;a.getDefaultUnitSystem=function(a){if(!a)return null;a=u(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";
case null:case void 0:break;default:b.neverReached(a)}return null}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(c,a,b){function l(a,b){return a-b}function h(a,b){var d;d=Number(a.toFixed(b));d<a?a=d+1/Math.pow(10,b):(a=d,d-=1/Math.pow(10,b));d=Number(d.toFixed(b));a=Number(a.toFixed(b));return[d,a]}function k(a,b,c,g,f){a=e(a,b,c,g);b=null==a.next||a.next<=f;return(null==a.previous||a.previous<=f)&&b||a.previous+a.next<=2*f}function f(a){a=
String(a);var b=a.match(n);if(b&&b[1])return{integer:b[1].split("").length,fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),d=0<b;d||(b=Math.abs(b));a=f(a);d?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function e(a,b,c,e){var d={previous:null,next:null};if(null!=c){var g=a-c;d.previous=Math.floor(Math.abs(100*
(b-c-g)/g))}null!=e&&(g=e-a,d.next=Math.floor(Math.abs(100*(e-b-g)/g)));return d}Object.defineProperty(a,"__esModule",{value:!0});a.format=a.round=a.percentChange=a.numDigits=void 0;var n=/^-?(\d+)(\.(\d+))?$/i;a.numDigits=f;a.percentChange=e;a.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var d=b.tolerance,d=void 0===d?2:d,c=b.strictBounds,c=void 0===c?!1:c;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(l);for(var e=0;e<b.length;e++){var g=b[e],n=a[g],m=0===g?null:a[g-1],
u=g===a.length-1?null:a[g+1],x=f(n).fractional;if(x){for(var y=0,z=!1,B=void 0;y<=x&&!z;)z=h(n,y),B=c&&0===e?z[1]:z[0],z=k(n,B,m,u,d),y++;z&&(a[g]=B)}}return a};var g={maximumFractionDigits:20};a.format=function(a){return b.formatNumber(a,g)}})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=
a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}b.__extends(c,a);e=c;c.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};c.prototype.clone=function(){return new e({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var e;b.__decorate([k.property({type:l,json:{type:[f.Integer],write:!0}})],c.prototype,"color",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property({type:Number,json:{write:{allowNull:!0}}})],
c.prototype,"value",void 0);b.__decorate([k.writer("value")],c.prototype,"writeValue",null);return c=e=b.__decorate([k.subclass("esri.renderers.visualVariables.support.ColorStop")],c)}(h.JSONSupport)})},"esri/layers/mixins/PortalLayer":function(){define("require exports tslib ../../core/Error ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../portal/Portal ../../portal/PortalItem @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,
e,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.PortalLayer=void 0;var d=h.getLogger("esri.layers.mixins.PortalLayer");a.PortalLayer=function(a){return function(a){function m(){var b=null!==a&&a.apply(this,arguments)||this;b.resourceReferences={portalItem:null,paths:[]};return b}b.__extends(m,a);m.prototype.destroy=function(){var a;null===(a=this.portalItem)||void 0===a?void 0:a.destroy();this.portalItem=null};Object.defineProperty(m.prototype,"portalItem",{set:function(a){a!==this._get("portalItem")&&
(this.removeOrigin("portal-item"),this._set("portalItem",a))},enumerable:!1,configurable:!0});m.prototype.readPortalItem=function(a,b,d){if(b.itemId)return new g({id:b.itemId,portal:d&&d.portal})};m.prototype.writePortalItem=function(a,b){a&&a.id&&(b.itemId=a.id)};m.prototype.loadFromPortal=function(a,e){return b.__awaiter(this,void 0,void 0,function(){var g,f;return b.__generator(this,function(b){switch(b.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];b.label=1;case 1:return b.trys.push([1,
4,,5]),[4,new Promise(function(a,b){c(["../../portal/support/layersLoader"],a,b)})];case 2:return g=b.sent(),k.throwIfAborted(e),[4,g.load({instance:this,supportedTypes:a.supportedTypes,validateItem:a.validateItem,supportsData:a.supportsData},e)];case 3:return[2,b.sent()];case 4:throw f=b.sent(),d.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+f),f;case 5:return[2]}})})};m.prototype.read=function(b,d){d&&(d.layer=this);a.prototype.read.call(this,
b,d)};m.prototype.write=function(d,c){var e=c&&c.portal,g=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||n.getDefault());return e&&g&&!f.hasSamePortal(g.restUrl,e.restUrl)?(c.messages&&c.messages.push(new l("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",
{layer:this})),null):a.prototype.write.call(this,d,b.__assign(b.__assign({},c),{layer:this}))};b.__decorate([e.property({type:g})],m.prototype,"portalItem",null);b.__decorate([e.reader("web-document","portalItem",["itemId"])],m.prototype,"readPortalItem",null);b.__decorate([e.writer("web-document","portalItem",{itemId:{type:String}})],m.prototype,"writePortalItem",null);b.__decorate([e.property()],m.prototype,"resourceReferences",void 0);return m=b.__decorate([e.subclass("esri.layers.mixins.PortalLayer")],
m)}(a)}})},"esri/layers/mixins/ScaleRangeLayer":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.ScaleRangeLayer=void 0;a.ScaleRangeLayer=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.minScale=0;b.maxScale=0;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"scaleRangeId",{get:function(){return this.minScale+","+this.maxScale},enumerable:!1,
configurable:!0});b.__decorate([l.property({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"minScale",void 0);b.__decorate([l.property({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"maxScale",void 0);b.__decorate([l.property({readOnly:!0,dependsOn:["minScale","maxScale"]})],c.prototype,"scaleRangeId",null);return c=b.__decorate([l.subclass("esri.layers.mixins.ScaleRangeLayer")],c)}(a)}})},"esri/layers/mixins/RefreshableLayer":function(){define(["require","exports","tslib",
"../../core/accessorSupport/decorators"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.RefreshableLayer=void 0;a.RefreshableLayer=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.refreshInterval=0;return b}b.__extends(c,a);c.prototype.refresh=function(){this.emit("refresh")};b.__decorate([l.property({type:Number,cast:function(a){return.1<=a?a:0>=a?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],c.prototype,"refreshInterval",
void 0);return c=b.__decorate([l.subclass("esri.layers.mixins.RefreshableLayer")],c)}(a)}})},"esri/portal/support/layersCreator":function(){define("require exports tslib ../../core/Collection ../../core/has ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./featureCollectionUtils ./portalLayers ../../renderers/support/styleUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){function m(a,c,e){return b.__awaiter(this,void 0,void 0,function(){var g;return b.__generator(this,function(b){switch(b.label){case 0:return g=
new a,g.read(c,e.context),"group"===g.type&&p(c)?[4,w(g,c,e.context)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[4,d.loadStyleRenderer(g,e.context)];case 3:return b.sent(),[2,g]}})})}function q(a,d){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:return[4,r(a,d)];case 1:return c=b.sent(),[2,m(c,a,d)]}})})}function r(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,m,k,h,t,r,q,l,w;return b.__generator(this,function(b){switch(b.label){case 0:c=
d.context;switch(c.origin){case "web-scene":switch(c.layerContainerType){case "basemap":b=y;break;case "ground":b=x;break;default:b=u}break;default:switch(c.layerContainerType){case "basemap":b=A;break;case "tables":b=B;break;default:b=z}}m=b;k=a.layerType||a.type;!k&&d&&d.defaultLayerType&&(k=d.defaultLayerType);t=(h=m[k])?f.layerLookupMap[h]:f.layerLookupMap.UnknownLayer;r=c&&c.portal;if("Feature Collection"!==a.type)return[3,4];if(!a.itemId)return[3,3];q=new e({id:a.itemId,portal:r});return[4,
q.load()];case 1:return b.sent(),[4,g.selectLayerClassPath(q)];case 2:l=b.sent(),w=l.className||"UnknownLayer",t=f.layerLookupMap[w],b.label=3;case 3:return[3,8];case 4:return"ArcGISFeatureLayer"!==k?[3,8]:[4,n.isMapNotesLayer(a,r)];case 5:if(!b.sent())return[3,6];t=f.layerLookupMap.MapNotesLayer;return[3,8];case 6:return[4,n.isRouteLayer(a,r)];case 7:b.sent()?t=f.layerLookupMap.RouteLayer:p(a)&&(t=f.layerLookupMap.GroupLayer),b.label=8;case 8:return a.wmtsInfo&&a.wmtsInfo.url&&a.wmtsInfo.layerIdentifier&&
(t=f.layerLookupMap.WMTSLayer),[2,t()]}})})}function p(a){if("ArcGISFeatureLayer"!==a.layerType||"Feature Collection"===a.type)return!1;a=a.featureCollection;return!!(a&&a.layers&&1<a.layers.length)}function t(a,d,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,f;return b.__generator(this,function(b){switch(b.label){case 0:return e=new l,g=v(e,Array.isArray(d.layers)?d.layers:[],c),[4,a];case 1:return f=b.sent(),[4,g];case 2:return b.sent(),"group"===f.type?(f.layers.addMany(e),[2,f]):
[2,void 0]}})})}function w(a,d,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,n,m,k;return b.__generator(this,function(b){switch(b.label){case 0:return e=f.layerLookupMap.FeatureLayer,[4,e()];case 1:return g=b.sent(),n=d.featureCollection,m=n.showLegend,k=n.layers.map(function(a){var b=new g;b.read(a,c);null!=m&&b.read({showLegend:m},c);return b}),a.layers.addMany(k),[2]}})})}function v(a,d,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,f,n,m,p,h,r,l;return b.__generator(this,
function(b){switch(b.label){case 0:if(!d)return[2];e=[];g=0;for(f=d;g<f.length;g++)n=f[g],m=q(n,c),"GroupLayer"===n.layerType?e.push(t(m,n,c)):e.push(m);return[4,k.eachAlways(e)];case 1:p=b.sent();h=0;for(r=p;h<r.length;h++)l=r[h],!l.value||c.filter&&!c.filter(l.value)||a.add(l.value);return[2]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.populateOperationalLayers=a.createLayer=void 0;var u={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",
PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},x={ArcGISTiledElevationServiceLayer:"ElevationLayer",
DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},y={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},z={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",
ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},B={ArcGISFeatureLayer:"FeatureLayer"},
A={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.createLayer=q;a.populateOperationalLayers=function(a,
d,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){return[2,v(a,d,c)]})})}})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.layerLookupMap=void 0;a.layerLookupMap={BingMapsLayer:function(){return new Promise(function(a,l){c(["../BingMapsLayer"],a,l)})},BuildingSceneLayer:function(){return new Promise(function(a,l){c(["../BuildingSceneLayer"],
a,l)})},CSVLayer:function(){return new Promise(function(a,l){c(["../CSVLayer"],a,l)})},ElevationLayer:function(){return new Promise(function(a,l){c(["../ElevationLayer"],a,l)})},FeatureLayer:function(){return new Promise(function(a,l){c(["../FeatureLayer"],a,l)})},GroupLayer:function(){return new Promise(function(a,l){c(["../GroupLayer"],a,l)})},GeoRSSLayer:function(){return new Promise(function(a,l){c(["../GeoRSSLayer"],a,l)})},ImageryLayer:function(){return new Promise(function(a,l){c(["../ImageryLayer"],
a,l)})},ImageryTileLayer:function(){return new Promise(function(a,l){c(["../ImageryTileLayer"],a,l)})},IntegratedMeshLayer:function(){return new Promise(function(a,l){c(["../IntegratedMeshLayer"],a,l)})},KMLLayer:function(){return new Promise(function(a,l){c(["../KMLLayer"],a,l)})},MapImageLayer:function(){return new Promise(function(a,l){c(["../MapImageLayer"],a,l)})},MapNotesLayer:function(){return new Promise(function(a,l){c(["../MapNotesLayer"],a,l)})},OpenStreetMapLayer:function(){return new Promise(function(a,
l){c(["../OpenStreetMapLayer"],a,l)})},PointCloudLayer:function(){return new Promise(function(a,l){c(["../PointCloudLayer"],a,l)})},RouteLayer:function(){return new Promise(function(a,l){c(["../RouteLayer"],a,l)})},SceneLayer:function(){return new Promise(function(a,l){c(["../SceneLayer"],a,l)})},StreamLayer:function(){return new Promise(function(a,l){c(["../StreamLayer"],a,l)})},TileLayer:function(){return new Promise(function(a,l){c(["../TileLayer"],a,l)})},UnknownLayer:function(){return new Promise(function(a,
l){c(["../UnknownLayer"],a,l)})},UnsupportedLayer:function(){return new Promise(function(a,l){c(["../UnsupportedLayer"],a,l)})},VectorTileLayer:function(){return new Promise(function(a,l){c(["../VectorTileLayer"],a,l)})},WebTileLayer:function(){return new Promise(function(a,l){c(["../WebTileLayer"],a,l)})},WMSLayer:function(){return new Promise(function(a,l){c(["../WMSLayer"],a,l)})},WMTSLayer:function(){return new Promise(function(a,l){c(["../WMTSLayer"],a,l)})}}})},"esri/portal/support/featureCollectionUtils":function(){define(["require",
"exports","tslib","../PortalItem","./portalItemUtils"],function(c,a,b,l,h){function k(a,c,n,g){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:if(!a.layerType||"ArcGISFeatureLayer"!==a.layerType||a.url)return[2,!1];if(a.featureCollectionType&&a.featureCollectionType===n)return[2,!0];if(!a.itemId)return[3,2];d=new l({id:a.itemId,portal:c});return[4,d.load()];case 1:return b.sent(),[2,"Feature Collection"===d.type&&h.hasTypeKeyword(d,
g)];case 2:return[2,!1]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.isRouteLayer=a.isMapNotesLayer=void 0;a.isMapNotesLayer=function(a,b){return k(a,b,"notes","Map Notes")};a.isRouteLayer=function(a,b){return k(a,b,"route","Route Layer")}})},"esri/portal/support/portalItemUtils":function(){define(["require","exports"],function(c,a){function b(a,b){return a.typeKeywords?-1<a.typeKeywords.indexOf(b):!1}Object.defineProperty(a,"__esModule",{value:!0});a.removeTypeKeyword=a.hasTypeKeyword=
a.addTypeKeyword=void 0;a.addTypeKeyword=function(a,c){if(!b(a,c)){var k=a.typeKeywords;k?k.push(c):a.typeKeywords=[c]}};a.hasTypeKeyword=b;a.removeTypeKeyword=function(a,b){if(a=a.typeKeywords)b=a.indexOf(b),-1<b&&a.splice(b,1)}})},"esri/portal/support/portalLayers":function(){define("require exports tslib ../../request ../../core/Error ../../core/maybe ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./portalItemUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g){function d(a){switch(a.type){case "Map Service":return q(a);
case "Feature Service":return r(a);case "Feature Collection":return t(a);case "Scene Service":return p(a);case "Image Service":return w(a);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};default:return f.reject(new h("portal:unknown-item-type","Unknown item type '${type}'",{type:a.type}))}}function m(a){return(0,e.layerLookupMap[a.className])().then(function(b){return{constructor:b,
properties:a.properties}})}function q(a){return v(a).then(function(a){return a?{className:"TileLayer"}:{className:"MapImageLayer"}})}function r(a){return u(a).then(function(a){if("object"===typeof a){var b={};null!=a.id&&(b.layerId=a.id);return{className:"FeatureLayer",properties:b}}return{className:"GroupLayer"}})}function p(a){return u(a).then(function(b){if("object"===typeof b){var d={},c=void 0;null!=b.id?(d.layerId=b.id,c=a.url+"/layers/"+b.id):c=a.url;if(Array.isArray(a.typeKeywords)&&0<a.typeKeywords.length){b=
{IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(var e=0,g=Object.keys(b);e<g.length;e++){var f=g[e];if(-1!==a.typeKeywords.indexOf(f))return{className:b[f]}}}return B(c).then(function(a){var b="SceneLayer",c={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a&&a.layerType&&c[a.layerType]&&(b=c[a.layerType]);return{className:b,
properties:d}})}return{className:"GroupLayer"}})}function t(a){return b.__awaiter(this,void 0,void 0,function(){var d,c,e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load()];case 1:return b.sent(),(d=g.hasTypeKeyword(a,"Map Notes"))?[2,{className:"MapNotesLayer"}]:(c=g.hasTypeKeyword(a,"Route Layer"))?[2,{className:"RouteLayer"}]:[4,a.fetchData()];case 2:return e=b.sent(),1===z(e)?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}})})}function w(a){var d,c,e;
return b.__awaiter(this,void 0,void 0,function(){var g,f,n,m,k;return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.load()];case 1:return b.sent(),g=null!==(c=null===(d=a.typeKeywords)||void 0===d?void 0:d.map(function(a){return a.toLowerCase()}))&&void 0!==c?c:[],-1<g.indexOf("elevation 3d layer")?[2,{className:"ElevationLayer"}]:-1<g.indexOf("tiled imagery")?[2,{className:"ImageryTileLayer"}]:[4,a.fetchData()];case 2:return f=b.sent(),n=null===f||void 0===f?void 0:f.layerType,
"ArcGISTiledImageServiceLayer"===n?[2,{className:"ImageryTileLayer"}]:"ArcGISImageServiceLayer"===n?[2,{className:"ImageryLayer"}]:[4,B(a.url)];case 3:return m=b.sent(),k=null===(e=m.cacheType)||void 0===e?void 0:e.toLowerCase(),"map"===k?[2,{className:"ImageryTileLayer"}]:[2,{className:"ImageryLayer"}]}})})}function v(a){return B(a.url).then(function(a){return a.tileInfo})}function u(a){return!a.url||a.url.match(/\/\d+$/)?f.resolve({}):a.load().then(function(){return a.fetchData()}).then(function(b){return 0<
z(b)?x(b):B(a.url).then(x)})}function x(a){return 1===z(a)?{id:k.unwrap(y(a))}:!1}function y(a){var b=a.layers;return b&&b.length?b[0].id:(a=a.tables)&&a.length?a[0].id:null}function z(a){var b,d,c,e,g=null!==(d=null===(b=null===a||void 0===a?void 0:a.layers)||void 0===b?void 0:b.length)&&void 0!==d?d:0;a=null!==(e=null===(c=null===a||void 0===a?void 0:a.tables)||void 0===c?void 0:c.length)&&void 0!==e?e:0;return g+a}function B(a){return l(a,{responseType:"json",query:{f:"json"}}).then(function(a){return a.data})}
Object.defineProperty(a,"__esModule",{value:!0});a.selectLayerClassPath=a.fromItem=void 0;a.fromItem=function(a){!a.portalItem||a.portalItem instanceof n||(a=b.__assign(b.__assign({},a),{portalItem:new n(a.portalItem)}));return a.portalItem.load().then(d).then(m).then(function(d){var c=b.__assign({portalItem:a.portalItem},d.properties);return f.resolve(new d.constructor(c))})};a.selectLayerClassPath=d})},"esri/renderers/support/styleUtils":function(){define("require exports tslib ../../core/asyncUtils ../../core/promiseUtils ../../core/Warning".split(" "),
function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.loadStyleRenderer=void 0;a.loadStyleRenderer=function(a,c,n){return b.__awaiter(this,void 0,void 0,function(){var e,d,f;return b.__generator(this,function(b){switch(b.label){case 0:return(e=a&&a.getAtOrigin&&a.getAtOrigin("renderer",c.origin))&&"unique-value"===e.type&&e.styleOrigin?[4,l.result(e.populateFromStyle())]:[3,2];case 1:d=b.sent(),h.throwIfAborted(n),!1===d.ok&&(f=d.error,c&&c.messages&&c.messages.push(new k("renderer:style-reference",
"Failed to create unique value renderer from style reference: "+f.message,{error:f,context:c})),a.clear("renderer",c.origin)),b.label=2;case 2:return[2]}})})}})},"esri/layers/FeatureLayer":function(){define("require exports tslib ../PopupTemplate ../renderers ../renderers ../request ../symbols ../core/Collection ../core/Error ../core/Handles ../core/jsonMap ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/FeatureReduction ./support/FeatureReductionCluster ./support/FeatureReductionSelection ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/FieldsIndex ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/Relationship ./support/TimeInfo ./support/source/DataLayerSource ../renderers/support/styleUtils ../support/popupUtils ../tasks/support/AttachmentQuery ../tasks/support/FeatureSet ../tasks/support/Query ../tasks/support/RelationshipQuery @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B,A,E,C,D,F,I,G,H,J,L,N,M,R,Q,ma,V,O,W,ga,da,U,S,P,T,Y,Z,ba,ca,aa,ha,fa,oa,pa){function K(a,b,d){return!(a&&a.hasOwnProperty(b)?!a[b]:!d)}function ja(a,b,d){return a&&a.hasOwnProperty(b)?a[b]:d}var ka=new m.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),X={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",
keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},ia=q.getLogger("esri.layers.FeatureLayer"),ea=da.defineFieldProperties();a=function(a){function m(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b._handles=new d;b.capabilities=null;b.copyright=null;b.displayField=null;b.definitionExpression=null;b.dynamicDataSource=null;b.editFieldsInfo=null;b.editingEnabled=!0;b.editingInfo=null;b.elevationInfo=null;b.featureReduction=null;b.fields=null;b.formTemplate=
null;b.fullExtent=null;b.gdbVersion=null;b.geometryProperties=null;b.geometryType=null;b.hasM=void 0;b.hasZ=void 0;b.heightModelInfo=null;b.historicMoment=null;b.isTable=!1;b.labelsVisible=!0;b.labelingInfo=null;b.layerId=void 0;b.legendEnabled=!0;b.minScale=0;b.maxScale=0;b.globalIdField=null;b.objectIdField=null;b.outFields=null;b.path=null;b.popupEnabled=!0;b.popupTemplate=null;b.relationships=null;b.sourceJSON=null;b.returnM=void 0;b.returnZ=void 0;b.screenSizePerspectiveEnabled=!0;b.serviceDefinitionExpression=
null;b.spatialReference=A.WGS84;b.templates=null;b.timeInfo=null;b.title=null;b.sublayerTitleMode="item-title";b.trackIdField=null;b.type="feature";b.typeIdField=null;b.types=null;b.indexes=new (n.ofType(R.FeatureIndex));b.userIsAdmin=!1;b.version=void 0;b.visible=!0;return b}b.__extends(m,a);m.prototype.destroy=function(){var a;null===(a=this.source)||void 0===a?void 0:a.destroy();this._handles&&(this._handles.destroy(),this._handles=null)};m.prototype.normalizeCtorArgs=function(a,d){return"string"===
typeof a?b.__assign({url:a},d):a};m.prototype.load=function(a){var d=this,c=r.isSome(a)?a.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(c).then(function(a){return d._initLayerProperties(a)}));else return a=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},a).catch(function(a){return a}).then(function(){return b.__awaiter(d,void 0,void 0,function(){var a,d;return b.__generator(this,function(b){switch(b.label){case 0:return this.url&&
null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)?[4,this._fetchFirstLayerId(c)]:[3,2];case 1:a=b.sent(),null!=a&&(this.layerId=a),b.label=2;case 2:if(!this.url&&!this._hasMemorySource())throw new g("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");d=this._initLayerProperties;return[4,this.createGraphicsSource(c)];case 3:return[2,d.apply(this,[b.sent()])]}})})}),this.addResolvingPromise(a),w.resolve(this)};m.prototype.readCapabilities=
function(a,b){b=b.layerDefinition||b;return{attachment:this._readAttachmentCapabilities(b.attachmentProperties),data:this._readDataCapabilities(b),metadata:this._readMetadataCapabilities(b),operations:this._readOperationsCapabilities(b.capabilities||a,b),query:this._readQueryCapabilities(b),queryRelated:this._readQueryRelatedCapabilities(b),editing:this._readEditingCapabilities(b)}};Object.defineProperty(m.prototype,"createQueryVersion",{get:function(){this.definitionExpression;this.dynamicDataSource;
this.timeExtent;this.timeOffset;this.geometryType;this.gdbVersion;this.historicMoment;this.returnZ;this.capabilities;this.returnM;return(this._get("createQueryVersion")||0)+1},enumerable:!1,configurable:!0});m.prototype.readEditingEnabled=function(a,b){return b.layerDefinition&&"Query"===b.layerDefinition.capabilities?!1:!0};m.prototype.writeEditingEnabled=function(a,b){a||t.setDeepValue("layerDefinition.capabilities","Query",b)};m.prototype.readEditingInfo=function(a,b){return(a=b.editingInfo)?{lastEditDate:null!=
a.lastEditDate?new Date(a.lastEditDate):null}:null};m.prototype.readFeatureReduction=function(a,b){return O.read(a,b)};m.prototype.writeWebSceneFeatureReduction=function(a,b,d,c){O.writeTarget(a,b,"layerDefinition.featureReduction",c)};Object.defineProperty(m.prototype,"fieldsIndex",{get:function(){return new U(this.fields||[])},enumerable:!1,configurable:!0});m.prototype.readIsTable=function(a,b){b=b&&b.layerDefinition||b;return"Table"===b.type||!b.geometryType};Object.defineProperty(m.prototype,
"hasService",{get:function(){return!this._hasMemorySource()},enumerable:!1,configurable:!0});m.prototype.readMinScale=function(a,b){return b.effectiveMinScale||a||0};m.prototype.readMaxScale=function(a,b){return b.effectiveMaxScale||a||0};m.prototype.readGlobalIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.globalIdField)return b.globalIdField;if(b.fields)for(a=0,b=b.fields;a<b.length;a++){var d=b[a];if("esriFieldTypeGlobalID"===d.type)return d.name}};m.prototype.readObjectIdFieldFromService=
function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(a=0,b=b.fields;a<b.length;a++){var d=b[a];if("esriFieldTypeOID"===d.type)return d.name}};Object.defineProperty(m.prototype,"parsedUrl",{get:function(){var a=this.url?v.urlToObject(this.url):null;null!=a&&(null!=this.dynamicDataSource?a.path=v.join(a.path,"dynamicLayer"):null!=this.layerId&&(a.path=v.join(a.path,this.layerId.toString())));return a},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,
"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"renderer",{set:function(a){S.fixRendererFields(a,this.fields);this._set("renderer",a)},enumerable:!1,configurable:!0});m.prototype.readRenderer=function(a,b,d){b=b.layerDefinition||b;if(a=b.drawingInfo&&b.drawingInfo.renderer||void 0)return(a=k.read(a,b,d)||void 0)||ia.error("Failed to create renderer",{rendererDefinition:b.drawingInfo.renderer,layer:this,context:d}),
a;if(b.defaultSymbol)return b.types&&b.types.length?new h.UniqueValueRenderer({defaultSymbol:la(b.defaultSymbol,b,d),field:b.typeIdField,uniqueValueInfos:b.types.map(function(a){return{id:a.id,symbol:la(a.symbol,a,d)}})}):new h.SimpleRenderer({symbol:la(b.defaultSymbol,b,d)})};Object.defineProperty(m.prototype,"source",{set:function(a){var b=this._get("source");b!==a&&(b&&b instanceof n&&this._resetMemorySource(b),a&&a instanceof n&&this._initMemorySource(a),this._set("source",a))},enumerable:!1,
configurable:!0});m.prototype.castSource=function(a){return a?Array.isArray(a)||a instanceof n?new C.default({layer:this,items:a}):a:null};m.prototype.readSource=function(a,b){a=fa.fromJSON(b.featureSet);return new C.default({layer:this,items:a&&a.features||[]})};m.prototype.readServiceDefinitionExpression=function(a,b){return b.definitionQuery||b.definitionExpression};m.prototype.readTemplates=function(a,b){var d=b.editFieldsInfo;b=d&&d.creatorField;d=d&&d.editorField;a=a&&a.map(function(a){return W.fromJSON(a)});
this._fixTemplates(a,b);this._fixTemplates(a,d);return a};m.prototype.readTitle=function(a,b){a=b.layerDefinition&&b.layerDefinition.name||b.name;b=b.title||b.layerDefinition&&b.layerDefinition.title;if(a){b=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?N.titleFromUrlAndName(this.url,a):a;a=a||this.url&&N.parse(this.url).title;if(!a)return;"item-title-and-service-name"===this.sublayerTitleMode&&b&&b!==a&&(a=b+" - "+a);return N.cleanTitle(a)}if("item-title"===
this.sublayerTitleMode&&b)return b};m.prototype.readTitleFromWebMap=function(a,b){return b.title||b.layerDefinition&&b.layerDefinition.name};m.prototype.readTypeIdField=function(a,b){b=b.layerDefinition||b;if(a=b.typeIdField)if(b=S.getField(b.fields,a))a=b.name;return a};m.prototype.readTypes=function(a,b){var d=this;b=b.layerDefinition||b;a=b.types;var c=(b=b.editFieldsInfo)&&b.creatorField,e=b&&b.editorField;return a&&a.map(function(a){a=ga.fromJSON(a);d._fixTemplates(a.templates,c);d._fixTemplates(a.templates,
e);return a})};Object.defineProperty(m.prototype,"url",{set:function(a){a=N.sanitizeUrlWithLayerId(this,a,ia);this._set("url",a.url);null!=a.layerId&&this._set("layerId",a.layerId)},enumerable:!1,configurable:!0});m.prototype.writeUrl=function(a,b,d,c){N.writeUrlWithLayerId(this,a,null,b,c)};m.prototype.readVersion=function(a,b){return b.currentVersion?b.currentVersion:b.hasOwnProperty("capabilities")||b.hasOwnProperty("drawingInfo")||b.hasOwnProperty("hasAttachments")||b.hasOwnProperty("htmlPopupType")||
b.hasOwnProperty("relationships")||b.hasOwnProperty("timeInfo")||b.hasOwnProperty("typeIdField")||b.hasOwnProperty("types")?10:9.3};m.prototype.readVisible=function(a,b){if(b.layerDefinition&&null!=b.layerDefinition.defaultVisibility)return!!b.layerDefinition.defaultVisibility;if(null!=b.visibility)return!!b.visibility};m.prototype.addAttachment=function(a,b){var d=this;return this.load().then(function(){return d._checkAttachmentSupport(a)}).then(function(){if(!("addAttachment"in d.source))throw new g("FeatureLayer",
"Layer source does not support addAttachment capability");return d.source.addAttachment(a,b)})};m.prototype.updateAttachment=function(a,b,d){var c=this;return this.load().then(function(){return c._checkAttachmentSupport(a)}).then(function(){if(!("updateAttachment"in c.source))throw new g("FeatureLayer","Layer source does not support updateAttachment capability");return c.source.updateAttachment(a,b,d)})};m.prototype.applyEdits=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,
function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./graphics/editingSupport"],a,b)})];case 1:return e=b.sent(),[2,e.applyEdits(this,a,d)]}})})};m.prototype.on=function(b,d){return a.prototype.on.call(this,b,d)};m.prototype.createPopupTemplate=function(a){return aa.createPopupTemplate(this,a)};m.prototype.createGraphicsSource=function(a){return b.__awaiter(this,void 0,void 0,function(){var d,e;return b.__generator(this,function(b){switch(b.label){case 0:return this._hasMemorySource()?
(this.emit("graphics-source-create",{graphicsSource:this.source}),[2,this.source.load({signal:a})]):[4,new Promise(function(a,b){c(["./graphics/sources/FeatureLayerSource"],a,b)})];case 1:return d=b.sent(),w.throwIfAborted(a),[4,(new d.default({layer:this})).load({signal:a})];case 2:return e=b.sent(),this.emit("graphics-source-create",{graphicsSource:e}),[2,e]}})})};m.prototype.createQuery=function(){var a=new oa,b=this.get("capabilities.data");a.dynamicDataSource=this.dynamicDataSource;a.gdbVersion=
this.gdbVersion;a.historicMoment=this.historicMoment;a.returnGeometry=!0;b&&(b.supportsZ&&null!=this.returnZ&&(a.returnZ=this.returnZ),b.supportsM&&null!=this.returnM&&(a.returnM=this.returnM));a.outFields=["*"];a.where=this.definitionExpression||"1\x3d1";var b=this.timeOffset,d=this.timeExtent;a.timeExtent=null!=b&&null!=d?d.offset(-b.value,b.unit):d||null;a.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return a};m.prototype.deleteAttachments=function(a,b){var d=this;return this.load().then(function(){return d._checkAttachmentSupport(a)}).then(function(){if(!("deleteAttachments"in
d.source))throw new g("FeatureLayer","Layer source does not support deleteAttachments capability");return d.source.deleteAttachments(a,b)})};m.prototype.getFeatureType=function(a){var b=this.typeIdField;if(!b||!a)return null;var d=a.attributes?a.attributes[b]:void 0;if(null==d)return null;var c=null;this.types.some(function(a){var b=a.id;if(null==b)return!1;b.toString()===d.toString()&&(c=a);return!!c});return c};m.prototype.getFieldDomain=function(a,b){return(b=this.getFeatureType(b&&b.feature))&&
(b=b.domains&&b.domains[a])&&"inherited"!==b.type?b:this._getLayerDomain(a)};m.prototype.getField=function(a){return this.fieldsIndex.get(a)};m.prototype.queryAttachments=function(a,b){var d=this;a=ha.from(a);return this.load().then(function(){if(!d.get("capabilities.data.supportsAttachment"))throw new g("FeatureLayer","this layer doesn't support attachments");var b=a.attachmentTypes,c=a.objectIds,e=a.globalIds,f=a.num,n=a.size,m=a.start,k=a.where;if(!d.get("capabilities.operations.supportsQueryAttachments")&&
(b=b&&b.length,e=e&&e.length,n=n&&n.length,c&&1<c.length||b||e||n||f||m||k))throw new g("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",a);if(!(c&&c.length||k))throw new g("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",a);if(!("queryAttachments"in d.source))throw new g("FeatureLayer","Layer source does not support queryAttachments capability",a);return d.source.queryAttachments(a)})};m.prototype.queryFeatures=function(a,
b){var d=this;return this.load().then(function(){return d.source.queryFeatures(oa.from(a)||d.createQuery(),b)}).then(function(a){if(a&&a.features)for(var b=0,c=a.features;b<c.length;b++){var e=c[b];e.layer=e.sourceLayer=d}return a})};m.prototype.queryObjectIds=function(a,b){var d=this;return this.load().then(function(){if(d.source.queryObjectIds)return d.source.queryObjectIds(oa.from(a)||d.createQuery(),b);throw new g("FeatureLayer","Layer source does not support queryObjectIds capability");})};m.prototype.queryFeatureCount=
function(a,b){var d=this;return this.load().then(function(){if(d.source.queryFeatureCount)return d.source.queryFeatureCount(oa.from(a)||d.createQuery(),b);throw new g("FeatureLayer","Layer source does not support queryFeatureCount capability");})};m.prototype.queryExtent=function(a,b){var d=this;return this.load().then(function(){if(d.source.queryExtent)return d.source.queryExtent(oa.from(a)||d.createQuery(),b);throw new g("FeatureLayer","Layer source does not support queryExtent capability");})};
m.prototype.queryRelatedFeatures=function(a,b){var d=this;return this.load().then(function(){if("queryRelatedFeatures"in d.source)return d.source.queryRelatedFeatures(pa.from(a),b);throw new g("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};m.prototype.queryRelatedFeaturesCount=function(a,b){var d=this;return this.load().then(function(){if("queryRelatedFeaturesCount"in d.source)return d.source.queryRelatedFeaturesCount(pa.from(a),b);throw new g("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");
})};m.prototype.read=function(b,d){var c=b.featureCollection;if(c){var e=c.layers;e&&1===e.length&&(a.prototype.read.call(this,e[0],d),null!=c.showLegend&&a.prototype.read.call(this,{showLegend:c.showLegend},d))}a.prototype.read.call(this,b,d);d&&"service"===d.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};m.prototype.write=function(b,d){if(d){var c=d.origin,e=d.layerContainerType,f=d.messages;if(this.isTable){if("web-scene"===c||"web-map"===c&&"tables"!==
e)return f&&f.push(new g("layer:unsupported","Layer ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' using a Table source cannot be written to web scenes and web maps",{layer:this})),null;if(this._hasMemorySource())return f&&f.push(new g("layer:unsupported","Layer ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' using an in-memory Table source cannot be written to web scenes and web maps",{layer:this})),null}else if(this.loaded&&"web-map"===c&&"tables"===e)return f&&f.push(new g("layer:unsupported",
"Layer ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' using a non-table source cannot be written to tables in web maps",{layer:this})),null}return a.prototype.write.call(this,b,d)};m.prototype._checkAttachmentSupport=function(a){var b=a.attributes,d=this.objectIdField;if(!this.get("capabilities.data.supportsAttachment"))return w.reject(new g("FeatureLayer","this layer doesn't support attachments"));if(!a)return w.reject(new g("FeatureLayer","A feature is required to add/delete/update attachments"));
if(!b)return w.reject(new g("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!b[d])return w.reject(new g("FeatureLayer","feature is missing the identifying attribute "+d))};m.prototype._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};m.prototype._fetchFirstLayerId=function(a){return f(this.url,{query:{f:"json"},responseType:"json",signal:a}).then(function(a){if(a=a.data){if(Array.isArray(a.layers)&&0<a.layers.length)return a.layers[0].id;
if(Array.isArray(a.tables)&&0<a.tables.length)return a.tables[0].id}})};m.prototype._initLayerProperties=function(a){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){this._set("source",a);a.sourceJSON&&(this.sourceJSON=a.sourceJSON,this.read(a.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();S.fixRendererFields(this.renderer,this.fields);S.fixTimeInfoFields(this.timeInfo,this.fields);return[2,ca.loadStyleRenderer(this,
{origin:"service"})]})})};m.prototype._verifyFields=function(){var a=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+a+")");this.isTable||this._hasMemorySource()||-1!==a.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(a){return"geometry"===a.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
a+")")};m.prototype._fixTemplates=function(a,b){a&&a.forEach(function(a){(a=a.prototype&&a.prototype.attributes)&&b&&delete a[b]})};m.prototype._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new g("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new g("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};m.prototype._initMemorySource=
function(a){var b=this;a.forEach(function(a){a.layer=b;a.sourceLayer=b});this._handles.add([a.on("after-add",function(a){a.item.layer=b;a.item.sourceLayer=b}),a.on("after-remove",function(a){a.item.layer=null;a.item.sourceLayer=null})],"fl-source")};m.prototype._resetMemorySource=function(a){a.forEach(function(a){a.layer=null;a.sourceLayer=null});this._handles.remove("fl-source")};m.prototype._hasMemorySource=function(){return!(this.url||!this.source)};m.prototype._readAttachmentCapabilities=function(a){var b=
{supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};a&&Array.isArray(a)&&a.forEach(function(a){var d=X[a.name];d&&(b[d]=!!a.isEnabled)});return b};m.prototype._readDataCapabilities=function(a){return{isVersioned:K(a,"isDataVersioned",!1),supportsAttachment:K(a,"hasAttachments",!1),supportsM:K(a,"hasM",!1),supportsZ:K(a,"hasZ",!1)}};m.prototype._readMetadataCapabilities=function(a){return{supportsAdvancedFieldProperties:K(a,"supportsFieldDescriptionProperty",
!1)}};m.prototype._readOperationsCapabilities=function(a,b){a=a?a.toLowerCase().split(",").map(function(a){return a.trim()}):[];var d=-1!==a.indexOf("editing"),c=d&&-1!==a.indexOf("create"),e=d&&-1!==a.indexOf("delete"),g=d&&-1!==a.indexOf("update");!d||c||e||g||(c=e=g=!0);return{supportsCalculate:K(b,"supportsCalculate",!1),supportsTruncate:K(b,"supportsTruncate",!1),supportsValidateSql:K(b,"supportsValidateSql",!1),supportsAdd:c,supportsDelete:e,supportsEditing:d,supportsQuery:-1!==a.indexOf("query"),
supportsQueryAttachments:K(b.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:K(b,"supportsAttachmentsResizing",!1),supportsSync:-1!==a.indexOf("sync"),supportsUpdate:g,supportsExceedsLimitStatistics:K(b,"supportsExceedsLimitStatistics",!1)}};m.prototype._readQueryCapabilities=function(a){var b=a.advancedQueryCapabilities,d=a.ownershipBasedAccessControlForFeatures,c=a.archivingInfo,e=(a.supportedQueryFormats||"").split(",").reduce(function(a,b){(b=b.toLowerCase().trim())&&
a.add(b);return a},new Set);return{supportsStatistics:K(b,"supportsStatistics",a.supportsStatistics),supportsPercentileStatistics:K(b,"supportsPercentileStatistics",!1),supportsCentroid:K(b,"supportsReturningGeometryCentroid",!1),supportsDistance:K(b,"supportsQueryWithDistance",!1),supportsDistinct:K(b,"supportsDistinct",a.supportsAdvancedQueries),supportsExtent:K(b,"supportsReturningQueryExtent",!1),supportsGeometryProperties:K(b,"supportsReturningGeometryProperties",!1),supportsHavingClause:K(b,
"supportsHavingClause",!1),supportsOrderBy:K(b,"supportsOrderBy",a.supportsAdvancedQueries),supportsPagination:K(b,"supportsPagination",!1),supportsQuantization:K(a,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:K(a,"supportsQuantizationEditMode",!1),supportsQueryGeometry:K(a,"supportsReturningQueryGeometry",!1),supportsResultType:K(b,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:K(b,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:K(b,"supportsSqlExpression",
!1),supportsStandardizedQueriesOnly:K(a,"useStandardizedQueries",!1),supportsQueryByOthers:K(d,"allowOthersToQuery",!0),supportsHistoricMoment:K(c,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:e.has("pbf"),supportsDisjointSpatialRelationship:K(b,"supportsDisjointSpatialRel",!1),supportsCacheHint:K(b,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:ja(a,"maxRecordCountFactor",void 0),maxRecordCount:ja(a,"maxRecordCount",void 0),standardMaxRecordCount:ja(a,"standardMaxRecordCount",void 0),
tileMaxRecordCount:ja(a,"tileMaxRecordCount",void 0)}};m.prototype._readQueryRelatedCapabilities=function(a){a=a.advancedQueryCapabilities;var b=K(a,"supportsAdvancedQueryRelated",!1);return{supportsPagination:K(a,"supportsQueryRelatedPagination",!1),supportsCount:b,supportsOrderBy:b}};m.prototype._readEditingCapabilities=function(a){var b=a.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:K(a,"allowGeometryUpdates",!0),supportsGlobalId:K(a,"supportsApplyEditsWithGlobalIds",!1),
supportsRollbackOnFailure:K(a,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:K(a,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:K(a,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:K(b,"allowAnonymousToDelete",!0),supportsDeleteByOthers:K(b,"allowOthersToDelete",!0),supportsUpdateByAnonymous:K(b,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:K(b,"allowOthersToUpdate",!0)}};b.__decorate([u.property({readOnly:!0,json:{read:!1}})],m.prototype,"capabilities",
void 0);b.__decorate([u.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
m.prototype,"readCapabilities",null);b.__decorate([u.property({readOnly:!0,dependsOn:"definitionExpression dynamicDataSource timeExtent timeOffset geometryType gdbVersion historicMoment returnZ capabilities returnM".split(" ")})],m.prototype,"createQueryVersion",null);b.__decorate([u.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],m.prototype,"copyright",void 0);b.__decorate([u.property({type:String,json:{read:{source:"layerDefinition.displayField"},
origins:{service:{read:{source:"displayField"}}}}})],m.prototype,"displayField",void 0);b.__decorate([u.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],m.prototype,"definitionExpression",void 0);b.__decorate([u.property({types:e.symbolTypes,readOnly:!0})],m.prototype,"defaultSymbol",void 0);b.__decorate([u.property({type:ba.DataLayerSource})],m.prototype,"dynamicDataSource",
void 0);b.__decorate([u.property({readOnly:!0})],m.prototype,"editFieldsInfo",void 0);b.__decorate([u.property({type:Boolean})],m.prototype,"editingEnabled",void 0);b.__decorate([u.reader(["portal-item","web-map","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],m.prototype,"readEditingEnabled",null);b.__decorate([u.writer(["portal-item","web-map","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],m.prototype,"writeEditingEnabled",null);b.__decorate([u.property({readOnly:!0})],
m.prototype,"editingInfo",void 0);b.__decorate([u.reader("editingInfo")],m.prototype,"readEditingInfo",null);b.__decorate([u.property(M.elevationInfo)],m.prototype,"elevationInfo",void 0);b.__decorate([u.property({types:{key:"type",base:Q.default,typeMap:{selection:V,cluster:ma}},json:{write:{target:"layerDefinition.featureReduction"}}})],m.prototype,"featureReduction",void 0);b.__decorate([u.reader("featureReduction",["layerDefinition.featureReduction"])],m.prototype,"readFeatureReduction",null);
b.__decorate([u.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:O.webSceneFeatureReductionTypes}})],m.prototype,"writeWebSceneFeatureReduction",null);b.__decorate([u.property(b.__assign(b.__assign({},ea.fields),{json:{origins:{service:{read:!0}},read:{source:"layerDefinition.fields"}}}))],m.prototype,"fields",void 0);b.__decorate([u.property({readOnly:!0,dependsOn:["fields"]})],m.prototype,"fieldsIndex",null);b.__decorate([u.property({type:y,json:{name:"formInfo",
write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],m.prototype,"formTemplate",void 0);b.__decorate([u.property({type:z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],m.prototype,"fullExtent",void 0);b.__decorate([u.property()],m.prototype,"gdbVersion",void 0);b.__decorate([u.property({readOnly:!0})],m.prototype,"geometryProperties",void 0);b.__decorate([u.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:ka.read}},
read:{source:"layerDefinition.geometryType",reader:ka.read}}})],m.prototype,"geometryType",void 0);b.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],m.prototype,"hasM",void 0);b.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],m.prototype,"hasZ",void 0);b.__decorate([u.property({readOnly:!0,type:B})],m.prototype,"heightModelInfo",void 0);b.__decorate([u.property({type:Date})],
m.prototype,"historicMoment",void 0);b.__decorate([u.property({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],m.prototype,"id",void 0);b.__decorate([u.property({readOnly:!0})],m.prototype,"isTable",void 0);b.__decorate([u.reader("service","isTable",["type","geometryType"]),u.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],m.prototype,"readIsTable",null);b.__decorate([u.property({dependsOn:["loaded","url","source"],readOnly:!0})],m.prototype,"hasService",null);
b.__decorate([u.property(M.labelsVisible)],m.prototype,"labelsVisible",void 0);b.__decorate([u.property({type:[P],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:T.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:T.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],m.prototype,"labelingInfo",void 0);b.__decorate([u.property(M.opacityDrawingInfo)],m.prototype,"opacity",void 0);b.__decorate([u.property({type:Number,
json:{origins:{service:{read:{source:"id"}}},read:!1}})],m.prototype,"layerId",void 0);b.__decorate([u.property(M.legendEnabled)],m.prototype,"legendEnabled",void 0);b.__decorate([u.property({type:["show","hide"]})],m.prototype,"listMode",void 0);b.__decorate([u.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}})],m.prototype,"minScale",void 0);b.__decorate([u.reader("service","minScale",["minScale",
"effectiveMinScale"])],m.prototype,"readMinScale",null);b.__decorate([u.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}})],m.prototype,"maxScale",void 0);b.__decorate([u.reader("service","maxScale",["maxScale","effectiveMaxScale"])],m.prototype,"readMaxScale",null);b.__decorate([u.property({type:String})],m.prototype,"globalIdField",void 0);b.__decorate([u.reader("globalIdField",["layerDefinition.globalIdField",
"layerDefinition.fields"]),u.reader("service","globalIdField",["globalIdField","fields"])],m.prototype,"readGlobalIdFieldFromService",null);b.__decorate([u.property({type:String})],m.prototype,"objectIdField",void 0);b.__decorate([u.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),u.reader("service","objectIdField",["objectIdField","fields"])],m.prototype,"readObjectIdFieldFromService",null);b.__decorate([u.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],
m.prototype,"operationalLayerType",void 0);b.__decorate([u.property(ea.outFields)],m.prototype,"outFields",void 0);b.__decorate([u.property({readOnly:!0,dependsOn:["layerId","dynamicDataSource"]})],m.prototype,"parsedUrl",null);b.__decorate([u.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],m.prototype,"path",void 0);b.__decorate([u.property(M.popupEnabled)],m.prototype,"popupEnabled",void 0);b.__decorate([u.property({type:l,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],
m.prototype,"popupTemplate",void 0);b.__decorate([u.property({readOnly:!0,dependsOn:["fields","title"]})],m.prototype,"defaultPopupTemplate",null);b.__decorate([u.property({type:[Y],readOnly:!0})],m.prototype,"relationships",void 0);b.__decorate([u.property({types:h.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:h.webSceneRendererTypes,write:{target:"layerDefinition.drawingInfo.renderer",writer:k.write}}},write:{target:"layerDefinition.drawingInfo.renderer",
writer:k.write}}})],m.prototype,"renderer",null);b.__decorate([u.reader("service","renderer",["drawingInfo.renderer","defaultSymbol","type"]),u.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol","layerDefinition.type"])],m.prototype,"readRenderer",null);b.__decorate([u.property()],m.prototype,"sourceJSON",void 0);b.__decorate([u.property({type:Boolean})],m.prototype,"returnM",void 0);b.__decorate([u.property({type:Boolean})],m.prototype,"returnZ",void 0);b.__decorate([u.property(M.screenSizePerspectiveEnabled)],
m.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([u.property()],m.prototype,"source",null);b.__decorate([u.cast("source")],m.prototype,"castSource",null);b.__decorate([u.reader("portal-item","source",["featureSet"]),u.reader("web-map","source",["featureSet"])],m.prototype,"readSource",null);b.__decorate([u.property({readOnly:!0})],m.prototype,"serviceDefinitionExpression",void 0);b.__decorate([u.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],
m.prototype,"readServiceDefinitionExpression",null);b.__decorate([u.property({type:A,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],m.prototype,"spatialReference",void 0);b.__decorate([u.property({type:[W]})],m.prototype,"templates",void 0);b.__decorate([u.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],m.prototype,"readTemplates",null);b.__decorate([u.property({type:Z})],m.prototype,"timeInfo",
void 0);b.__decorate([u.property()],m.prototype,"title",void 0);b.__decorate([u.reader("service","title",["name"]),u.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],m.prototype,"readTitle",null);b.__decorate([u.reader("web-map","title",["layerDefinition.name","title"])],m.prototype,"readTitleFromWebMap",null);b.__decorate([u.property({type:String})],m.prototype,"sublayerTitleMode",void 0);b.__decorate([u.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],
m.prototype,"trackIdField",void 0);b.__decorate([u.property({json:{read:!1}})],m.prototype,"type",void 0);b.__decorate([u.property({type:String})],m.prototype,"typeIdField",void 0);b.__decorate([u.reader("service","typeIdField"),u.reader("typeIdField",["layerDefinition.typeIdField"])],m.prototype,"readTypeIdField",null);b.__decorate([u.property({type:[ga]})],m.prototype,"types",void 0);b.__decorate([u.reader("service","types",["types"]),u.reader("types",["layerDefinition.types"])],m.prototype,"readTypes",
null);b.__decorate([u.property({type:n.ofType(R.FeatureIndex),readOnly:!0})],m.prototype,"indexes",void 0);b.__decorate([u.property(M.url)],m.prototype,"url",null);b.__decorate([u.writer("url")],m.prototype,"writeUrl",null);b.__decorate([u.property({readOnly:!0})],m.prototype,"userIsAdmin",void 0);b.__decorate([u.property({json:{origins:{service:{read:!0}},read:!1}})],m.prototype,"version",void 0);b.__decorate([u.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
m.prototype,"readVersion",null);b.__decorate([u.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],m.prototype,"visible",void 0);b.__decorate([u.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],m.prototype,"readVisible",null);return m=b.__decorate([u.subclass("esri.layers.FeatureLayer")],m)}(F.BlendLayer(L.TemporalLayer(J.ScaleRangeLayer(H.RefreshableLayer(D.ArcGISService(I.OperationalLayer(G.PortalLayer(p.MultiOriginJSONMixin(E)))))))));
var la=x.createTypeReader({types:e.symbolTypesRenderer});return a})},"esri/PopupTemplate":function(){define("require exports tslib ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/CustomContent ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B,A,E,C,D,F){var I=h.ofType({key:"type",defaultKeyValue:"button",base:C,typeMap:{button:D,toggle:F}}),G={base:x,key:"type",typeMap:{media:B,custom:y,text:A,attachments:u,fields:z}},H=e.getLogger("esri.PopupTemplate"),J=["attachments","fields","media","text"];return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=
!0;b.outFields=null;b.overwriteActions=!1;b.title="";b.relatedRecordsInfo=null;return b}b.__extends(c,a);e=c;c.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return m.ensureOneOfType(G,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||n.isPromiseLike(a))return a;H.error("content error","unsupported content value",{value:a});return null};c.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):
this._readPopupInfo(b)};c.prototype.writeContent=function(a,b){var d=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.filter(function(a){return-1!==J.indexOf(a.type)}).map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?d._writeAttachmentContent(b):"media"===a.type?d._writeMediaContent(a,b):"text"===a.type&&d._writeTextContent(a,b)}))};c.prototype.writeFieldInfos=function(a,b){var d=this.content,d=Array.isArray(d)?d:null;if(a){var c=
d?d.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();c||(a.visible=!1);return a})}if(d)for(a=0;a<d.length;a++){var e=d[a];"fields"===e.type&&this._writeFieldsContent(e,b)}};c.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};c.prototype.writeTitle=function(a,b){b.title=a||""};c.prototype.clone=function(){var a=this.actions,
a=a?f.clone(a.toArray()):[];return new e({actions:a,content:Array.isArray(this.content)?f.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?f.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?f.clone(this.fieldInfos):null,layerOptions:this.layerOptions?f.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?f.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,
relatedRecordsInfo:this.relatedRecordsInfo?f.clone(this.relatedRecordsInfo):null})};c.prototype.collectRequiredFields=function(a,d){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,d,this.expressionInfos)];case 1:return c.sent(),q.collectFields(a,d,b.__spreadArrays(this.outFields||[],this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};
c.prototype.getRequiredFields=function(a){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return d=new Set,[4,this.collectRequiredFields(d,a)];case 1:return b.sent(),[2,g.valuesOfSet(d).sort()]}})})};c.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=f.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var d=l.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===
a.fieldName.toLowerCase()});d?d.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};c.prototype._writeAttachmentContent=function(a){a.showAttachments||(a.showAttachments=!0)};c.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};c.prototype._writeMediaContent=function(a,d){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=f.clone(a.mediaInfos),Array.isArray(d.mediaInfos)?d.mediaInfos=b.__spreadArrays(d.mediaInfos,a):d.mediaInfos=a)};c.prototype._readPopupInfoElements=
function(a){var b=a.description,d=a.mediaInfos,c=!1,e=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||!d||e||(a.mediaInfos=d,e=!0),B.fromJSON(a);if("text"===a.type)return a.text||!b||c||(a.text=b,c=!0),A.fromJSON(a);if("attachments"===a.type)return u.fromJSON(a);if("fields"===a.type)return z.fromJSON(a)}).filter(Boolean)};c.prototype._readPopupInfo=function(a){var b=a.description,d=a.mediaInfos;a=a.showAttachments;var c=[];b?c.push(new A({text:b})):c.push(new z);
Array.isArray(d)&&d.length&&c.push(B.fromJSON({mediaInfos:d}));a&&c.push(u.fromJSON({displayType:"list"}));return c.length?c:b};c.prototype._getContentElementFields=function(a){var d=this;if(!a||"attachments"===a.type)return[];if("custom"===a.type)return a.outFields||[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return b.__spreadArrays(a,d._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};
c.prototype._getMediaInfoFields=function(a){var d=a.caption,c=a.value||{},e=c.fields,g=void 0===e?[]:e,e=c.normalizeField,f=c.tooltipField,n=c.sourceURL,c=c.linkURL;a=b.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(d),this._extractFieldNames(n),this._extractFieldNames(c),g);e&&a.push(e);f&&a.push(f);return a};c.prototype._getContentFields=function(a){var d=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return b.__spreadArrays(a,
d._getContentElementFields(c))},[]):[]};c.prototype._collectExpressionInfoFields=function(a,d,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return c?[4,n.all(c.map(function(b){return q.collectArcadeFieldNames(a,d,b.expression)}))]:[2];case 1:return b.sent(),[2]}})})};c.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===
a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};c.prototype._getActionsFields=function(a){var d=this;return a?a.toArray().reduce(function(a,c){return b.__spreadArrays(a,d._getActionFields(c))},[]):[]};c.prototype._getActionFields=function(a){var d=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return b.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(d),this._extractFieldNames(c))};c.prototype._getTitleFields=function(a){return"string"===typeof a?
this._extractFieldNames(a):[]};c.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var e;b.__decorate([d.property({type:I})],c.prototype,"actions",void 0);b.__decorate([d.property()],c.prototype,"content",void 0);b.__decorate([d.cast("content")],
c.prototype,"castContent",null);b.__decorate([d.reader("content",["description","popupElements","mediaInfos","showAttachments"])],c.prototype,"readContent",null);b.__decorate([d.writer("content",{popupElements:{type:h.ofType(r.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:h.ofType(E.types)},description:{type:String}})],c.prototype,"writeContent",null);b.__decorate([d.property({type:[p],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([d.property({type:[t]})],
c.prototype,"fieldInfos",void 0);b.__decorate([d.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);b.__decorate([d.property({type:w})],c.prototype,"layerOptions",void 0);b.__decorate([d.writer("layerOptions")],c.prototype,"writeLayerOptions",null);b.__decorate([d.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],c.prototype,"lastEditInfoEnabled",void 0);b.__decorate([d.property()],c.prototype,"outFields",void 0);b.__decorate([d.property()],
c.prototype,"overwriteActions",void 0);b.__decorate([d.property({json:{type:String}})],c.prototype,"title",void 0);b.__decorate([d.writer("title")],c.prototype,"writeTitle",null);b.__decorate([d.property({type:v,json:{write:!0}})],c.prototype,"relatedRecordsInfo",void 0);return c=e=b.__decorate([d.subclass("esri.PopupTemplate")],c)}(k.JSONSupport)})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.persistableTypes=a.isContent=a.TextContent=a.MediaContent=a.FieldsContent=a.CustomContent=a.BaseContent=a.AttachmentsContent=void 0;a.AttachmentsContent=b;a.BaseContent=l;a.CustomContent=h;a.FieldsContent=k;a.MediaContent=f;a.TextContent=e;a.isContent=function(a){return a instanceof l};a.persistableTypes={base:null,key:"type",typeMap:{attachment:b,media:f,text:e,field:k}}})},"esri/popup/content/AttachmentsContent":function(){define(["require",
"exports","tslib","../../core/accessorSupport/decorators","./Content"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.displayType=null;b.type="attachments";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({displayType:this.displayType})};var e;b.__decorate([l.property({type:["preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0);b.__decorate([l.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",
void 0);return c=e=b.__decorate([l.subclass("esri.popup.content.AttachmentsContent")],c)}(h)})},"esri/popup/content/Content":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type=null;return b}b.__extends(c,a);b.__decorate([h.property({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=
b.__decorate([h.subclass("esri.popup.content.Content")],c)}(l.JSONSupport)})},"esri/popup/content/CustomContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./Content".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.creator=null;b.destroyer=null;b.outFields=null;b.type="custom";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?
l.clone(this.outFields):null})};var f;b.__decorate([h.property()],c.prototype,"creator",void 0);b.__decorate([h.property()],c.prototype,"destroyer",void 0);b.__decorate([h.property()],c.prototype,"outFields",void 0);b.__decorate([h.property({type:["custom"],readOnly:!0})],c.prototype,"type",void 0);return c=f=b.__decorate([h.subclass("esri.popup.content.CustomContent")],c)}(k)})},"esri/popup/content/FieldsContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";return b}b.__extends(c,a);e=c;c.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new e({fieldInfos:Array.isArray(this.fieldInfos)?l.clone(this.fieldInfos):null})};var e;b.__decorate([h.property({type:[k]})],c.prototype,"fieldInfos",void 0);b.__decorate([h.writer("fieldInfos")],c.prototype,"writeFieldInfos",
null);b.__decorate([h.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.popup.content.FieldsContent")],c)}(f)})},"esri/popup/FieldInfo":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(c,a,b,l,h,k,f,e){var n=new l.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function d(b){b=
a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}b.__extends(d,a);c=d;d.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=n.toJSON(a)};d.prototype.readStringFieldOption=function(a){if(a)return n.fromJSON(a)};d.prototype.clone=function(){return new c({fieldName:this.fieldName,format:this.format?k.clone(this.format):null,isEditable:this.isEditable,label:this.label,
stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var c;b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],d.prototype,"format",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0,default:!1}})],d.prototype,"isEditable",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);b.__decorate([f.property({type:n.apiValues,
json:{write:!0,default:"text-box",type:n.jsonValues}})],d.prototype,"stringFieldOption",void 0);b.__decorate([f.writer("stringFieldOption")],d.prototype,"writeStringFieldOption",null);b.__decorate([f.reader("stringFieldOption")],d.prototype,"readStringFieldOption",null);b.__decorate([f.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],d.prototype,"statisticType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0);b.__decorate([f.property({type:Boolean,
json:{write:!0}})],d.prototype,"visible",void 0);return d=c=b.__decorate([f.subclass("esri.popup.FieldInfo")],d)}(h.JSONSupport)})},"esri/popup/support/FieldInfoFormat":function(){define("require exports tslib ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(c,a,b,l,h,k,f,e,n){return function(a){function d(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=
null;return b}b.__extends(d,a);c=d;d.prototype.clone=function(){return new c({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};d.prototype.format=function(a){return this.dateFormat?e.formatDate(a,e.convertDateFormatToIntlOptions(this.dateFormat)):n.formatNumber(a,n.convertNumberFormatToIntlOptions(this))};var c;b.__decorate([k.enumeration(l.dictionary)],d.prototype,"dateFormat",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],d.prototype,"digitSeparator",
void 0);b.__decorate([k.property({type:f.Integer,json:{write:!0}})],d.prototype,"places",void 0);return d=c=b.__decorate([k.subclass("esri.popup.support.FieldInfoFormat")],d)}(h.JSONSupport)})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getFormat=a.fromJSON=a.toJSON=a.dictionary=a.formats=void 0;a.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};a.dictionary=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);a.getFormat=function(b){return a.formats[b]}})},"esri/popup/content/MediaContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){return function(a){function c(b){b=a.call(this,b)||this;b.activeMediaInfoIndex=null;b.mediaInfos=null;b.type="media";return b}b.__extends(c,a);e=c;c.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return n.fromJSON(a);if("barchart"===a.type)return k.fromJSON(a);if("columnchart"===a.type)return f.fromJSON(a);if("linechart"===a.type)return g.fromJSON(a);if("piechart"===a.type)return d.fromJSON(a)}).filter(Boolean)};c.prototype.writeMediaInfos=
function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new e({activeMediaInfoIndex:this.activeMediaInfoIndex,mediaInfos:this.mediaInfos?l.clone(this.mediaInfos):null})};var e;b.__decorate([h.property()],c.prototype,"activeMediaInfoIndex",void 0);b.__decorate([h.property({types:[m.types]})],c.prototype,"mediaInfos",void 0);b.__decorate([h.reader("mediaInfos")],c.prototype,"readMediaInfos",null);b.__decorate([h.writer("mediaInfos")],c.prototype,"writeMediaInfos",
null);b.__decorate([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.popup.content.MediaContent")],c)}(e)})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="bar-chart";return b}b.__extends(c,a);
f=c;c.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;b.__decorate([l.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.popup.content.BarChartMediaInfo")],c)}(h)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports tslib ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}b.__extends(c,a);b.__decorate([l.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);b.__decorate([l.property({type:k,json:{write:!0}})],c.prototype,"value",void 0);return c=b.__decorate([l.subclass("esri.popup.content.mixins.ChartMediaInfo")],c)}(h)})},"esri/popup/content/mixins/MediaInfo":function(){define(["require",
"exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.altText=null;b.caption="";b.title="";b.type=null;return b}b.__extends(c,a);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);
b.__decorate([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.popup.content.mixins.MediaInfo")],c)}(l.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=
a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({fields:h.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var e;b.__decorate([k.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);b.__decorate([k.property({type:[f],json:{read:!1}})],c.prototype,
"series",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=e=b.__decorate([k.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)}(l.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define(["require","exports","tslib","../../../core/Accessor","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.tooltip=null;b.value=null;b.x=null;
b.y=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({tooltip:this.tooltip,value:this.value})};var e;b.__decorate([h.property()],c.prototype,"tooltip",void 0);b.__decorate([h.property()],c.prototype,"value",void 0);b.__decorate([h.aliasOf("value")],c.prototype,"x",void 0);b.__decorate([h.aliasOf("tooltip")],c.prototype,"y",void 0);return c=e=b.__decorate([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],c)}(l)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.chartTypeKebabDict=void 0;a.chartTypeKebabDict=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=
a.call(this,b)||this;b.type="column-chart";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;b.__decorate([l.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.popup.content.ColumnChartMediaInfo")],c)}(h)})},"esri/popup/content/ImageMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var f;b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0);b.__decorate([l.property({type:["image"],readOnly:!0,json:{read:!1,
write:!0}})],c.prototype,"type",void 0);b.__decorate([l.property({type:k,json:{write:!0}})],c.prototype,"value",void 0);return c=f=b.__decorate([l.subclass("esri.popup.content.ImageMediaInfo")],c)}(h)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}b.__extends(c,
a);e=c;c.prototype.clone=function(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=e=b.__decorate([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)}(l.JSONSupport)})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="line-chart";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;b.__decorate([l.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.popup.content.LineChartMediaInfo")],
c)}(h)})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="pie-chart";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;b.__decorate([l.property({type:["pie-chart"],
readOnly:!0,json:{type:["piechart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.popup.content.PieChartMediaInfo")],c)}(h)})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.types=void 0;
a.types={base:e,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":l,"line-chart":k,"pie-chart":f,image:h}};a.default=a.types})},"esri/popup/content/TextContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.text=null;b.type="text";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({text:this.text})};var e;b.__decorate([l.property({type:String,
json:{write:!0}})],c.prototype,"text",void 0);b.__decorate([l.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.popup.content.TextContent")],c)}(h)})},"esri/popup/ExpressionInfo":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;
return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([h.property({type:["string","number"],json:{write:!0}})],c.prototype,
"returnType",void 0);return c=e=b.__decorate([h.subclass("esri.popup.ExpressionInfo")],c)}(l.JSONSupport)})},"esri/popup/LayerOptions":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.returnTopmostRaster=null;b.showNoDataRecords=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};
var e;b.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",void 0);return c=e=b.__decorate([h.subclass("esri.popup.LayerOptions")],c)}(l.JSONSupport)})},"esri/popup/RelatedRecordsInfo":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(c,a,b,l,h,
k,f){return function(a){function c(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var e;b.__decorate([k.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([k.property({type:[f],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=e=b.__decorate([k.subclass("esri.popup.RelatedRecordsInfo")],
c)}(l.JSONSupport)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({field:this.field,order:this.order})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([h.property({type:["asc",
"desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=e=b.__decorate([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)}(l.JSONSupport)})},"esri/support/actions/ActionBase":function(){define("require exports tslib ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;
b.visible=!0;return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var f;b.__decorate([k.property()],c.prototype,"active",void 0);b.__decorate([k.property()],c.prototype,"className",void 0);b.__decorate([k.property()],c.prototype,"disabled",void 0);b.__decorate([k.property()],c.prototype,"id",void 0);b.__decorate([k.property()],c.prototype,
"indicator",void 0);b.__decorate([k.property()],c.prototype,"title",void 0);b.__decorate([k.property()],c.prototype,"type",void 0);b.__decorate([k.property()],c.prototype,"visible",void 0);return c=f=b.__decorate([k.subclass("esri.support.actions.ActionBase")],c)}(h.IdentifiableMixin(l))})},"esri/support/actions/ActionButton":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||
this;b.image=null;b.type="button";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var e;b.__decorate([l.property()],c.prototype,"image",void 0);return c=e=b.__decorate([l.subclass("esri.support.Action.ActionButton")],c)}(h)})},"esri/support/actions/ActionToggle":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators",
"./ActionBase"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var e;b.__decorate([l.property()],c.prototype,"image",void 0);b.__decorate([l.property()],c.prototype,"value",void 0);
return c=e=b.__decorate([l.subclass("esri.support.Action.ActionToggle")],c)}(h)})},"esri/renderers":function(){define("require exports ./renderers/ClassBreaksRenderer ./renderers/DictionaryRenderer ./renderers/DotDensityRenderer ./renderers/HeatmapRenderer ./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/support/jsonUtils ./renderers/support/types".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){Object.defineProperty(a,"__esModule",{value:!0});a.isRenderer=a.UniqueValueRenderer=
a.SimpleRenderer=a.BaseRenderer=a.HeatmapRenderer=a.DotDensityRenderer=a.DictionaryRenderer=a.ClassBreaksRenderer=void 0;a.ClassBreaksRenderer=b;a.DictionaryRenderer=l;a.DotDensityRenderer=h;a.HeatmapRenderer=k;a.BaseRenderer=f;a.SimpleRenderer=e;a.UniqueValueRenderer=n;a.isRenderer=function(a){return a instanceof f};Object.defineProperty(a,"read",{enumerable:!0,get:function(){return g.read}});Object.defineProperty(a,"write",{enumerable:!0,get:function(){return g.write}});Object.defineProperty(a,
"fromJSON",{enumerable:!0,get:function(){return g.fromJSON}});Object.defineProperty(a,"rendererTypes",{enumerable:!0,get:function(){return d.rendererTypes}});Object.defineProperty(a,"webSceneRendererTypes",{enumerable:!0,get:function(){return d.webSceneRendererTypes}})})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports tslib ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v){var u=f.getLogger("esri.renderers.ClassBreaksRenderer"),x=new h.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),y=d.ensureType(p);return function(a){function c(b){b=a.call(this,b)||this;b.backgroundFillSymbol=null;b.classBreakInfos=null;b.defaultLabel=null;b.defaultSymbol=null;b.field=null;b.isMaxInclusive=!0;b.legendOptions=null;b.normalizationField=null;b.normalizationTotal=null;b.type=
"class-breaks";b.valueExpression=null;b.valueExpressionTitle=null;b._set("classBreakInfos",[]);return b}b.__extends(c,a);f=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!1,configurable:!0});c.prototype.readClassBreakInfos=function(a,b,d){if(Array.isArray(a)){var c=b.minValue;return a.map(function(a){var b=new p;b.read(a,d);null==b.minValue&&(b.minValue=c);null==b.maxValue&&(b.maxValue=b.minValue);c=b.maxValue;return b})}};c.prototype.writeClassBreakInfos=
function(a,b,d,c){a=a.map(function(a){return a.write({},c)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});b[d]=a};c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(u.error(".field: field must be a string value"),null):d.ensureString(a)};Object.defineProperty(c.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"normalizationType",{get:function(){var a=this._get("normalizationType"),b=!!this.normalizationField,d=null!=this.normalizationTotal;if(b||d)a=b&&"field"||d&&"percent-of-total"||null,b&&d&&u.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!1,configurable:!0});c.prototype.addClassBreakInfo=function(a,b,d){var c=null,c="number"===typeof a?new p({minValue:a,
maxValue:b,symbol:l.ensureType(d)}):y(k.clone(a));this.classBreakInfos.push(c);1===this.classBreakInfos.length&&this.notifyChange("minValue")};c.prototype.removeClassBreakInfo=function(a,b){for(var d=this.classBreakInfos.length,c=0;c<d;c++){var e=[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(e[0]===a&&e[1]===b){this.classBreakInfos.splice(c,1);break}}};c.prototype.getBreakIndex=function(a,b){this.valueExpression&&(e.isNone(b)||e.isNone(b.arcade))&&u.warn("");return this.valueExpression?
this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};c.prototype.getClassBreakInfo=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,g,f,n;return b.__generator(this,function(m){switch(m.label){case 0:c=d;if(!this.valueExpression||!e.isNone(d)&&!e.isNone(d.arcade))return[3,2];g=[b.__assign({},c)];f={};return[4,v.loadArcade()];case 1:c=b.__assign.apply(void 0,g.concat([(f.arcade=m.sent(),f)])),m.label=2;case 2:return n=this.getBreakIndex(a,c),[2,-1!==n?this.classBreakInfos[n]:
null]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(e.isNone(b)||e.isNone(b.arcade)))u.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol};c.prototype.getSymbolAsync=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,g,f,n;return b.__generator(this,function(m){switch(m.label){case 0:c=d;if(!this.valueExpression||!e.isNone(d)&&!e.isNone(d.arcade))return[3,
2];g=[b.__assign({},c)];f={};return[4,v.loadArcade()];case 1:c=b.__assign.apply(void 0,g.concat([(f.arcade=m.sent(),f)])),m.label=2;case 2:return n=this.getBreakIndex(a,c),[2,-1<n?this.classBreakInfos[n].symbol:this.defaultSymbol]}})})};c.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&a.push(b.symbol)});this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,
b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),d=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,c=this.classBreakInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+d+"."+this.field+"."+this.valueExpression};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},
enumerable:!1,configurable:!0});c.prototype.clone=function(){return new f({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:k.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,
normalizationType:this.normalizationType,visualVariables:k.clone(this.visualVariables),legendOptions:k.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};c.prototype.collectRequiredFields=function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:return c=[this.collectVVRequiredFields(a,d),this.collectSymbolFields(a,d)],[4,n.all(c)];case 1:return b.sent(),[2]}})})};c.prototype.collectSymbolFields=
function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(e){switch(e.label){case 0:return c=b.__spreadArrays(this.getSymbols().map(function(b){return b.collectRequiredFields(a,d)}),[m.collectArcadeFieldNames(a,d,this.valueExpression)]),m.collectField(a,d,this.field),m.collectField(a,d,this.normalizationField),[4,n.all(c)];case 1:return e.sent(),[2]}})})};c.prototype._getBreakIndexForExpression=function(a,b){var d=e.unwrapOr(b,{});b=d.viewingMode;var c=
d.scale,g=d.spatialReference,f=this._cache.compiledFunc,d=e.unwrap(d.arcade).arcadeUtils;f||(f=d.createSyntaxTree(this.valueExpression),f=d.createFunction(f),this._cache.compiledFunc=f);a=d.executeFunction(f,d.createExecContext(a,d.getViewInfo({viewingMode:b,scale:c,spatialReference:g})));return this._getBreakIndexfromInfos(a)};c.prototype._getBreakIndexForField=function(a){var b=a.attributes;a=this.normalizationType;var d=parseFloat(b[this.field]);if(a){var c=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);
if("log"===a)d=Math.log(d)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(c))d=d/c*100;else if("field"===a&&!isNaN(b)){if(isNaN(d)||isNaN(b))return-1;d/=b}}return this._getBreakIndexfromInfos(d)};c.prototype._getBreakIndexfromInfos=function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var d=0;d<this.classBreakInfos.length;d++){var c=[this.classBreakInfos[d].minValue,this.classBreakInfos[d].maxValue];if(c[0]<=a&&(b?a<=c[1]:a<c[1]))return d}return-1};c.prototype._areClassBreaksConsecutive=
function(){for(var a=this.classBreakInfos,b=a.length,d=1;d<b;d++)if(a[d-1].maxValue!==a[d].minValue)return!1;return!0};var f;b.__decorate([g.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);b.__decorate([g.property(t.rendererBackgroundFillSymbolProperty)],c.prototype,"backgroundFillSymbol",void 0);b.__decorate([g.property({type:[p]})],c.prototype,"classBreakInfos",void 0);b.__decorate([g.reader("classBreakInfos")],c.prototype,"readClassBreakInfos",null);b.__decorate([g.writer("classBreakInfos")],
c.prototype,"writeClassBreakInfos",null);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);b.__decorate([g.property(t.rendererSymbolProperty)],c.prototype,"defaultSymbol",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([g.cast("field")],c.prototype,"castField",null);b.__decorate([g.property({type:Boolean})],c.prototype,"isMaxInclusive",void 0);b.__decorate([g.property({type:w.default,json:{write:!0}})],
c.prototype,"legendOptions",void 0);b.__decorate([g.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],c.prototype,"minValue",null);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);b.__decorate([g.property({type:Number,cast:function(a){return d.ensureNumber(a)},json:{write:!0}})],
c.prototype,"normalizationTotal",void 0);b.__decorate([g.property({type:x.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:x.jsonValues,read:x.read,write:x.write}})],c.prototype,"normalizationType",null);b.__decorate([g.enumeration({classBreaks:"class-breaks"})],c.prototype,"type",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",
void 0);return c=f=b.__decorate([g.subclass("esri.renderers.ClassBreaksRenderer")],c)}(r.VisualVariablesMixin(q))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B,A,E,C,D,F,I,G,H,J,L,N,M){Object.defineProperty(a,"__esModule",{value:!0});a.ensureType=a.symbolTypesLabel3D=a.symbolTypesRenderer3D=a.symbolTypes3D=a.symbolTypesLabel=a.symbolTypesRenderer=a.readSymbol=a.symbolTypes=a.isSymbol3D=a.isSymbol2D=a.isSymbol=a.WebStyleSymbol=a.WaterSymbol3DLayer=a.TextSymbol3DLayer=a.TextSymbol=a.SimpleMarkerSymbol=a.SimpleLineSymbol=a.SimpleFillSymbol=a.PolygonSymbol3D=a.PointSymbol3D=a.PictureMarkerSymbol=a.PictureFillSymbol=
a.PathSymbol3DLayer=a.ObjectSymbol3DLayer=a.MeshSymbol3D=a.LineSymbol3DLayer=a.LineSymbol3D=a.LineCallout3DBorder=a.LineCallout3D=a.LabelSymbol3D=a.IconSymbol3DLayer=a.Font=a.FillSymbol3DLayer=a.ExtrudeSymbol3DLayer=a.CIMSymbol=a.BaseSymbol3DLayer=a.BaseSymbol3D=a.BaseSymbol=a.BaseMarkerSymbol=a.BaseFillSymbol=void 0;a.CIMSymbol=h;a.ExtrudeSymbol3DLayer=k;a.BaseFillSymbol=f;a.FillSymbol3DLayer=e;a.Font=n;a.IconSymbol3DLayer=g;a.LabelSymbol3D=d;a.LineSymbol3D=m;a.LineSymbol3DLayer=q;a.BaseMarkerSymbol=
r;a.MeshSymbol3D=p;a.ObjectSymbol3DLayer=t;a.PathSymbol3DLayer=w;a.PictureFillSymbol=v;a.PictureMarkerSymbol=u;a.PointSymbol3D=x;a.PolygonSymbol3D=y;a.SimpleFillSymbol=z;a.SimpleLineSymbol=B;a.SimpleMarkerSymbol=A;a.BaseSymbol=E;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=D;a.TextSymbol=F;a.TextSymbol3DLayer=I;a.WaterSymbol3DLayer=G;a.WebStyleSymbol=H;a.LineCallout3D=J;a.LineCallout3DBorder=L;Object.defineProperty(a,"Symbol3DVerticalOffset",{enumerable:!0,get:function(){return N.Symbol3DVerticalOffset}});
Object.defineProperty(a,"fromJSON",{enumerable:!0,get:function(){return M.fromJSON}});a.isSymbol=function(a){return a instanceof E};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};
a.symbolTypes={base:E,key:"type",typeMap:{"simple-fill":z,"picture-fill":v,"picture-marker":u,"simple-line":B,"simple-marker":A,text:F,"label-3d":d,"line-3d":m,"mesh-3d":p,"point-3d":x,"polygon-3d":y,"web-style":H,cim:h},errorContext:"symbol"};a.readSymbol=l.createTypeReader({types:a.symbolTypes});a.symbolTypesRenderer={base:E,key:"type",typeMap:{"simple-fill":z,"picture-fill":v,"picture-marker":u,"simple-line":B,"simple-marker":A,text:F,"line-3d":m,"mesh-3d":p,"point-3d":x,"polygon-3d":y,"web-style":H,
cim:h},errorContext:"symbol"};a.symbolTypesLabel={base:E,key:"type",typeMap:{text:F,"label-3d":d},errorContext:"symbol"};a.symbolTypes3D={base:E,key:"type",typeMap:{"label-3d":d,"line-3d":m,"mesh-3d":p,"point-3d":x,"polygon-3d":y,"web-style":H},errorContext:"symbol"};a.symbolTypesRenderer3D={base:E,key:"type",typeMap:{"line-3d":m,"mesh-3d":p,"point-3d":x,"polygon-3d":y,"web-style":H},errorContext:"symbol"};a.symbolTypesLabel3D={base:E,key:"type",typeMap:{"label-3d":d},errorContext:"symbol"};a.ensureType=
b.ensureOneOfType(a.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports tslib ../core/lang ../core/promiseUtils ../core/string ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Symbol".split(" "),function(c,a,b,l,h,k,f,e,n){return function(a){function d(b){b=a.call(this,b)||this;b.data=null;b.type="cim";return b}b.__extends(d,a);c=d;d.prototype.readData=function(a,b){return b};d.prototype.writeData=function(a,b){if(a)for(var d in a)b[d]=a[d]};d.prototype.collectRequiredFields=
function(a,d){return b.__awaiter(this,void 0,void 0,function(){var c,g,f;return b.__generator(this,function(b){switch(b.label){case 0:if("CIMSymbolReference"!==this.data.type)return[3,2];c=this.data;g=c.primitiveOverrides;if(!g)return[3,2];f=g.map(function(b){return e.collectArcadeFieldNames(a,d,b.valueExpressionInfo.expression)});return[4,h.all(f)];case 1:b.sent(),b.label=2;case 2:return[2]}})})};d.prototype.clone=function(){return new c({data:l.clone(this.data)})};d.prototype.hash=function(){return k.numericHash(JSON.stringify(this.data)).toString()};
var c;b.__decorate([f.property({json:{write:!1}})],d.prototype,"color",void 0);b.__decorate([f.property({json:{write:!0}})],d.prototype,"data",void 0);b.__decorate([f.reader("data",["symbol"])],d.prototype,"readData",null);b.__decorate([f.writer("data")],d.prototype,"writeData",null);b.__decorate([f.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],d.prototype,"type",void 0);return d=c=b.__decorate([f.subclass("esri.symbols.CIMSymbol")],d)}(n)})},"esri/symbols/Symbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k,f){var e=new h.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),n=0;return function(a){function d(b){b=a.call(this,b)||this;b.id="sym"+n++;b.type=null;return b}b.__extends(d,a);Object.defineProperty(d.prototype,
"color",{set:function(a){this._set("color",a)},enumerable:!1,configurable:!0});d.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};d.prototype.collectRequiredFields=function(a,d){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2]})})};d.prototype.hash=function(){return JSON.stringify(this.toJSON())};d.prototype.clone=function(){};b.__decorate([f.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,
writer:e.write}}})],d.prototype,"type",void 0);b.__decorate([f.property({type:l,value:new l([0,0,0,1]),json:{write:{allowNull:!0}}})],d.prototype,"color",null);b.__decorate([f.reader("color")],d.prototype,"readColor",null);return d=b.__decorate([f.subclass("esri.symbols.Symbol")],d)}(k.JSONSupport)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(c,
a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,b)||this;b.type="extrude";b.size=1;b.material=null;b.castShadows=!0;b.edges=null;return b}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var d;b.__decorate([h.enumeration({Extrude:"extrude"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([h.property({type:Number,
json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],c.prototype,"size",void 0);b.__decorate([h.property({type:e.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);b.__decorate([h.property(f.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=d=b.__decorate([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],c)}(k)})},"esri/symbols/Symbol3DLayer":function(){define(["require",
"exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}b.__extends(c,a);c.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};b.__decorate([h.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([h.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([h.property({type:"icon object line path fill water extrude text".split(" "),
readOnly:!0})],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.symbols.Symbol3DLayer")],c)}(l.JSONSupport)})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.symbol3dEdgesProperty=void 0;a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:h,sketch:l}},json:{write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function d(b){b=a.call(this,b)||this;b.color=new l([0,0,0,1]);b.extensionLength=0;b.size=f.px2pt(1);return b}b.__extends(d,a);d.prototype.clone=function(){};d.prototype.cloneProperties=function(){return{color:k.clone(this.color),size:this.size,extensionLength:this.extensionLength}};b.__decorate([e.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);b.__decorate([e.property(n.colorAndTransparencyProperty)],
d.prototype,"color",void 0);b.__decorate([e.property(b.__assign(b.__assign({},n.screenSizeProperty),{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],d.prototype,"extensionLength",void 0);b.__decorate([e.property(n.screenSizeProperty)],d.prototype,"size",void 0);return d=b.__decorate([e.subclass("esri.symbols.edges.Edges3D")],d)}(h.JSONSupport)})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(c,a,b){function l(a){return a?72*a/96:0}function h(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function f(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function n(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function g(a){return h(a.x,a.y)}function d(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return h(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(a,
"__esModule",{value:!0});a.isSupportedScreenPointEvent=a.createScreenPointFromSupportedEvent=a.createScreenPointFromNativeEvent=a.createScreenPointFromEvent=a.screenPointObjectToArray=a.screenPointArrayToObject=a.renderArrayToScreen=a.screenArrayToRender=a.renderToScreen=a.screenToRender=a.castScreenPointArray=a.castRenderScreenPointArray3=a.castRenderScreenPointArray=a.createRenderScreenPointArray3=a.createRenderScreenPointArray=a.createRenderScreenPoint=a.createScreenPointArray=a.createScreenPoint=
a.toPt=a.px2pt=a.pt2px=void 0;var m=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.pt2px=function(a){return a?a/72*96:0};a.px2pt=l;a.toPt=function(a){if("string"===typeof a){if(m.test(a)){var b=a.match(m),d=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);d="px"===b?l(d):d;return a?-d:d}console.warn("screenUtils.toPt: input not recognized!");return null}return a};a.createScreenPoint=h;a.createScreenPointArray=k;a.createRenderScreenPoint=f;a.createRenderScreenPointArray=e;a.createRenderScreenPointArray3=
function(a,b,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);return[a,b,d]};a.castRenderScreenPointArray=function(a){return a};a.castRenderScreenPointArray3=function(a){return a};a.castScreenPointArray=function(a){return a};a.screenToRender=function(a,b,d){var c,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b.x*a;e=b.y*a;break;case "3d":n(b,r),a.state.camera.screenToRender(r,q),c=q[0],e=q[1]}return d?(d.x=c,d.y=e,d):f(c,e)};a.renderToScreen=function(a,b,d){var c,e;switch(a.type){case "2d":a=
window.devicePixelRatio||1;c=b.x/a;e=b.y/a;break;case "3d":n(b,q),a.state.camera.renderToScreen(q,r),c=r[0],e=r[1]}return d?(d.x=c,d.y=e,d):h(c,e)};a.screenArrayToRender=function(a,b,d){var c,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b[0]*a;g=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,q),c=q[0],g=q[1]}return d?(d[0]=c,d[1]=g,2<d.length&&(d[2]=0),d):e(c,g)};a.renderArrayToScreen=function(a,b,d){var c,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b[0]/a;e=b[0]/
a;break;case "3d":a.state.camera.renderToScreen(b,r),c=r[0],e=r[1]}return d?(d[0]=c,d[1]=e,d):k(c,e)};a.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};a.screenPointObjectToArray=n;a.createScreenPointFromEvent=g;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?d(a,b):g(b)};a.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,
a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:b.neverReachedSilent(a)}return!1};var q=e(),r=k()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.stipplePatternProperty=a.screenSizeProperty=a.colorAndTransparencyProperty=void 0;a.colorAndTransparencyProperty={type:b,json:{type:[h.Integer],default:null,read:{source:["color","transparency"],reader:function(a,c){a=null!=c.transparency?k.transparencyToOpacity(c.transparency):1;return(c=c.color)&&Array.isArray(c)?new b([c[0]||0,c[1]||0,c[2]||0,a]):null}},write:{target:{color:{type:[h.Integer]},transparency:{type:h.Integer}},
writer:function(a,b){b.color=a.toJSON().slice(0,3);a=k.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};a.screenSizeProperty={type:Number,cast:l.toPt,json:{write:!0}};a.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?a.map(l.toPt):null},json:{read:!1,write:!1}}})},"esri/symbols/edges/SketchEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(c,a,b,l,h){return function(a){function c(b){b=
a.call(this,b)||this;b.type="sketch";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e(this.cloneProperties())};var e;b.__decorate([l.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.symbols.edges.SketchEdges3D")],c)}(h)})},"esri/symbols/edges/SolidEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(c,a,b,l,h){return function(a){function c(b){b=
a.call(this,b)||this;b.type="solid";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e(this.cloneProperties())};var e;b.__decorate([l.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.symbols.support.SolidEdges3D")],c)}(h)})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports tslib ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(c,
a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DMaterial=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({color:h.isSome(this.color)?this.color.clone():null})};var e;b.__decorate([k.property(f.colorAndTransparencyProperty)],c.prototype,"color",void 0);return c=e=b.__decorate([k.subclass("esri.symbols.support.Symbol3DMaterial")],c)}(l.JSONSupport);a.Symbol3DMaterial=
c;a.default=c})},"esri/symbols/FillSymbol":function(){define("require exports tslib ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}b.__extends(c,a);c.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};b.__decorate([l.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":h}},json:{default:null,
write:!0}})],c.prototype,"outline",void 0);b.__decorate([l.property({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0);return c=b.__decorate([l.subclass("esri.symbols.FillSymbol")],c)}(k)})},"esri/symbols/SimpleLineSymbol":function(){define("require exports tslib ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol ./LineSymbolMarker".split(" "),function(c,a,b,l,h,k,f,e,n){var g=new l.default({esriSLSSolid:"solid",esriSLSDash:"dash",
esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";
b.join="round";b.marker=null;b.miterLimit=2;return b}b.__extends(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,b,d,c,e,g){if(a&&"string"!==typeof a)return a;var f={};null!=a&&(f.style=a);null!=b&&(f.color=b);null!=d&&(f.width=k.toPt(d));null!=c&&(f.cap=c);null!=e&&(f.join=e);null!=g&&(f.miterLimit=k.toPt(g));return f};d.prototype.clone=function(){var a;return new c({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null===
(a=this.marker)||void 0===a?void 0:a.clone()})};d.prototype.hash=function(){var b,d;return a.prototype.hash.call(this)+"."+(null===(b=this.color)||void 0===b?void 0:b.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit+"."+(null===(d=this.marker)||void 0===d?void 0:d.hash())};var c;b.__decorate([f.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([f.property({type:g.apiValues,json:{read:g.read,write:g.write}})],d.prototype,"style",void 0);
b.__decorate([f.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],d.prototype,"cap",void 0);b.__decorate([f.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],d.prototype,"join",void 0);b.__decorate([f.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":n}},json:{write:!0,
origins:{"web-scene":{write:!1}}}})],d.prototype,"marker",void 0);b.__decorate([f.property({type:Number,json:{read:!1,write:!1}})],d.prototype,"miterLimit",void 0);return d=c=b.__decorate([f.subclass("esri.symbols.SimpleLineSymbol")],d)}(e)})},"esri/symbols/LineSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}
b.__extends(c,a);c.prototype.hash=function(){return this.type+"."+this.width};b.__decorate([h.enumeration({esriSLS:"simple-line"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([h.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"width",void 0);return c=b.__decorate([h.subclass("esri.symbols.LineSymbol")],c)}(k)})},"esri/symbols/LineSymbolMarker":function(){define("require exports tslib ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.placement="begin-end";b.type="line-marker";b.style="arrow";return b}b.__extends(c,a);e=c;c.prototype.writeStyle=function(a,b,c,e){b[c]="web-map"===(null===e||void 0===e?void 0:e.origin)?"arrow":a};Object.defineProperty(c.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!1,configurable:!0});c.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};c.prototype.writeColor=function(a,
b,c,e){"web-map"!==(null===e||void 0===e?void 0:e.origin)&&(b[c]=a)};c.prototype.clone=function(){return new e({color:k.clone(this.color),placement:this.placement,style:this.style})};c.prototype.hash=function(){var a;return this.placement+"."+(null===(a=this.color)||void 0===a?void 0:a.hash())+"."+this.style};var e;b.__decorate([f.property({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],c.prototype,"placement",void 0);b.__decorate([f.enumeration({"line-marker":"line-marker"},
{readOnly:!0}),f.property({json:{origins:{"web-map":{write:!1}}}})],c.prototype,"type",void 0);b.__decorate([f.property({type:"arrow circle square diamond cross x".split(" ")})],c.prototype,"style",void 0);b.__decorate([f.writer("style")],c.prototype,"writeStyle",null);b.__decorate([f.property({type:l,value:null,json:{write:{allowNull:!0}}})],c.prototype,"color",null);b.__decorate([f.reader("color")],c.prototype,"readColor",null);b.__decorate([f.writer("color")],c.prototype,"writeColor",null);return c=
e=b.__decorate([f.subclass("esri.symbols.LineSymbolMarker")],c)}(h.JSONSupport)})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m){return function(a){function c(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.pattern=null;b.castShadows=
!0;b.outline=null;b.edges=null;return b}b.__extends(c,a);k=c;c.prototype.clone=function(){return new k({edges:l.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,pattern:l.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:l.isSome(this.outline)?this.outline.clone():null})};c.fromSimpleFillSymbol=function(a){return new k({material:{color:(a.color||g.transparentWhite).clone()},pattern:a.style&&
"solid"!==a.style?new e({style:a.style}):null,outline:a.outline?new m.default({size:a.outline.width||0,color:(a.outline.color||g.white).clone()}):null})};var k;b.__decorate([h.enumeration({Fill:"fill"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([h.property({type:d.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([h.property(n.symbol3dPatternProperty)],c.prototype,"pattern",void 0);b.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],
c.prototype,"castShadows",void 0);b.__decorate([h.property({type:m.default,json:{write:!0}})],c.prototype,"outline",void 0);b.__decorate([h.property(f.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=k=b.__decorate([h.subclass("esri.symbols.FillSymbol3DLayer")],c)}(k)})},"esri/symbols/patterns/StylePattern3D":function(){define("require exports tslib ../../core/accessorSupport/decorators ./Pattern3D ./styles".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,
b)||this;b.type="style";b.style="solid";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({style:this.style})};var f;b.__decorate([l.property({type:["style"]})],c.prototype,"type",void 0);b.__decorate([l.property({type:k,json:{read:!0,write:!0}})],c.prototype,"style",void 0);return c=f=b.__decorate([l.subclass("esri.symbols.patterns.StylePattern3D")],c)}(h)})},"esri/symbols/patterns/Pattern3D":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(c,a,b,l,h){return function(a){function c(b){return a.call(this,b)||this}b.__extends(c,a);c.prototype.clone=function(){};b.__decorate([h.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.symbols.patterns.Pattern3D")],c)}(l.JSONSupport)})},"esri/symbols/patterns/styles":function(){define(["require","exports"],function(c,a){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["require","exports","./Pattern3D","./StylePattern3D"],function(c,a,b,l){function h(a,b,c){if(!a)return a;switch(a.type){case "style":return b=new l,b.read(a,c),b}}Object.defineProperty(a,"__esModule",{value:!0});a.symbol3dPatternProperty=a.read=void 0;a.read=h;a.symbol3dPatternProperty={types:{key:"type",base:b,typeMap:{style:l}},json:{read:h,write:!0}}})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(c,
a,b){Object.defineProperty(a,"__esModule",{value:!0});a.isBlack=a.transparentWhite=a.black=a.white=void 0;a.white=new b("white");a.black=new b("black");a.transparentWhite=new b([255,255,255,0]);a.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DFillMaterial=
void 0;c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({color:l.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var f;b.__decorate([h.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],c.prototype,"colorMixMode",void 0);return c=f=b.__decorate([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],c)}(k.default);a.Symbol3DFillMaterial=c;a.default=c})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DOutline=void 0;c=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,0,0,1]);b.size=f.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}b.__extends(d,a);c=d;d.prototype.clone=function(){return new c({color:k.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?
this.stippleOffColor.clone():null})};var c;b.__decorate([e.property(n.colorAndTransparencyProperty)],d.prototype,"color",void 0);b.__decorate([e.property(n.screenSizeProperty)],d.prototype,"size",void 0);b.__decorate([e.property(n.stipplePatternProperty)],d.prototype,"stipplePattern",void 0);b.__decorate([e.property({type:l})],d.prototype,"stippleOffColor",void 0);return d=c=b.__decorate([e.subclass("esri.symbols.support.Symbol3DOutline")],d)}(h.JSONSupport);a.Symbol3DOutline=c;a.default=c})},"esri/symbols/Font":function(){define("require exports tslib ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}b.__extends(c,a);f=c;c.prototype.castSize=function(a){return h.toPt(a)};c.prototype.clone=function(){return new f({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};c.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};
var f;b.__decorate([k.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],c.prototype,"decoration",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([k.cast("size")],c.prototype,"castSize",null);b.__decorate([k.property({type:["normal","italic","oblique"],json:{default:"normal",
write:!0}})],c.prototype,"style",void 0);b.__decorate([k.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],c.prototype,"weight",void 0);return c=f=b.__decorate([k.subclass("esri.symbols.Font")],c)}(l.JSONSupport)})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports tslib ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r){function p(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=t(a.xoffset);a=t(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function t(a){return isFinite(a)?a:0}var w=l.getLogger("esri.symbols.IconSymbol3DLayer"),v={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};c.fromSimpleMarkerSymbol=function(a){var b=a.color||n.white,c=p(a),d=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||n.white).clone()}:null,g=e,f=a.size;a=a.style;var m=v[a];m?a=m:(w.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new g({size:f,resource:{primitive:a},material:{color:b},outline:d,anchor:c?"relative":void 0,anchorPosition:c})};c.fromPictureMarkerSymbol=function(a){var b=!a.color||n.isBlack(a.color)?n.white:a.color,c=p(a);return new e({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};c.fromCIMSymbol=function(a){return new e({resource:{href:k.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var e;b.__decorate([f.property({type:q.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([f.property({type:g.default,json:{write:!0}})],c.prototype,"resource",void 0);b.__decorate([f.enumeration({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([f.property(d.screenSizeProperty)],c.prototype,"size",void 0);
b.__decorate([f.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),f.property({json:{default:"center"}})],c.prototype,"anchor",void 0);b.__decorate([f.property({type:m.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new m.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===
this.anchor}}}}})],c.prototype,"anchorPosition",void 0);b.__decorate([f.property({type:r.default,json:{write:!0}})],c.prototype,"outline",void 0);return c=e=b.__decorate([f.subclass("esri.symbols.IconSymbol3DLayer")],c)}(e)})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),function(c,a,b,l,h,k,f,e){Object.defineProperty(a,
"__esModule",{value:!0});a.defaultPrimitive=a.IconSymbol3DLayerResource=void 0;var n=l.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});c=function(a){function c(b){return a.call(this,b)||this}b.__extends(c,a);g=c;c.prototype.readHref=function(a,b,c){return a?e.fromJSON(a,c):b.dataURI};c.prototype.writeHref=function(a,b,c,d){a&&(k.isDataProtocol(a)?b.dataURI=a:(b.href=e.toJSON(a,d),k.isAbsolute(b.href)&&(b.href=k.normalize(b.href))))};c.prototype.clone=
function(){return new g({href:this.href,primitive:this.primitive})};var g;b.__decorate([f.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],c.prototype,"href",void 0);b.__decorate([f.reader("href")],c.prototype,"readHref",null);b.__decorate([f.writer("href",{href:{type:String},dataURI:{type:String}})],c.prototype,"writeHref",null);b.__decorate([f.enumeration(n)],c.prototype,"primitive",void 0);return c=g=b.__decorate([f.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
c)}(h.JSONSupport);a.IconSymbol3DLayerResource=c;a.defaultPrimitive="circle";a.default=c})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DAnchorPosition2D=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({x:this.x,
y:this.y})};var e;b.__decorate([h.property({type:Number})],c.prototype,"x",void 0);b.__decorate([h.property({type:Number})],c.prototype,"y",void 0);return c=e=b.__decorate([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],c)}(l);a.Symbol3DAnchorPosition2D=c;a.default=c})},"esri/symbols/LabelSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(c,a,b,l,h,k,f,e,n,g){var d=l.ofType({base:null,key:"type",typeMap:{text:e}});return function(a){function c(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new d;b.type="label-3d";return b}b.__extends(c,a);f=c;c.prototype.supportsCallout=function(){return!0};c.prototype.hasVisibleCallout=function(){return n.hasVisibleCallout(this)};c.prototype.hasVisibleVerticalOffset=function(){return n.hasVisibleVerticalOffset(this)};c.prototype.clone=function(){return new f({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};c.fromTextSymbol=function(a){return new f({symbolLayers:[e.fromTextSymbol(a)]})};var f;b.__decorate([k.property({type:g.default,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([k.property(n.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([k.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0);b.__decorate([k.property({type:d})],
c.prototype,"symbolLayers",void 0);b.__decorate([k.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=f=b.__decorate([k.subclass("esri.symbols.LabelSymbol3D")],c)}(f)})},"esri/symbols/Symbol3D":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B){var A={icon:r,object:t,line:p,path:w,fill:q,extrude:m,text:x,water:y},E=l.ofType({base:u,key:"type",typeMap:A,errorContext:"symbol-layer"}),C=k.getLogger("esri.symbols.Symbol3D");return function(a){function c(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||l));return b}b.__extends(c,a);Object.defineProperty(c.prototype,
"color",{get:function(){return null},set:function(a){C.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!1,configurable:!0});c.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=d.fromJSON(a.styleUrl,c),new z({styleUrl:b,name:a.name});if(a.styleName&&
a.name)return new z({portal:c&&c.portal||g.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new e("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};c.prototype.writeStyleOrigin=function(a,b,c,g){a.styleUrl&&a.name?(c=d.toJSON(a.styleUrl,g),f.isAbsolute(c)&&(c=f.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&g&&g.portal&&!f.hasSamePortal(a.portal.restUrl,
g.portal.restUrl)?g&&g.messages&&g.messages.push(new e("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};c.prototype.normalizeCtorArgs=function(a){return a instanceof u||a&&A[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};b.__decorate([n.property({json:{read:!1,write:!1}})],c.prototype,"color",null);b.__decorate([n.property({type:E,
nonNullable:!0,json:{write:!0}}),n.cast(h.castForReferenceSetter)],c.prototype,"symbolLayers",null);b.__decorate([n.property({type:z})],c.prototype,"styleOrigin",void 0);b.__decorate([n.reader("styleOrigin")],c.prototype,"readStyleOrigin",null);b.__decorate([n.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],c.prototype,"writeStyleOrigin",null);b.__decorate([n.property({type:B.default,json:{read:!1}})],c.prototype,
"thumbnail",void 0);b.__decorate([n.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],c.prototype,"type",void 0);return c=b.__decorate([n.subclass("esri.symbols.Symbol3D")],c)}(v)})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports tslib ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){return function(a){function c(b){b=
a.call(this,b)||this;b.material=null;b.type="line";b.join="miter";b.cap="butt";b.size=k.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};c.fromSimpleLineSymbol=
function(a){return new e({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",material:{color:(a.color||n.white).clone()}})};var e;b.__decorate([f.property({type:d.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([f.enumeration({Line:"line"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([f.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);b.__decorate([f.property({type:["butt","square","round"],json:{write:!0,
default:"butt"}})],c.prototype,"cap",void 0);b.__decorate([f.property(g.screenSizeProperty)],c.prototype,"size",void 0);b.__decorate([f.property(g.stipplePatternProperty)],c.prototype,"stipplePattern",void 0);b.__decorate([f.property({type:l})],c.prototype,"stippleOffColor",void 0);return c=e=b.__decorate([f.subclass("esri.symbols.LineSymbol3DLayer")],c)}(e)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}b.__extends(c,a);g=c;c.prototype.clone=function(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(c.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!1,configurable:!0});var g;b.__decorate([h.property({type:n.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([h.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);b.__decorate([h.property({type:f.default,json:{write:!0}})],c.prototype,"resource",void 0);b.__decorate([h.enumeration({Object:"object"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);b.__decorate([h.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],c.prototype,"anchor",void 0);b.__decorate([h.property({type:e.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new e.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);b.__decorate([h.property({type:Number,
json:{write:!0}})],c.prototype,"heading",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"tilt",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],c.prototype,"isPrimitive",null);return c=g=b.__decorate([h.subclass("esri.symbols.ObjectSymbol3DLayer")],c)}(k)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),
function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.defaultPrimitive=a.ObjectSymbol3DLayerResource=void 0;var e=l.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;b.__decorate([k.property({type:String,
json:{read:f.read,write:f.write}})],c.prototype,"href",void 0);b.__decorate([k.enumeration(e)],c.prototype,"primitive",void 0);return c=d=b.__decorate([k.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],c)}(h.JSONSupport);a.ObjectSymbol3DLayerResource=c;a.defaultPrimitive="sphere";a.default=c})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,
"__esModule",{value:!0});a.Symbol3DAnchorPosition3D=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({x:this.x,y:this.y,z:this.z})};var e;b.__decorate([h.property({type:Number})],c.prototype,"x",void 0);b.__decorate([h.property({type:Number})],c.prototype,"y",void 0);b.__decorate([h.property({type:Number})],c.prototype,"z",void 0);return c=e=b.__decorate([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
c)}(l);a.Symbol3DAnchorPosition3D=c;a.default=c})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}b.__extends(c,a);
e=c;Object.defineProperty(c.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!1,configurable:!0});c.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};c.prototype.clone=function(){return new e({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var e;b.__decorate([h.property({type:f.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);b.__decorate([h.enumeration({Path:"path"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([h.property({type:Number})],c.prototype,
"size",null);b.__decorate([h.reader("size")],c.prototype,"readSize",null);b.__decorate([h.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],c.prototype,"profile",void 0);b.__decorate([h.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);b.__decorate([h.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);b.__decorate([h.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},
size:{type:Number}}}}})],c.prototype,"width",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);b.__decorate([h.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],c.prototype,"anchor",void 0);b.__decorate([h.property({type:["heading","all"],json:{write:!0,default:"all"}})],c.prototype,"profileRotation",void 0);return c=e=b.__decorate([h.subclass("esri.symbols.PathSymbol3DLayer")],c)}(k)})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports tslib ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){return function(a){function c(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}b.__extends(c,a);e=c;Object.defineProperty(c.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!1,configurable:!0});c.prototype.writeFont=function(a,c,d,e){d=b.__assign(b.__assign({},e),{textSymbol3D:!0});c.font=a.write({},
d);delete c.font.size};Object.defineProperty(c.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new e({enabled:this.enabled,font:this.font&&l.clone(this.font),halo:this.halo&&l.clone(this.halo),material:h.isSome(this.material)?this.material.clone():null,
size:this.size,text:this.text})};c.fromTextSymbol=function(a){var b;b=a.haloColor;var c=a.haloSize;b=b&&0<c?{color:l.clone(b),size:c}:null;c=a.font?a.font.clone():new f;return new e({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var e;b.__decorate([k.property({type:f,json:{write:!0}})],c.prototype,"font",null);b.__decorate([k.writer("font")],c.prototype,"writeFont",null);b.__decorate([k.property({type:g.default,json:{write:!0}})],c.prototype,"halo",void 0);
b.__decorate([k.property({type:d.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([k.property(n.screenSizeProperty),k.property({dependsOn:["font.size"]})],c.prototype,"size",null);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);b.__decorate([k.enumeration({Text:"text"},{readOnly:!0})],c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.symbols.TextSymbol3DLayer")],c)}(e)})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DHalo=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,0,0,1]);b.size=0;return b}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({color:k.clone(this.color),size:this.size})};var d;b.__decorate([f.property(e.colorAndTransparencyProperty)],c.prototype,"color",void 0);b.__decorate([f.property(e.screenSizeProperty)],c.prototype,"size",void 0);return c=d=b.__decorate([f.subclass("esri.symbols.support.Symbol3DHalo")],
c)}(h.JSONSupport);a.Symbol3DHalo=c;a.default=c})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(c,a,b,l,h,k,f,e){c=function(a){function c(b){b=a.call(this,b)||this;b.color=n.clone();b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({color:h.clone(this.color),
waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var e;b.__decorate([k.property({type:l,nonNullable:!0,json:{type:[f.Integer],write:function(a,b,c){return b[c]=a.toArray(1)},default:function(){return n.clone()},defaultEquals:function(a){return a.toCss(!0)===n.toCss(!0)}}})],c.prototype,"color",void 0);b.__decorate([k.enumeration({Water:"water"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([k.property({type:["small","medium","large"],json:{write:!0,
default:"medium"}})],c.prototype,"waterbodySize",void 0);b.__decorate([k.property({type:Number,json:{write:!0,default:null}})],c.prototype,"waveDirection",void 0);b.__decorate([k.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],c.prototype,"waveStrength",void 0);return c=e=b.__decorate([k.subclass("esri.symbols.WaterSymbol3DLayer")],c)}(e);var n=new l([0,119,190]);return c})},"esri/symbols/support/StyleOrigin":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(c,a,b,l,h,k){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var f;b.__decorate([h.property({type:String})],c.prototype,"name",void 0);b.__decorate([h.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([h.property({type:String})],c.prototype,"styleName",void 0);b.__decorate([h.property({type:k})],
c.prototype,"portal",void 0);return c=f=b.__decorate([h.subclass("esri.symbols.support.StyleOrigin")],c)}(l)})},"esri/symbols/support/Thumbnail":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.Thumbnail=void 0;c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({url:this.url})};var e;
b.__decorate([h.property({type:String})],c.prototype,"url",void 0);return c=e=b.__decorate([h.subclass("esri.symbols.support.Thumbnail")],c)}(l);a.Thumbnail=c;a.default=c})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(c,a,b,l){function h(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}Object.defineProperty(a,"__esModule",{value:!0});a.calloutProperty=a.isCalloutSupport=a.hasVisibleCallout=
a.hasVisibleVerticalOffset=void 0;a.hasVisibleVerticalOffset=h;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?h(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.calloutProperty={types:{key:"type",base:b,typeMap:{line:l}},json:{write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.visible=!0;return b}b.__extends(c,a);c.prototype.clone=function(){};b.__decorate([h.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([h.subclass("esri.symbols.callouts.Callout3D")],c)}(l.JSONSupport)})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports tslib ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){return function(a){function c(b){b=a.call(this,b)||this;b.type="line";b.color=new l([0,0,0,1]);b.size=f.px2pt(1);b.border=null;return b}b.__extends(c,a);n=c;Object.defineProperty(c.prototype,"visible",{get:function(){return 0<this.size&&k.isSome(this.color)&&0<this.color.a},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new n({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var n;b.__decorate([e.enumeration({line:"line"},
{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([e.property(d.colorAndTransparencyProperty)],c.prototype,"color",void 0);b.__decorate([e.property(d.screenSizeProperty)],c.prototype,"size",void 0);b.__decorate([e.property({type:g.default,json:{write:!0}})],c.prototype,"border",void 0);b.__decorate([e.property({dependsOn:["size","color"],readOnly:!0})],c.prototype,"visible",null);return c=n=b.__decorate([e.subclass("esri.symbols.callouts.LineCallout3D")],c)}(n)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.LineCallout3DBorder=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l("white");return b}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({color:k.clone(this.color)})};var d;b.__decorate([f.property(e.colorAndTransparencyProperty)],c.prototype,"color",void 0);return c=d=b.__decorate([f.subclass("esri.symbols.callouts.LineCallout3DBorder")],c)}(h.JSONSupport);a.LineCallout3DBorder=
c;a.default=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.Symbol3DVerticalOffset=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({screenLength:this.screenLength,
minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var f;b.__decorate([h.property(k.screenSizeProperty)],c.prototype,"screenLength",void 0);b.__decorate([h.property({type:Number,json:{write:!0,default:0}})],c.prototype,"minWorldLength",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"maxWorldLength",void 0);return c=f=b.__decorate([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],c)}(l.JSONSupport);a.Symbol3DVerticalOffset=c;a.default=c})},
"esri/symbols/LineSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(c,a,b,l,h,k,f,e,n){var g=l.ofType({base:null,key:"type",typeMap:{line:f,path:e}}),d=l.ofType({base:null,key:"type",typeMap:{line:f,path:e}});return function(a){function c(b){b=a.call(this,b)||this;b.symbolLayers=new g;b.type="line-3d";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};c.fromSimpleLineSymbol=function(a){return new e({symbolLayers:[f.fromSimpleLineSymbol(a)]})};var e;b.__decorate([k.property({type:g,json:{type:d}})],c.prototype,"symbolLayers",void 0);b.__decorate([k.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.symbols.LineSymbol3D")],c)}(n)})},"esri/symbols/MarkerSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}b.__extends(c,a);c.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};b.__decorate([h.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],c.prototype,"angle",void 0);b.__decorate([h.property({type:["simple-marker","picture-marker"],readOnly:!0})],
c.prototype,"type",void 0);b.__decorate([h.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);b.__decorate([h.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);b.__decorate([h.property({type:Number,cast:function(a){return"auto"===a?a:l.toPt(a)},json:{write:!0}})],c.prototype,"size",void 0);return c=b.__decorate([h.subclass("esri.symbols.MarkerSymbol")],c)}(k)})},"esri/symbols/MeshSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(c,a,b,l,h,k,f,e){var n=l.ofType({base:null,key:"type",typeMap:{fill:f}});return function(a){function c(b){b=a.call(this,b)||this;b.symbolLayers=new n;b.type="mesh-3d";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var e;b.__decorate([k.property({type:n})],c.prototype,"symbolLayers",void 0);b.__decorate([k.enumeration({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],
c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.symbols.MeshSymbol3D")],c)}(e)})},"esri/symbols/PictureFillSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=
12;b.xoffset=0;b.yoffset=0;b.source=null;return b}b.__extends(c,a);d=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=h.toPt(c));null!=d&&(e.height=h.toPt(d));return e};c.prototype.clone=function(){var a=new d({color:l.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",l.clone(this.source));return a};c.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var d;b.__decorate([k.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([k.property(e.urlPropertyDefinition)],c.prototype,"url",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],
c.prototype,"xscale",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"yscale",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"width",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"height",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);
b.__decorate([k.property(e.sourcePropertyDefinition)],c.prototype,"source",void 0);return c=d=b.__decorate([k.subclass("esri.symbols.PictureFillSymbol")],c)}(f)})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils","../../support/persistableUrlUtils"],function(c,a,b,l){function h(a,c,g){return c.imageData?b.makeData({mediaType:c.contentType||"image/png",isBase64:!0,data:c.imageData}):k(c.url,g)}function k(a,c){return!c||"service"!==c.origin&&"portal-item"!==
c.origin||!c.layer||"feature"!==c.layer.type&&"stream"!==c.layer.type||b.isAbsolute(a)||!c.layer.parsedUrl?l.fromJSON(a,c):b.join(c.layer.parsedUrl.path,"images",a)}function f(a,c,g,d){b.isDataProtocol(a)?(a=b.dataComponents(a),c.contentType=a.mediaType,c.imageData=a.data,g&&g.imageData===c.imageData&&g.url&&l.write(g.url,c,"url",d)):l.write(a,c,"url",d)}Object.defineProperty(a,"__esModule",{value:!0});a.sourcePropertyDefinition=a.urlPropertyDefinition=a.writeImageDataAndUrl=a.read=a.readImageDataOrUrl=
void 0;a.readImageDataOrUrl=h;a.read=k;a.writeImageDataAndUrl=f;a.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:h},write:{writer:function(a,b,c,d){f(a,b,this.source,d)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,c){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=k(b.url,c));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),
function(c,a,b,l,h,k,f,e){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}b.__extends(c,a);d=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=h.toPt(b));null!=c&&(d.height=h.toPt(c));return d};c.prototype.readHeight=function(a,b){return b.size||
a};c.prototype.readWidth=function(a,b){return b.size||a};c.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",l.clone(this.source));return a};c.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.height+"."+this.url+"."+this.width};var d;b.__decorate([k.property({json:{write:!1}})],c.prototype,"color",void 0);b.__decorate([k.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],
c.prototype,"type",void 0);b.__decorate([k.property(e.urlPropertyDefinition)],c.prototype,"url",void 0);b.__decorate([k.property(e.sourcePropertyDefinition)],c.prototype,"source",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"height",void 0);b.__decorate([k.reader("height",["height","size"])],c.prototype,"readHeight",null);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"width",void 0);b.__decorate([k.property({json:{write:!1}})],
c.prototype,"size",void 0);return c=d=b.__decorate([k.subclass("esri.symbols.PictureMarkerSymbol")],c)}(f)})},"esri/symbols/PointSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q){var r=l.ofType({base:null,key:"type",typeMap:{icon:e,object:n,
text:d}}),p=l.ofType({base:null,key:"type",typeMap:{icon:e,object:n}});return function(a){function c(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new r;b.type="point-3d";return b}b.__extends(c,a);g=c;c.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",
{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};c.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};c.prototype.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};c.prototype.hasVisibleVerticalOffset=function(){return m.hasVisibleVerticalOffset(this)};c.prototype.clone=
function(){return new g({verticalOffset:k.clone(this.verticalOffset),callout:k.clone(this.callout),styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};c.fromSimpleMarkerSymbol=function(a){return new g({symbolLayers:[e.fromSimpleMarkerSymbol(a)]})};c.fromPictureMarkerSymbol=function(a){return new g({symbolLayers:[e.fromPictureMarkerSymbol(a)]})};c.fromCIMSymbol=function(a){return new g({symbolLayers:[e.fromCIMSymbol(a)],callout:{type:"line",
size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};c.fromTextSymbol=function(a){return new g({symbolLayers:[d.fromTextSymbol(a)]})};var g;b.__decorate([f.property({type:q.default,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([f.property(m.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([f.property({type:r,json:{type:p,origins:{"web-scene":{type:p}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([f.writer("web-scene","symbolLayers")],c.prototype,"writeSymbolLayers",
null);b.__decorate([f.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=g=b.__decorate([f.subclass("esri.symbols.PointSymbol3D")],c)}(g)})},"esri/symbols/PolygonSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t){var w=l.ofType({base:null,key:"type",typeMap:{extrude:n,fill:g,icon:d,line:m,object:q,text:p,water:t}}),v=l.ofType({base:null,key:"type",typeMap:{extrude:n,fill:g,icon:d,line:m,object:q,water:t}});return function(a){function c(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}b.__extends(c,a);d=c;c.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};c.prototype.clone=function(){return new d({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};c.fromJSON=function(a){var b=new d;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=
b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:e.size,color:f.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};c.fromSimpleFillSymbol=function(a){return new d({symbolLayers:[g.fromSimpleFillSymbol(a)]})};var d;b.__decorate([e.property({type:w,json:{type:v}})],c.prototype,"symbolLayers",void 0);b.__decorate([e.writer("web-scene","symbolLayers")],c.prototype,"writeSymbolLayers",
null);b.__decorate([e.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=d=b.__decorate([e.subclass("esri.symbols.PolygonSymbol3D")],c)}(r)})},"esri/symbols/SimpleFillSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(c,a,b,l,h,k,f,e,n){var g=new h.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",
esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=new l([0,0,0,.25]);b.outline=new n;b.type="simple-fill";b.style="solid";return b}b.__extends(c,a);d=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=
c);return d};c.prototype.clone=function(){return new d({color:k.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};c.prototype.hash=function(){return""+a.prototype.hash.call(this)+this.style+"."+(this.color&&this.color.hash())};var d;b.__decorate([f.property()],c.prototype,"color",void 0);b.__decorate([f.property()],c.prototype,"outline",void 0);b.__decorate([f.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([f.property({type:g.apiValues,
json:{read:g.read,write:g.write}})],c.prototype,"style",void 0);return c=d=b.__decorate([f.subclass("esri.symbols.SimpleFillSymbol")],c)}(e)})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(c,a,b,l,h,k,f,e,n,g){var d=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",
esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=new l([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new g;return b}b.__extends(c,a);n=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&(e.size=f.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};c.prototype.writeColor=function(a,
b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(c.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new n({angle:this.angle,color:k.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};c.prototype.hash=function(){var b;return a.prototype.hash.call(this)+
"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style+"."+(null===(b=this.outline)||void 0===b?void 0:b.hash())};var n;b.__decorate([e.property()],c.prototype,"color",void 0);b.__decorate([e.writer("color")],c.prototype,"writeColor",null);b.__decorate([e.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([e.property()],c.prototype,"size",void 0);b.__decorate([e.property({type:d.apiValues,json:{read:d.read,write:d.write}})],c.prototype,"style",
void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"path",null);b.__decorate([e.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":g}},json:{default:null,write:!0}})],c.prototype,"outline",void 0);return c=n=b.__decorate([e.subclass("esri.symbols.SimpleMarkerSymbol")],c)}(n)})},"esri/symbols/TextSymbol":function(){define("require exports tslib ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new e;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;b.lineWidth=192;b.lineHeight=1;return b}b.__extends(c,a);g=c;c.prototype.normalizeCtorArgs=
function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};c.prototype.writeLineWidth=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};c.prototype.castLineWidth=function(a){return k.toPt(a)};c.prototype.writeLineHeight=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};c.prototype.clone=function(){return new g({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,
color:h.clone(this.color),font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};c.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+
"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var g;b.__decorate([f.property({type:l,json:{write:!0}})],c.prototype,"backgroundColor",void 0);b.__decorate([f.property({type:l,json:{write:!0}})],
c.prototype,"borderLineColor",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"borderLineSize",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],c.prototype,"font",void 0);b.__decorate([f.property({type:["left","right","center","justify"],json:{write:!0}})],c.prototype,"horizontalAlignment",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"kerning",void 0);b.__decorate([f.property({type:l,json:{write:!0}})],c.prototype,"haloColor",
void 0);b.__decorate([f.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"haloSize",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"rightToLeft",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"rotated",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);b.__decorate([f.enumeration({esriTS:"text"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([f.property({type:["baseline",
"top","middle","bottom"],json:{write:!0}})],c.prototype,"verticalAlignment",void 0);b.__decorate([f.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);b.__decorate([f.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);b.__decorate([f.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],c.prototype,"angle",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,
"width",void 0);b.__decorate([f.property({type:Number})],c.prototype,"lineWidth",void 0);b.__decorate([f.writer("lineWidth")],c.prototype,"writeLineWidth",null);b.__decorate([f.cast("lineWidth")],c.prototype,"castLineWidth",null);b.__decorate([f.property({type:Number})],c.prototype,"lineHeight",void 0);b.__decorate([f.writer("lineHeight")],c.prototype,"writeLineHeight",null);return c=g=b.__decorate([f.subclass("esri.symbols.TextSymbol")],c)}(n)})},"esri/symbols/WebStyleSymbol":function(){define("require exports tslib ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./Symbol ./support/Thumbnail @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g){function d(){return new Promise(function(a,b){c(["./support/styleUtils"],a,b)})}var m=l.getLogger("esri.symbols.WebStyleSymbol");return function(a){function c(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}b.__extends(c,a);n=c;c.prototype.read=function(b,c){this.portal=c?c.portal:void 0;a.prototype.read.call(this,b,c)};c.prototype.clone=function(){return new n({name:this.name,styleUrl:this.styleUrl,
styleName:this.styleName,portal:this.portal})};c.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};c.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};c.prototype._fetchSymbol=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e,g;return b.__generator(this,function(b){switch(b.label){case 0:return[4,d()];case 1:return e=b.sent(),h.throwIfAborted(c),g=e.resolveWebStyleSymbol(this,{portal:this.portal},a,c),g.catch(function(a){m.error("#fetchSymbol()",
"Failed to create symbol from style",a)}),[2,g]}})})};var n;b.__decorate([k.property({json:{write:!1}})],c.prototype,"color",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"styleName",void 0);b.__decorate([k.property({type:f,json:{write:!1}})],c.prototype,"portal",void 0);b.__decorate([k.property({type:String,json:{read:e.read,write:e.write}})],c.prototype,"styleUrl",void 0);b.__decorate([k.property({type:g.default,json:{read:!1}})],c.prototype,"thumbnail",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],c.prototype,"type",void 0);return c=n=b.__decorate([k.subclass("esri.symbols.WebStyleSymbol")],c)}(n)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../symbols ../../core/Error ../Symbol3D ../WebStyleSymbol ./symbolConversion".split(" "),function(c,a,b,l,h,k,f){function e(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof h||a instanceof
k)){var d="cim"!==a.type?f.to3D(a):{symbol:null,error:new l("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new l("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return c&&"web-map"===c.origin&&"web-style"===a.type?(c.messages&&
c.messages.push(new l("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.",{symbol:a,context:c})),null):a.write(b,c)}Object.defineProperty(a,"__esModule",{value:!0});a.fromJSON=a.write=void 0;a.write=function(a,b,c,f){(a=e(a,{},f))&&(b[c]=a)};a.fromJSON=function(a,c){return b.readSymbol(a,null,c)}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],
function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.to3D=void 0;a.to3D=function(a,c,f,e){void 0===c&&(c=!1);void 0===f&&(f=!1);void 0===e&&(e=!0);if(!a)return{symbol:null};if(b.isSymbol3D(a)||a instanceof b.WebStyleSymbol)e=a.clone();else if("cim"===a.type)e=b.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof b.SimpleLineSymbol)e=b.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof b.SimpleMarkerSymbol)e=b.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof b.PictureMarkerSymbol)e=
b.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof b.SimpleFillSymbol)e=b.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof b.TextSymbol)e=e?b.LabelSymbol3D.fromTextSymbol(a):b.PointSymbol3D.fromTextSymbol(a);else return{error:new l("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};c&&(e.id=a.id);if(f&&b.isSymbol3D(e))for(a=0;a<e.symbolLayers.length;++a)e.symbolLayers.getItemAt(a)._ignoreDrivers=
!0;return{symbol:e}}})},"esri/renderers/Renderer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/SetUtils ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),function(c,a,b,l,h,k,f,e){var n=new l.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(a){function c(b){b=a.call(this,b)||this;b.authoringInfo=null;b.type=
null;return b}b.__extends(c,a);c.prototype.getRequiredFields=function(a){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:if(!this.collectRequiredFields)return[2,[]];c=new Set;return[4,this.collectRequiredFields(c,a)];case 1:return b.sent(),[2,k.valuesOfSet(c).sort()]}})})};c.prototype.getSymbol=function(a,b){};c.prototype.getSymbolAsync=function(a,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2]})})};
c.prototype.getSymbols=function(){return[]};c.prototype.getAttributeHash=function(){return JSON.stringify(this)};c.prototype.getMeshHash=function(){return JSON.stringify(this)};b.__decorate([f.property({type:e,json:{write:!0}})],c.prototype,"authoringInfo",void 0);b.__decorate([f.property({type:n.apiValues,readOnly:!0,json:{type:n.jsonValues,read:!1,write:{writer:n.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([f.subclass("esri.renderers.Renderer")],c)}(h.JSONSupport)})},
"esri/renderers/support/AuthoringInfo":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){var m=new l.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",
esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),q=new l.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),r="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(a){function c(b){b=a.call(this,b)||this;b.colorRamp=null;b.lengthUnit=
null;b.maxSliderValue=null;b.minSliderValue=null;b.visualVariables=null;return b}b.__extends(c,a);h=c;Object.defineProperty(c.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!1,configurable:!0});c.prototype.readColorRamp=function(a){if(a)return d.fromJSON(a)};Object.defineProperty(c.prototype,
"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(a){this._set("field1",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",
a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"standardDeviationInterval",
{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");
this._set("type",b)},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new h({classificationMethod:this.classificationMethod,colorRamp:k.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:k.clone(this.field1),field2:k.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&
this.visualVariables.map(function(a){return a.clone()})})};var h;b.__decorate([f.property({type:m.apiValues,value:null,dependsOn:["type"],json:{type:m.jsonValues,read:m.read,write:m.write,origins:{"web-document":{default:"manual",type:m.jsonValues,read:m.read,write:m.write}}}})],c.prototype,"classificationMethod",null);b.__decorate([f.property({types:d.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);b.__decorate([f.reader("colorRamp")],c.prototype,"readColorRamp",null);b.__decorate([f.property({type:[String],
value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"fields",null);b.__decorate([f.property({type:n.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field1",null);b.__decorate([f.property({type:n.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field2",null);b.__decorate([f.property({type:["HH","HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"focus",null);b.__decorate([f.property({type:Number,value:null,dependsOn:["type"],
json:{type:e.Integer,write:!0}})],c.prototype,"numClasses",null);b.__decorate([f.property({type:r,json:{type:r,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);b.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);b.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);b.__decorate([f.property({type:[.25,
.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);b.__decorate([f.property({type:String,value:null,json:{type:q.jsonValues,read:q.read,write:q.write}})],c.prototype,"type",null);b.__decorate([f.property({type:[g],json:{write:!0}})],c.prototype,"visualVariables",void 0);return c=h=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfo")],c)}(h.JSONSupport)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),
function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.AuthoringInfoFieldInfo=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.field="";b.normalizationField="";b.label="";b.classBreakInfos=[];return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:h.clone(this.classBreakInfos)})};var e;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"field",
void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property({type:[f.default],json:{write:!0}})],c.prototype,"classBreakInfos",void 0);return c=e=b.__decorate([k.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],c)}(l.JSONSupport);a.AuthoringInfoFieldInfo=c;a.default=c})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.AuthoringInfoClassBreakInfo=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.minValue=0;b.maxValue=0;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({minValue:this.minValue,maxValue:this.maxValue})};var e;b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"minValue",void 0);b.__decorate([h.property({type:Number,
json:{write:!0}})],c.prototype,"maxValue",void 0);return c=e=b.__decorate([h.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],c)}(l.JSONSupport);a.AuthoringInfoClassBreakInfo=c;a.default=c})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),function(c,a,b,l,h,k,f){var e=new l.default({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"}),n=new l.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),g={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},d=["high-to-low","above-and-below","centered-on","extremes"],m="seconds minutes hours days months years".split(" ");return function(a){function c(b){b=a.call(this,b)||this;b.endTime=null;b.field=null;b.maxSliderValue=null;b.minSliderValue=null;b.startTime=
null;b.type=null;b.units=null;return b}b.__extends(c,a);h=c;c.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};c.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(c.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"theme",{get:function(){return"color"===this.type?
this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new h({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var h;b.__decorate([k.property({types:g,json:{write:!0}})],c.prototype,"endTime",void 0);b.__decorate([f.cast("endTime")],c.prototype,"castEndTime",
null);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);b.__decorate([k.property({types:g,json:{write:!0}})],c.prototype,"startTime",void 0);b.__decorate([f.cast("startTime")],c.prototype,"castStartTime",null);b.__decorate([k.property({type:e.apiValues,value:null,dependsOn:["type"],
json:{type:e.jsonValues,read:e.read,write:e.write}})],c.prototype,"style",null);b.__decorate([k.property({type:d,value:null,dependsOn:["type"],json:{type:d,write:!0}})],c.prototype,"theme",null);b.__decorate([k.property({type:n.apiValues,json:{type:n.jsonValues,read:n.read,write:n.write}})],c.prototype,"type",void 0);b.__decorate([k.property({type:m,json:{type:m,write:!0}})],c.prototype,"units",void 0);return c=h=b.__decorate([k.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)}(h.JSONSupport)})},
"esri/tasks/support/colorRamps":function(){define(["require","exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.fromJSON=a.types=void 0;a.types={key:"type",base:l,typeMap:{algorithmic:b,multipart:h}};a.fromJSON=function(a){return a&&a.type?"algorithmic"===a.type?b.fromJSON(a):"multipart"===a.type?h.fromJSON(a):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports tslib ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
function(c,a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,b)||this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({fromColor:h.clone(this.fromColor),toColor:h.clone(this.toColor),algorithm:this.algorithm})};var d;b.__decorate([k.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],c.prototype,"algorithm",void 0);b.__decorate([k.property({type:l,
json:{type:[f.Integer],write:!0}})],c.prototype,"fromColor",void 0);b.__decorate([k.property({type:l,json:{type:[f.Integer],write:!0}})],c.prototype,"toColor",void 0);b.__decorate([k.property({type:["algorithmic"]})],c.prototype,"type",void 0);return c=d=b.__decorate([k.subclass("esri.tasks.support.AlgorithmicColorRamp")],c)}(e)})},"esri/tasks/support/ColorRamp":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=
a.call(this,b)||this;b.type=null;return b}b.__extends(c,a);b.__decorate([h.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.tasks.support.ColorRamp")],c)}(l.JSONSupport)})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;
b.colorRamps=null;b.type="multipart";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({colorRamps:l.clone(this.colorRamps)})};var e;b.__decorate([h.property({type:[k],json:{write:!0}})],c.prototype,"colorRamps",void 0);b.__decorate([h.property({type:["multipart"]})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.tasks.support.MultipartColorRamp")],c)}(f)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports tslib ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){Object.defineProperty(a,"__esModule",{value:!0});a.VisualVariablesMixin=void 0;var m={base:g,key:"type",typeMap:{opacity:f,color:k,rotation:e,size:n}};a.VisualVariablesMixin=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new d;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},
enumerable:!1,configurable:!0});c.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,b,c)};c.prototype.writeVisualVariables=function(a,b,c,d){b[c]=this._vvFactory.writeVariables(a,d)};Object.defineProperty(c.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!1,configurable:!0});c.prototype.hasVisualVariables=function(a,
b){return a?!!this.getVisualVariablesForType(a,b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};c.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};c.prototype.collectVVRequiredFields=function(a,c){return b.__awaiter(this,
void 0,void 0,function(){var d,e,g,f;return b.__generator(this,function(b){switch(b.label){case 0:d=[],this.visualVariables&&(d=d.concat(this.visualVariables)),e=0,g=d,b.label=1;case 1:if(!(e<g.length))return[3,4];f=g[e];if(!f)return[3,3];f.field&&h.collectField(a,c,f.field);f.normalizationField&&h.collectField(a,c,f.normalizationField);return f.valueExpression?[4,h.collectArcadeFieldNames(a,c,f.valueExpression)]:[3,3];case 2:b.sent(),b.label=3;case 3:return e++,[3,1];case 4:return[2]}})})};b.__decorate([l.property({types:[m],
value:null,json:{write:!0}})],c.prototype,"visualVariables",null);b.__decorate([l.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],c.prototype,"readVisualVariables",null);b.__decorate([l.writer("visualVariables")],c.prototype,"writeVisualVariables",null);return c=b.__decorate([l.subclass("esri.renderers.mixins.VisualVariablesMixin")],c)}(a)}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="color";b.normalizationField=null;return b}b.__extends(c,a);f=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new f({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};c.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var f;b.__decorate([l.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);b.__decorate([l.property({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);b.__decorate([l.property({type:[k],json:{write:!0}})],c.prototype,"stops",null);return c=f=b.__decorate([l.subclass("esri.renderers.visualVariables.ColorVariable")],
c)}(h)})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),function(c,a,b,l,h,k,f,e,n){var g=k.getLogger("esri.renderers.visualVariables.VisualVariable"),d=new l.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(a){function c(b){b=
a.call(this,b)||this;b.index=null;b.type=null;b.field=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;return b}b.__extends(c,a);c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(g.error(".field: field must be a string value"),null):e.ensureString(a)};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!1,configurable:!0});c.prototype.clone=function(){};c.prototype.getAttributeHash=function(){return this.type+
"-"+this.field+"-"+this.valueExpression};b.__decorate([f.property()],c.prototype,"index",void 0);b.__decorate([f.property({type:d.apiValues,readOnly:!0,json:{read:d.read,write:d.write}})],c.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([f.cast("field")],c.prototype,"castField",null);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
c.prototype,"valueExpressionTitle",void 0);b.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"arcadeRequired",null);b.__decorate([f.property({type:n,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=b.__decorate([f.subclass("esri.renderers.visualVariables.VisualVariable")],c)}(h.JSONSupport)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators",
"../../support/LegendOptions"],function(c,a,b,l,h){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.showLegend=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({title:this.title,showLegend:this.showLegend})};var e;b.__decorate([l.property({type:Boolean,json:{write:!0}})],c.prototype,"showLegend",void 0);return c=e=b.__decorate([l.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],c)}(h.default)})},"esri/renderers/support/LegendOptions":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.LegendOptions=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.title=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({title:this.title})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=e=b.__decorate([h.subclass("esri.renderers.support.LegendOptions")],
c)}(l.JSONSupport);a.LegendOptions=c;a.default=c})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="opacity";b.normalizationField=null;return b}b.__extends(c,a);f=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,
compiledFunc:null}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",a)},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new f({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),
legendOptions:this.legendOptions&&this.legendOptions.clone()})};c.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var f;b.__decorate([l.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);b.__decorate([l.property({type:["opacity"],json:{type:["transparencyInfo"]}})],c.prototype,"type",void 0);
b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);b.__decorate([l.property({type:[k],json:{write:!0}})],c.prototype,"stops",null);return c=f=b.__decorate([l.subclass("esri.renderers.visualVariables.OpacityVariable")],c)}(h)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),
function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.label=null;b.opacity=null;b.value=null;return b}b.__extends(c,a);e=c;c.prototype.readOpacity=function(a,b){return f.transparencyToOpacity(b.transparency)};c.prototype.writeOpacity=function(a,b,c){b[c]=f.opacityToTransparency(a)};c.prototype.clone=function(){return new e({label:this.label,opacity:this.opacity,value:this.value})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);
b.__decorate([h.property({type:Number,json:{type:k.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([h.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([h.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=e=b.__decorate([h.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)}(l.JSONSupport)})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.axis=null;b.type="rotation";b.rotationType="geographic";b.valueExpressionTitle=null;return b}b.__extends(c,a);f=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!1,configurable:!0});c.prototype.writeValueExpressionTitleWebScene=function(a,b,c,e){e&&e.messages&&e.messages.push(new l("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:e}))};c.prototype.clone=function(){return new f({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var f;b.__decorate([h.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"cache",null);b.__decorate([h.property({type:["heading","tilt",
"roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],c.prototype,"axis",void 0);b.__decorate([h.property({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0);b.__decorate([h.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);b.__decorate([h.writer("web-scene",
"valueExpressionTitle")],c.prototype,"writeValueExpressionTitleWebScene",null);return c=f=b.__decorate([h.subclass("esri.renderers.visualVariables.RotationVariable")],c)}(k)})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports tslib ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){function r(a){if(null!=a){if("string"===typeof a||"number"===typeof a)return f.toPt(a);if("size"===a.type){if(m.isSizeVariable(a))return a;a=b.__assign({},a);delete a.type;return new u(a)}}}function p(a,b,c){if("object"!==typeof a)return a;b=new u;b.read(a,c);return b}var t=k.getLogger("esri.renderers.visualVariables.SizeVariable"),w=new h.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),v=new h.default({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),u=function(a){function c(b){b=a.call(this,b)||this;b.axis=null;b.legendOptions=null;b.normalizationField=null;b.scaleBy=null;b.target=null;b.type="size";b.useSymbolValue=null;b.valueExpression=null;b.valueRepresentation=null;b.valueUnit=null;return b}b.__extends(c,a);
f=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:q.viewScaleRE.test(this.valueExpression)}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"expression",{set:function(a){t.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",
a)):this._set("expression",null)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"index",{set:function(a){m.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");m.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"inputValueType",{get:function(){return m.getInputValueType(this)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"maxDataValue",{set:function(a){a&&this.stops&&(t.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"maxSize",{set:function(a){a&&this.stops&&(t.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!1,configurable:!0});c.prototype.castMaxSize=function(a){return r(a)};c.prototype.readMaxSize=function(a,b,c){return p(a,b,c)};Object.defineProperty(c.prototype,
"minDataValue",{set:function(a){a&&this.stops&&(t.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"minSize",{set:function(a){a&&this.stops&&(t.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!1,configurable:!0});c.prototype.castMinSize=function(a){return r(a)};c.prototype.readMinSize=function(a,b,c){return p(a,b,c)};Object.defineProperty(c.prototype,
"arcadeRequired",{get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&
(t.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),a=null);this._set("stops",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"transformationType",{get:function(){return m.getTransformationType(this,this.inputValueType)},enumerable:!1,configurable:!0});c.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};c.prototype.writeValueExpressionWebScene=function(a,b,c,d){"$view.scale"===a?d&&d.messages&&(a=
this.index,d.messages.push(new l("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:d}))):b[c]=a};c.prototype.readValueUnit=function(a){return a?v.read(a):null};c.prototype.clone=function(){return new f({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:m.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:m.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};
c.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=this.stops,b=a.map(function(a){return a.size}).reverse(),c=a.length,d=0;d<c;d++)a[d].size=b[d];return this};c.prototype.getAttributeHash=function(){return a.prototype.getAttributeHash.call(this)+"-"+this.target+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||
0})};var f;b.__decorate([e.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);b.__decorate([e.property({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},read:w.read,write:w.write}})],c.prototype,"axis",void 0);b.__decorate([e.property({type:String,value:null,json:{read:!1}})],c.prototype,"expression",null);b.__decorate([e.property()],c.prototype,"index",null);b.__decorate([e.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],
c.prototype,"inputValueType",null);b.__decorate([e.property({type:d,json:{write:!0}})],c.prototype,"legendOptions",void 0);b.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"maxDataValue",null);b.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"maxSize",null);b.__decorate([e.cast("maxSize")],c.prototype,"castMaxSize",null);b.__decorate([e.reader("maxSize")],c.prototype,"readMaxSize",null);b.__decorate([e.property({type:Number,value:null,
json:{write:!0}})],c.prototype,"minDataValue",null);b.__decorate([e.property({type:Number,value:null,json:{write:!0}})],c.prototype,"minSize",null);b.__decorate([e.cast("minSize")],c.prototype,"castMinSize",null);b.__decorate([e.reader("minSize")],c.prototype,"readMinSize",null);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);b.__decorate([e.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],c.prototype,
"arcadeRequired",null);b.__decorate([e.property({type:String})],c.prototype,"scaleBy",void 0);b.__decorate([e.property({type:[g],value:null,json:{write:!0}})],c.prototype,"stops",null);b.__decorate([e.property({type:["outline"],json:{write:!0}})],c.prototype,"target",void 0);b.__decorate([e.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],c.prototype,"transformationType",null);b.__decorate([e.property({type:["size"],
json:{type:["sizeInfo"]}})],c.prototype,"type",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],c.prototype,"useSymbolValue",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);b.__decorate([e.reader("valueExpression",["valueExpression","expression"])],c.prototype,"readValueExpression",null);b.__decorate([e.writer("web-scene","valueExpression")],c.prototype,"writeValueExpressionWebScene",null);b.__decorate([e.property({type:["radius",
"diameter","area","width","distance"],json:{write:!0}})],c.prototype,"valueRepresentation",void 0);b.__decorate([e.property({type:v.apiValues,json:{write:v.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],c.prototype,"valueUnit",void 0);b.__decorate([e.reader("valueUnit")],c.prototype,"readValueUnit",null);return c=f=b.__decorate([e.subclass("esri.renderers.visualVariables.SizeVariable")],c)}(n);return u})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.label=null;b.size=null;b.value=null;return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({label:this.label,size:this.size,value:this.value})};var f;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"value",
void 0);return c=f=b.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeStop")],c)}(l.JSONSupport)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./VisualVariableLegendOptions"],function(c,a,b,l,h){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.customValues=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({title:this.title,
showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var e;b.__decorate([l.property({type:[Number],json:{write:!0}})],c.prototype,"customValues",void 0);return c=e=b.__decorate([l.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],c)}(h)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(c,a){function b(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?
"field":"unknown"}Object.defineProperty(a,"__esModule",{value:!0});a.getTransformationType=a.getInputValueType=a.isValidNumber=a.isSizeVariable=void 0;a.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};a.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};a.getInputValueType=b;a.getTransformationType=function(a,c){return"unknown"===(c||b(a))?"constant":a.stops?"stops":null!=a.minSize&&null!=a.maxSize&&null!=a.minDataValue&&null!=a.maxDataValue?
"clamped-linear":"unknown"===(a.valueUnit||"unknown")?null!=a.minSize&&null!=a.minDataValue?a.minSize&&a.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("require exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/utils ./sizeVariableUtils".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a,c,d){if(a="visualVariables"in a&&a.visualVariables?
a.visualVariables.filter(function(a){return"color"===a.type})[0]:a)if("esri.renderers.visualVariables.ColorVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var e="number"===typeof c,g=e?null:c,m=g&&g.attributes,n=e?c:null,k=a.field,h=a.cache;c=h.ipData;var l=h.hasExpression,h=a.cache.compiledFunc;if(!k&&!l)return(d=a.stops)&&d[0]&&d[0].color;if("number"!==typeof n)if(l){if(!f.isSome(d)||!f.isSome(d.arcade)){u.error("Use of arcade expressions requires an arcade context");
return}n=d.arcade.arcadeUtils;k=n.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:d.spatialReference});g=n.createExecContext(g,k);h||(h=n.createSyntaxTree(a.valueExpression),h=n.createFunction(h),a.cache.compiledFunc=h);n=n.executeFunction(h,g)}else m&&(n=m[k]);g=a.normalizationField;m=m?parseFloat(m[g]):void 0;if(null!=n&&(!g||e||!isNaN(m)&&0!==m)&&(isNaN(m)||e||(n/=m),e=v(n,c)))return m=e[0],c=e[1],d=m===c?a.stops[m].color:b.blendColors(a.stops[m].color,a.stops[c].color,e[2],
f.isSome(d)?d.color:void 0),new b(d)}}function d(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"opacity"===a.type})[0]:a)if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var d="number"===typeof b,e=d?null:b,g=e&&e.attributes,m=d?b:null,n=a.field,k=a.cache;b=k.ipData;var h=k.hasExpression,k=a.cache.compiledFunc;if(!n&&!h)return(a=
a.stops)&&a[0]&&a[0].opacity;if("number"!==typeof m)if(h){if(f.isNone(c)||f.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}m=c.arcade.arcadeUtils;c=m.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=m.createExecContext(e,c);k||(e=m.createSyntaxTree(a.valueExpression),k=m.createFunction(e),a.cache.compiledFunc=k);m=m.executeFunction(k,c)}else g&&(m=g[n]);c=a.normalizationField;g=g?parseFloat(g[c]):void 0;if(null!=
m&&(!c||d||!isNaN(g)&&0!==g)&&(isNaN(g)||d||(m/=g),d=v(m,b))){b=d[0];g=d[1];if(b===g)return a.stops[b].opacity;b=a.stops[b].opacity;return b+(a.stops[g].opacity-b)*d[2]}}}function m(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"rotation"===a.type})[0]:a)if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");else{var d=a.axis||"heading",
e="heading"===d&&"arithmetic"===a.rotationType?90:0,d="heading"===d&&"arithmetic"===a.rotationType?-1:1,g="number"===typeof b?null:b,m=g&&g.attributes,n=a.field,k=a.cache.hasExpression;b=a.cache.compiledFunc;var h=0;if(!n&&!k)return h;if(k){if(f.isNone(c)||f.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}m=c.arcade.arcadeUtils;c=m.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=m.createExecContext(g,c);b||(b=m.createSyntaxTree(a.valueExpression),
b=m.createFunction(b),a.cache.compiledFunc=b);h=m.executeFunction(b,c)}else m&&(h=m[n]||0);return h="number"!==typeof h||isNaN(h)?null:e+d*h}}function q(a,b,c){var d="number"===typeof b,e=d?null:b,g=e&&e.attributes,m=d?b:null;b=a.cache.compiledFunc;if(a.cache.isScaleDriven)e=f.isSome(c)?c.scale:void 0,c=f.isSome(c)?c.view:void 0,null==e||c&&"3d"===c.type?(e=c=null,(e=a.stops)?(c=e[0].value,e=e[e.length-1].value):(c=a.minDataValue||0,e=a.maxDataValue||0),c=(c+e)/2):c=e,m=c;else if(!d)switch(a.inputValueType){case "expression":if(f.isNone(c)||
f.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}m=c.arcade.arcadeUtils;c=m.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=m.createExecContext(e,c);b||(e=m.createSyntaxTree(a.valueExpression),b=m.createFunction(e),a.cache.compiledFunc=b);m=m.executeFunction(b,c);break;case "field":g&&(m=g[a.field]);break;case "unknown":m=null}if(!n.isValidNumber(m))return null;if(d||!a.normalizationField)return m;a=g?parseFloat(g[a.normalizationField]):
null;return n.isValidNumber(a)&&0!==a?m/a:null}function r(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"size"===a.type})[0]:a)if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var d=q(a,b,c);b=w(d,a,b,c,a.cache.ipData);return null===b||void 0===b||isNaN(b)?0:b}}function p(a,b,c){return null==a?null:n.isSizeVariable(a)?r(a,b,c):n.isValidNumber(a)?
a:null}function t(a,b,c){return n.isValidNumber(c)&&a>c?c:n.isValidNumber(b)&&a<b?b:a}function w(a,b,c,d,g){switch(b.transformationType){case "additive":return d=p(b.minSize,c,d),a+(d||b.minDataValue);case "constant":return a=(a=b.stops)&&a.length&&a[0].size,null==a&&(a=b.minSize),p(a,c,d);case "clamped-linear":g=(a-b.minDataValue)/(b.maxDataValue-b.minDataValue);var m=p(b.minSize,c,d);c=p(b.maxSize,c,d);d=f.isSome(d)?d.shape:void 0;a<=b.minDataValue?b=m:a>=b.maxDataValue?b=c:"area"===b.scaleBy&&
d?(d=(b="circle"===d)?y*Math.pow(m/2,2):m*m,d+=g*((b?y*Math.pow(c/2,2):c*c)-d),b=b?2*Math.sqrt(d/y):Math.sqrt(d)):b=m+g*(c-m);return b;case "proportional":return g=f.isSome(d)?d.shape:void 0,a/=b.minDataValue,m=p(b.minSize,c,d),b=p(b.maxSize,c,d),d=null,d="circle"===g?2*Math.sqrt(a*Math.pow(m/2,2)):"square"===g||"diamond"===g||"image"===g?Math.sqrt(a*Math.pow(m,2)):a*m,t(d,m,b);case "stops":return g=v(a,g),m=g[0],a=g[1],g=g[2],m===a?b=p(b.stops[m].size,c,d):(m=p(b.stops[m].size,c,d),b=p(b.stops[a].size,
c,d),b=m+(b-m)*g),b;case "real-world-size":return g=(f.isSome(d)&&d.resolution?d.resolution:1)*e.meterIn[b.valueUnit],m=p(b.minSize,c,d),d=p(b.maxSize,c,d),b=b.valueRepresentation,c=null,c="area"===b?2*Math.sqrt(a/y)/g:"radius"===b||"distance"===b?2*a/g:a/g,t(c,m,d);case "identity":return a;case "unknown":return null}}function v(a,b){if(b){var c=0,d=b.length-1;b.some(function(b,e){if(a<b)return d=e,!0;c=e;return!1});return[c,d,(a-b[c])/(b[d]-b[c])]}}Object.defineProperty(a,"__esModule",{value:!0});
a.getAllSizes=a.getVisualVariableValues=a.getSizeRangeAtScale=a.getSizeForValue=a.getSizeFromNumberOrVariable=a.getSize=a.getRotationAngle=a.getOpacity=a.getColor=a.viewScaleRE=void 0;var u=k.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),x=new l,y=Math.PI;a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;a.getColor=g;a.getOpacity=d;a.getRotationAngle=m;a.getSize=r;a.getSizeFromNumberOrVariable=p;a.getSizeForValue=w;a.getSizeRangeAtScale=function(a,b,c){var d=c&&"3d"===
c.type;if(!(a.cache.isScaleDriven&&d||b))return null;c={scale:b,view:c};b=p(a.minSize,x,c);a=p(a.maxSize,x,c);if(null!=b||null!=a)return b>a&&(c=a,a=b,b=c),{minSize:b,maxSize:a}};a.getVisualVariableValues=function(a,b,c){if(a.visualVariables){var e=[],f=[],n=[],k=[],h=[],l=0;for(a=a.visualVariables;l<a.length;l++){var p=a[l];switch(p.type){case "color":f.push(p);break;case "opacity":n.push(p);break;case "rotation":h.push(p);break;case "size":k.push(p)}}f.forEach(function(a){var d=g(a,b,c);e.push({variable:a,
value:d})});n.forEach(function(a){var g=d(a,b,c);e.push({variable:a,value:g})});h.forEach(function(a){var d=m(a,b,c);e.push({variable:a,value:d})});k.forEach(function(a){var d=r(a,b,c);e.push({variable:a,value:d})});return e.filter(function(a){return null!=a.value})}};a.getAllSizes=function(a,b,c){for(var d=["proportional","proportional","proportional"],e=0;e<a.length;e++){var g=a[e],f=g.useSymbolValue?"symbol-value":r(g,b,c);switch(g.axis){case "width":d[0]=f;break;case "depth":d[1]=f;break;case "height":d[2]=
f;break;case "width-and-depth":d[0]=f;d[1]=f;break;case "all":case void 0:case null:d[0]=f;d[1]=f;d[2]=f;break;default:h.neverReached(g.axis)}}return d}})},"esri/Graphic":function(){define("require exports tslib ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/uid ./core/accessorSupport/decorators ./geometry/support/jsonUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m){c=function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,
b)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:g.generateUID(),configurable:!0});return b}b.__extends(c,a);f=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(c.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!1,
configurable:!0});c.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&"defaultPopupTemplate"in this.sourceLayer&&n.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};c.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};c.prototype.setAttribute=function(a,
b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};c.prototype.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};c.prototype.toJSON=function(){return{geometry:n.isSome(this.geometry)?this.geometry.toJSON():null,symbol:n.isSome(this.symbol)?
this.symbol.toJSON():null,attributes:b.__assign({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};c.prototype.clone=function(){return new f(this.cloneProperties())};c.prototype.cloneProperties=function(){return{attributes:e.clone(this.attributes),geometry:e.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:e.clone(this.symbol),visible:this.visible}};c.prototype._notifyLayer=function(a,
b,c,d){this.layer&&"graphicChanged"in this.layer&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var f;b.__decorate([d.property({value:null})],c.prototype,"attributes",null);b.__decorate([d.property({value:null,types:l.geometryTypes,json:{read:m.fromJSON}})],c.prototype,"geometry",null);b.__decorate([d.property()],c.prototype,"layer",void 0);b.__decorate([d.property({type:h})],c.prototype,"popupTemplate",void 0);b.__decorate([d.property()],
c.prototype,"sourceLayer",void 0);b.__decorate([d.property({value:null,types:k.symbolTypes})],c.prototype,"symbol",null);b.__decorate([d.property({type:Boolean,value:!0})],c.prototype,"visible",null);return c=f=b.__decorate([d.subclass("esri.Graphic")],c)}(f.JSONSupport);(c||(c={})).generateUID=g.generateUID;return c})},"esri/core/uid":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.generateUID=void 0;var b=0;a.generateUID=function(){return b++}})},
"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports tslib ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m){var q=k.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),r={color:n,size:m,opacity:g,rotation:d},p=new h.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",
sizeInfo:"size"}),t=/^\[([^\]]+)\]$/i;return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"visualVariables",{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=0,c=a;b<c.length;b++){var d=c[b];switch(d.type){case "color":this.colorVariables.push(d);break;case "opacity":this.opacityVariables.push(d);
break;case "rotation":this.rotationVariables.push(d);break;case "size":this.sizeVariables.push(d)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?0:a.target?1:-1});for(b=0;b<a.length;b++)d=a[b],d.index=b}this._set("visualVariables",a)},enumerable:!1,configurable:!0});c.prototype.readVariables=function(a,b,c){var d=b.rotationExpression;b=b.rotationType;if(d=(d=d&&d.match(t))&&d[1])a||(a=[]),a.push({type:"rotationInfo",
rotationType:b,field:d});if(a)return a.map(function(a){var b=p.read(a.type),d=r[b];d||(q.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new f("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,context:c})));b=new d;b.read(a,c);return b})};c.prototype.writeVariables=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d].toJSON(b);e&&c.push(e)}return c};c.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=
[];this.rotationVariables=[];this.sizeVariables=[]};b.__decorate([e.property()],c.prototype,"visualVariables",null);return c=b.__decorate([e.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)}(l)})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.description=
null;b.label=null;b.minValue=null;b.maxValue=0;b.symbol=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+"."+a};var e;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([k.property({types:l.symbolTypesRenderer,json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,write:f.write}},write:f.write}})],c.prototype,"symbol",void 0);
return c=e=b.__decorate([k.subclass("esri.renderers.support.ClassBreakInfo")],c)}(h.JSONSupport)})},"esri/renderers/support/commonProperties":function(){define(["require","exports","../../symbols","../../symbols/support/jsonUtils"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.rendererBackgroundFillSymbolProperty=a.rendererSymbolProperty=void 0;a.rendererSymbolProperty={types:b.symbolTypesRenderer,json:{write:{writer:l.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,
write:{writer:l.write}}}}};a.rendererBackgroundFillSymbolProperty={types:{base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:l.write},origins:{"web-scene":{type:b.PolygonSymbol3D,write:{writer:l.write}}}}}})},"esri/renderers/DictionaryRenderer":function(){define("require exports tslib ../Color ../request ../core/Error ../core/lang ../core/Logger ../core/LRUCache ../core/maybe ../core/promiseUtils ../core/SetUtils ../core/string ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ../support/arcadeOnDemand ../symbols/CIMSymbol".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){var x=e.getLogger("esri.renderers.DictionaryRenderer");return function(a){function c(b){b=a.call(this,b)||this;b._ongoingRequests=new Map;b._symbolCache=new n(100);b.config=null;b.fieldMap=null;b.scaleExpression=null;b.scaleExpressionTitle=null;b.url=null;b.type="dictionary";return b}b.__extends(c,a);e=c;c.prototype.writeData=function(a,b){a&&(b.scalingExpressionInfo={expression:a,returnType:"number"})};c.prototype.writeVisualVariables=function(b,c,
d,e){(null===e||void 0===e?0:e.origin)||a.prototype.writeVisualVariables.call(this,b,c,d,e)};c.prototype.clone=function(){return new e({config:f.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:f.clone(this.fieldMap),url:f.clone(this.url),visualVariables:f.clone(this.visualVariables)})};c.prototype.getSymbolAsync=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,f,m,n,k,h,p,t,r,u,w,v,x,y,z,E,B,A,S,P,T,Y,Z,ba,ca,aa=
this;return b.__generator(this,function(b){switch(b.label){case 0:this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(c)),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this._dictionaryPromise];case 2:return e=b.sent(),[3,4];case 3:return g=b.sent(),d.isAbortError(g)?(this._dictionaryPromise=null,[2,null]):[3,4];case 4:f={};if(this.fieldMap)for(m=0,n=this._symbolFields;m<n.length;m++)k=n[m],(h=this.fieldMap[k])&&null!==a.attributes[h]&&void 0!==a.attributes[h]?(p=""+a.attributes[h],
f[k]=p):f[k]="";t=e(f,c);if(!t||"string"!==typeof t)return[2,null];r=q.numericHash(t).toString();if(u=this._symbolCache.get(r))return u.catch(function(){aa._symbolCache.pop(r)}),[2,u];w=t.split(";");v=[];x=[];y=0;for(z=w;y<z.length;y++)if((E=z[y])&&0!==E.length)if(-1!==E.indexOf("po:"))B=E.substr(3).split("|"),3===B.length&&(A=B[0],S=B[1],P=B[2],"DashTemplate"===S?P=P.split(" ").map(function(a){return Number(a)}):"Color"===S?(T=(new l(P)).toRgba(),P=[T[0],T[1],T[2],255*T[3]]):P=Number(P),x.push({primitiveName:A,
propertyName:S,value:P}));else if(-1!==E.indexOf("|"))for(Y=0,Z=E.split("|");Y<Z.length;Y++)ba=Z[Y],this._itemNames.has(ba)&&v.push(ba);else this._itemNames.has(E)&&v.push(E);ca=this._cimPartsToCIMSymbol(v,x,c);this._symbolCache.put(r,ca,1);return[2,ca]}})})};c.prototype.collectRequiredFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.collectVVRequiredFields(a,c)];case 1:return b.sent(),this.scaleExpression?
[4,p.collectArcadeFieldNames(a,c,this.scaleExpression)]:[3,3];case 2:b.sent(),b.label=3;case 3:d=c.map(function(a){return a.name});for(e in this.fieldMap)0>d.indexOf(this.fieldMap[e])||a.add(this.fieldMap[e]);return[2]}})})};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return!0},enumerable:!1,configurable:!0});c.prototype.fetchResources=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,e,f,n,l,p,t,r,u,w,q,y,z,B,A;return b.__generator(this,function(C){switch(C.label){case 0:if(this._dictionaryPromise)return[2,
this._dictionaryPromise];if(!this.url)return x.error("no valid URL!"),[2,void 0];c=g.isSome(a)?a.abortOptions:null;e=h(this.url+"/resources/styles/dictionary-info.json",b.__assign({responseType:"json",query:{f:"json"}},c));return[4,d.all([e,v.loadArcade()])];case 1:f=C.sent()[0].data;if(!f)throw this._dictionaryPromise=null,new k("esri.renderers.DictionaryRenderer","Bad dictionary data!");n=f.expression;l=f.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+f.cimRefTemplateUrl;this._itemNames=
m.SetFromValues(f.itemsNames);this._symbolFields=l.symbol;p={};if(this.config)for(r in t=this.config,t)p[r]=t[r];u=0;for(w=l.configuration;u<w.length;u++)r=w[u],p.hasOwnProperty(r.name)||(p[r.name]=r.value);q=[];if(g.isSome(a)&&a.fields&&this.fieldMap)for(y=function(c){var d=z.fieldMap[c],e=a.fields.filter(function(a){return a.name===d});0<e.length&&q.push(b.__assign(b.__assign({},e[0]),{name:c}))},z=this,B=0,A=this._symbolFields;B<A.length;B++)r=A[B],y(r);this._dictionaryPromise=v.createDictionaryExpression(n,
g.isSome(a)?a.spatialReference:null,q,p).then(function(a){var b={scale:0};return function(c,d){c=a.repurposeFeature({geometry:null,attributes:c});b.scale=g.isSome(d)?d.scale:void 0;return a.evaluate({$feature:c,$view:b})}}).catch(function(a){x.error("Creating dictinoary expression failed:",a);return null});return[2,this._dictionaryPromise]}})})};c.prototype.getSymbol=function(){return null};c.prototype.getSymbols=function(){return[]};c.prototype.getAttributeHash=function(){return this.visualVariables&&
this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return this.url+"-"+JSON.stringify(this.fieldMap)};c.prototype.getSymbolFields=function(){return this._symbolFields};c.prototype._getSymbolPart=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e,g,f,m;return b.__generator(this,function(n){switch(n.label){case 0:if(this._ongoingRequests.has(a))return[2,this._ongoingRequests.get(a).then(function(a){return a.data})];e=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,
a);g=h(e,b.__assign({responseType:"json",query:{f:"json"}},c));this._ongoingRequests.set(a,g);n.label=1;case 1:return n.trys.push([1,3,,4]),[4,g];case 2:return f=n.sent(),[2,f.data];case 3:return m=n.sent(),this._ongoingRequests.delete(a),[2,d.reject(m)];case 4:return[2]}})})};c.prototype._combineSymbolParts=function(a,c){var d;if(!a||0===a.length)return null;if(1===a.length)return{type:"CIMSymbolReference",symbol:a[0],primitiveOverrides:c};var e=b.__assign({},a[0]);e.symbolLayers=[];for(var g=0;g<
a.length;g++){var f=a[g];(d=e.symbolLayers).unshift.apply(d,f.symbolLayers)}return{type:"CIMSymbolReference",symbol:e,primitiveOverrides:c}};c.prototype._cimPartsToCIMSymbol=function(a,c,e){return b.__awaiter(this,void 0,void 0,function(){var g,f,m;return b.__generator(this,function(b){switch(b.label){case 0:g=Array(a.length);for(f=0;f<a.length;f++)g[f]=this._getSymbolPart(a[f],e);return[4,d.all(g)];case 1:return m=b.sent(),[2,new u({data:this._combineSymbolParts(m,c)})]}})})};var e;b.__decorate([r.property({type:Object,
json:{read:{source:"configuration"},write:{target:"configuration"}}})],c.prototype,"config",void 0);b.__decorate([r.property({type:Object,json:{write:!0}})],c.prototype,"fieldMap",void 0);b.__decorate([r.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],c.prototype,"scaleExpression",void 0);b.__decorate([r.writer("scaleExpression")],c.prototype,"writeData",null);b.__decorate([r.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",
overridePolicy:function(a){return{enabled:!!a&&!!this.scaleExpression}}}}})],c.prototype,"scaleExpressionTitle",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"url",void 0);b.__decorate([r.writer("visualVariables")],c.prototype,"writeVisualVariables",null);return c=e=b.__decorate([r.subclass("esri.renderers.DictionaryRenderer")],c)}(w.VisualVariablesMixin(t))})},"esri/core/LRUCache":function(){define(["require","exports","./MemCache"],function(c,a,b){return function(){function a(a,
c){this._storage=new b.MemCacheStorage;this._storage.maxSize=a;c&&this._storage.registerRemoveFunc("",c)}a.prototype.put=function(a,b,c){this._storage.put(a,b,c,1)};a.prototype.pop=function(a){return this._storage.pop(a)};a.prototype.get=function(a){return this._storage.get(a)};a.prototype.clear=function(){this._storage.clearAll()};a.prototype.destroy=function(){this._storage.clearAll()};Object.defineProperty(a.prototype,"maxSize",{get:function(){return this._storage.maxSize},set:function(a){this._storage.maxSize=
a},enumerable:!1,configurable:!0});return a}()})},"esri/core/MemCache":function(){define(["require","exports","./MapUtils","./PooledArray","./string"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.MemCacheStorage=a.MemCache=a.MIN_PRIORITY=void 0;a.MIN_PRIORITY=-3;c=function(){function a(a,b,c){this._namespace=a;this._storage=b;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";c&&(this._storage.registerRemoveFunc(this._namespace,c),
this._removeFunc=!0)}Object.defineProperty(a.prototype,"namespace",{get:function(){return this._namespace.slice(0,-1)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hitRate",{get:function(){return this._hit/(this._hit+this._miss)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._storage.size},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"maxSize",{get:function(){return this._storage.maxSize},enumerable:!1,
configurable:!0});a.prototype.resetHitRate=function(){this._hit=this._miss=0};a.prototype.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};a.prototype.put=function(a,b,c,g){void 0===g&&(g=0);this._storage.put(this._namespace+a,b,c,g)};a.prototype.get=function(a){a=this._storage.get(this._namespace+a);void 0===a?++this._miss:++this._hit;return a};a.prototype.pop=function(a){a=this._storage.pop(this._namespace+
a);void 0===a?++this._miss:++this._hit;return a};a.prototype.updateSize=function(a,b,c){this._storage.updateSize(this._namespace+a,b,c)};a.prototype.clear=function(){this._storage.clear(this._namespace)};a.prototype.clearAll=function(){this._storage.clearAll()};a.prototype.getStats=function(){return this._storage.getStats()};a.prototype.resetStats=function(){this._storage.resetStats()};return a}();a.MemCache=c;c=function(){function c(a){void 0===a&&(a=10485760);this._maxSize=a;this._db=new Map;this._miss=
this._hit=this._size=0;this._removeFuncs=[];this._users=new l}c.prototype.register=function(a){this._users.push(a)};c.prototype.deregister=function(a){this._users.removeUnordered(a)};c.prototype.registerRemoveFunc=function(a,b){this._removeFuncs.push([a,b])};c.prototype.deregisterRemoveFunc=function(a){this._removeFuncs=this._removeFuncs.filter(function(b){return b[0]!==a})};Object.defineProperty(c.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"maxSize",{get:function(){return this._maxSize},set:function(a){this._maxSize=Math.max(a,0);this._checkSizeLimit()},enumerable:!1,configurable:!0});c.prototype.put=function(b,c,n,g){var d=this._db.get(b);d&&(this._size-=d.size,this._db.delete(b),d.entry!==c&&this._notifyRemoved(b,d.entry));n>this._maxSize?this._notifyRemoved(b,c):void 0===c?console.warn("Refusing to cache undefined entry "):!n||0>n?console.warn("Refusing to cache entry with invalid size "+n):(g=1+Math.max(g,a.MIN_PRIORITY)-a.MIN_PRIORITY,
this._db.set(b,{entry:c,size:n,lifetime:g,lives:g}),this._size+=n,this._checkSizeLimit())};c.prototype.updateSize=function(a,b,c){var e=this._db.get(a);e&&e.entry===b&&(this._size-=e.size,c>this._maxSize?this._notifyRemoved(a,b):(e.size=c,this._size+=c,this._checkSizeLimit()))};c.prototype.pop=function(a){var b=this._db.get(a);if(b)return this._size-=b.size,this._db.delete(a),++this._hit,b.entry;++this._miss};c.prototype.get=function(a){var b=this._db.get(a);if(void 0===b)++this._miss;else return this._db.delete(a),
b.lives=b.lifetime,this._db.set(a,b),++this._hit,b.entry};c.prototype.getStats=function(){var b=this,c={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},g=[];this._db.forEach(function(a,c){var d=a.lifetime;g[d]=(g[d]||0)+a.size;b._users.forEachSimple(function(b){b=b.namespace;h.startsWith(c,b)&&(n[b]=(n[b]||0)+a.size)})});var d={};this._users.forEachSimple(function(a){var b=a.namespace;
!isNaN(a.hitRate)&&0<a.hitRate?(n[b]=n[b]||0,d[b]=Math.round(100*a.hitRate)+"%"):d[b]="0%"});var m=Object.keys(n);m.forEach(function(a){return n[a]=n[a]/b._size*100});m.sort(function(a,b){return n[b]-n[a]});m.forEach(function(a){return c[a]=Math.round(n[a])+"% / "+d[a]});for(m=g.length-1;0<=m;--m){var k=g[m];k&&(c["Priority "+(m+a.MIN_PRIORITY-1)]=Math.round(k/this.size*100)+"%")}return c};c.prototype.resetStats=function(){this._hit=this._miss=0;this._users.forEachSimple(function(a){return a.resetHitRate()})};
c.prototype.clear=function(a){var b=this;this._db.forEach(function(c,e){h.startsWith(e,a)&&(b._size-=c.size,b._db.delete(e),b._notifyRemoved(e,c.entry))})};c.prototype.clearAll=function(){var a=this;this._db.forEach(function(b,c){return a._notifyRemoved(c,b.entry)});this._size=0;this._db.clear()};c.prototype._getHitRate=function(){return this._hit/(this._hit+this._miss)};c.prototype._notifyRemoved=function(a,b){this._removeFuncs.forEach(function(c){if(h.startsWith(a,c[0]))c[1](b)})};c.prototype._checkSizeLimit=
function(){var a=this;this._size<=this._maxSize||b.someMap(this._db,function(b,c){a._db.delete(c);1>=b.lives?(a._size-=b.size,a._notifyRemoved(c,b.entry)):(--b.lives,a._db.set(c,b));return a._size<=.9*a.maxSize})};return c}();a.MemCacheStorage=c})},"esri/core/MapUtils":function(){define(["require","exports","./maybe"],function(c,a,b){function l(a){if(0===a.size)throw Error("Map is empty");return a.keys().next().value}function h(a){if(0===a.size)throw Error("Map is empty");var c=void 0,e=!1;a.forEach(function(a,
b){e||(c=b,e=!0)});return b.assumeNonNull(c)}function k(a){if(0===a.size)throw Error("Map is empty");return a.values().next().value}function f(a){if(0===a.size)throw Error("Map is empty");var c=void 0,e=!1;a.forEach(function(a){e||(c=a,e=!0)});return b.assumeNonNull(c)}Object.defineProperty(a,"__esModule",{value:!0});a.test=a.firstValueOfMap=a.firstKeyOfMap=a.MapFromValues=a.keysOfMap=a.valuesOfMap=a.pairsOfMap=a.someMap=void 0;a.someMap=Map.prototype.entries?function(a,b){a=a.entries();for(var c=
a.next();!c.done;c=a.next())if(b(c.value[1],c.value[0]))return!0;return!1}:function(a,b){var c=!0;a.forEach(function(a,d){c&&(c=!b(a,d))});return!c};c=!!Map.prototype.values;var e=!!Map.prototype.keys,n=!!Array.from;a.pairsOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push([c,a])});return b};a.valuesOfMap=c&&n?function(a){return Array.from(a.values())}:function(a){var b=Array(a.size),c=0;a.forEach(function(a){return b[c++]=a});return b};a.keysOfMap=e&&n?function(a){return Array.from(a.keys())}:
function(a){var b=Array(a.size),c=0;a.forEach(function(a,d){return b[c++]=d});return b};a.MapFromValues=c?function(a){return new Map(a)}:function(a){for(var b=new Map,c=0;c<a.length;c++){var e=a[c];b.set(e[0],e[1])}return b};a.firstKeyOfMap=e?l:h;a.firstValueOfMap=c?k:f;a.test={firstKeyOfMapFallback:h,firstValueOfMapFallback:f}})},"esri/renderers/DotDensityRenderer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){return function(a){function c(b){b=a.call(this,b)||this;b.attributes=null;b.backgroundColor=new l([0,0,0,0]);b.blendDots=!0;b.dotBlendingEnabled=!0;b.dotShape="square";b.dotSize=1;b.legendOptions=null;b.outline=new q;b.dotValue=null;b.referenceDotValue=null;b.referenceScale=null;b.seed=1;b.type="dot-density";return b}b.__extends(c,a);e=c;c.prototype.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;
return 1>a?1:a};c.prototype.getSymbol=function(){return new m({outline:this.outline})};c.prototype.getSymbolAsync=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2,this.getSymbol()]})})};c.prototype.getSymbols=function(){return[this.getSymbol()]};c.prototype.getAttributeHash=function(){return this.attributes&&this.attributes.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return JSON.stringify(this.outline)};
c.prototype.clone=function(){return new e({attributes:h.clone(this.attributes),backgroundColor:h.clone(this.backgroundColor),dotBlendingEnabled:h.clone(this.dotBlendingEnabled),dotShape:h.clone(this.dotShape),dotSize:h.clone(this.dotSize),dotValue:h.clone(this.dotValue),legendOptions:h.clone(this.legendOptions),outline:h.clone(this.outline),referenceScale:h.clone(this.referenceScale),visualVariables:h.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};c.prototype.getControllerHash=
function(){var a=this.attributes.map(function(a){return a.field||a.valueExpression||""}),b=this.outline&&JSON.stringify(this.outline.toJSON())||"";return a+"-"+b};c.prototype.collectRequiredFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,e,g;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.collectVVRequiredFields(a,c)];case 1:b.sent(),d=0,e=this.attributes,b.label=2;case 2:if(!(d<e.length))return[3,6];g=e[d];return g.valueExpression?[4,f.collectArcadeFieldNames(a,
c,g.valueExpression)]:[3,4];case 3:b.sent(),b.label=4;case 4:g.field&&a.add(g.field),b.label=5;case 5:return d++,[3,2];case 6:return[2]}})})};var e;b.__decorate([k.property({type:[g],json:{write:!0}})],c.prototype,"attributes",void 0);b.__decorate([k.property({type:l,json:{write:!0}})],c.prototype,"backgroundColor",void 0);b.__decorate([k.property({type:Boolean}),k.aliasOf("dotBlendingEnabled")],c.prototype,"blendDots",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],c.prototype,
"dotBlendingEnabled",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"dotShape",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"dotSize",void 0);b.__decorate([k.property({type:d,json:{write:!0}})],c.prototype,"legendOptions",void 0);b.__decorate([k.property({type:q,json:{default:null,write:!0}})],c.prototype,"outline",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"dotValue",void 0);b.__decorate([k.property({type:Number}),
k.aliasOf("dotValue")],c.prototype,"referenceDotValue",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"referenceScale",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"seed",void 0);b.__decorate([k.enumeration({dotDensity:"dot-density"})],c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.renderers.DotDensityRenderer")],c)}(n.VisualVariablesMixin(e))})},"esri/renderers/support/AttributeColorInfo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
function(c,a,b,l,h,k,f,e){var n=k.getLogger("esri.renderers.support.AttributeColorInfo");return function(a){function c(b){b=a.call(this,b)||this;b.color=null;b.field=null;b.label=null;b.valueExpression=null;b.valueExpressionTitle=null;return b}b.__extends(c,a);g=c;c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(n.error(".field: field must be a string value"),null):e.ensureString(a)};c.prototype.getAttributeHash=function(){return this.field+"-"+this.valueExpression};c.prototype.clone=
function(){return new g({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};var g;b.__decorate([f.property({type:l,json:{type:[Number],write:!0}})],c.prototype,"color",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([f.cast("field")],c.prototype,"castField",null);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",
void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=g=b.__decorate([f.subclass("esri.renderers.support.AttributeColorInfo")],c)}(h.JSONSupport)})},"esri/renderers/support/DotDensityLegendOptions":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(){var b=
null!==a&&a.apply(this,arguments)||this;b.unit=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({unit:this.unit})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=e=b.__decorate([h.subclass("esri.renderers.support.DotDensityLegendOptions")],c)}(l.JSONSupport)})},"esri/renderers/HeatmapRenderer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./support/HeatmapColorStop".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(b){b=a.call(this,b)||this;b.blurRadius=10;b.colorStops=[new n({ratio:0,color:new l("rgba(255, 140, 0, 0)")}),new n({ratio:.75,color:new l("rgba(255, 140, 0, 1)")}),new n({ratio:.9,color:new l("rgba(255, 0,   0, 1)")})];b.field=null;b.fieldOffset=0;b.maxPixelIntensity=100;b.minPixelIntensity=0;b.type="heatmap";return b}b.__extends(c,a);e=c;c.prototype.collectRequiredFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d;
return b.__generator(this,function(b){(d=this.field)&&"string"===typeof d&&f.collectField(a,c,d);return[2]})})};c.prototype.getAttributeHash=function(){return null};c.prototype.getMeshHash=function(){return JSON.stringify(this.colorStops)+"."+this.blurRadius+"."+this.field};c.prototype.clone=function(){return new e({blurRadius:this.blurRadius,colorStops:h.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};var e;b.__decorate([k.property({type:Number,
json:{write:!0}})],c.prototype,"blurRadius",void 0);b.__decorate([k.property({type:[n],json:{write:!0}})],c.prototype,"colorStops",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:null==c}}}}})],c.prototype,"fieldOffset",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"maxPixelIntensity",void 0);b.__decorate([k.property({type:Number,
json:{write:!0}})],c.prototype,"minPixelIntensity",void 0);b.__decorate([k.enumeration({heatmap:"heatmap"})],c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.renderers.HeatmapRenderer")],c)}(e)})},"esri/renderers/support/HeatmapColorStop":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.color=null;b.ratio=null;return b}b.__extends(c,
a);f=c;c.prototype.clone=function(){return new f({color:this.color,ratio:this.ratio})};var f;b.__decorate([k.property({type:l,json:{write:!0}})],c.prototype,"color",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0);return c=f=b.__decorate([k.subclass("esri.renderers.support.HeatmapColorStop")],c)}(h.JSONSupport)})},"esri/renderers/SimpleRenderer":function(){define("require exports tslib ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.symbol=null;b.type="simple";return b}b.__extends(c,a);e=c;c.prototype.collectRequiredFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return[4,h.all([this.collectSymbolFields(a,c),this.collectVVRequiredFields(a,c)])];case 1:return b.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,c){return b.__awaiter(this,
void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return[4,h.all(this.getSymbols().map(function(b){return b.collectRequiredFields(a,c)}))];case 1:return b.sent(),[2]}})})};c.prototype.getSymbol=function(a,b){return this.symbol};c.prototype.getSymbolAsync=function(a,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2,this.symbol]})})};c.prototype.getSymbols=function(){return this.symbol?[this.symbol]:[]};c.prototype.getAttributeHash=
function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return this.getSymbols().reduce(function(a,b){return a+=JSON.stringify(b)},"")};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new e({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),
visualVariables:l.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};var e;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property(n.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([k.enumeration({simple:"simple"})],c.prototype,"type",void 0);return c=e=b.__decorate([k.subclass("esri.renderers.SimpleRenderer")],
c)}(e.VisualVariablesMixin(f))})},"esri/renderers/UniqueValueRenderer":function(){define("require exports tslib ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../support/persistableUrlUtils ../symbols/support/styleUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B,A,E){var C=n.getLogger("esri.renderers.UniqueValueRenderer"),D=p.ensureType(z);return function(a){function c(b){b=a.call(this,b)||this;b._valueInfoMap={};b._isDefaultSymbolDerived=!1;b.type="unique-value";b.backgroundFillSymbol=null;b.field=null;b.field2=null;b.field3=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;b.defaultLabel=null;b.fieldDelimiter=null;b.portal=null;b.styleOrigin=null;b.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var g=k.find(a,function(a){return a.value===b[e].value});g?r.diff(g,b[e])?(d.changed.push({type:"complete",oldValue:g,newValue:b[e]}),c=!0):d.unchanged.push({oldValue:g,newValue:b[e]}):(d.added.push(b[e]),c=!0)},g=0;g<b.length;g++)e(g);e=function(e){k.find(b,function(b){return b.value===a[e].value})||(d.removed.push(a[e]),c=!0)};for(g=0;g<
a.length;g++)e(g);return c?d:void 0}}};b._set("uniqueValueInfos",[]);return b}b.__extends(c,a);n=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!1,configurable:!0});c.prototype.castField=function(a){return null==a||"function"===typeof a?a:p.ensureString(a)};c.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new f("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):
C.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(c.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!1,configurable:!0});c.prototype.readPortal=function(a,b,c){return c.portal||w.getDefault()};c.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=A.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};c.prototype.writeStyleOrigin=
function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=A.toJSON(a.styleUrl,d))};Object.defineProperty(c.prototype,"uniqueValueInfos",{set:function(a){this.styleOrigin?C.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!1,configurable:!0});c.prototype.addUniqueValueInfo=function(a,b){this.styleOrigin?C.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(a="object"===typeof a?D(a):new z({value:a,symbol:h.ensureType(b)}),this.uniqueValueInfos.push(a),this._valueInfoMap[a.value]=a)};c.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)C.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};c.prototype.getUniqueValueInfo=
function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,e,f;return b.__generator(this,function(m){switch(m.label){case 0:d=c;if(!this.valueExpression||!g.isNone(c)&&!g.isNone(c.arcade))return[3,2];e=[b.__assign({},d)];f={};return[4,B.loadArcade()];case 1:d=b.__assign.apply(void 0,e.concat([(f.arcade=m.sent(),f)])),m.label=2;case 2:return[2,this._getUniqueValueInfo(a,d)]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(g.isNone(b)||g.isNone(b.arcade)))C.error("#getSymbol()",
"Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,b))&&a.symbol||this.defaultSymbol};c.prototype.getSymbolAsync=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,e,f,m;return b.__generator(this,function(n){switch(n.label){case 0:d=c;if(!this.valueExpression||!g.isNone(d)&&!g.isNone(d.arcade))return[3,2];e=[b.__assign({},d)];f={};return[4,B.loadArcade()];case 1:d=b.__assign.apply(void 0,e.concat([(f.arcade=n.sent(),f)])),n.label=2;case 2:return m=
this._getUniqueValueInfo(a,d),[2,m&&m.symbol||this.defaultSymbol]}})})};c.prototype.getSymbols=function(){for(var a=[],b=0,c=this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),
c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};c.prototype.clone=function(){var a=new n({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:e.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:e.clone(this.visualVariables),
legendOptions:e.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:e.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=e.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(e.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(c.prototype,"arcadeRequired",
{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!1,configurable:!0});c.prototype.collectRequiredFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return d=[this.collectVVRequiredFields(a,c),this.collectSymbolFields(a,c)],[4,m.all(d)];case 1:return b.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d;
return b.__generator(this,function(e){switch(e.label){case 0:return d=b.__spreadArrays(this.getSymbols().map(function(b){return b.collectRequiredFields(a,c)}),[t.collectArcadeFieldNames(a,c,this.valueExpression)]),t.collectField(a,c,this.field),t.collectField(a,c,this.field2),t.collectField(a,c,this.field3),[4,m.all(d)];case 1:return e.sent(),[2]}})})};c.prototype.populateFromStyle=function(){var a=this;return E.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap=
{};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var e=new l.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||d.name!==b.data.defaultItem||(a.defaultSymbol=e,a._isDefaultSymbolDerived=!0);e=new z({value:d.name,symbol:e});c.push(e);a._valueInfoMap[d.name]=e});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=
!0);return a})};c.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};c.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};c.prototype._getUnqiueValueInfoForExpression=function(a,b){var c=g.unwrapOr(b,{});b=c.viewingMode;var d=c.scale,e=c.spatialReference,f=this._cache.compiledFunc,c=g.unwrap(c.arcade).arcadeUtils;
f||(f=c.createSyntaxTree(this.valueExpression),f=c.createFunction(f),this._cache.compiledFunc=f);a=c.executeFunction(f,c.createExecContext(a,c.getViewInfo({viewingMode:b,scale:d,spatialReference:e})));return this._valueInfoMap[a+""]};c.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&this.field2){a=this.field2;d=this.field3;var e=[];b&&e.push(c[b]);a&&e.push(c[a]);d&&e.push(c[d]);d=e.join(this.fieldDelimiter||"")}else"function"===typeof b?
d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};c.fromPortalStyle=function(a,b){var c=new n(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||w.getDefault());b=c.populateFromStyle();b.catch(function(b){C.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};c.fromStyleUrl=function(a,b){b=new n(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){C.error("#fromStyleUrl('"+
a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var n;b.__decorate([q.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);b.__decorate([q.enumeration({uniqueValue:"unique-value"})],c.prototype,"type",void 0);b.__decorate([q.property(x.rendererBackgroundFillSymbolProperty)],c.prototype,"backgroundFillSymbol",void 0);b.__decorate([q.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],c.prototype,"field",void 0);
b.__decorate([q.cast("field")],c.prototype,"castField",null);b.__decorate([q.writer("field")],c.prototype,"writeField",null);b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"field2",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"field3",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);b.__decorate([q.property({type:y.default,
json:{write:!0}})],c.prototype,"legendOptions",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);b.__decorate([q.property(d.deepMerge(b.__assign({},x.rendererSymbolProperty),{json:{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],c.prototype,"defaultSymbol",null);b.__decorate([q.property({type:String,json:{write:!0}})],
c.prototype,"fieldDelimiter",void 0);b.__decorate([q.property({type:w,readOnly:!0})],c.prototype,"portal",void 0);b.__decorate([q.reader("portal",["styleName"])],c.prototype,"readPortal",null);b.__decorate([q.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],c.prototype,"styleOrigin",void 0);b.__decorate([q.reader("styleOrigin",["styleName","styleUrl"])],c.prototype,"readStyleOrigin",null);b.__decorate([q.writer("styleOrigin",{styleName:{type:String},
styleUrl:{type:String}})],c.prototype,"writeStyleOrigin",null);b.__decorate([q.property({type:[z],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],c.prototype,"uniqueValueInfos",null);return c=n=b.__decorate([q.subclass("esri.renderers.UniqueValueRenderer")],c)}(u.VisualVariablesMixin(v))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),function(c,a,b,l,h,k){function f(a){return a instanceof
l?Object.keys(a.items):a instanceof b?k.getProperties(a).keys():a?Object.keys(a):[]}function e(a,b){return a instanceof l?a.items[b]:a[b]}function n(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function g(a){return a?a.declaredClass:null}function d(a,c){var m,k=a.diff;if(k&&"function"===typeof k)return k(a,c);var l=f(a),p=f(c);if(0!==l.length||0!==p.length){if(!l.length||!p.length||n(a,c))return{type:"complete",oldValue:a,newValue:c};var t=p.filter(function(a){return-1===
l.indexOf(a)}),q=l.filter(function(a){return-1===p.indexOf(a)}),t=l.filter(function(b){return-1<p.indexOf(b)&&e(a,b)!==e(c,b)}).concat(t,q).sort();if((q=g(a))&&-1<r.indexOf(q)&&t.length)return{type:"complete",oldValue:a,newValue:c};for(var B,q=a instanceof b&&c instanceof b,A=0;A<t.length;A++){var E=t[A],C=e(a,E),D=e(c,E),F=void 0;!(q||"function"!==typeof C&&"function"!==typeof D)||C===D||null==C&&null==D||(F=k&&k[E]&&"function"===typeof k[E]?k[E](C,D):"object"===typeof C&&"object"===typeof D&&g(C)===
g(D)?d(C,D):{type:"complete",oldValue:C,newValue:D},h.isSome(F)&&(h.isSome(B)?B.diff[E]=F:B={type:"partial",diff:(m={},m[E]=F,m)}))}return B}}function m(a,b){if(h.isNone(a))return!1;b=b.split(".");var c=a;for(a=0;a<b.length;a++){var d=b[a];if("complete"===c.type)break;if("partial"===c.type){if(c=c.diff[d],!c)return!1}else return!1}return!0}function q(a){if(h.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!q(d))return!1}b=
0;for(c=a.removed;b<c.length;b++)if(d=c[b],!q(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!q(d))return!1;return!0;case "partial":for(b in a.diff)if(d=a.diff[b],!q(d))return!1;return!0}}Object.defineProperty(a,"__esModule",{value:!0});a.isEmpty=a.diff=a.hasDiffAny=a.hasDiff=void 0;var r=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.hasDiff=m;a.hasDiffAny=function(a,b){for(var c=0;c<b.length;c++)if(m(a,
b[c]))return!0;return!1};a.diff=function(a,b){if("function"!==typeof a&&"function"!==typeof b&&(a||b))return!a||!b||"object"===typeof a&&"object"===typeof b&&g(a)!==g(b)?{type:"complete",oldValue:a,newValue:b}:d(a,b)};a.isEmpty=q})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,
b)||this;b.description=null;b.label=null;b.symbol=null;b.value=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var e;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property({types:l.symbolTypesRenderer,json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,write:f.write}},write:f.write}})],c.prototype,"symbol",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"value",void 0);return c=e=b.__decorate([k.subclass("esri.renderers.support.UniqueValueInfo")],c)}(h.JSONSupport)})},"esri/symbols/support/styleUtils":function(){define("require exports tslib ../../request ../../symbols ../../core/arrayUtils ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ../../support/persistableUrlUtils ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w){function v(a,b){return C(a,b).then(function(b){return{data:b.data,baseUrl:g.removeFile(a),styleUrl:a}})}function u(a,b,c){b=b.portal||d.getDefault();var e,g=b.url+" - "+(b.user&&b.user.username)+" - "+a;D[g]||(D[g]=x(a,b,c).then(function(a){e=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:e.itemUrl,styleName:a}}));return D[g]}function x(a,b,c){return b.load(c).then(function(){var d=new m({disableExtraQuery:!0,query:"owner:"+F+" AND type:"+
I+' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var d=null,g=a.toLowerCase();if(b&&Array.isArray(b))for(var f=0;f<b.length;f++){var m=b[f];if(m.typeKeywords.some(function(a){return a.toLowerCase()===g})&&m.type===I&&m.owner===F){d=m;break}}if(!d)throw new e("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return d.load(c)})}function y(a,b,c){return a.styleUrl?v(a.styleUrl,c):a.styleName?u(a.styleName,b,c):n.reject(new e("symbolstyleutils:style-url-and-name-missing",
"Either styleUrl or styleName is required to resolve a style"))}function z(a,b,c,d,m){var l=a.data,u={portal:c.portal,url:g.urlToObject(a.baseUrl),origin:"portal-item"},l=k.find(l.items,function(a){return a.name===b});if(!l)return n.reject(new e("symbolstyleutils:symbol-name-not-found","The symbol name '"+b+"' could not be found",{symbolName:b}));var v=r.fromJSON(A(l,d),u),q=l.thumbnail&&l.thumbnail.href,x=l.thumbnail&&l.thumbnail.imageData;f.isDevEnvironment()&&(v=f.adjustStaticAGOUrl(v),q=f.adjustStaticAGOUrl(q));
var y={portal:c.portal,url:g.urlToObject(g.removeFile(v)),origin:"portal-item"};return C(v,m).then(function(e){e="cimRef"===d?B(e.data):e.data;if((e=p.fromJSON(e,y))&&h.isSymbol3D(e)){if(q){var g=r.fromJSON(q,u);e.thumbnail=new w.default({url:g})}else x&&(e.thumbnail=new w.default({url:"data:image/png;base64,"+x}));a.styleUrl?e.styleOrigin=new t({portal:c.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(e.styleOrigin=new t({portal:c.portal,styleName:a.styleName,name:b}))}return e})}function B(a){return null===
a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function A(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!q.enableWebStyleForceWOSR()){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function E(a,b,c){var d=G.replace(/\{SymbolName\}/gi,a.name);return C(d,c).then(function(a){a=B(a.data);return p.fromJSON(a,{portal:b.portal,url:g.urlToObject(g.removeFile(d)),origin:"portal-item"})})}function C(a,c){c=b.__assign({responseType:"json",
query:{f:"json"}},c);return l(g.normalize(a),c)}Object.defineProperty(a,"__esModule",{value:!0});a.styleNameFromItem=a.fetchSymbolFromStyle=a.resolveWebStyleSymbol=a.fetchStyle=void 0;var D={};a.fetchStyle=y;a.resolveWebStyleSymbol=function(a,b,c,d){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?E(a,b,d):y(a,b,d).then(function(e){return z(e,a.name,b,c,d)}):n.reject(new e("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};a.fetchSymbolFromStyle=
z;a.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var c=a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var F="esri_en",I="Style",G="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.isTelemetryDevEnvironment=a.adjustStaticAGOUrl=
a.isDevEnvironment=void 0;a.isDevEnvironment=function(a){a=a||b.location.hostname;return e.some(function(b){return null!=(null===a||void 0===a?void 0:a.match(b))})};a.adjustStaticAGOUrl=function(a,c){return a?(c=c||b.location.hostname)?null!=c.match(l)||null!=c.match(k)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=c.match(h)||null!=c.match(f)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a:a:a};a.isTelemetryDevEnvironment=function(a){a=a||b.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(e).some(function(b){return null!=
(null===a||void 0===a?void 0:a.match(b))})};var l=/^devext.arcgis.com$/,h=/^qaext.arcgis.com$/,k=/^[\w-]*\.mapsdevext.arcgis.com$/,f=/^[\w-]*\.mapsqa.arcgis.com$/,e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,h,/^jsapps.esri.com$/,k,f]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(c,a,b){function l(a,c){return!!b("enable-feature:"+a+"/"+c)}Object.defineProperty(a,"__esModule",{value:!0});a.enableWebStyleForceWOSR=a.hasEnableFeature=void 0;a.hasEnableFeature=
l;a.enableWebStyleForceWOSR=function(){return l("jschmid","force-wosr")}})},"esri/renderers/support/jsonUtils":function(){define("require exports ../../core/compilerUtils ../../core/Error ../../core/object ../../core/Warning ../../core/accessorSupport/extensions/serializableProperty/reader ./types".split(" "),function(c,a,b,l,h,k,f,e){function n(a,c){if(!c||"web-scene"!==c.origin)return!0;switch(a.type){case "simple":case "unique-value":case "class-breaks":return!0;case "heatmap":case "dictionary":case "dot-density":return!1;
default:return b.neverReached(a),!1}}function g(a,b,c){return a?a&&(a.styleName||a.styleUrl)&&"uniqueValue"!==a.type?(c&&c.messages&&c.messages.push(new k("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+a.type+"'",{definition:a,context:c})),null):d(a,b,c):null}Object.defineProperty(a,"__esModule",{value:!0});a.read=a.fromJSON=a.write=void 0;a.write=function(a,b,c,d){a?n(a,d)?a=a.write({},d):(d.messages&&d.messages.push(new l("renderer:unsupported",
"Renderer of type '"+a.declaredClass+"' are not supported in scenes.",{renderer:a,context:d})),a=null):a=null;a&&h.setDeepValue(c,a,b)};a.fromJSON=function(a,b){return g(a,null,b)};var d=f.createTypeReader({types:e.rendererTypes});a.read=g})},"esri/renderers/support/types":function(){define("require exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,
"__esModule",{value:!0});a.webSceneRendererTypes=a.rendererTypes=void 0;a.rendererTypes={key:"type",base:f,typeMap:{heatmap:k,simple:e,"unique-value":n,"class-breaks":b,"dot-density":h,dictionary:l},errorContext:"renderer"};a.webSceneRendererTypes={key:"type",base:f,typeMap:{simple:e,"unique-value":n,"class-breaks":b},errorContext:"renderer"}})},"esri/core/MultiOriginJSONSupport":function(){define("require exports tslib ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.MultiOriginJSONSupport=a.MultiOriginJSONMixin=void 0;var g=function(a){a=function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.apply(this,b)||this}b.__extends(c,a);c.prototype.clear=function(a,b){void 0===b&&(b="user");return f.getProperties(this).store.delete(a,k.nameToId(b))};c.prototype.write=function(a,b){void 0===a&&(a={});a=a||{};e.default(this,a,b);return a};c.prototype.setAtOrigin=
function(a,b,c){f.getProperties(this).setAtOrigin(a,b,k.nameToId(c))};c.prototype.removeOrigin=function(a){var b=f.getProperties(this).store;a=k.nameToId(a);for(var c=0,d=b.keys(a);c<d.length;c++){var e=d[c];b.originOf(e)===a&&b.set(e,b.get(e,a),6)}};c.prototype.updateOrigin=function(a,b){var c=f.getProperties(this).store;b=k.nameToId(b);for(var d=this.get(a),e=b+1;e<k.OriginIdNum;++e)c.delete(a,e);c.set(a,d,b)};c.prototype.toJSON=function(a){return this.write({},a)};return c=b.__decorate([n.subclass("esri.core.WriteableMultiOriginJSONSupport")],
c)}(a);a.prototype.toJSON.isDefaultToJSON=!0;return a};a.MultiOriginJSONMixin=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.apply(this,b)||this}b.__extends(c,a);return c=b.__decorate([n.subclass("esri.core.MultiOriginJSONSupport")],c)}(g(h.ReadOnlyMultiOriginJSONMixin(a)))};c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);return c=b.__decorate([n.subclass("esri.core.MultiOriginJSONSupport")],
c)}(a.MultiOriginJSONMixin(l));a.MultiOriginJSONSupport=c})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("require exports tslib ./Accessor ./maybe ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f,e,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.ReadOnlyMultiOriginJSONSupport=a.ReadOnlyMultiOriginJSONMixin=void 0;a.ReadOnlyMultiOriginJSONMixin=
function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var b=a.apply(this,b)||this,d=h.assumeNonNull(n.getProperties(b)),c=d.metadatas,e=d.store,g=new k.default;d.store=g;e.keys().forEach(function(a){g.set(a,e.get(a),0)});Object.keys(c).forEach(function(a){d.internalGet(a)&&g.set(a,d.internalGet(a),0)});return b}b.__extends(c,a);c.prototype.read=function(a,b){e.default(this,a,b)};c.prototype.getAtOrigin=function(a,b){var c=n.getProperties(this).store,
d=f.nameToId(b);if("string"===typeof a)return c.get(a,d);var e={};a.forEach(function(a){e[a]=c.get(a,d)});return e};c.prototype.originOf=function(a){return f.idToName(this.originIdOf(a))};c.prototype.originIdOf=function(a){return n.getProperties(this).store.originOf(a)};c.prototype.revert=function(a,b){var c=n.getProperties(this).store,d=f.nameToId(b),e=n.getProperties(this);("string"===typeof a?"*"===a?c.keys(d):[a]:a).forEach(function(a){e.propertyInvalidated(a);c.revert(a,d);e.propertyCommitted(a)})};
return c=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],c)}(a)};c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);return c=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],c)}(a.ReadOnlyMultiOriginJSONMixin(l));a.ReadOnlyMultiOriginJSONSupport=c})},"esri/core/accessorSupport/MultiOriginStore":function(){define("require exports ../arrayUtils ../lang ../maybe ./PropertyOrigin".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,
"__esModule",{value:!0});c=function(){function a(){this._propertyOriginMap=new Map;this._originStores=Array(k.OriginIdNum);this._values=new Map}a.prototype.clone=function(b){var c=new a,e=this._originStores[0];e&&e.forEach(function(a,b){c.set(b,l.clone(a),0)});for(var e=function(a){var e=d._originStores[a];e&&e.forEach(function(d,e){b&&b.has(e)||c.set(e,l.clone(d),a)})},d=this,f=2;f<k.OriginIdNum;f++)e(f);return c};a.prototype.get=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?
b.get(a):void 0};a.prototype.keys=function(a){return(a=null==a?this._values:this._originStores[a])?b.keysOfMap(a):[]};a.prototype.set=function(a,b,c){void 0===c&&(c=6);var d=this._originStores[c];d||(d=new Map,this._originStores[c]=d);d.set(a,b);return!this._values.has(a)||h.assumeNonNull(this._propertyOriginMap.get(a))<=c?(d=this._values.get(a),this._values.set(a,b),this._propertyOriginMap.set(a,c),d!==b):!1};a.prototype.delete=function(a,b){void 0===b&&(b=6);var c=this._originStores[b];if(c){var d=
c.get(a);c.delete(a);if(this._values.has(a)&&this._propertyOriginMap.get(a)===b)for(this._values.delete(a),--b;0<=b;b--)if((c=this._originStores[b])&&c.has(a)){this._values.set(a,c.get(a));this._propertyOriginMap.set(a,b);break}return d}};a.prototype.has=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?b.has(a):!1};a.prototype.revert=function(a,b){for(;0<b&&!this.has(a,b);)--b;var c=this._originStores[b],c=c&&c.get(a),d=this._values.get(a);this._values.set(a,c);this._propertyOriginMap.set(a,
b);return d!==c};a.prototype.originOf=function(a){return this._propertyOriginMap.get(a)||0};a.prototype.forEach=function(a){this._values.forEach(a)};return a}();a.default=c})},"esri/form/FormTemplate":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/decorators/reader ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),function(c,a,b,l,h,k,f,e,n,g){var d=g.buildTypeMaps(n);return function(a){function c(b){b=
a.call(this,b)||this;b.description=null;b.elements=null;b.expressionInfos=null;b.title=null;return b}b.__extends(c,a);m=c;c.prototype.castElements=function(a){return g.ensureType(a,d)};c.prototype.readElements=function(a,b){return g.fromJSON(b.formElements,d)};c.prototype.writeElements=function(a,b){b.formElements=g.toJSON(a,d)};c.prototype.clone=function(){return new m({description:this.description,expressionInfos:h.clone(this.expressionInfos),elements:h.clone(this.elements),title:this.title})};
var m;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([k.cast("elements")],c.prototype,"castElements",null);b.__decorate([f.reader("elements",["formElements"])],c.prototype,"readElements",null);b.__decorate([k.writer("elements")],c.prototype,"writeElements",null);b.__decorate([k.property({type:[e],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"title",void 0);return c=m=b.__decorate([k.subclass("esri.form.FormTemplate")],c)}(l.JSONSupport)})},"esri/form/ExpressionInfo":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.expression=null;b.name=null;b.returnType="boolean";b.title=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({name:this.name,title:this.title,
expression:this.expression,returnType:this.returnType})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:["boolean"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=e=b.__decorate([h.subclass("esri.form.ExpressionInfo")],c)}(l.JSONSupport)})},
"esri/form/elements/GroupElement":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),function(c,a,b,l,h,k,f,e,n){c=function(a){function c(b){b=a.call(this,b)||this;b.elements=null;b.initialState="expanded";b.type="group";return b}b.__extends(c,a);d=c;c.prototype.castElements=function(a){return n.ensureType(a,g,!1)};c.prototype.readElements=
function(a,b){return n.fromJSON(b.formElements,g,!1)};c.prototype.writeElements=function(a,b){b.formElements=n.toJSON(a,g,!1)};c.prototype.clone=function(){return new d({description:this.description,elements:l.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})};var d;b.__decorate([h.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([k.cast("elements")],c.prototype,"castElements",null);b.__decorate([h.reader("elements",
["formElements"])],c.prototype,"readElements",null);b.__decorate([f.writer("elements")],c.prototype,"writeElements",null);b.__decorate([h.property({type:["collapsed","expanded"],json:{default:"expanded",write:!0}})],c.prototype,"initialState",void 0);b.__decorate([h.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=d=b.__decorate([h.subclass("esri.form.elements.GroupElement")],c)}(e.Element);var g=n.buildTypeMaps(c);return c})},"esri/form/elements/Element":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.Element=a.ElementMixin=void 0;a.ElementMixin=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.description=null;b.label=null;b.visibilityExpression=null;return b}b.__extends(c,a);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([h.property({type:String,
json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([k.subclass("esri.form.elements.ElementMixin")],c)}(a)};c=function(a){function c(b){b=a.call(this,b)||this;b.type=null;return b}b.__extends(c,a);b.__decorate([h.property()],c.prototype,"type",void 0);return c=b.__decorate([k.subclass("esri.form.elements.Element")],c)}(a.ElementMixin(l.JSONSupport));a.Element=c})},"esri/form/support/elements":function(){define("require exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),
function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.ensureType=a.toJSON=a.fromJSON=a.buildTypeMaps=void 0;a.buildTypeMaps=function(a){return{typesWithGroup:{base:h.Element,key:"type",typeMap:{attachment:l,field:k,group:a,relationship:f}},typesWithoutGroup:{base:h.Element,key:"type",typeMap:{attachment:l,field:k,relationship:f}}}};a.fromJSON=function(a,b,c){void 0===c&&(c=!0);if(!a)return null;var d=c?b.typesWithGroup.typeMap:b.typesWithoutGroup.typeMap;return a.filter(function(a){return d[a.type]}).map(function(a){return d[a.type].fromJSON(a)})};
a.toJSON=function(a,b,c){void 0===c&&(c=!0);if(!a)return null;var d=c?b.typesWithGroup.typeMap:b.typesWithoutGroup.typeMap;return a.filter(function(a){return d[a.type]}).map(function(a){return a.toJSON()})};a.ensureType=function(a,c,g){void 0===g&&(g=!0);return a?a.map(function(a){return b.ensureOneOfType(g?c.typesWithGroup:c.typesWithoutGroup,a)}):null}})},"esri/form/elements/AttachmentElement":function(){define("require exports tslib ../../core/accessorSupport/decorators ./Element ./inputs/AttachmentInput".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.attachmentKeyword=null;b.editable=!0;b.input=null;b.type="attachment";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};var f;b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"attachmentKeyword",void 0);
b.__decorate([l.property({type:Boolean,json:{default:!0,write:!0}})],c.prototype,"editable",void 0);b.__decorate([l.property({type:k,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);b.__decorate([l.property({type:["attachment"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.form.elements.AttachmentElement")],c)}(h.Element)})},"esri/form/elements/inputs/AttachmentInput":function(){define(["require","exports",
"tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({type:this.type})};var e;b.__decorate([h.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.form.elements.inputs.AttachmentInput")],c)}(l.JSONSupport)})},
"esri/form/elements/FieldElement":function(){define("require exports tslib ../../core/accessorSupport/decorators ./Element ./support/inputs ../../layers/support/domains".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.domain=null;b.editable=!0;b.fieldName=null;b.hint=null;b.input=null;b.requiredExpression=null;b.type="field";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({description:this.description,domain:this.domain,editable:this.editable,
fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})};var e;b.__decorate([l.property({types:f.types,json:{read:{reader:f.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([l.property({type:Boolean,json:{default:!0,write:!0}})],c.prototype,"editable",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);b.__decorate([l.property({type:String,
json:{write:!0}})],c.prototype,"hint",void 0);b.__decorate([l.property({types:k.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"requiredExpression",void 0);b.__decorate([l.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.form.elements.FieldElement")],c)}(h.Element)})},"esri/form/elements/support/inputs":function(){define("require exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.types=void 0;a.types={base:k,key:"type",typeMap:{"barcode-scanner":b,"combo-box":l,"datetime-picker":h,"radio-buttons":f,"text-area":e,"text-box":n}}})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./Input"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="barcode-scanner";return b}b.__extends(c,
a);e=c;c.prototype.clone=function(){return new e};var e;b.__decorate([l.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.form.elements.inputs.BarcodeScannerInput")],c)}(h)})},"esri/form/elements/inputs/Input":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type=null;return b}
b.__extends(c,a);b.__decorate([h.property()],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.form.elements.inputs.Input")],c)}(l.JSONSupport)})},"esri/form/elements/inputs/ComboBoxInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./Input"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="combo-box";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e};var e;b.__decorate([l.property({type:["combo-box"],
json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.form.elements.inputs.ComboBoxInput")],c)}(h)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./Input"],function(c,a,b,l,h){function k(a){return null!=a?new Date(a):null}return function(a){function c(b){b=a.call(this,b)||this;b.includeTime=!1;b.max=null;b.min=null;b.type="datetime-picker";return b}b.__extends(c,
a);f=c;c.prototype.readMax=function(a,b){return k(b.max)};c.prototype.writeMax=function(a,b){b.max=a?a.getTime():null};c.prototype.readMin=function(a,b){return k(b.min)};c.prototype.writeMin=function(a,b){b.min=a?a.getTime():null};c.prototype.clone=function(){return new f({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})};var f;b.__decorate([l.property({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"includeTime",void 0);b.__decorate([l.property({type:Date,json:{type:Number,
write:!0}})],c.prototype,"max",void 0);b.__decorate([l.reader("max")],c.prototype,"readMax",null);b.__decorate([l.writer("max")],c.prototype,"writeMax",null);b.__decorate([l.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"min",void 0);b.__decorate([l.reader("min")],c.prototype,"readMin",null);b.__decorate([l.writer("min")],c.prototype,"writeMin",null);b.__decorate([l.property({type:["datetime-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=b.__decorate([l.subclass("esri.form.elements.inputs.DateTimePickerInput")],
c)}(h)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./Input"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="radio-buttons";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e};var e;b.__decorate([l.property({type:["radio-buttons"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.form.elements.inputs.RadioButtonsInput")],
c)}(h)})},"esri/form/elements/inputs/TextAreaInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./TextInput"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="text-area";return b}b.__extends(c,a);b.__decorate([l.property({type:["text-area"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([l.subclass("esri.form.elements.inputs.TextAreaInput")],c)}(h)})},"esri/form/elements/inputs/TextInput":function(){define(["require",
"exports","tslib","../../../core/accessorSupport/decorators","./Input"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.maxLength=null;b.minLength=0;b.type=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({maxLength:this.maxLength,minLength:this.minLength,type:this.type})};var e;b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"maxLength",void 0);b.__decorate([l.property({type:Number,json:{default:0,write:!0}})],c.prototype,
"minLength",void 0);b.__decorate([l.property()],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.form.elements.inputs.support.TextInput")],c)}(h)})},"esri/form/elements/inputs/TextBoxInput":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./TextInput"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="text-box";return b}b.__extends(c,a);b.__decorate([l.property({type:["text-box"],json:{read:!1,write:!0}})],
c.prototype,"type",void 0);return c=b.__decorate([l.subclass("esri.form.elements.inputs.TextBoxInput")],c)}(h)})},"esri/form/elements/RelationshipElement":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(b){b=a.call(this,b)||this;b.displayCount=null;b.displayType="list";b.editable=!0;b.orderByFields=null;b.relationshipId=null;b.type=
"relationship";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:l.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};var e;b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"displayCount",void 0);b.__decorate([h.property({type:["list"],json:{write:!0}})],
c.prototype,"displayType",void 0);b.__decorate([h.property({type:Boolean,json:{default:!0,write:!0}})],c.prototype,"editable",void 0);b.__decorate([h.property({type:[f],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([h.property({type:["relationship"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=b.__decorate([h.subclass("esri.form.elements.RelationshipElement")],c)}(k.Element)})},
"esri/geometry/HeightModelInfo":function(){define("require exports tslib ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a,b){return new e("height-unit:unsupported","Height unit of value '"+a+"' is not supported",b)}function d(a,b){return new e("height-model:unsupported","Height model of value '"+a+"' is not supported",b)}var m=h.strict()({orthometric:"gravity-related-height",
gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),q=m.jsonValues.slice();l.removeUnordered(q,"orthometric");var r=h.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet",
"sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});return function(a){function c(b){b=a.call(this,b)||this;b.heightModel="gravity-related-height";b.heightUnit="meters";b.vertCRS=null;return b}b.__extends(c,a);e=c;c.prototype.writeHeightModel=function(a,b,c){return m.write(a,b,c)};c.prototype.readHeightModel=function(a,b,c){if(b=m.read(a))return b;c&&c.messages&&c.messages.push(d(a,{context:c}));return null};c.prototype.readHeightUnit=
function(a,b,c){if(b=r.read(a))return b;c&&c.messages&&c.messages.push(g(a,{context:c}));return null};c.prototype.readHeightUnitService=function(a,b,c){if(b=f.unitFromRESTJSON(a)||r.read(a))return b;c&&c.messages&&c.messages.push(g(a,{context:c}));return null};c.prototype.readVertCRS=function(a,b){return b.vertCRS||b.ellipsoid||b.geoid};c.prototype.clone=function(){return new e({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};c.prototype.equals=function(a){return a?
this===a?!0:this.heightModel===a.heightModel&&this.heightUnit===a.heightUnit&&this.vertCRS===a.vertCRS:!1};c.deriveUnitFromSR=function(a,b){b=f.getVerticalUnitStringForSR(b);return new e({heightModel:a.heightModel,heightUnit:b,vertCRS:a.vertCRS})};c.prototype.write=function(c,d){d=b.__assign({origin:"web-scene"},d);return a.prototype.write.call(this,c,d)};c.fromJSON=function(a){if(!a)return null;var b=new e;b.read(a,{origin:"web-scene"});return b};var e;b.__decorate([n.property({type:m.apiValues,
constructOnly:!0,json:{origins:{"web-scene":{type:q,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([n.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",null);b.__decorate([n.reader(["web-scene","service"],"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([n.property({type:r.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:r.jsonValues,write:r.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([n.reader("web-scene","heightUnit")],
c.prototype,"readHeightUnit",null);b.__decorate([n.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([n.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"vertCRS",void 0);b.__decorate([n.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=e=b.__decorate([n.subclass("esri.geometry.HeightModelInfo")],c)}(k.JSONSupport)})},"esri/layers/graphics/sources/MemorySource":function(){define("require exports tslib ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/promiseUtils ../../../core/workers ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../tasks/operations/queryZScale ../../../tasks/operations/zscale ../../../tasks/support/FeatureSet".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){Object.defineProperty(a,"__esModule",{value:!0});a.MemorySource=void 0;var x=0,y=g.getLogger("esri.layers.graphics.sources.MemorySource");c=function(a){function c(b){b=a.call(this,b)||this;b._idToClientGraphic=null;b.type="memory";return b}b.__extends(c,a);c.prototype.load=function(a){a=d.isSome(a)?a.signal:null;this.addResolvingPromise(this._startWorker(a));return q.resolve(this)};c.prototype.destroy=function(){var a;null===(a=this._connection)||void 0===
a?void 0:a.close();this._connection=null};Object.defineProperty(c.prototype,"workerGeometryType",{get:function(){var a=this.layer&&this.layer.geometryType;return a?this._geometryTypeRequiresClientGraphicMapping(a)?"polygon":a:null},enumerable:!1,configurable:!0});c.prototype.applyEdits=function(a){var b=this;return this.load().then(function(){return b._applyEdits(a)})};c.prototype.openPorts=function(){var a=this;return this.load().then(function(){return a._connection.openPorts()})};c.prototype.queryFeatures=
function(a,c){void 0===c&&(c={});return b.__awaiter(this,void 0,void 0,function(){var d,e,g,f,m,n,h,k;return b.__generator(this,function(b){switch(b.label){case 0:return[4,this.load(c)];case 1:return b.sent(),[4,this._connection.invoke("queryFeatures",a?a.toJSON():null,c)];case 2:d=b.sent();w.applyFeatureSetZUnitScaling(a,this.layer.spatialReference,d);e=u.fromJSON(d);if(!this._requiresClientGraphicMapping())return[2,e];g=this.layer.objectIdField;f=0;for(m=e.features;f<m.length;f++)if(n=m[f],h=n.attributes[g],
k=this._idToClientGraphic.get(h))n.geometry=k.geometry;e.geometryType=this.layer.geometryType;return[2,e]}})})};c.prototype.queryFeaturesJSON=function(a,c){void 0===c&&(c={});return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return this._requiresClientGraphicMapping()?[2,q.reject(new f("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)"))]:[4,this.load(c)];case 1:return b.sent(),
[4,this._connection.invoke("queryFeatures",a?a.toJSON():null,c)];case 2:return d=b.sent(),w.applyFeatureSetZUnitScaling(a,this.layer.spatialReference,d),[2,d]}})})};c.prototype.queryFeatureCount=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryFeatureCount",a?a.toJSON():null,b)})};c.prototype.queryObjectIds=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryObjectIds",a?
a.toJSON():null,b)})};c.prototype.queryExtent=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryExtent",a?a.toJSON():null,b)}).then(function(a){return{count:a.count,extent:l.Extent.fromJSON(a.extent)}})};c.prototype._applyEdits=function(a){var b=this;if(!this._connection)throw new f("feature-layer-source:edit-failure","Memory source not loaded");var c=this.layer.objectIdField,d=null,e=[],g=[],m=function(a){return"objectId"in a&&null!=
a.objectId?a.objectId:"attributes"in a&&null!=a.attributes[c]?a.attributes[c]:null};a.addFeatures&&(d=this._prepareAddFeatures(a.addFeatures));if(a.deleteFeatures)for(var n=0,h=a.deleteFeatures;n<h.length;n++){var k=h[n],l=m(k);null!=l&&e.push(l)}var u=a.updateFeatures&&this._idToClientGraphic?new Map:null;if(a.updateFeatures)for(n=0,a=a.updateFeatures;n<a.length;n++)k=a[n],g.push(this._serializeFeature(k)),u&&(l=m(k),null!=l&&u.set(l,k));v.unapplyEditsZUnitScaling(d?d.features:null,g,this.layer.spatialReference);
return this._connection.invoke("applyEdits",{adds:d?d.features:[],updates:g,deletes:e}).then(function(a){var c=a.featureEditResults;b.fullExtent=a.fullExtent;d&&d.finish(c.uidToObjectId);if(b._idToClientGraphic){if(u){a=0;for(var e=c.updateResults;a<e.length;a++){var g=e[a];g.success&&(g=u.get(g.objectId),null!=g&&b._addIdToClientGraphic(g))}}a=0;for(e=c.deleteResults;a<e.length;a++)g=e[a],g.success&&b._idToClientGraphic.delete(g.objectId)}return b._createEditsResult(c)})};c.prototype._createEditsResult=
function(a){return{addFeatureResults:a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:a.updateResults?a.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:a.deleteResults?a.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};c.prototype._createFeatureEditResult=function(a){var b=!0===a.success?null:a.error||{code:void 0,description:void 0};return{objectId:a.objectId,
globalId:a.globalId,error:b?new f("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};c.prototype._prepareAddFeatures=function(a){for(var b=new Map,c=Array(a.length),e=null,g=0;g<a.length;g++){var f=a[g],m=this._serializeFeature(f);!e&&d.isSome(f.geometry)&&(e=f.geometry.type);c[g]=m;b.set(""+m.uid,f)}var n=this;return{features:c,inferredGeometryType:e,finish:function(a){var c=n.sourceJSON.objectIdField,d;for(d in a){var e=a[d],g=b.get(d);g&&(g.attributes||(g.attributes={}),-1===
e?delete g.attributes[c]:g.attributes[c]=e,n._addIdToClientGraphic(g))}}}};c.prototype._addIdToClientGraphic=function(a){if(this._idToClientGraphic){var b=this.sourceJSON.objectIdField,b=a.attributes&&a.attributes[b];null!=b&&this._idToClientGraphic.set(b,a)}};c.prototype._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layer.geometryType||this.sourceJSON.geometryType)};c.prototype._geometryRequiresClientGraphicMapping=function(a){return this._geometryTypeRequiresClientGraphicMapping(a.type)};
c.prototype._geometryTypeRequiresClientGraphicMapping=function(a){return"mesh"===a||"multipatch"===a||"extent"===a};c.prototype._serializeFeature=function(a){var b=a.attributes;a=this._geometryForSerialization(a);var c=(x++).toString();return a?{uid:c,geometry:a.toJSON(),attributes:b}:{uid:c,attributes:b}};c.prototype._geometryForSerialization=function(a){a=a.geometry;return d.isNone(a)?null:this._geometryRequiresClientGraphicMapping(a)?a.extent?l.Polygon.fromExtent(a.extent):null:a};c.prototype._startWorker=
function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,g,f,m,n,h,k,u,p,t,w,v,q,x,z;return b.__generator(this,function(b){switch(b.label){case 0:return c=this,[4,r.open("MemorySourceWorker",{strategy:e("feature-layers-workers")?"dedicated":"local",signal:a})];case 1:return c._connection=b.sent(),d=this.layer,g=d.fields,f=d.spatialReference,m=d.objectIdField,n=d.hasM,h=d.hasZ,k=d.timeInfo,u="defaults"===this.layer.originOf("spatialReference"),p=this._prepareAddFeatures(this.items),this.on("before-changes",
function(a){y.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");a.preventDefault()}),t={features:p.features,fields:g&&g.map(function(a){return a.toJSON()}),geometryType:l.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:n,hasZ:h,objectIdField:m,spatialReference:u?null:f&&f.toJSON(),timeInfo:k?k.toJSON():null},[4,this._connection.invoke("load",t,{signal:a})];case 2:w=b.sent();v=0;for(q=w.warnings;v<q.length;v++)x=q[v],y.warn(x.message,
{layer:this.layer,warning:x});w.featureErrors.length&&y.warn("Encountered "+w.featureErrors.length+" validation errors while loading features",w.featureErrors);z=w.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(p.inferredGeometryType)&&(z.geometryType=l.typeKebabDictionary.toJSON(p.inferredGeometryType));if("mesh"===z.geometryType||"mesh"===this.layer.geometryType)z.hasZ=!0;this.sourceJSON=z;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);p.finish(w.assignedObjectIds);
return[2]}})})};b.__decorate([p.shared({Type:h,ensureType:t.ensureType(h)})],c.prototype,"itemType",void 0);b.__decorate([p.property()],c.prototype,"type",void 0);b.__decorate([p.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([p.property({readOnly:!0,dependsOn:["layer.geometryType"]})],c.prototype,"workerGeometryType",null);b.__decorate([p.property()],c.prototype,"sourceJSON",void 0);return c=b.__decorate([p.subclass("esri.layers.graphics.sources.MemorySource")],c)}(n.LoadableMixin(m.EsriPromiseMixin(k)));
a.MemorySource=c;a.default=c})},"esri/core/workers":function(){define(["require","exports","tslib","./workers/workers"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});b.__exportStar(l,a)})},"esri/core/workers/workers":function(){define("require exports tslib ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a,c){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,
function(b){switch(b.label){case 0:return d=new f,[4,d.open(a,c)];case 1:return b.sent(),[2,d]}})})}function d(){return b.__awaiter(this,void 0,void 0,function(){var a,c,d;return b.__generator(this,function(b){if(p)return[2,p];t=k.createAbortController();a=[];c=function(b){var c=n.create(b).then(function(a){return r[b]=a});a.push(c)};for(d=0;d<m;d++)c(d);p=k.all(a);return[2,p]})})}Object.defineProperty(a,"__esModule",{value:!0});a.terminate=a.open=a.openWithPorts=a.initialize=a.RemoteClient=a.Connection=
void 0;a.Connection=f;a.RemoteClient=e;var m=h("esri-workers-debug")?1:h("host-browser")?navigator.hardwareConcurrency-1:0;m||(m=h("safari")&&h("mac")||h("trident")?7:2);var q=0,r=[];a.initialize=function(){d()};a.openWithPorts=function(a,b){return g(a,{client:b})};a.open=function(a,f){void 0===f&&(f={});return b.__awaiter(this,void 0,void 0,function(){var n,p,t,w,v,A,E,C,D;return b.__generator(this,function(u){switch(u.label){case 0:if("string"!==typeof a)throw new l("workers:undefined-module","modulePath is missing");
n=f.strategy||"distributed";h("host-webworker")&&!h("esri-workers")&&(n="local");return"local"!==n?[3,4]:[4,e.loadWorker(a)];case 1:return(p=u.sent())?[3,3]:[4,new Promise(function(b,d){c([a],b,d)})];case 2:p=u.sent(),u.label=3;case 3:return k.throwIfAborted(f.signal),t=f.client||p,w=e.connect(p),[2,g([w],b.__assign(b.__assign({},f),{client:t}))];case 4:return[4,d()];case 5:u.sent();k.throwIfAborted(f.signal);if("dedicated"!==n)return[3,7];v=q++%m;return[4,r[v].open(a,f)];case 6:return w=u.sent(),
[2,g([w],f)];case 7:if(f.maxNumWorkers&&0<f.maxNumWorkers&&(A=Math.min(f.maxNumWorkers,m),A<m)){E=Array(A);for(C=0;C<A;++C)v=q++%m,E[C]=r[v].open(a,f);return[2,g(E,f)]}D=r.map(function(b){return b.open(a,f)});return[2,g(D,f)]}})})};a.terminate=function(){p&&(t.abort(),p=null);for(var a=0;a<r.length;a++)r[a]&&r[a].terminate();r.length=0};var p=null,t})},"esri/core/workers/Connection":function(){define("require exports ../handleUtils ../Logger ../promiseUtils ./RemoteClient".split(" "),function(c,a,
b,l,h,k){var f=l.getLogger("esri.core.workers.Connection");return function(){function a(){this._clients=[];this._clientPromises=[];this._clientIdx=0}a.prototype.destroy=function(){this.close()};Object.defineProperty(a.prototype,"closed",{get:function(){return!this._clients||!this._clients.length},enumerable:!1,configurable:!0});a.prototype.open=function(a,b){var c=this;return h.create(function(d,e){var g=!0,f=function(a){h.throwIfAborted(b.signal);g&&(g=!1,a())};c._clients.length=a.length;c._clientPromises.length=
a.length;for(var m=function(g){var m=a[g];if(h.isThenable(m))return c._clientPromises[g]=m.then(function(a){c._clients[g]=new k(a,b);f(d);return c._clients[g]},function(){f(e);return null}),"continue";c._clients[g]=new k(m,b);c._clientPromises[g]=h.resolve(c._clients[g]);f(d)},n=0;n<a.length;++n)m(n)})};a.prototype.broadcast=function(a,b,c){for(var d=Array(this._clientPromises.length),e=0;e<this._clientPromises.length;++e)d[e]=this._clientPromises[e].then(function(d){return d.invoke(a,b,c)});return d};
a.prototype.close=function(){for(var a=0,b=this._clientPromises;a<b.length;a++)b[a].then(function(a){return a.close()});this._clients.length=0;this._clientPromises.length=0};a.prototype.getAvailableClient=function(){for(var a,b=0;b<this._clients.length;++b){var c=this._clients[b];if(!c)a=a||[],a.push(this._clientPromises[b]);else if(!c.isBusy())return h.resolve(c)}return a?h.first(a):(this._clientIdx=(this._clientIdx+1)%this._clients.length,h.resolve(this._clients[this._clientIdx]))};a.prototype.invoke=
function(a,b,c){var d=null;Array.isArray(c)?(f.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),d={transferList:c}):d=c;return this.closed?h.reject(Error("Connection closed")):this.getAvailableClient().then(function(c){return c.invoke(a,b,d)})};a.prototype.on=function(a,c){var d=this;return h.all(this._clientPromises).then(function(){return b.handlesGroup(d._clients.map(function(b){return b.on(a,c)}))})};a.prototype.openPorts=function(){var a=this;return h.create(function(b){for(var c=
Array(a._clientPromises.length),e=c.length,g=function(d){a._clientPromises[d].then(function(a){c[d]=a.openPort();0===--e&&b(c)})},f=0;f<a._clientPromises.length;++f)g(f)})};Object.defineProperty(a.prototype,"test",{get:function(){return{numClients:this._clients.length}},enumerable:!1,configurable:!0});return a}()})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),function(c,a,b,l,h,
k,f,e){var n=f.MessageType.CLOSE,g=f.MessageType.ABORT,d=f.MessageType.INVOKE,m=f.MessageType.RESPONSE,q=f.MessageType.OPEN_PORT,r=f.MessageType.ON,p=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===f.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};
a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b){var c=this;this._port=a;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new p(function(a){return c._onInvokeMessage(a)});
this._responseQueue=[];this._client=b.client;this._onMessage=this._onMessage.bind(this);this._channel=b.channel;b.scheduler&&(this._frameTask=b.scheduler.registerTask(e.Task.REMOTE_CLIENT,function(a){return c._update(a)},function(){return 0<c._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;var d=new a(c.port1,{channel:c,
client:b});"object"===typeof b&&"remoteClient"in b&&(b.remoteClient=d);a.clients.set(d,b);return c.port2};a.loadWorker=function(a){return(a=k.registry[a])?a():h.resolve(null)};a.prototype.close=function(){this._post({type:n});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,c,e){var m=this,n=e&&e.signal,k=e&&e.transferList;if(!this._port)return h.reject(new b("worker:port-closed","Cannot call invoke('"+a+"'), port is closed",{methodName:a,data:c}));
var l=f.newJobId();return h.create(function(b,e){var f=h.onAbortOrThrow(n,function(){var a,b=m._outJobs.get(l);b&&(m._outJobs.delete(l),null===(a=b.abortHandle)||void 0===a?void 0:a.remove(),m._post({type:g,jobId:l}),e(h.createAbortError()))});m._outJobs.set(l,{resolve:b,reject:e,abortHandle:f,debugInfo:a});m._post({type:d,jobId:l,methodName:a,abortable:null!=n},c,k)})};a.prototype.on=function(a,b){function c(a){b(a.data)}var d=new MessageChannel;this._port.postMessage({type:f.MessageType.ON,eventType:a,
port:d.port2},[d.port2]);d.port1.addEventListener("message",c);d.port1.start();return{remove:function(){d.port1.postMessage({type:f.MessageType.CLOSE});d.port1.close();d.port1.removeEventListener("message",c)}}};a.prototype.openPort=function(){var a=new MessageChannel;this._post({type:q,port:a.port2});return a.port1};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){var b;
null===(b=a.abortHandle)||void 0===b?void 0:b.remove();a.reject(h.createAbortError("Worker closing, aborting job calling '"+a.debugInfo+"'"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=f.receiveMessage(a))switch(a.type){case m:this._onResponseMessage(a);break;case d:this._invokeQueue.push(a);break;case g:this._onAbortMessage(a);
break;case n:this._onCloseMessage();break;case q:this._onOpenPortMessage(a);break;case r:this._onOnMessage(a)}};a.prototype._onAbortMessage=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._invokeQueue.push(a);d&&(d.controller&&d.controller.abort(),b.delete(c))};a.prototype._onCloseMessage=function(){var b=this._client;this._close();b&&"destroy"in b&&a.clients.get(this)===b&&b.destroy();a.clients.delete(this);b&&b.remoteClient&&(b.remoteClient=null)};a.prototype._onInvokeMessage=function(a){var b=
this,c=a.methodName,d=a.jobId,e=a.data;a=a.abortable?h.createAbortController():null;var g=this._inJobs,n=this._client,k=n[c],l;try{if(!k&&c&&-1!==c.indexOf("."))for(var p=c.split("."),t=0;t<p.length-1;t++)n=n[p[t]],k=n[p[t+1]];if("function"!==typeof k)throw new TypeError(c+" is not a function");l=k.call(n,e,{client:this,signal:a?a.signal:null})}catch(F){this._post({type:m,jobId:d,error:f.toInvokeError(F)});return}h.isPromiseLike(l)?(g.set(d,{controller:a,promise:l}),l.then(function(a){g.has(d)&&(g.delete(d),
b._post({type:m,jobId:d},a))},function(a){g.has(d)&&(g.delete(d),h.isAbortError(a)||b._post({type:m,jobId:d,error:f.toInvokeError(a||{message:"Error encountered at method "+c})}))})):this._post({type:m,jobId:d},l)};a.prototype._onOpenPortMessage=function(b){new a(b.port,{client:this._client})};a.prototype._onOnMessage=function(a){var b=a.port,c=this._client.on(a.eventType,function(a){b.postMessage(a)}),d=l.on(a.port,"message",function(a){f.receiveMessage(a).type===f.MessageType.CLOSE&&(d.remove(),
c.remove(),b.close())})};a.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var c,d=a.jobId,e=a.error;a=a.data;var g=this._outJobs;if(g.has(d)){var f=g.get(d);g.delete(d);null===(c=f.abortHandle)||void 0===c?void 0:c.remove();e?f.reject(b.fromJSON(JSON.parse(e))):
f.resolve(a)}};a.prototype._post=function(a,b,c){return f.postMessage(this._port,a,b,c)};a.clients=new Map;return a}()})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.registry=void 0;a.registry={geometryEngineWorker:function(){return new Promise(function(a,l){c(["../../geometry/geometryEngineWorker"],a,l)})},CSVSourceWorker:function(){return new Promise(function(a,l){c(["../../layers/graphics/sources/support/CSVSourceWorker"],
a,l)})},EdgeProcessingWorker:function(){return new Promise(function(a,l){c(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],a,l)})},ElevationSamplerWorker:function(){return new Promise(function(a,l){c(["../../geometry/support/meshUtils/ElevationSamplerWorker"],a,l)})},GeoJSONSourceWorker:function(){return new Promise(function(a,l){c(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],a,l)})},LercWorker:function(){return new Promise(function(a,l){c(["../../layers/support/LercWorker"],
a,l)})},MemorySourceWorker:function(){return new Promise(function(a,l){c(["../../layers/graphics/sources/support/MemorySourceWorker"],a,l)})},PBFDecoderWorker:function(){return new Promise(function(a,l){c(["../../views/3d/support/PBFDecoderWorker"],a,l)})},Pipeline:function(){return new Promise(function(a,l){c(["../../views/2d/layers/features/Pipeline"],a,l)})},PointCloudWorker:function(){return new Promise(function(a,l){c(["../../views/3d/layers/PointCloudWorker"],a,l)})},RasterWorker:function(){return new Promise(function(a,
l){c(["../../layers/support/RasterWorker"],a,l)})},SceneLayerWorker:function(){return new Promise(function(a,l){c(["../../views/3d/layers/SceneLayerWorker"],a,l)})},WorkerTileHandler:function(){return new Promise(function(a,l){c(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],a,l)})}}})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(c,a,b){function l(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function h(a){if(!a||!a.length)return null;
if(b("esri-workers-arraybuffer-transfer"))return a;a=a.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return a.length?a:null}Object.defineProperty(a,"__esModule",{value:!0});a.receiveMessage=a.postMessage=a.toInvokeError=a.isTranferableResult=a.newJobId=a.MessageType=void 0;var k;(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]=
"RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT";a[a.ON=10]="ON"})(k=a.MessageType||(a.MessageType={}));var f=0;a.newJobId=function(){return f++};a.isTranferableResult=l;a.toInvokeError=function(a){return a?"string"===typeof a?JSON.stringify({name:"message",message:a}):a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details||{stack:a.stack}}):null};a.postMessage=function(a,b,c,d){b.type===k.OPEN_PORT?a.postMessage(b,
[b.port]):b.type!==k.INVOKE&&b.type!==k.RESPONSE?a.postMessage(b):(l(c)?(d=h(c.transferList),b.data=c.result):(d=h(d),b.data=c),d?a.postMessage(b,d):a.postMessage(b))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/views/support/Scheduler":function(){define("require exports tslib @dojo/framework/shim/number ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/PooledArray ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){function r(b){return b in a.taskPriorities?a.taskPriorities[b]:"number"===typeof b?b:1}var p;Object.defineProperty(a,"__esModule",{value:!0});a.noBudget=a.TaskState=a.TestTaskHandle=a.getTaskPriority=a.taskPriorities=a.Task=a.newScheduler=void 0;var t=k.getLogger("esri.views.support.Scheduler");a.newScheduler=function(a){return new v.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.ELEVATION_QUERY="elevation query";
a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";
a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.TEXTURE_UNLOAD="texture unload";a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a.ELEVATION_PROFILE="elevation profile";a[a.TEST_PRIO=
1]="TEST_PRIO"})(c=a.Task||(a.Task={}));a.taskPriorities=(p={},p[c.REMOTE_CLIENT]=1,p[c.STREAM_DATA_LOADER]=1,p[c.FEATURE_FETCH_QUEUE]=1,p[c.ELEVATION_QUERY]=1,p[c.TERRAIN_SURFACE]=2,p[c.SURFACE_GEOMETRY_UPDATES]=2,p[c.I3S_CONTROLLER]=4,p[c.POINT_CLOUD_LAYER]=4,p[c.FEATURE_TILE_FETCHER]=4,p[c.GRAPHICS_CORE]=6,p[c.LABELER]=6,p[c.GRAPHICS_DECONFLICTOR]=6,p[c.FILTER_VISIBILITY]=8,p[c.FEATURE_QUERY_ENGINE]=8,p[c.SCALE_VISIBILITY]=8,p[c.FRUSTUM_VISIBILITY]=8,p[c.POINT_OF_INTEREST_FREQUENT]=6,p[c.POINT_OF_INTEREST_INFREQUENT]=
30,p[c.FEATURE_TILE_TREE]=16,p[c.FEATURE_TILE_TREE_ACTIVE]=1,p[c.ELEVATION_ALIGNMENT]=12,p[c.TEXT_TEXTURE_ATLAS]=12,p[c.TEXTURE_UNLOAD]=12,p[c.OVERLAY_MANAGER]=12,p[c.LINE_OF_SIGHT_TOOL]=16,p[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,p);a.getTaskPriority=r;p=function(){function a(){}a.prototype.remove=function(){};a.prototype.schedule=function(a){return n.when(a())};a.prototype.reschedule=function(a){return n.when(a())};return a}();a.TestTaskHandle=p;var w=1E3/30,v;(function(c){var k=function(){function a(a){var b=
this;this._now=a;this._budget=null;this._state=1;this._tasks=new e;this._runQueue=new e;this._load=0;this._idleStateCallbacks=new e;this._idleUpdatesStartFired=!1;this._maxReschedule=x;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=g.init(q,"SCHEDULER_LOG_SLOW_TASKS",function(a){return b._debug=a});this._budget=new p(a);var c=this,d;this._test={get state(){return f.isNone(d)?c._state:d},set state(a){d=a},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:w,IDLE_BUDGET:100,get budget(){return c._budget.budget},
usedBudget:0,startTime:0,updateTask:function(a){return b._updateTask(a)},getState:function(a){return b._getState(a)},getRuntime:function(a){return b._getRuntime(a)}}}a.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};a.prototype.registerTask=function(a,b,c){var d=r(a);a=new l(this,a,b,c,d);this._tasks.push(a);return a};a.prototype.registerIdleStateCallbacks=function(a,b){var c=this,d={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(d);2===this.state&&this._idleUpdatesStartFired&&
d.idleBegin();var e=this;return{remove:function(){return c._removeIdleStateCallbacks(d)},set idleBegin(a){e._idleUpdatesStartFired&&(d.idleEnd(),2===e._state&&a());d.idleBegin=a},set idleEnd(a){d.idleEnd=a}}};Object.defineProperty(a.prototype,"now",{get:function(){return this._now()},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"load",{get:function(){return this._load},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"state",{get:function(){return f.isNone(this._test.state)?
this._state:this._test.state},set:function(a){this._state!==a&&(this._state=a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEachSimple(function(a){return a.idleEnd()})))},enumerable:!1,configurable:!0});a.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,c=1;switch(this.state){case 2:this._safetyBudget=0;b=Math.max(100,a.frameDuration);c=30;break;case 1:b=
Math.max(w,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,c);this._budget.reset(b,this.state);this._maxReschedule=x;this._updateLoad();return this._schedule()};a.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEachSimple(function(a){return a.idleBegin()}));this._runIdle();break;case 1:this._runInteracting();
break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};a.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};a.prototype.removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};a.prototype._updateTask=function(a){this._tasks.forEachSimple(function(b){b.name===a&&b.setPriority(a)})};a.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===
a}))return u.SCHEDULED;var b=u.IDLE;this._tasks.forEachSimple(function(c){c.name===a&&c.needsUpdate&&(1>=c.schedulePriority?b=u.READY:b!==u.READY&&(b=u.WAITING))});return b};a.prototype._getRuntime=function(a){var b=0;this._tasks.forEachSimple(function(c){c.name===a&&(b+=c.runtime)});return b};a.prototype._runIdle=function(){this._run()};a.prototype._runInteracting=function(){this._run()};a.prototype._runAnimating=function(){this._run()};a.prototype._updateLoad=function(){var a=this._tasks.reduce(function(a,
b){return b.needsUpdate?++a:a},0);this._load=.9*this._load+a*(1-.9)};a.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate)return!0;a.schedulePriority=a.priority;return!1});for(var b=function(){var b=!1,d=0;c._tasks.forEachSimple(function(c){if(0!==c.schedulePriority&&c.needsUpdate)switch(b=!0,d=Math.max(d,c.priority),c.schedulePriority){case 1:c.schedulePriority=0;a._runQueue.push(c);break;default:--c.schedulePriority}});
if(!b)return{value:!1};c._maxReschedule===x&&(c._maxReschedule=d);--c._maxReschedule},c=this;0===this._runQueue.length;){var d=b();if("object"===typeof d)return d.value}return!0};a.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.processQueue(this._budget),!this._budget.done&&a.needsUpdate&&a.update(this._budget)}catch(F){t.error('Exception in task "'+a.name+'"',F)}a.schedulePriority=a.priority;a.runtime+=
this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(a.prototype,"test",{get:function(){return this._test},enumerable:!1,configurable:!0});return a}();c.Scheduler=k;var l=function(c){function e(a,b,d,e,g){var f=c.call(this,{})||this;f._scheduler=a;f.name=b;f.update=d;f._needsUpdateCB=e;f._priority=g;f.runtime=
0;f._queue=new m.default;f.updating=!1;f.schedulePriority=f._priority;return f}b.__extends(e,c);e.prototype.normalizeCtorArgs=function(){return{}};e.prototype.remove=function(){this.processQueue(a.noBudget);this._scheduler.removeTask(this)};Object.defineProperty(e.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0});e.prototype.setPriority=function(a){this.name=a;this._priority=r(a);0!==this.schedulePriority&&(this.schedulePriority=this._priority)};Object.defineProperty(e.prototype,
"task",{get:function(){return this.name},set:function(a){this.setPriority(a)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"needsUpdate",{get:function(){return 0<this._queue.length||this._needsUpdateCB()},enumerable:!1,configurable:!0});e.prototype.schedule=function(a,b){this.updating=!0;return this._queue.push(function(){n.throwIfAborted(b);return a()})};e.prototype.reschedule=function(a,b){this.updating=!0;return this._queue.unshift(function(){n.throwIfAborted(b);return a()})};
e.prototype.processQueue=function(a){for(;!a.done&&this._queue.process();)a.madeProgress();0===this._queue.length&&(this.updating=!1)};b.__decorate([d.property()],e.prototype,"updating",void 0);return e=b.__decorate([d.subclass("esri.views.support.SchedulerTask")],e)}(h),p=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,
"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!1,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=
a},enumerable:!1,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!1,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",
{get:function(){return this._didWork},enumerable:!1,configurable:!0});return a}();c.Budget=p})(v||(v={}));var u;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(u=a.TaskState||(a.TaskState={}));a.noBudget=function(){var a=new v.Budget(function(){return performance.now()});a.enabled=!1;return a}();var x=l.MAX_SAFE_INTEGER})},"esri/core/watchUtils":function(){define(["require","exports","./events","./lang","./promiseUtils"],function(c,a,b,l,h){function k(a,b,c,d,e){e=a.watch(b,function(b,
e,g,f){if(!c||c(b))null===d||void 0===d?void 0:d.call(a,b,e,g,f)},e);if(Array.isArray(b))for(var g=0;g<b.length;g++){var f=a.get(b[g]);c&&c(f)&&(null===d||void 0===d?void 0:d.call(a,f,f,b,a))}else f=a.get(b),c&&c(f)&&(null===d||void 0===d?void 0:d.call(a,f,f,b,a));return e}function f(a,b,c,d,e){function g(){l&&(l.remove(),l=null)}var f="function"===typeof d?d:null,m="object"===typeof d?d:null;"boolean"===typeof d&&(e=d);var n=!1,l,p=h.createDeferred();h.onAbort(m,function(){g();p.reject(h.createAbortError())});
d={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:g};Object.freeze(d);l=k(a,b,c,function(b,c,d,e){n=!0;g();f&&f.call(a,b,c,d,e);p.resolve({value:b,oldValue:c,propertyName:d,target:e})},e);n&&g();return d}function e(a){return!!a}function n(a){return!a}function g(a){return!0===a}function d(a){return!1===a}function m(a){return void 0!==a}function q(a){return void 0===a}function r(a,b,c,d){var e=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,c,d);for(d=
0;d<e.length;d++){var g=e[d].trim().replace(p,"$1"),f=a.get(g);c.call(a,f,f,g,a)}return b}Object.defineProperty(a,"__esModule",{value:!0});a.on=a.pausable=a.whenEqualOnce=a.whenEqual=a.whenUndefinedOnce=a.whenUndefined=a.whenDefinedOnce=a.whenDefined=a.whenFalseOnce=a.whenFalse=a.whenTrueOnce=a.whenTrue=a.whenNotOnce=a.whenNot=a.whenOnce=a.when=a.once=a.watch=a.init=a.whenValidOnce=void 0;a.whenValidOnce=f;var p=/\?(\.|$)/g;a.init=r;a.watch=function(a,b,c,d){return a.watch(b,c,d)};a.once=function(a,
b,c,d){return f(a,b,null,c,d)};a.when=function(a,b,c,d){return k(a,b,e,c,d)};a.whenOnce=function(a,b,c,d){return f(a,b,e,c,d)};a.whenNot=function(a,b,c,d){return k(a,b,n,c,d)};a.whenNotOnce=function(a,b,c,d){return f(a,b,n,c,d)};a.whenTrue=function(a,b,c,d){return k(a,b,g,c,d)};a.whenTrueOnce=function(a,b,c,d){return f(a,b,g,c,d)};a.whenFalse=function(a,b,c,e){return k(a,b,d,c,e)};a.whenFalseOnce=function(a,b,c,e){return f(a,b,d,c,e)};a.whenDefined=function(a,b,c,d){return k(a,b,m,c,d)};a.whenDefinedOnce=
function(a,b,c,d){return f(a,b,m,c,d)};a.whenUndefined=function(a,b,c,d){return k(a,b,q,c,d)};a.whenUndefinedOnce=function(a,b,c,d){return f(a,b,q,c,d)};a.whenEqual=function(a,b,c,d,e){return k(a,b,function(a){return l.equals(c,a)},d,e)};a.whenEqualOnce=function(a,b,c,d,e){return f(a,b,function(a){return l.equals(c,a)},d,e)};a.pausable=function(a,b,c,d){var e=!1,g=a.watch(b,function(b,d,g,f){e||c.call(a,b,d,g,f)},d);return{remove:function(){g.remove()},pause:function(){e=!0},resume:function(){e=!1}}};
a.on=function(a,c,d,e,g,f,m){function n(b){var c=h[b];c&&(f&&f(c.target,b,a,d),c.handle.remove(),delete h[b])}var h={},k=r(a,c,function(c,f,m){n(m);b.isEventTarget(c)&&(h[m]={handle:b.on(c,d,e),target:c},g&&g(c,m,a,d))},m);return{remove:function(){k.remove();for(var a in h)n(a)}}}})},"esri/layers/support/PromiseQueue":function(){define(["require","exports","../../core/promiseUtils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});c=function(){function a(){this._tasks=[]}Object.defineProperty(a.prototype,
"length",{get:function(){return this._tasks.length},enumerable:!1,configurable:!0});a.prototype.push=function(a){var c=this;return b.create(function(b,f){return c._tasks.push(new l(b,f,a))})};a.prototype.unshift=function(a){var c=this;return b.create(function(b,f){return c._tasks.unshift(new l(b,f,a))})};a.prototype.process=function(){if(0===this._tasks.length)return!1;var a=this._tasks.shift();try{var b=a.callback();b&&"object"===typeof b&&"then"in b&&"function"===typeof b.then?b.then(a.resolve,
a.reject):a.resolve(b)}catch(e){a.reject(e)}return!0};a.prototype.cancelAll=function(){for(var a=b.createAbortError(),c=0,e=this._tasks;c<e.length;c++)e[c].reject(a);this._tasks.length=0};return a}();a.default=c;var l=function(){return function(a,b,c){this.resolve=a;this.reject=b;this.callback=c}}()})},"esri/views/support/debugFlags":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(c,a,b,l,h){return new (function(a){function c(){var b=
null!==a&&a.apply(this,arguments)||this;b.SCHEDULER_LOG_SLOW_TASKS=!1;return b}b.__extends(c,a);b.__decorate([h.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return c=b.__decorate([h.subclass("esri.views.support.DebugFlags")],c)}(l))})},"esri/core/workers/WorkerOwner":function(){define("require exports tslib ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),function(c,a,b,l,h,k,f,e,n){var g=k.getLogger("esri.core.workers"),d=e.MessageType.ABORT,m=e.MessageType.INVOKE,
q=e.MessageType.OPEN,r=e.MessageType.OPENED,p=e.MessageType.RESPONSE;return function(){function a(a,b){this._outJobs=new Map;this._inJobs=new Map;this.worker=a;this.id=b;a.addEventListener("message",this._onMessage.bind(this));a.addEventListener("error",function(a){a.preventDefault();g.error(a)})}a.create=function(c){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,n.createWorker()];case 1:return d=b.sent(),[2,new a(d,c)]}})})};
a.prototype.terminate=function(){this.worker.terminate()};a.prototype.open=function(a,c){void 0===c&&(c={});return b.__awaiter(this,void 0,void 0,function(){var g,m,n=this;return b.__generator(this,function(b){g=c.signal;m=e.newJobId();return[2,f.create(function(b,c){var e=f.onAbortOrThrow(g,function(){n._outJobs.delete(m);n._post({type:d,jobId:m})});n._outJobs.set(m,{resolve:b,reject:c,abortHandle:e});n._post({type:q,jobId:m,modulePath:a})})]})})};a.prototype._onMessage=function(a){if(a=e.receiveMessage(a))switch(a.type){case r:this._onOpenedMessage(a);
break;case p:this._onResponseMessage(a);break;case d:this._onAbortMessage(a);break;case m:this._onInvokeMessage(a)}};a.prototype._onAbortMessage=function(a){var b=this._inJobs;a=a.jobId;var c=b.get(a);c&&(c.controller&&c.controller.abort(),b.delete(a))};a.prototype._onInvokeMessage=function(a){var b=this,c=a.methodName,d=a.jobId,g=a.data;a=a.abortable?f.createAbortController():null;var m=this._inJobs,n=l.workerMessages[c],h;try{if("function"!==typeof n)throw new TypeError(c+" is not a function");
h=n.call(null,g,{signal:a?a.signal:null})}catch(E){this._post({type:p,jobId:d,error:e.toInvokeError(E)});return}f.isPromiseLike(h)?(m.set(d,{controller:a,promise:h}),h.then(function(a){m.has(d)&&(m.delete(d),b._post({type:p,jobId:d},a))},function(a){m.has(d)&&(m.delete(d),a||(a={message:"Error encountered at method"+c}),f.isAbortError(a)||b._post({type:p,jobId:d,error:e.toInvokeError(a||{message:"Error encountered at method "+c})}))})):this._post({type:p,jobId:d},h)};a.prototype._onOpenedMessage=
function(a){var b,c=a.jobId;a=a.data;var d=this._outJobs.get(c);d&&(this._outJobs.delete(c),null===(b=d.abortHandle)||void 0===b?void 0:b.remove(),d.resolve(a))};a.prototype._onResponseMessage=function(a){var b,c=a.jobId,d=a.error;a=a.data;var e=this._outJobs.get(c);e&&(this._outJobs.delete(c),null===(b=e.abortHandle)||void 0===b?void 0:b.remove(),d?e.reject(h.fromJSON(JSON.parse(d))):e.resolve(a))};a.prototype._post=function(a,b,c){return e.postMessage(this.worker,a,b,c)};return a}()})},"esri/core/workers/workerFactory":function(){define("require exports tslib ../../config ../../intl ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){function m(a){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(c){return[2,e.create(function(c){function e(d){if(d=g.receiveMessage(d))switch(d.type){case t:d=a;var m=l.workers.loaderUrl||n.DEFAULT_LOADER_URL,u;null!=l["default"]?(u=b.__assign({},l),delete u["default"],u=JSON.parse(JSON.stringify(u))):u=JSON.parse(JSON.stringify(l));u.locale=h.getLocale();u.has={"csp-restrictions":k("csp-restrictions"),"esri-2d-debug":0,"esri-2d-update-debug":k("esri-2d-update-debug"),
"esri-atomics":k("esri-atomics"),"esri-secure-context":k("esri-secure-context"),"esri-shared-array-buffer":k("esri-shared-array-buffer"),"esri-tiles-debug":k("esri-tiles-debug"),"esri-webgl-max-texture-size":k("esri-webgl-max-texture-size"),"esri-webgl-texture-float":k("esri-webgl-texture-float"),"esri-workers-arraybuffer-transfer":k("esri-workers-arraybuffer-transfer"),"host-webworker":1};var q=l.workers.loaderConfig,q=n.default({baseUrl:q.baseUrl,locale:h.getLocale(),has:b.__assign({"csp-restrictions":k("csp-restrictions"),
"dojo-test-sniff":0,"host-webworker":1},q.has),map:b.__assign({},q.map),paths:b.__assign({},q.paths),packages:q.packages||[]});d.postMessage({type:p,configure:{esriConfig:u,loaderUrl:m,loaderConfig:q}});break;case r:a.removeEventListener("message",e),a.removeEventListener("error",f),c(a)}}function f(b){b.preventDefault();a.removeEventListener("message",e);a.removeEventListener("error",f);q.warn("Failed to create Worker. Fallback to execute module in main thread",b);a=new d;a.addEventListener("message",
e);a.addEventListener("error",f)}a.addEventListener("message",e);a.addEventListener("error",f)})]})})}Object.defineProperty(a,"__esModule",{value:!0});a.createWorker=void 0;var q=f.getLogger("esri.core.workers");k.add("esri-workers-arraybuffer-transfer",!k("safari")||12<=k("safari"));var r=g.MessageType.CONFIGURED,p=g.MessageType.CONFIGURE,t=g.MessageType.HANDSHAKE,w;try{w=URL.createObjectURL(new Blob(['var globalId\x3d0,outgoing\x3dnew Map,configured\x3d!1,HANDSHAKE\x3d0,CONFIGURE\x3d1,CONFIGURED\x3d2,OPEN\x3d3,OPENED\x3d4,RESPONSE\x3d5,INVOKE\x3d6,ABORT\x3d7;function createAbortError(){var error\x3dnew Error("Aborted");return error.name\x3d"AbortError",error}function receiveMessage(event){return event\x26\x26event.data?"string"\x3d\x3dtypeof event.data?JSON.parse(event.data):event.data:null}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal,jobId\x3dglobalId++;return new Promise((function(resolve,reject){if(signal){if(signal.aborted)return reject(createAbortError());signal.addEventListener("abort",(function(){outgoing.get(jobId)\x26\x26(outgoing.delete(jobId),self.postMessage({type:ABORT,jobId:jobId}),reject(createAbortError()))}))}outgoing.set(jobId,{resolve:resolve,reject:reject}),self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:null!\x3dsignal,data:data})}))}function messageHandler(event){var message\x3dreceiveMessage(event);if(message){var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured)return;configured\x3d!0,self.dojoConfig\x3dconfiguration.loaderConfig,self.importScripts(configuration.loaderUrl),"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig),self.esriConfig\x3dconfiguration.esriConfig,self.postMessage({type:CONFIGURED});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient"],(function(RemoteClient){RemoteClient.loadWorker(modulePath).then((function(Module){return Module||new Promise((function(resolve){require([modulePath],resolve)}))})).then((function(Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])}))}));break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);outgoing.delete(jobId),message.error?deferred.reject(JSON.parse(message.error)):deferred.resolve(message.data)}}}}self.addEventListener("message",messageHandler),self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(v){}a.createWorker=function(){return b.__awaiter(this,void 0,void 0,function(){var a;return b.__generator(this,function(b){if(!k("esri-workers"))return[2,m(new d)];if(w)try{a=new Worker(w)}catch(x){q.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new d}else q.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new d;return[2,m(a)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require",
"exports","tslib","../has","../urlUtils"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.DEFAULT_CONFIG=a.DEFAULT_LOADER_URL=void 0;a.DEFAULT_LOADER_URL=h.makeAbsolute(h.removeQueryParameters(c.toUrl("dojo/dojo-lite.js")));a.DEFAULT_CONFIG={baseUrl:function(){var a=h.removeQueryParameters(c.toUrl("dojo/x.js"));return h.makeAbsolute(a.slice(0,a.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",
main:"dist/cldr"},{name:"globalize",main:"dist/globalize"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};a.default=function(k){var f={async:k.async,isDebug:k.isDebug,locale:k.locale,baseUrl:k.baseUrl,has:b.__assign({},
k.has),map:b.__assign({},k.map),packages:k.packages&&k.packages.concat()||[],paths:b.__assign({},k.paths)};k.hasOwnProperty("async")||(f.async=!0);k.hasOwnProperty("isDebug")||(f.isDebug=!1);k.baseUrl||(f.baseUrl=a.DEFAULT_CONFIG.baseUrl);a.DEFAULT_CONFIG.packages.forEach(function(a){a:{for(var d=f.packages,e=0;e<d.length;e++)if(d[e].name===a.name)break a;a=b.__assign({},a);e=h.removeQueryParameters(c.toUrl(a.name+"/x.js"));e=e.slice(0,e.length-5);a.location=h.makeAbsolute(e);d.push(a)}});k=f.map=
f.map||{};for(var e=0,n=Object.keys(a.DEFAULT_CONFIG.map);e<n.length;e++){var g=n[e];k[g]||(k[g]=a.DEFAULT_CONFIG.map[g])}return f}})},"esri/core/workers/WorkerFallback":function(){define("require exports tslib ../global ./RemoteClient ./utils @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k){var f=function(){return function(){var a=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(c){a[c]=function(){for(var a=[],d=0;d<
arguments.length;d++)a[d]=arguments[d];return b[c].apply(b,a)}})}}(),e=l.MutationObserver||l.WebKitMutationObserver,n=function(){var a;if(l.process&&l.process.nextTick)a=function(a){l.process.nextTick(a)};else if(l.Promise)a=function(a){l.Promise.resolve().then(a)};else if(e){var b=[],c=document.createElement("div");(new e(function(){for(;0<b.length;)b.shift()()})).observe(c,{attributes:!0});a=function(a){b.push(a);c.setAttribute("queueStatus","1")}}return a}(),g=function(){var a=l.MessageEvent;try{new a("message",
{data:null})}catch(m){return function(a,b){void 0===b&&(b={});var c=b.data,d=b.bubbles,d=void 0===d?!1:d;b=b.cancelable;b=void 0===b?!1:b;var e=document.createEvent("Event");e.initEvent(a,d,b);e.data=c;return e}}return function(b,c){return new a(b,c)}}();return function(){function a(){this._dispatcher=new f;this._isInitialized=!1;this._workerPostMessage({type:k.MessageType.HANDSHAKE})}a.prototype.terminate=function(){};Object.defineProperty(a.prototype,"onmessage",{get:function(){return this._onmessageHandler},
set:function(a){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=a)&&this.addEventListener("message",a)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"onmessageerror",{get:function(){return this._onmessageerrorHandler},set:function(a){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=a)&&this.addEventListener("messageerror",a)},enumerable:!1,configurable:!0});
Object.defineProperty(a.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!1,configurable:!0});a.prototype.postMessage=function(a){var b=this;n(function(){b._workerMessageHandler(g("message",{data:a}))})};a.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};a.prototype.addEventListener=function(a,
b,c){this._dispatcher.addEventListener(a,b,c)};a.prototype.removeEventListener=function(a,b,c){this._dispatcher.removeEventListener(a,b,c)};a.prototype._workerPostMessage=function(a){var b=this;n(function(){b.dispatchEvent(g("message",{data:a}))})};a.prototype._workerMessageHandler=function(a){return b.__awaiter(this,void 0,void 0,function(){var d,e,g,f,m,n;return b.__generator(this,function(b){switch(b.label){case 0:d=k.receiveMessage(a);if(!d)return[2];e=d.type;switch(e){case k.MessageType.CONFIGURE:return[3,
1];case k.MessageType.OPEN:return[3,2]}return[3,6];case 1:return this._isInitialized||this._workerPostMessage({type:k.MessageType.CONFIGURED}),[3,6];case 2:return g=d.modulePath,f=d.jobId,[4,h.loadWorker(g)];case 3:return(m=b.sent())?[3,5]:[4,new Promise(function(a,b){c([g],a,b)})];case 4:m=b.sent(),b.label=5;case 5:return n=h.connect(m),this._workerPostMessage({type:k.MessageType.OPENED,jobId:f,data:n}),[3,6];case 6:return[2]}})})};return a}()})},"esri/tasks/operations/queryZScale":function(){define(["require",
"exports","./zscale"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.applyFeatureSetZUnitScaling=void 0;a.applyFeatureSetZUnitScaling=function(a,c,k){if(k&&k.features&&k.hasZ&&(a=b.getGeometryZScaler(k.geometryType,c,a.outSpatialReference)))for(c=0,k=k.features;c<k.length;c++)a(k[c].geometry)}})},"esri/tasks/operations/zscale":function(){define(["require","exports","../../core/unitUtils","../../geometry/support/spatialReferenceUtils"],function(c,a,b,l){function h(a,b,c){if(null==
a.hasM||a.hasZ)for(a=0;a<b.length;a++)for(var e=0,d=b[a];e<d.length;e++){var f=d[e];2<f.length&&(f[2]*=c)}}function k(a,c,n){if(a)for(var e=0;e<a.length;e++){var d=a[e].geometry,f=n;if(d&&d.spatialReference&&!l.equals(d.spatialReference,c)&&(f=b.getMetersPerVerticalUnitForSR(d.spatialReference)/f,1!==f))if("x"in d)null!=d.z&&(d.z*=f);else if("rings"in d)h(d,d.rings,f);else if("paths"in d)h(d,d.paths,f);else if("points"in d&&(null==d.hasM||d.hasZ))for(var k=0,d=d.points;k<d.length;k++){var r=d[k];
2<r.length&&(r[2]*=f)}}}Object.defineProperty(a,"__esModule",{value:!0});a.unapplyEditsZUnitScaling=a.getGeometryZScaler=void 0;a.getGeometryZScaler=function(a,c,n){if(!c||!n||n.vcsWkid||l.equals(c,n))return null;c=b.getMetersPerVerticalUnitForSR(c);n=b.getMetersPerVerticalUnitForSR(n);var e=c/n;if(1===e)return null;switch(a){case "point":case "esriGeometryPoint":return function(a){a&&null!=a.z&&(a.z*=e)};case "polyline":case "esriGeometryPolyline":return function(a){if(a){var b=0;for(a=a.paths;b<
a.length;b++)for(var c=0,d=a[b];c<d.length;c++){var g=d[c];2<g.length&&(g[2]*=e)}}};case "polygon":case "esriGeometryPolygon":return function(a){if(a){var b=0;for(a=a.rings;b<a.length;b++)for(var c=0,d=a[b];c<d.length;c++){var g=d[c];2<g.length&&(g[2]*=e)}}};case "multipoint":case "esriGeometryMultipoint":return function(a){if(a){var b=0;for(a=a.points;b<a.length;b++){var c=a[b];2<c.length&&(c[2]*=e)}}};default:return null}};a.unapplyEditsZUnitScaling=function(a,c,n){if((a||c)&&n){var e=b.getMetersPerVerticalUnitForSR(n);
k(a,n,e);k(c,n,e)}}})},"esri/tasks/support/FeatureSet":function(){define("require exports tslib ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m){var q=new k.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",
esriGeometryEnvelope:"extent",mesh:"mesh","":null});c=function(a){function c(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}b.__extends(c,a);c.prototype.readFeatures=function(a,b){b=g.fromJSON(b.spatialReference);for(var c=[],d=0;d<a.length;d++){var f=a[d],m=h.fromJSON(f),f=f.geometry&&f.geometry.spatialReference;e.isSome(m.geometry)&&!f&&(m.geometry.spatialReference=
b);c.push(m)}return c};c.prototype.writeGeometryType=function(a,b,c,d){if(a)q.write(a,b,c,d);else if(a=this.features)for(var g=0;g<a.length;g++){var f=a[g];if(f&&e.isSome(f.geometry)){q.write(f.geometry.type,b,c,d);break}}};c.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(var c=0;c<a.length;c++){var d=a[c];d&&e.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())}};c.prototype.toJSON=
function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};c.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,g=b[0],f=b[1],b=this.features,m=this._getQuantizationFunction(this.geometryType,function(a){return Math.round((a-g)/c)},function(a){return Math.round((f-a)/d)}),n=0,h=b.length;n<h;n++)m(e.unwrap(b[n].geometry))||
(b.splice(n,1),n--,h--);this.transform=a;return this};c.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],g=c[1],b=b.scale,f=b[0],m=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+d},function(a){return g-a*m}),c=0;c<a.length;c++){var n=a[c].geometry;e.isSome(n)&&b(n)}this.transform=null;return this};c.prototype._quantizePoints=function(a,b,c){for(var d,e,g=[],f=0,m=a.length;f<m;f++){var n=a[f];if(0<f){var h=
b(n[0]),n=c(n[1]);if(h!==d||n!==e)g.push([h-d,n-e]),d=h,e=n}else d=b(n[0]),e=c(n[1]),g.push([d,e])}return 0<g.length?g:null};c.prototype._getQuantizationFunction=function(a,b,c){var e=this;return"point"===a?function(a){a.x=b(a.x);a.y=c(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var g=d.isPolygon(a)?a.rings:a.paths,f=[],m=0,n=g.length;m<n;m++){var h=e._quantizePoints(g[m],b,c);h&&f.push(h)}return 0<f.length?(d.isPolygon(a)?a.rings=f:a.paths=f,a):null}:"multipoint"===a?function(a){var d;
d=e._quantizePoints(a.points,b,c);return 0<d.length?(a.points=d,a):null}:"extent"===a?function(a){return a}:null};c.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=d.isPolygon(a)?a.rings:a.paths;for(var e,g,f=0,m=a.length;f<m;f++)for(var n=a[f],h=0,k=n.length;h<k;h++){var l=n[h];0<h?(e+=l[0],g+=l[1]):(e=l[0],g=l[1]);l[0]=b(e);l[1]=c(g)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);
a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,g=0,f=a.length;g<f;g++){var m=a[g];0<g?(d+=m[0],e+=m[1]):(d=m[0],e=m[1]);m[0]=b(d);m[1]=c(e)}}};b.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"displayFieldName",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"exceededTransferLimit",void 0);b.__decorate([n.property({type:[h],json:{write:!0}})],
c.prototype,"features",void 0);b.__decorate([n.reader("features")],c.prototype,"readFeatures",null);b.__decorate([n.property({type:[m],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([n.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:q.read}}})],c.prototype,"geometryType",void 0);b.__decorate([n.writer("geometryType")],c.prototype,"writeGeometryType",null);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
c.prototype,"hasM",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"hasZ",void 0);b.__decorate([n.property({types:l.geometryTypes,json:{read:d.fromJSON,write:!0}})],c.prototype,"queryGeometry",void 0);b.__decorate([n.property({type:g,json:{write:!0}})],c.prototype,"spatialReference",void 0);b.__decorate([n.writer("spatialReference")],c.prototype,"writeSpatialReference",null);b.__decorate([n.property({json:{write:!0}})],c.prototype,
"transform",void 0);return c=b.__decorate([n.subclass("esri.tasks.support.FeatureSet")],c)}(f.JSONSupport);c.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(c||(c={}));return c})},"esri/layers/support/Field":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(c,a,b,l,h,k,f,e,n){var g=new l.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",
dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function c(b){b=a.call(this,b)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;
b.valueType=null;return b}b.__extends(c,a);d=c;c.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(w){}return c?c.value:null};c.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(w){}return c?g.fromJSON(c.fieldValueType):null};c.prototype.clone=function(){return new d({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,
name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var d;b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([k.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([k.property()],c.prototype,"description",void 0);b.__decorate([k.reader("description")],c.prototype,"readDescription",null);b.__decorate([k.property({types:e.types,json:{read:{reader:e.fromJSON},write:!0}})],
c.prototype,"domain",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([k.property({type:f.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([k.enumeration(n.kebabDict)],c.prototype,"type",void 0);b.__decorate([k.property()],c.prototype,"valueType",
void 0);b.__decorate([k.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=d=b.__decorate([k.subclass("esri.layers.support.Field")],c)}(h.JSONSupport)})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.kebabDict=void 0;a.kebabDict=new b.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",
esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/mixins/ArcGISService":function(){define("require exports tslib ../../core/Logger ../../core/accessorSupport/decorators ../support/arcgisLayerUrl".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",
{value:!0});a.ArcGISService=void 0;a.ArcGISService=function(a){return function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);Object.defineProperty(c.prototype,"title",{get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var a=k.parse(this.url);if(a&&a.title)return a.title}return this._get("title")||""},set:function(a){this._set("title",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"url",{set:function(a){this._set("url",k.sanitizeUrl(a,l.getLogger(this.declaredClass)))},enumerable:!1,configurable:!0});b.__decorate([h.property({dependsOn:["url"]})],c.prototype,"title",null);b.__decorate([h.property({type:String})],c.prototype,"url",null);return c=b.__decorate([h.subclass("esri.layers.mixins.ArcGISService")],c)}(a)}})},"esri/layers/support/arcgisLayerUrl":function(){define(["require","exports","../../core/urlUtils","../../support/persistableUrlUtils"],function(c,a,b,l){function h(a){a=
b.urlToObject(a);var c=a.path.match(f)||a.path.match(e);if(!c)return null;a=c[1];var d=c[2],m=c[3],c=c[4],n=d.indexOf("/");return{title:k(-1!==n?d.slice(n+1):d),serverType:m,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:a}}}function k(a){a=a.replace(/\s*[/_]+\s*/g," ");return a[0].toUpperCase()+a.slice(1)}Object.defineProperty(a,"__esModule",{value:!0});a.isServerOrServicesAGOLUrl=a.isWmsServer=a.writeUrlWithLayerId=a.sanitizeUrlWithLayerId=a.sanitizeUrl=a.isHostedSecuredProxyService=a.isHostedAgolService=
a.titleFromUrlAndName=a.cleanTitle=a.parse=a.isArcGISUrl=a.serverTypes=void 0;a.serverTypes="MapServer ImageServer FeatureServer SceneServer StreamServer VectorTileServer".split(" ");var f=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/("+a.serverTypes.join("|")+"))(?:\\/(?:layers\\/)?(\\d+))?","i"),e=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/("+a.serverTypes.join("|")+"))(?:\\/(?:layers\\/)?(\\d+))?","i");a.isArcGISUrl=function(a){return!!f.test(a)};a.parse=h;a.cleanTitle=
k;a.titleFromUrlAndName=function(a,b){var c=[];a&&(a=h(a))&&a.title&&c.push(a.title);b&&(b=k(b),c.push(b));if(2===c.length){if(-1!==c[0].toLowerCase().indexOf(c[1].toLowerCase()))return c[0];if(-1!==c[1].toLowerCase().indexOf(c[0].toLowerCase()))return c[1]}return c.join(" - ")};a.isHostedAgolService=function(a){if(!a)return!1;a=a.toLowerCase();var b=-1!==a.indexOf(".arcgis.com/");a=-1!==a.indexOf("//services")||-1!==a.indexOf("//tiles")||-1!==a.indexOf("//features");return b&&a};a.isHostedSecuredProxyService=
function(a,b){return b&&a&&-1!==a.toLowerCase().indexOf(b.toLowerCase())};a.sanitizeUrl=function(a,c){return a?b.removeTrailingSlash(b.removeQueryParameters(a,c)):a};a.sanitizeUrlWithLayerId=function(a,c,d){if(!c)return{url:c};c=b.removeQueryParameters(c,d);d=b.urlToObject(c);d=h(d.path);var e;d&&null!=d.sublayer&&(null==a.layerId&&(e=d.sublayer),c=d.url.path);return{url:b.removeTrailingSlash(c),layerId:e}};a.writeUrlWithLayerId=function(a,c,d,e,f){l.write(c,e,"url",f);e.url&&null!=a.layerId&&(e.url=
b.join(e.url,d,a.layerId.toString()))};a.isWmsServer=function(a){if(!a)return!1;var b=a.toLowerCase();a=-1!==b.indexOf("/services/");var c=-1!==b.indexOf("/mapserver/wmsserver"),e=-1!==b.indexOf("/imageserver/wmsserver"),b=-1!==b.indexOf("/wmsserver");return a&&(c||e||b)};a.isServerOrServicesAGOLUrl=function(a){if(!a)return!1;a=(new b.Url(b.makeAbsolute(a))).authority.toLowerCase();return"server.arcgisonline.com"===a||"services.arcgisonline.com"===a}})},"esri/layers/mixins/BlendLayer":function(){define(["require",
"exports","tslib","../../core/accessorSupport/decorators"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.BlendLayer=void 0;a.BlendLayer=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.blendMode="normal";b.effect=null;return b}b.__extends(c,a);b.__decorate([l.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],c.prototype,"blendMode",void 0);b.__decorate([l.property({type:String})],c.prototype,"effect",void 0);return c=b.__decorate([l.subclass("esri.layers.mixins.BlendLayer")],c)}(a)}})},"esri/layers/mixins/TemporalLayer":function(){define("require exports tslib ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators ../../layers/support/TimeInfo ../support/fieldUtils ../support/timeUtils".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.TemporalLayer=void 0;a.TemporalLayer=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.timeExtent=null;b.timeOffset=null;b.useViewTime=!0;return b}b.__extends(c,a);c.prototype.readOffset=function(a,b){b=b.timeInfo.exportOptions;if(!b)return null;a=b.timeOffset;b=n.timeUnitKebabDictionary.fromJSON(b.timeOffsetUnits);return a&&b?new h({value:a,unit:b}):null};Object.defineProperty(c.prototype,
"timeInfo",{set:function(a){e.fixTimeInfoFields(a,this.fields);this._set("timeInfo",a)},enumerable:!1,configurable:!0});b.__decorate([k.property({type:l,json:{write:!1}})],c.prototype,"timeExtent",void 0);b.__decorate([k.property({type:h})],c.prototype,"timeOffset",void 0);b.__decorate([k.reader("service","timeOffset",["timeInfo.exportOptions"])],c.prototype,"readOffset",null);b.__decorate([k.property({value:null,type:f,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],c.prototype,"timeInfo",
null);b.__decorate([k.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"useViewTime",void 0);return c=b.__decorate([k.subclass("esri.layers.mixins.TemporalLayer")],c)}(a)}})},"esri/TimeInterval":function(){define("require exports tslib ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;
b.value=0;b.unit="milliseconds";return b}b.__extends(c,a);f=c;c.prototype.toMilliseconds=function(){return this.value*k.millisecondsPerTimeUnit[this.unit]};c.prototype.clone=function(){return new f({value:this.value,unit:this.unit})};var f;b.__decorate([h.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);b.__decorate([h.property({type:k.timeUnitKebabDictionary.apiValues,json:{type:k.timeUnitKebabDictionary.jsonValues,read:k.timeUnitKebabDictionary.read,write:k.timeUnitKebabDictionary.write},
nonNullable:!0})],c.prototype,"unit",void 0);return c=f=b.__decorate([h.subclass("esri.TimeInterval")],c)}(l.JSONSupport)})},"esri/layers/support/TimeInfo":function(){define("require exports tslib ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./TimeReference ./timeUtils".split(" "),function(c,a,b,l,h,k,f,e,n,g){return function(a){function c(b){b=a.call(this,b)||this;b.cumulative=!1;b.endField=null;b.fullTimeExtent=null;b.hasLiveData=
!1;b.interval=null;b.startField=null;b.timeReference=null;b.trackIdField=null;b.useTime=!0;return b}b.__extends(c,a);d=c;c.prototype.readFullTimeExtent=function(a,b){return b.timeExtent&&Array.isArray(b.timeExtent)&&2===b.timeExtent.length?new l({start:new Date(b.timeExtent[0]),end:new Date(b.timeExtent[1])}):null};c.prototype.writeFullTimeExtent=function(a,b){b.timeExtent=a&&a.start&&a.end?[a.start.getTime(),a.end.getTime()]:null};c.prototype.readInterval=function(a,b){return b.timeInterval&&b.timeIntervalUnits?
new h({value:b.timeInterval,unit:g.timeUnitKebabDictionary.fromJSON(b.timeIntervalUnits)}):b.defaultTimeInterval&&b.defaultTimeIntervalUnits?new h({value:b.defaultTimeInterval,unit:g.timeUnitKebabDictionary.fromJSON(b.defaultTimeIntervalUnits)}):null};c.prototype.writeInterval=function(a,b){a?(a=a.toJSON(),b.timeInterval=a.value,b.timeIntervalUnits=a.unit):(b.timeInterval=null,b.timeIntervalUnits=null)};c.prototype.clone=function(){var a=this.fullTimeExtent,b=this.trackIdField,c=this.useTime;return new d({cumulative:this.cumulative,
endField:this.endField,hasLiveData:this.hasLiveData,interval:this.interval,startField:this.startField,timeReference:f.clone(this.timeReference),fullTimeExtent:f.clone(a),trackIdField:b,useTime:c})};var d;b.__decorate([e.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],c.prototype,"cumulative",void 0);b.__decorate([e.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],
c.prototype,"endField",void 0);b.__decorate([e.property({type:l,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"fullTimeExtent",void 0);b.__decorate([e.reader("fullTimeExtent",["timeExtent"])],c.prototype,"readFullTimeExtent",null);b.__decorate([e.writer("fullTimeExtent")],c.prototype,"writeFullTimeExtent",null);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"hasLiveData",void 0);b.__decorate([e.property({type:h,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"interval",
void 0);b.__decorate([e.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],c.prototype,"readInterval",null);b.__decorate([e.writer("interval")],c.prototype,"writeInterval",null);b.__decorate([e.property({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],c.prototype,"startField",void 0);b.__decorate([e.property({type:n,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"timeReference",void 0);
b.__decorate([e.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"trackIdField",void 0);b.__decorate([e.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],c.prototype,"useTime",void 0);return c=d=b.__decorate([e.subclass("esri.layers.support.TimeInfo")],c)}(k.JSONSupport)})},"esri/layers/support/TimeReference":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.respectsDaylightSaving=!1;b.timezone=null;return b}b.__extends(c,a);e=c;c.prototype.readRespectsDaylightSaving=function(a,b){return void 0!==b.respectsDaylightSaving?b.respectsDaylightSaving:void 0!==b.respectDaylightSaving?b.respectDaylightSaving:!1};c.prototype.clone=function(){return new e({respectsDaylightSaving:this.respectsDaylightSaving,timezone:this.timezone})};var e;b.__decorate([h.property({type:Boolean,json:{write:!0}})],
c.prototype,"respectsDaylightSaving",void 0);b.__decorate([h.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],c.prototype,"readRespectsDaylightSaving",null);b.__decorate([h.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],c.prototype,"timezone",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.TimeReference")],c)}(l.JSONSupport)})},"esri/layers/support/FeatureIndex":function(){define(["require","exports","tslib",
"../../core/JSONSupport","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.FeatureIndex=void 0;c=function(a){function c(b){return a.call(this,b)||this}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({name:this.name,fields:this.fields,isAscending:this.isAscending,isUnique:this.isUnique,description:this.description})};var e;b.__decorate([h.property({constructOnly:!0})],c.prototype,"name",void 0);b.__decorate([h.property({constructOnly:!0})],
c.prototype,"fields",void 0);b.__decorate([h.property({constructOnly:!0})],c.prototype,"isAscending",void 0);b.__decorate([h.property({constructOnly:!0})],c.prototype,"isUnique",void 0);b.__decorate([h.property({constructOnly:!0})],c.prototype,"description",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.FeatureIndex")],c)}(l.JSONSupport);a.FeatureIndex=c;a.default=c})},"esri/layers/support/FeatureReduction":function(){define(["require","exports","tslib","../../core/JSONSupport",
"../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.FeatureReduction=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.type=null;return b}b.__extends(c,a);b.__decorate([h.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([h.subclass("esri.layers.support.FeatureReduction")],c)}(l.JSONSupport);a.FeatureReduction=c;a.default=c})},"esri/layers/support/FeatureReductionCluster":function(){define("require exports tslib ../../PopupTemplate ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){return function(a){function c(b){b=a.call(this,b)||this;b.type="cluster";b.clusterRadius=f.toPt("80px");b.clusterMinSize=f.toPt("12px");b.clusterMaxSize=f.toPt("50px");b.popupEnabled=!0;b.popupTemplate=null;b.labelingInfo=null;b.labelsVisible=!0;b.fields=null;return b}b.__extends(c,a);m=c;c.prototype.clone=function(){return new m({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:k.clone(this.labelingInfo),
labelsVisible:this.labelsVisible,fields:k.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:k.clone(this.popupTemplate)})};var m;b.__decorate([e.property({type:["cluster"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:function(a){return"auto"===a?a:f.toPt(a)},json:{write:!0}})],c.prototype,"clusterRadius",void 0);b.__decorate([e.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"clusterMinSize",void 0);b.__decorate([e.property({type:Number,
cast:f.toPt,json:{write:!0}})],c.prototype,"clusterMaxSize",void 0);b.__decorate([e.property(g.popupEnabled)],c.prototype,"popupEnabled",void 0);b.__decorate([e.property({type:l,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c.prototype,"popupTemplate",void 0);b.__decorate([e.property({type:[d],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);b.__decorate([e.property(g.labelsVisible)],c.prototype,"labelsVisible",
void 0);b.__decorate([e.property({type:[n],json:{write:!0}})],c.prototype,"fields",void 0);return c=m=b.__decorate([e.subclass("esri.layers.support.FeatureReductionCluster")],c)}(h.JSONSupport)})},"esri/layers/support/AggregateField":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./OutStatistic".split(" "),function(c,a,b,l,h,k){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.name=null;return b}b.__extends(c,a);
f=c;c.prototype.clone=function(){return new f({name:this.name,outStatistic:this.outStatistic.clone()})};var f;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:k,json:{write:!0}})],c.prototype,"outStatistic",void 0);return c=f=b.__decorate([h.subclass("esri.layers.support.AggregateField")],c)}(l.JSONSupport)})},"esri/layers/support/OutStatistic":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(c,a,b,l,h){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.statisticType=null;b.onStatisticField=null;b.onStatisticValueExpression=null;return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};var e;b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"statisticType",void 0);b.__decorate([h.property({type:String,
json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"onStatisticValueExpression",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.OutStatistic")],c)}(l.JSONSupport)})},"esri/layers/support/LabelClass":function(){define("require exports tslib ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./LabelExpressionInfo ./labelUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){function q(a){return a?"service"===a.origin?!1:!a.layer||"map-image"!==a.layer.type:!0}var r=new h.default({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",
esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",
esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});return function(a){function c(b){b=a.call(this,b)||this;b.type="label";b.name=null;b.deconflictionStrategy="static";b.labelExpression=
null;b.labelExpressionInfo=null;b.labelPlacement=null;b.maxScale=0;b.minScale=0;b.symbol=d.defaultTextSymbol2D;b.useCodedValues=void 0;b.where=null;return b}b.__extends(c,a);h=c;c.evaluateWhere=function(a,b){var c=function(a,b,c){switch(b){case "\x3d":return a==c?!0:!1;case "\x3c\x3e":return a!=c?!0:!1;case "\x3e":return a>c?!0:!1;case "\x3e\x3d":return a>=c?!0:!1;case "\x3c":return a<c?!0:!1;case "\x3c\x3d":return a<=c?!0:!1}return!1};try{if(null==a)return!0;var d=a.split(" ");if(3===d.length)return c(b[d[0]],
d[1],d[2]);if(7===d.length){var e=c(b[d[0]],d[1],d[2]),g=d[3],f=c(b[d[4]],d[5],d[6]);switch(g){case "AND":return e&&f;case "OR":return e||f}}return!1}catch(E){console.log("Error.: can't parse \x3d "+a)}};c.prototype.readLabelExpression=function(a,b){b=b.labelExpressionInfo;if(!b||!b.value&&!b.expression)return a};c.prototype.writeLabelExpression=function(a,b,c,d){this.labelExpressionInfo&&(q(d)||d&&"service"===d.origin)&&(null!=this.labelExpressionInfo.value?a=g.templateStringToSql(this.labelExpressionInfo.value):
null!=this.labelExpressionInfo.expression&&(d=g.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression))&&(a="["+d+"]"));null!=a&&(b[c]=a)};c.prototype.writeLabelExpressionInfo=function(a,b,c,d){if(null==a&&null!=this.labelExpression&&q(d))a=new n({expression:this.getLabelExpressionArcade()});else if(!a)return;a=a.toJSON(d);a.expression&&(b[c]=a)};c.prototype.writeMaxScale=function(a,b){if(a||this.minScale)b.maxScale=a};c.prototype.writeMinScale=function(a,b){if(a||this.maxScale)b.minScale=
a};c.prototype.getLabelExpression=function(){return g.getLabelExpression(this)};c.prototype.getLabelExpressionArcade=function(){return g.getLabelExpressionArcade(this)};c.prototype.getLabelExpressionSingleField=function(){return g.getLabelExpressionSingleField(this)};c.prototype.hash=function(){return JSON.stringify(this)};c.prototype.clone=function(){return new h({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:f.clone(this.labelExpressionInfo),
labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:f.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};var h;b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],c.prototype,"deconflictionStrategy",void 0);b.__decorate([e.property({type:String,json:{write:{allowNull:!0}}})],c.prototype,
"labelExpression",void 0);b.__decorate([e.reader("labelExpression")],c.prototype,"readLabelExpression",null);b.__decorate([e.writer("labelExpression")],c.prototype,"writeLabelExpression",null);b.__decorate([e.property({type:n,json:{write:{overridePolicy:function(a,b,c){return q(c)?{allowNull:!0}:{enabled:!1}}}}})],c.prototype,"labelExpressionInfo",void 0);b.__decorate([e.writer("labelExpressionInfo")],c.prototype,"writeLabelExpressionInfo",null);b.__decorate([e.property({type:r.apiValues,json:{type:r.jsonValues,
read:r.read,write:r.write}})],c.prototype,"labelPlacement",void 0);b.__decorate([e.property({type:Number})],c.prototype,"maxScale",void 0);b.__decorate([e.writer("maxScale")],c.prototype,"writeMaxScale",null);b.__decorate([e.property({type:Number})],c.prototype,"minScale",void 0);b.__decorate([e.writer("minScale")],c.prototype,"writeMinScale",null);b.__decorate([e.property({types:l.symbolTypesLabel,json:{origins:{"web-scene":{types:l.symbolTypesLabel3D,write:m.write,default:null}},write:m.write,default:null}})],
c.prototype,"symbol",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"useCodedValues",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"where",void 0);return c=h=b.__decorate([e.subclass("esri.layers.support.LabelClass")],c)}(k.JSONSupport)})},"esri/layers/support/LabelExpressionInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./labelUtils".split(" "),function(c,a,b,l,h,k){return function(a){function c(){var b=
null!==a&&a.apply(this,arguments)||this;b.value=null;b.expression=null;return b}b.__extends(c,a);f=c;c.prototype.readExpression=function(a,b){return b.value?k.convertTemplatedStringToArcade(b.value):a};c.prototype.writeExpression=function(a,b,c){null!=this.value&&(a=k.convertTemplatedStringToArcade(this.value));b[c]=a};c.prototype.clone=function(){return new f({value:this.value,expression:this.expression})};var f;b.__decorate([h.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);b.__decorate([h.property({type:String,
json:{write:{allowNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([h.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([h.writer("expression")],c.prototype,"writeExpression",null);return c=f=b.__decorate([h.subclass("esri.layers.support.LabelExpressionInfo")],c)}(l.JSONSupport)})},"esri/layers/support/labelUtils":function(){define(["require","exports","../../core/string"],function(c,a,b){function l(a){return a.replace(/\[/g,"{").replace(/\]/g,
"}")}function h(a){var b={expression:"",type:"none"};a.labelExpressionInfo?a.labelExpressionInfo.value?(b.expression=a.labelExpressionInfo.value,b.type="conventional"):a.labelExpressionInfo.expression&&(b.expression=a.labelExpressionInfo.expression,b.type="arcade"):null!=a.labelExpression&&(b.expression=l(a.labelExpression),b.type="conventional");return b}function k(a){a?(a=b.replace(a,function(a){return'__begin__$feature["'+a+'"]__end__'}),a=d.test(a)?a.replace(d,""):'"'+a,a=m.test(a)?a.replace(m,
""):a+'"',a=a.replace(n,'" + ').replace(g,' + "')):a='""';return a}function f(a){return(a=a.match(q))&&a[1].trim()||null}function e(a){if(!a)return null;var b=r.exec(a)||p.exec(a);return b?b[1]||b[3]:(b=t.exec(a))?b[2]:null}Object.defineProperty(a,"__esModule",{value:!0});a.getSingleFieldArcadeExpression=a.getSingleFieldTemplatedString=a.convertTemplatedStringToArcade=a.getLabelExpressionSingleField=a.getLabelExpressionArcade=a.getLabelExpression=a.templateStringToSql=a.sqlToTemplateString=void 0;
var n=/__begin__/ig,g=/__end__/ig,d=/^__begin__/i,m=/__end__$/i;a.sqlToTemplateString=l;a.templateStringToSql=function(a){return a.replace(/\{/g,"[").replace(/\}/g,"]")};a.getLabelExpression=h;a.getLabelExpressionArcade=function(a){a=h(a);if(!a)return null;switch(a.type){case "conventional":return k(a.expression);case "arcade":return a.expression}return null};a.getLabelExpressionSingleField=function(a){a=h(a);if(!a)return null;switch(a.type){case "conventional":return f(a.expression);case "arcade":return e(a.expression)}return null};
a.convertTemplatedStringToArcade=k;var q=/^\s*\{([^}]+)\}\s*$/i;a.getSingleFieldTemplatedString=f;var r=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,t=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.getSingleFieldArcadeExpression=e})},"esri/symbols/support/defaults":function(){define("require exports ../../core/compilerUtils ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.errorPolygonSymbol2D=a.errorPolylineSymbol2D=a.errorPointSymbol2D=a.getDefaultSymbol2D=a.defaultTextSymbol2D=a.defaultPolygonSymbol2D=a.defaultPolylineSymbol2D=a.defaultPointSymbol2D=void 0;a.defaultPointSymbol2D=f.fromJSON(n.defaultPointSymbolJSON);a.defaultPolylineSymbol2D=k.fromJSON(n.defaultPolylineSymbolJSON);a.defaultPolygonSymbol2D=h.fromJSON(n.defaultPolygonSymbolJSON);a.defaultTextSymbol2D=e.fromJSON(n.defaultTextSymbolJSON);
a.getDefaultSymbol2D=function(c){if(l.isNone(c))return null;switch(c.type){case "mesh":break;case "point":case "multipoint":return a.defaultPointSymbol2D;case "polyline":return a.defaultPolylineSymbol2D;case "polygon":case "extent":return a.defaultPolygonSymbol2D;default:b.neverReached(c)}return null};a.errorPointSymbol2D=f.fromJSON(n.errorPointSymbolJSON);a.errorPolylineSymbol2D=k.fromJSON(n.errorPolylineSymbolJSON);a.errorPolygonSymbol2D=h.fromJSON(n.errorPolygonSymbolJSON)})},"esri/symbols/support/defaultsJSON":function(){define(["require",
"exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.errorPolygonSymbolJSON=a.errorPolylineSymbolJSON=a.errorPointSymbolJSON=a.defaultTextSymbolJSON=a.defaultPolygonSymbolJSON=a.defaultPolylineSymbolJSON=a.defaultPointSymbolJSON=a.defaultOutlineColor=a.defaultColor=void 0;a.defaultColor=[252,146,31,255];a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",size:6,color:a.defaultColor,outline:{type:"esriSLS",style:"esriSLSSolid",
width:.75,color:[153,153,153,255]}};a.defaultPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",width:.75,color:a.defaultColor};a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}})},"esri/layers/support/FeatureReductionSelection":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./FeatureReduction"],function(c,a,b,
l,h){return function(a){function c(b){b=a.call(this,b)||this;b.type="selection";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e};var e;b.__decorate([l.property({type:["selection"]})],c.prototype,"type",void 0);return c=e=b.__decorate([l.subclass("esri.layers.support.FeatureReductionSelection")],c)}(h.default)})},"esri/layers/support/featureReductionUtils":function(){define("require exports ../../core/Error ../../core/object ./FeatureReduction ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(c,a,b,l,h,k,f){function e(a,c,d){return a?"selection"!==a.type?(d.messages&&d.messages.push(new b("featureReduction:unsupported","FeatureReduction of type '"+a.declaredClass+"' are not supported in scenes.",{featureReduction:a,context:d})),null):a.write(c,d):null}Object.defineProperty(a,"__esModule",{value:!0});a.write=a.writeTarget=a.read=a.webSceneFeatureReductionTypes=void 0;a.webSceneFeatureReductionTypes={key:"type",base:h.default,typeMap:{selection:f}};a.read=function(a,b){b=b.layerDefinition||
b;if(a=b.featureReduction)switch(a.type){case "selection":return f.fromJSON(a);case "cluster":return k.fromJSON(a)}return null};a.writeTarget=function(a,b,c,f){(a=e(a,{},f))&&l.setDeepValue(c,a,b)};a.write=e})},"esri/layers/support/FeatureTemplate":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f){var e=new l.default({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",
esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});
return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.description=null;b.drawingTool=null;b.prototype=null;b.thumbnail=null;return b}b.__extends(c,a);c.prototype.writeDrawingTool=function(a,b){b.drawingTool=e.toJSON(a)};c.prototype.writePrototype=function(a,b){b.prototype=k.fixJson(k.clone(a),!0)};c.prototype.writeThumbnail=function(a,b){b.thumbnail=k.fixJson(k.clone(a))};b.__decorate([f.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([f.property({json:{write:!0}})],
c.prototype,"description",void 0);b.__decorate([f.property({json:{read:e.read,write:e.write}})],c.prototype,"drawingTool",void 0);b.__decorate([f.writer("drawingTool")],c.prototype,"writeDrawingTool",null);b.__decorate([f.property({json:{write:!0}})],c.prototype,"prototype",void 0);b.__decorate([f.writer("prototype")],c.prototype,"writePrototype",null);b.__decorate([f.property({json:{write:!0}})],c.prototype,"thumbnail",void 0);b.__decorate([f.writer("thumbnail")],c.prototype,"writeThumbnail",null);
return c=b.__decorate([f.subclass("esri.layers.support.FeatureTemplate")],c)}(h.JSONSupport)})},"esri/layers/support/FeatureType":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./domains ./FeatureTemplate".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,b)||this;b.id=null;b.name=null;b.domains=null;b.templates=null;return b}b.__extends(c,a);c.prototype.readDomains=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=
a[c];switch(d.type){case "range":b[c]=f.RangeDomain.fromJSON(d);break;case "codedValue":b[c]=f.CodedValueDomain.fromJSON(d);break;case "inherited":b[c]=f.InheritedDomain.fromJSON(d)}}return b};c.prototype.writeDomains=function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]&&a[d].toJSON());h.fixJson(c);b.domains=c};c.prototype.readTemplates=function(a){return a&&a.map(function(a){return new e(a)})};c.prototype.writeTemplates=function(a,b){b.templates=a&&a.map(function(a){return a.toJSON()})};
b.__decorate([k.property({json:{write:!0}})],c.prototype,"id",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([k.reader("domains")],c.prototype,"readDomains",null);b.__decorate([k.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([k.property({json:{write:!0}})],c.prototype,"templates",void 0);b.__decorate([k.reader("templates")],c.prototype,"readTemplates",null);b.__decorate([k.writer("templates")],
c.prototype,"writeTemplates",null);return c=b.__decorate([k.subclass("esri.layers.support.FeatureType")],c)}(l.JSONSupport)})},"esri/layers/support/fieldProperties":function(){define("require exports @dojo/framework/shim/array ../../core/Logger ./Field ./fieldUtils".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.defineFieldProperties=void 0;var f=l.getLogger("esri.layers.support.fieldProperties");a.defineFieldProperties=function(){return{fields:{type:[h],value:null},
outFields:{type:[String],dependsOn:["fields"],json:{read:!1},set:function(a){this._userOutFields=a;this.notifyChange("outFields")},get:function(){var a=this._userOutFields;if(!a||!a.length)return null;if(b.includes(a,"*"))return["*"];if(!this.fields)return a;for(var c=0;c<a.length;c++){var g=a[c];k.hasField(this.fields,g)||f.error("field-attributes-layer:invalid-field","Invalid field "+g+" found in outFields",{layer:this,outFields:a})}return k.fixFields(this.fields,a)}}}}})},"esri/layers/support/FieldsIndex":function(){define(["require",
"exports"],function(c,a){return function(){function a(a){this.fields=a;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(a){for(var b=[],c=0;c<a.length;c++){var f=a[c],e=f&&f.name;if(e){var n=e.toLowerCase().trim();this._fieldsMap.set(e,f);this._fieldsMap.set(n,f);b.push(n);if("date"===f.type||"esriFieldTypeDate"===f.type)this.dateFields.push(f),this._dateFieldsSet.add(f)}}b.sort();this.uid=b.join(",")}}a.prototype.destroy=function(){this._fieldsMap.clear()};a.prototype.has=
function(a){return null!=this.get(a)};a.prototype.get=function(a){return null!=a?this._fieldsMap.get(a)||this._fieldsMap.get(a.toLowerCase().trim()):void 0};a.prototype.isDateField=function(a){return this._dateFieldsSet.has(this.get(a))};a.prototype.normalizeFieldName=function(a){if(a=this.get(a))return a.name};return a}()})},"esri/layers/support/labelingInfo":function(){define(["require","exports","./LabelClass"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.reader=void 0;var l=
/\[([^\[\]]+)\]/gi;a.reader=function(a,c,f){var e=this;return a?a.map(function(a){var g=new b;g.read(a,f);if(g.labelExpression){var d=c.fields||c.layerDefinition&&c.layerDefinition.fields||e.fields;g.labelExpression=g.labelExpression.replace(l,function(a,b){a:if(d){a=b.toLowerCase();for(var c=0;c<d.length;c++){var e=d[c].name;if(e.toLowerCase()===a){b=e;break a}}}return"["+b+"]"})}return g}):null}})},"esri/layers/support/Relationship":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k){var f=new l.default({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),e=new l.default({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});return function(a){function c(b){b=a.call(this,b)||this;b.cardinality=null;b.composite=null;b.id=null;b.keyField=null;b.keyFieldInRelationshipTable=null;b.name=null;b.relatedTableId=null;b.relationshipTableId=null;b.role=null;return b}b.__extends(c,
a);b.__decorate([k.property({json:{read:f.read,write:f.write}})],c.prototype,"cardinality",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],
c.prototype,"name",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([k.property({json:{read:e.read,write:e.write}})],c.prototype,"role",void 0);return c=b.__decorate([k.subclass("esri.layers.support.Relationship")],c)}(h.JSONSupport)})},"esri/layers/support/source/DataLayerSource":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../Field ./JoinTableDataSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){Object.defineProperty(a,"__esModule",{value:!0});a.DataLayerSource=void 0;var m={key:"type",base:null,typeMap:{"join-table":e.JoinTableDataSource,"query-table":n.QueryTableDataSource,raster:g.RasterDataSource,table:d.TableDataSource}};c=function(a){function c(b){b=a.call(this,b)||this;b.type="data-layer";return b}b.__extends(c,a);d=c;c.prototype.clone=function(){return new d({fields:this.fields,dataSource:this.dataSource})};var d;b.__decorate([h.enumeration({dataLayer:"data-layer"})],
c.prototype,"type",void 0);b.__decorate([h.property({type:[f],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([h.property({types:m,json:{write:!0}})],c.prototype,"dataSource",void 0);return c=d=b.__decorate([h.subclass("esri.layers.support.source.DataLayerSource")],c)}(l.JSONSupport);a.DataLayerSource=c;c.from=k.default(c)})},"esri/layers/support/source/JoinTableDataSource":function(){define("require exports tslib ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ./DataLayerSource ./MapLayerSource".split(" "),
function(c,a,b,l,h,k,f,e,n,g){function d(){r||(r=e.createTypeReader({types:m()}));return r}function m(){p||(p={key:"type",base:null,typeMap:{"data-layer":n.DataLayerSource,"map-layer":g.MapLayerSource}});return p}Object.defineProperty(a,"__esModule",{value:!0});a.JoinTableDataSource=void 0;var q=l.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});c=function(a){function c(b){b=a.call(this,b)||this;b.type="join-table";return b}b.__extends(c,a);e=c;c.prototype.readLeftTableSource=
function(a,b,c){return d()(a,b,c)};c.prototype.castLeftTableSource=function(a){return f.ensureOneOfType(m(),a)};c.prototype.readRightTableSource=function(a,b,c){return d()(a,b,c)};c.prototype.castRightTableSource=function(a){return f.ensureOneOfType(m(),a)};c.prototype.clone=function(){var a,b,c=this.leftTableSource,d=this.rightTableSource,g=this.joinType,c={leftTableKey:this.leftTableKey,rightTableKey:this.rightTableKey,leftTableSource:null!==(a=null===c||void 0===c?void 0:c.clone())&&void 0!==a?
a:void 0,rightTableSource:null!==(b=null===d||void 0===d?void 0:d.clone())&&void 0!==b?b:void 0,joinType:g};return new e(c)};var e;b.__decorate([k.enumeration({joinTable:"join-table"})],c.prototype,"type",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"leftTableKey",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"rightTableKey",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"leftTableSource",void 0);b.__decorate([k.reader("leftTableSource")],
c.prototype,"readLeftTableSource",null);b.__decorate([k.cast("leftTableSource")],c.prototype,"castLeftTableSource",null);b.__decorate([k.property({json:{write:!0}})],c.prototype,"rightTableSource",void 0);b.__decorate([k.reader("rightTableSource")],c.prototype,"readRightTableSource",null);b.__decorate([k.cast("rightTableSource")],c.prototype,"castRightTableSource",null);b.__decorate([k.enumeration(q)],c.prototype,"joinType",void 0);return c=e=b.__decorate([k.subclass("esri.layers.support.source.JoinTableDataSource")],
c)}(h.JSONSupport);a.JoinTableDataSource=c;var r=null,p=null})},"esri/layers/support/source/MapLayerSource":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.MapLayerSource=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.type="map-layer";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){return new f({mapLayerId:this.mapLayerId,
gdbVersion:this.gdbVersion})};var f;b.__decorate([h.enumeration({mapLayer:"map-layer"})],c.prototype,"type",void 0);b.__decorate([h.property({type:k.Integer,json:{write:!0}})],c.prototype,"mapLayerId",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);return c=f=b.__decorate([h.subclass("esri.layers.support.source.MapLayerSource")],c)}(l.JSONSupport);a.MapLayerSource=c})},"esri/layers/support/source/QueryTableDataSource":function(){define("require exports tslib ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.QueryTableDataSource=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.type="query-table";return b}b.__extends(c,a);f=c;c.prototype.clone=function(){var a,b=this.spatialReference,c=this.geometryType,b={workspaceId:this.workspaceId,query:this.query,oidFields:this.oidFields,spatialReference:null!==(a=null===b||void 0===b?void 0:b.clone())&&void 0!==a?a:void 0,geometryType:c};return new f(b)};var f;b.__decorate([k.enumeration({queryTable:"query-table"})],
c.prototype,"type",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"workspaceId",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"query",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"oidFields",void 0);b.__decorate([k.property({type:l.SpatialReference,json:{write:!0}})],c.prototype,"spatialReference",void 0);b.__decorate([k.enumeration(l.featureGeometryTypeKebabDictionary)],c.prototype,"geometryType",void 0);
return c=f=b.__decorate([k.subclass("esri.layers.support.source.QueryTableDataSource")],c)}(h.JSONSupport);a.QueryTableDataSource=c})},"esri/layers/support/source/RasterDataSource":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.RasterDataSource=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.type="raster";return b}b.__extends(c,a);e=c;c.prototype.clone=
function(){return new e({workspaceId:this.workspaceId,dataSourceName:this.dataSourceName})};var e;b.__decorate([h.enumeration({raster:"raster"})],c.prototype,"type",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"dataSourceName",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"workspaceId",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.source.RasterDataSource")],c)}(l.JSONSupport);a.RasterDataSource=c})},"esri/layers/support/source/TableDataSource":function(){define(["require",
"exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.TableDataSource=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.type="table";return b}b.__extends(c,a);e=c;c.prototype.clone=function(){return new e({workspaceId:this.workspaceId,gdbVersion:this.gdbVersion,dataSourceName:this.dataSourceName})};var e;b.__decorate([h.enumeration({table:"table"})],c.prototype,"type",void 0);b.__decorate([h.property({type:String,
json:{write:!0}})],c.prototype,"workspaceId",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"dataSourceName",void 0);return c=e=b.__decorate([h.subclass("esri.layers.support.source.TableDataSource")],c)}(l.JSONSupport);a.TableDataSource=c})},"esri/support/popupUtils":function(){define("require exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(c,a,b,l,h,k,f){function e(a,b){var c=a;b&&(a=a.filter(function(a){return-1===b.indexOf(a.type)}));a===c&&(a=a.slice());a.sort(n);return a}function n(a,b){return"oid"===a.type?-1:"oid"===b.type?1:q(a)?-1:q(b)?1:(a.alias||a.name).toLocaleLowerCase().localeCompare((b.alias||b.name).toLocaleLowerCase())}function g(a,b){if(!a||!b)return!1;var c=b.creationDateField,d=b.creatorField,e=b.editDateField;b=b.editorField;return-1!==[c&&c.toLowerCase(),d&&d.toLowerCase(),e&&e.toLowerCase(),b&&b.toLowerCase()].indexOf(a.toLowerCase())}
function d(a,b){var c=a.editFieldsInfo,d=a.objectIdField;return e(a.fields,(null===b||void 0===b?void 0:b.ignoreFieldTypes)||v).map(function(a){var e=a.name,f;f=a.editable&&-1===p.indexOf(a.type)&&!g(a.name,c);return new k({fieldName:e,isEditable:f,label:a.alias,format:m(a),visible:w(a,{editFieldsInfo:c,objectIdField:d,visibleFieldNames:null===b||void 0===b?void 0:b.visibleFieldNames})})})}function m(a){switch(a.type){case "small-integer":case "integer":case "single":return new f({digitSeparator:!0,
places:0});case "double":return new f({digitSeparator:!0,places:2});case "date":return new f({dateFormat:"long-month-day-year"});default:return null}}function q(a){if("name"===(a.name&&a.name.toLowerCase())||"name"===(a.alias&&a.alias.toLowerCase()))return!0}Object.defineProperty(a,"__esModule",{value:!0});a.createFieldInfos=a.createFieldsContent=a.createPopupTemplate=void 0;var r=["oid","global-id"],p=["oid","global-id","guid"];a.createPopupTemplate=function(a,c){var e=a.displayField,g=a.fields,
f=a.title;if(!g)return null;a=d({editFieldsInfo:a.editFieldsInfo,fields:g,objectIdField:a.objectIdField},c);if(!a.length)return null;g={titleBase:f,fields:g,displayField:e};e=l.getDisplayFieldName(g);g=g.titleBase;e=e?g+": {"+e.trim()+"}":g;g=[new h.FieldsContent,new h.AttachmentsContent];return new b({title:e,content:g,fieldInfos:a})};var t=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],
w=function(a,b){var c=b.editFieldsInfo,d=b.objectIdField;return(b=b.visibleFieldNames)?b.has(a.name):g(a.name,c)?!1:d&&a.name===d?!1:-1<r.indexOf(a.type)?!1:!t.some(function(b){return b.test(a.name)})};a.createFieldsContent=function(a,b){return new h.FieldsContent({fieldInfos:d(a,b).filter(function(a){return a.visible})})};a.createFieldInfos=d;var v=["geometry","blob","raster","guid","xml"]})},"esri/tasks/support/AttachmentQuery":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
function(c,a,b,l,h,k,f){c=function(a){function c(b){b=a.call(this,b)||this;b.attachmentTypes=null;b.attachmentsWhere=null;b.keywords=null;b.globalIds=null;b.name=null;b.num=null;b.objectIds=null;b.returnMetadata=!1;b.size=null;b.start=null;b.where=null;return b}b.__extends(c,a);e=c;c.prototype.writeStart=function(a,b){b.resultOffset=this.start;b.resultRecordCount=this.num||10};c.prototype.clone=function(){return new e(h.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};var e;b.__decorate([k.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([k.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",void 0);b.__decorate([k.property({type:[String],
json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([k.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([k.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",
void 0);b.__decorate([k.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([k.writer("start"),k.writer("num")],c.prototype,"writeStart",null);b.__decorate([k.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);return c=e=b.__decorate([k.subclass("esri.tasks.support.AttachmentQuery")],
c)}(l.JSONSupport);c.from=f.default(c);return c})},"esri/tasks/support/Query":function(){define("require exports tslib ../../geometry ../../geometry ../../symbols ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t){var w=new e.default({esriSpatialRelIntersects:"intersects",
esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),v=new e.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",
esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(a){function c(b){b=a.call(this,b)||this;b.cacheHint=void 0;b.datumTransformation=null;b.distance=void 0;b.dynamicDataSource=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=
null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnCentroid=!1;b.returnDistinctValues=!1;b.returnExceededLimitFeatures=!0;b.returnGeometry=!1;b.returnQueryGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units=null;b.where=null;return b}b.__extends(c,a);e=c;c.from=function(a){return m.ensureClass(e,a)};c.prototype.castDatumTransformation=
function(a){return"number"===typeof a||"object"===typeof a?a:null};c.prototype.writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};c.prototype.writeParameterValues=function(a,b){if(a){var c={},d;for(d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};c.prototype.writeStart=function(a,b){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};c.prototype.writeWhere=
function(a,b){b.where=a||"1\x3d1"};c.prototype.clone=function(){return new e(g.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,
multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,
returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var e;c.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([d.property({type:Boolean,json:{write:{writer:function(a,b){null!=
a&&(b.cacheHint=a)}}}})],c.prototype,"cacheHint",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"datumTransformation",void 0);b.__decorate([d.cast("datumTransformation")],c.prototype,"castDatumTransformation",null);b.__decorate([d.property({type:Number,json:{write:{overridePolicy:function(a){return{enabled:0<a}}}}})],c.prototype,"distance",void 0);b.__decorate([d.property({type:r.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([d.property({types:h.geometryTypes,json:{read:q.fromJSON,write:!0}})],c.prototype,"geometry",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"having",void 0);b.__decorate([d.property({type:Date})],c.prototype,
"historicMoment",void 0);b.__decorate([d.writer("historicMoment")],c.prototype,"writeHistoricMoment",null);b.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([d.property({type:Number,cast:function(a){return 1>a?1:a>e.MAX_MAX_RECORD_COUNT_FACTOR?e.MAX_MAX_RECORD_COUNT_FACTOR:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],c.prototype,"maxRecordCountFactor",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
c.prototype,"multipatchOption",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([d.property({type:l.SpatialReference,json:{read:{source:"outSR"},
write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([d.property({type:[t],json:{write:{enabled:!0,overridePolicy:function(){var a;return{enabled:0<(null===(a=this.outStatistics)||void 0===a?void 0:a.length)}}}}})],c.prototype,"outStatistics",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"parameterValues",void 0);b.__decorate([d.writer("parameterValues")],c.prototype,"writeParameterValues",null);b.__decorate([d.property({types:k.symbolTypes,json:{write:!0}})],
c.prototype,"pixelSize",void 0);b.__decorate([d.property({type:p.default,json:{write:!0}})],c.prototype,"quantizationParameters",void 0);b.__decorate([d.property({type:[Object],json:{write:!0}})],c.prototype,"rangeValues",void 0);b.__decorate([d.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],c.prototype,"relationParameter",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
c.prototype,"resultType",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnCentroid",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnDistinctValues",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],c.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([d.property({type:Boolean,
json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnQueryGeometry",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnM",void 0);b.__decorate([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnZ",void 0);b.__decorate([d.property({type:String,
json:{read:{source:"spatialRel",reader:w.read},write:{target:"spatialRel",writer:w.write}}})],c.prototype,"spatialRelationship",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([d.writer("start"),d.writer("num")],c.prototype,"writeStart",null);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"sqlFormat",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);b.__decorate([d.property({type:f,
json:{write:!0}})],c.prototype,"timeExtent",void 0);b.__decorate([d.property({type:String,json:{read:v.read,write:{writer:v.write,overridePolicy:function(a){return{enabled:a&&0<this.distance}}}}})],c.prototype,"units",void 0);b.__decorate([d.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],c.prototype,"where",void 0);b.__decorate([d.writer("where")],c.prototype,"writeWhere",null);return c=e=b.__decorate([d.subclass("esri.tasks.support.Query")],
c)}(n.JSONSupport)})},"esri/tasks/support/QuantizationParameters":function(){define("require exports tslib ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});var n=new h.default({upperLeft:"upper-left",lowerLeft:"lower-left"});c=function(a){function c(b){b=a.call(this,b)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";b.tolerance=1;return b}
b.__extends(c,a);g=c;c.prototype.clone=function(){return new g(f.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var g;b.__decorate([e.property({type:l.Extent,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],c.prototype,"extent",void 0);b.__decorate([e.property({type:["view","edit"],json:{write:!0}})],c.prototype,"mode",void 0);b.__decorate([e.property({type:String,json:{read:n.read,write:n.write}})],c.prototype,
"originPosition",void 0);b.__decorate([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],c.prototype,"tolerance",void 0);return c=g=b.__decorate([e.subclass("esri.tasks.support.QuantizationParameters")],c)}(k.JSONSupport);a.default=c})},"esri/tasks/support/StatisticDefinition":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,
f){var e=new l.default({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});return function(a){function c(b){b=a.call(this,b)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;b.statisticParameters=null;return b}b.__extends(c,a);d=c;c.prototype.writeStatisticParameters=
function(a,b){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)b.statisticParameters=k.clone(a)};c.prototype.clone=function(){return new d({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:k.clone(this.statisticParameters)})};var d;b.__decorate([f.property({type:Number,
json:{write:!0}})],c.prototype,"maxPointCount",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"maxRecordCount",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"maxVertexCount",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"outStatisticFieldName",void 0);b.__decorate([f.property({type:String,json:{read:{source:"statisticType",
reader:e.read},write:{target:"statisticType",writer:e.write}}})],c.prototype,"statisticType",void 0);b.__decorate([f.property({type:Object})],c.prototype,"statisticParameters",void 0);b.__decorate([f.writer("statisticParameters")],c.prototype,"writeStatisticParameters",null);return c=d=b.__decorate([f.subclass("esri.tasks.support.StatisticDefinition")],c)}(h.JSONSupport)})},"esri/tasks/support/RelationshipQuery":function(){define("require exports tslib ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../layers/support/source/DataLayerSource".split(" "),
function(c,a,b,l,h,k,f,e,n){c=function(a){function c(b){b=a.call(this,b)||this;b.dynamicDataSource=void 0;b.gdbVersion=null;b.geometryPrecision=void 0;b.historicMoment=null;b.maxAllowableOffset=void 0;b.objectIds=null;b.orderByFields=null;b.outFields=null;b.outSpatialReference=null;b.relationshipId=void 0;b.start=void 0;b.num=void 0;b.returnGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.where=null;return b}b.__extends(c,a);e=c;c.prototype._writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};
c.prototype.writeStart=function(a,b){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};c.prototype.clone=function(){return new e(k.clone({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,
relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};var e;b.__decorate([f.property({type:n.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([f.property({type:Date})],
c.prototype,"historicMoment",void 0);b.__decorate([f.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([f.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([f.property({type:l.SpatialReference,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([f.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([f.writer("start"),f.writer("num")],c.prototype,"writeStart",null);b.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([f.property({json:{write:!0}})],
c.prototype,"returnGeometry",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"returnZ",void 0);b.__decorate([f.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);return c=e=b.__decorate([f.subclass("esri.tasks.support.RelationshipQuery")],
c)}(h.JSONSupport);c.from=e.default(c);return c})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require exports tslib ../../../request ../../../core/Error ../../../core/has ../../../core/lang ../../../core/Loadable ../../../core/maybe ../../../core/promiseUtils ../../../core/SetUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators ../../../tasks/QueryTask ../../../tasks/operations/queryAttachments ../../../tasks/operations/zscale".split(" "),function(c,a,b,
l,h,k,f,e,n,g,d,m,q,r,p,t){function w(a){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(b){return"string"===typeof a?(c=m.dataComponents(a),[2,c?c:{data:a}]):[2,g.create(function(b,c){var d=new FileReader;d.readAsDataURL(a);d.onload=function(){return b(m.dataComponents(d.result))};d.onerror=function(a){return c(a)}})]})})}Object.defineProperty(a,"__esModule",{value:!0});var v=d.SetFromValues(["Feature Layer","Table"]);c=function(a){function c(){var b=null!==
a&&a.apply(this,arguments)||this;b.type="feature-layer";return b}b.__extends(c,a);c.prototype.load=function(a){a=n.isSome(a)?a.signal:null;this.addResolvingPromise(this._fetchService(a));return g.resolve(this)};Object.defineProperty(c.prototype,"queryTask",{get:function(){var a=this.layer,b=a.capabilities.query.supportsFormatPBF,c=a.parsedUrl,d=a.dynamicDataSource,e=a.gdbVersion,a=a.spatialReference,b=k("featurelayer-pbf")&&b?"pbf":"json";return new r({url:c.path,format:b,dynamicDataSource:d,gdbVersion:e,
sourceSpatialReference:a})},enumerable:!1,configurable:!0});c.prototype.addAttachment=function(a,b){var c=this;return this.load().then(function(){var d=a.attributes[c.layer.objectIdField],e=c.layer.parsedUrl.path+"/"+d+"/addAttachment",g=c._getLayerRequestOptions(),g=c._getFormDataForAttachment(b,g.query);return l(e,{body:g}).then(function(a){return c._createFeatureEditResult(a.data.addAttachmentResult)}).catch(function(a){throw c._createAttachmentErrorResult(d,a);})})};c.prototype.updateAttachment=
function(a,b,c){var d=this;return this.load().then(function(){var e=a.attributes[d.layer.objectIdField],g=d.layer.parsedUrl.path+"/"+e+"/updateAttachment",f=d._getLayerRequestOptions({query:{attachmentId:b}}),f=d._getFormDataForAttachment(c,f.query);return l(g,{body:f}).then(function(a){return d._createFeatureEditResult(a.data.updateAttachmentResult)}).catch(function(a){throw d._createAttachmentErrorResult(e,a);})})};c.prototype.applyEdits=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,
e,g,f,m,h,k,n,p,r,u,q,v,w,x,y,z,O;return b.__generator(this,function(C){switch(C.label){case 0:return[4,this.load()];case 1:C.sent(),d=a.addFeatures.map(this._serializeFeature,this),e=a.updateFeatures.map(this._serializeFeature,this),g=this._getFeatureIds(a.deleteFeatures),t.unapplyEditsZUnitScaling(d,e,this.layer.spatialReference),f=[],m=[],h=b.__spreadArrays(a.deleteAttachments),k=0,n=a.addAttachments,C.label=2;case 2:if(!(k<n.length))return[3,5];p=n[k];u=(r=f).push;return[4,this._serializeAttachment(p)];
case 3:u.apply(r,[C.sent()]),C.label=4;case 4:return k++,[3,2];case 5:q=0,v=a.updateAttachments,C.label=6;case 6:if(!(q<v.length))return[3,9];p=v[q];x=(w=m).push;return[4,this._serializeAttachment(p)];case 7:x.apply(w,[C.sent()]),C.label=8;case 8:return q++,[3,6];case 9:return y=f.length||m.length||h.length?{adds:f,updates:m,deletes:h}:null,z=this._getLayerRequestOptions({method:"post",query:{adds:d.length?JSON.stringify(d):null,updates:e.length?JSON.stringify(e):null,deletes:g.length?g.join(","):
null,gdbVersion:null===c||void 0===c?void 0:c.gdbVersion,rollbackOnFailure:null===c||void 0===c?void 0:c.rollbackOnFailureEnabled,useGlobalIds:null===c||void 0===c?void 0:c.globalIdUsed,attachments:y&&JSON.stringify(y)}}),[4,l(this.layer.parsedUrl.path+"/applyEdits",z)];case 10:return O=C.sent(),[2,this._createEditsResult(O)]}})})};c.prototype.deleteAttachments=function(a,b){var c=this;return this.load().then(function(){var d=a.attributes[c.layer.objectIdField];return l(c.layer.parsedUrl.path+"/"+
d+"/deleteAttachments",c._getLayerRequestOptions({query:{attachmentIds:b.join(",")},method:"post"})).then(function(a){return a.data.deleteAttachmentResults.map(c._createFeatureEditResult)}).catch(function(a){throw c._createAttachmentErrorResult(d,a);})})};c.prototype.queryAttachments=function(a,b){var c=this;void 0===b&&(b={});var d=this.layer.parsedUrl.path;return this.load().then(function(){var e=c._getLayerRequestOptions(b);if(!c.layer.get("capabilities.operations.supportsQueryAttachments")){for(var f=
a.objectIds,m=[],h=0;h<f.length;h++)m.push(l(d+"/"+f[h]+"/attachments",e));return g.all(m).then(function(a){return f.map(function(b,c){return{parentObjectId:b,attachmentInfos:a[c].data.attachmentInfos}})}).then(function(a){return p.processAttachmentQueryResult(a,d)})}return c.queryTask.executeAttachmentQuery(a,e)})};c.prototype.queryFeatures=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.execute(a,b)})};c.prototype.queryFeaturesJSON=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeJSON(a,
b)})};c.prototype.queryObjectIds=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForIds(a,b)})};c.prototype.queryFeatureCount=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForCount(a,b)})};c.prototype.queryExtent=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForExtent(a,b)})};c.prototype.queryRelatedFeatures=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeRelationshipQuery(a,
b)})};c.prototype.queryRelatedFeaturesCount=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeRelationshipQueryForCount(a,b)})};c.prototype._fetchService=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,e;return b.__generator(this,function(b){switch(b.label){case 0:c=this.layer.sourceJSON;if(!c)return[3,1];this.sourceJSON=c;return[3,3];case 1:return[4,l(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:k("featurelayer-advanced-symbols")?
{returnAdvancedSymbols:!0}:{},signal:a}))];case 2:this.sourceJSON=d=b.sent().data,b.label=3;case 3:e=this.sourceJSON.type;if(!v.has(e))throw new h("feature-layer-source:unsupported-type",'Source type "'+e+'" is not supported');return[2]}})})};c.prototype._serializeFeature=function(a){var b=a.geometry;a=a.attributes;return n.isNone(b)?{attributes:a}:"mesh"===b.type||"extent"===b.type?null:{geometry:b.toJSON(),attributes:a}};c.prototype._serializeAttachment=function(a){return b.__awaiter(this,void 0,
void 0,function(){var c,d,e,g,f,m,h,k,n;return b.__generator(this,function(b){switch(b.label){case 0:c=a.feature;d=a.attachment;e=d.globalId;g=d.name;f=d.contentType;m=d.data;h=d.uploadId;k={globalId:e,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};c&&(k.parentGlobalId="attributes"in c?c.attributes&&c.attributes[this.layer.globalIdField]:c.globalId);if(!h)return[3,1];k.uploadId=h;return[3,3];case 1:return m?[4,w(m)]:[3,3];case 2:n=b.sent(),k.contentType=n.mediaType,k.data=
n.data,m instanceof File&&(k.name=m.name),b.label=3;case 3:return g&&(k.name=g),f&&(k.contentType=f),[2,k]}})})};c.prototype._getFeatureIds=function(a){var b=a[0];return b?"objectId"in b?this._getIdsFromFeatureIdentifier(a):this._getIdsFromFeatures(a):[]};c.prototype._getIdsFromFeatures=function(a){var b=this.layer.objectIdField;return a.map(function(a){return a.attributes&&a.attributes[b]})};c.prototype._getIdsFromFeatureIdentifier=function(a){return a.map(function(a){return a.objectId})};c.prototype._createEditsResult=
function(a){var b=a.data;a=a.data&&a.data.attachments;return{addFeatureResults:b.addResults?b.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:b.updateResults?b.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:b.deleteResults?b.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:a&&a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:a&&a.updateResults?a.updateResults.map(this._createFeatureEditResult,
this):[],deleteAttachmentResults:a&&a.deleteResults?a.deleteResults.map(this._createFeatureEditResult,this):[]}};c.prototype._createFeatureEditResult=function(a){var b=!0===a.success?null:a.error||{code:void 0,description:void 0};return{objectId:a.objectId,globalId:a.globalId,error:b?new h("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};c.prototype._createAttachmentErrorResult=function(a,b){return{objectId:a,globalId:null,error:new h("feature-layer-source:attachment-failure",
b.details.messages&&b.details.messages[0]||b.message,{code:b.details.httpStatus||b.details.messageCode})}};c.prototype._getFormDataForAttachment=function(a,b){if(a=a instanceof FormData?a:a&&a.elements?new FormData(a):null)for(var c in b){var d=b[c];null!=d&&(a.set?a.set(c,d):a.append(c,d))}return a};c.prototype._getLayerRequestOptions=function(a){void 0===a&&(a={});var c=this.layer,d=c.parsedUrl,e=c.gdbVersion,c=c.dynamicDataSource;return b.__assign(b.__assign({},a),{query:f.fixJson(b.__assign(b.__assign(b.__assign({gdbVersion:e,
layer:c?JSON.stringify({source:c}):void 0},d.query),{f:"json"}),null===a||void 0===a?void 0:a.query)),responseType:"json"})};b.__decorate([q.property()],c.prototype,"type",void 0);b.__decorate([q.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([q.property({readOnly:!0,dependsOn:["layer.parsedUrl","layer.gdbVersion","layer.dynamicDataSource"]})],c.prototype,"queryTask",null);return c=b.__decorate([q.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)}(e);a.default=
c})},"esri/tasks/QueryTask":function(){define("require exports tslib ../geometry ../core/accessorSupport/decorators ../layers/support/source/DataLayerSource ./Task ./operations/pbfJSONFeatureSet ./operations/query ./operations/queryAttachments ./operations/queryRelatedRecords ./support/AttachmentQuery ./support/FeatureSet ./support/Query ./support/RelationshipQuery".split(" "),function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p){return function(a){function c(b){b=a.call(this,b)||this;b.dynamicDataSource=null;
b.format="json";b.gdbVersion=null;b.sourceSpatialReference=null;return b}b.__extends(c,a);c.prototype.execute=function(a,b){return this.executeJSON(a,b).then(function(a){return q.fromJSON(a)})};c.prototype.executeJSON=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,g,f,m,h;return b.__generator(this,function(k){switch(k.label){case 0:d=b.__assign(b.__assign({},this.requestOptions),c);g=this._normalizeQuery(a);if("pbf"!==this.format)return[3,2];f=!g.quantizationParameters;return[4,
n.executeQueryPBF(this.parsedUrl,g,new e.JSONFeatureSetParserContext({sourceSpatialReference:this.sourceSpatialReference,applyTransform:f}),d)];case 1:return m=k.sent().data,[2,m];case 2:return[4,n.executeQuery(this.parsedUrl,g,this.sourceSpatialReference,d)];case 3:return h=k.sent().data,[2,h]}})})};c.prototype.executeForCount=function(a,c){return n.executeQueryForCount(this.parsedUrl,this._normalizeQuery(a),b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){return a.data.count})};
c.prototype.executeForExtent=function(a,c){return n.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(a),b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){return{count:a.data.count,extent:l.Extent.fromJSON(a.data.extent)}})};c.prototype.executeForIds=function(a,c){return n.executeQueryForIds(this.parsedUrl,this._normalizeQuery(a),b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){return a.data.objectIds})};c.prototype.executeRelationshipQuery=function(a,c){a=
p.from(a);if(this.gdbVersion||this.dynamicDataSource)a=a.clone(),a.gdbVersion=a.gdbVersion||this.gdbVersion,a.dynamicDataSource=a.dynamicDataSource||this.dynamicDataSource;return d.executeRelationshipQuery(this.parsedUrl,a,b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){var b=a.data,c={};Object.keys(b).forEach(function(a){return c[a]=q.fromJSON(b[a])});return c})};c.prototype.executeRelationshipQueryForCount=function(a,c){a=p.from(a);if(this.gdbVersion||this.dynamicDataSource)a=
a.clone(),a.gdbVersion=a.gdbVersion||this.gdbVersion,a.dynamicDataSource=a.dynamicDataSource||this.dynamicDataSource;return d.executeRelationshipQueryForCount(this.parsedUrl,a,b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){return a.data})};c.prototype.executeAttachmentQuery=function(a,c){var d=this;return g.executeAttachmentQuery(this.parsedUrl,m.from(a),b.__assign(b.__assign({},this.requestOptions),c)).then(function(a){return g.processAttachmentQueryResult(a.data.attachmentGroups,
d.parsedUrl.path)})};c.prototype._normalizeQuery=function(a){var b=r.from(a);if(!this.gdbVersion&&!this.dynamicDataSource)return b;b=b===a?b.clone():b;b.gdbVersion=a.gdbVersion||this.gdbVersion;b.dynamicDataSource=a.dynamicDataSource?k.DataLayerSource.from(a.dynamicDataSource):this.dynamicDataSource;return b};b.__decorate([h.property({type:k.DataLayerSource})],c.prototype,"dynamicDataSource",void 0);b.__decorate([h.property()],c.prototype,"format",void 0);b.__decorate([h.property()],c.prototype,"gdbVersion",
void 0);b.__decorate([h.property()],c.prototype,"sourceSpatialReference",void 0);return c=b.__decorate([h.subclass("esri.tasks.QueryTask")],c)}(f)})},"esri/tasks/Task":function(){define("require exports tslib ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.requestOptions=null;b.url=null;return b}b.__extends(c,a);c.prototype.normalizeCtorArgs=
function(a,c){return"string"!==typeof a?a:b.__assign({url:a},c)};Object.defineProperty(c.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!1,configurable:!0});c.prototype._parseUrl=function(a){return a?h.urlToObject(a):null};c.prototype._encode=function(a,b,c){var d={},e;for(e in a)if("declaredClass"!==e){var g=a[e];if(null!=g&&"function"!==typeof g)if(Array.isArray(g)){d[e]=[];for(var f=0;f<g.length;f++)d[e][f]=this._encode(g[f])}else"object"===typeof g?(g.toJSON&&
(g=g.toJSON(c&&c[e])),d[e]=b?g:JSON.stringify(g)):d[e]=g}return d};b.__decorate([k.property({readOnly:!0,dependsOn:["url"]})],c.prototype,"parsedUrl",null);b.__decorate([k.property()],c.prototype,"requestOptions",void 0);b.__decorate([k.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([k.subclass("esri.tasks.Task")],c)}(l)})},"esri/tasks/operations/pbfJSONFeatureSet":function(){define(["require","exports","../../core/compilerUtils","./zscale"],function(c,a,b,l){function h(a,
b){return b}function k(a,b,c,e){switch(c){case 0:return a.translate[0]+(b+e)*a.scale[0];case 1:return"lowerLeft"===a.originPosition?a.translate[1]+(b+e)*a.scale[1]:a.translate[1]-(b+e)*a.scale[1]}}function f(a,b,c,e){switch(c){case 2:return a.translate[2]+b*a.scale[2];default:return k(a,b,c,e)}}function e(a,b,c,e){switch(c){case 2:return a.translate[3]+b*a.scale[3];default:return k(a,b,c,e)}}function n(a,b,c,e){switch(c){case 3:return a.translate[3]+b*a.scale[3];default:return f(a,b,c,e)}}Object.defineProperty(a,
"__esModule",{value:!0});a.JSONFeatureSetParserContext=void 0;c=function(){function a(a){this.options=a;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=h;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}a.prototype.createFeatureResult=function(){return{fields:[],
features:[]}};a.prototype.finishFeatureResult=function(a){this.options.applyTransform&&(a.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(a.hasZ){var b=l.getGeometryZScaler(a.geometryType,this.options.sourceSpatialReference,a.spatialReference);if(b){var c=0;for(a=a.features;c<a.length;c++)b(a[c].geometry)}}};a.prototype.createSpatialReference=function(){return{}};a.prototype.addField=function(a,b){a.fields.push(b);var c=a.fields.map(function(a){return a.name});
this.AttributesConstructor=function(){for(var a=0;a<c.length;a++)this[c[a]]=null}};a.prototype.addFeature=function(a,b){a.features.push(b)};a.prototype.prepareFeatures=function(a){var c=this;this.options.applyTransform&&a.transform&&(this.transform=a.transform,this.applyTransform=this.deriveApplyTransform(a));this.vertexDimension=2;a.hasZ&&this.vertexDimension++;a.hasM&&this.vertexDimension++;switch(a.geometryType){case "esriGeometryPoint":this.addCoordinate=function(a,b,d){return c.addCoordinatePoint(a,
b,d)};this.createGeometry=function(a){return c.createPointGeometry(a)};break;case "esriGeometryPolygon":this.addCoordinate=function(a,b,d){return c.addCoordinatePolygon(a,b,d)};this.createGeometry=function(a){return c.createPolygonGeometry(a)};break;case "esriGeometryPolyline":this.addCoordinate=function(a,b,d){return c.addCoordinatePolyline(a,b,d)};this.createGeometry=function(a){return c.createPolylineGeometry(a)};break;case "esriGeometryMultipoint":this.addCoordinate=function(a,b,d){return c.addCoordinateMultipoint(a,
b,d)};this.createGeometry=function(a){return c.createMultipointGeometry(a)};break;default:b.neverReached(a.geometryType)}};a.prototype.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this.AttributesConstructor}};a.prototype.addLength=function(a,b,c){0===this.lengths.length&&(this.toAddInCurrentPath=b);this.lengths.push(b)};a.prototype.createPointGeometry=
function(a){var b={x:0,y:0,spatialReference:a.spatialReference};a.hasZ&&(b.z=0);a.hasM&&(b.m=0);return b};a.prototype.addCoordinatePoint=function(a,b,c){b=this.applyTransform(this.transform,b,c,0);switch(c){case 0:a.x=b;break;case 1:a.y=b;break;case 2:"z"in a?a.z=b:a.m=b;break;case 3:a.m=b}};a.prototype.transformPathLikeValue=function(a,b){var c=0;1>=b&&(c=this.previousCoordinate[b],this.previousCoordinate[b]+=a);return this.applyTransform(this.transform,a,b,c)};a.prototype.addCoordinatePolyline=
function(a,b,c){this.dehydratedAddPointsCoordinate(a.paths,b,c)};a.prototype.addCoordinatePolygon=function(a,b,c){this.dehydratedAddPointsCoordinate(a.rings,b,c)};a.prototype.addCoordinateMultipoint=function(a,b,c){0===c&&a.points.push([]);b=this.transformPathLikeValue(b,c);a.points[a.points.length-1].push(b)};a.prototype.createPolygonGeometry=function(a){return{rings:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.createPolylineGeometry=function(a){return{paths:[[]],
spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.createMultipointGeometry=function(a){return{points:[],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.dehydratedAddPointsCoordinate=function(a,b,c){if(null===this.coordinateBuffer){var d=this.lengths.reduce(function(a,b){return a+b},0);this.coordinateBuffer=new Float64Array(d*this.vertexDimension)}0===c&&0===this.toAddInCurrentPath--&&(a.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-
1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);b=this.transformPathLikeValue(b,c);a=a[a.length-1];0===c&&a.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=b};a.prototype.deriveApplyTransform=function(a){var b=a.hasZ;a=a.hasM;return b&&a?n:b?f:a?e:k};return a}();a.JSONFeatureSetParserContext=c})},"esri/tasks/operations/query":function(){define("require exports tslib ../../request ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/normalizeUtils ./pbfQueryUtils ./queryZScale ./urlUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){function q(a,b){var c=a.geometry;a=a.toJSON();c&&(a.geometry=JSON.stringify(c),a.geometryType=e.getJsonType(c),a.inSR=c.spatialReference.wkid||JSON.stringify(c.spatialReference));a.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.orderByFields&&(a.orderByFields=a.orderByFields.join(","));!a.outFields||!a.returnDistinctValues&&((null===b||void 0===b?0:b.returnCountOnly)||
(null===b||void 0===b?0:b.returnExtentOnly)||(null===b||void 0===b?0:b.returnIdsOnly))?delete a.outFields:-1!==a.outFields.indexOf("*")?a.outFields="*":a.outFields=a.outFields.join(",");a.outSR?a.outSR=a.outSR.wkid||JSON.stringify(a.outSR):c&&(a.returnGeometry||a.returnCentroid)&&(a.outSR=a.inSR);a.returnGeometry&&delete a.returnGeometry;a.outStatistics&&(a.outStatistics=JSON.stringify(a.outStatistics));a.pixelSize&&(a.pixelSize=JSON.stringify(a.pixelSize));a.quantizationParameters&&(a.quantizationParameters=
JSON.stringify(a.quantizationParameters));a.parameterValues&&(a.parameterValues=JSON.stringify(a.parameterValues));a.rangeValues&&(a.rangeValues=JSON.stringify(a.rangeValues));a.dynamicDataSource&&(a.layer=JSON.stringify({source:a.dynamicDataSource}),delete a.dynamicDataSource);if(a.timeExtent){c=a.timeExtent;b=c.start;c=c.end;if(null!=b||null!=c)a.time=b===c?b:(null==b?"null":b)+","+(null==c?"null":c);delete a.timeExtent}return a}function r(a,b,c){return p(a,b,"pbf",c)}function p(a,c,d,e,g){void 0===
e&&(e={});var k="string"===typeof a?f.urlToObject(a):a;a=c.geometry?[c.geometry]:[];e.responseType="pbf"===d?"array-buffer":"json";return n.normalizeCentralMeridian(a,null,e).then(function(a){a=a&&a[0];h.isSome(a)&&(c=c.clone(),c.geometry=a);a=m.mapParameters(b.__assign(b.__assign(b.__assign(b.__assign({},k.query),{f:d}),g),q(c,g)));return l(f.join(k.path,"query"),b.__assign(b.__assign({},e),{query:b.__assign(b.__assign({},e.query),a)}))})}Object.defineProperty(a,"__esModule",{value:!0});a.runQuery=
a.executeQueryForExtent=a.executeQueryForCount=a.executeQueryForIds=a.executeQueryPBFBuffer=a.executeQueryPBF=a.executeQuery=a.queryToQueryStringParameters=void 0;a.queryToQueryStringParameters=q;a.executeQuery=function(a,c,e,f){var g;return b.__awaiter(this,void 0,void 0,function(){var m,h;return b.__generator(this,function(b){switch(b.label){case 0:if(null===(g=c.timeExtent)||void 0===g||!g.isEmpty)return[3,1];h={data:{features:[]}};return[3,3];case 1:return[4,p(a,c,"json",f)];case 2:h=b.sent(),
b.label=3;case 3:return m=h,d.applyFeatureSetZUnitScaling(c,e,m.data),[2,m]}})})};a.executeQueryPBF=function(a,c,d,e){var f;return b.__awaiter(this,void 0,void 0,function(){var m,h;return b.__generator(this,function(b){switch(b.label){case 0:return(null===(f=c.timeExtent)||void 0===f?0:f.isEmpty)?[2,k.resolve({data:d.createFeatureResult()})]:[4,r(a,c,e)];case 1:return h=m=b.sent(),h.data=g.parsePBFFeatureQuery(m.data,d),[2,h]}})})};a.executeQueryPBFBuffer=r;a.executeQueryForIds=function(a,b,c){var d;
return(null===(d=b.timeExtent)||void 0===d?0:d.isEmpty)?k.resolve({data:{objectIds:[]}}):p(a,b,"json",c,{returnIdsOnly:!0})};a.executeQueryForCount=function(a,b,c){var d;return(null===(d=b.timeExtent)||void 0===d?0:d.isEmpty)?k.resolve({data:{count:0}}):p(a,b,"json",c,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(a,b,c){var d;return(null===(d=b.timeExtent)||void 0===d?0:d.isEmpty)?k.resolve({data:{count:0,extent:null}}):p(a,b,"json",c,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(a){var b=
a.data;if(b.hasOwnProperty("extent"))return a;if(b.features)throw Error("Layer does not support extent calculation.");if(b.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return a})};a.runQuery=p})},"esri/geometry/support/normalizeUtils":function(){define("require exports tslib ../../config ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p){function t(a){return"polygon"===a.type?a.rings:a.paths}function w(a,b){return Math.ceil((a-b)/(2*b))}function v(a,b){for(var c=0,d=t(a);c<d.length;c++)for(var e=0,f=d[c];e<f.length;e++)f[e][0]+=b;return a}function u(a){for(var b=[],c=0,d=0,e=0;e<a.length;e++){for(var f=a[e],g=null,m=0;m<f.length;m++)g=f[m],b.push(g),0===m?d=c=g[0]:(c=Math.min(c,g[0]),d=Math.max(d,g[0]));g&&b.push([(c+d)/2,0])}return b}function x(a,b){if(!(a instanceof g||a instanceof n))throw E.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
new h("straightLineDensify: the input geometry is neither polyline nor polygon");for(var c=[],d=0,e=t(a);d<e.length;d++){var f=e[d],m=[];c.push(m);m.push([f[0][0],f[0][1]]);for(var k=0;k<f.length-1;k++){var l=f[k][0],p=f[k][1],r=f[k+1][0],u=f[k+1][1],q=Math.sqrt((r-l)*(r-l)+(u-p)*(u-p)),v=(u-p)/q,w=(r-l)/q,C=q/b;if(1<C){for(var x=1;x<=C-1;x++){var F=x*b;m.push([w*F+l,v*F+p])}q=(q+Math.floor(C-1)*b)/2;m.push([w*q+l,v*q+p])}m.push([r,u])}}return"polygon"===a.type?new n({rings:c,spatialReference:a.spatialReference}):
new g({paths:c,spatialReference:a.spatialReference})}function y(a,b,c){b&&(a=x(a,1E6),a=q.webMercatorToGeographic(a,!0));c&&(a=v(a,c));return a}function z(a,b,c){if(Array.isArray(a)){var d=a[0];if(d>b){var e=w(d,b);a[0]=d+-2*e*b}else d<c&&(e=w(d,c),a[0]=d+-2*e*c)}else d=a.x,d>b?(e=w(d,b),a=a.clone().offset(-2*e*b,0)):d<c&&(e=w(d,c),a=a.clone().offset(-2*e*c,0));return a}function B(a,b){for(var c=-1,d=function(d){var e=b.cutIndexes[d],f=b.geometries[d],g=t(f);d=function(a){var b=g[a];b.some(function(c){if(180>
c[0])return!0;for(var d=c=0;d<b.length;d++){var e=b[d][0];c=e>c?e:c}c=Number(c.toFixed(9));c=-360*w(c,180);for(d=0;d<b.length;d++)e=f.getPoint(a,d),f.setPoint(a,d,e.clone().offset(c,0));return!0})};for(var m=0;m<g.length;m++)d(m);if(e===c)if("polygon"===a[0].type)for(d=0,m=t(f);d<m.length;d++)a[e]=a[e].addRing(m[d]);else{if("polyline"===a[0].type)for(d=0,m=t(f);d<m.length;d++)a[e]=a[e].addPath(m[d])}else c=e,a[e]=f},e=0;e<b.cutIndexes.length;e++)d(e);return a}function A(a,c,d){return b.__awaiter(this,
void 0,void 0,function(){var h,k,u,t,x,F,D,E,I,V,O,W,ga,da,U,S,P,T,Y,Z,ba,ca,aa,ha,fa,oa,pa,K,ja,ka,X,ia,ea,la,ra,na,qa;return b.__generator(this,function(b){switch(b.label){case 0:if(!Array.isArray(a))return[2,A([a],c)];h=c?c.url:l.geometryServiceUrl;V=0;O=[];W=[];ga=0;for(da=a;ga<da.length;ga++)U=da[ga],f.isNone(U)?W.push(U):(k||(k=U.spatialReference,u=m.getInfo(k),D=(t=k.isWebMercator)?102100:4326,x=C[D].maxX,F=C[D].minX,E=C[D].plus180Line,I=C[D].minus180Line),u?"mesh"===U.type?W.push(U):"point"===
U.type?W.push(z(U.clone(),x,F)):"multipoint"===U.type?(S=U.clone(),S.points=S.points.map(function(a){return z(a,x,F)}),W.push(S)):"extent"===U.type?(P=U.clone(),T=P._normalize(!1,!1,u),W.push(T.rings?new n(T):T)):U.extent?(P=U.extent,Y=w(P.xmin,F),Z=2*Y*x,ba=0===Z?U.clone():v(U.clone(),Z),P.offset(Z,0),P.intersects(E)&&P.xmax!==x?(V=P.xmax>V?P.xmax:V,ba=y(ba,t),O.push(ba),W.push("cut")):P.intersects(I)&&P.xmin!==F?(V=2*P.xmax*x>V?2*P.xmax*x:V,ba=y(ba,t,360),O.push(ba),W.push("cut")):W.push(ba)):W.push(U.clone()):
W.push(U));ca=w(V,x);aa=-90;ha=ca;for(fa=new g;0<ca;)oa=-180+360*ca,fa.addPath([[oa,aa],[oa,-1*aa]]),aa*=-1,ca--;return 0<O.length&&0<ha?[4,r.cut(h,O,fa,d)]:[3,3];case 1:pa=b.sent();K=B(O,pa);ja=[];ka=[];for(X=0;X<W.length;X++)ia=W[X],"cut"!==ia?ka.push(ia):(ea=K.shift(),la=a[X],f.isSome(la)&&"polygon"===la.type&&la.rings&&1<la.rings.length&&ea.rings.length>=la.rings.length?(ja.push(ea),ka.push("simplify")):ka.push(t?q.geographicToWebMercator(ea):ea));return ja.length?[4,p.simplify(h,ja,d)]:[2,ka];
case 2:ra=b.sent();na=[];for(X=0;X<ka.length;X++)ia=ka[X],"simplify"!==ia?na.push(ia):na.push(t?q.geographicToWebMercator(ra.shift()):ra.shift());return[2,na];case 3:qa=[];for(X=0;X<W.length;X++)ia=W[X],"cut"!==ia?qa.push(ia):(ea=O.shift(),qa.push(!0===t?q.geographicToWebMercator(ea):ea));return[2,e.resolve(qa)]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.normalizeMapX=a.getDenormalizedExtent=a.normalizeCentralMeridian=a.straightLineDensify=void 0;var E=k.getLogger("esri.geometry.support.normalizeUtils"),
C={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new g({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator}),minus180Line:new g({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new g({paths:[[[180,-180],[180,180]]],spatialReference:d.WGS84}),minus180Line:new g({paths:[[[-180,
-180],[-180,180]]],spatialReference:d.WGS84})}};a.straightLineDensify=x;a.normalizeCentralMeridian=A;a.getDenormalizedExtent=function(a){var b;if(!a)return null;var c=a.extent;if(!c)return null;var d=a.spatialReference&&m.getInfo(a.spatialReference);if(!d)return c;var d=d.valid,e=d[0],d=d[1],f=c.width,g=c.xmin;b=c.xmax;b=[b,g];g=b[0];b=b[1];if("extent"===a.type||0===f||f<=d||f>2*d||g<e||b>d)return c;var h;switch(a.type){case "polygon":if(1<a.rings.length)h=u(a.rings);else return c;break;case "polyline":if(1<
a.paths.length)h=u(a.paths);else return c;break;case "multipoint":h=a.points}a=c.clone();for(e=0;e<h.length;e++){var k=h[e][0];0>k?(k+=d,b=Math.max(k,b)):(k-=d,g=Math.min(k,g))}a.xmin=g;a.xmax=b;return a.width<f?(a.xmin-=d,a.xmax-=d,a):c};a.normalizeMapX=function(a,b){if(b=m.getInfo(b)){var c=b.valid;b=c[0];var c=c[1],d=c-b;if(a<b)for(;a<b;)a+=d;if(a>c)for(;a>c;)a-=d}return a}})},"esri/tasks/geometry/cut":function(){define("require exports tslib ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.cut=void 0;a.cut=function(a,c,g,d){return b.__awaiter(this,void 0,void 0,function(){var e,n,r,p,t,w,v,u;return b.__generator(this,function(m){switch(m.label){case 0:return e="string"===typeof a?k.urlToObject(a):a,n=c[0].spatialReference,r=b.__assign(b.__assign({},d),{query:b.__assign(b.__assign({},e.query),{f:"json",sr:JSON.stringify(n),target:JSON.stringify({geometryType:f.getJsonType(c[0]),geometries:c}),cutter:JSON.stringify(g)})}),
[4,h(e.path+"/cut",r)];case 1:return p=m.sent(),t=p.data,w=t.cutIndexes,v=t.geometries,u=void 0===v?[]:v,[2,{cutIndexes:w,geometries:u.map(function(a){a=l.fromJSON(a);a.spatialReference=n;return a})}]}})})}})},"esri/tasks/geometry/simplify":function(){define("require exports tslib ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(c,a,b,l,h,k){function f(a){return{geometryType:k.getJsonType(a[0]),geometries:a.map(function(a){return a.toJSON()})}}function e(a,b,
c){var d=k.getGeometryType(b);return a.map(function(a){a=d.fromJSON(a);a.spatialReference=c;return a})}Object.defineProperty(a,"__esModule",{value:!0});a.simplify=void 0;a.simplify=function(a,c,d){return b.__awaiter(this,void 0,void 0,function(){var g,n,r,p,t;return b.__generator(this,function(m){switch(m.label){case 0:return g="string"===typeof a?h.urlToObject(a):a,n=c[0].spatialReference,r=k.getJsonType(c[0]),p=b.__assign(b.__assign({},d),{query:b.__assign(b.__assign({},g.query),{f:"json",sr:n.wkid?
n.wkid:JSON.stringify(n),geometries:JSON.stringify(f(c))})}),[4,l(g.path+"/simplify",p)];case 1:return t=m.sent(),[2,e(t.data,r,n)]}})})}})},"esri/tasks/operations/pbfQueryUtils":function(){define(["require","exports","./pbfFeatureServiceParser"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.parsePBFFeatureQuery=void 0;a.parsePBFFeatureQuery=function(a,c){var h=b.parseFeatureQuery(a,c);a=h.queryResult.featureResult;c=h.queryResult.queryGeometry;h=h.queryResult.queryGeometryType;
if(a&&a.features&&a.features.length&&a.objectIdFieldName)for(var f=a.objectIdFieldName,e=0,n=a.features;e<n.length;e++){var g=n[e];g.attributes&&(g.objectId=g.attributes[f])}a&&(a.queryGeometry=c,a.queryGeometryType=h);return a}})},"esri/tasks/operations/pbfFeatureServiceParser":function(){define(["require","exports","../../core/Error","../../core/Logger","../../core/pbf"],function(c,a,b,l,h){function k(a){return a>=B.length?null:B[a]}function f(a,b){return b>=a.geometryTypes.length?null:a.geometryTypes[b]}
function e(a,b,c){for(c=b.createPointGeometry(c);a.next();)switch(a.tag()){case 3:for(var d=a.getUInt32(),d=a.pos()+d,e=0;a.pos()<d;)b.addCoordinatePoint(c,a.getSInt64(),e++);break;default:a.skip()}return c}function n(a,b,c){var d=b.createGeometry(c);for(c=2+(c.hasZ?1:0)+(c.hasM?1:0);a.next();)switch(a.tag()){case 2:for(var e=a.getUInt32(),e=a.pos()+e,f=0;a.pos()<e;)b.addLength(d,a.getUInt32(),f++);break;case 3:e=a.getUInt32();e=a.pos()+e;for(f=0;a.pos()<e;)b.addCoordinate(d,a.getSInt64(),f),f++,
f===c&&(f=0);break;default:a.skip()}return d}function g(a,b,c){var d;c.queryGeometry=b.createGeometry(c);c.queryGeometryType=f(b,0);for(var e=!1;a.next();)switch(a.tag()){case 2:for(var g=a.getUInt32(),g=a.pos()+g,m=0;a.pos()<g;)b.addLength(c.queryGeometry,a.getUInt32(),m++);break;case 3:g=a.getUInt32();g=a.pos()+g;for(m=0;a.pos()<g;)b.addCoordinate(c.queryGeometry,a.getSInt64(),m),m++,2===m&&(m=0);break;case 1:c.queryGeometryType=f(b,a.getEnum());e=!0;break;default:a.skip()}a=null===(d=c.queryGeometry)||
void 0===d?void 0:d.lengths;!e&&a&&a.length&&1<a[0]&&(c.queryGeometryType=f(b,3))}function d(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getSInt32();case 5:return a.getUInt32();case 6:return a.getInt64();case 7:return a.getUInt64();case 8:return a.getSInt64();case 9:return a.getBool();default:return a.skip(),null}return null}function m(a){for(var c={type:k(0)};a.next();)switch(a.tag()){case 1:c.name=a.getString();
break;case 2:c.type=k(a.getEnum());break;case 3:c.alias=a.getString();break;case 4:var d;d=a.getEnum();d=d>=A.length?null:A[d];c.sqlType=d;break;case 5:try{c.domain=JSON.parse(a.getString())}catch(I){z.error(new b("query:parsing-pbf","Failed to parse domain",{error:I})),c.domain=null}break;case 6:c.defaultValue=a.getString();break;default:a.skip()}return c}function q(a){for(var b={};a.next();)switch(a.tag()){case 1:b.name=a.getString();break;case 2:b.isSystemMaintained=a.getBool();break;default:a.skip()}return b}
function r(a,b,c,f){for(var g=b.createFeature(c),m=0;a.next();)switch(a.tag()){case 1:var h=f[m++].name;g.attributes[h]=a.processMessage(d);break;case 2:g.geometry=a.processMessageWithArgs(n,b,c);break;case 4:g.centroid=a.processMessageWithArgs(e,b,c);break;default:a.skip()}return g}function p(a){for(var b=[1,1,1,1];a.next();)switch(a.tag()){case 1:b[0]=a.getDouble();break;case 2:b[1]=a.getDouble();break;case 4:b[2]=a.getDouble();break;case 3:b[3]=a.getDouble();break;default:a.skip()}return b}function t(a){for(var b=
[0,0,0,0];a.next();)switch(a.tag()){case 1:b[0]=a.getDouble();break;case 2:b[1]=a.getDouble();break;case 4:b[2]=a.getDouble();break;case 3:b[3]=a.getDouble();break;default:a.skip()}return b}function w(a){for(var b={originPosition:0>=E.length?null:E[0]};a.next();)switch(a.tag()){case 1:var c=a.getEnum();b.originPosition=c>=E.length?null:E[c];break;case 2:b.scale=a.processMessage(p);break;case 3:b.translate=a.processMessage(t);break;default:a.skip()}return b}function v(a){for(var b={};a.next();)switch(a.tag()){case 1:b.shapeAreaFieldName=
a.getString();break;case 2:b.shapeLengthFieldName=a.getString();break;case 3:b.units=a.getString();break;default:a.skip()}return b}function u(a,b){for(b=b.createSpatialReference();a.next();)switch(a.tag()){case 1:b.wkid=a.getUInt32();break;case 5:b.wkt=a.getString();break;case 2:b.latestWkid=a.getUInt32();break;case 3:b.vcsWkid=a.getUInt32();break;case 4:b.latestVcsWkid=a.getUInt32();break;default:a.skip()}return b}function x(a,b){var c=b.createFeatureResult();c.geometryType=f(b,0);for(var d=!1;a.next();)switch(a.tag()){case 1:c.objectIdFieldName=
a.getString();break;case 3:c.globalIdFieldName=a.getString();break;case 4:c.geohashFieldName=a.getString();break;case 5:c.geometryProperties=a.processMessage(v);break;case 7:c.geometryType=f(b,a.getEnum());break;case 8:c.spatialReference=a.processMessageWithArgs(u,b);break;case 10:c.hasZ=a.getBool();break;case 11:c.hasM=a.getBool();break;case 12:c.transform=a.processMessage(w);break;case 9:var e=a.getBool();c.exceededTransferLimit=e;break;case 13:b.addField(c,a.processMessage(m));break;case 15:d||
(b.prepareFeatures(c),d=!0);b.addFeature(c,a.processMessageWithArgs(r,b,c,c.fields));break;case 2:c.uniqueIdField=a.processMessage(q);break;default:a.skip()}b.finishFeatureResult(c);return c}function y(a,b){for(var c={};a.next();)switch(a.tag()){case 4:a.processMessageWithArgs(g,b,c);break;case 1:c.featureResult=a.processMessageWithArgs(x,b);break;default:a.skip()}return c}Object.defineProperty(a,"__esModule",{value:!0});a.parseFeatureQuery=a.parseTransform=a.parseFieldType=void 0;var z=l.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),
B="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),A="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
E=["upperLeft","lowerLeft"];a.parseFieldType=k;a.parseTransform=w;a.parseFeatureQuery=function(a,c){try{var d=new h(new Uint8Array(a),new DataView(a));for(a={};d.next();)switch(d.tag()){case 2:a.queryResult=d.processMessageWithArgs(y,c);break;default:d.skip()}return a}catch(I){return d=new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:I}),z.error(d),{queryResult:{featureResult:c.createFeatureResult()}}}}})},"esri/core/pbf":function(){define(["require","exports","./has",
"./ObjectPool"],function(c,a,b,l){var h=b("esri-text-decoder")?new TextDecoder("utf-8"):null,k=b("safari")||b("ios")?6:b("ff")?12:32;return function(){function a(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=a?a.byteLength:0);this._tag=0;this._dataType=99;this.init(a,b,c,d)}a.prototype.init=function(a,b,c,d){this._data=a;this._dataView=b;this._pos=c;this._end=d};a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.move=
function(a){this._pos=a};a.prototype.nextTag=function(a){for(;;){if(this._pos===this._end)return!1;var b=this._decodeVarint();this._tag=b>>3;this._dataType=b&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.next=function(){if(this._pos===this._end)return!1;var a=this._decodeVarint();this._tag=a>>3;this._dataType=a&7;return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};
a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};
a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getUint32(b+4,!0);this._skip(8);return a};a.prototype.getSFixed64=
function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getInt32(b+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,
!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),b=this._pos,b=this._toString(this._data,b,b+a);this._skip(a);return b};a.prototype.getBytes=function(){var a=this._getLength(),b=this._pos,b=this._toBytes(this._data,b,b+a);this._skip(a);return b};a.prototype.getLength=function(){return this._getLengthUnsafe()};a.prototype.processMessageWithArgs=function(a,b,c,d){var e=this.getMessage();a=a(e,b,c,d);e.release();return a};a.prototype.processMessage=function(a){var b=
this.getMessage();a=a(b);b.release();return a};a.prototype.getMessage=function(){var b=this._getLength(),c=a.pool.acquire();c.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return c};a.prototype.release=function(){a.pool.release(this)};a.prototype.dataType=function(){return this._dataType};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");
}};a.prototype.skipLen=function(a){this._skip(a)};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,b=this._pos,c=0,d;if(10<=this._end-b){if(d=a[b++],c|=d&127,0!==(d&128)&&(d=a[b++],c|=(d&127)<<7,0!==(d&128)&&(d=a[b++],c|=(d&127)<<14,0!==(d&128)&&(d=a[b++],c|=(d&127)<<21,0!==(d&128)&&(d=a[b++],c+=268435456*(d&127),0!==(d&128)&&(d=a[b++],c+=34359738368*(d&127),0!==(d&128)&&
(d=a[b++],c+=4398046511104*(d&127),0!==(d&128)&&(d=a[b++],c+=562949953421312*(d&127),0!==(d&128)&&(d=a[b++],c+=72057594037927936*(d&127),0!==(d&128)&&(d=a[b++],c+=0x7fffffffffffffff*(d&127),0!==(d&128)))))))))))throw Error("Varint too long!");}else{for(var f=1;b!==this._end;){d=a[b];if(0===(d&128))break;++b;c+=(d&127)*f;f*=128}if(b===this._end)throw Error("Varint overrun!");++b;c+=d*f}this._pos=b;return c};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=
function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._getLengthUnsafe=function(){return this.getUInt32()};a.prototype._toString=function(a,b,c){c=Math.min(this._end,c);if(c-b>k&&h)return a=a.subarray(b,c),h.decode(a);for(var d="",e="";b<c;++b){var f=a[b];f&128?e+="%"+f.toString(16):(d+=decodeURIComponent(e)+String.fromCharCode(f),e="")}e.length&&(d+=decodeURIComponent(e));return d};a.prototype._toBytes=function(a,b,c){c=Math.min(this._end,
c);return new Uint8Array(a.buffer,b,c-b)};a.pool=new l(a,null,function(a){a._data=null;a._dataView=null});return a}()})},"esri/tasks/operations/urlUtils":function(){define(["require","exports"],function(c,a){function b(a){var c={},k;for(k in a)if("declaredClass"!==k){var f=a[k];if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){c[k]=[];for(var e=0;e<f.length;e++)c[k][e]=b(f[e])}else"object"===typeof f?f.toJSON&&(c[k]=JSON.stringify(f)):c[k]=f}return c}Object.defineProperty(a,"__esModule",{value:!0});
a.mapParameters=void 0;a.mapParameters=b})},"esri/tasks/operations/queryAttachments":function(){define("require exports tslib ../../request ../../core/addTokenParameter ../../core/urlUtils ../../layers/support/AttachmentInfo ./urlUtils".split(" "),function(c,a,b,l,h,k,f,e){function n(a){a=a.toJSON();a.attachmentTypes&&(a.attachmentTypes=a.attachmentTypes.join(","));a.keywords&&(a.keywords=a.keywords.join(","));a.globalIds&&(a.globalIds=a.globalIds.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));
a.size&&(a.size=a.size.join(","));return a}Object.defineProperty(a,"__esModule",{value:!0});a.executeAttachmentQuery=a.processAttachmentQueryResult=void 0;a.processAttachmentQueryResult=function(a,b){for(var c={},d=0;d<a.length;d++)for(var e=a[d],g=e.parentObjectId,n=e.parentGlobalId,l=0,e=e.attachmentInfos;l<e.length;l++){var v=e[l],u=k.addProxy(h.addTokenParameter(b+"/"+g+"/attachments/"+v.id)),v=f.fromJSON(v);v.set({url:u,parentObjectId:g,parentGlobalId:n});c[g]?c[g].push(v):c[g]=[v]}return c};
a.executeAttachmentQuery=function(a,c,f){c={query:e.mapParameters(b.__assign(b.__assign(b.__assign({},a.query),{f:"json"}),n(c)))};f&&(c=b.__assign(b.__assign({},f),c));return l(a.path+"/queryAttachments",c)}})},"esri/core/addTokenParameter":function(){define(["require","exports","../kernel","./urlUtils"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.addTokenParameter=void 0;a.addTokenParameter=function(a){var c=b.id&&b.id.findCredential(a);return c&&c.token?l.addQueryParameter(a,
"token",c.token):a}})},"esri/layers/support/AttachmentInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),function(c,a,b,l,h,k,f){var e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,
mirrored:!1}};return function(a){function c(b){b=a.call(this,b)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.globalId=null;b.keywords=null;b.name=null;b.parentGlobalId=null;b.parentObjectId=null;b.size=null;b.url=null;return b}b.__extends(c,a);d=c;Object.defineProperty(c.prototype,"orientationInfo",{get:function(){var a=f.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return e[a]||null},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new d({contentType:this.contentType,
exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var d;b.__decorate([h.property({type:String})],c.prototype,"contentType",void 0);b.__decorate([h.property()],c.prototype,"exifInfo",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["exifInfo"]})],c.prototype,"orientationInfo",null);b.__decorate([h.property({type:k.Integer})],c.prototype,"id",void 0);
b.__decorate([h.property({type:String})],c.prototype,"globalId",void 0);b.__decorate([h.property({type:String})],c.prototype,"keywords",void 0);b.__decorate([h.property({type:String})],c.prototype,"name",void 0);b.__decorate([h.property({json:{read:!1}})],c.prototype,"parentGlobalId",void 0);b.__decorate([h.property({json:{read:!1}})],c.prototype,"parentObjectId",void 0);b.__decorate([h.property({type:k.Integer})],c.prototype,"size",void 0);b.__decorate([h.property({json:{read:!1}})],c.prototype,
"url",void 0);return c=d=b.__decorate([h.subclass("esri.layers.support.AttachmentInfo")],c)}(l.JSONSupport)})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(c,a,b){function l(a){var c=a.tagName;a=a.tags;return a&&c?(a=b.find(a,function(a){return a.name===c}))&&a.value||null:null}Object.defineProperty(a,"__esModule",{value:!0});a.getExifValue=void 0;a.getExifValue=function(a){var c=a.exifInfo,f=a.exifName;a=a.tagName;return c&&f&&a?(c=b.find(c,
function(a){return a.name===f}))?l({tagName:a,tags:c.tags}):null:null}})},"esri/tasks/operations/queryRelatedRecords":function(){define(["require","exports","tslib","../../request","./urlUtils"],function(c,a,b,l,h){function k(a,b){a=a.toJSON();a.objectIds&&(a.objectIds=a.objectIds.join(","));a.orderByFields&&(a.orderByFields=a.orderByFields.join(","));!a.outFields||(null===b||void 0===b?0:b.returnCountOnly)?delete a.outFields:-1!==a.outFields.indexOf("*")?a.outFields="*":a.outFields=a.outFields.join(",");
a.outSpatialReference&&(a.outSR=a.outSR.wkid||JSON.stringify(a.outSR.toJSON()),delete a.outSpatialReference);a.dynamicDataSource&&(a.layer=JSON.stringify({source:a.dynamicDataSource}),delete a.dynamicDataSource);return a}function f(a,c,f,d){void 0===f&&(f={});return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(g){e=h.mapParameters(b.__assign(b.__assign(b.__assign(b.__assign({},a.query),{f:"json"}),d),k(c,d)));return[2,l(a.path+"/queryRelatedRecords",b.__assign(b.__assign({},
f),{query:b.__assign(b.__assign({},f.query),e)}))]})})}Object.defineProperty(a,"__esModule",{value:!0});a.executeRelationshipQueryForCount=a.executeRelationshipQuery=a.toQueryStringParameters=void 0;a.toQueryStringParameters=k;a.executeRelationshipQuery=function(a,c,g){return b.__awaiter(this,void 0,void 0,function(){var d,e,h,k,l,n,w,v,u,x;return b.__generator(this,function(m){switch(m.label){case 0:return[4,f(a,c,g)];case 1:d=m.sent();e=d.data;h=e.geometryType;k=e.spatialReference;l={};n=0;for(w=
e.relatedRecordGroups;n<w.length;n++)if(v=w[n],u={fields:void 0,objectIdFieldName:void 0,geometryType:h,spatialReference:k,hasZ:!!e.hasZ,hasM:!!e.hasM,features:v.relatedRecords},null!=v.objectId)l[v.objectId]=u;else for(x in v)v.hasOwnProperty(x)&&"relatedRecords"!==x&&(l[v[x]]=u);return[2,b.__assign(b.__assign({},d),{data:l})]}})})};a.executeRelationshipQueryForCount=function(a,c,g){return b.__awaiter(this,void 0,void 0,function(){var d,e,h,k,l,n;return b.__generator(this,function(m){switch(m.label){case 0:return[4,
f(a,c,g,{returnCountOnly:!0})];case 1:d=m.sent();e=d.data;h={};k=0;for(l=e.relatedRecordGroups;k<l.length;k++)n=l[k],null!=n.objectId&&(h[n.objectId]=n.count);return[2,b.__assign(b.__assign({},d),{data:h})]}})})}})},"esri/views/View":function(){define("require exports tslib ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./RefreshManager ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B,A,E,C,D,F,I,G,H,J){var L=q.getLogger("esri.views.View");return function(a){function c(b){var c=a.call(this,b)||this;c._userSpatialReference=null;c._cursor=null;c.allLayerViews=new e({root:c,rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:function(a){return a.layerViews}});c.animation=null;c.basemapView=null;c.defaultsFromMap=new J({view:c});c.fatalError=
null;c.extent=null;c.graphics=new A.default;c.navigating=!1;c.layerViews=new f;c.padding={left:0,top:0,right:0,bottom:0};c.ready=!1;c.spatialReferenceWarningDelay=1E3;c.timeExtent=null;c.type=null;c.scale=null;c.updating=!1;c.initialExtentRequired=!0;c.renderContext=null;c.input=new I;c.navigation=new H;c.layerViewManager=null;c.refreshManager=null;c.isHeightModelInfoRequired=!1;c.width=null;c.height=null;c.resizing=!1;c.suspended=!1;c.viewEvents=new G.ViewEvents(c);c._isValid=!1;c._readyCycleForced=
!1;c.handles.add(c.watch("preconditionsReady",function(a){a?(c._currentSpatialReference=c.spatialReference,d.views.add(c)):(c._currentSpatialReference=null,d.views.remove(c));c.notifyChange("spatialReference");!a&&c.ready?(c.layerViewManager.clear(),c.toolViewManager.detach(),c._teardown()):a&&!c.ready&&(c._startup(),c.toolViewManager.attach())},!0));return c}b.__extends(c,a);d=c;c.prototype.initialize=function(){var a=this;this.addResolvingPromise(this.validate().then(function(){a._isValid=!0;return v.whenOnce(a,
"ready")}));this.basemapView=new E.BasemapView({view:this});this.layerViewManager=new C.default({view:this,layerViewImporter:{importLayerView:function(b){return a.importLayerView(b)},hasLayerViewModule:function(b){return a.hasLayerViewModule(b)}}});this.refreshManager=new D({view:this});this.toolViewManager=new F({view:this});this._resetInitialViewPropertiesFromContent();var b;v.init(this.defaultsFromMap,"isSpatialReferenceDone",function(c){var d=!!(a.map&&0<a.map.allLayers.length);if((!c||a.spatialReference||
!d)&&b)b=null;else if(c&&!a.spatialReference&&d&&!b){var e=b=t.after(a.spatialReferenceWarningDelay);b.then(function(){e===b&&L.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(function(){})}},!0)};c.prototype.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics.destroy();this.graphics=null;this.handles.remove("defaultsFromMap");
this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);this.toolViewManager.destroy();this.toolViewManager=null;this.refreshManager.destroy();this.refreshManager=null;this.layerViewManager.destroy();this.layerViewManager=null;this.basemapView.destroy();this.basemapView=null;this.invalidate();this._emitter.clear();this.handles.removeAll();var a=this.map;this.map=null;null===a||void 0===a?void 0:a.destroy()}};c.prototype._startup=function(){this._set("ready",!0)};c.prototype._teardown=function(){this._set("ready",
!1)};c.prototype.whenReady=function(){return t.resolve()};c.prototype.toMap=function(){L.error("#toMap()","Not implemented on this instance of View");return null};Object.defineProperty(c.prototype,"heightModelInfo",{get:function(){return this.getDefaultHeightModelInfo()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"interacting",{get:function(){return this.navigating},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"preconditionsReady",{get:function(){return!!(!this.fatalError&&
this._isValid&&!this._readyCycleForced&&this.map&&(!m.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"map",{set:function(a){var b=
this._get("map");if(a!==b){if(null===a||void 0===a?0:a.destroyed)L.warn("#map","The provided map is already destroyed",{map:a}),a=null;m.isLoadable(a)&&a.load().catch(function(){});this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent());this._set("map",a)}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"spatialReference",{get:function(){var a=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;a&&this.isHeightModelInfoRequired&&
this.defaultsFromMap&&(a=a.clone(),a.vcsWkid=this.defaultsFromMap.vcsWkid,a.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return a},set:function(a){this._userSpatialReference=a;this._set("spatialReference",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stationary",{get:function(){return!this.animation&&!this.navigating&&!this.resizing},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"initialExtent",{get:function(){return this.defaultsFromMap&&this.defaultsFromMap.extent},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"cursor",{get:function(){var a=this.toolViewManager?this.toolViewManager.cursor:null;return r.isSome(a)?a:this._cursor||"default"},set:function(a){this._cursor=a;this.notifyChange("cursor")},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!1,configurable:!0});c.prototype.whenLayerView=function(a){return this.layerViewManager.whenLayerView(a)};c.prototype.getDefaultSpatialReference=
function(){return this.get("defaultsFromMap.spatialReference")};c.prototype.getDefaultHeightModelInfo=function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null};c.prototype.importLayerView=function(a){throw new n("importLayerView() not implemented");};c.prototype.hasLayerViewModule=function(a){return!1};c.prototype.validate=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2]})})};
c.prototype.invalidate=function(){this._isValid=!1};c.prototype.isSpatialReferenceSupported=function(a,b,c){return!0};c.prototype.isTileInfoRequired=function(){return!1};c.prototype.when=function(b,c){this.isResolved()&&!this.ready&&L.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return a.prototype.when.call(this,b,c)};c.prototype.forceReadyCycle=function(){var a=
this;this.ready&&(this._readyCycleForced=!0,v.whenFalseOnce(this,"preconditionsReady",function(){return a._readyCycleForced=!1}))};c.prototype.createTool=function(a,b,c){return this.toolViewManager.createTool(a,b,c)};c.prototype.tryFatalErrorRecovery=function(){this.fatalError=null};c.prototype._resetInitialViewPropertiesFromContent=function(){var a=this;if(this.defaultsFromMap){var b=function(){return a.defaultsFromMap&&a.defaultsFromMap.start()};this.defaultsFromMap.reset();this._currentSpatialReference=
null;this.notifyChange("spatialReference");this.handles.remove("defaultsFromMap");this.handles.add([v.watch(this,"spatialReference",function(a,c){B.equals(a,c)||b()}),v.watch(this,"initialExtentRequired",b),w.schedule(b)],"defaultsFromMap")}};var d;c.views=new f;b.__decorate([u.aliasOf("toolViewManager.activeTool")],c.prototype,"activeTool",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"allLayerViews",void 0);b.__decorate([u.property()],c.prototype,"animation",void 0);b.__decorate([u.property()],
c.prototype,"basemapView",void 0);b.__decorate([u.property()],c.prototype,"defaultsFromMap",void 0);b.__decorate([u.property()],c.prototype,"fatalError",void 0);b.__decorate([u.property({type:x})],c.prototype,"extent",void 0);b.__decorate([u.property(A.graphicsCollectionProperty)],c.prototype,"graphics",void 0);b.__decorate([u.property({readOnly:!0,type:y,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"]})],c.prototype,"heightModelInfo",null);b.__decorate([u.property({readOnly:!0,
dependsOn:["navigating"]})],c.prototype,"interacting",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"navigating",void 0);b.__decorate([u.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone defaultsFromMap.isTileInfoDone".split(" ")})],c.prototype,"preconditionsReady",null);b.__decorate([u.property({type:f,readOnly:!0})],c.prototype,
"layerViews",void 0);b.__decorate([u.property({value:null,type:l})],c.prototype,"map",null);b.__decorate([u.property()],c.prototype,"padding",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"ready",void 0);b.__decorate([u.property({type:z,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],c.prototype,"spatialReference",null);b.__decorate([u.property()],c.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([u.property({dependsOn:["animation",
"navigating","resizing"]})],c.prototype,"stationary",null);b.__decorate([u.property({type:h})],c.prototype,"timeExtent",void 0);b.__decorate([u.aliasOf("toolViewManager.tools")],c.prototype,"tools",void 0);b.__decorate([u.property()],c.prototype,"toolViewManager",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"type",void 0);b.__decorate([u.property({type:Number})],c.prototype,"scale",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"updating",void 0);b.__decorate([u.property({readOnly:!0})],
c.prototype,"initialExtentRequired",void 0);b.__decorate([u.property({readOnly:!0,type:x,dependsOn:["defaultsFromMap.extent"]})],c.prototype,"initialExtent",null);b.__decorate([u.property({dependsOn:["toolViewManager.cursor"]})],c.prototype,"cursor",null);b.__decorate([u.property()],c.prototype,"renderContext",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"input",void 0);b.__decorate([u.property({type:H,nonNullable:!0})],c.prototype,"navigation",void 0);b.__decorate([u.property()],
c.prototype,"layerViewManager",void 0);b.__decorate([u.property()],c.prototype,"width",void 0);b.__decorate([u.property()],c.prototype,"height",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"resizing",void 0);b.__decorate([u.property({value:null,dependsOn:["width","height"],readOnly:!0})],c.prototype,"size",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"suspended",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"viewEvents",void 0);b.__decorate([u.property()],
c.prototype,"_isValid",void 0);b.__decorate([u.property()],c.prototype,"_readyCycleForced",void 0);b.__decorate([u.property()],c.prototype,"_currentSpatialReference",void 0);return c=d=b.__decorate([u.subclass("esri.views.View")],c)}(d.HandleOwnerMixin(g.EventedMixin(p.EsriPromiseMixin(k))))})},"esri/core/HandleOwner":function(){define("require exports tslib ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ../views/support/WatchUpdatingTracking".split(" "),
function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.HandleOwner=a.HandleOwnerMixin=void 0;a.HandleOwnerMixin=function(a){return function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);c.prototype.destroy=function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())};Object.defineProperty(c.prototype,"handles",{get:function(){return this._get("handles")||new h},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"updatingHandles",{get:function(){return this._get("updatingHandles")||new e.WatchUpdatingTracking},enumerable:!1,configurable:!0});b.__decorate([k.property({readOnly:!0})],c.prototype,"handles",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"updatingHandles",null);return c=b.__decorate([f.subclass("esri.core.HandleOwner")],c)}(a)};c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b.__extends(c,a);return c=b.__decorate([f.subclass("esri.core.HandleOwner")],c)}(a.HandleOwnerMixin(l));
a.HandleOwner=c})},"esri/views/support/WatchUpdatingTracking":function(){define("require exports tslib ../../core/Accessor ../../core/Handles ../../core/scheduling ../../core/watchUtils ../../core/accessorSupport/wire ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),function(c,a,b,l,h,k,f,e,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.WatchUpdatingTracking=void 0;c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||
this;b.updating=!1;b.handleId=0;b.handles=new h;b.scheduleHandleId=0;b.pendingPromises=new Set;return b}b.__extends(c,a);c.prototype.destroy=function(){this.removeAll();this.handles.destroy()};c.prototype.add=function(a,b,c,d){var e=this;void 0===d&&(d=0);var g=0!==(d&1),h=++this.handleId;g||this.installSyncUpdatingWatch(a,b,h);a=0!==(d&2)?f.init(a,b,c,g):a.watch(b,c,g);this.handles.add(a,h);return{remove:function(){e.handles.remove(h)}}};c.prototype.addOnCollectionPropertyChange=function(a,b,c,d){var e=
this;void 0===d&&(d=0);d=0!==(d&2);var g=++this.handleId;this.handles.add([f.on(a,b,"after-changes",this.createSyncUpdatingCallback()),f.on(a,b,"change",c,d?function(a){c({added:a.items,removed:[],moved:[],target:a})}:void 0)],g);return{remove:function(){e.handles.remove(g)}}};c.prototype.addOnCollectionChange=function(a,b,c){var d=this;void 0===c&&(c=0);c=0!==(c&2);var e=++this.handleId;this.handles.add([a.on("after-changes",this.createSyncUpdatingCallback()),a.on("change",b)],e);c&&b({added:a.items,
removed:[],moved:[],target:a});return{remove:function(){d.handles.remove(e)}}};c.prototype.addPromise=function(a){var b=this;if(!a)return a;var c=++this.handleId;this.handles.add({remove:function(){b.pendingPromises.delete(a)&&(0!==b.pendingPromises.size||b.handles.has(d)||b._set("updating",!1))}},c);this.pendingPromises.add(a);this._set("updating",!0);var e=function(){return b.handles.remove(c)};a.then(e,e);return a};c.prototype.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();
this._set("updating",!1)};c.prototype.installSyncUpdatingWatch=function(a,b,c){a=e.default(a,b,this.createSyncUpdatingCallback());this.handles.add(a,c);return a};c.prototype.createSyncUpdatingCallback=function(){var a=this;return function(){a.handles.remove(d);++a.scheduleHandleId;var b=a.scheduleHandleId;a._get("updating")||a._set("updating",!0);a.handles.add(k.schedule(function(){b===a.scheduleHandleId&&(a._set("updating",0<a.pendingPromises.size),a.handles.remove(d))}),d)}};b.__decorate([n.property({readOnly:!0})],
c.prototype,"updating",void 0);return c=b.__decorate([g.subclass("esri.views.support.WatchUpdatingTracking")],c)}(l);a.WatchUpdatingTracking=c;var d=-42})},"esri/support/GraphicsCollection":function(){define("require exports tslib ../Graphic ../core/Collection ../core/collectionUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType".split(" "),function(c,a,b,l,h,k,f,e){Object.defineProperty(a,"__esModule",{value:!0});a.graphicsCollectionProperty=a.castGraphicsCollection=a.GraphicsCollection=
void 0;var n=h.ofType(l),g=function(a){function c(b){var c=a.call(this,b)||this;c.on("before-add",function(a){a.item||a.preventDefault()});c.on("after-add",function(a){return c._own(a.item)});c.on("after-remove",function(a){a.item.layer=null});return c}b.__extends(c,a);c.prototype.destroy=function(){this._unownAll()};Object.defineProperty(c.prototype,"owner",{get:function(){return this._get("owner")},set:function(a){a!==this._get("owner")&&(this._unownAll(),this._set("owner",a),this._ownAll())},enumerable:!1,
configurable:!0});c.prototype._createNewInstance=function(a){return new n(a)};c.prototype._ownAll=function(){var a=this;this.items.forEach(function(b){return a._own(b)})};c.prototype._own=function(a){a.layer&&"remove"in a.layer&&a.layer!==this.owner&&a.layer.remove(a);a.layer=this.owner};c.prototype._unownAll=function(){var a=this;this.items.forEach(function(b){return a._unown(b)})};c.prototype._unown=function(a){a.layer===this.owner&&(a.layer=null)};b.__decorate([f.property()],c.prototype,"owner",
null);return c=b.__decorate([f.subclass("esri.support.GraphicsCollection")],c)}(n);a.GraphicsCollection=g;a.castGraphicsCollection=function(a){if(a=e.default(g,a))a.owner=this;return a};a.graphicsCollectionProperty={type:g,cast:k.castForReferenceSetter,set:function(a){a=k.referenceSetter(a,this._get("graphics"),g);a.owner=this;this._set("graphics",a)}};a.default=g})},"esri/views/BasemapView":function(){define("require exports tslib ../core/Accessor ../core/Collection ../core/watchUtils ../core/accessorSupport/decorators".split(" "),
function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});a.BasemapView=void 0;c=function(a){function c(b){b=a.call(this,b)||this;b.view=null;b.baseLayerViews=new h;b.referenceLayerViews=new h;b._loadingHandle=k.init(b,"view.map.basemap",function(a){a&&a.load().catch(function(){})});return b}b.__extends(c,a);c.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};Object.defineProperty(c.prototype,"suspended",
{get:function(){return this.view?this.view.suspended:!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"updating",{get:function(){return this.view&&this.view.suspended?!1:!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)},enumerable:!1,configurable:!0});b.__decorate([f.property({constructOnly:!0})],c.prototype,"view",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"baseLayerViews",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,
"referenceLayerViews",void 0);b.__decorate([f.property({readOnly:!0,dependsOn:["view.suspended"]})],c.prototype,"suspended",null);b.__decorate([f.property({type:Boolean,readOnly:!0,dependsOn:["view.suspended","view.map.basemap.loaded"]})],c.prototype,"updating",null);return c=b.__decorate([f.subclass("esri.views.BasemapView")],c)}(l);a.BasemapView=c})},"esri/views/LayerViewManager":function(){define("require exports tslib ../core/Error ../core/HandleOwner ../core/Logger ../core/maybe ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ./support/WatchUpdatingTracking".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){Object.defineProperty(a,"__esModule",{value:!0});var q=k.getLogger("esri.views.LayerViewManager"),r=new Map;r.set("view.map.basemap.baseLayers","view.basemapView.baseLayerViews");r.set("view.map.ground.layers","view.groundView.layerViews");r.set("view.map.layers","view.layerViews");r.set("view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews");var p=function(){function a(a,b,c){var d=this;this.layer=a;this.view=b;this.layerViewImporter=c;this._controller=
e.createAbortController();this._deferred=e.createDeferred();this.done=this._started=!1;e.onAbort(this._controller.signal,function(){var b=new l("cancelled:layerview-create","layerview creation cancelled",{layer:a});d._deferred.reject(b)})}Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0});a.prototype.destroy=function(){this._controller.abort();var a=this.layerView;if(a){var b=this.layer,c=this.view;b.emit("layerview-destroy",
{view:c,layerView:a});c.emit("layerview-destroy",{layer:b,layerView:a});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};a.prototype.start=function(){var a,c;return b.__awaiter(this,void 0,void 0,function(){var d,g,h,m,k,n,p,r,t,q,v,w=this;return b.__generator(this,function(b){switch(b.label){case 0:if(this._started)return[2];this._started=!0;d=this;g=d._controller.signal;h=d.layer;m=d.view;this._map=m.map;b.label=1;case 1:return b.trys.push([1,13,,14]),[4,h.load({signal:g})];
case 2:return b.sent(),"prefetchResources"in h?[4,h.prefetchResources({signal:g})]:[3,4];case 3:b.sent(),b.label=4;case 4:return h.createLayerView?[4,h.createLayerView(m,{signal:g})]:[3,6];case 5:return k=b.sent(),[3,8];case 6:if(!this.layerViewImporter.hasLayerViewModule(h))throw new l("layer:view-not-supported","No layerview implementation was found");return[4,this.layerViewImporter.importLayerView(h)];case 7:n=b.sent(),e.throwIfAborted(g),k="default"in n?new n.default({layer:h,view:m}):new n({layer:h,
view:m}),b.label=8;case 8:r=function(){f.isSome(p)&&(p.remove(),p=null);k.destroy();k.layer=null;k.parent=null;k.view=null;w.done=!0},p=e.onAbort(g,r),e.throwIfAborted(g),b.label=9;case 9:return b.trys.push([9,11,,12]),[4,k.when()];case 10:return b.sent(),[3,12];case 11:throw t=b.sent(),r(),t;case 12:q=null===(c=null===(a=this._map)||void 0===a?void 0:a.allLayers)||void 0===c?void 0:c.includes(h);if(!q)return this._deferred.reject(new l("view:no-layerview-for-layer","The layer has been removed from the map",
{layer:h})),r(),[2];this.layerView=k;h.emit("layerview-create",{view:m,layerView:k});m.emit("layerview-create",{layer:h,layerView:k});this.done=!0;this._deferred.resolve(k);return[3,14];case 13:return v=b.sent(),h.emit("layerview-create-error",{view:m,error:v}),m.emit("layerview-create-error",{layer:h,error:v}),this.done=!0,this._deferred.reject(new l("layerview:create-error","layerview creation failed",{layer:h,error:v})),[3,14];case 14:return[2]}})})};return a}();c=function(a){function c(b){var c=
a.call(this,b)||this;c._layerLayerViewInfoMap=new Map;c._watchUpdatingTracking=new m.WatchUpdatingTracking;c.view=null;c._preloadLayerViewModules=function(){var a=c.view,b=c.get("view.map.allLayers");a&&b&&b.forEach(function(a){c.layerViewImporter.hasLayerViewModule(a)&&c.layerViewImporter.importLayerView(a)})};c._reschedule=function(){c.handles.remove("reschedule");c.handles.add(n.schedule(c._doWork),"reschedule");c.notifyChange("updating")};c._doWork=function(){var a,b,d,e=c.get("view.map");c._map!==
e&&(c.clear(),c._map=e);if(c.handles.has("reschedule")){c.handles.remove("reschedule");c.handles.remove("collection-change");var f=e&&e.allLayers;if(f){f.forEach(c._createLayerView,c);c._refreshCollections();var g=[];c._layerLayerViewInfoMap.forEach(function(a,b){f.includes(b)||g.push(a)});for(var h=0;h<g.length;h++){var m=g[h];c._layerLayerViewInfoMap.delete(m.layer);m.destroy()}e=[null===(a=e.ground)||void 0===a?void 0:a.layers,null===(b=e.basemap)||void 0===b?void 0:b.baseLayers,null===(d=e.basemap)||
void 0===d?void 0:d.referenceLayers,e.layers].filter(function(a){return!!a});c.handles.add(e.map(function(a){return c._watchUpdatingTracking.addOnCollectionChange(a,c._reschedule)}),"collection-change");c.notifyChange("updating")}}};c.handles.add([g.on(c,"view.map.allLayers","change",c._preloadLayerViewModules,c._preloadLayerViewModules),c.watch(["view.map.basemap","view.map.ground","view.map.layers","view.ready"],c._reschedule,!0)]);return c}b.__extends(c,a);c.prototype.initialize=function(){this._preloadLayerViewModules()};
c.prototype.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=this.view=null};Object.defineProperty(c.prototype,"updating",{get:function(){if(this.handles.has("reschedule")||this._watchUpdatingTracking.updating)return!0;var a=!0;this._layerLayerViewInfoMap.forEach(function(b){return a=a&&b.done});return!a},enumerable:!1,configurable:!0});c.prototype.clear=function(){this.destroyed||(this._layerLayerViewInfoMap.forEach(function(a){return a.destroy()}),this._layerLayerViewInfoMap.clear(),
this._refreshCollections())};c.prototype.whenLayerView=function(a){this._reschedule();this._doWork();return this._layerLayerViewInfoMap.has(a)?this._layerLayerViewInfoMap.get(a).promise:e.reject(new l("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:a}))};c.prototype._refreshCollections=function(){var a=this;r.forEach(function(b,c){a._populateLayerViewsOwners(a.get(c),a.get(b),a.view)})};c.prototype._populateLayerViewsOwners=function(a,b,c){var d=this;if(a&&b){var e=
0;a.forEach(function(a){var f=d._layerLayerViewInfoMap.get(a);f&&f.layerView&&(f=f.layerView,f.layer=a,f.parent=c,b.getItemAt(e)!==f&&b.splice(e,0,f),a.layers&&d._populateLayerViewsOwners(a.layers,f.layerViews,f),e+=1)});e<b.length&&b.splice(e,b.length)}else b&&b.removeAll()};c.prototype._createLayerView=function(a){var b=this;if(this._layerLayerViewInfoMap.has(a))this.view.ready&&this._layerLayerViewInfoMap.get(a).start();else{a.load().catch(function(){});this.layerViewImporter.hasLayerViewModule(a)&&
this.layerViewImporter.importLayerView(a);var c=new p(a,this.view,this.layerViewImporter);c.promise.then(function(){b._refreshCollections();b.notifyChange("updating")},function(c){var d,f;c&&(e.isAbortError(c)||"cancelled:layerview-create"===c.name)||q.error("Failed to create layerview for layer title:'"+(null!==(d=a.title)&&void 0!==d?d:"no title")+"', id:'"+(null!==(f=a.id)&&void 0!==f?f:"no id")+"' of type '"+a.type+"'.",{layer:a,error:c});b._refreshCollections();b.notifyChange("updating")});this._layerLayerViewInfoMap.set(a,
c);this.view.ready&&c.start()}this.notifyChange("updating")};b.__decorate([d.property({readOnly:!0})],c.prototype,"_watchUpdatingTracking",void 0);b.__decorate([d.property()],c.prototype,"layerViewImporter",void 0);b.__decorate([d.property({readOnly:!0,dependsOn:["_watchUpdatingTracking.updating"]})],c.prototype,"updating",null);b.__decorate([d.property()],c.prototype,"view",void 0);return c=b.__decorate([d.subclass("esri.views.LayerViewManager")],c)}(h.HandleOwner);a.default=c})},"esri/views/RefreshManager":function(){define("require exports tslib ../core/Accessor ../core/Handles ../core/accessorSupport/decorators ./layers/RefreshableLayerView".split(" "),
function(c,a,b,l,h,k,f){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._handles=new h;b._currentTick=0;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this._handles.add([this.view.allLayerViews.on("after-changes",function(){a.notifyChange("tickInterval");a._handles.remove("layerViewsUpdating");a._handles.add(a._getLayerViewHandles(),"layerViewsUpdating")}),this.watch("tickInterval",function(){return a._restartTicking()}),this.watch("view.ready",
function(){return a._restartTicking()})]);this._restartTicking()};c.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)};Object.defineProperty(c.prototype,"tickInterval",{get:function(){var a=this.view.allLayerViews.filter(function(a){return f.isRefreshableLayerView(a)});return this._getCommonInterval(a)},enumerable:!1,configurable:!0});c.prototype._restartTicking=function(){var a=this;this._currentTick=
0;this._intervalID&&clearInterval(this._intervalID);this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval(function(){var b=Date.now();a._currentTick+=a.tickInterval;a.view.allLayerViews.forEach(function(c){if(f.isRefreshableLayerView(c)){var d=Math.round(6E4*c.refreshInterval),e=0===a._currentTick%d,g=6E3>b-c.refreshTimestamp;d&&e&&!g&&c.refresh(b)}})},this.tickInterval))};c.prototype._getLayerViewHandles=function(){var a=this,b=[],c=function(){return a.notifyChange("tickInterval")};
this.view.allLayerViews.forEach(function(a){f.isRefreshableLayerView(a)&&a.layer&&b.push(a.watch("refreshInterval",c),a.layer.on("refresh",function(){a.refresh(Date.now())}))});return b};c.prototype._getCommonInterval=function(a){var b=function(a,c){return isNaN(a)||isNaN(c)?0:0>=c?a:b(c,a%c)};return a.toArray().reduce(function(a,c){return b(Math.round(6E4*c.refreshInterval),a)},0)};b.__decorate([k.property()],c.prototype,"view",void 0);b.__decorate([k.property({readOnly:!0})],c.prototype,"tickInterval",
null);return c=b.__decorate([k.subclass("esri.views.RefreshManager")],c)}(l)})},"esri/views/layers/RefreshableLayerView":function(){define(["require","exports","tslib","../../core/promiseUtils","../../core/accessorSupport/decorators"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.isRefreshableLayerView=a.RefreshableLayerView=void 0;a.RefreshableLayerView=function(a){return function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.refreshTimestamp=null;c.refreshDebounced=
l.debounce(function(a,d){return b.__awaiter(c,void 0,void 0,function(){var c;return b.__generator(this,function(b){switch(b.label){case 0:return"number"===typeof a?c=a:(c=Date.now(),d=a),this._set("refreshTimestamp",c),this.doRefresh?[4,this.doRefresh(d)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})},2E3);return c}b.__extends(c,a);c.prototype.refresh=function(a){void 0===a&&(a=Date.now());this._set("refreshTimestamp",a);this.doRefresh&&this.doRefresh()};b.__decorate([h.property()],c.prototype,
"layer",void 0);b.__decorate([h.aliasOf("layer.refreshInterval")],c.prototype,"refreshInterval",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"refreshTimestamp",void 0);return c=b.__decorate([h.subclass("esri.layers.mixins.RefreshableLayerView")],c)}(a)};a.isRefreshableLayerView=function(a){return"refresh"in a}})},"esri/views/ToolViewManager":function(){define("require exports tslib ../core/Accessor ../core/Collection ../core/Handles ../core/Logger ../core/maybe ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/ToolViewManagerManipulatorState".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p){var t=f.getLogger("esri.views.ToolViewManager");return function(a){function c(b){var c=a.call(this,b)||this;c._handles=new k;c._creatingTool=null;c._manipulatorState=new p.default;c.tools=r.newToolCollection();c.cursor=null;c._forEachTool=function(a){if(!e.isSome(c._creatingTool)||!a(c._creatingTool))for(var b=0,d=c.tools.items;b<d.length&&!a(d[b]);b++);};return c}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this._handles.add([this.view.on(q.eventTypes,
function(b){a._handleInputEvent(b)},m.ViewEventPriorities.TOOL),this.tools.on("before-add",function(b){var c=b.item;null==c||a.tools.includes(c)?b.preventDefault():null==c.created||c.created||(t.error("tools","Tool can not be added to view before it has been created"),b.preventDefault())}),this.tools.on("before-remove",function(b){a._manipulatorState.clearPointers(b.item,a._forEachTool)}),this.tools.on("change",function(){a._refreshToolWatchers()})])};c.prototype.destroy=function(){this._forEachTool(function(a){return a.destroy()});
this._handles.destroy();this._handles=null};Object.defineProperty(c.prototype,"activeTool",{set:function(a){var b=this;e.isSome(a)&&!this.view.ready?t.error("#activeTool\x3d","cannot set active tool while view is not ready"):(r.swap(this,a,function(c){b._set("activeTool",c);b._removeIncompleteTools(a);b._forEachTool(function(a){var c=e.isNone(b.activeTool)||a===b.activeTool;a.setEditableFlag&&a.setEditableFlag(1,c);c=r.areToolManipulatorsEditable(a);!e.isNone(b.activeTool)&&c||b._manipulatorState.clearPointers(a,
b._forEachTool,!c)});b._updateCursor()}),this._creatingTool!==a&&this._rejectCreatingTool())},enumerable:!1,configurable:!0});c.prototype.createTool=function(a,c,d){return b.__awaiter(this,void 0,void 0,function(){var f,h,m,k=this;return b.__generator(this,function(p){switch(p.label){case 0:return[4,this.view.whenReady()];case 1:p.sent();if(n.isAborted(d))throw n.createAbortError("Tool creation was interrupted by another tool being created");f=r.evaluateToolConstructorArguments(c);h=new a(b.__assign(b.__assign({},
f),{view:this.view}));m=n.onAbort(d,function(){return k.activeTool=null});this._rejectCreatingTool("Tool creation was interrupted by another tool being created");this._creatingTool=h;h.attach();this._refreshToolWatchers();r.setActive(h,!0);return[4,h.when()];case 2:return p.sent(),e.isSome(m)&&m.remove(),this._creatingTool=null,this.tools.add(h),h instanceof l&&null!=h.completed&&g.whenOnce(h,"completed").then(function(){r.setActive(h,!1)}),[2,h]}})})};c.prototype.attach=function(){var a=this;this._forEachTool(function(a){return a.attach()});
"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",function(){a.forEachManipulator(function(a){if(null!=a.onViewChange)a.onViewChange()})}),this.view.elevationProvider.on("elevation-change",function(b){a.forEachManipulator(function(a){if(null!=a.onElevationChange)a.onElevationChange(b)})})],"manipulators"):this._handles.add(this.view.watch("extent",function(){a.forEachManipulator(function(a){if(null!=a.onViewChange)a.onViewChange()})}))};c.prototype.detach=function(){this.activeTool=
null;this._forEachTool(function(a){a.detach();a.destroy()});this.tools.removeAll();this._handles.remove("manipulators")};c.prototype.forEachManipulator=function(a){this._forEachTool(function(b){b.manipulators&&b.manipulators.forEach(function(c){return a(c.manipulator,b)})})};c.prototype._handleInputEvent=function(a){var c=this,d=!1,f=b.__assign(b.__assign({},a),{stopPropagation:function(){d=!0;a.stopPropagation()}});e.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(f):
this._forEachTool(function(a){!d&&!1!==a.visible&&a.handleInputEvent&&a.handleInputEvent(f)});!d&&"key-down"===a.type&&"Escape"===a.key&&this.activeTool&&(a.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(f,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:function(a){c.activeTool=a},creatingTool:this._creatingTool,view:this.view});!d&&e.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(f);this._manipulatorState.handleHoverEvent(f,
this._forEachTool);this._updateCursor()};c.prototype._refreshToolWatchers=function(){var a=this;this._handles.remove("tools");this._forEachTool(function(b){if(b instanceof l){var c=g.watch(b,["cursor","visible","editable"],function(){r.areToolManipulatorsEditable(b)||a._manipulatorState.clearPointers(b,a._forEachTool);a._updateCursor()});a._handles.add(c,"tools")}b.manipulators&&a._handles.add(b.manipulators.on("change",function(c){c.removed.forEach(function(c){a._manipulatorState.clearPointers(b,
a._forEachTool,!0,c.id)});a._manipulatorState.updateHoveredStateFromKnownPointers(a._forEachTool);a._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};c.prototype._updateCursor=function(){var a=null;this._forEachTool(function(b){return null!=b.cursor&&!1!==b.visible?(a=b.cursor,!0):!1});a||(a=this._manipulatorState.cursor);this._get("cursor")!==a&&this._set("cursor",a)};c.prototype._rejectCreatingTool=function(a){var b=
this._creatingTool;e.isNone(b)||(this._manipulatorState.clearPointers(b,this._forEachTool),b.rejectCreation&&b.rejectCreation(n.createAbortError(a)),b.destroy(),this._creatingTool=null,this._refreshToolWatchers())};c.prototype._removeIncompleteTools=function(a){var b=this;this.tools.filter(function(b){return(e.isNone(a)||b!==a)&&null!=b.completed&&!b.completed}).forEach(function(a){b.tools.remove(a)})};b.__decorate([d.property({constructOnly:!0,nonNullable:!0})],c.prototype,"view",void 0);b.__decorate([d.property({value:null})],
c.prototype,"activeTool",null);b.__decorate([d.property({readOnly:!0,type:h})],c.prototype,"tools",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"cursor",void 0);return c=b.__decorate([d.subclass("esri.views.ToolViewManager")],c)}(l)})},"esri/views/input/InputManager":function(){define("require exports tslib ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators ./keys ./handlers/LatestPointerType".split(" "),function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,
"__esModule",{value:!0});a.ViewEventPriorities=a.InputManager=void 0;var g=h.getLogger("esri.views.input.InputManager");c=function(c){function h(a){a=c.call(this,a)||this;a._pointerCaptures=new Map;a._nameToGroup={};a._handlers=[];a._currentPropagation=null;a._sourceEvents=new Set;a._keyModifiers=new Set;a._activeKeyModifiers=new Set;a._stoppedPropagationEventIds=new Set;a.primaryKey=e.primaryKey;a.latestPointerType="mouse";a.test={timestamp:void 0};return a}b.__extends(h,c);h.prototype.initialize=
function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};h.prototype.destroy=function(){for(var a=0,b=Object.keys(this._nameToGroup);a<b.length;a++)this.uninstallHandlers(b[a]);this.eventSource=null};Object.defineProperty(h.prototype,"hasPendingInputs",{get:function(){return this._handlers.some(function(a){return a.handler.hasPendingInputs})},enumerable:!1,configurable:!0});h.prototype.installHandlers=function(b,c,d){var e=this;void 0===d&&(d=a.ViewEventPriorities.INTERNAL);
if(this._nameToGroup[b])g.error("There is already an InputHandler group registered under the name `"+b+"`");else if(0===c.length)g.error("Can't register a group of zero handlers");else{var f={name:b,handlers:c.map(function(a){return{handler:a,active:!0,removed:!1,priorityIndex:0,groupPriority:d,eventCallback:null,uninstallCallback:null}})};this._nameToGroup[b]=f;b=function(a){var b=f.handlers[a];h._handlers.push(b);b.handler.onInstall({updateDependencies:function(){e.updateDependencies()},emit:function(a,
c,d,f,g){e._emitInputEvent(b.priorityIndex+1,a,c,d,g,f)},setPointerCapture:function(a,c){e._setPointerCapture(f,b,a,c)},setEventCallback:function(a){b.eventCallback=a},setUninstallCallback:function(a){b.uninstallCallback=a},refreshHasPendingInputs:function(){e.notifyChange("hasPendingInputs")}})};var h=this;for(c=f.handlers.length-1;0<=c;c--)b(c);this.updateDependencies()}};h.prototype.uninstallHandlers=function(a){var b=this._nameToGroup[a];b?(b.handlers.forEach(function(a){a.removed=!0;a.uninstallCallback()}),
delete this._nameToGroup[a],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):g.error("There is no InputHandler group registered under the name `"+a+"`")};h.prototype.hasHandlers=function(a){return void 0!==this._nameToGroup[a]};h.prototype.updateDependencies=function(){var a=new Set,b=new Set;this._handlersPriority=[];for(var c=this._handlers.length-1;0<=c;c--){var d=this._handlers[c];d.priorityIndex=c;this._handlersPriority.push(d)}this._handlersPriority=
this._sortHandlersPriority(this._handlersPriority);for(c=this._handlersPriority.length-1;0<=c;c--){d=this._handlersPriority[c];d.priorityIndex=c;var f=d.handler.hasSideEffects;if(!f)for(var g=0,h=d.handler.outgoingEventTypes;g<h.length;g++)if(a.has(h[g])){f=!0;break}if(f)for(g=0,h=d.handler.incomingEventMatches;g<h.length;g++){var m=h[g];a.add(m.eventType);for(var k=0,m=m.keyModifiers;k<m.length;k++){var l=m[k];e.isSystemModifier(l)||b.add(l)}}d.active=f}this._sourceEvents=a;this._keyModifiers=b;
0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)};h.prototype._setLatestPointerType=function(a){this._set("latestPointerType",a)};h.prototype._onEventReceived=function(a,b){"pointer-capture-lost"===a&&this._pointerCaptures.delete(b.native.pointerId);this._updateKeyModifiers(a,b);this._emitInputEventFromSource(a,
b,null!=this.test.timestamp?this.test.timestamp:b.native?b.native.timestamp:void 0,b.native?b.native.cancelable:void 0)};h.prototype._updateKeyModifiers=function(a,b){var c=this;if(b){var d=!1,e=function(){if(!d){var a=new Set;c._activeKeyModifiers.forEach(function(b){a.add(b)});c._activeKeyModifiers=a;d=!0}},f=function(a,b){b&&!c._activeKeyModifiers.has(a)?(e(),c._activeKeyModifiers.add(a)):!b&&c._activeKeyModifiers.has(a)&&(e(),c._activeKeyModifiers.delete(a))};if("key-down"===a||"key-up"===a){var g=
b.key;this._keyModifiers.has(g)&&f(g,"key-down"===a)}a=b.native;f("Alt",!(!a||!a.altKey));f("Ctrl",!(!a||!a.ctrlKey));f("Shift",!(!a||!a.shiftKey));f("Meta",!(!a||!a.metaKey));f("Primary",this._activeKeyModifiers.has(this.primaryKey))}};h.prototype._installRecognizers=function(){var b=this;this._latestPointerTypeHandler=new n.LatestPointerType(function(a){return b._setLatestPointerType(a)});0<this.recognizers.length&&this.installHandlers("default",this.recognizers,a.ViewEventPriorities.INTERNAL);
this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],a.ViewEventPriorities.INTERNAL)};h.prototype._setPointerCapture=function(a,b,c,d){a=a.name+"-"+b.priorityIndex;b=this._pointerCaptures.get(c.pointerId)||new Set;this._pointerCaptures.set(c.pointerId,b);d?(b.add(a),1===b.size&&this.eventSource&&this.eventSource.setPointerCapture(c,!0)):b.has(a)&&(b.delete(a),0===b.size&&(this._pointerCaptures.delete(c.pointerId),this.eventSource&&this.eventSource.setPointerCapture(c,!1)))};
h.prototype._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(function(a){return!a.removed});this.updateDependencies()};h.prototype._emitInputEventFromSource=function(a,b,c,d){this._emitInputEvent(0,a,b,c,d)};h.prototype._emitInputEvent=function(a,b,c,e,f,g){e=void 0!==e?e:this._currentPropagation?this._currentPropagation.timestamp:performance.now();a={event:new d(b,c,e,g||this._activeKeyModifiers,void 0!==f?f:!1),priorityIndex:a};this._currentPropagation?this._currentPropagation.events.push(a):
this._doNewPropagation(a)};h.prototype._doNewPropagation=function(a){this._currentPropagation={events:new k.default,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:a.event.timestamp};this._currentPropagation.events.push(a);for(a=this._currentPropagation;0<this._currentPropagation.events.length;){var b=this._currentPropagation.events.pop(),c=b.event,b=b.priorityIndex,d=c.data&&c.data.eventId;if(null==d||!this._stoppedPropagationEventIds.has(d))for(a.currentHandler=this._handlersPriority[b];a.currentHandler;){if(a.currentHandler.removed)a.needsHandlerGarbageCollect=
!0;else if(a.currentHandler.active&&a.currentHandler.eventCallback(c),c.shouldStopPropagation()){null!=d&&this._stoppedPropagationEventIds.add(d);break}a.currentHandler=this._handlersPriority[a.currentHandler.priorityIndex+1]}}a.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null};h.prototype._compareHandlerPriority=function(a,b){if(a.handler.hasSideEffects!==b.handler.hasSideEffects)return a.handler.hasSideEffects?
1:-1;if(a.groupPriority!==b.groupPriority)return a.groupPriority>b.groupPriority?-1:1;for(var c=0,d=a.handler.incomingEventMatches;c<d.length;c++)for(var e=d[c],f=function(a){if(e.eventType!==a.eventType)return"continue";var b=e.keyModifiers.filter(function(b){return-1!==a.keyModifiers.indexOf(b)});if(b.length===e.keyModifiers.length!==(b.length===a.keyModifiers.length))return{value:e.keyModifiers.length>a.keyModifiers.length?-1:1}},g=0,h=b.handler.incomingEventMatches;g<h.length;g++){var m=f(h[g]);
if("object"===typeof m)return m.value}return a.priorityIndex>b.priorityIndex?-1:1};h.prototype._sortHandlersPriority=function(a){for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=0;e<b.length&&0<=this._compareHandlerPriority(d,b[e]);)e++;b.splice(e,0,d)}return b};Object.defineProperty(h.prototype,"debug",{get:function(){var a=this,b=function(b){var c=a._setPointerCapture;a._setPointerCapture=function(){};b();a._setPointerCapture=c};return{injectEvent:function(c,d){b(function(){a._onEventReceived(c,
d)})},disablePointerCapture:b}},enumerable:!1,configurable:!0});b.__decorate([f.property({readOnly:!0})],h.prototype,"hasPendingInputs",null);b.__decorate([f.property()],h.prototype,"eventSource",void 0);b.__decorate([f.property()],h.prototype,"recognizers",void 0);b.__decorate([f.property({readOnly:!0})],h.prototype,"latestPointerType",void 0);return h=b.__decorate([f.subclass("esri.views.input.InputManager")],h)}(l);a.InputManager=c;(function(){return function(){}})();var d=function(){function a(a,
b,c,d,e){this.type=a;this.data=b;this.timestamp=c;this.modifiers=d;this.cancelable=e;this._stopPropagation=!1}a.prototype.stopPropagation=function(){this._stopPropagation=!0};a.prototype.shouldStopPropagation=function(){return this._stopPropagation};a.prototype.preventDefault=function(){this.data.native.preventDefault()};return a}();a.ViewEventPriorities={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}})},"esri/core/Queue":function(){define(["require","exports","./maybe","./SetUtils"],function(c,a,b,l){Object.defineProperty(a,
"__esModule",{value:!0});c=function(){function a(a){void 0===a&&(a=function(a){return l.firstOfSet(a)});this._peeker=a;this._items=new Set}Object.defineProperty(a.prototype,"length",{get:function(){return this._items.size},enumerable:!1,configurable:!0});a.prototype.clear=function(){this._items.clear()};a.prototype.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};a.prototype.push=function(a){this.contains(a)||this._items.add(a)};a.prototype.contains=function(a){return this._items.has(a)};
a.prototype.pop=function(){if(0!==this.length){var a=this.peek();this._items.delete(b.assumeNonNull(a));return a}};a.prototype.remove=function(a){this._items.delete(a)};a.prototype.filter=function(a){var b=this;this._items.forEach(function(c){a(c)||b._items.delete(c)});return this};return a}();a.default=c})},"esri/views/input/keys":function(){define(["require","exports","../../core/events","../../core/has"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.isSystemModifier=a.eventKey=
a.primaryKey=void 0;a.primaryKey=l("mac")?"Meta":"Ctrl";var h={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(c=48;58>c;c++)h[c]=String.fromCharCode(c);for(c=1;25>c;c++)h[111+c]="F"+c;for(c=65;91>c;c++)h[c]=[String.fromCharCode(c+32),String.fromCharCode(c)];a.eventKey=function(a){if(void 0!==a.key)return b.eventKey(a);var c=h[a.keyCode];return Array.isArray(c)?a.shiftKey?
c[1]:c[0]:c};a.isSystemModifier=function(a){switch(a){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1}})},"esri/views/input/handlers/LatestPointerType":function(){define(["require","exports","tslib","../InputHandler"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.LatestPointerType=void 0;c=function(a){function c(b){var c=a.call(this,!0)||this;c._onChange=b;c._value="mouse";c.registerIncoming("pointer-down",function(a){c._setValue("touch"===a.data.native.pointerType?
"touch":"mouse")});c._moveHandler=c.registerIncoming("pointer-move",function(a){c._setValue("touch"===a.data.native.pointerType?"touch":"mouse")});c._moveHandler.pause();return c}b.__extends(c,a);c.prototype._setValue=function(a){a!==this._value&&("touch"===a?this._moveHandler.resume():this._moveHandler.pause(),this._value=a,this._onChange(a))};return c}(l.InputHandler);a.LatestPointerType=c})},"esri/views/input/InputHandler":function(){define(["require","exports","../../core/Logger","./EventMatch"],
function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.InputHandler=void 0;var h=b.getLogger("esri.views.input.InputHandler");c=function(){function a(a){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=a}Object.defineProperty(a.prototype,"incomingEventMatches",{get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(var a in this._incoming)for(var b=0,
c=this._incoming[a];b<c.length;b++)this._incomingEventMatches.push(c[b].match)}return this._incomingEventMatches},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"incomingEventTypes",{get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(function(a){return a.eventType}));return this._incomingEventTypes},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"outgoingEventTypes",{get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=
Object.keys(this._outgoing));return this._outgoingEventTypes},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hasSideEffects",{get:function(){return this._hasSideEffects},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hasPendingInputs",{get:function(){return!1},enumerable:!1,configurable:!0});a.prototype.onInstall=function(a){var b=this;this._manager?h.error("This InputHandler has already been registered with an InputManager"):(a.setEventCallback(function(a){return b._handleEvent(a)}),
a.setUninstallCallback(function(){return b._onUninstall()}),this._manager=a)};a.prototype.onUninstall=function(){};a.prototype.registerIncoming=function(a,b,c){var d=this;"function"===typeof b?(c=b,b=[]):b=b||[];a="string"===typeof a?new l.EventMatch(a,b):a;var e=function(){d._incomingEventTypes=null;d._incomingEventMatches=null};b=function(a){var b=d._incoming[a.match.eventType];b&&(a=b.indexOf(a),b.splice(a,1),e(),d._manager&&d._manager.updateDependencies())};c=new k(a,c,{onPause:b,onRemove:b,onResume:function(a){var b=
d._incoming[a.match.eventType];b&&-1===b.indexOf(a)&&(b.push(a),e(),d._manager&&d._manager.updateDependencies())}});b=this._incoming[a.eventType];b||(b=[],this._incoming[a.eventType]=b);b.push(c);e();this._manager&&this._manager.updateDependencies();return c};a.prototype.registerOutgoing=function(a){var b=this;if(this._outgoing[a])throw Error("There is already a callback registered for this outgoing InputEvent: "+a);var c=new f(a,{onEmit:function(a,c,d,e){b._manager.emit(a.eventType,c,d,e)},onRemove:function(a){delete b._outgoing[a.eventType];
b._manager.updateDependencies()}});this._outgoing[a]=c;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return c};a.prototype.startCapturingPointer=function(a){this._manager.setPointerCapture(a,!0)};a.prototype.stopCapturingPointer=function(a){this._manager.setPointerCapture(a,!1)};a.prototype.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};a.prototype._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):h.error("This InputHandler is not registered with an InputManager")};
a.prototype._handleEvent=function(a){var b=this._incoming[a.type];if(b)for(var c=0;c<b.length;c++){var e=b[c];if(e.match.matches(a)&&(e.callback(a),a.shouldStopPropagation()))break}};return a}();a.InputHandler=c;var k=function(){function a(a,b,c){this.match=a;this._callback=b;this._handler=c}a.prototype.pause=function(){this._handler.onPause(this)};a.prototype.resume=function(){this._handler.onResume(this)};a.prototype.remove=function(){this._handler.onRemove(this)};Object.defineProperty(a.prototype,
"callback",{get:function(){return this._callback},enumerable:!1,configurable:!0});return a}(),f=function(){function a(a,b){this.eventType=a;this._removed=!1;this._handler=b}a.prototype.emit=function(a,b,c){if(!this._removed)this._handler.onEmit(this,a,b,c)};a.prototype.remove=function(){this._removed=!0;this._handler.onRemove(this)};return a}()})},"esri/views/input/EventMatch":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.EventMatch=void 0;
c=function(){function a(a,b){void 0===b&&(b=[]);this.eventType=a;this.keyModifiers=b}a.prototype.matches=function(a){if(a.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;a=a.modifiers;for(var b=0,c=this.keyModifiers;b<c.length;b++)if(!a.has(c[b]))return!1;return!0};return a}();a.EventMatch=c})},"esri/views/input/ViewEvents":function(){define("require exports tslib ../../core/compilerUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager".split(" "),
function(c,a,b,l,h,k,f,e){function n(a){return!!d[a]}function g(a){for(var b=0;b<a.length;b++)if(!n(a[b]))return!1;return!0}Object.defineProperty(a,"__esModule",{value:!0});a.ViewEvents=a.eventTypes=void 0;a.eventTypes="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");var d={};a.eventTypes.forEach(function(a){d[a]=!0});c=function(){function a(a){this.handlers=
new Map;this.counter=0;this.handlerCounts=new Map;this.view=a;this.inputManager=null}a.prototype.connect=function(a){var b=this;a&&this.disconnect();this.inputManager=a;this.handlers.forEach(function(a,c){return b.inputManager.installHandlers(c,[a.handler],a.priority)})};a.prototype.disconnect=function(){var a=this;this.inputManager&&this.handlers.forEach(function(b,c){return a.inputManager.uninstallHandlers(c)});this.inputManager=null};a.prototype.destroy=function(){this.disconnect();this.handlers.clear();
this.view=null};a.prototype.on=function(a,b,c,d){var f=this,h=Array.isArray(a)?a:a.split(",");if(!g(h))return h.some(n)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;var k;Array.isArray(b)?a=b:(k=b,a=[]);"function"===typeof c?k=c:d=c;d=null!=d?d:e.ViewEventPriorities.DEFAULT;var l=this.createUniqueGroupName();c=new m(this.view,h,a,k);this.handlers.set(l,{handler:c,priority:d});for(k=0;k<h.length;k++)a=h[k],b=this.handlerCounts.get(a)||
0,this.handlerCounts.set(a,b+1);this.inputManager&&this.inputManager.installHandlers(l,[c],d);return{remove:function(){return f.removeHandler(l,h)}}};a.prototype.hasHandler=function(a){return!!this.handlerCounts.get(a)};a.prototype.removeHandler=function(a,b){if(this.handlers.has(a)){this.handlers.delete(a);for(var c=0;c<b.length;c++){var d=b[c],e=this.handlerCounts.get(d);void 0===e?console.error("Trying to remove handler for event that has no handlers registered: ",d):1===e?this.handlerCounts.delete(d):
this.handlerCounts.set(d,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(a)};a.prototype.createUniqueGroupName=function(){this.counter+=1;return"viewEvents_"+this.counter};return a}();a.ViewEvents=c;var m=function(a){function c(b,c,d,e){var f=a.call(this,!0)||this;f.view=b;for(b=0;b<c.length;b++){var g=c[b];switch(g){case "click":f.registerIncoming("click",d,function(a){return e(f.wrapClick(a))});break;case "double-click":f.registerIncoming("double-click",d,function(a){return e(f.wrapDoubleClick(a))});
break;case "immediate-click":f.registerIncoming("immediate-click",d,function(a){return e(f.wrapImmediateClick(a))});break;case "immediate-double-click":f.registerIncoming("immediate-double-click",d,function(a){return e(f.wrapImmediateDoubleClick(a))});break;case "hold":f.registerIncoming("hold",d,function(a){return e(f.wrapHold(a))});break;case "drag":f.registerIncoming("drag",d,function(a){(a=f.wrapDrag(a))&&e(a)});break;case "key-down":f.registerIncoming("key-down",d,function(a){return e(f.wrapKeyDown(a))});
break;case "key-up":f.registerIncoming("key-up",d,function(a){return e(f.wrapKeyUp(a))});break;case "pointer-down":f.registerIncoming("pointer-down",d,function(a){return e(f.wrapPointer(a,"pointer-down"))});break;case "pointer-move":f.registerIncoming("pointer-move",d,function(a){return e(f.wrapPointer(a,"pointer-move"))});break;case "pointer-up":f.registerIncoming("pointer-up",d,function(a){return e(f.wrapPointer(a,"pointer-up"))});break;case "pointer-drag":f.registerIncoming("pointer-drag",d,function(a){return e(f.wrapPointerDrag(a))});
break;case "mouse-wheel":f.registerIncoming("mouse-wheel",d,function(a){return e(f.wrapMouseWheel(a))});break;case "pointer-enter":f.registerIncoming("pointer-enter",d,function(a){return e(f.wrapPointer(a,"pointer-enter"))});break;case "pointer-leave":f.registerIncoming("pointer-leave",d,function(a){return e(f.wrapPointer(a,"pointer-leave"))});break;case "gamepad":f.registerIncoming("gamepad",d,function(a){e(f.wrapGamepad(a))});break;case "focus":f.registerIncoming("focus",d,function(a){e(f.wrapFocus(a))});
break;case "blur":f.registerIncoming("blur",d,function(a){e(f.wrapBlur(a))});break;default:l.neverReached(g)}}return f}b.__extends(c,a);c.prototype.wrapFocus=function(a){return{type:"focus",timestamp:a.timestamp,native:a.data.native,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapBlur=function(a){return{type:"blur",timestamp:a.timestamp,native:a.data.native,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},
preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapClick=function(a){var b=a.data,c=b.pointerType,d=b.button,e=b.buttons,f=b.x,g=b.y,h=b.native,b=b.eventId,m=a.cancelable,l=a.timestamp,n=k.createScreenPoint(f,g),p=this.getMapPoint(f,g);return{type:"click",pointerType:c,button:d,buttons:e,x:f,y:g,native:h,timestamp:l,screenPoint:n,mapPoint:p,eventId:b,cancelable:m,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapDoubleClick=
function(a){var b=a.data,c=b.x,d=b.y,e=b.eventId,f=a.cancelable;return{type:"double-click",pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,native:b.native,timestamp:a.timestamp,mapPoint:this.getMapPoint(c,d),eventId:e,cancelable:f,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapImmediateClick=function(a){var b=a.data,c=b.x,d=b.y,e=b.native,f=b.eventId,g=a.cancelable;return{type:"immediate-click",pointerId:e.pointerId,
pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,native:e,timestamp:a.timestamp,mapPoint:this.getMapPoint(c,d),eventId:f,cancelable:g,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapImmediateDoubleClick=function(a){var b=a.data,c=b.x,d=b.y,e=b.native,f=b.eventId,g=a.cancelable;return{type:"immediate-double-click",pointerId:e.pointerId,pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,
native:e,timestamp:a.timestamp,mapPoint:this.getMapPoint(c,d),eventId:f,cancelable:g,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapHold=function(a){var b=a.data,c=b.x,d=b.y,e=a.cancelable;return{type:"hold",pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,native:b.native,timestamp:a.timestamp,mapPoint:this.getMapPoint(c,d),cancelable:e,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};
c.prototype.getMapPoint=function(a,b){return this.view.toMap(k.createScreenPoint(a,b),{exclude:[]})};c.prototype.wrapDrag=function(a){var b=a.data,c=b.center,d=c.x,c=c.y,e=b.action,f=b.pointerType,g=b.button;"start"===e&&(this.latestDragStart=b);if(this.latestDragStart){var m=b.pointer.native,k=b.buttons,l=a.cancelable,n=a.timestamp,p={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===e&&(this.latestDragStart=void 0);return{type:"drag",action:e,x:d,y:c,origin:p,pointerType:f,
button:g,buttons:k,radius:b.radius,angle:h.rad2deg(b.angle),native:m,timestamp:n,cancelable:l,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}}};c.prototype.wrapKeyDown=function(a){var b=a.data;return{type:"key-down",key:b.key,repeat:b.repeat,native:b.native,timestamp:a.timestamp,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapKeyUp=function(a){var b=
a.data;return{type:"key-up",key:b.key,native:b.native,timestamp:a.timestamp,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapPointer=function(a,b){var c=a.data,d=c.native;return{type:b,x:c.x,y:c.y,pointerId:d.pointerId,pointerType:d.pointerType,button:c.button,buttons:c.buttons,native:d,timestamp:a.timestamp,eventId:c.eventId,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},
preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapPointerDrag=function(a){var b=a.data.currentEvent;return{type:"pointer-drag",x:b.x,y:b.y,pointerId:a.data.startEvent.native.pointerId,pointerType:a.data.startEvent.native.pointerType,button:a.data.startEvent.button,buttons:b.buttons,action:a.data.action,origin:{x:a.data.startEvent.x,y:a.data.startEvent.y},native:b.native,timestamp:a.timestamp,eventId:b.eventId,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},
preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapMouseWheel=function(a){var b=a.data;return{type:"mouse-wheel",x:b.x,y:b.y,deltaY:b.deltaY,native:b.native,timestamp:a.timestamp,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};c.prototype.wrapGamepad=function(a){var b=a.data,c=b.state;return{type:"gamepad",device:b.device,timestamp:a.timestamp,action:b.action,buttons:c.buttons,axes:c.axes,cancelable:a.cancelable,
stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};return c}(f.InputHandler)})},"esri/views/interactive/interactiveToolUtils":function(){define(["require","exports","../../core/Collection","../../core/maybe","../DOMContainer"],function(c,a,b,l,h){function k(a,b){var c=a.view;c&&(b&&c.ready&&c.activeTool!==a?(c.activeTool=a,h.isDOMContainer(c)&&c.focus()):b||c.activeTool!==a||(c.activeTool=null))}Object.defineProperty(a,"__esModule",{value:!0});
a.evaluateToolConstructorArguments=a.areToolManipulatorsEditable=a.newToolCollection=a.swap=a.setActive=void 0;a.setActive=k;a.swap=function(a,b,c){a=a.activeTool;b!==a&&(l.isSome(a)&&a.deactivate&&a.deactivate(),c(b),l.isSome(b)&&b.activate&&b.activate())};a.newToolCollection=function(){var a=new b;a.on("after-add",function(a){a=a.item;a.view&&a.view.ready&&a.attach()});a.on("after-remove",function(a){a=a.item;k(a,!1);a.destroyed||a.detach()});return a};a.areToolManipulatorsEditable=function(a){return!1!==
a.visible&&!1!==a.editable&&(null==a.hasEditableFlag||a.hasEditableFlag(1))};a.evaluateToolConstructorArguments=function(a){return l.isNone(a)?{}:"function"===typeof a?a():a}})},"esri/views/DOMContainer":function(){define("require exports tslib ../core/domUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ./overlay/ViewOverlay ../widgets/Popup".split(" "),function(c,a,b,l,h,k,f,e,n){function g(a){a&&(l.empty(a),a.parentNode&&a.parentNode.removeChild(a))}Object.defineProperty(a,
"__esModule",{value:!0});a.isDOMContainer=a.DOMContainer=void 0;var d=[0,0];a.DOMContainer=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=a.apply(this,b)||this;d._freqInfo={freq:16,time:750};d._overlayRenderTaskHandle=null;d.height=0;d.position=null;d.resizing=!1;d.root=null;d.surface=null;d.suspended=!0;d.ui=null;d.userContent=null;d.width=0;d.widthBreakpoint=null;d.handles.add([d.watch("cursor",function(a){var b=d.surface;b&&b.setAttribute("data-cursor",
a)}),d.watch("interacting",function(a){var b=d.surface;b&&b.setAttribute("data-interacting",a.toString())})]);return d}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.handles.add(this.watch("ui",function(b,c){return a._handleUIChange(b,c)}));this._wireUI(this.ui);this.handles.add([this.on("focus",function(){return a.notifyChange("focused")}),this.on("blur",function(){return a.notifyChange("focused")})])};c.prototype.destroy=function(){this.destroyed||(this.ui&&(this.ui.destroy(),
this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)};Object.defineProperty(c.prototype,"container",{set:function(a){var b=this,c=this._get("container");if(c!==a)if(this.handles.remove("dom-size"),this._stopMeasuring(),c&&(c.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),g(this.root),this._set("root",null),l.reparent(this.userContent,
c),g(this.userContent),this._set("userContent",null)),a){a.classList.add("esri-view");c=document.createElement("div");c.className="esri-view-user-storage";l.reparent(a,c);a.appendChild(c);this._set("userContent",c);c=document.createElement("div");c.className="esri-view-root";a.insertBefore(c,a.firstChild);this._set("root",c);var d=document.createElement("div");d.className="esri-view-surface";d.setAttribute("role","application");d.tabIndex=0;c.appendChild(d);this._set("surface",d);var f=new e;c.appendChild(f.surface);
this._set("overlay",f);f.watch("needsRender",function(a){a&&!b._overlayRenderTaskHandle?b._overlayRenderTaskHandle=h.addFrameTask({render:function(){b.overlay.render()}}):b._overlayRenderTaskHandle&&(b._overlayRenderTaskHandle.remove(),b._overlayRenderTaskHandle=null)});this.forceDOMReadyCycle();this.handles.add(k.init(this,"size",function(a){var b=a[1];a[0]>=document.body.clientWidth||b>=document.body.clientHeight?d.classList.add("esri-view-surface--inset-outline"):d.classList.remove("esri-view-surface--inset-outline")}),
"dom-size");this._set("container",a);this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"focused",{get:function(){var a=document.activeElement===this.surface;return document.hasFocus()&&a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"popup",{get:function(){return this._get("popup")||new n({view:this})},
set:function(a){var b=this._get("popup");b&&b!==a&&b.destroy();this._set("popup",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!1,configurable:!0});c.prototype.blur=function(){this.surface&&this.surface.blur()};c.prototype.focus=function(){this.surface&&this.surface.focus()};c.prototype.pageToContainer=function(a,b,c){var d=this.position;a-=d[0];b-=d[1];c?(c[0]=a,c[1]=b):c=[a,b];return c};c.prototype.containerToPage=
function(a,b,c){var d=this.position;a+=d[0];b+=d[1];c?(c[0]=a,c[1]=b):c=[a,b];return c};c.prototype._handleUIChange=function(a,b){b&&(this.handles.remove("ui"),b.destroy());a&&this._wireUI(a);this._set("ui",a)};c.prototype._wireUI=function(a){this.handles.remove("ui");a&&(a.view=this,this.handles.add([k.init(this,"root",function(b){if(b){var c=document.createElement("div");b.appendChild(c);b=c}else b=null;a.container=b}),k.init(this,"popup",function(b,c){c&&a.remove(c,"popup");b&&(b.view=a.view,a.add(b,
{key:"popup",position:"manual"}))})],"ui"))};c.prototype._stopMeasuring=function(){this.handles.remove("measuring");this._get("resizing")&&this._set("resizing",!1)};c.prototype._startMeasuring=function(){var a=this,b=this._freqInfo;b.freq=16;b.time=750;this.handles.add([function(){var a=function(){b.freq=16;b.time=750};window.addEventListener("resize",a);return{remove:function(){window.removeEventListener("resize",a)}}}(),h.addFrameTask({prepare:function(b){var c=a._measure(),d=a._freqInfo;d.time+=
b.deltaTime;c&&(d.freq=16,a._get("resizing")||a._set("resizing",!0));d.time<d.freq||(d.time=0,a._position()||c?d.freq=16:d.freq=Math.min(750,2*d.freq),!c&&512<=d.freq&&a._get("resizing")&&a._set("resizing",!1))}})],"measuring");this._measure();this._position()};c.prototype._measure=function(){var a=this.container,b=a?a.clientWidth:0,a=a?a.clientHeight:0;if(0===b||0===a)return this.suspended||this._set("suspended",!0),!1;var c=this.width,d=this.height;if(b===c&&a===d)return this.suspended&&this._set("suspended",
!1),!1;this._set("width",b);this._set("height",a);this.suspended&&this._set("suspended",!1);this.emit("resize",{oldWidth:c,oldHeight:d,width:b,height:a});return!0};c.prototype._position=function(){var a=this.container,b=this.position,c=(a.ownerDocument||window.document).defaultView,a=a.getBoundingClientRect();d[0]=a.left+c.pageXOffset;d[1]=a.top+c.pageYOffset;return b&&d[0]===b[0]&&d[1]===b[1]?!1:(this._set("position",[d[0],d[1]]),!0)};c.prototype.forceDOMReadyCycle=function(){};b.__decorate([f.property({value:null,
cast:function(a){return l.byId(a)}})],c.prototype,"container",null);b.__decorate([f.property({readOnly:!0,dependsOn:["surface"]})],c.prototype,"focused",null);b.__decorate([f.property({readOnly:!0})],c.prototype,"height",void 0);b.__decorate([f.property({type:n})],c.prototype,"popup",null);b.__decorate([f.property({type:e})],c.prototype,"overlay",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"position",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"resizing",void 0);
b.__decorate([f.property({readOnly:!0})],c.prototype,"root",void 0);b.__decorate([f.property({value:null,dependsOn:["width","height"],readOnly:!0})],c.prototype,"size",null);b.__decorate([f.property({readOnly:!0})],c.prototype,"surface",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"suspended",void 0);b.__decorate([f.property()],c.prototype,"ui",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"userContent",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"width",
void 0);b.__decorate([f.property()],c.prototype,"widthBreakpoint",void 0);return c=b.__decorate([f.subclass("esri.views.DOMContainer")],c)}(a)};a.isDOMContainer=function(a){return a&&"focus"in a}})},"esri/core/domUtils":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.closest=a.remove=a.reparent=a.insertBefore=a.insertAfter=a.empty=a.byId=void 0;a.byId=function(a){return"string"===typeof a?document.getElementById(a):a};a.empty=function(a){for(;a.hasChildNodes();)a.removeChild(a.firstChild)};
a.insertAfter=function(a,c){var b=c.parentNode;b&&(b.lastChild===c?b.appendChild(a):b.insertBefore(a,c.nextSibling))};a.insertBefore=function(a,c){var b=c.parentNode;b&&b.insertBefore(a,c)};a.reparent=function(a,c){for(;;){var b=a.firstChild;if(!b)break;c.appendChild(b)}};a.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};a.closest=function(){if("function"===typeof Element.prototype.closest)return function(a,b){return a.closest(b)};var a=Element.prototype.matches||Element.prototype.msMatchesSelector;
return function(b,c){do{if(a.call(b,c))return b;b=b.parentElement}while(null!==b&&1===b.nodeType);return null}}()})},"esri/views/overlay/ViewOverlay":function(){define("require exports tslib ../../core/Accessor ../../core/Collection ../../core/accessorSupport/decorators ../../libs/maquette/index ../support/WatchUpdatingTracking".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.items=new h;b._watchUpdatingTracking=new e.WatchUpdatingTracking;
b._callbacks=new Map;b._projector=f.createProjector();b._hiddenProjector=f.createProjector();return b}b.__extends(c,a);Object.defineProperty(c.prototype,"needsRender",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0});c.prototype.initialize=function(){var a=this,b=document.createElement("div");b.className="esri-overlay-surface";this._set("surface",b);this._hiddenSurface=document.createElement("div");this._hiddenSurface.setAttribute("style","visibility: hidden;");b.appendChild(this._hiddenSurface);
this._watchUpdatingTracking.addOnCollectionChange(this.items,function(b){b.added.map(function(b){var c=function(){return b.render()};a._callbacks.set(b,c);a._projector.append(a.surface,c)});b.removed.map(function(b){var c=a._projector.detach(a._callbacks.get(b));a.surface.removeChild(c.domNode);a._callbacks.delete(b)})})};c.prototype.addItem=function(a){this.items.add(a)};c.prototype.removeItem=function(a){this.items.remove(a)};c.prototype.destroy=function(){var a=this;this.items.removeAll();this._callbacks.forEach(function(b){return a._projector.detach(b)});
this._projector=this._callbacks=null;this._watchUpdatingTracking.destroy()};c.prototype.render=function(){this._projector.renderNow()};c.prototype.computeBoundingRect=function(a){var b=this._hiddenSurface,c=this._hiddenProjector,d=null,e=function(){return d=a.render()};c.append(b,e);c.renderNow();var f={left:0,top:0,right:0,bottom:0};if(d&&d.domNode){var g=d.domNode.getBoundingClientRect();f.left=g.left;f.top=g.top;f.right=g.right;f.bottom=g.bottom}for(c.detach(e);b.firstChild;)b.removeChild(b.firstChild);
return f};c.prototype.overlaps=function(a,b){a=this.computeBoundingRect(a);b=this.computeBoundingRect(b);return Math.max(a.left,b.left)<=Math.min(a.right,b.right)&&Math.max(a.top,b.top)<=Math.min(a.bottom,b.bottom)};Object.defineProperty(c.prototype,"hasVisibleItems",{get:function(){return this.items.some(function(a){return a.visible})},enumerable:!1,configurable:!0});c.prototype.renderCanvas=function(a){if(this.items.some(function(a){return a.visible})){var b=a.getContext("2d");b.save();b.font="10px "+
getComputedStyle(this.surface).fontFamily;this.items.forEach(function(a){b.save();a.renderCanvas(b);b.restore()});b.restore()}};b.__decorate([k.property({readOnly:!0})],c.prototype,"surface",void 0);b.__decorate([k.property({readOnly:!0})],c.prototype,"items",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["items.length"]})],c.prototype,"needsRender",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"_watchUpdatingTracking",void 0);b.__decorate([k.property({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],
c.prototype,"updating",void 0);return c=b.__decorate([k.subclass("esri.views.overlay.ViewOverlay")],c)}(l)})},"esri/libs/maquette/index":function(){define("require exports ./dom ./h ./projector ./cache ./mapping".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});Object.defineProperty(a,"dom",{enumerable:!0,get:function(){return b.dom}});Object.defineProperty(a,"h",{enumerable:!0,get:function(){return l.h}});Object.defineProperty(a,"createProjector",{enumerable:!0,
get:function(){return h.createProjector}});Object.defineProperty(a,"createCache",{enumerable:!0,get:function(){return k.createCache}});Object.defineProperty(a,"createMapping",{enumerable:!0,get:function(){return f.createMapping}})})},"esri/libs/maquette/dom":function(){define(["require","exports","./projection"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.dom=a.applyDefaultProjectionOptions=void 0;var l={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,
styleApplyer:function(a,b,c){a.style[b]=c}};a.applyDefaultProjectionOptions=function(a){return b.extend(l,a)};a.dom={create:function(c,k){k=a.applyDefaultProjectionOptions(k);b.createDom(c,document.createElement("div"),void 0,k);return b.createProjection(c,k)},append:function(c,k,f){f=a.applyDefaultProjectionOptions(f);b.createDom(k,c,void 0,f);return b.createProjection(k,f)},insertBefore:function(c,k,f){f=a.applyDefaultProjectionOptions(f);b.createDom(k,c.parentNode,c,f);return b.createProjection(k,
f)},merge:function(c,k,f){f=a.applyDefaultProjectionOptions(f);k.domNode=c;b.initPropertiesAndChildren(c,k,f);return b.createProjection(k,f)},replace:function(c,k,f){f=a.applyDefaultProjectionOptions(f);b.createDom(k,c.parentNode,c,f);c.parentNode.removeChild(c);return b.createProjection(k,f)}}})},"esri/libs/maquette/projection":function(){define(["require","exports","../../widgets/support/widgetUtils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.createProjection=a.createDom=
a.initPropertiesAndChildren=a.extend=void 0;var l=[];a.extend=function(a,b){var c={};Object.keys(a).forEach(function(b){c[b]=a[b]});b&&Object.keys(b).forEach(function(a){c[a]=b[a]});return c};var h=function(a,b){return a.vnodeSelector!==b.vnodeSelector?!1:a.properties&&b.properties?a.properties.key!==b.properties.key?!1:a.properties.bind===b.properties.bind:!a.properties&&!b.properties},k=function(a){if("string"!==typeof a)throw Error("Style values must be strings");},f=function(a,b,c,d){var e=a[b];
if(""!==e.vnodeSelector){var f=e.properties;if(!(f&&(void 0===f.key?f.bind:f.key)))for(f=0;f<a.length;f++)if(f!==b&&h(a[f],e))throw Error(c.vnodeSelector+" had a "+e.vnodeSelector+" child "+("added"===d?d:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.");}},e=[],n=!1,g=function(a){(a.children||[]).forEach(g);a.properties&&a.properties.afterRemoved&&a.properties.afterRemoved.apply(a.properties.bind||a.properties,[a.domNode])},d=function(){n=
!1;e.forEach(g);e.length=0},m=function(a){e.push(a);n||(n=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(d,{timeout:16}):setTimeout(d,16))},q=function(a){var b=a.domNode;if(a.properties){var c=a.properties.exitAnimation;if(c){b.style.pointerEvents="none";c(b,function(){b.parentNode&&(b.parentNode.removeChild(b),m(a))},a.properties);return}}b.parentNode&&(b.parentNode.removeChild(b),m(a))},r=function(a,c,d){if(c)for(var e=d.eventHandlerInterceptor,f=Object.keys(c),
g=f.length,h=function(g){g=f[g];var h=c[g];if("className"===g)throw Error('Property "className" is not supported, use "class".');if("class"===g)t(a,h,!0);else if("classes"===g){var m=Object.keys(h),l=m.length;for(g=0;g<l;g++){var n=m[g];h[n]&&a.classList.add(n)}}else if("styles"===g)for(m=Object.keys(h),l=m.length,g=0;g<l;g++){var n=m[g],p=h[n];p&&(k(p),d.styleApplyer(a,n,p))}else"key"!==g&&null!==h&&void 0!==h&&(m=typeof h,"function"===m?0===g.lastIndexOf("on",0)&&(e&&(h=e(g,h,a,c)),"oninput"===
g&&function(){var a=h;h=function(b){a.apply(this,[b]);b.target["oninput-value"]=b.target.value}}(),a[g]=h):"http://www.w3.org/2000/svg"===d.namespace?"href"===g?a.setAttributeNS("http://www.w3.org/1999/xlink",g,h):a.setAttribute(g,h):"string"===m&&"value"!==g?"innerHTML"===g?a[g]=b.renderingSanitizer.sanitize(h):a.setAttribute(g,h):a[g]=h)},m=0;m<g;m++)h(m)};a.initPropertiesAndChildren=function(b,c,d){var e=c.children;if(e)for(var f=0;f<e.length;f++)a.createDom(e[f],b,void 0,d);c.text&&(b.textContent=
c.text);r(b,c.properties,d);c.properties&&c.properties.afterCreate&&c.properties.afterCreate.apply(c.properties.bind||c.properties,[b,d,c.vnodeSelector,c.properties,c.children])};a.createDom=function(b,c,d,e){var f,g=0,h=b.vnodeSelector,m=c.ownerDocument;if(""===h)f=b.domNode=m.createTextNode(b.text),void 0!==d?c.insertBefore(f,d):c.appendChild(f);else{for(var k=0;k<=h.length;++k){var l=h.charAt(k);if(k===h.length||"."===l||"#"===l)l=h.charAt(g-1),g=h.slice(g,k),"."===l?f.classList.add(g):"#"===l?
f.id=g:("svg"===g&&(e=a.extend(e,{namespace:"http://www.w3.org/2000/svg"})),void 0!==e.namespace?f=b.domNode=m.createElementNS(e.namespace,g):(f=b.domNode=b.domNode||m.createElement(g),"input"===g&&b.properties&&void 0!==b.properties.type&&f.setAttribute("type",b.properties.type)),void 0!==d?c.insertBefore(f,d):f.parentNode!==c&&c.appendChild(f)),g=k+1}a.initPropertiesAndChildren(f,b,e)}};var p,t=function(a,b,c){b&&b.split(" ").forEach(function(b){b&&a.classList.toggle(b,c)})};p=function(c,d,e){var g=
c.domNode;if(c===d)return!1;var m=!1;if(""===d.vnodeSelector){if(d.text!==c.text)return c=g.ownerDocument.createTextNode(d.text),g.parentNode.replaceChild(c,g),d.domNode=c,!0;d.domNode=g}else{0===d.vnodeSelector.lastIndexOf("svg",0)&&(e=a.extend(e,{namespace:"http://www.w3.org/2000/svg"}));c.text!==d.text&&(m=!0,void 0===d.text?g.removeChild(g.firstChild):g.textContent=d.text);d.domNode=g;var n;n=c.children;var r=d.children,u=e;if(n===r)n=!1;else{n=n||l;for(var r=r||l,v=n.length,w=r.length,D=0,F=
0,I=!1;F<w;){var G=D<v?n[D]:void 0,H=r[F];if(void 0!==G&&h(G,H))I=p(G,H,u)||I,D++;else{b:{var G=n,J=H;if(""!==J.vnodeSelector)for(var L=D+1;L<G.length;L++)if(h(G[L],J)){G=L;break b}G=-1}if(0<=G){for(;D<G;D++)q(n[D]),f(n,D,d,"removed");I=p(n[G],H,u)||I;D=G+1}else a.createDom(H,g,D<v?n[D].domNode:void 0,u),H.properties&&(G=H.properties.enterAnimation)&&G(H.domNode,H.properties),f(r,F,d,"added")}F++}if(v>D)for(;D<v;D++)q(n[D]),f(n,D,d,"removed");n=I}m=n||m;n=c.properties;r=d.properties;u=e;if(r){v=!1;
w=Object.keys(r);F=w.length;for(I=0;I<F;I++)if(G=w[I],H=r[G],D=n[G],"class"===G)D!==H&&(t(g,D,!1),t(g,H,!0));else if("classes"===G)for(var J=g.classList,L=Object.keys(H),N=L.length,G=0;G<N;G++){var M=L[G],R=!!H[M];R!==!!D[M]&&(v=!0,R?J.add(M):J.remove(M))}else if("styles"===G)for(J=Object.keys(H),L=J.length,G=0;G<L;G++)N=J[G],M=H[N],M!==D[N]&&(v=!0,M?(k(M),u.styleApplyer(g,N,M)):u.styleApplyer(g,N,""));else H||"string"!==typeof D||(H=""),"value"===G?(J=g[G],J!==H&&(g["oninput-value"]?J===g["oninput-value"]:
H!==D)&&(g[G]=H,g["oninput-value"]=void 0),H!==D&&(v=!0)):H!==D&&(D=typeof H,"function"===D&&u.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===u.namespace?"href"===G?g.setAttributeNS("http://www.w3.org/1999/xlink",G,H):g.setAttribute(G,H):"string"===D?"innerHTML"===G?g[G]=b.renderingSanitizer.sanitize(H):"role"===G&&""===H?g.removeAttribute(G):g.setAttribute(G,H):g[G]!==H&&(g[G]=H),v=!0));n=v}else n=void 0;m=n||m;d.properties&&d.properties.afterUpdate&&d.properties.afterUpdate.apply(d.properties.bind||
d.properties,[g,e,d.vnodeSelector,d.properties,d.children])}m&&d.properties&&d.properties.updateAnimation&&d.properties.updateAnimation(g,d.properties,c.properties);return!1};a.createProjection=function(a,b){return{getLastRender:function(){return a},update:function(c){if(a.vnodeSelector!==c.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var d=a;a=c;p(d,c,b)},domNode:a.domNode}}})},"esri/widgets/support/widgetUtils":function(){define("require exports tslib ../../core/ArrayPool ../../core/arrayUtils ../../core/has ../../core/Logger ../../libs/sanitizer/Sanitizer maquette-css-transitions".split(" "),
function(c,a,b,l,h,k,f,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.keepMenuItemWithinView=a.renderingSanitizer=a.safeAttrs=a.additionalAllowedTags=a.cssTransition=a.storeNode=a.discardNode=a.isRTL=a.classes=void 0;f.getLogger("esri.widgets.support.widgetUtils");a.classes=function(a){for(var b=l.acquire(),c=0;c<arguments.length;c++){var e=arguments[c],f=typeof e;if("string"===f)b.push(e);else if(Array.isArray(e))b.push.apply(b,e);else if("object"===f)for(var g in e)e[g]&&b.push(g)}c=b.join(" ");
l.release(b);return c};a.isRTL=function(){return"rtl"===document.dir};a.discardNode=function(a){this[a.getAttribute("data-node-ref")]=null};a.storeNode=function(a){this[a.getAttribute("data-node-ref")]=a};a.cssTransition=function(a,b){return("enter"===a?n.createEnterCssTransition:n.createExitCssTransition)(b)};a.additionalAllowedTags=b.__spreadArrays("h1 h2 h3 h4 h5 h6 sub sup".split(" "),"animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" "));
c=a.additionalAllowedTags.reduce(function(a,b){a[b]=[];return a},{});a.safeAttrs="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");a.renderingSanitizer=new e({whiteList:c,onTagAttr:function(b,c,e){b=c+'\x3d"'+e+'"';if(h.includes(a.safeAttrs,c))return b},
stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.keepMenuItemWithinView=function(a,b){var c=a.getBoundingClientRect();b=b.getBoundingClientRect();var d=c.top,e=b.top;(c.top+c.height>b.top+b.height||d<e)&&a.scrollIntoView({block:"end"})}})},"esri/libs/sanitizer/Sanitizer":function(){!function(c,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(c=c||self).Sanitizer=a()}(this,function(){function c(a,b){return a(b=
{exports:{}},b.exports),b.exports}function a(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,
"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,
"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,
"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,
cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,
"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,
"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,
"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,
"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,
"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,
"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,
"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,
"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function b(a){var b=a||{},c={},d;for(d in b)c[d]=b[d];(a=c).whiteList=a.whiteList||C.whiteList;a.onAttr=a.onAttr||C.onAttr;a.onIgnoreAttr=a.onIgnoreAttr||C.onIgnoreAttr;a.safeAttrValue=a.safeAttrValue||C.safeAttrValue;this.options=a}function l(a){return a.replace(R,"\x26lt;").replace(Q,"\x26gt;")}function h(a){return a.replace(ma,"\x26quot;")}function k(a){return a.replace(V,'"')}function f(a){return a.replace(O,function(a,b){return"x"===
b[0]||"X"===b[0]?String.fromCharCode(parseInt(b.substr(1),16)):String.fromCharCode(parseInt(b,10))})}function e(a){return a.replace(W,":").replace(ga," ")}function n(a){for(var b="",c=0,d=a.length;c<d;c++)b+=32>a.charCodeAt(c)?" ":a.charAt(c);return J(b)}function g(a){return a=n(a=e(a=f(a=k(a))))}function d(a){return a=l(a=h(a))}function m(a,b){for(;b<a.length;b++){var c=a[b];if(" "!==c)return"\x3d"===c?b:-1}}function q(a,b){for(;0<b;b--){var c=a[b];if(" "!==c)return"\x3d"===c?b:-1}}function r(a){return'"'===
a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1]?a.substr(1,a.length-2):a}function p(a){var b=a||{},c={},d;for(d in b)c[d]=b[d];(a=c).stripIgnoreTag&&(a.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),a.onIgnoreTag=T.onIgnoreTagStripAll);a.whiteList=a.whiteList||T.whiteList;a.onTag=a.onTag||T.onTag;a.onTagAttr=a.onTagAttr||T.onTagAttr;a.onIgnoreTag=a.onIgnoreTag||T.onIgnoreTag;a.onIgnoreTagAttr=a.onIgnoreTagAttr||T.onIgnoreTagAttr;
a.safeAttrValue=a.safeAttrValue||T.safeAttrValue;a.escapeHtml=a.escapeHtml||T.escapeHtml;this.options=a;!1===a.css?this.cssFilter=!1:(a.css=a.css||{},this.cssFilter=new ba(a.css))}var t,w,v=Object.prototype,u=Function.prototype.toString,x=v.hasOwnProperty,y=u.call(Object),z=v.toString,B=(t=Object.getPrototypeOf,w=Object,function(a){return t(w(a))}),A=function(a){var b;if(!(b=!a||"object"!=typeof a||"[object Object]"!=z.call(a))&&(b=!1,null!=a&&"function"!=typeof a.toString))try{b=!!(a+"")}catch(pa){}if(b)return!1;
a=B(a);if(null===a)return!0;a=x.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&u.call(a)==y},E=/javascript\s*\:/gim,C={whiteList:a(),getDefaultWhiteList:a,onAttr:function(a,b,c){},onIgnoreAttr:function(a,b,c){},safeAttrValue:function(a,b){return E.test(b)?"":b}},D=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},F=function(a){return String.prototype.trimRight?a.trimRight():a.replace(/(\s*$)/g,"")},I=function(a,b){function c(){if(!e){var c=
D(a.slice(f,g)),d=c.indexOf(":");if(-1!==d){var k=D(c.slice(0,d)),d=D(c.slice(d+1));k&&(c=b(f,h.length,k,d,c))&&(h+=c+"; ")}}f=g+1}";"!==(a=F(a))[a.length-1]&&(a+=";");for(var d=a.length,e=!1,f=0,g=0,h="";g<d;g++){var k=a[g];if("/"===k&&"*"===a[g+1]){k=a.indexOf("*/",g+2);if(-1===k)break;f=(g=k+1)+1;e=!1}else"("===k?e=!0:")"===k?e=!1:";"===k?e||c():"\n"===k&&c()}return D(h)};b.prototype.process=function(a){if(!(a=(a=a||"").toString()))return"";var b=this.options,c=b.whiteList,d=b.onAttr,e=b.onIgnoreAttr,
f=b.safeAttrValue;return I(a,function(a,b,g,h,k){var m=c[g],l=!1;if(!0===m?l=m:"function"==typeof m?l=m(h):m instanceof RegExp&&(l=m.test(h)),!0!==l&&(l=!1),h=f(g,h)){var n;a={position:b,sourcePosition:a,source:k,isWhite:l};return l?null==(n=d(g,h,a))?g+":"+h:n:null==(n=e(g,h,a))?void 0:n}})};var v=c(function(a,c){for(var d in(c=a.exports=function(a,c){return(new b(c)).process(a)}).FilterCSS=b,C)c[d]=C[d]}),G=(v.FilterCSS,function(a,b){var c,d;if(Array.prototype.indexOf)return a.indexOf(b);c=0;for(d=
a.length;c<d;c++)if(a[c]===b)return c;return-1}),H=function(a,b,c){var d,e;if(Array.prototype.forEach)return a.forEach(b,c);d=0;for(e=a.length;d<e;d++)b.call(c,a[d],d,a)},J=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},L=function(a){return(a=/\s|\n|\t/.exec(a))?a.index:-1},N=v.getDefaultWhiteList,M=new v.FilterCSS,R=/</g,Q=/>/g,ma=/"/g,V=/&quot;/g,O=/&#([a-zA-Z0-9]*);?/gim,W=/&colon;?/gim,ga=/&newline;?/gim,da=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,
U=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,S=/u\s*r\s*l\s*\(.*/gi,P=/\x3c!--[\s\S]*?--\x3e/g,T={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],
dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan",
"align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")},getDefaultWhiteList:function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],
details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align",
"valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")}},onTag:function(a,b,c){},onIgnoreTag:function(a,b,c){},onTagAttr:function(a,b,c){},onIgnoreTagAttr:function(a,b,c){},safeAttrValue:function(a,b,c,e){if(c=g(c),"href"===b||"src"===b){if("#"===(c=J(c)))return"#";if("http://"!==c.substr(0,7)&&"https://"!==c.substr(0,8)&&"mailto:"!==c.substr(0,7)&&"tel:"!==c.substr(0,4)&&"#"!==c[0]&&"/"!==c[0])return""}else if("background"===
b){if(da.lastIndex=0,da.test(c))return""}else if("style"===b){if((U.lastIndex=0,U.test(c))||(S.lastIndex=0,S.test(c)&&(da.lastIndex=0,da.test(c))))return"";!1!==e&&(c=(e=e||M).process(c))}return c=d(c)},escapeHtml:l,escapeQuote:h,unescapeQuote:k,escapeHtmlEntities:f,escapeDangerHtml5Entities:e,clearNonPrintableCharacter:n,friendlyAttrValue:g,escapeAttrValue:d,onIgnoreTagStripAll:function(){return""},StripTagBody:function(a,b){"function"!=typeof b&&(b=function(){});var c=!Array.isArray(a),d=[],e=!1;
return{onIgnoreTag:function(f,g,h){return c||-1!==G(a,f)?h.isClosing?(d.push([!1!==e?e:h.position,h.position+10]),e=!1,"[/removed]"):(e||(e=h.position),"[removed]"):b(f,g,h)},remove:function(a){var b="",c=0;return H(d,function(d){b+=a.slice(c,d[0]);c=d[1]}),b+=a.slice(c)}}},stripCommentTag:function(a){return a.replace(P,"")},stripBlankChar:function(a){a=a.split("");return(a=a.filter(function(a){a=a.charCodeAt(0);return 127!==a&&(!(31>=a)||10===a||13===a)})).join("")},cssFilter:M,getDefaultCSSWhiteList:N},
Y=/[^a-zA-Z0-9_:\.\-]/gim,Z={parseTag:function(a,b,c){for(var d="",e=0,f=!1,g=!1,h=0,k=a.length,m="",l="",h=0;h<k;h++)l=a.charAt(h),!1===f?"\x3c"===l&&(f=h):!1===g?"\x3c"===l?(d+=c(a.slice(e,h)),e=f=h):"\x3e"===l?(d+=c(a.slice(e,f)),e=l=a.slice(f,h+1),m=L(e),e=-1===m?e.slice(1,-1):e.slice(1,m+1),m=("/"===(e=J(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e),d+=b(f,d.length,m,l,"\x3c/"===l.slice(0,2)),e=h+1,f=!1):'"'!==l&&"'"!==l||"\x3d"!==a.charAt(h-1)||(g=l):l===
g&&(g=!1);return e<a.length&&(d+=c(a.substr(e))),d},parseAttr:function(a,b){function c(a,c){1>(a=(a=J(a)).replace(Y,"").toLowerCase()).length||(a=b(a,c||""))&&e.push(a)}for(var d=0,e=[],f=!1,g=a.length,h=0;h<g;h++){var k;k=a.charAt(h);if(!1!==f||"\x3d"!==k)if(!1===f||h!==d||'"'!==k&&"'"!==k||"\x3d"!==a.charAt(h-1))/\s|\n|\t/.test(k)&&((a=a.replace(/\s|\n|\t/g," "),!1===f)?-1===(k=m(a,h))?(c(J(a.slice(d,h))),f=!1,d=h+1):h=k-1:-1===(k=q(a,h-1))&&(c(f,r(J(a.slice(d,h)))),f=!1,d=h+1));else{if(-1===(k=
a.indexOf(k,h+1)))break;c(f,J(a.slice(d+1,k)));f=!1;d=(h=k)+1}else f=a.slice(d,h),d=h+1}return d<a.length&&(!1===f?c(a.slice(d)):c(f,r(J(a.slice(d))))),J(e.join(" "))}},ba=v.FilterCSS,ca=Z.parseTag,aa=Z.parseAttr;p.prototype.process=function(a){if(!(a=(a=a||"").toString()))return"";var b=this.options,c=b.whiteList,d=b.onTag,e=b.onIgnoreTag,f=b.onTagAttr,g=b.onIgnoreTagAttr,h=b.safeAttrValue,k=b.escapeHtml,m=this.cssFilter;b.stripBlankChar&&(a=T.stripBlankChar(a));b.allowCommentTag||(a=T.stripCommentTag(a));
var l=!1;b.stripIgnoreTagBody&&(l=T.StripTagBody(b.stripIgnoreTagBody,e),e=l.onIgnoreTag);a=ca(a,function(a,b,l,n,p){b={sourcePosition:a,position:b,isClosing:p,isWhite:c.hasOwnProperty(l)};if(null!=(a=d(l,n,b)))return a;if(b.isWhite){if(b.isClosing)return"\x3c/"+l+"\x3e";a=function(a){var b=L(a);if(-1===b)return{html:"",closing:"/"===a[a.length-2]};b="/"===(a=J(a.slice(b+1,-1)))[a.length-1];return b&&(a=J(a.slice(0,-1))),{html:a,closing:b}}(n);var r=c[l];b=aa(a.html,function(a,b){var c,d=-1!==G(r,
a);return null==(c=f(l,a,b,d))?d?(b=h(l,a,b,m))?a+'\x3d"'+b+'"':a:null==(c=g(l,a,b,d))?void 0:c:c});n="\x3c"+l;return b&&(n+=" "+b),a.closing&&(n+=" /"),n+="\x3e"}return null==(a=e(l,n,b))?k(n):a},k);return l&&(a=l.remove(a)),a};var ha=c(function(a,b){function c(a,b){return(new p(b)).process(a)}for(var d in(b=a.exports=c).filterXSS=c,b.FilterXSS=p,T)b[d]=T[d];for(d in Z)b[d]=Z[d];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&
(self.filterXSS=a.exports)});ha.filterXSS;ha.FilterXSS;return function(){function a(a,b){var c,d=this;this.arcgisWhiteList={a:["href","target","style"],img:"src width height border alt style".split(" "),video:"autoplay controls height loop muted poster preload width".split(" "),audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:"width height cellpadding cellspacing border style".split(" "),div:["style","align"],font:["size","color","style"],tr:["height",
"valign","align","style"],td:"height width valign align colspan rowspan nowrap style".split(" "),th:"height width valign align colspan rowspan nowrap style".split(" "),p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(a,b,c,e){return"a"===a&&"href"===b||("img"===a||"source"===a)&&"src"===b?d.sanitizeUrl(c):ha.safeAttrValue(a,b,c,e)}};a&&!b?c=a:a&&b?(c=Object.create(this.arcgisFilterOptions),Object.keys(a).forEach(function(b){"whiteList"===b?c.whiteList=d._extendObjectOfArrays([d.arcgisWhiteList,a.whiteList||{}]):c[b]=a[b]})):(c=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList;this.xssFilterOptions=c;this._xssFilter=new ha.FilterXSS(c)}
return a.prototype.sanitize=function(a,b){switch(void 0===b&&(b={}),typeof a){case "number":return isNaN(a)||!isFinite(a)?null:a;case "boolean":return a;case "string":return this._xssFilter.process(a);case "object":return this._iterateOverObject(a,b);default:if(!b.allowUndefined||void 0!==a)return null}},a.prototype.sanitizeUrl=function(a){var b=this._trim(a.substring(0,a.indexOf(":")));return"/"===a||"#"===a||"#"===a[0]||-1<this.allowedProtocols.indexOf(b.toLowerCase())?ha.escapeAttrValue(a):""},
a.prototype.validate=function(a,b){void 0===b&&(b={});b=this.sanitize(a,b);return{isValid:a===b,sanitized:b}},a.prototype._extendObjectOfArrays=function(a){var b={};return a.forEach(function(a){Object.keys(a).forEach(function(c){Array.isArray(a[c])&&Array.isArray(b[c])?b[c]=b[c].concat(a[c]):b[c]=a[c]})}),b},a.prototype._iterateOverObject=function(a,b){var c=this;void 0===b&&(b={});try{var d=!1,e=void 0;if(Array.isArray(a))e=a.reduce(function(a,e){var f=c.validate(e,b);return f.isValid?a.concat([e]):
(d=!0,a.concat([f.sanitized]))},[]);else{if(!A(a))return b.allowUndefined&&void 0===a?void 0:null;e=Object.keys(a).reduce(function(e,f){var g=a[f],h=c.validate(g,b);return h.isValid?e[f]=g:(d=!0,e[f]=h.sanitized),e},{})}return d?e:a}catch(X){return null}},a.prototype._trim=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},a}()})},"maquette-css-transitions/dist/maquette-css-transitions.umd":function(){(function(c,a){"object"===typeof exports&&"undefined"!==typeof module?
a(exports):"function"===typeof define&&define.amd?define(["exports"],a):(c=c||self,a(c.maquetteCssTransitions={}))})(this,function(c){var a,b,l=function(c){if("WebkitTransition"in c.style)a="webkitTransitionEnd",b="webkitAnimationEnd";else if("transition"in c.style)a="transitionend",b="animationend";else throw Error("Your browser is not supported!");};c.createEnterCssTransition=function(c,k){void 0===k&&(k=c+"-active");return function(f){a||l(f);var e=!1,h=function(g){e||(e=!0,f.removeEventListener(a,
h),f.removeEventListener(b,h),f.classList.remove(c),f.classList.remove(k))};f.classList.add(c);f.addEventListener(a,h);f.addEventListener(b,h);requestAnimationFrame(function(){f.classList.add(k)})}};c.createExitCssTransition=function(c,k){void 0===k&&(k=c+"-active");return function(f,e){a||l(f);var h=!1,g=function(c){h||(h=!0,f.removeEventListener(a,g),f.removeEventListener(b,g),e())};f.classList.add(c);f.addEventListener(a,g);f.addEventListener(b,g);requestAnimationFrame(function(){f.classList.add(k)})}};
Object.defineProperty(c,"__esModule",{value:!0})})},"esri/libs/maquette/h":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.h=void 0;var b=function(a,c,k){for(var f=0,e=c.length;f<e;f++){var h=c[f];Array.isArray(h)?b(a,h,k):null!==h&&void 0!==h&&!1!==h&&("string"===typeof h&&(h={vnodeSelector:"",properties:void 0,children:void 0,text:h.toString(),domNode:null}),k.push(h))}};a.h=function(a,c,k){if(Array.isArray(c))k=c,c=void 0;else if(c&&("string"===
typeof c||c.hasOwnProperty("vnodeSelector"))||k&&("string"===typeof k||k.hasOwnProperty("vnodeSelector")))throw Error("h called with invalid arguments");var f,e;k&&1===k.length&&"string"===typeof k[0]?f=k[0]:k&&(e=[],b(a,k,e),0===e.length&&(e=void 0));return{vnodeSelector:a,properties:c,children:e,text:""===f?void 0:f,domNode:null}}})},"esri/libs/maquette/projector":function(){define(["require","exports","./dom"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.createProjector=void 0;
var l;l=Array.prototype.find?function(a,b){return a.find(b)}:function(a,b){return a.filter(b)[0]};var h=function(a,b){var c=a;b.forEach(function(a){c=c&&c.children?l(c.children,function(b){return b.domNode===a}):void 0});return c},k=function(a,b,c){var e=function(d){c("domEvent",d);var e=b(),f;f=d.currentTarget;for(var g=e.domNode,k=[];f!==g;)k.push(f),f=f.parentNode;f=k;f.reverse();e=h(e.getLastRender(),f);a.scheduleRender();var l;e&&(l=e.properties["on"+d.type].apply(e.properties.bind||this,arguments));
c("domEventProcessed",d);return l};return function(){return e}};a.createProjector=function(a){var c,f=b.applyDefaultProjectionOptions(a),g=f.performanceLogger,d=!0,h,l=!1,r=[],p=[],t=function(a,b,d){var e;f.eventHandlerInterceptor=k(c,function(){return e},g);e=a(b,d(),f);r.push(e);p.push(d)},w=function(){h=void 0;if(d){d=!1;g("renderStart",void 0);for(var a=0;a<r.length;a++){var b=p[a]();g("rendered",void 0);r[a].update(b);g("patched",void 0)}g("renderDone",void 0);d=!0}};return c={renderNow:w,scheduleRender:function(){h||
l||(h=requestAnimationFrame(w))},stop:function(){h&&(cancelAnimationFrame(h),h=void 0);l=!0},resume:function(){l=!1;d=!0;c.scheduleRender()},append:function(a,c){t(b.dom.append,a,c)},insertBefore:function(a,c){t(b.dom.insertBefore,a,c)},merge:function(a,c){t(b.dom.merge,a,c)},replace:function(a,c){t(b.dom.replace,a,c)},detach:function(a){for(var b=0;b<p.length;b++)if(p[b]===a)return p.splice(b,1),r.splice(b,1)[0];throw Error("renderFunction was not found");}}}})},"esri/libs/maquette/cache":function(){define(["require",
"exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.createCache=void 0;a.createCache=function(){var a,c;return{invalidate:function(){a=c=void 0},result:function(b,k){if(a)for(var f=0;f<b.length;f++)a[f]!==b[f]&&(c=void 0);c||(c=k(),a=b);return c}}}})},"esri/libs/maquette/mapping":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.createMapping=void 0;a.createMapping=function(a,c,h){var b=[],f=[];return{results:f,map:function(e){for(var k=
e.map(a),g=f.slice(),d=0,m=0;m<e.length;m++){var l=e[m],r=k[m];if(r===b[d])f[m]=g[d],h(l,g[d],m),d++;else{for(var p=!1,t=1;t<b.length+1;t++){var w=(d+t)%b.length;if(b[w]===r){f[m]=g[w];h(e[m],g[w],m);d=w+1;p=!0;break}}p||(f[m]=c(l,m))}}f.length=e.length;b=k}}}})},"esri/widgets/Popup":function(){define("require exports tslib ../intl ../core/Collection ../core/deprecate ../core/events ../core/Handles ../core/Logger ../core/throttle ../core/watchUtils ../core/accessorSupport/decorators ./Feature ./Spinner ./Widget ./Feature/support/FeatureContentMixin ./Popup/PopupViewModel ./support/widget ./support/widgetUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){function x(a,b){return void 0===b?"esri-popup__"+a:"esri-popup__"+a+"-"+b}var y={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},z=n.getLogger("esri.widgets.Popup"),B={closeButton:!0,featureNavigation:!0};return function(a){function c(c,f){var h=a.call(this,c,f)||this;h._blurContainer=!1;h._containerNode=null;h._mainContainerNode=null;h._featureMenuNode=null;h._actionsMenuNode=null;h._focusContainer=!1;h._focusDockButton=!1;h._focusFeatureMenuButton=
!1;h._focusActionsMenuButton=!1;h._focusFirstFeature=!1;h._focusFirstAction=!1;h._handles=new e;h._pointerOffsetInPx=16;h._spinner=null;h._feature=null;h._displaySpinnerThrottled=g.throttle(function(){return h._displaySpinner()},0);h.actions=null;h.alignment="auto";h.autoCloseEnabled=null;h.autoOpenEnabled=null;h.defaultPopupTemplateEnabled=null;h.content=null;h.collapsed=!1;h.collapseEnabled=!0;h.dockEnabled=!1;h.featureCount=null;h.featureMenuOpen=!1;h.features=null;h.goToOverride=null;h.highlightEnabled=
null;h.location=null;h.label=void 0;h.maxInlineActions=3;h.messages=null;h.messagesCommon=null;h.promises=null;h.selectedFeature=null;h.selectedFeatureIndex=null;h.spinnerEnabled=!0;h.title=null;h.updateLocationEnabled=null;h.view=null;h.viewModel=new w;h.visible=null;h.visibleElements=b.__assign({},B);h._addSelectedFeatureIndexHandle();h.own([d.watch(h,"viewModel.screenLocation",function(){return h._positionContainer()}),d.watch(h,["viewModel.active","dockEnabled"],function(){return h._toggleScreenLocationEnabled()}),
d.watch(h,"viewModel.screenLocation",function(a,b){!!a!==!!b&&h.reposition()}),d.watch(h,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],function(){return h.reposition()}),d.watch(h,"spinnerEnabled",function(a){return h._spinnerEnabledChange(a)}),d.watch(h,"viewModel.view.size",function(a,b){return h._updateDockEnabledForViewSize(a,b)}),d.watch(h,"viewModel.view",function(a,b){return h._viewChange(a,b)}),d.watch(h,"viewModel.view.ready",function(a,
b){return h._viewReadyChange(a,b)}),d.watch(h,["viewModel.waitingForResult","viewModel.location"],function(){h._hideSpinner();h._displaySpinnerThrottled()}),d.watch(h,"selectedFeatureWidget.viewModel.title",function(a){return h._setTitleFromFeatureWidget(a)}),d.watch(h,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.waitingForContent"],function(){return h._setContentFromFeatureWidget()}),d.whenFalse(h,"collapsed",function(){var a,b;"xsmall"===(null===(b=null===(a=h.viewModel)||
void 0===a?void 0:a.view)||void 0===b?void 0:b.widthBreakpoint)&&h.viewModel.active&&h.collapseEnabled&&h.viewModel.centerAtLocation()}),d.on(h,"viewModel.allActions","change",function(){return h._watchActions()}),d.init(h,"viewModel.allActions",function(){return h._watchActions()})]);return h}b.__extends(c,a);c.prototype.destroy=function(){this._destroySelectedFeatureWidget();this._destroySpinner();this._handles&&this._handles.destroy();this._handles=null};Object.defineProperty(c.prototype,"actionsMenuId",
{get:function(){return this.id+"-actions-menu"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"actionsMenuButtonId",{get:function(){return this.id+"-actions-menu-button"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"featureMenuId",{get:function(){return this.id+"-feature-menu"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"titleId",{get:function(){return this.id+"-popup-title"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"contentId",{get:function(){return this.id+"-popup-content"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hasContent",{get:function(){var a,b,c,d,e;return!!(this.selectedFeatureWidget?(null===(b=null===(a=this.selectedFeatureWidget)||void 0===a?void 0:a.viewModel)||void 0===b?0:b.waitingForContent)||(null===(d=null===(c=this.selectedFeatureWidget)||void 0===c?void 0:c.viewModel)||void 0===d?0:d.content):null===(e=this.viewModel)||void 0===e?0:e.content)},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"featureNavigationVisible",{get:function(){return this.viewModel.active&&1<this.viewModel.featureCount&&this.visibleElements.featureNavigation},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"collapsible",{get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"featureMenuVisible",{get:function(){return this.featureNavigationVisible&&this.featureMenuOpen},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"contentCollapsed",{get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"dividedActions",{get:function(){return this._divideActions()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"actionsMenuOpen",{get:function(){return this.viewModel.active?this._get("actionsMenuOpen"):!1},set:function(a){this._set("actionsMenuOpen",
!!a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"currentAlignment",{get:function(){return this._getCurrentAlignment()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"currentDockPosition",{get:function(){return this._getCurrentDockPosition()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"dockOptions",{get:function(){return this._get("dockOptions")||y},set:function(a){var c=b.__assign({},y),d=this.get("viewModel.view.breakpoints"),e={};
d&&(e.width=d.xsmall,e.height=d.xsmall);a=b.__assign(b.__assign({},c),a);c=b.__assign(b.__assign({},c.breakpoint),e);e=a.breakpoint;!0===e?a.breakpoint=c:"object"===typeof e&&(a.breakpoint=b.__assign(b.__assign({},c),e));this._set("dockOptions",a);this._setCurrentDockPosition();this.reposition()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"featureNavigationEnabled",{set:function(a){k.deprecatedProperty(z,"featureNavigationEnabled",{replacement:"visibleElements.featureNavigation",
version:"4.15"});this.visibleElements=b.__assign(b.__assign({},this.visibleElements),{featureNavigation:a})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"selectedFeatureWidget",{get:function(){var a=this._feature,c=this.viewModel.selectedFeatureViewModel,d=b.__assign(b.__assign({},this.visibleElements),{title:!1});if(!c)return null;a?(a.viewModel=c,a.visibleElements=d):this._feature=new q({viewModel:c,visibleElements:d});return this._feature},enumerable:!1,configurable:!0});
c.prototype.castVisibleElements=function(a){return b.__assign(b.__assign({},B),a)};c.prototype.blur=function(){this.viewModel.active||z.warn("Popup can only be blurred when currently active.");this._blurContainer=!0;this.scheduleRender()};c.prototype.clear=function(){this.viewModel.clear()};c.prototype.close=function(){this.visible=!1};c.prototype.fetchFeatures=function(a,b){return this.viewModel.fetchFeatures(a,b)};c.prototype.focus=function(){this.viewModel.active||z.warn("Popup can only be focused when currently active.");
this._focusContainer=!0;this.scheduleRender()};c.prototype.next=function(){return this.viewModel.next()};c.prototype.open=function(a){var b,c;this._handles.remove("selected-index");var d={collapsed:a?!!a.collapsed:!1,actionsMenuOpen:a?!!a.actionsMenuOpen:!1,featureMenuOpen:a?!!a.featureMenuOpen:!1};"xsmall"===(null===(c=null===(b=this.viewModel)||void 0===b?void 0:b.view)||void 0===c?void 0:c.widthBreakpoint)&&(d.collapsed=!0);this.set(d);this.viewModel.open(a);this._addSelectedFeatureIndexHandle()};
c.prototype.previous=function(){return this.viewModel.previous()};c.prototype.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()};c.prototype.triggerAction=function(a){this.viewModel.triggerAction(a)};c.prototype.render=function(){var a,b,c,d,e,f=this.actionsMenuOpen,g=this.dockEnabled,h=this.featureMenuVisible,k=this.currentAlignment,m=this.currentDockPosition,l=this.viewModel.active,n=this.dividedActions.menuActions,n=l&&1<n.length&&f,f=null===(c=null===
(b=this.selectedFeature)||void 0===b?void 0:b.layer)||void 0===c?void 0:c.title;b=null===(e=null===(d=this.selectedFeature)||void 0===d?void 0:d.layer)||void 0===e?void 0:e.id;d=(a={},a["esri-popup--aligned-top-center"]="top-center"===k,a["esri-popup--aligned-bottom-center"]="bottom-center"===k,a["esri-popup--aligned-top-left"]="top-left"===k,a["esri-popup--aligned-bottom-left"]="bottom-left"===k,a["esri-popup--aligned-top-right"]="top-right"===k,a["esri-popup--aligned-bottom-right"]="bottom-right"===
k,a["esri-popup--is-docked"]=l&&g,a["esri-popup--shadow"]=l&&!g,a["esri-popup--is-docked-top-left"]="top-left"===m,a["esri-popup--is-docked-top-center"]="top-center"===m,a["esri-popup--is-docked-top-right"]="top-right"===m,a["esri-popup--is-docked-bottom-left"]="bottom-left"===m,a["esri-popup--is-docked-bottom-center"]="bottom-center"===m,a["esri-popup--is-docked-bottom-right"]="bottom-right"===m,a["esri-popup--feature-menu-open"]=h,a["esri-popup--actions-menu-open"]=n,a);return v.tsx("div",{class:this.classes("esri-popup",
d),role:"presentation","data-layer-title":f,"data-layer-id":b,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},l?[this.renderMainContainer(),this.renderPointer()]:null)};c.prototype.renderLoadingIcon=function(){return v.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-loading-indicator","esri-rotating")})};c.prototype.renderNavigationLoading=function(){var a=this.messagesCommon;return this.viewModel.pendingPromisesCount?v.tsx("div",
{key:x("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":a.loading,title:a.loading},this.renderLoadingIcon()):null};c.prototype.renderPreviousIcon=function(){var a,b=u.isRTL(),b=(a={},a["esri-icon-right-triangle-arrow"]=b,a["esri-popup__pagination-previous-icon--rtl"]=b,a["esri-icon-left-triangle-arrow"]=!b,a["esri-popup__pagination-previous-icon"]=!b,a);return v.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",b)})};c.prototype.renderPreviousButton=
function(){var a=this.messages;return v.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes("esri-popup__button","esri-popup__pagination-previous"),"aria-label":a.previous,title:a.previous},this.renderPreviousIcon())};c.prototype.renderNextIcon=function(){var a,b=u.isRTL(),b=(a={},a["esri-icon-left-triangle-arrow"]=b,a["esri-popup__pagination-next-icon--rtl"]=b,a["esri-icon-right-triangle-arrow"]=!b,a["esri-popup__pagination-next-icon"]=
!b,a);return v.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",b)})};c.prototype.renderNextButton=function(){var a=this.messages;return v.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes("esri-popup__button","esri-popup__pagination-next"),"aria-label":a.next,title:a.next},this.renderNextIcon())};c.prototype.renderFeatureMenuButton=function(){var a=this.featureMenuOpen,b=this.featureMenuId,c=this.messagesCommon,d=this.viewModel,
e=d.featureCount,d=d.selectedFeatureIndex;return v.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes("esri-popup__button","esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":b,"aria-expanded":a,"aria-label":c.menu,title:c.menu},this._getPageText(e,d))};c.prototype.renderNavigationButtons=function(){return this.featureNavigationVisible?
[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null};c.prototype.renderDockIcon=function(){var a,b=this.dockEnabled,c=this._wouldDockTo(),b=(a={},a["esri-icon-minimize"]=b,a["esri-popup__icon--dock-icon"]=!b,a["esri-icon-dock-right"]=!b&&("top-right"===c||"bottom-right"===c),a["esri-icon-dock-left"]=!b&&("top-left"===c||"bottom-left"===c),a["esri-icon-maximize"]=!b&&"top-center"===c,a["esri-icon-dock-bottom"]=!b&&"bottom-center"===
c,a);return v.tsx("span",{"aria-hidden":"true",class:this.classes(b,"esri-popup__icon")})};c.prototype.renderDockButton=function(){var a,b,c,d=this.dockEnabled,e=this.messages,f=null===(b=null===(a=this.viewModel)||void 0===a?void 0:a.view)||void 0===b?void 0:b.widthBreakpoint;a=d?e.undock:e.dock;return"xsmall"!==f&&(null===(c=this.dockOptions)||void 0===c?0:c.buttonEnabled)?v.tsx("div",{role:"button","aria-label":a,title:a,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,
afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes("esri-popup__button","esri-popup__button--dock")},this.renderDockIcon()):null};c.prototype.renderTitle=function(){var a,b=this.viewModel.title,c=this.titleId,d=this.collapsible,e=this.contentCollapsed,f=this.messagesCommon,e=d?e?f.expand:f.collapse:"",f=(a={},a["esri-popup__header-container--button"]=d,a);return b?v.tsx("div",{class:this.classes("esri-popup__header-container",f),key:b,enterAnimation:this._createFeatureUpdatedAnimation(),
id:c,role:d?"button":"heading","aria-label":e,title:e,tabIndex:d?0:-1,bind:this,onclick:this._toggleCollapsed,onkeydown:this._toggleCollapsed},v.tsx("h2",{class:"esri-popup__header-title",innerHTML:b})):null};c.prototype.renderCloseIcon=function(){return v.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-close")})};c.prototype.renderCloseButton=function(){var a=this.messagesCommon;return this.visibleElements.closeButton?v.tsx("div",{role:"button",tabIndex:0,bind:this,
onclick:this._close,onkeydown:this._close,class:"esri-popup__button","aria-label":a.close,title:a.close},this.renderCloseIcon()):null};c.prototype.renderHeader=function(){return v.tsx("header",{class:"esri-popup__header"},this.renderTitle(),v.tsx("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))};c.prototype.renderContentContainer=function(){var a=this.contentId,b=this.contentCollapsed,c=this.viewModel.content;return this.hasContent&&!b?v.tsx("article",
{key:c,enterAnimation:this._createFeatureUpdatedAnimation(),id:a,class:"esri-popup__content"},this.renderContent()):null};c.prototype.renderActionsMenuButton=function(){var a=this.actionsMenuId,b=this.actionsMenuButtonId,c=this.actionsMenuOpen,d=this.messagesCommon,d=c?d.close:d.open;return this.dividedActions.menuActions.length?v.tsx("div",{key:x("actions-menu-button"),class:this.classes("esri-popup__button","esri-popup__actions-menu-button"),role:"button",id:b,"aria-haspopup":"true","aria-controls":c?
a:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":d,title:d},v.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null};c.prototype.renderMenuActions=function(){var a=this,b=this.actionsMenuId,c=this.actionsMenuButtonId,d=this.actionsMenuOpen,e=this.dividedActions,f=e.menuActions,g=e.inlineActions;return f.length&&d?v.tsx("ul",{id:b,
role:"menu","aria-labelledby":c,key:x("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},f.toArray().map(function(b,c){return a.renderAction({action:b,index:c+g.length,type:"menu-item"})})):null};c.prototype.renderInlineActions=function(){var a=this,b=this.dividedActions.inlineActions;return!!b.length&&b.toArray().map(function(b,c){return a.renderAction({action:b,index:c,type:"inline"})})};
c.prototype.renderInlineActionsContainer=function(){var a=this.dividedActions,b=!!a.inlineActions.length,a=!!a.menuActions.length;return b||a?v.tsx("div",{key:"inline-actions-container","data-inline-actions":b.toString(),"data-menu-actions":a.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null};c.prototype.renderNavigation=function(){return this.featureNavigationVisible?v.tsx("section",{key:x("navigation"),
class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null};c.prototype.renderFooter=function(){var a,b=this.featureNavigationVisible,c=this.dividedActions,d=!!c.inlineActions.length,c=!!c.menuActions.length,c=(a={},a["esri-popup__footer--has-pagination"]=b,a["esri-popup__footer--has-actions"]=d,a["esri-popup__footer--has-actions-menu"]=c,a);return b||d?v.tsx("div",{key:x("feature-buttons"),class:this.classes("esri-popup__footer",c)},this.renderInlineActionsContainer(),this.renderNavigation()):
null};c.prototype.renderFeatureMenuContainer=function(){var a=l.substitute(this.messages.selectedFeatures,{total:this.viewModel.featureViewModels.length});return v.tsx("section",{key:x("menu"),class:"esri-popup__feature-menu"},v.tsx("h2",{class:"esri-popup__feature-menu-header"},a),v.tsx("nav",{class:"esri-popup__feature-menu-viewport",afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))};c.prototype.renderPointer=function(){return this.dockEnabled?
null:v.tsx("div",{key:x("pointer"),class:"esri-popup__pointer",role:"presentation"},v.tsx("div",{class:this.classes("esri-popup__pointer-direction","esri-popup--shadow")}))};c.prototype.renderMainContainer=function(){var a,b=this.dockEnabled,c=this.currentAlignment,d=this.currentDockPosition,e=this.titleId,f=this.contentId,g=this.collapsible,h=this.hasContent,k=this.contentCollapsed,m=this.viewModel.title,l="bottom-left"===c||"bottom-center"===c||"bottom-right"===c||"top-left"===d||"top-center"===
d||"top-right"===d,c="top-left"===c||"top-center"===c||"top-right"===c||"bottom-left"===d||"bottom-center"===d||"bottom-right"===d,b=(a={},a["esri-popup--shadow"]=b,a["esri-popup--is-collapsible"]=g,a["esri-popup--is-collapsed"]=k,a);return v.tsx("div",{class:this.classes("esri-popup__main-container","esri-widget",b),tabIndex:-1,role:"dialog","aria-labelledby":m?e:"","aria-describedby":h&&!k?f:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},
l?this.renderFooter():null,l?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),c?this.renderFooter():null,c?this.renderFeatureMenuContainer():null)};c.prototype.renderContent=function(){var a,b=null===(a=this.viewModel)||void 0===a?void 0:a.content;return b?"string"===typeof b?v.tsx("div",{key:b,innerHTML:b}):this.renderNodeContent(b):null};c.prototype.renderActionText=function(a){return v.tsx("span",{key:"text",class:"esri-popup__action-text"},a)};c.prototype.renderActionIcon=
function(a){var b,c=this._getActionClass(a),d=this._getActionImage(a),e=(b={},b["esri-icon-loading-indicator"]=a.active,b["esri-rotating"]=a.active,b["esri-popup__icon"]=!!c,b["esri-popup__action-image"]=!a.active&&!!d,b);c&&(e[c]=!a.active);return v.tsx("span",{key:"icon","aria-hidden":"true",class:this.classes("esri-popup__icon",e),styles:this._getIconStyles(d)})};c.prototype.renderAction=function(a){var b,c=a.action,d=a.index;a=a.type;var e=this._getActionTitle(c),f=(b={},b["esri-popup__action"]=
"toggle"!==c.type,b["esri-popup__action-toggle"]="toggle"===c.type,b["esri-popup__action-toggle--on"]="toggle"===c.type&&c.value,b["esri-popup__button--disabled"]=c.disabled,b);b=[this.renderActionIcon(c),this.renderActionText(e)];d="menu-item"===a?v.tsx("li",{key:c,role:"menuitem",tabIndex:0,title:e,"aria-label":e,class:this.classes("esri-popup__button",f),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":d,onclick:this._triggerAction,onkeydown:this._triggerAction},b):v.tsx("div",
{key:c,role:"button",tabIndex:0,title:e,"aria-label":e,class:this.classes("esri-popup__button",f),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":d,onclick:this._triggerAction,onkeydown:this._triggerAction},b);return c.visible?d:null};c.prototype.renderFeatureMenuItem=function(a,b){var c,d=this.messages,e=this.messagesCommon,f=this.viewModel,g=f.selectedFeatureIndex,h=a===f.selectedFeatureViewModel,f=(c={},c["esri-popup__feature-menu-item--selected"]=h,c);c=h?v.tsx("span",{key:x("feature-menu-selected-feature-"+
g),title:d.selectedFeature,"aria-label":d.selectedFeature,class:"esri-icon-check-mark"}):null;a=v.tsx("span",{innerHTML:a.title||e.untitled});return v.tsx("li",{role:"menuitem",tabIndex:-1,key:x("feature-menu-feature-"+g),class:this.classes(f,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":b,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},v.tsx("span",{class:"esri-popup__feature-menu-title"},a,c))};c.prototype.renderFeatureMenu=function(){var a=
this,b=this.featureMenuId,c=this.viewModel.featureViewModels;return 1<c.length?v.tsx("ol",{class:"esri-popup__feature-menu-list",id:b,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},c.map(function(b,c){return a.renderFeatureMenuItem(b,c)})):null};c.prototype._getActionTitle=function(a){var b=this.messages,c=this.selectedFeature,d=this.messagesCommon,e=a.id,c=null===c||void 0===c?void 0:c.attributes;return(a=
"zoom-to-feature"===e?l.substitute(a.title,{messages:b}):"remove-selected-feature"===e?l.substitute(a.title,{messages:d}):a.title)&&c?l.substitute(a,c):a};c.prototype._getActionClass=function(a){var b=this.selectedFeature,b=null===b||void 0===b?void 0:b.attributes,c=a.className;return(a=a.image||c?c:"esri-icon-default-action")&&b?l.substitute(a,b):a};c.prototype._getActionImage=function(a){var b=this.selectedFeature,b=null===b||void 0===b?void 0:b.attributes;return(a=a.image)&&b?l.substitute(a,b):
a};c.prototype._createFeatureUpdatedAnimation=function(){return u.cssTransition("enter","esri-popup--feature-updated")};c.prototype._getInlineActionCount=function(){var a=this.maxInlineActions;if("number"!==typeof a)return null;a=Math.round(a);return Math.max(this.featureNavigationVisible?a-1:a,0)};c.prototype._watchActions=function(){var a=this,b=this.viewModel.allActions;this.notifyChange("dividedActions");this._handles.remove("actions");b&&b.forEach(function(b){a._handles.add(d.watch(b,"active className disabled id title image visible".split(" "),
function(){return a.scheduleRender()}),"actions")})};c.prototype._divideActions=function(){var a=this.viewModel.allActions,b=this._getInlineActionCount(),c=null===b,d=0===b;return{inlineActions:c?a.slice(0):d?new h:a.slice(0,b),menuActions:c?new h:d?a.slice(0):a.slice(b)}};c.prototype._featureMenuOpenChanged=function(a){a?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0};c.prototype._actionsMenuOpenChanged=function(a){a?this._focusFirstAction=!0:this._focusActionsMenuButton=!0};c.prototype._setTitleFromFeatureWidget=
function(a){this.selectedFeatureWidget&&(this.viewModel.title=a||"")};c.prototype._setContentFromFeatureWidget=function(){var a=this.selectedFeatureWidget;a&&(this.viewModel.content=a)};c.prototype._handleFeatureMenuKeyup=function(a){"Escape"===f.eventKey(a)&&(a.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())};c.prototype._handleActionMenuKeyup=function(a){"Escape"===f.eventKey(a)&&(a.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=
!1,this.scheduleRender())};c.prototype._handleFeatureMenuItemKeyup=function(a){var b=f.eventKey(a),c=this._featureMenuNode,d=a.currentTarget["data-feature-index"];if(c){var c=c.querySelectorAll("li"),e=c.length;"ArrowUp"===b?(a.stopPropagation(),c[(d-1+e)%e].focus()):"ArrowDown"===b?(a.stopPropagation(),c[(d+1+e)%e].focus()):"Home"===b?(a.stopPropagation(),c[0].focus()):"End"===b&&(a.stopPropagation(),c[c.length-1].focus())}};c.prototype._handleActionMenuItemKeyup=function(a){var b=f.eventKey(a),
c=this._actionsMenuNode,d=a.currentTarget["data-action-index"];if(c){var c=c.querySelectorAll("li"),e=c.length;"ArrowUp"===b?(a.stopPropagation(),c[(d-1+e)%e].focus()):"ArrowDown"===b?(a.stopPropagation(),c[(d+1+e)%e].focus()):"Home"===b?(a.stopPropagation(),c[0].focus()):"End"===b&&(a.stopPropagation(),c[c.length-1].focus())}};c.prototype._handleMainKeyup=function(a){var b=f.eventKey(a);"ArrowLeft"===b&&(a.stopPropagation(),this.previous());"ArrowRight"===b&&(a.stopPropagation(),this.next())};c.prototype._spinnerEnabledChange=
function(a){this._destroySpinner();a&&(a=this.get("viewModel.view"),this._createSpinner(a))};c.prototype._hideSpinner=function(){var a=this._spinner;a&&(a.location=null,a.hide())};c.prototype._displaySpinner=function(){var a=this._spinner;if(a){var b=this.viewModel,c=b.location;b.waitingForResult?a.show({location:c}):a.hide()}};c.prototype._getIconStyles=function(a){return{"background-image":a?"url("+a+")":""}};c.prototype._addSelectedFeatureIndexHandle=function(){var a=this,b=d.watch(this,"viewModel.selectedFeatureIndex",
function(b,c){return a._selectedFeatureIndexUpdated(b,c)});this._handles.add(b,"selected-index")};c.prototype._selectedFeatureIndexUpdated=function(a,b){this.featureCount&&a!==b&&-1!==a&&(this.featureMenuOpen=this.actionsMenuOpen=!1)};c.prototype._destroySelectedFeatureWidget=function(){var a=this._feature;a&&(a.viewModel=null,a&&!a.destroyed&&a.destroy());this._feature=null};c.prototype._isScreenLocationWithinView=function(a,b){return-1<a.x&&-1<a.y&&a.x<=b.width&&a.y<=b.height};c.prototype._isOutsideView=
function(a){var b=a.popupHeight,c=a.popupWidth,d=a.screenLocation,e=a.side;a=a.view;if(isNaN(c)||isNaN(b)||!a||!d)return!1;var f=a.padding;return"right"===e&&d.x+c/2>a.width-f.right||"left"===e&&d.x-c/2<f.left||"top"===e&&d.y-b<f.top||"bottom"===e&&d.y+b>a.height-f.bottom?!0:!1};c.prototype._calculateAutoAlignment=function(a){if("auto"!==a)return a;var b=this._pointerOffsetInPx,c=this._containerNode,d=this._mainContainerNode,e=this.viewModel;a=e.screenLocation;e=e.view;if(!a||!e||!c)return"top-center";
if(!this._isScreenLocationWithinView(a,e))return this._get("currentAlignment")||"top-center";var f=d?window.getComputedStyle(d,null):null,d=f?parseInt(f.getPropertyValue("max-height").replace(/[^-\d\.]/g,""),10):0,f=f?parseInt(f.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0,g=c.getBoundingClientRect(),c=g.width+b,g=Math.max(g.height,d,f)+b,b=this._isOutsideView({popupHeight:g,popupWidth:c,screenLocation:a,side:"right",view:e}),d=this._isOutsideView({popupHeight:g,popupWidth:c,screenLocation:a,
side:"left",view:e}),f=this._isOutsideView({popupHeight:g,popupWidth:c,screenLocation:a,side:"top",view:e});a=this._isOutsideView({popupHeight:g,popupWidth:c,screenLocation:a,side:"bottom",view:e});return d?f?"bottom-right":"top-right":b?f?"bottom-left":"top-left":f?a?"top-center":"bottom-center":"top-center"};c.prototype._callCurrentAlignment=function(a){return"function"===typeof a?a.call(this):a};c.prototype._getCurrentAlignment=function(){return this.dockEnabled||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(this.alignment)))};
c.prototype._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())};c.prototype._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())};c.prototype._calculatePositionResult=function(a){var b=["left","right"];u.isRTL()&&b.reverse();return a.replace(/leading/gi,b[0]).replace(/trailing/gi,b[1])};c.prototype._callDockPosition=function(a){return"function"===typeof a?a.call(this):a};c.prototype._getDockPosition=function(){var a;
return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null===(a=this.dockOptions)||void 0===a?void 0:a.position)))};c.prototype._getCurrentDockPosition=function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null};c.prototype._wouldDockTo=function(){return this.dockEnabled?null:this._getDockPosition()};c.prototype._calculateAutoDockPosition=function(a){var b;if("auto"!==a)return a;a=null===(b=this.viewModel)||void 0===b?void 0:b.view;
b=u.isRTL()?"top-left":"top-right";if(!a)return b;var c=a.padding||{left:0,right:0,top:0,bottom:0},c=a.width-c.left-c.right;return(a=a.breakpoints)&&c<=a.xsmall?"bottom-center":b};c.prototype._positionContainer=function(a){void 0===a&&(a=this._containerNode);a&&(this._containerNode=a);if(a){var b=this.viewModel.screenLocation,c=a.getBoundingClientRect().width;if(b=this._calculatePositionStyle(b,c))a.style.top=b.top,a.style.left=b.left,a.style.bottom=b.bottom,a.style.right=b.right}};c.prototype._calculateFullWidth=
function(a){var b=this.currentAlignment,c=this._pointerOffsetInPx;return"top-left"===b||"bottom-left"===b||"top-right"===b||"bottom-right"===b?a+c:a};c.prototype._calculateAlignmentPosition=function(a,b,c,d){var e=this.currentAlignment,f=this._pointerOffsetInPx;d/=2;var g=c.height-b;c=c.width-a;var h=this.view.padding;if("bottom-center"===e)return{top:b+f-h.top,left:a-d-h.left};if("top-left"===e)return{bottom:g+f-h.bottom,right:c+f-h.right};if("bottom-left"===e)return{top:b+f-h.top,right:c+f-h.right};
if("top-right"===e)return{bottom:g+f-h.bottom,left:a+f-h.left};if("bottom-right"===e)return{top:b+f-h.top,left:a+f-h.left};if("top-center"===e)return{bottom:g+f-h.bottom,left:a-d-h.left}};c.prototype._calculatePositionStyle=function(a,b){var c=this.view;if(c){if(this.dockEnabled)return{left:"",top:"",right:"",bottom:""};if(a&&b&&(b=this._calculateFullWidth(b),a=this._calculateAlignmentPosition(a.x,a.y,c,b)))return{top:void 0!==a.top?a.top+"px":"auto",left:void 0!==a.left?a.left+"px":"auto",bottom:void 0!==
a.bottom?a.bottom+"px":"auto",right:void 0!==a.right?a.right+"px":"auto"}}};c.prototype._viewChange=function(a,b){a&&b&&(this.close(),this.clear())};c.prototype._viewReadyChange=function(a,b){a?(a=this.get("viewModel.view"),this._wireUpView(a)):b&&(this.close(),this.clear())};c.prototype._wireUpView=function(a){this._destroySpinner();a&&(this.spinnerEnabled&&this._createSpinner(a),this._setDockEnabledForViewSize(this.dockOptions))};c.prototype._dockingThresholdCrossed=function(a,b,c){var d=a[0];a=
a[1];var e=b[0];b=b[1];var f=c.width;c=c.height;return d<=f&&e>f||d>f&&e<=f||a<=c&&b>c||a>c&&b<=c};c.prototype._updateDockEnabledForViewSize=function(a,b){if(a&&b){var c=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},d=c.left+c.right,e=c.top+c.bottom,c=[],f=[];c[0]=a[0]-d;c[1]=a[1]-e;f[0]=b[0]-d;f[1]=b[1]-e;a=this.dockOptions;this._dockingThresholdCrossed(c,f,a.breakpoint)&&this._setDockEnabledForViewSize(a);this._setCurrentDockPosition()}};c.prototype._focusDockButtonNode=function(a){this._focusDockButton&&
(this._focusDockButton=!1,a.focus())};c.prototype._mainContainerNodeUpdated=function(a){this._mainContainerNode=a;this._focusContainer?(this._focusContainer=!1,a.focus()):this._blurContainer&&(this._blurContainer=!1,a.blur())};c.prototype._featureMenuNodeUpdated=function(a){(this._featureMenuNode=a)&&this._focusFirstFeature&&(this._focusFirstFeature=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};c.prototype._actionsMenuNodeUpdated=function(a){(this._actionsMenuNode=a)&&this._focusFirstAction&&
(this._focusFirstAction=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};c.prototype._focusFeatureMenuButtonNode=function(a){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,a.focus())};c.prototype._focusActionsMenuButtonNode=function(a){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,a.focus())};c.prototype._featureMenuViewportNodeUpdated=function(a){a&&(a.scrollTop=0)};c.prototype._toggleScreenLocationEnabled=function(){var a=this.dockEnabled,b=this.viewModel;
b&&(b.screenLocationEnabled=b.active&&!a)};c.prototype._shouldDockAtCurrentViewSize=function(a){a=a.breakpoint;var b=this.get("viewModel.view.ui"),c=b.width,b=b.height;if(isNaN(c)||isNaN(b))return!1;c=a.hasOwnProperty("width")&&c<=a.width;a=a.hasOwnProperty("height")&&b<=a.height;return c||a};c.prototype._setDockEnabledForViewSize=function(a){a.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(a))};c.prototype._getPageText=function(a,b){return this.featureNavigationVisible?l.substitute(this.messages.pageText,
{index:b+1,total:a}):null};c.prototype._destroySpinner=function(){var a=this._spinner,b=this.view;a&&(b&&b.ui&&b.ui.remove(this._spinner,"popup-spinner"),a.destroy(),this._spinner=null)};c.prototype._createSpinner=function(a){a&&(this._spinner=new r({view:a}),a.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))};c.prototype._toggleCollapsed=function(){this.collapsed=!this.collapsed};c.prototype._close=function(){this.close();this.view&&this.view.focus()};c.prototype._toggleDockEnabled=
function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()};c.prototype._toggleFeatureMenu=function(){var a=!this.featureMenuOpen;this._featureMenuOpenChanged(a);this.actionsMenuOpen=!1;this.featureMenuOpen=a};c.prototype._toggleActionsMenu=function(){var a=!this.actionsMenuOpen;this._actionsMenuOpenChanged(a);this.featureMenuOpen=!1;this.actionsMenuOpen=a};c.prototype._triggerAction=function(a){a=a.currentTarget["data-action-index"];var b=this.viewModel.allActions.getItemAt(a);
b&&"toggle"===b.type&&(b.value=!b.value);this.actionsMenuOpen=!1;this.viewModel.triggerAction(a)};c.prototype._selectFeature=function(a){a=a.currentTarget["data-feature-index"];isNaN(a)||(this.viewModel.selectedFeatureIndex=a);this.featureMenuOpen=!1;this._focusFeatureMenuButton=!0;this.scheduleRender()};c.prototype._next=function(){this.next()};c.prototype._previous=function(){this.previous()};b.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),v.renderable()],c.prototype,"actionsMenuId",null);
b.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),v.renderable()],c.prototype,"actionsMenuButtonId",null);b.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),v.renderable()],c.prototype,"featureMenuId",null);b.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),v.renderable()],c.prototype,"titleId",null);b.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),v.renderable()],c.prototype,"contentId",null);b.__decorate([m.property({readOnly:!0,dependsOn:["selectedFeatureWidget","selectedFeatureWidget.viewModel",
"selectedFeatureWidget.viewModel.waitingForContent","selectedFeatureWidget.viewModel.content","viewModel.content"]}),v.renderable()],c.prototype,"hasContent",null);b.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.active","viewModel.featureCount","visibleElements.featureNavigation"]}),v.renderable()],c.prototype,"featureNavigationVisible",null);b.__decorate([m.property({readOnly:!0,dependsOn:["collapseEnabled","viewModel.title","hasContent"]}),v.renderable()],c.prototype,"collapsible",null);
b.__decorate([m.property({readOnly:!0,dependsOn:["featureNavigationVisible","featureMenuOpen"]}),v.renderable()],c.prototype,"featureMenuVisible",null);b.__decorate([m.property({readOnly:!0,dependsOn:["collapsible","featureMenuVisible","collapsed"]}),v.renderable()],c.prototype,"contentCollapsed",null);b.__decorate([m.property({readOnly:!0,dependsOn:["featureNavigationVisible","maxInlineActions","viewModel.allActions","viewModel.allActions.length"]}),v.renderable()],c.prototype,"dividedActions",null);
b.__decorate([m.aliasOf("viewModel.actions"),v.renderable()],c.prototype,"actions",void 0);b.__decorate([m.property({dependsOn:["viewModel.active"]}),v.renderable()],c.prototype,"actionsMenuOpen",null);b.__decorate([m.property()],c.prototype,"alignment",void 0);b.__decorate([m.aliasOf("viewModel.autoCloseEnabled")],c.prototype,"autoCloseEnabled",void 0);b.__decorate([m.aliasOf("viewModel.autoOpenEnabled")],c.prototype,"autoOpenEnabled",void 0);b.__decorate([m.aliasOf("viewModel.defaultPopupTemplateEnabled")],
c.prototype,"defaultPopupTemplateEnabled",void 0);b.__decorate([m.aliasOf("viewModel.content"),v.renderable()],c.prototype,"content",void 0);b.__decorate([m.property(),v.renderable()],c.prototype,"collapsed",void 0);b.__decorate([m.property(),v.renderable()],c.prototype,"collapseEnabled",void 0);b.__decorate([m.property({readOnly:!0,dependsOn:["dockEnabled","alignment","viewModel.active"]}),v.renderable()],c.prototype,"currentAlignment",null);b.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.view.ready",
"dockEnabled","dockOptions","viewModel.active"]}),v.renderable()],c.prototype,"currentDockPosition",null);b.__decorate([m.property(),v.renderable()],c.prototype,"dockOptions",null);b.__decorate([m.property(),v.renderable()],c.prototype,"dockEnabled",void 0);b.__decorate([m.aliasOf("viewModel.featureCount"),v.renderable()],c.prototype,"featureCount",void 0);b.__decorate([m.property(),v.renderable()],c.prototype,"featureMenuOpen",void 0);b.__decorate([m.aliasOf("viewModel.features"),v.renderable()],
c.prototype,"features",void 0);b.__decorate([m.property(),v.renderable()],c.prototype,"featureNavigationEnabled",null);b.__decorate([m.aliasOf("viewModel.goToOverride")],c.prototype,"goToOverride",void 0);b.__decorate([m.aliasOf("viewModel.highlightEnabled")],c.prototype,"highlightEnabled",void 0);b.__decorate([m.aliasOf("viewModel.location"),v.renderable()],c.prototype,"location",void 0);b.__decorate([m.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],c.prototype,"label",void 0);
b.__decorate([m.property(),v.renderable()],c.prototype,"maxInlineActions",void 0);b.__decorate([m.property(),v.renderable(),v.messageBundle("esri/widgets/Popup/t9n/Popup")],c.prototype,"messages",void 0);b.__decorate([m.property(),v.renderable(),v.messageBundle("esri/t9n/common")],c.prototype,"messagesCommon",void 0);b.__decorate([m.aliasOf("viewModel.promises")],c.prototype,"promises",void 0);b.__decorate([m.aliasOf("viewModel.selectedFeature"),v.renderable()],c.prototype,"selectedFeature",void 0);
b.__decorate([m.aliasOf("viewModel.selectedFeatureIndex"),v.renderable()],c.prototype,"selectedFeatureIndex",void 0);b.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.selectedFeatureViewModel","visibleElements"]}),v.renderable()],c.prototype,"selectedFeatureWidget",null);b.__decorate([m.property()],c.prototype,"spinnerEnabled",void 0);b.__decorate([m.aliasOf("viewModel.title"),v.renderable()],c.prototype,"title",void 0);b.__decorate([m.aliasOf("viewModel.updateLocationEnabled")],c.prototype,
"updateLocationEnabled",void 0);b.__decorate([m.aliasOf("viewModel.view")],c.prototype,"view",void 0);b.__decorate([m.property({type:w}),v.renderable("viewModel.active viewModel.view.widthBreakpoint viewModel.allActions viewModel.screenLocation viewModel.screenLocationEnabled viewModel.state viewModel.pendingPromisesCount viewModel.promiseCount viewModel.waitingForResult".split(" ")),v.vmEvent(["triggerAction","trigger-action"])],c.prototype,"viewModel",void 0);b.__decorate([m.aliasOf("viewModel.visible"),
v.renderable()],c.prototype,"visible",void 0);b.__decorate([m.property(),v.renderable()],c.prototype,"visibleElements",void 0);b.__decorate([m.cast("visibleElements")],c.prototype,"castVisibleElements",null);b.__decorate([v.accessibleHandler()],c.prototype,"_toggleCollapsed",null);b.__decorate([v.accessibleHandler()],c.prototype,"_close",null);b.__decorate([v.accessibleHandler()],c.prototype,"_toggleDockEnabled",null);b.__decorate([v.accessibleHandler()],c.prototype,"_toggleFeatureMenu",null);b.__decorate([v.accessibleHandler()],
c.prototype,"_toggleActionsMenu",null);b.__decorate([v.accessibleHandler()],c.prototype,"_triggerAction",null);b.__decorate([v.accessibleHandler()],c.prototype,"_selectFeature",null);b.__decorate([v.accessibleHandler()],c.prototype,"_next",null);b.__decorate([v.accessibleHandler()],c.prototype,"_previous",null);return c=b.__decorate([m.subclass("esri.widgets.Popup")],c)}(t.FeatureContentMixin(p))})},"esri/core/throttle":function(){define(["require","exports"],function(c,a){function b(a,b,c,f){var e=
null,h=1E3;"number"===typeof b?(h=b,f=c):(e=null!==b&&void 0!==b?b:null,h=c);var g=0,d,k=function(){g=0;a.apply(f,d)};b=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];e&&e.apply(f,a);d=a;h?g||(g=setTimeout(k,h)):k()};b.remove=function(){g&&(clearTimeout(g),g=0)};b.forceUpdate=function(){g&&(clearTimeout(g),k())};b.hasPendingUpdates=function(){return!!g};return b}Object.defineProperty(a,"__esModule",{value:!0});a.throttle=void 0;a.throttle=b;a.default=b})},"esri/widgets/Feature":function(){define("require exports tslib ../intl ../core/watchUtils ../core/accessorSupport/decorators ./Attachments ./Widget ./Feature/FeatureContent ./Feature/FeatureFields ./Feature/FeatureMedia ./Feature/FeatureViewModel ./Feature/support/FeatureContentMixin ./support/widget".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r){var p={title:!0,content:!0,lastEditedInfo:!0};return function(a){function c(c,d){c=a.call(this,c,d)||this;c._contentWidgets=[];c.graphic=null;c.defaultPopupTemplateEnabled=!1;c.label=void 0;c.messages=null;c.messagesURIUtils=null;c.spatialReference=null;c.title=null;c.visibleElements=b.__assign({},p);c.map=null;c.view=null;c.viewModel=new m;return c}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.own(h.init(this,"viewModel.contentViewModels",
function(){return a._setupContentWidgets()}))};c.prototype.destroy=function(){this._destroyContentWidgets()};c.prototype.castVisibleElements=function(a){return b.__assign(b.__assign({},p),a)};c.prototype.render=function(){var a=this.viewModel.waitingForContent;return r.tsx("div",{class:this.classes("esri-feature","esri-widget")},r.tsx("div",{class:"esri-feature__size-container"},this.renderTitle(),a?this.renderLoading():this.renderContentContainer()))};c.prototype.setActiveMedia=function(a,b){this.viewModel.setActiveMedia(a,
b)};c.prototype.nextMedia=function(a){this.viewModel.nextMedia(a)};c.prototype.previousMedia=function(a){this.viewModel.previousMedia(a)};c.prototype.renderLoading=function(){return r.tsx("div",{key:"loading-container",class:"esri-feature__loading-container"},r.tsx("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))};c.prototype.renderContentContainer=function(){return this.visibleElements.content?r.tsx("div",{class:"esri-feature__main-container"},
[this.renderContent(),this.renderLastEditInfo()]):null};c.prototype.renderTitle=function(){var a=this.title;return this.visibleElements.title?r.tsx("h4",{class:"esri-feature__title",innerHTML:a}):null};c.prototype.renderContent=function(){var a=this.viewModel.content;return a?Array.isArray(a)?a.length?r.tsx("div",{key:"content-content-elements"},a.map(this.renderContentElement,this)):null:"string"===typeof a?(a=this._contentWidgets[0],!a||a.destroyed?null:r.tsx("div",{key:"content-content"},a.render())):
this.renderNodeContent(a):null};c.prototype.renderContentElement=function(a,b){var c=this.visibleElements;if("boolean"!==typeof c.content&&!c.content[a.type])return null;switch(a.type){case "attachments":return this.renderAttachments(b);case "custom":return this.renderCustom(a,b);case "fields":return this.renderFields(b);case "media":return this.renderMedia(b);case "text":return this.renderText(a,b);default:return null}};c.prototype.renderAttachments=function(a){var b=this._contentWidgets[a];if(!b||
b.destroyed)return null;var c=b.viewModel,d=c.attachmentInfos;return"loading"===c.state||0<d.length?r.tsx("div",{key:this._buildKey("attachments-element",a),class:this.classes("esri-feature__attachments","esri-feature__content-element")},r.tsx("h2",null,this.messages.attach),b.render()):null};c.prototype.renderCustom=function(a,b){var c=this._contentWidgets[b];return!c||c.destroyed?null:a.creator?r.tsx("div",{key:this._buildKey("custom-element",b),class:"esri-feature__content-element"},c.render()):
null};c.prototype.renderFields=function(a){var b=this._contentWidgets[a];return!b||b.destroyed?null:r.tsx("div",{key:this._buildKey("fields-element",a),class:"esri-feature__content-element"},b.render())};c.prototype.renderMedia=function(a){var b=this._contentWidgets[a];return!b||b.destroyed?null:r.tsx("div",{key:this._buildKey("media-element",a),class:"esri-feature__content-element"},b.render())};c.prototype.renderLastEditInfo=function(){var a=this.visibleElements,b=this.messages,c=this.viewModel.lastEditInfo;
if(!c||!a.lastEditedInfo)return null;a=c.user;b=l.substitute("edit"===c.type?a?b.lastEditedByUser:b.lastEdited:a?b.lastCreatedByUser:b.lastCreated,{date:c.date,user:a});return r.tsx("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info","esri-feature__content-element")},b)};c.prototype.renderText=function(a,b){var c=this._contentWidgets[b];return!c||c.destroyed?null:a.text?r.tsx("div",{key:this._buildKey("text-element",b),class:this.classes("esri-feature__content-element",
"esri-feature__text")},c.render()):null};c.prototype._buildKey=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];c=this.get("viewModel.graphic.uid")||"0";b=b.join("-");return a+"__"+c+"-"+b};c.prototype._destroyContentWidgets=function(){this._contentWidgets.forEach(function(a){a.viewModel=null;a&&!a.destroyed&&a.destroy()});this._contentWidgets=[]};c.prototype._setupContentWidgets=function(){var a=this;this._destroyContentWidgets();var b=this.get("viewModel.content"),c=this.viewModel.contentViewModels;
Array.isArray(b)?b.forEach(function(b,e){"attachments"===b.type&&(a._contentWidgets[e]=new f({displayType:b.displayType,viewModel:c[e]}));"fields"===b.type&&(a._contentWidgets[e]=new g({viewModel:c[e]}));"media"===b.type&&(a._contentWidgets[e]=new d({viewModel:c[e]}));"text"===b.type&&(a._contentWidgets[e]=new n({viewModel:c[e]}));"custom"===b.type&&(a._contentWidgets[e]=new n({viewModel:c[e]}))},this):(b=c[0])&&!b.destroyed&&(this._contentWidgets[0]=new n({viewModel:b}));this.scheduleRender()};b.__decorate([k.aliasOf("viewModel.graphic")],
c.prototype,"graphic",void 0);b.__decorate([k.aliasOf("viewModel.defaultPopupTemplateEnabled")],c.prototype,"defaultPopupTemplateEnabled",void 0);b.__decorate([k.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],c.prototype,"label",void 0);b.__decorate([k.property(),r.renderable(),r.messageBundle("esri/widgets/Feature/t9n/Feature")],c.prototype,"messages",void 0);b.__decorate([k.property(),r.renderable(),r.messageBundle("esri/widgets/support/t9n/uriUtils")],c.prototype,"messagesURIUtils",
void 0);b.__decorate([k.aliasOf("viewModel.spatialReference")],c.prototype,"spatialReference",void 0);b.__decorate([k.aliasOf("viewModel.title")],c.prototype,"title",void 0);b.__decorate([k.property(),r.renderable()],c.prototype,"visibleElements",void 0);b.__decorate([k.cast("visibleElements")],c.prototype,"castVisibleElements",null);b.__decorate([k.aliasOf("viewModel.map")],c.prototype,"map",void 0);b.__decorate([k.aliasOf("viewModel.view")],c.prototype,"view",void 0);b.__decorate([k.property({type:m}),
r.renderable(["viewModel.waitingForContent","viewModel.content","viewModel.lastEditInfo","viewModel.contentViewModels"])],c.prototype,"viewModel",void 0);return c=b.__decorate([k.subclass("esri.widgets.Feature")],c)}(q.FeatureContentMixin(e))})},"esri/widgets/Attachments":function(){define("require exports tslib ../core/Error ../core/unitFormatUtils ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./Attachments/AttachmentsViewModel ./Attachments/support/attachmentUtils ./support/widget".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){var m={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},q=window.CSS;return function(a){function c(c,d){c=a.call(this,c,d)||this;c.abilities=null;c.displayType="list";c.graphic=null;c.label=void 0;c.messages=null;c.messagesUnits=null;c.selectedFile=null;c.submitting=!1;c.viewModel=new n;c.visibleElements=b.__assign({},m);c._supportsImageOrientation=q&&q.supports&&q.supports("image-orientation",
"from-image");c._addAttachmentForm=null;c._updateAttachmentForm=null;return c}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.own(k.on(this,"viewModel.attachmentInfos","change",function(){return a.scheduleRender()}),k.init(this,"viewModel.mode",function(){return a._modeChanged()}))};c.prototype.castVisibleElements=function(a){return b.__assign(b.__assign({},m),a)};c.prototype.addAttachment=function(){var a=this,b=this._addAttachmentForm,c=this.viewModel;this._set("submitting",!0);
this._set("error",null);return c.addAttachment(b).then(function(b){a._set("submitting",!1);a._set("error",null);c.mode="view";return b}).catch(function(b){a._set("submitting",!1);a._set("error",new l("attachments:add-attachment",a.messages.addErrorMessage,b));throw b;})};c.prototype.deleteAttachment=function(a){var b=this,c=this.viewModel;this._set("submitting",!0);this._set("error",null);return c.deleteAttachment(a).then(function(a){b._set("submitting",!1);b._set("error",null);c.mode="view";return a}).catch(function(a){b._set("submitting",
!1);b._set("error",new l("attachments:delete-attachment",b.messages.deleteErrorMessage,a));throw a;})};c.prototype.updateAttachment=function(){var a=this,b=this.viewModel,c=this._updateAttachmentForm;this._set("submitting",!0);this._set("error",null);return b.updateAttachment(c).then(function(c){a._set("submitting",!1);a._set("error",null);b.mode="view";return c}).catch(function(b){a._set("submitting",!1);a._set("error",new l("attachments:update-attachment",a.messages.updateErrorMessage,b));throw b;
})};c.prototype.render=function(){var a=this.submitting,b=this.viewModel.state;return d.tsx("div",{class:this.classes("esri-attachments","esri-widget")},a?this.renderProgressBar():null,"loading"===b?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())};c.prototype.renderErrorMessage=function(){var a=this.error,b=this.visibleElements;return a&&b.errorMessage?d.tsx("div",{key:"error-message",class:"esri-attachments__error-message"},a.message):null};c.prototype.renderAttachments=
function(){var a=this.viewModel,b=a.mode,a=a.activeAttachmentInfo;return"add"===b?this.renderAddForm():"edit"===b?this.renderDetailsForm(a):this.renderAttachmentContainer()};c.prototype.renderLoading=function(){return d.tsx("div",{class:"esri-attachments__loader-container",key:"loader"},d.tsx("div",{class:"esri-attachments__loader"}))};c.prototype.renderProgressBar=function(){return this.visibleElements.progressBar?d.tsx("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null};c.prototype.renderAddForm=
function(){var a,b=this.submitting,c=this.selectedFile,e=b||!c,b=this.visibleElements.cancelAddButton?d.tsx("button",{type:"button",bind:this,disabled:b,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",b&&"esri-button--disabled")},this.messages.cancel):null,e=this.visibleElements.addSubmitButton?d.tsx("button",{type:"submit",disabled:e,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",
(a={},a["esri-button--disabled"]=e,a))},this.messages.add):null;a=c?d.tsx("span",{key:"file-name",class:"esri-attachments__file-name"},c.name):null;c=d.tsx("form",{bind:this,afterCreate:d.storeNode,afterRemoved:d.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},d.tsx("fieldset",{class:"esri-attachments__file-fieldset"},a,d.tsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},c?this.messages.changeFile:this.messages.selectFile,
d.tsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),e,b);return d.tsx("div",{key:"add-form-container",class:"esri-attachments__form-node"},c)};c.prototype.renderDetailsForm=function(a){var b,c,e,f=this,g=this.visibleElements,k=this.selectedFile,m=this.submitting,l=a.contentType,n=a.size,p=a.url,r=this.viewModel.abilities,q=m||!k,t=r.editing&&r.operations.delete&&g.deleteButton?d.tsx("button",{key:"delete-button",type:"button",
disabled:m,bind:this,onclick:function(b){return f._submitDeleteAttachment(b,a)},class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",(b={},b["esri-button--disabled"]=m,b))},this.messages.delete):null;b=r.editing&&r.operations.update&&g.updateButton?d.tsx("button",{disabled:q,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",(c={},c["esri-button--disabled"]=q,c))},this.messages.update):
null;c=this.visibleElements.cancelUpdateButton?d.tsx("button",{disabled:m,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",(e={},e["esri-button--disabled"]=m,e))},this.messages.cancel):null;e=k?d.tsx("span",{key:"file-name",class:"esri-attachments__file-name"},k.name):null;r=r.editing&&r.operations.update?d.tsx("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},e,d.tsx("label",
{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,d.tsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null;n=d.tsx("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},d.tsx("label",null,h.formatFileSize(this.messagesUnits,n)));l=d.tsx("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},d.tsx("label",null,l));t=d.tsx("form",
{bind:this,afterCreate:d.storeNode,afterRemoved:d.discardNode,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},d.tsx("div",{class:"esri-attachments__metadata"},n,l),r,d.tsx("div",{class:"esri-attachments__actions"},t,c,b));return d.tsx("div",{key:"edit-form-container",class:"esri-attachments__form-node"},d.tsx("a",{class:"esri-attachments__item-link",href:p,rel:"noreferrer",target:"_blank",alt:name},this.renderImageMask({attachmentInfo:a,size:400}),d.tsx("div",{class:"esri-attachments__item-link-overlay"},
d.tsx("span",{class:"esri-attachments__item-link-overlay-icon"},d.tsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},d.tsx("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),d.tsx("path",{fill:"none",d:"M0 0h32v32H0z"}))))),t)};c.prototype.renderImageMask=function(a){var b,c,e=a.attachmentInfo,f=a.size;a=this.viewModel.supportsResizeAttachments;var h=e.contentType,k=e.url,m=a&&g.isSupportedImage(h),e=(e=this._getCSSTransform(e,
m))?{transform:e,"image-orientation":"none"}:{},l=-1===k.indexOf("?")?"?":"\x26",f=m?""+k+l+"w\x3d"+f:g.getIconPath(h),m=(b={},b["esri-attachments__item-mask--icon"]=!m,b);b=(c={},c["esri-attachments__image--resizable"]=a,c);return d.tsx("div",{class:this.classes(m,"esri-attachments__item-mask")},d.tsx("img",{styles:e,alt:"",src:f,class:this.classes(b,"esri-attachments__image")}))};c.prototype.renderAttachmentInfo=function(a){var b=this,c=a.attachmentInfo,e=this.viewModel.abilities,f=c.name,g=c.url;
a=this.renderImageMask({attachmentInfo:c,size:"list"===a.displayType?48:400});var h=e.editing?d.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",d.isRTL()?"esri-icon-left":"esri-icon-right")}):null,f=d.tsx("label",{class:"esri-attachments__label"},d.tsx("span",{class:"esri-attachments__filename"},f||this.messages.noTitle),h),f=[a,f],e=e.editing?d.tsx("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,
"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":c.id,onclick:function(){return b._startEditAttachment(c)},type:"button"},f):d.tsx("a",{key:"details-link",class:"esri-attachments__item-button",href:g,target:"_blank"},f);return d.tsx("li",{class:"esri-attachments__item",key:c},e)};c.prototype.renderAttachmentContainer=function(){var a,b=this,c=this.displayType,e=this.viewModel,f=this.visibleElements,g=e.attachmentInfos,h=e.abilities,k=g&&g.length,e=(a={},a["esri-attachments__container--list"]=
"preview"!==c,a["esri-attachments__container--preview"]="preview"===c,a);a=h.editing&&h.operations.add&&f.addButton?d.tsx("button",{bind:this,onclick:function(){return b._startAddAttachment()},class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},d.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null;g=k?d.tsx("ul",{class:"esri-attachments__items"},g.toArray().map(function(a){return b.renderAttachmentInfo({attachmentInfo:a,
displayType:c})})):d.tsx("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return d.tsx("div",{key:"attachments-container",class:this.classes("esri-attachments__container",e)},g,a)};c.prototype._modeChanged=function(){this._set("error",null);this._set("selectedFile",null)};c.prototype._handleFileInputChange=function(a){a=(a=a.target)&&a.files&&a.files.item(0);this._set("selectedFile",a)};c.prototype._submitDeleteAttachment=function(a,b){a.preventDefault();this.deleteAttachment(b)};
c.prototype._submitAddAttachment=function(a){a.preventDefault();this.addAttachment()};c.prototype._submitUpdateAttachment=function(a){a.preventDefault();this.updateAttachment()};c.prototype._startEditAttachment=function(a){var b=this.viewModel;b.activeAttachmentInfo=a;b.mode="edit"};c.prototype._startAddAttachment=function(){this.viewModel.mode="add"};c.prototype._cancelForm=function(a){a.preventDefault();this.viewModel.mode="view"};c.prototype._getCSSTransform=function(a,b){a=a.orientationInfo;return!this._supportsImageOrientation&&
b&&a?[a.rotation?"rotate("+a.rotation+"deg)":"",a.mirrored?"scaleX(-1)":""].join(" "):""};b.__decorate([f.aliasOf("viewModel.abilities")],c.prototype,"abilities",void 0);b.__decorate([f.property(),d.renderable()],c.prototype,"displayType",void 0);b.__decorate([f.aliasOf("viewModel.graphic")],c.prototype,"graphic",void 0);b.__decorate([f.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],c.prototype,"label",void 0);b.__decorate([f.property(),d.renderable(),d.messageBundle("esri/widgets/Attachments/t9n/Attachments")],
c.prototype,"messages",void 0);b.__decorate([f.property(),d.renderable(),d.messageBundle("esri/core/t9n/Units")],c.prototype,"messagesUnits",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"selectedFile",void 0);b.__decorate([d.renderable(),f.property({readOnly:!0})],c.prototype,"submitting",void 0);b.__decorate([d.renderable(),f.property({readOnly:!0})],c.prototype,"error",void 0);b.__decorate([f.property({type:n}),d.renderable("viewModel.activeAttachmentInfo viewModel.mode viewModel.state viewModel.supportsResizeAttachments viewModel.attachmentInfos viewModel.graphic viewModel.abilities viewModel.abilities.editing viewModel.abilities.operations".split(" "))],
c.prototype,"viewModel",void 0);b.__decorate([f.property(),d.renderable()],c.prototype,"visibleElements",void 0);b.__decorate([f.cast("visibleElements")],c.prototype,"castVisibleElements",null);return c=b.__decorate([f.subclass("esri.widgets.Attachments")],c)}(e)})},"esri/core/unitFormatUtils":function(){define("require exports ./mathUtils ./string ./unitUtils ../intl/number".split(" "),function(c,a,b,l,h,k){function f(a,b,c){return a.units[b][c]}function e(a,b,c,e,h){void 0===e&&(e=2);void 0===h&&
(h="abbr");return k.formatNumber(b,{minimumFractionDigits:e,maximumFractionDigits:e})+" "+f(a,c,h)}Object.defineProperty(a,"__esModule",{value:!0});a.formatFileSize=a.formatDMS=a.formatImperialArea=a.formatMetricArea=a.formatImperialVerticalLength=a.formatImperialLength=a.formatMetricVerticalLength=a.formatMetricLength=a.formatDecimal=a.unitName=void 0;a.unitName=f;a.formatDecimal=e;a.formatMetricLength=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredMetricLengthUnit(b,
c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatMetricVerticalLength=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredMetricVerticalLengthUnit(b,c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatImperialLength=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredImperialLengthUnit(b,c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatImperialVerticalLength=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredImperialVerticalLengthUnit(b,
c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatMetricArea=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredMetricAreaUnit(b,c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatImperialArea=function(a,b,c,f,k){void 0===f&&(f=2);void 0===k&&(k="abbr");var d=h.preferredImperialAreaUnit(b,c);return e(a,h.convertUnit(b,c,d),d,f,k)};a.formatDMS=function(a,b,c){void 0===c&&(c=2);a=h.convertUnit(a,b,"degrees");b=a-Math.floor(a);a-=b;b*=60;var d=b-Math.floor(b);b-=d;d*=60;return a.toFixed()+
"\u00b0 "+b.toFixed()+"' "+d.toFixed(c)+'"'};var n=["B","kB","MB","GB","TB"];a.formatFileSize=function(a,c){var d=0===c?0:Math.floor(Math.log(c)/Math.log(1024)),d=b.clamp(d,0,n.length-1);c=k.formatNumber(c/Math.pow(1024,d),{maximumFractionDigits:2});return l.replace(a.units.bytes[n[d]],{fileSize:c})}})},"esri/widgets/Widget":function(){define("require exports tslib ../intl ../core/Collection ../core/domUtils ../core/Evented ../core/Handles ../core/Logger ../core/Promise ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ../libs/maquette/index ./support/widget".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p){var t=n.getLogger("esri.widgets.Widget"),w=0,v=r.createProjector();return function(a){function c(c,f){var g=a.call(this,c,f)||this;g._attached=!1;g._internalHandles=new e;g._projector=v;g.domNode=null;g.iconClass="esri-icon-checkbox-unchecked";g.label=g.declaredClass.split(".").pop();g.visible=!0;g._loadLocale=d.debounce(function(){return b.__awaiter(g,void 0,void 0,function(){var a=this;return b.__generator(this,function(c){switch(c.label){case 0:return this._messageBundleProps&&
this._messageBundleProps.length?[4,d.eachAlways(this._messageBundleProps.map(function(c){var d=c.bundlePath,e=c.propertyName;return b.__awaiter(a,void 0,void 0,function(){var a,c;return b.__generator(this,function(b){switch(b.label){case 0:return a=this,c=e,[4,l.loadMessageBundle(d)];case 1:return a[c]=b.sent(),[2]}})})})).then(function(b){for(var c=0;c<b.length;c++){var d=b[c];d.error&&t.error("widget-intl:locale-error",a.declaredClass,d.error)}})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[4,
this.loadLocale()];case 3:return c.sent(),[2]}})})});var h="esri-widget-uid-"+Date.now().toString(16),k=g.render.bind(g),m=!1;g.render=function(){if(!m||g.destroyed)return null;var a=k();a.properties?a.properties.key||(a.properties.key=h):a.properties={key:h};return a};g.addResolvingPromise(g._resourcesFetch=g.beforeFirstRender().then(function(){m=!0;g._postInitialize()}));return g}b.__extends(c,a);c.prototype.normalizeCtorArgs=function(a,c){a=b.__assign({},a);c&&(a.container=c);return a};c.prototype.postInitialize=
function(){};c.prototype.beforeFirstRender=function(){return this._loadLocale()};c.prototype.loadLocale=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){return[2]})})};c.prototype.destroy=function(){this.destroyed||(this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=function(){return null},this._projector=null)};Object.defineProperty(c.prototype,
"container",{set:function(a){this._get("container")||this._set("container",a)},enumerable:!1,configurable:!0});c.prototype.castContainer=function(a){return k.byId(a)};Object.defineProperty(c.prototype,"id",{get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+w++},set:function(a){a&&this._set("id",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"renderable",{get:function(){return this._resourcesFetch},enumerable:!1,configurable:!0});
c.prototype.render=function(){throw Error("not implemented");};c.prototype.scheduleRender=function(){this.destroyed||this._projector.scheduleRender()};c.prototype.classes=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return p.classes.apply(this,a)};c.prototype.own=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments));this._internalHandles.add(a)};c.prototype.renderNow=function(){this._projector.renderNow()};c.prototype._postInitialize=function(){var a=this,
c,d;this.destroyed||((null===(c=this._renderableProps)||void 0===c?0:c.length)&&this._internalHandles.add(this._renderableProps.map(function(b){return m.init(a,b,function(a,c){var d=this;h.isCollection(c)&&this._internalHandles.remove(this.declaredClass+":"+b+"-collection-change-event-listener");h.isCollection(a)&&(a=a.on("change",function(){return d.scheduleRender()}),this._internalHandles.add(a,this.declaredClass+":"+b+"-collection-change-event-listener"));this.scheduleRender()})})),(null===(d=
this._delegatedEventNames)||void 0===d?0:d.length)&&this._internalHandles.add(m.init(this,"viewModel",function(b,c){c&&a._internalHandles.remove("delegated-events");b&&a._internalHandles.add(a._delegatedEventNames.map(function(c){return b.on(c,function(b){a.emit(c,b)})}),"delegated-events")})),this.postInitialize(),this._internalHandles.add(l.onLocaleChange(function(){return b.__awaiter(a,void 0,void 0,function(){return b.__generator(this,function(a){switch(a.label){case 0:return[4,this._loadLocale()];
case 1:return a.sent(),this.scheduleRender(),[2]}})})})),this._internalHandles.add(m.whenOnce(this,"container",function(c){return b.__awaiter(a,void 0,void 0,function(){return b.__generator(this,function(a){if(this.destroyed)return[2];this._attach(c);return[2]})})})))};c.prototype._attach=function(a){a&&(this._projector.merge(a,this.render),this._attached=!0)};c.prototype._detach=function(a){a&&this._attached&&(this._projector.detach(this.render),a.parentNode&&a.parentNode.removeChild(a),this._attached=
!1)};b.__decorate([q.property({value:null})],c.prototype,"container",null);b.__decorate([q.cast("container")],c.prototype,"castContainer",null);b.__decorate([q.property({aliasOf:"container"})],c.prototype,"domNode",void 0);b.__decorate([q.property()],c.prototype,"iconClass",void 0);b.__decorate([q.property({dependsOn:["container"]})],c.prototype,"id",null);b.__decorate([q.property()],c.prototype,"label",void 0);b.__decorate([q.property()],c.prototype,"renderable",null);b.__decorate([q.property()],
c.prototype,"viewModel",void 0);b.__decorate([q.property()],c.prototype,"visible",void 0);return c=b.__decorate([q.subclass("esri.widgets.Widget")],c)}(g.EsriPromiseMixin(f.EventedAccessor))})},"esri/widgets/support/widget":function(){define("require exports tslib ./decorators ./jsxFactory ./widgetUtils ./shim/SVGElement".split(" "),function(c,a,b,l,h,k){Object.defineProperty(a,"__esModule",{value:!0});a.hasDomNode=a.isWidget=void 0;b.__exportStar(l,a);b.__exportStar(h,a);b.__exportStar(k,a);a.isWidget=
function(a){return a&&"function"===typeof a.render};a.hasDomNode=function(a){return a&&"function"===typeof a.postMixInProperties&&"function"===typeof a.buildRendering&&"function"===typeof a.postCreate&&"function"===typeof a.startup}})},"esri/widgets/support/decorators":function(){define("require exports tslib ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/renderable ./decorators/vmEvent".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});b.__exportStar(l,
a);b.__exportStar(h,a);b.__exportStar(k,a);b.__exportStar(f,a)})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["require","exports","tslib"],function(c,a,b){function l(a){return function(c){for(var f=[],e=1;e<arguments.length;e++)f[e-1]=arguments[e];e=c.type;if(c instanceof KeyboardEvent||"keyup"===e||"keydown"===e||"keypress"===e){if("Enter"===c.key||" "===c.key)c.preventDefault(),c.stopPropagation(),c.target.click()}else a.call.apply(a,b.__spreadArrays([this,c],f))}}Object.defineProperty(a,
"__esModule",{value:!0});a.accessibleHandler=void 0;a.accessibleHandler=function(){return function(a,b){if(!a[b])throw new TypeError("Cannot auto bind undefined function '"+b+"'");return{value:l(a[b])}}}})},"esri/widgets/support/decorators/messageBundle":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.messageBundle=void 0;a.messageBundle=function(a){return function(b,c){b.hasOwnProperty("_messageBundleProps")||(b._messageBundleProps=b._messageBundleProps?
b._messageBundleProps.slice():[]);b._messageBundleProps.push({bundlePath:a,propertyName:c})}}})},"esri/widgets/support/decorators/renderable":function(){define(["require","exports","./propUtils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.renderable=void 0;a.renderable=function(a){var c="string"===typeof a?b.splitProps(a):a;return function(a,f){a.hasOwnProperty("_renderableProps")||(a._renderableProps=a._renderableProps?a._renderableProps.slice():[]);a=a._renderableProps;c?
a.push.apply(a,b.normalizePropNames(c,f)):a.push(f)}}})},"esri/widgets/support/decorators/propUtils":function(){define(["require","exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.normalizePropNames=a.splitProps=void 0;a.splitProps=function(a){return a.split(",").map(function(a){return a.trim()})};a.normalizePropNames=function(a,c){return a.map(function(a){a=0===a.indexOf(c)?a:c+"."+a;return a})}})},"esri/widgets/support/decorators/vmEvent":function(){define(["require","exports",
"./propUtils"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.vmEvent=void 0;a.vmEvent=function(a){return function(c){c.hasOwnProperty("_delegatedEventNames")||(c._delegatedEventNames=c._delegatedEventNames?c._delegatedEventNames.slice():[]);c=c._delegatedEventNames;var h=Array.isArray(a)?a:b.splitProps(a);c.push.apply(c,h)}}})},"esri/widgets/support/jsxFactory":function(){define(["require","exports","maquette-jsx"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});
Object.defineProperty(a,"tsx",{enumerable:!0,get:function(){return b.jsx}})})},"maquette-jsx/dist/maquette-jsx.umd":function(){(function(c,a){"object"===typeof exports&&"undefined"!==typeof module?a(exports):"function"===typeof define&&define.amd?define(["exports"],a):(c=c||self,a(c.maquetteCssTransitions={}))})(this,function(c){var a=function(b,c){for(var h=0,f=b.length;h<f;h++){var e=b[h];Array.isArray(e)?a(e,c):null!==e&&void 0!==e&&!1!==e&&(e.hasOwnProperty("vnodeSelector")||(e={vnodeSelector:"",
properties:void 0,children:void 0,text:e.toString(),domNode:null}),c.push(e))}},b=function(b,c){for(var h=[],f=2;f<arguments.length;f++)h[f-2]=arguments[f];if(1===h.length&&"string"===typeof h[0])return{vnodeSelector:b,properties:c||void 0,children:void 0,text:h[0],domNode:null};f=[];a(h,f);return{vnodeSelector:b,properties:c||void 0,children:f,text:void 0,domNode:null}};c.enableGlobalJsx=function(){window.jsx=b};c.jsx=b;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/support/shim/SVGElement":function(){define(["require",
"exports"],function(c,a){Object.defineProperty(a,"__esModule",{value:!0});a.DOMTokenListSubset=void 0;var b=function(){function a(a){this._node=a}a.prototype.add=function(a){var b=this._node;b.className.baseVal=(b.className.baseVal+" "+a).trim()};a.prototype.contains=function(a){return-1<this._node.className.baseVal.split(" ").indexOf(a)};a.prototype.remove=function(a){for(var b=this._node,c="",e=0,h=b.className.baseVal.split(" ");e<h.length;e++){var g=h[e];g!==a&&(c+=g+" ")}b.className.baseVal=c.trim()};
a.prototype.toggle=function(a,b){var c=this.contains(a),e;if(e=c?!0!==b&&"remove":!1!==b&&"add")this[e](a);return void 0!==b?b:!c};return a}();a.DOMTokenListSubset=b;"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return new b(this)}})})},"esri/widgets/Attachments/AttachmentsViewModel":function(){define("require exports tslib ../../Graphic ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/maybe ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ../../tasks/support/AttachmentQuery ../Feature/support/featureUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q){var r={editing:!1,operations:{add:!0,update:!0,delete:!0}},p=h.ofType(d);return function(a){function c(c){var d=a.call(this,c)||this;d._getAttachmentsPromise=null;d._attachmentLayer=null;d.abilities=b.__assign({},r);d.activeAttachmentInfo=null;d.attachmentInfos=new p;d.graphic=null;d.mode="view";d.handles.add([n.init(d,"graphic",function(){return d._graphicChanged()})]);return d}b.__extends(c,a);c.prototype.destroy=function(){this.graphic=this._attachmentLayer=
null};c.prototype.castAbilities=function(a){return b.__assign(b.__assign({},r),a)};Object.defineProperty(c.prototype,"state",{get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"supportsResizeAttachments",{get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1},enumerable:!1,configurable:!0});c.prototype.getAttachments=function(){return b.__awaiter(this,
void 0,void 0,function(){var a,c,d,e,f,g,h,l;return b.__generator(this,function(b){switch(b.label){case 0:a=this;c=a._attachmentLayer;d=a.attachmentInfos;if(!c||"function"!==typeof c.queryAttachments)throw new k("invalid-layer","getAttachments(): A valid layer is required.");e=this._getFeatureId();f=new m({objectIds:[e],returnMetadata:!0});g=[];this._getAttachmentsPromise=h=c.queryAttachments(f).then(function(a){return a[e]||g}).catch(function(){return g});this.notifyChange("state");return[4,h];case 1:return l=
b.sent(),d.removeAll(),l.length&&d.addMany(l),this._getAttachmentsPromise=null,this.notifyChange("state"),[2,l]}})})};c.prototype.addAttachment=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,e,f,g,h,m,l=this;return b.__generator(this,function(b){switch(b.label){case 0:c=this;d=c._attachmentLayer;e=c.attachmentInfos;f=c.graphic;g=c.abilities;if(!a)throw new k("invalid-attachment","addAttachment(): An attachment is required.",{attachment:a});if(!g.operations.add)throw new k("invalid-abilities",
"addAttachment(): add abilities are required.");if(!d||"function"!==typeof d.addAttachment)throw new k("invalid-layer","addAttachment(): A valid layer is required.");h=d.addAttachment(f,a).then(function(a){return l._queryAttachment(a.objectId)});return[4,h];case 1:return m=b.sent(),e.add(m),[2,m]}})})};c.prototype.deleteAttachment=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,e,f,g,h,m;return b.__generator(this,function(b){switch(b.label){case 0:c=this;d=c._attachmentLayer;
e=c.attachmentInfos;f=c.graphic;g=c.abilities;if(!a)throw new k("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:a});if(!g.operations.delete)throw new k("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!d||"function"!==typeof d.deleteAttachments)throw new k("invalid-layer","deleteAttachment(): A valid layer is required.");h=d.deleteAttachments(f,[a.id]).then(function(){return a});return[4,h];case 1:return m=b.sent(),e.remove(m),
[2,m]}})})};c.prototype.updateAttachment=function(a,c){void 0===c&&(c=this.activeAttachmentInfo);return b.__awaiter(this,void 0,void 0,function(){var d,e,f,g,h,m,l,n,p=this;return b.__generator(this,function(b){switch(b.label){case 0:d=this;e=d._attachmentLayer;f=d.attachmentInfos;g=d.graphic;h=d.abilities;if(!a)throw new k("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:a});if(!c)throw new k("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",
{attachmentInfo:c});if(!h.operations.update)throw new k("invalid-abilities","updateAttachment(): Update abilities are required.");m=f.findIndex(function(a){return a===c});if(!e||"function"!==typeof e.updateAttachment)throw new k("invalid-layer","updateAttachment(): A valid layer is required.");l=e.updateAttachment(g,c.id,a).then(function(a){return p._queryAttachment(a.objectId)});return[4,l];case 1:return n=b.sent(),f.splice(m,1,n),[2,n]}})})};c.prototype._queryAttachment=function(a){return b.__awaiter(this,
void 0,void 0,function(){var c,d,e;return b.__generator(this,function(b){if(!a)throw new k("invalid-attachment-id","Could not query attachment.");c=this._attachmentLayer;d=this._getFeatureId();e=new m({objectIds:[d],attachmentsWhere:"AttachmentId\x3d"+a,returnMetadata:!0});return[2,c.queryAttachments(e).then(function(a){return a[d][0]})]})})};c.prototype._getFeatureId=function(){var a=this._attachmentLayer,b=this.graphic;if(!a||!b)return null;a=a.objectIdField;return(b=b.attributes)&&b[a]};c.prototype._graphicChanged=
function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(function(){}))};c.prototype._setAttachmentLayer=function(){var a=q.getSourceLayer(this.graphic);this._attachmentLayer=a?"scene"===a.type&&e.isSome(a.associatedLayer)?a.associatedLayer:a:null};b.__decorate([g.property()],c.prototype,"abilities",void 0);b.__decorate([g.cast("abilities")],c.prototype,"castAbilities",null);b.__decorate([g.property()],c.prototype,"activeAttachmentInfo",void 0);b.__decorate([g.property({readOnly:!0,
type:p})],c.prototype,"attachmentInfos",void 0);b.__decorate([g.property({type:l})],c.prototype,"graphic",void 0);b.__decorate([g.property()],c.prototype,"mode",void 0);b.__decorate([g.property({dependsOn:["graphic"],readOnly:!0})],c.prototype,"state",null);b.__decorate([g.property({readOnly:!0,dependsOn:["graphic","graphic.layer","graphic.layer.loaded","graphic.layer.capabilities.operations.supportsResizeAttachments"]})],c.prototype,"supportsResizeAttachments",null);return c=b.__decorate([g.subclass("esri.widgets.Attachments.AttachmentsViewModel")],
c)}(f.HandleOwner)})},"esri/widgets/Feature/support/featureUtils":function(){define("require exports tslib ../../../intl ../../../core/Error ../../../core/Logger ../../../core/string ../../../intl/date ../../../intl/number ../../../layers/support/fieldUtils ../../../popup/support/FieldInfoFormat".split(" "),function(c,a,b,l,h,k,f,e,n,g,d){function m(a){return G.test(a)}function q(a,b){if(!m(b)||!a)return null;var c=b.replace(G,"").toLowerCase(),d;a.some(function(a){return a.name.toLowerCase()===c?
(d=a,!0):!1});return d}function r(a,b){return(b=p(b,a))?b.name:a}function p(a,b){return a&&"function"===typeof a.getField?a.getField(b):null}function t(a,c){void 0===c&&(c=!1);var d=b.__assign({},a);Object.keys(d).forEach(function(a){var b=c;void 0===b&&(b=!1);var e=d[a];"string"===typeof e&&(b=(b?encodeURIComponent(e):e).replace(I,"%27"),d[a]=b)});return d}function w(a,b){return a.replace(F,function(a,c,d){return(a=p(b,d))?"{"+a.name+"}":c})}function v(a,c){var e=c.fieldName,f=u(c.fieldInfos,e),
g=null===f||void 0===f?void 0:f.clone(),f=c.preventPlacesFormatting;c=p(c.layer,e);g&&c&&"date"===c.type&&(c=g.format||new d,c.dateFormat=c.dateFormat||"short-date-short-time",g.format=c);g=g&&g.format;"string"!==typeof a||!g||null!=g.dateFormat||null==g.places&&null==g.digitSeparator||(c=Number(a),isNaN(c)||(a=c));return"string"===typeof a||null==a||null==g?a:f?n.formatNumber(a,b.__assign(b.__assign({},n.convertNumberFormatToIntlOptions(g)),{minimumFractionDigits:0,maximumFractionDigits:20})):g.format(a)}
function u(a,b){if(a&&a.length&&b){var c=b.toLowerCase(),d=void 0;a.some(function(a){return a.fieldName&&a.fieldName.toLowerCase()===c?(d=a,!0):!1});return d}}function x(a){return"string"===typeof a?a.replace(H,'\x3cbr class\x3d"esri-text-new-line" /\x3e'):a}function y(a){var b=a.value,c=a.fieldName,d=a.fieldInfos,e=a.fieldInfoMap,f=a.layer;a=a.graphic;if(null==b)return"";var g;g=B(c)||!f||"function"!==typeof f.getFieldDomain?null:(g=f.getFieldDomain(c,{feature:a}))&&"coded-value"===g.type?g.getName(b):
null;if(g)return g;a=B(c)||!f||"function"!==typeof f.getFeatureType?null:(g=f.typeIdField)&&c===g?(a=f.getFeatureType(a))?a.name:null:null;return a?a:e.get(c.toLowerCase())?v(b,{fieldInfos:d,fieldName:c,layer:f}):(d=f&&f.fieldsIndex)&&d.isDateField(c)?l.formatDate(b,M):x(b)}function z(a,c){return b.__awaiter(this,void 0,void 0,function(){var d,e,f,g,k,m,l,n,p,r,q;return b.__generator(this,function(b){switch(b.label){case 0:d=a.layer;e=a.graphic;f=a.outFields;g=a.objectIds;k=g[0];if("number"!==typeof k)throw m=
"layer-query-features-invalid-objectid",l="Could not query required fields for the specified feature. The feature's ID is invalid.",n={layer:d,graphic:e,objectId:k,requiredFields:f},p=new h(m,l,n),C.warn(l,n),p;if("function"!==typeof d.queryFeatures)throw m="layer-query-features-unsupported",l="The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",n={layer:d,graphic:e,requiredFields:f},p=new h(m,l,n),C.warn(l,n),p;r=d.createQuery();r.objectIds=
g;r.outFields=f;r.returnGeometry=!0;return[4,d.queryFeatures(r,c)];case 1:return q=b.sent(),[2,q.features[0]]}})})}function B(a){void 0===a&&(a="");return a?-1!==a.indexOf("relationships/"):!1}function A(a){var b=a.attributes,c=a.graphic,d=a.relatedInfo;b&&c&&d&&Object.keys(c.attributes).forEach(function(a){var e={layerId:d.relation.id.toString(),fieldName:a};b[e?"relationships/"+e.layerId+"/"+e.fieldName:""]=c.attributes[a]})}function E(a,b){a&&b&&(b.relatedFeatures&&b.relatedFeatures&&b.relatedFeatures.forEach(function(c){return A({attributes:a,
graphic:c,relatedInfo:b})}),b.relatedStatsFeatures&&b.relatedStatsFeatures&&b.relatedStatsFeatures.forEach(function(c){return A({attributes:a,graphic:c,relatedInfo:b})}))}Object.defineProperty(a,"__esModule",{value:!0});a.isRelatedField=a.queryRequiredFields=a.formatAttributes=a.applyTextFormattingHTML=a.htmlEntities=a.getAllFieldInfos=a.createfieldInfoMap=a.formatEditInfo=a.getFieldInfo=a.formatValueToFieldInfo=a.processFieldsInLinks=a.fixTokens=a.substituteAttributes=a.getFixedFieldNames=a.getFixedFieldName=
a.getFieldInfoLabel=a.isExpressionField=a.shouldOpenInNewTab=a.graphicCallback=a.getSourceLayer=void 0;var C=k.getLogger("esri.widgets.Feature.support.featureUtils"),D=/href=(""|'')/gi,F=/(\{([^\{\r\n]+)\})/g,I=/\'/g,G=/^\s*expression\//i,H=/(\n)/gi,J=/[\u00A0-\u9999<>\&]/gim,L=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,N=/^(?:mailto:|tel:)/,M=e.convertDateFormatToIntlOptions("short-date-short-time");a.getSourceLayer=function(a){if(a)return a.get("sourceLayer")||a.get("layer")};a.graphicCallback=
function(a,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){return[2,"function"===typeof a?a.call(null,c):a]})})};a.shouldOpenInNewTab=function(a){void 0===a&&(a="");if(a)return!N.test(a.trim().toLowerCase())};a.isExpressionField=m;a.getFieldInfoLabel=function(a,b){return(b=q(b,null===a||void 0===a?void 0:a.fieldName))?b.title||null:a?a.label||a.fieldName:null};a.getFixedFieldName=r;a.getFixedFieldNames=function(a,b){return a&&a.map(function(a){return r(a,
b)})};a.substituteAttributes=function(a){var b=a.formattedAttributes,c=a.fieldInfoMap;return(""+f.replace(f.replace(a.template,function(a){var b=c.get(a.toLowerCase());return"{"+(b&&b.fieldName||a)+"}"}),b).replace(D,"")).trim()};a.fixTokens=w;a.processFieldsInLinks=function(a,b,c){return(a=w(a,c))?a.replace(L,function(a,c,d){c=(""+(c||d)).trim();return f.replace(a,t(b,c&&"{"!==c[0]))}):a};a.formatValueToFieldInfo=v;a.getFieldInfo=u;a.formatEditInfo=function(a,b){var c=a.creatorField,d=a.creationDateField,
e=a.editorField;if(b){a=b[a.editDateField];if("number"===typeof a)return b=b[e],c=l.formatDate(a,M),{type:"edit",date:c,user:b};d=b[d];return"number"===typeof d?(b=b[c],c=l.formatDate(d,M),{type:"create",date:c,user:b}):null}};a.createfieldInfoMap=function(a,b){var c=new Map;a&&a.forEach(function(a){var d=r(a.fieldName,b);a.fieldName=d;c.set(d.toLowerCase(),a)});return c};a.getAllFieldInfos=function(a){var b=[];if(!a)return b;var c=a.fieldInfos;a=a.content;c&&b.push.apply(b,c);if(!a||!Array.isArray(a))return b;
a.forEach(function(a){"fields"===a.type&&(a=a&&a.fieldInfos)&&b.push.apply(b,a)});return b};a.htmlEntities=function(a){return a.replace(J,function(a){return"\x26#"+a.charCodeAt(0)+";"})};a.applyTextFormattingHTML=x;a.formatAttributes=function(a){var c=a.fieldInfos,d=a.layer,e=a.graphic,f=a.fieldInfoMap,g=a.relatedInfos,h=b.__assign({},a.attributes);null===g||void 0===g?void 0:g.forEach(function(a){return E(h,a)});Object.keys(h).forEach(function(a){h[a]=y({fieldName:a,fieldInfos:c,fieldInfoMap:f,layer:d,
value:h[a],graphic:e})});return h};a.queryRequiredFields=function(a,c){var d=a.graphic,e=a.popupTemplate,f=a.layer;return b.__awaiter(this,void 0,void 0,function(){var a,h,k,m;return b.__generator(this,function(l){switch(l.label){case 0:return f&&e?"function"!==typeof f.load?[3,2]:[4,f.load(c)]:[2,null];case 1:l.sent(),l.label=2;case 2:return a=d.attributes[f.objectIdField],h=[a],[4,e.getRequiredFields(f.fields)];case 3:return k=l.sent(),g.featureHasFields(k,d)?[2,null]:[4,z({layer:f,graphic:d,outFields:k,
objectIds:h},c)];case 4:if(m=l.sent())d.geometry=m.geometry,d.attributes=b.__assign(b.__assign({},d.attributes),m.attributes);return[2]}})})};a.isRelatedField=B})},"esri/widgets/Attachments/support/attachmentUtils":function(){define(["require","exports","../../../assets"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getIconPath=a.isSupportedImage=void 0;var l=b.getAssetUrl("esri/themes/base/images/files/");a.isSupportedImage=function(a){a=a.toLowerCase();return"image/bmp"===
a||"image/emf"===a||"image/exif"===a||"image/gif"===a||"image/x-icon"===a||"image/jpeg"===a||"image/png"===a||"image/tiff"===a||"image/x-wmf"===a};a.getIconPath=function(a){return a?"text/plain"===a?l+"text-32.svg":"application/pdf"===a?l+"pdf-32.svg":"text/csv"===a?l+"csv-32.svg":"application/gpx+xml"===a?l+"gpx-32.svg":"application/x-dwf"===a?l+"cad-32.svg":"application/postscript"===a||"application/json"===a||"text/xml"===a||"model/vrml"===a?l+"code-32.svg":"application/x-zip-compressed"===a||
"application/x-7z-compressed"===a||"application/x-gzip"===a||"application/x-tar"===a||"application/x-gtar"===a||"application/x-bzip2"===a||"application/gzip"===a||"application/x-compress"===a||"application/x-apple-diskimage"===a||"application/x-rar-compressed"===a||"application/zip"===a?l+"zip-32.svg":-1!==a.indexOf("image/")?l+"image-32.svg":-1!==a.indexOf("audio/")?l+"sound-32.svg":-1!==a.indexOf("video/")?l+"video-32.svg":-1!==a.indexOf("msexcel")||-1!==a.indexOf("ms-excel")||-1!==a.indexOf("spreadsheetml")?
l+"excel-32.svg":-1!==a.indexOf("msword")||-1!==a.indexOf("ms-word")||-1!==a.indexOf("wordprocessingml")?l+"word-32.svg":-1!==a.indexOf("powerpoint")||-1!==a.indexOf("presentationml")?l+"report-32.svg":l+"generic-32.svg":l+"generic-32.svg"}})},"esri/widgets/Feature/FeatureContent":function(){define("require exports tslib ../../core/arrayUtils ../../core/accessorSupport/decorators ../Widget ./FeatureContent/FeatureContentViewModel ./support/featureUtils ../support/widget".split(" "),function(c,a,b,
l,h,k,f,e,n){return function(a){function c(b,c){b=a.call(this,b,c)||this;b.creator=null;b.graphic=null;b.viewModel=null;b._addTargetToAnchors=function(a){l.from(a.querySelectorAll("a")).forEach(function(a){e.shouldOpenInNewTab(a.href)&&!a.hasAttribute("target")&&a.setAttribute("target","_blank")})};return b}b.__extends(c,a);c.prototype.renderLoading=function(){return n.tsx("div",{class:"esri-feature-content__loader-container",key:"loader"},n.tsx("div",{class:"esri-feature-content__loader"}))};c.prototype.renderCreated=
function(){var a,b=null===(a=this.viewModel)||void 0===a?void 0:a.created;return b?b instanceof HTMLElement?n.tsx("div",{key:b,bind:b,afterCreate:this._attachToNode}):n.isWidget(b)?n.tsx("div",{key:b},!b.destroyed&&b.render()):n.tsx("div",{key:b,innerHTML:b,afterCreate:this._addTargetToAnchors}):null};c.prototype.render=function(){var a,b=null===(a=this.viewModel)||void 0===a?void 0:a.state;return n.tsx("div",{class:"esri-feature-content"},"loading"===b?this.renderLoading():this.renderCreated())};
c.prototype._attachToNode=function(a){a.appendChild(this)};b.__decorate([h.aliasOf("viewModel.creator")],c.prototype,"creator",void 0);b.__decorate([h.aliasOf("viewModel.graphic")],c.prototype,"graphic",void 0);b.__decorate([n.renderable(["viewModel.created","viewModel.state"]),h.property({type:f})],c.prototype,"viewModel",void 0);return c=b.__decorate([h.subclass("esri.widgets.Feature.FeatureContent")],c)}(k)})},"esri/widgets/Feature/FeatureContent/FeatureContentViewModel":function(){define("require exports tslib ../../../Graphic ../../../core/Accessor ../../../core/HandleOwner ../../../core/watchUtils ../../../core/accessorSupport/decorators ../support/featureUtils".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(b){var c=a.call(this,b)||this;c._loadingPromise=null;c.created=null;c.creator=null;c.destroyer=null;c.graphic=null;c.handles.add(f.init(c,"creator",function(a){c._destroyContent();c._createContent(a)}));return c}b.__extends(c,a);c.prototype.destroy=function(){this._destroyContent()};Object.defineProperty(c.prototype,"state",{get:function(){return this._loadingPromise?"loading":"ready"},enumerable:!1,configurable:!0});c.prototype._destroyContent=
function(){var a=this.graphic,b=this.destroyer;this.created&&(n.graphicCallback(b,{graphic:a}).catch(function(){return null}),this._set("created",null))};c.prototype._createContent=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,e;return b.__generator(this,function(b){switch(b.label){case 0:return c=this.graphic,this._loadingPromise=d=n.graphicCallback(a,{graphic:c}).catch(function(){return null}),this.notifyChange("state"),[4,d];case 1:e=b.sent();if(d!==this._loadingPromise)return[2];
this._loadingPromise=null;this.notifyChange("state");this._set("created",e);return[2]}})})};b.__decorate([e.property({readOnly:!0})],c.prototype,"created",void 0);b.__decorate([e.property()],c.prototype,"creator",void 0);b.__decorate([e.property()],c.prototype,"destroyer",void 0);b.__decorate([e.property({type:l})],c.prototype,"graphic",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"state",null);return c=b.__decorate([e.subclass("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],
c)}(k.HandleOwnerMixin(h))})},"esri/widgets/Feature/FeatureFields":function(){define("require exports tslib ../../core/accessorSupport/decorators ../Widget ./FeatureFields/FeatureFieldsViewModel ../support/uriUtils ../support/widget".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(b,c){b=a.call(this,b,c)||this;b.attributes=null;b.expressionInfos=null;b.fieldInfos=null;b.viewModel=new k;b.messages=null;b.messagesURIUtils=null;return b}b.__extends(c,a);c.prototype.renderFieldInfo=
function(a,b){var c,d=this.viewModel.attributes,g=a.fieldName,h=a.label||g,d=d?null==d[g]?"":d[g]:"";a=!(!a.format||!a.format.dateFormat);d="number"!==typeof d||a?f.autoLink(this.messagesURIUtils,d):this._forceLTR(d);a=(c={},c["esri-feature-fields__field-data--date"]=a,c);return e.tsx("tr",{key:"fields-element-info-row-"+g+"-"+b},e.tsx("th",{key:"fields-element-info-row-header-"+g+"-"+b,class:"esri-feature-fields__field-header",innerHTML:h}),e.tsx("td",{key:"fields-element-info-row-data-"+g+"-"+b,
class:this.classes("esri-feature-fields__field-data",a),innerHTML:d}))};c.prototype.renderFields=function(){var a=this,b=this.viewModel.formattedFieldInfos;return b.length?e.tsx("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},e.tsx("tbody",null,b.map(function(b,c){return a.renderFieldInfo(b,c)}))):null};c.prototype.render=function(){return e.tsx("div",{class:"esri-feature-fields"},this.renderFields())};c.prototype._forceLTR=function(a){return"\x26lrm;"+a};b.__decorate([l.aliasOf("viewModel.attributes")],
c.prototype,"attributes",void 0);b.__decorate([l.aliasOf("viewModel.expressionInfos")],c.prototype,"expressionInfos",void 0);b.__decorate([l.aliasOf("viewModel.fieldInfos")],c.prototype,"fieldInfos",void 0);b.__decorate([l.property({type:k}),e.renderable(["viewModel.attributes","viewModel.formattedFieldInfos"])],c.prototype,"viewModel",void 0);b.__decorate([l.property(),e.renderable(),e.messageBundle("esri/widgets/Feature/t9n/Feature")],c.prototype,"messages",void 0);b.__decorate([l.property(),e.renderable(),
e.messageBundle("esri/widgets/support/t9n/uriUtils")],c.prototype,"messagesURIUtils",void 0);return c=b.__decorate([l.subclass("esri.widgets.Feature.FeatureFields")],c)}(h)})},"esri/widgets/Feature/FeatureFields/FeatureFieldsViewModel":function(){define("require exports tslib ../../../core/Accessor ../../../core/accessorSupport/decorators ../../../popup/ExpressionInfo ../../../popup/FieldInfo ../support/featureUtils".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(b){b=a.call(this,
b)||this;b.attributes=null;b.expressionInfos=null;b.fieldInfos=null;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"formattedFieldInfos",{get:function(){var a=this.expressionInfos,b=this.fieldInfos,c=[];null===b||void 0===b?void 0:b.forEach(function(b){if(!b.hasOwnProperty("visible")||b.visible)b=b.clone(),b.label=e.getFieldInfoLabel(b,a),c.push(b)});return c},enumerable:!1,configurable:!0});b.__decorate([h.property()],c.prototype,"attributes",void 0);b.__decorate([h.property({type:[k]})],
c.prototype,"expressionInfos",void 0);b.__decorate([h.property({type:[f]})],c.prototype,"fieldInfos",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["expressionInfos","fieldInfos"]})],c.prototype,"formattedFieldInfos",null);return c=b.__decorate([h.subclass("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],c)}(l)})},"esri/widgets/support/uriUtils":function(){define(["require","exports","../../core/string"],function(c,a,b){function l(a){var b=null;h.some(function(c){c.pattern.test(a)&&
(b=c);return!!b});return b}Object.defineProperty(a,"__esModule",{value:!0});a.autoLink=void 0;var h=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},
{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},
{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];a.autoLink=function(a,c){if("string"!==typeof c||!c)return c;var e=l(c);if(!e)return c;var f=c.match(e.pattern);a=b.replace(b.replace(e.label,
{messages:a,hierPart:f&&f[2]}),{appName:e.appName});return c.replace(e.pattern,"\x3ca"+(e.target?' target\x3d"'+e.target+'"':"")+' href\x3d"$1"'+("_blank"===e.target?' rel\x3d"noreferrer"':"")+"\x3e"+a+"\x3c/a\x3e")}})},"esri/widgets/Feature/FeatureMedia":function(){define("require exports tslib ../../core/events ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ./FeatureMedia/FeatureMediaViewModel ./support/featureUtils ../support/chartUtils ../support/widget ../support/widgetUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){return function(a){function c(b,c){b=a.call(this,b,c)||this;b._refreshTimer=null;b._refreshIntervalInfo=null;b.attributes=null;b.activeMediaInfoIndex=null;b.fieldInfoMap=null;b.layer=null;b.mediaInfos=null;b.popupTemplate=null;b.relatedInfos=null;b.viewModel=new e;b.messages=null;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.own(h.init(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],function(){return a._setupMediaRefreshTimer()}))};
c.prototype.destroy=function(){this._clearMediaRefreshTimer()};c.prototype.render=function(){return d.tsx("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},this.renderMedia())};c.prototype.renderMedia=function(){return this.viewModel.formattedMediaInfoCount?d.tsx("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null};c.prototype.renderImageMediaInfo=
function(a){var b=this._refreshIntervalInfo,c=this.viewModel,e=c.activeMediaInfoIndex,f=c.formattedMediaInfoCount,g=a.value,h=a.refreshInterval,k=a.altText,c=a.title;a=a.type;var m=g.sourceURL,g=g.linkURL,l=n.shouldOpenInNewTab(g)?"_blank":"_self",p="_blank"===l?"noreferrer":"",b=h?b:null,e=d.tsx("img",{alt:k||c,key:"media-"+a+"-"+e+"-"+f+"-"+(b?b.timestamp:0),src:b?b.sourceURL:m});return(c=g?d.tsx("a",{title:c,href:g,rel:p,target:l},e):null)?c:e};c.prototype.renderChartMediaInfo=function(a){var b=
this.viewModel;return d.tsx("div",{key:"media-"+a.type+"-"+b.activeMediaInfoIndex+"-"+b.formattedMediaInfoCount,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})};c.prototype.renderMediaInfoType=function(){var a=this.viewModel.activeMediaInfo;return a?"image"===a.type?this.renderImageMediaInfo(a):-1!==a.type.indexOf("chart")?this.renderChartMediaInfo(a):null:null};c.prototype.renderMediaInfo=function(){var a=this.viewModel.activeMediaInfo,b=a.title?d.tsx("div",{key:"media-title",
class:"esri-feature-media__item-title",innerHTML:a.title}):null,a=a.caption?d.tsx("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:a.caption}):null;return d.tsx("div",{key:"media-container",class:"esri-feature-media__item-container"},b,a,d.tsx("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()))};c.prototype.renderMediaPageButton=function(a){if(2>this.viewModel.formattedMediaInfoCount)return null;var b=(a="previous"===a)?this.messages.previous:
this.messages.next,c=a?this.classes("esri-feature-media__button","esri-feature-media__previous"):this.classes("esri-feature-media__button","esri-feature-media__next"),e=a?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes("esri-feature-media__icon","esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),f=a?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):
this.classes("esri-feature-media__icon","esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow"),g=a?this._previous:this._next;return d.tsx("button",{type:"button",key:a?"media-previous":"media-next",title:b,"aria-label":b,tabIndex:0,class:c,bind:this,onkeydown:g,onclick:g},d.tsx("span",{"aria-hidden":"true",class:e}),d.tsx("span",{"aria-hidden":"true",class:f}))};c.prototype._next=function(){this.viewModel.next()};c.prototype._previous=function(){this.viewModel.previous()};c.prototype._getChartDependencies=
function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d;return b.__generator(this,function(b){switch(b.label){case 0:return[4,g.loadChartsModule()];case 1:return c=b.sent(),d=this.viewModel.activeMediaInfo,this._renderChart({chartDiv:a,mediaInfo:d,chartsModule:c}),[2]}})})};c.prototype._handleMediaKeyup=function(a){var b=l.eventKey(a);"ArrowLeft"===b&&(a.stopPropagation(),this.viewModel.previous());"ArrowRight"===b&&(a.stopPropagation(),this.viewModel.next())};c.prototype._renderChart=
function(a){var b=a.chartsModule,c=a.chartDiv,d=a.mediaInfo,e=d.value,f=d.type,h=b.am4core,k=g.getColorSet(h);h.useTheme(b.am4themes_animated);h.useTheme(function(a){a instanceof h.ColorSet&&k&&(a.list=k)});a="pie-chart"===f?this._createPieChart(a):this._createXYChart(a);c.setAttribute("aria-label",d.altText||d.title);a.data=e.series.map(function(a){return{tooltip:a.tooltip,value:a.value}}).filter(function(a){return"pie-chart"===f?0<a.value:!0})};c.prototype._customizeChartTooltip=function(a,b){a.label.wrap=
!0;a.label.maxWidth=200;a.autoTextColor=!1;a.getFillFromObject=!1;a.label.fill=b.color("#ffffff");a.background.fill=b.color({r:0,g:0,b:0,a:.7})};c.prototype._createPieChart=function(a){var b=a.chartsModule,c=b.am4core,b=b.am4charts;a=c.create(a.chartDiv,b.PieChart);a.rtl=m.isRTL();b=a.series.push(new b.PieSeries);b.labels.template.disabled=!0;b.ticks.template.disabled=!0;b.dataFields.value="value";b.dataFields.category="tooltip";this._customizeChartTooltip(b.tooltip,c);return a};c.prototype._getMinSeriesValue=
function(a){var b=0;a.forEach(function(a){return b=Math.min(a.value,b)});return b};c.prototype._createColumnChart=function(a,b){var c=b.chartsModule;b=b.mediaInfo.value;var d=c.am4core,c=c.am4charts,e=a.xAxes.push(new c.CategoryAxis);e.dataFields.category="tooltip";e.renderer.labels.template.disabled=!0;this._customizeChartTooltip(e.tooltip,d);e.tooltip.events.on("sizechanged",function(){e.tooltip.dy=-e.tooltip.contentHeight});var f=a.yAxes.push(new c.ValueAxis),g=f.renderer.labels.template;f.renderer.minLabelPosition=
.05;f.renderer.maxLabelPosition=.95;f.min=this._getMinSeriesValue(b.series);this._customizeChartTooltip(f.tooltip,d);g.wrap=!0;f=a.series.push(new c.ColumnSeries);f.dataFields.valueY="value";f.dataFields.categoryX="tooltip";a.cursor=new c.XYCursor;15<b.series.length&&(a.scrollbarX=new d.Scrollbar)};c.prototype._createBarChart=function(a,b){var c=b.chartsModule;b=b.mediaInfo.value;var d=c.am4core,c=c.am4charts,e=a.yAxes.push(new c.CategoryAxis);e.dataFields.category="tooltip";e.renderer.inversed=!0;
e.renderer.labels.template.disabled=!0;this._customizeChartTooltip(e.tooltip,d);e.tooltip.events.on("sizechanged",function(){e.tooltip.dx=e.tooltip.contentWidth});var f=a.xAxes.push(new c.ValueAxis),g=f.renderer.labels.template;f.renderer.minLabelPosition=.05;f.renderer.maxLabelPosition=.95;f.min=this._getMinSeriesValue(b.series);this._customizeChartTooltip(f.tooltip,d);g.wrap=!0;f=a.series.push(new c.ColumnSeries);f.dataFields.valueX="value";f.dataFields.categoryY="tooltip";a.cursor=new c.XYCursor;
15<b.series.length&&(a.scrollbarY=new d.Scrollbar)};c.prototype._createLineChart=function(a,b){var c=b.chartsModule;b=b.mediaInfo.value;var d=c.am4core,c=c.am4charts,e=a.xAxes.push(new c.CategoryAxis);e.dataFields.category="tooltip";e.renderer.labels.template.disabled=!0;this._customizeChartTooltip(e.tooltip,d);e.tooltip.events.on("sizechanged",function(){e.tooltip.dy=-e.tooltip.contentHeight});var f=a.yAxes.push(new c.ValueAxis),g=f.renderer.labels.template;f.renderer.minLabelPosition=.05;f.renderer.maxLabelPosition=
.95;f.min=this._getMinSeriesValue(b.series);this._customizeChartTooltip(f.tooltip,d);g.wrap=!0;f=a.series.push(new c.LineSeries);f.dataFields.categoryX="tooltip";f.dataFields.valueY="value";a.cursor=new c.XYCursor;15<b.series.length&&(a.scrollbarX=new d.Scrollbar)};c.prototype._createXYChart=function(a){var b=a.chartsModule,c=a.mediaInfo.type,b=b.am4core.create(a.chartDiv,b.am4charts.XYChart);b.rtl=m.isRTL();"column-chart"===c&&this._createColumnChart(b,a);"bar-chart"===c&&this._createBarChart(b,
a);"line-chart"===c&&this._createLineChart(b,a);return b};c.prototype._clearMediaRefreshTimer=function(){var a=this._refreshTimer;a&&(clearTimeout(a),this._refreshTimer=null)};c.prototype._updateMediaInfoTimestamp=function(a){var b=Date.now();this._refreshIntervalInfo={timestamp:b,sourceURL:this._getImageSource(a,b)};this.scheduleRender()};c.prototype._setupMediaRefreshTimer=function(){this._clearMediaRefreshTimer();var a=this.viewModel.activeMediaInfo;a&&"image"===a.type&&a.refreshInterval&&this._setRefreshTimeout(a)};
c.prototype._setRefreshTimeout=function(a){var b=this,c=a.refreshInterval,d=a.value;c&&(a=6E4*c,this._updateMediaInfoTimestamp(d.sourceURL),this._refreshTimer=setInterval(function(){b._updateMediaInfoTimestamp(d.sourceURL)},a))};c.prototype._getImageSource=function(a,b){var c=-1!==a.indexOf("?")?"\x26":"?";a=a.split("#");var d=a[1],d=void 0===d?"":d;return""+a[0]+c+"timestamp\x3d"+b+(d?"#":"")+d};b.__decorate([k.aliasOf("viewModel.attributes")],c.prototype,"attributes",void 0);b.__decorate([k.aliasOf("viewModel.activeMediaInfoIndex")],
c.prototype,"activeMediaInfoIndex",void 0);b.__decorate([k.aliasOf("viewModel.fieldInfoMap")],c.prototype,"fieldInfoMap",void 0);b.__decorate([k.aliasOf("viewModel.layer")],c.prototype,"layer",void 0);b.__decorate([k.aliasOf("viewModel.mediaInfos")],c.prototype,"mediaInfos",void 0);b.__decorate([k.aliasOf("viewModel.popupTemplate")],c.prototype,"popupTemplate",void 0);b.__decorate([k.aliasOf("viewModel.relatedInfos")],c.prototype,"relatedInfos",void 0);b.__decorate([k.property({type:e}),d.renderable(["viewModel.formattedMediaInfos",
"viewModel.activeMediaInfoIndex","viewModel.activeMediaInfo"])],c.prototype,"viewModel",void 0);b.__decorate([k.property(),d.renderable(),d.messageBundle("esri/widgets/Feature/t9n/Feature")],c.prototype,"messages",void 0);return c=b.__decorate([k.subclass("esri.widgets.Feature.FeatureMedia")],c)}(f)})},"esri/widgets/Feature/FeatureMedia/FeatureMediaViewModel":function(){define("require exports tslib ../../../core/Accessor ../../../core/accessorSupport/decorators ../../../popup/FieldInfo ../../../popup/content/support/ChartMediaInfoValueSeries ../support/featureUtils ../support/relatedFeatureUtils".split(" "),
function(c,a,b,l,h,k,f,e,n){return function(a){function c(b){b=a.call(this,b)||this;b.activeMediaInfoIndex=0;b.attributes=null;b.fieldInfoMap=null;b.formattedAttributes=null;b.layer=null;b.mediaInfos=null;b.popupTemplate=null;b.relatedInfos=null;return b}b.__extends(c,a);Object.defineProperty(c.prototype,"activeMediaInfo",{get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"formattedMediaInfos",{get:function(){return this._formatMediaInfos()||
[]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"formattedMediaInfoCount",{get:function(){return this.formattedMediaInfos.length},enumerable:!1,configurable:!0});c.prototype.setActiveMedia=function(a){this._setContentElementMedia(a)};c.prototype.next=function(){this._pageContentElementMedia(1)};c.prototype.previous=function(){this._pageContentElementMedia(-1)};c.prototype._setContentElementMedia=function(a){var b=this.formattedMediaInfoCount;this.activeMediaInfoIndex=(a+b)%b};
c.prototype._pageContentElementMedia=function(a){this._setContentElementMedia(this.activeMediaInfoIndex+a)};c.prototype._formatMediaInfos=function(){var a=this,c=this.attributes,d=this.mediaInfos,f=this.formattedAttributes,g=this.fieldInfoMap,h=this.layer,k=b.__assign(b.__assign({},f),c);return null===d||void 0===d?void 0:d.map(function(b){if(!b)return null;var d=b.title?e.processFieldsInLinks(b.title,k,h):"";b.title=d?e.substituteAttributes({formattedAttributes:f,template:d,fieldInfoMap:g}):"";d=
b.caption?e.processFieldsInLinks(b.caption,k,h):"";b.caption=d?e.substituteAttributes({formattedAttributes:f,template:d,fieldInfoMap:g}):"";d=b.altText?e.processFieldsInLinks(b.altText,k,h):"";b.altText=d?e.substituteAttributes({formattedAttributes:f,template:d,fieldInfoMap:g}):"";return"image"===b.type?(d=b.value,a._setImageValue({value:d,formattedAttributes:f,layer:h}),b.value.sourceURL?b:void 0):"pie-chart"===b.type||"line-chart"===b.type||"column-chart"===b.type||"bar-chart"===b.type?(d=b.value,
a._setChartValue({value:d,chartType:b.type,attributes:c,formattedAttributes:f,layer:h}),b):null}).filter(Boolean)};c.prototype._setImageValue=function(a){var b=this.fieldInfoMap,c=a.value,d=a.formattedAttributes;a=a.layer;var f=c.linkURL,g=c.sourceURL;g&&(g=e.fixTokens(g,a),c.sourceURL=e.substituteAttributes({formattedAttributes:d,template:g,fieldInfoMap:b}));f&&(a=e.fixTokens(f,a),c.linkURL=e.substituteAttributes({formattedAttributes:d,template:a,fieldInfoMap:b}))};c.prototype._setChartValue=function(a){var c=
this,d=a.value,f=a.attributes,g=a.formattedAttributes,h=a.chartType;a=a.layer;var k=this.popupTemplate,m=this.relatedInfos,l=d.fields,n=d.normalizeField;d.fields=e.getFixedFieldNames(l,a);n&&(d.normalizeField=e.getFixedFieldName(n,a));if(l.some(function(a){return!!(null!=g[a]||e.isRelatedField(a)&&m.size)})){var z=null===k||void 0===k?void 0:k.fieldInfos;l.forEach(function(a){e.isRelatedField(a)?d.series=b.__spreadArrays(d.series,c._getRelatedChartInfos({fieldInfos:z,fieldName:a,formattedAttributes:g,
chartType:h,value:d})):(a=c._getChartOption({value:d,attributes:f,chartType:h,formattedAttributes:g,fieldName:a,fieldInfos:z}),d.series.push(a))})}};c.prototype._getRelatedChartInfos=function(a){var b=this,c,d=a.fieldInfos,e=a.fieldName,f=a.formattedAttributes,g=a.chartType,h=a.value,k=[];a=n.getRelatedFieldInfo(e);var l=a.layerId,m=a.fieldName;a=null===(c=this.relatedInfos)||void 0===c?void 0:c.get(l.toString());if(!a)return k;c=a.relatedFeatures;a=a.relation;if(!a||!c)return k;a=a.cardinality;c.forEach(function(a){var c=
a.attributes;c&&Object.keys(c).forEach(function(a){a===m&&k.push(b._getChartOption({value:h,attributes:c,formattedAttributes:f,fieldName:e,chartType:g,relatedFieldName:a,fieldInfos:d}))})});return"one-to-many"===a||"many-to-many"===a?k:[k[0]]};c.prototype._getTooltip=function(a){var b=a.label;return"pie-chart"===a.chartType?b:b+": "+a.value};c.prototype._getChartOption=function(a){var b,c=a.value,d=a.attributes,g=a.formattedAttributes,h=a.fieldName,l=a.relatedFieldName,m=a.fieldInfos;a=a.chartType;
var x=this.layer,y=c.normalizeField,z=c.tooltipField,y=y?e.isRelatedField(y)?d[n.getRelatedFieldInfo(y).fieldName]:d[y]:null,c=l&&void 0!==d[l]?d[l]:void 0!==d[h]?d[h]:g[h],B=void 0===c?null:c&&y?c/y:c,c=new f({value:B});if(e.isRelatedField(h))return b=n.getRelatedFieldInfo(h),g=(g=n.getRelatedFieldInfo(z))?g.fieldName:null,m=e.formatValueToFieldInfo(B,{fieldInfos:m,fieldName:l,layer:x,preventPlacesFormatting:!!y}),l=b?b.label||b.fieldName:l,c.tooltip=this._getTooltip({label:g&&void 0!==d[g]?d[g]:
l,value:m,chartType:a}),c;d=e.getFieldInfo(m,h);l=e.getFixedFieldName(h,x);d=z&&void 0!==g[z]?g[z]:e.getFieldInfoLabel(d||new k({fieldName:l}),null===(b=this.popupTemplate)||void 0===b?void 0:b.expressionInfos);c.tooltip=this._getTooltip({label:d,value:g[l],chartType:a});return c};b.__decorate([h.property()],c.prototype,"activeMediaInfoIndex",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["formattedMediaInfos","activeMediaInfoIndex"]})],c.prototype,"activeMediaInfo",null);b.__decorate([h.property()],
c.prototype,"attributes",void 0);b.__decorate([h.property()],c.prototype,"fieldInfoMap",void 0);b.__decorate([h.property()],c.prototype,"formattedAttributes",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:"attributes fieldInfoMap formattedAttributes mediaInfos popupTemplate layer relatedInfos".split(" ")})],c.prototype,"formattedMediaInfos",null);b.__decorate([h.property()],c.prototype,"layer",void 0);b.__decorate([h.property({readOnly:!0,dependsOn:["formattedMediaInfos"]})],c.prototype,
"formattedMediaInfoCount",null);b.__decorate([h.property()],c.prototype,"mediaInfos",void 0);b.__decorate([h.property()],c.prototype,"popupTemplate",void 0);b.__decorate([h.property()],c.prototype,"relatedInfos",void 0);return c=b.__decorate([h.subclass("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],c)}(l)})},"esri/widgets/Feature/support/relatedFeatureUtils":function(){define("require exports tslib ../../../request ../../../core/Error ../../../core/Logger ../../../core/promiseUtils ../../../tasks/QueryTask ../../../tasks/support/Query ../../../tasks/support/StatisticDefinition ./featureUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d){function m(a,b){if(!b.relationships)return null;var c=null;b.relationships.some(function(b){return b.id===parseInt(a,10)?(c=b,!0):!1});return c}function q(a,b){var c;a&&a.relationships&&a.relationships.some(function(a){return""+a.relatedTableId===b?(c=a,!0):!1});return c}function r(a,b){var c=void 0;a.fields.some(function(a){return a.name===b.keyField?(c=-1!==["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(a.type)?
"number":"string",!0):!1});return c}function p(a,c,d,e){return b.__awaiter(this,void 0,void 0,function(){var g,h,k,l,m,p,t,u,v,w,x,y,N;return b.__generator(this,function(b){g=d.layerId.toString();h=c.layerInfo;k=c.queryTask;l=c.relation;return(m=q(h,g))?(p=l.keyField,t=m.keyField,u=r(h,m),v="string"===u?t+"\x3d'"+a.attributes[p]+"'":t+"\x3d"+a.attributes[p],w=k.execute(new n({where:v,outFields:c.relatedFields}),e),y=(x=c.outStatistics&&0<c.outStatistics.length&&h.supportsStatistics)?k.execute(new n({where:v,
outFields:c.relatedFields,outStatistics:c.outStatistics}),e):null,N={features:w},y&&(N.statsFeatures=y),[2,f.eachAlways(N)]):[2,null]})})}Object.defineProperty(a,"__esModule",{value:!0});a.updateRelatedInfo=a.queryRelatedFeatures=a.queryLayerInfos=a.setRelatedFeatures=a.createRelatedInfo=a.getRelatedFieldInfo=void 0;var t=k.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),w=new Map;a.getRelatedFieldInfo=function(a){if(!d.isRelatedField(a))return null;a=a.split("/").slice(1);return{layerId:a[0],
fieldName:a[1]}};a.createRelatedInfo=function(a,b){if(a=m(a,b)){var c=b.url+"/"+a.relatedTableId;b=new e({url:c,sourceSpatialReference:b.spatialReference});return{url:c,queryTask:b,relation:a,relatedFields:[],outStatistics:[]}}};a.setRelatedFeatures=function(a,b){if(b&&a){var c=a.features;a=a.statsFeatures;c=c&&c.value;b.relatedFeatures=c?c.features:[];c=a&&a.value;b.relatedStatsFeatures=c?c.features:[]}};a.queryLayerInfos=function(a,b){var c=a.layer,d={};a.relatedInfos.forEach(function(a,e){a=a.relation;
if(!a)throw e=new h("relation-required","A relation is required on a layer to retrieve related records."),t.error(e),e;a=a.relatedTableId;if("number"!==typeof a)throw e=new h("A related table ID is required on a layer to retrieve related records."),t.error(e),e;a=c.url+"/"+a;var f=w.get(a),g=f?f:l(a,{query:{f:"json"},signal:b&&b.signal});f||w.set(a,g);d[e]=g});return f.eachAlways(d)};a.queryRelatedFeatures=function(a,b){var c=a.graphic,d=a.layer,e={};a.relatedInfos.forEach(function(a,f){a.layerInfo&&
(e[f]=p(c,a,d,b))});return f.eachAlways(e)};a.updateRelatedInfo=function(a){var b=a.relatedInfo,c=a.fieldName;a=a.fieldInfo;b.relatedFields.push(c);a.statisticType&&(c=new g({statisticType:a.statisticType,onStatisticField:c,outStatisticFieldName:c}),b.outStatistics.push(c))}})},"esri/widgets/support/chartUtils":function(){define("require exports tslib ../../intl ../../core/arrayUtils ../../core/has ../../core/MapUtils ../../core/promiseUtils ../../core/string ./chartColors @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g){function d(a){if(!a)return"en-us";if(m.has(a.toLowerCase()))return a.toLowerCase();a=a.split("-")[0].toLowerCase();for(var b=null,c=0,d=f.keysOfMap(m);c<d.length;c++){var e=d[c];if(n.startsWith(e,a)){b=e;break}}return b||"en-us"}Object.defineProperty(a,"__esModule",{value:!0});a.getColorSet=a.loadChartsModule=a.getChartLocale=void 0;var m=f.MapFromValues([["ar",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ar"],a,b)})}],["bs-ba",function(){return new Promise(function(a,
b){c(["../../libs/amcharts4/lang/bs_BA"],a,b)})}],["ca-es",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ca_ES"],a,b)})}],["cs-cz",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/cs_CZ"],a,b)})}],["da-dk",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/da_DK"],a,b)})}],["de-de",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/de_DE"],a,b)})}],["de-ch",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/de_CH"],
a,b)})}],["el-gr",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/el_GR"],a,b)})}],["en-us",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/en_US"],a,b)})}],["en-ca",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/en_CA"],a,b)})}],["es-es",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/es_ES"],a,b)})}],["et-ee",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/et_EE"],a,
b)})}],["fi-fi",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/fi_FI"],a,b)})}],["fr-fr",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/fr_FR"],a,b)})}],["he-il",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/he_IL"],a,b)})}],["hr-hr",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/hr_HR"],a,b)})}],["hu-hu",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/hu_HU"],a,b)})}],
["id-id",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/id_ID"],a,b)})}],["it-it",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/it_IT"],a,b)})}],["ja-jp",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ja_JP"],a,b)})}],["ko-kr",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ko_KR"],a,b)})}],["lt-lt",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/lt_LT"],a,b)})}],["lv-lv",
function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/lv_LV"],a,b)})}],["nb-no",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/nb_NO"],a,b)})}],["nl-nl",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/nl_NL"],a,b)})}],["pl-pl",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/pl_PL"],a,b)})}],["pt-br",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/pt_BR"],a,b)})}],["pt-pt",function(){return new Promise(function(a,
b){c(["../../libs/amcharts4/lang/pt_PT"],a,b)})}],["ro-ro",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ro_RO"],a,b)})}],["ru-ru",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/ru_RU"],a,b)})}],["sl-sl",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/sl_SL"],a,b)})}],["sr-rs",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/sr_RS"],a,b)})}],["sv-se",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/sv_SE"],
a,b)})}],["th-th",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/th_TH"],a,b)})}],["tr-tr",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/tr_TR"],a,b)})}],["uk-ua",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/uk_UA"],a,b)})}],["vi-vn",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/vi_VN"],a,b)})}],["zh-cn",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/zh_Hans"],
a,b)})}],["zh-hk",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/zh_Hant"],a,b)})}],["zh-tw",function(){return new Promise(function(a,b){c(["../../libs/amcharts4/lang/zh_Hant"],a,b)})}]]);a.getChartLocale=d;var q,r;a.loadChartsModule=function(a){void 0===a&&(a=l.getLocale());return b.__awaiter(this,void 0,void 0,function(){var f,g,h,k;return b.__generator(this,function(b){switch(b.label){case 0:a=d(a);if(q&&a===r)return[2,q];q=new Promise(function(a,b){c(["../../libs/amcharts4/index"],
a,b)});r=a;b.label=1;case 1:return b.trys.push([1,5,,6]),[4,e.all([q,m.get(r)()])];case 2:return f=b.sent(),g=f[0],h=f[1],r===a&&(g.am4core.options.defaultLocale=h.default),g.am4core.options.suppressWarnings=!0,g.am4core.options.autoDispose=!0,"function"===typeof Object.assign?[3,4]:[4,new Promise(function(a,b){c(["@dojo/framework/shim/object"],a,b)})];case 3:k=b.sent(),Object.defineProperty(Object,"assign",{value:k.assign,writable:!0,configurable:!0}),b.label=4;case 4:return[3,6];case 5:return b.sent(),
r=q=null,[2,null];case 6:return[2,q]}})})};a.getColorSet=function(a,b){void 0===b&&(b="default");var c=h.find(g.EsriColorSets,function(a){return a.name===b});return c?c.colors.map(function(b){return a.color(b)}):null}})},"esri/widgets/support/chartColors":function(){define(["require","exports","tslib"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EsriColorSets=a.OtherColor=a.ResetColor=a.ColorPalette=void 0;a.ColorPalette="#ffffff #858585 #ffbebe #ffebbe #ffebaf #ffffbe #e9ffbe #d3ffbe #beffe8 #bee8ff #bed2ff #e8beff #ffbee8 #ebebeb #707070 #ff7f7f #ffa77f #ffd37f #ffff73 #d1ff73 #a3ff73 #73ffdf #73dfff #73b2ff #df73ff #ff73df #d6d6d6 #5c5c5c #ff0000 #ff5500 #ffaa00 #ffff00 #aaff00 #55ff00 #00ffc5 #00c5ff #0070ff #c500ff #ff00c5 #c2c2c2 #474747 #e60000 #e64c00 #e69800 #e6e600 #98e600 #4ce600 #00e6a9 #00a9e6 #005ce6 #a900e6 #e600a9 #adadad #242424 #a80000 #a83800 #a87000 #a8a800 #70a800 #38a800 #00a884 #0084a8 #004da8 #8400a8 #a80084 #999999 #1a1a1a #730000 #732600 #734c00 #737300 #4c7300 #267300 #00734c #004c73 #002673 #4c0073 #73004c".split(" ");
c=b.__spreadArrays(a.ColorPalette.slice(30,39),a.ColorPalette.slice(28,30).reverse());a.ResetColor="";a.OtherColor=a.ColorPalette[26];a.EsriColorSets=[{name:"default",colors:c},{name:"cat-dark",colors:"#ed5151 #149ece #a7c636 #9e559c #fc921f #ffde3e #f789d8 #b7814a #3caf99 #6b6bd6 #b54779 #7f7f7f".split(" ")},{name:"tropical-bliss",colors:"#fce138 #ff9399 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #6af689 #48885c".split(" ")},{name:"desert-blooms",colors:"#102432 #144d59 #ffc730 #ed9310 #a64f1b #661510 #d9351a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" ")},
{name:"under-the-sea",colors:"#bf9727 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" ")},{name:"vibrant-rainbow",colors:"#fffb00 #f5cb11 #9fd40c #46e39c #32b8a6 #7ff2fa #ad00f2 #c461eb #eb7200 #e8a784 #bf2e2e #6c7000".split(" ")},{name:"ocean-bay",colors:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #9be0c0 #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" ")},{name:"prairie-summer",colors:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #eada40 #ccc54a #1fc235".split(" ")},
{name:"pastel-chalk",colors:"#fffd99 #f5e6a4 #c1d48c #b8e3d0 #a0b8b5 #cbf7fa #d791f2 #dfc1eb #f2b983 #e8c4b2 #bf8e8e #94995c".split(" ")},{name:"seq-yellow-orange-red-bright",colors:"#910000 #b1260b #c0370f #e05919 #ef6a1d #ff7b22 #ffa143 #ffb454 #ffda74 #ffed85".split(" ")},{name:"seq-reds-bright",colors:"#57453b #7b4238 #9f4036 #c23d33 #d7483c #ec5244 #f3696c #f9816c #ffc4ae #fff0dc".split(" ")},{name:"seq-purples-bright",colors:"#4e465c #5a4a78 #695291 #775baa #8663c3 #946bdc #aa89e8 #c1a6f3 #d7c4ff #e6e1ff".split(" ")},
{name:"seq-blues-bright",colors:"#404d54 #435c6c #48799d #4b88b6 #4d96ce #50a5e7 #74bbed #98d0f3 #bce6f9 #e6faff".split(" ")},{name:"seq-greens-bright",colors:"#39544c #386757 #368165 #359b73 #33b581 #4bc392 #64d2a2 #7ce0b3 #cbf6d9 #f4ffea".split(" ")},{name:"seq-browns-bright",colors:"#524834 #715b38 #8f6e3c #ae8140 #cc9444 #eba748 #eeb664 #f0c47f #f9e0b7 #fff8eb".split(" ")}]})},"esri/widgets/Feature/FeatureViewModel":function(){define("require exports tslib ../../Graphic ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/promiseUtils ../../core/throttle ../../core/watchUtils ../../core/accessorSupport/decorators ../../popup/content/TextContent ../Attachments/AttachmentsViewModel ./FeatureContent/FeatureContentViewModel ./FeatureFields/FeatureFieldsViewModel ./FeatureMedia/FeatureMediaViewModel ./support/arcadeFeatureUtils ./support/featureUtils ./support/relatedFeatureUtils".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u){var x=f.getLogger("esri.widgets.FeatureViewModel");return function(a){function c(b){var c=a.call(this,b)||this;c._handles=new k;c._featureAbortController=null;c._graphicChangedThrottled=n.throttle(c._graphicChanged,1,c);c.content=null;c.contentViewModels=[];c.defaultPopupTemplateEnabled=!1;c.formattedAttributes=null;c.lastEditInfo=null;c.relatedInfos=new Map;c.title="";c.view=null;c._handles.add(g.init(c,["graphic","_effectivePopupTemplate"],function(){return c._graphicChangedThrottled()}));
return c}b.__extends(c,a);c.prototype.destroy=function(){this._clear();this._cancelFeatureQuery();this._handles.destroy();this.graphic=this._handles=null;this._destroyContentViewModels();this.relatedInfos.clear()};Object.defineProperty(c.prototype,"_effectivePopupTemplate",{get:function(){var a;return(null===(a=this.graphic)||void 0===a?void 0:a.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled))||null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"_fieldInfoMap",{get:function(){return v.createfieldInfoMap(v.getAllFieldInfos(this._effectivePopupTemplate),
this._sourceLayer)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"_sourceLayer",{get:function(){return v.getSourceLayer(this.graphic)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"graphic",{set:function(a){this._set("graphic",a?a.clone():null)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"spatialReference",{get:function(){return this.get("view.spatialReference")||null},set:function(a){void 0===a?this._clearOverride("spatialReference"):
this._override("spatialReference",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"map",{get:function(){return this.get("view.map")||null},set:function(a){void 0===a?this._clearOverride("map"):this._override("map",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"waitingForContent",{get:function(){return!!this._featureAbortController},enumerable:!1,configurable:!0});c.prototype.setActiveMedia=function(a,b){a=this.contentViewModels[a];a instanceof t&&a.setActiveMedia(b)};
c.prototype.nextMedia=function(a){a=this.contentViewModels[a];a instanceof t&&a.next()};c.prototype.previousMedia=function(a){a=this.contentViewModels[a];a instanceof t&&a.previous()};c.prototype._clear=function(){this._set("title","");this._set("content",null);this._set("formattedAttributes",null)};c.prototype._graphicChanged=function(){return b.__awaiter(this,void 0,void 0,function(){var a,c,d;return b.__generator(this,function(b){switch(b.label){case 0:this._cancelFeatureQuery();this._clear();
a=this.graphic;if(!a)return[2];this._featureAbortController=c=e.createAbortController();b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this._queryFeature({signal:c.signal})];case 2:return b.sent(),[3,4];case 3:return d=b.sent(),x.error("error","error loading popupTemplate for graphic",{error:d,graphic:a}),[3,4];case 4:return this._featureAbortController===c&&(this._featureAbortController=null),[2]}})})};c.prototype._cancelFeatureQuery=function(){var a=this._featureAbortController;a&&a.abort();this._featureAbortController=
null};c.prototype._compileContent=function(a){var b=this;this._destroyContentViewModels();if(this.graphic)return Array.isArray(a)?a.map(function(a,c){if("attachments"===a.type)return b._compileAttachments(a,c);if("custom"===a.type)return b._compileCustom(a,c);if("fields"===a.type)return b._compileFields(a,c);if("media"===a.type)return b._compileMedia(a,c);if("text"===a.type)return b._compileText(a,c)}):"string"===typeof a?this._compileText(new m({text:a}),0).text:a};c.prototype._destroyContentViewModels=
function(){this.contentViewModels.forEach(function(a){return a&&!a.destroyed&&a.destroy()});this._set("contentViewModels",[])};c.prototype._compileAttachments=function(a,b){this.contentViewModels[b]=new q({graphic:this.graphic});return a};c.prototype._compileCustom=function(a,b){this.contentViewModels[b]=new r({graphic:this.graphic,creator:a.creator,destroyer:a.destroyer});return a};c.prototype._compileFields=function(a,c){var d=this._effectivePopupTemplate,e=this.formattedAttributes,f=a.clone();
a=(null===a||void 0===a?void 0:a.fieldInfos)||(null===d||void 0===d?void 0:d.fieldInfos);d=null===d||void 0===d?void 0:d.expressionInfos;e=b.__assign(b.__assign({},e.global),e.content[c]);e=new p({attributes:e,expressionInfos:d,fieldInfos:a});this.contentViewModels[c]=e;f.fieldInfos=e.formattedFieldInfos.slice(0);return f};c.prototype._compileMedia=function(a,b){var c=this._fieldInfoMap,d=this._effectivePopupTemplate,e=this.relatedInfos,f=this._sourceLayer,g=this.graphic.attributes,h=this.formattedAttributes.global;
a=a.clone();c=new t({activeMediaInfoIndex:a.activeMediaInfoIndex||0,attributes:g,layer:f,fieldInfoMap:c,formattedAttributes:h,mediaInfos:a.mediaInfos,popupTemplate:d,relatedInfos:e});a.mediaInfos=c.formattedMediaInfos.slice(0);this.contentViewModels[b]=c;return a};c.prototype._compileText=function(a,c){a=a.clone();var d=this.graphic,e=this._fieldInfoMap,f=this._sourceLayer;if(a&&a.text){var g=d.attributes,h=this.formattedAttributes.global,f=v.processFieldsInLinks(a.text,b.__assign(b.__assign({},h),
g),f);a.text=v.substituteAttributes({formattedAttributes:h,template:f,fieldInfoMap:e})}this.contentViewModels[c]=new r({graphic:d,creator:a.text});return a};c.prototype._compileLastEditInfo=function(){var a=this._effectivePopupTemplate,b=this._sourceLayer;if(a&&(b=null===b||void 0===b?void 0:b.editFieldsInfo,a.lastEditInfoEnabled&&b))return v.formatEditInfo(b,this.graphic.attributes)};c.prototype._compileTitle=function(a){var c=this._fieldInfoMap,d=this._sourceLayer,e=this.graphic.attributes,f=this.formattedAttributes.global;
return a?(a=v.processFieldsInLinks(a,b.__assign(b.__assign({},f),e),d),v.substituteAttributes({formattedAttributes:f,template:a,fieldInfoMap:c})):""};c.prototype._getTitle=function(){return b.__awaiter(this,void 0,void 0,function(){var a,c,d,e;return b.__generator(this,function(b){a=this;c=a._effectivePopupTemplate;d=a.graphic;e=null===c||void 0===c?void 0:c.title;return[2,v.graphicCallback(e,{graphic:d})]})})};c.prototype._getContent=function(){return b.__awaiter(this,void 0,void 0,function(){var a,
c,d,e;return b.__generator(this,function(b){a=this;c=a._effectivePopupTemplate;d=a.graphic;e=null===c||void 0===c?void 0:c.content;return[2,v.graphicCallback(e,{graphic:d})]})})};c.prototype._queryFeature=function(a){return b.__awaiter(this,void 0,void 0,function(){var c,d,f,g,h,k,l,m,n,r,q;return b.__generator(this,function(b){switch(b.label){case 0:return c=this,d=c._featureAbortController,f=c._sourceLayer,g=c.graphic,h=c._effectivePopupTemplate,k=c.spatialReference,l=c.map,[4,e.eachAlways({content:this._getContent(),
title:this._getTitle()})];case 1:return m=b.sent(),n=m.content.value,r=m.title.value,d===this._featureAbortController&&g?[4,e.eachAlways({checkForRelatedFeatures:this._checkForRelatedFeatures(a),expressionAttributes:w.createFormattedExpressions({popupTemplate:this._effectivePopupTemplate,spatialReference:k,graphic:g,map:l}),queryRequiredFields:v.queryRequiredFields({graphic:g,popupTemplate:h,layer:f},a)})]:[2];case 2:q=b.sent().expressionAttributes.value;if(d!==this._featureAbortController||!g)return[2];
this._set("formattedAttributes",this._createFormattedAttributes(n,q));this._set("title",this._compileTitle(r));this._set("lastEditInfo",this._compileLastEditInfo()||null);this._set("content",this._compileContent(n)||null);return[2]}})})};c.prototype._createFormattedAttributes=function(a,c){var d=this._effectivePopupTemplate,e=this.graphic,f=this.relatedInfos,g=this._sourceLayer,h=this._fieldInfoMap,d=null===d||void 0===d?void 0:d.fieldInfos,k=b.__assign(b.__assign({},e.attributes),c),l={global:v.formatAttributes({fieldInfos:d,
graphic:e,attributes:k,layer:g,fieldInfoMap:h,relatedInfos:f}),content:[]};Array.isArray(a)&&a.forEach(function(a,b){"fields"===a.type&&a.fieldInfos&&(l.content[b]=v.formatAttributes({fieldInfos:a.fieldInfos,graphic:e,attributes:k,layer:g,fieldInfoMap:h,relatedInfos:f}))});return l};c.prototype._checkForRelatedFeatures=function(a){return this._queryRelatedInfos(this.graphic,v.getAllFieldInfos(this._effectivePopupTemplate),a)};c.prototype._queryRelatedInfos=function(a,c,d){return b.__awaiter(this,
void 0,void 0,function(){var e,f,g,h,k,l,m=this;return b.__generator(this,function(b){switch(b.label){case 0:e=this;f=e.relatedInfos;g=e._sourceLayer;f.clear();if(!g)return[2];h=c.filter(function(a){return a&&v.isRelatedField(a.fieldName)});if(!h||!h.length)return[2];c.forEach(function(a){return m._configureRelatedInfo(a,g)});return[4,u.queryLayerInfos({relatedInfos:f,layer:g},d)];case 1:return k=b.sent(),Object.keys(k).forEach(function(a){var b,c=f.get(a.toString());a=null===(b=k[a])||void 0===b?
void 0:b.value;c&&a&&(c.layerInfo=a.data)}),[4,u.queryRelatedFeatures({graphic:a,relatedInfos:f,layer:g},d)];case 2:return l=b.sent(),Object.keys(l).forEach(function(a){var b;u.setRelatedFeatures(null===(b=l[a])||void 0===b?void 0:b.value,f.get(a.toString()))}),[2]}})})};c.prototype._configureRelatedInfo=function(a,b){var c=this.relatedInfos,d=u.getRelatedFieldInfo(a.fieldName);if(d){var e=d.layerId,d=d.fieldName;e&&(b=c.get(e.toString())||u.createRelatedInfo(e,b))&&(u.updateRelatedInfo({relatedInfo:b,
fieldName:d,fieldInfo:a}),this.relatedInfos.set(e,b))}};b.__decorate([d.property()],c.prototype,"_featureAbortController",void 0);b.__decorate([d.property({readOnly:!0,dependsOn:"graphic graphic.sourceLayer.popupTemplate graphic.sourceLayer.popupTemplate.title graphic.sourceLayer.popupTemplate.content graphic.sourceLayer.popupTemplate.expressionInfos graphic.sourceLayer.popupTemplate.fieldInfos graphic.sourceLayer.popupTemplate.lastEditInfoEnabled graphic.sourceLayer.popupTemplate.outFields graphic.sourceLayer.popupTemplate.relatedRecordsInfo graphic.popupTemplate graphic.popupTemplate.title graphic.popupTemplate.content graphic.popupTemplate.expressionInfos graphic.popupTemplate.fieldInfos graphic.popupTemplate.lastEditInfoEnabled graphic.popupTemplate.outFields graphic.popupTemplate.relatedRecordsInfo defaultPopupTemplateEnabled".split(" ")})],
c.prototype,"_effectivePopupTemplate",null);b.__decorate([d.property({readOnly:!0,dependsOn:["_effectivePopupTemplate","_sourceLayer"]})],c.prototype,"_fieldInfoMap",null);b.__decorate([d.property({readOnly:!0,dependsOn:["graphic.layer","graphic.sourceLayer"]})],c.prototype,"_sourceLayer",null);b.__decorate([d.property({readOnly:!0})],c.prototype,"content",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"contentViewModels",void 0);b.__decorate([d.property({type:Boolean})],c.prototype,
"defaultPopupTemplateEnabled",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"formattedAttributes",void 0);b.__decorate([d.property({type:l,value:null})],c.prototype,"graphic",null);b.__decorate([d.property({readOnly:!0})],c.prototype,"lastEditInfo",void 0);b.__decorate([d.property()],c.prototype,"relatedInfos",void 0);b.__decorate([d.property({dependsOn:["view"]})],c.prototype,"spatialReference",null);b.__decorate([d.property({readOnly:!0})],c.prototype,"title",void 0);b.__decorate([d.property({dependsOn:["view"]})],
c.prototype,"map",null);b.__decorate([d.property({readOnly:!0,dependsOn:["_featureAbortController"]})],c.prototype,"waitingForContent",null);b.__decorate([d.property()],c.prototype,"view",void 0);return c=b.__decorate([d.subclass("esri.widgets.FeatureViewModel")],c)}(h)})},"esri/widgets/Feature/support/arcadeFeatureUtils":function(){define("require exports tslib ../../../core/Logger ../../../core/promiseUtils ./featureUtils @dojo/framework/shim/Promise".split(" "),function(c,a,b,l,h,k){function f(a){return'\x3cul class\x3d"esri-widget__list"\x3e'+
a.map(function(a){return"\x3cli\x3e"+("string"===typeof a?k.applyTextFormattingHTML(k.htmlEntities(a)):a)+"\x3c/li\x3e"}).join("")+"\x3c/ul\x3e"}function e(a){return'\x3ctable class\x3d"esri-widget__table"\x3e'+a.keys().map(function(b){var c=a.field(b),c="string"===typeof c?k.applyTextFormattingHTML(k.htmlEntities(c)):c;return"\x3ctr\x3e\x3cth\x3e"+b+"\x3c/th\x3e\x3ctd\x3e"+c+"\x3c/td\x3e\x3c/tr\x3e"}).join("")+"\x3c/table\x3e"}function n(a){var b=a.arcadeUtils,c=a.context,d=a.viewInfo,e=a.map,f=
a.graphic;a.featureSetVars.forEach(function(a){a=a.toLowerCase();var g={map:e,spatialReference:d.sr};"$map"===a&&(c.vars[a]=b.convertMapToFeatureSetCollection(g));"$layer"===a&&(c.vars[a]=b.convertFeatureLayerToFeatureSet(f.sourceLayer,d.sr));"$datastore"===a&&(c.vars[a]=b.convertServiceUrlToWorkspace(f.sourceLayer.url,d.sr))})}function g(){return new Promise(function(a,b){c(["../../../support/arcadeUtils"],a,b)})}function d(a){var c=a.expressionAttributes,d=a.info,g=a.arcadeUtils,h=a.spatialReference,
l=a.map,r=a.graphic;return b.__awaiter(this,void 0,void 0,function(){var a,p,u,t,v,w,x;return b.__generator(this,function(b){switch(b.label){case 0:return a="expression/"+d.name,p=g.createSyntaxTree(d.expression),u=m.filter(function(a){return g.hasVariable(p,a)}),[4,g.loadScriptDependencies(p,!0,u)];case 1:return b.sent(),t=g.getViewInfo({spatialReference:h}),v=g.createExecContext(r,t),v.useAsync=!0,n({arcadeUtils:g,featureSetVars:u,context:v,viewInfo:t,map:l,graphic:r}),w=g.createFunction(p,v),[4,
g.executeAsyncFunction(w,v).catch(function(a){return q.error("arcade-execution-error",{error:a,graphic:r,expressionInfo:d})})];case 2:return x=b.sent(),c[a]="string"===typeof x?k.applyTextFormattingHTML(k.htmlEntities(x)):Array.isArray(x)?f(x):x&&"esri.arcade.Dictionary"===x.declaredClass?e(x):x,[2]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.createFormattedExpressions=void 0;var m=["$datastore","$map","$layer"],q=l.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");a.createFormattedExpressions=
function(a){var c=a.popupTemplate,e=a.spatialReference,f=a.graphic,k=a.map;return b.__awaiter(this,void 0,void 0,function(){var a,l,m,n,r,q,p;return b.__generator(this,function(b){switch(b.label){case 0:return a=c.expressionInfos,l=[],m={},a&&a.length?[4,g()]:[2,m];case 1:n=b.sent();r=0;for(q=a;r<q.length;r++)p=q[r],l.push(d({expressionAttributes:m,info:p,arcadeUtils:n,spatialReference:e,map:k,graphic:f}));return[4,h.eachAlways(l)];case 2:return b.sent(),[2,m]}})})}})},"esri/widgets/Feature/support/FeatureContentMixin":function(){define(["require",
"exports","tslib","../../../core/accessorSupport/decorators","../../support/widget"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.FeatureContentMixin=void 0;a.FeatureContentMixin=function(a){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.renderNodeContent=function(a){return h.isWidget(a)&&!a.destroyed?h.tsx("div",{key:a},a.render()):a instanceof HTMLElement?h.tsx("div",{key:a,bind:a,afterCreate:b._attachToNode}):h.hasDomNode(a)?h.tsx("div",
{key:a,bind:a.domNode,afterCreate:b._attachToNode}):null};return b}b.__extends(c,a);c.prototype._attachToNode=function(a){a.appendChild(this)};return c=b.__decorate([l.subclass("esri.widgets.Feature.ContentMixin")],c)}(a)}})},"esri/widgets/Spinner":function(){define("require exports tslib ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./Spinner/SpinnerViewModel ./support/widget".split(" "),function(c,a,b,l,h,k,f,e,n){return function(a){function c(b,c){b=a.call(this,
b,c)||this;b._animationDelay=500;b._animationPromise=null;b.location=null;b.view=null;b.viewModel=new e;b.visible=!1;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.own([h.watch(this,"visible",function(b){return a._visibleChange(b)})])};c.prototype.destroy=function(){this._animationPromise=null};c.prototype.show=function(a){var b=this,c=a.location;a=a.promise;c&&(this.viewModel.location=c);this.visible=!0;c=function(){return b.hide()};a&&a.catch(function(){}).then(c)};
c.prototype.hide=function(){this.visible=!1};c.prototype.render=function(){var a,b=this.visible,c=!!this.viewModel.screenLocation,b=(a={},a["esri-spinner--start"]=b&&c,a["esri-spinner--finish"]=!b&&c,a);a=this._getPositionStyles();return n.tsx("div",{class:this.classes("esri-spinner",b),styles:a})};c.prototype._visibleChange=function(a){var b=this;if(a)this.viewModel.screenLocationEnabled=!0;else{var c=l.after(this._animationDelay);this._animationPromise=c;c.catch(function(){}).then(function(){b._animationPromise===
c&&(b.viewModel.screenLocationEnabled=!1,b._animationPromise=null)})}};c.prototype._getPositionStyles=function(){var a=this.viewModel,b=a.screenLocation,a=a.view;if(!a||!b)return{};a=a.padding;return{left:b.x-a.left+"px",top:b.y-a.top+"px"}};b.__decorate([k.aliasOf("viewModel.location")],c.prototype,"location",void 0);b.__decorate([k.aliasOf("viewModel.view")],c.prototype,"view",void 0);b.__decorate([k.property({type:e}),n.renderable(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],
c.prototype,"viewModel",void 0);b.__decorate([k.aliasOf("viewModel.visible")],c.prototype,"visible",void 0);return c=b.__decorate([k.subclass("esri.widgets.Spinner")],c)}(f)})},"esri/widgets/Spinner/SpinnerViewModel":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","../support/AnchorElementViewModel"],function(c,a,b,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.visible=!1;return b}b.__extends(c,a);b.__decorate([l.property()],c.prototype,"visible",
void 0);return c=b.__decorate([l.subclass("esri.widgets.CompassViewModel")],c)}(h)})},"esri/widgets/support/AnchorElementViewModel":function(){define("require exports tslib ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/watchUtils ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f,e){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=a.apply(this,b)||this;e._anchorHandles=new h;e.location=null;e.screenLocation=
null;e.screenLocationEnabled=!1;e.view=null;e._anchorHandles.add([f.watch(e,["screenLocationEnabled","location","view.size","view.stationary"],function(){return e._updateScreenPointAndHandle()}),f.watch(e,["view","view.ready"],function(){return e._wireUpView()})]);return e}b.__extends(c,a);c.prototype.destroy=function(){this.view=null;this._anchorHandles&&this._anchorHandles.destroy();this._viewpointHandle=this._anchorHandles=null};c.prototype._wireUpView=function(){var a=this;this._anchorHandles.remove("view");
this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var b=this.view,b=k.pausable(b,"3d"===b.type?"camera":"viewpoint",function(){return a._viewpointChange()});this._anchorHandles.add(b,"view");this._viewpointHandle=b;this._toggleWatchingViewpoint()}};c.prototype._viewpointChange=function(){this._setScreenLocation();this.emit("view-change")};c.prototype._updateScreenPointAndHandle=function(){this._setScreenLocation();this._toggleWatchingViewpoint()};c.prototype._toggleWatchingViewpoint=
function(){var a=this._viewpointHandle,b=this.screenLocationEnabled;a&&(this.location&&b?a.resume():a.pause())};c.prototype._setScreenLocation=function(){var a=this.location,b=this.view,c=this.screenLocationEnabled,e=this.get("view.ready"),a=c&&a&&e?b.toScreen(a):null;this._set("screenLocation",a)};b.__decorate([e.property()],c.prototype,"location",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"screenLocation",void 0);b.__decorate([e.property()],c.prototype,"screenLocationEnabled",
void 0);b.__decorate([e.property()],c.prototype,"view",void 0);return c=b.__decorate([e.subclass("esri.widgets.support.AnchorElementViewModel")],c)}(l.EventedAccessor)})},"esri/widgets/Popup/PopupViewModel":function(){define("require exports tslib ../../geometry ../../core/Collection ../../core/Error ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/webMercatorUtils ../../layers/Layer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionToggle ../../views/input/InputManager ../../views/support/layerViewUtils ../Feature/FeatureViewModel ./actions ../support/AnchorElementViewModel ../support/GoTo".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m,q,r,p,t,w,v,u,x,y,z,B){var A=h.ofType({key:"type",defaultKeyValue:"button",base:p,typeMap:{button:t,toggle:w}}),E=e.getLogger("esri.widgets.Popup.PopupViewModel");return function(a){function c(b){b=a.call(this,b)||this;b._handles=new f;b._pendingPromises=new Set;b._zoomToLocation=null;b._fetchFeaturesController=null;b.actions=new A([y.zoomToFeature.clone()]);b.defaultPopupTemplateEnabled=!1;b.autoCloseEnabled=!1;b.autoOpenEnabled=!0;b.content=null;b.featureViewModels=
[];b.highlightEnabled=!0;b.title=null;b.updateLocationEnabled=!1;b.view=null;b.visible=!1;b.zoomFactor=4;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this._handles.add([d.init(this,["autoOpenEnabled","view"],function(){return a._autoOpenEnabledChange()}),this.on("view-change",function(){return a._autoClose()}),d.watch(this,["highlightEnabled","selectedFeature","visible","view"],function(){return a._highlightFeature()}),d.watch(this,"view.animation.state",function(b){return a._animationStateChange(b)}),
d.watch(this,"location",function(b){return a._locationChange(b)}),d.watch(this,"selectedFeature",function(b){return a._selectedFeatureChange(b)}),this.on("trigger-action",function(b){return y.triggerAction({event:b,view:a.view})}),d.whenFalse(this,"waitingForResult",function(){return a._waitingForResultChange()}),d.watch(this,["features","view","view.map","view.spatialReference"],function(){return a._updateFeatureVMs()})])};c.prototype.destroy=function(){this._cancelFetchingFeatures();this._handles.destroy();
this._handles=null;this._pendingPromises.clear();this.view=null};Object.defineProperty(c.prototype,"active",{get:function(){return!(!this.visible||this.waitingForResult)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"allActions",{get:function(){var a=this._get("allActions")||new A;a.removeAll();var b=this.selectedFeature&&("function"===typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),
c=b&&b.actions;(b=b&&b.overwriteActions?c:c?c.concat(this.actions):this.actions)&&b.filter(Boolean).forEach(function(b){return a.add(b)});return a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"featureCount",{get:function(){return this.features.length},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"features",{get:function(){return this._get("features")||[]},set:function(a){a=a||[];this._set("features",a);var b=this.pendingPromisesCount,c=this.selectedFeatureIndex,
d=this.promiseCount&&a.length;d&&b&&-1===c?this.selectedFeatureIndex=0:d&&-1!==c||(this.selectedFeatureIndex=a.length?0:-1)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"location",{get:function(){return this._get("location")||null},set:function(a){var b=this.get("view.spatialReference.isWebMercator");a&&a.get("spatialReference.isWGS84")&&b&&(a=q.geographicToWebMercator(a));this._set("location",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pendingPromisesCount",
{get:function(){return this._pendingPromises.size},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"waitingForResult",{get:function(){return!(!(this._fetchFeaturesController||0<this.pendingPromisesCount)||0!==this.featureCount)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"promiseCount",{get:function(){return this.promises.length},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"promises",{get:function(){return this._get("promises")||[]},set:function(a){var b=
this;this._pendingPromises.clear();this.features=[];Array.isArray(a)&&a.length?(this._set("promises",a),a=a.slice(0),a.forEach(function(a){b._pendingPromises.add(a);a.then(function(c){b._pendingPromises.has(a)&&b._updateFeatures(c);b._updatePendingPromises(a)},function(){return b._updatePendingPromises(a)})})):this._set("promises",[]);this.notifyChange("pendingPromisesCount")},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"selectedFeature",{get:function(){var a=this.selectedFeatureIndex;
return-1===a?null:this.features[a]||null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"selectedFeatureIndex",{get:function(){var a=this._get("selectedFeatureIndex");return"number"===typeof a?a:-1},set:function(a){var b=this.featureCount;a=isNaN(a)||-1>a||!b?-1:(a+b)%b;this._set("selectedFeatureIndex",a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"selectedFeatureViewModel",{get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){return this.get("view.ready")?"ready":"disabled"},enumerable:!1,configurable:!0});c.prototype.centerAtLocation=function(){var a=this.view,b=this._getSelectedTarget();return b?this.callGoTo({target:{target:b,scale:a.scale}}):(a=new k("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:b,view:a}),E.error(a),g.reject(a))};c.prototype.clear=function(){this.set({promises:[],
features:[],content:null,title:null,location:null})};c.prototype.fetchFeatures=function(a,b){var c=this.view;return c&&a?c.fetchPopupFeatures(a,{event:b&&b.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:b&&b.signal}):(a=new k("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:a,view:c}),E.error(a),g.reject(a))};c.prototype.open=function(a){a=b.__assign(b.__assign({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},
a),{visible:!0});var c=a.fetchFeatures;delete a.fetchFeatures;c&&this._setFetchFeaturesPromises(a.location);this.set(a)};c.prototype.triggerAction=function(a){(a=this.allActions.getItemAt(a))&&!a.disabled&&this.emit("trigger-action",{action:a})};c.prototype.next=function(){this.selectedFeatureIndex+=1;return this};c.prototype.previous=function(){--this.selectedFeatureIndex;return this};c.prototype.zoomToLocation=function(){var a=this,b=this.location,c=this.selectedFeature,d=this.view,e=this.zoomFactor,
f=this._getSelectedTarget();if(!f)return b=new k("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:f,view:d}),E.error(b),g.reject(b);var d=d.scale/e,h=this.get("selectedFeature.geometry")||b,l=h&&"point"===h.type&&this._isZoomScreenSize(c);y.zoomToFeature.active=!0;y.zoomToFeature.disabled=!0;return this._zoomToLocation=b=this.callGoTo({target:{target:f,scale:l?d:void 0}}).catch(function(){y.zoomToFeature.active=!1;y.zoomToFeature.disabled=!1;a._zoomToLocation=
null}).then(function(){l&&(a.location=h)})};c.prototype._animationStateChange=function(a){this._zoomToLocation||(y.zoomToFeature.disabled="waiting-for-target"===a)};c.prototype._locationChange=function(a){var b=this.selectedFeature;this.updateLocationEnabled&&a&&(!b||b.geometry)&&this.centerAtLocation()};c.prototype._selectedFeatureChange=function(a){var b=this;if(a){var c=this.location,d=this.updateLocationEnabled,e=this.view;!d&&c||!a.geometry?d&&!a.geometry&&this.centerAtLocation().then(function(){b.location=
e.center.clone()}):this.location=n.unwrap(this._getPointFromGeometry(a.geometry))}};c.prototype._waitingForResultChange=function(){!this.featureCount&&this.promises&&(this.visible=!1)};c.prototype._setFetchFeaturesPromises=function(a){var c=this;return this._fetchFeaturesWithController(this._getScreenPoint(a||this.location)).then(function(a){var d=a.promisesPerLayerView;a=g.resolve(a.clientOnlyGraphics);d=d.map(function(a){return a.promise});c.promises=b.__spreadArrays([a],d)})};c.prototype._destroyFeatureVMs=
function(){this.featureViewModels.forEach(function(a){return a&&!a.destroyed&&a.destroy()});this._set("featureViewModels",[])};c.prototype._updateFeatureVMs=function(){var a=this,b=this.features,c=this.featureViewModels;this._destroyFeatureVMs();if(b&&b.length){var d=c.slice(0),e=[];b.forEach(function(b,c){var f,g;if(b){var h=null;d.some(function(a,c){a&&a.graphic===b&&(h=a,d.splice(c,1));return!!h});if(h)e[c]=h;else{var k=new x({defaultPopupTemplateEnabled:a.defaultPopupTemplateEnabled,graphic:b,
spatialReference:null===(f=a.view)||void 0===f?void 0:f.spatialReference,map:null===(g=a.view)||void 0===g?void 0:g.map});e[c]=k}}});d.forEach(function(a){return a&&!a.destroyed&&a.destroy()});this._set("featureViewModels",e)}};c.prototype._getScreenPoint=function(a){var b=this.view;return b&&a&&"function"===typeof b.toScreen?b.toScreen(a):null};c.prototype._getSelectedTarget=function(){var a=this.selectedFeature,b=this.location,c=this.view;return c?"3d"===c.type?a||b:this.get("selectedFeature.geometry")||
b:null};c.prototype._autoOpenEnabledChange=function(){var a=this,b=this._handles,c=this.autoOpenEnabled;b.remove("auto-fetch-features");c&&this.view&&(c=this.view.on("click",function(b){"mouse"===b.pointerType&&0!==b.button||a._fetchFeaturesAndOpen(b)},v.ViewEventPriorities.WIDGET),b.add(c,"auto-fetch-features"))};c.prototype._cancelFetchingFeatures=function(){var a=this._fetchFeaturesController;a&&a.abort();this._fetchFeaturesController=null;this.notifyChange("waitingForResult")};c.prototype._fetchFeaturesWithController=
function(a,b){var c=this;this._cancelFetchingFeatures();var d=g.createAbortController(),e=d.signal;this._fetchFeaturesController=d;this.notifyChange("waitingForResult");a=this.fetchFeatures(a,{signal:e,event:b});a.catch(function(){}).then(function(){c._fetchFeaturesController=null;c.notifyChange("waitingForResult")});return a};c.prototype._fetchFeaturesAndOpen=function(a){var c=a.mapPoint,d=this.view;this._fetchFeaturesWithController(a.screenPoint,a).then(function(a){var e=a.promisesPerLayerView,
f=a.location,h=g.resolve(a.clientOnlyGraphics),e=b.__spreadArrays([h],e.map(function(a){return a.promise}));d.popup.open({location:f||c,promises:e});return a})};c.prototype._updatePendingPromises=function(a){a&&this._pendingPromises.has(a)&&(this._pendingPromises.delete(a),this.notifyChange("pendingPromisesCount"))};c.prototype._autoClose=function(){this.autoCloseEnabled&&(this.visible=!1)};c.prototype._isZoomScreenSize=function(a){var b=this.view;if("3d"!==b.type||!a||"esri.Graphic"!==a.declaredClass)return!0;
if((b=b.getViewForGraphic(a))&&"whenGraphicBounds"in b){var c=!1;b.whenGraphicBounds(a,{useViewElevation:!0}).then(function(a){c=!a||!a.boundingBox||a.boundingBox[0]===a.boundingBox[3]&&a.boundingBox[1]===a.boundingBox[4]&&a.boundingBox[2]===a.boundingBox[5]}).catch(function(){var b=new k("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:a});E.error(b)});return c}return!0};c.prototype._getPointFromGeometry=function(a){return n.isNone(a)?null:"point"===a.type?a:"extent"===
a.type?a.center:"polygon"===a.type?a.centroid:"multipoint"===a.type||"polyline"===a.type?a.extent.center:null};c.prototype._getLayerView=function(a,c){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(b){switch(b.label){case 0:return[4,a.when()];case 1:return b.sent(),[2,a.whenLayerView(c)]}})})};c.prototype._highlightFeature=function(){return b.__awaiter(this,void 0,void 0,function(){var a,c,d,e,f,g,h,k,l,m,n,q,p;return b.__generator(this,function(b){switch(b.label){case 0:a=
"highlight";this._handles.remove(a);c=this;d=c.selectedFeature;e=c.highlightEnabled;f=c.view;g=c.visible;if(!(d&&f&&e&&g))return[2];h=d.layer;if(!(h&&h instanceof r))return[2];this._highlightPromise=k=this._getLayerView(f,h);return[4,k];case 1:l=b.sent();if(!(l&&u.highlightsSupported(l)&&this._highlightPromise===k&&this.selectedFeature&&this.highlightEnabled&&this.visible))return[2];m="objectIdField"in h&&h.objectIdField;q=(n=d.attributes)&&m&&n[m];p=l.highlight(q||d);this._handles.add(p,a);return[2]}})})};
c.prototype._updateFeatures=function(a){var b=this.features;a&&a.length&&(b.length?(a=a.filter(function(a){return-1===b.indexOf(a)}),this.features=b.concat(a)):this.features=a)};b.__decorate([m.property({type:A})],c.prototype,"actions",void 0);b.__decorate([m.property({readOnly:!0,dependsOn:["visible","waitingForResult"]})],c.prototype,"active",null);b.__decorate([m.property({dependsOn:["actions.length","selectedFeature.sourceLayer.popupTemplate.actions.length","selectedFeature.sourceLayer.popupTemplate.overwriteActions",
"selectedFeature.popupTemplate.actions.length","selectedFeature.popupTemplate.overwriteActions"],readOnly:!0})],c.prototype,"allActions",null);b.__decorate([m.property({type:Boolean})],c.prototype,"defaultPopupTemplateEnabled",void 0);b.__decorate([m.property()],c.prototype,"autoCloseEnabled",void 0);b.__decorate([m.property()],c.prototype,"autoOpenEnabled",void 0);b.__decorate([m.property()],c.prototype,"content",void 0);b.__decorate([m.property({readOnly:!0,dependsOn:["features"]})],c.prototype,
"featureCount",null);b.__decorate([m.property()],c.prototype,"features",null);b.__decorate([m.property({readOnly:!0})],c.prototype,"featureViewModels",void 0);b.__decorate([m.property()],c.prototype,"highlightEnabled",void 0);b.__decorate([m.property({type:l.Point})],c.prototype,"location",null);b.__decorate([m.property({readOnly:!0,dependsOn:["promises"]})],c.prototype,"pendingPromisesCount",null);b.__decorate([m.property({readOnly:!0,dependsOn:["featureCount","pendingPromisesCount"]})],c.prototype,
"waitingForResult",null);b.__decorate([m.property({readOnly:!0,dependsOn:["promises"]})],c.prototype,"promiseCount",null);b.__decorate([m.property()],c.prototype,"promises",null);b.__decorate([m.property({value:null,readOnly:!0,dependsOn:["features","selectedFeatureIndex","updateLocationEnabled"]})],c.prototype,"selectedFeature",null);b.__decorate([m.property({value:-1})],c.prototype,"selectedFeatureIndex",null);b.__decorate([m.property({readOnly:!0,dependsOn:["featureViewModels","selectedFeatureIndex"]})],
c.prototype,"selectedFeatureViewModel",null);b.__decorate([m.property({readOnly:!0,dependsOn:["view.ready"]})],c.prototype,"state",null);b.__decorate([m.property()],c.prototype,"title",void 0);b.__decorate([m.property()],c.prototype,"updateLocationEnabled",void 0);b.__decorate([m.property()],c.prototype,"view",void 0);b.__decorate([m.property()],c.prototype,"visible",void 0);b.__decorate([m.property()],c.prototype,"zoomFactor",void 0);b.__decorate([m.property()],c.prototype,"centerAtLocation",null);
b.__decorate([m.property()],c.prototype,"zoomToLocation",null);return c=b.__decorate([m.subclass("esri.widgets.Popup.PopupViewModel")],c)}(B.GoToMixin(z))})},"esri/views/support/layerViewUtils":function(){define(["require","exports","../../core/maybe"],function(c,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.extractSafeScaleBounds=a.scaleBoundsPredicate=a.occludeesSupported=a.highlightsSupported=void 0;a.highlightsSupported=function(a){return a&&"function"===typeof a.highlight};a.occludeesSupported=
function(a){return a&&"function"===typeof a.occlude};a.scaleBoundsPredicate=function(a,c,k){return b.isNone(a)||a>k&&(0===c||a<c)};a.extractSafeScaleBounds=function(a){return{minScale:a.minScale||0,maxScale:a.maxScale||0}}})},"esri/widgets/Popup/actions":function(){define(["require","exports","../../core/Error","../../core/promiseUtils","../../support/actions/ActionButton"],function(c,a,b,l,h){Object.defineProperty(a,"__esModule",{value:!0});a.triggerAction=a.all=a.removeSelectedFeature=a.zoomToFeature=
void 0;a.zoomToFeature=new h({id:"zoom-to-feature",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"});a.removeSelectedFeature=new h({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"});a.all=[a.zoomToFeature,a.removeSelectedFeature];a.triggerAction=function(c){var f=c.view,e=c.event.action;c=f&&f.popup;if(!e)return l.reject(new b("trigger-action:missing-arguments","Event has no action"));if(!c)return l.reject(new b("trigger-action:missing-arguments",
"view.popup is missing"));var h=e.disabled,e=e.id;if(!e)return l.reject(new b("trigger-action:invalid-action","action.id is missing"));if(h)return l.reject(new b("trigger-action:invalid-action","Action is disabled"));if(e===a.zoomToFeature.id)return c.viewModel.zoomToLocation();if(e===a.removeSelectedFeature.id){c.close();c=c.selectedFeature;if(!c)return l.reject(new b("trigger-action:"+a.removeSelectedFeature.id,"selectedFeature is required",{selectedFeature:c}));(h=c.sourceLayer)?h.remove(c):f.graphics.remove(c)}return l.resolve()}})},
"esri/widgets/support/GoTo":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators"],function(c,a,b,l){Object.defineProperty(a,"__esModule",{value:!0});a.GoToMixin=void 0;a.GoToMixin=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.goToOverride=null;b.view=null;return b}b.__extends(c,a);c.prototype.callGoTo=function(a){var b=this.view;return this.goToOverride?this.goToOverride(b,a):b.goTo(a.target,
a.options)};b.__decorate([l.property()],c.prototype,"goToOverride",void 0);b.__decorate([l.property()],c.prototype,"view",void 0);return c=b.__decorate([l.subclass("esri.widgets.support.GoTo")],c)}(a)}})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("require exports ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils".split(" "),function(c,a,b,l,h,k,f){Object.defineProperty(a,"__esModule",{value:!0});c=function(){function a(){this._pointerLocations=
new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._stopDrag=!1;this._cursor=this._revertToActiveTool=null}Object.defineProperty(a.prototype,"cursor",{get:function(){return this._cursor},enumerable:!1,configurable:!0});a.prototype.handleInputEvent=function(a,b){var c=function(){return a.stopPropagation()};switch(a.type){case "pointer-move":"mouse"===a.pointerType&&this._pointerLocations.set(a.pointerId,{x:a.x,y:a.y,pointerType:a.pointerType});
break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(c(),"end"===a.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===a.pointerType&&0!==a.button||a.native.shiftKey)break;var d=k.createScreenPointFromEvent(a),f=this._intersect(d,a.pointerType,b.forEachTool);if(h.isNone(f))break;var g=this._findManipulatorByKey(f,b.forEachTool);h.isSome(g)&&g.interactive&&g.grabbable&&!g.grabbing&&(this._grabbedManipulators.set(a.pointerId,{key:f,start:d}),1===this._grabbedManipulators.size&&
(this._revertToActiveTool=b.activeTool,b.setActiveTool(f.tool)),g.grabbing=!0,g.events.emit("grab-changed",{action:"start",screenPoint:d}),c());break;case "pointer-up":this._handlePointerEnd(a,b);break;case "pointer-drag":if("mouse"===a.pointerType&&0!==a.button)break;var n=this._grabbedManipulators.get(a.pointerId),g=this._draggedManipulators.get(a.pointerId),f=h.applySome(n||g,function(a){return a.key}),w=this._findManipulatorByKey(f,b.forEachTool);if(h.isNone(w))break;d=k.createScreenPointFromEvent(a);
d.x=l.clamp(d.x,0,b.view.width);d.y=l.clamp(d.y,0,b.view.height);n=h.unwrap(n||g).start;d={action:a.action,start:n,screenPoint:d};switch(a.action){case "start":case "update":if("update"===d.action||1===this._grabbedManipulators.size)w.dragging=!0,g||(d.action="start"),w.events.emit("drag",d),this._draggedManipulators.set(a.pointerId,{key:h.unwrap(f),start:n});break;case "end":w.dragging=!1,g&&w.events.emit("drag",d),this._draggedManipulators.delete(a.pointerId),this._handlePointerEnd(a,b)}c();break;
case "immediate-click":var d=k.createScreenPointFromEvent(a),f=this._intersect(d,a.pointerType,b.forEachTool),v=this._findToolAndManipulatorByKey(f,b.forEachTool,e);a.native.shiftKey||b.forEachTool(function(a){if((!v||e.tool!==a||!a.selectionManagementDisabled)&&a.manipulators){var b=!1;a.manipulators.forEach(function(a){a=a.manipulator;a.selected&&(a.selected=!1,b=!0)});b&&a.manipulatorSelectionChanged&&a.manipulatorSelectionChanged()}});if(!v)break;g=e.manipulator;f=e.tool;if(!g.interactive)break;
g.selectable&&!f.selectionManagementDisabled&&(g.selected=!g.selected,f.manipulatorSelectionChanged&&f.manipulatorSelectionChanged());f=a.native.shiftKey;g.events.emit("immediate-click",{screenPoint:d,button:a.button,pointerType:a.pointerType,shiftKey:f,stopPropagation:c});break;case "click":d=k.createScreenPointFromEvent(a);f=this._intersect(d,a.pointerType,b.forEachTool);g=this._findManipulatorByKey(f,b.forEachTool);if(h.isNone(g)||!g.interactive)break;f=a.native.shiftKey;g.events.emit(a.type,{screenPoint:d,
button:a.button,pointerType:a.pointerType,shiftKey:f});c();break;case "double-click":d=k.createScreenPointFromEvent(a);f=this._intersect(d,a.pointerType,b.forEachTool);g=this._findManipulatorByKey(f,b.forEachTool);if(h.isNone(g)||!g.interactive)break;f=a.native.shiftKey;g.events.emit("double-click",{screenPoint:d,button:a.button,pointerType:a.pointerType,shiftKey:f,stopPropagation:c});break;case "immediate-double-click":d=k.createScreenPointFromEvent(a),f=this._intersect(d,a.pointerType,b.forEachTool),
g=this._findManipulatorByKey(f,b.forEachTool),!h.isNone(g)&&g.interactive&&(f=a.native.shiftKey,g.events.emit("immediate-double-click",{screenPoint:d,button:a.button,pointerType:a.pointerType,shiftKey:f,stopPropagation:c}))}this._updateCursor(b.forEachTool)};a.prototype._handlePointerEnd=function(a,b){var c=h.applySome(this._grabbedManipulators.get(a.pointerId),function(a){return a.key}),d=this._findManipulatorByKey(c,b.forEachTool);h.isSome(d)&&!d.dragging&&(c=h.isSome(b.creatingTool)&&b.creatingTool===
h.unwrap(c).tool,1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||c||(b.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),d.grabbing&&(d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:k.createScreenPointFromEvent(a)})),this._grabbedManipulators.delete(a.pointerId))};a.prototype._cursorFromMap=function(a,c){var d=this,e=null;b.someMap(a,function(a){a=d._findManipulatorByKey(a.key,c);return h.isSome(a)&&a.interactive&&"cursor"in a&&a.cursor?
(e=a.cursor,!0):!1});return e};a.prototype._updateCursor=function(a){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,a)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,a)||"pointer":null};a.prototype.clearPointers=function(a,b,c,e){var d=this;void 0===c&&(c=!0);var f=function(b){return b.tool===a&&(h.isNone(e)||b.manipulatorId===e)};this._grabbedManipulators.forEach(function(a,c){a=a.key;f(a)&&(d._grabbedManipulators.delete(c),
c=d._findManipulatorByKey(a,b),h.isSome(c)&&(c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null})))});this._draggedManipulators.forEach(function(a,c){a=a.key;f(a)&&(d._draggedManipulators.delete(c),c=d._findManipulatorByKey(a,b),h.isSome(c)&&(c.dragging=!1,c.events.emit("drag",{action:"cancel",screenPoint:null,start:null})))});c&&this._hoveredManipulators.forEach(function(a,c){a=a.key;f(a)&&(d._hoveredManipulators.delete(c),c=d._findManipulatorByKey(a,b),h.isSome(c)&&(c.hovering=
!1))});this._updateCursor(b)};a.prototype._intersect=function(a,b,c){var d=null;c(function(c){if(null==c.manipulators||!f.areToolManipulatorsEditable(c))return!1;var e=c.manipulators.intersect(a,b);if(h.isNone(e))return!1;d={manipulatorId:e,tool:c};return!0});return d};a.prototype.updateHoveredStateFromKnownPointers=function(a){var b=this;this._pointerLocations.forEach(function(c,d){b._updateHoveredStateForPointerAtScreenPosition(k.createScreenPoint(c.x,c.y),d,c.pointerType,a)})};a.prototype.handleHoverEvent=
function(a,b){"pointer-up"!==a.type&&"immediate-click"!==a.type&&"pointer-move"!==a.type||"mouse"!==a.pointerType||this._updateHoveredStateForPointerAtScreenPosition(k.createScreenPointFromEvent(a),a.pointerId,a.pointerType,b)};a.prototype._updateHoveredStateForPointerAtScreenPosition=function(a,b,c,e){a=this._intersect(a,c,e);c=this._findManipulatorByKey(a,e);var d=h.applySome(this._hoveredManipulators.get(b),function(a){return a.key}),d=this._findManipulatorByKey(d,e);h.isSome(c)&&!c.interactive&&
(c=null);d!==c&&(h.isSome(d)&&(d.hovering=!1),h.isSome(c)?(c.hovering=!0,this._hoveredManipulators.set(b,{key:h.unwrap(a)})):this._hoveredManipulators.delete(b),this._updateCursor(e))};a.prototype._findManipulatorByKey=function(a,b){return this._findToolAndManipulatorByKey(a,b,e)?e.manipulator:null};a.prototype._findToolAndManipulatorByKey=function(a,b,c){if(h.isNone(a))return null;c.tool=null;c.manipulator=null;b(function(b){if(b!==a.tool||null==b.manipulators||!f.areToolManipulatorsEditable(b))return!1;
var d=b.manipulators.findById(a.manipulatorId);return h.isSome(d)?(c.manipulator=d,c.tool=b,!0):!1});return null!=c.manipulator};return a}();a.default=c;var e={manipulator:null,tool:null}})},"esri/views/input/Input":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),function(c,a,b,l,h,k){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.gamepad=new k;return b}b.__extends(c,a);b.__decorate([h.property({readOnly:!0})],
c.prototype,"gamepad",void 0);return c=b.__decorate([h.subclass("esri.views.input.Input")],c)}(l)})},"esri/views/input/gamepad/GamepadSettings":function(){define("require exports tslib ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators ./GamepadInputDevice".split(" "),function(c,a,b,l,h,k,f){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.devices=new h;b.enabledFocusMode="document";return b}b.__extends(c,
a);b.__decorate([k.property({type:h.ofType(f),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([k.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([k.subclass("esri.views.input.gamepad.GamepadSettings")],c)}(l)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define(["require","exports","tslib","../../../core/Accessor","../../../core/accessorSupport/decorators"],function(c,a,b,l,h){var k=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,
f={standard:.15,spacemouse:.025,unknown:0};return function(a){function c(b){var c=a.call(this)||this;c.nativeIndex=null;c._detectedDeviceType="unknown";"standard"===b.mapping?c._detectedDeviceType="standard":k.test(b.id)?c._detectedDeviceType="spacemouse":c._detectedDeviceType="unknown";c.nativeIndex=b.index;return c}b.__extends(c,a);Object.defineProperty(c.prototype,"native",{get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"deviceType",{get:function(){return this._detectedDeviceType},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"axisThreshold",{get:function(){return f[this.deviceType]},enumerable:!1,configurable:!0});b.__decorate([h.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([h.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([h.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",
null);return c=b.__decorate([h.subclass("esri.views.input.gamepad.GamepadInputDevice")],c)}(l)})},"esri/views/navigation/Navigation":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.browserTouchPanEnabled=!0;b.gamepad=new k;b.momentumEnabled=!0;b.mouseWheelZoomEnabled=!0;return b}b.__extends(c,a);b.__decorate([h.property({type:Boolean})],
c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([h.property({type:k,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([h.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([h.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([h.subclass("esri.views.navigation.Navigation")],c)}(l)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("require exports tslib ../../../core/Accessor ../../../core/accessorSupport/decorators ../../input/gamepad/GamepadInputDevice".split(" "),
function(c,a,b,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.enabled=!0;b.device=null;b.mode="pan";b.tiltDirection="forward-down";b.velocityFactor=1;return b}b.__extends(c,a);b.__decorate([h.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([h.property({type:k})],c.prototype,"device",void 0);b.__decorate([h.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([h.property({type:["forward-down","forward-up"],nonNullable:!0})],
c.prototype,"tiltDirection",void 0);b.__decorate([h.property({type:Number,nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([h.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)}(l)})},"esri/views/support/DefaultsFromMap":function(){define("require exports tslib ../../core/Accessor ../../core/arrayUtils ../../core/Handles ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/heightModelInfoUtils ../../geometry/support/webMercatorUtils @dojo/framework/shim/Promise".split(" "),
function(c,a,b,l,h,k,f,e,n,g,d,m){function q(a){return a?JSON.stringify(a.toJSON()):"undefined"}function r(a){switch(a){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}var p=f.getLogger("esri.views.support.DefaultsFromMap");return function(a){function f(){var b=null!==a&&a.apply(this,arguments)||this;b._handles=new k;b._waitTask=null;b._extentProjectController=null;b._spatialReferenceCandidates=null;b._extentCandidates=null;b.logDebugInformation=!1;b.isSpatialReferenceDone=!1;
b.isTileInfoDone=!1;b.isHeightModelInfoSearching=!1;b.spatialReference=null;b.extent=null;b.heightModelInfo=null;b.vcsWkid=null;b.latestVcsWkid=null;b.mapCollectionPaths=l.DefaultMapCollectionPaths.slice();b.tileInfo=null;return b}b.__extends(f,a);l=f;f.prototype.initialize=function(){var a=this;this.watch("mapCollectionPaths",function(){a._running&&(a.reset(),a.start())})};f.prototype.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=null);this._cancelLoading()};
Object.defineProperty(f.prototype,"_running",{get:function(){return!!(this._handles&&0<this._handles.size)},enumerable:!1,configurable:!0});f.prototype.reset=function(){this._handles.removeAll();this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=
this._spatialReferenceCandidates=null};f.prototype.start=function(){var a=this;this._handles.removeAll();for(var b=this._updateLayerChange.bind(this),c=0,d=this.mapCollectionPaths;c<d.length;c++)this._handles.add(n.on(this.view,"map."+d[c],"change",b,b,b,!0));this._handles.add(n.when(this,"isSpatialReferenceDone",function(){return a._updateTileInfo()},!0))};f.prototype._ownerNameFromCollectionName=function(a){var b=a.lastIndexOf(".");return-1===b?"view":"view."+a.slice(0,b)};f.prototype._ensureLoadedOwnersFromCollectionName=
function(a){for(var b=this._ownerNameFromCollectionName(a).split("."),c,d=0;d<b.length;d++){c=this.get(b.slice(0,d+1).join("."));if(!c)break;if(c.load&&!c.isFulfilled())return{collectionName:a,owner:null,loading:c.load().catch(function(){})}}return{collectionName:a,owner:c}};f.prototype._cancelLoading=function(){this._waitTask=null;this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)};f.prototype._updateWhen=function(a){var b=this,c=!0,d=!1,e=a.catch(function(){}).then(function(){c?
d=!0:e===b._waitTask&&b._update()}),c=!1;d||(this._waitTask=e);return d};f.prototype._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1);this._update()};f.prototype._update=function(){var a=this;this._cancelLoading();if(this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var b=this._processMapCollections(function(b){return a._processSpatialReferenceSource(b)});this._debugLog("Search ended with status '"+
r(b)+"'");if(0!==b){var c=null,b=this._spatialReferenceCandidates;!b||1>b.length?(c=this.defaultSpatialReference,this._debugLog("No spatial reference found, locking to default ("+q(c)+")")):(this.defaultSpatialReference&&1<b.length&&-1<h.findIndex(b,function(b){return b.equals(a.defaultSpatialReference)})&&(b=[this.defaultSpatialReference]),c=b[0],this._debugLog("Locking to "+q(c)));this._set("spatialReference",c);c?this.extent?this._set("isSpatialReferenceDone",!0):(b=this.logDebugInformation,this.logDebugInformation=
!1,this._processMapCollections(function(b){return a._findExtent(b,c)}),this.logDebugInformation=b,this._projectExtentCandidate().catch(function(){}).then(function(){return a._set("isSpatialReferenceDone",!0)})):this._set("isSpatialReferenceDone",!0)}}null==this.heightModelInfo&&this.view.isHeightModelInfoRequired&&(this._debugLog("Starting search for height model info..."),b=this._processMapCollections(function(b){return a._processHeightModelInfoSource(b)},function(a){return d.mayHaveHeightModelInfo(a)}),
this._debugLog("Search ended with status "+r(b)),this._set("isHeightModelInfoSearching",0===b));this._updateTileInfo()}};f.prototype._processMapCollections=function(a,b){var c=this;this._preloadMapCollections(b);var d=2;this._forAllMapCollectionSources(function(a){if(2!==d)return!1;c._debugLog("Processing collection "+a.collectionName+"...");return a.loading&&!c._updateWhen(a.loading)?(c._debugLog("Collection "+a.collectionName+" owner is loading -\x3e wait"),d=0,!1):!0},function(e){return 2!==d?
!1:null==b||b(e)?!e.load||e.isFulfilled()||c._updateWhen(e.load())?e.load&&!e.isResolved()||!a(e)?!0:(d=1,!1):(c._debugLog("Source "+e.id+" is loading -\x3e wait"),d=0,!1):(c._debugLog("Source "+e.id+" is skipped due to predicate"),!1)});return d};f.prototype._preloadMapCollections=function(a){var b=this,c=10,d=this.logDebugInformation;this.logDebugInformation=!1;this._forAllMapCollectionSources(function(){return!0},function(e){if(0===c||null!=a&&!a(e))return!1;e.load&&!e.isFulfilled()&&(b.logDebugInformation=
d,b._debugLog("Pre-loading source "+e.id),b.logDebugInformation=!1,e.load().catch(function(){}),c--);return!0});this.logDebugInformation=d};f.prototype._forAllMapCollectionSources=function(a,b){for(var c=0,d=this.mapCollectionPaths;c<d.length;c++){var e="map."+d[c],f=this._ensureLoadedOwnersFromCollectionName(e);!1!==a(f)&&(f=f.owner,!f||f.isRejected&&f.isRejected()?this._debugLog("Collection "+e+" owner is invalid or rejected -\x3e skip"):(f=this.view.get(e))?this._forEachSource(f,b):this._debugLog("Collection "+
e+" does not exist -\x3e skip"))}};f.prototype._forEachSource=function(a,b){var c=0;for(a=a.items;c<a.length;c++){var d=a[c];!1!==b(d)&&"layers"in d&&d.layers&&this._forEachSource(d.layers,b)}};f.prototype._processSpatialReferenceSource=function(a){var b=this._getSupportedSpatialReferences(a);if(0===b.length)return!1;this._spatialReferenceCandidates?(b=h.intersect(b,this._spatialReferenceCandidates,function(a,b){return a.equals(b)}),0<b.length?this._spatialReferenceCandidates=b:this._debugLog("Layer "+
a.id+" is ignored because its supported spatial\n          references are not compatible with the previous candidates")):this._spatialReferenceCandidates=b;return 1===this._spatialReferenceCandidates.length};f.prototype._findExtent=function(a,b){var c="fullExtents"in a&&a.fullExtents||(a.fullExtent?[a.fullExtent]:[]),d=h.find(c,function(a){return a.spatialReference.equals(b)});if(d)return this._set("extent",d),!0;0<this._getSupportedSpatialReferences(a).length&&(c=c.map(function(b){return{extent:b,
layer:a}}),this._extentCandidates=(this._extentCandidates||[]).concat(c));return!1};f.prototype._projectExtentCandidate=function(){return b.__awaiter(this,void 0,void 0,function(){var a,d,f,g,k;return b.__generator(this,function(b){switch(b.label){case 0:if(!this._extentCandidates||!this._extentCandidates.length)return[2];a=this.spatialReference;d=h.find(this._extentCandidates,function(b){return m.canProject(b.extent.spatialReference,a)});if(!d)return[3,1];this._set("extent",m.project(d.extent,a));
return[3,7];case 1:return f=this._extentCandidates[0],this._extentProjectController=e.createAbortController(),[4,new Promise(function(a,b){c(["../../portal/support/geometryServiceUtils"],a,b)})];case 2:g=b.sent(),b.label=3;case 3:return b.trys.push([3,5,,6]),[4,g.projectGeometry(f.extent,a,f.layer.portalItem,this._extentProjectController.signal)];case 4:return k=b.sent(),this._set("extent",k),[3,6];case 5:return b.sent(),[3,6];case 6:this._extentProjectController=null,b.label=7;case 7:return[2]}})})};
f.prototype._getSupportedSpatialReferences=function(a){var b=this,c="supportedSpatialReferences"in a&&a.supportedSpatialReferences||(a.spatialReference?[a.spatialReference]:[]);if(0===c.length)return this._debugLog("Layer "+a.id+" is ignored because it does not have any spatial references"),[];c=c.filter(function(c){return b.view.isSpatialReferenceSupported(c,a,function(a){return b._debugLog(a)})});0===c.length?this._debugLog("Layer "+a.id+" has spatial references but none of them are supported (or layer doesn't require locking)"):
this._debugLog("Layer "+a.id+" has spatial references. Resulting candidate set: "+c.map(q).join(", "));return c};f.prototype._processHeightModelInfoSource=function(a){var b=d.deriveHeightModelInfoFromLayer(a);return b?(this._set("heightModelInfo",b),this._set("isHeightModelInfoSearching",!1),a.spatialReference&&(this._set("vcsWkid",a.spatialReference.vcsWkid),this._set("latestVcsWkid",a.spatialReference.latestVcsWkid)),!0):!1};f.prototype._updateTileInfo=function(){if(null==this.tileInfo)if(!this.view.isTileInfoRequired())this._set("isTileInfoDone",
!0);else if(this.isSpatialReferenceDone){var a=this.get("view.map");if(a){var b=a.basemap,a=a.get("layers.0"),c=null;if(b&&"failed"!==b.loadStatus){if(!b.loaded){this._updateWhen(b.load());this._debugLog("updateTileInfo: basemap still loading");return}if((b=b&&b.get("baseLayers.0"))&&"failed"!==b.loadStatus)if(b.loaded)c="tileInfo"in b&&b.tileInfo;else{this._updateWhen(b.load());this._debugLog("updateTileInfo: first basemap layer still loading");return}else if(a&&"failed"!==a.loadStatus)if(a.loaded)c=
"tileInfo"in a&&a.tileInfo;else{this._updateWhen(a.load());this._debugLog("updateTileInfo: first operational layer still loading");return}else{this._debugLog("updateTileInfo: no tileInfo");this._set("isTileInfoDone",!0);return}}else if(a&&"failed"!==a.loadStatus)if(a.loaded)c="tileInfo"in a&&a.tileInfo;else{this._updateWhen(a.load());this._debugLog("updateTileInfo: first operational layer still loading");return}c&&!c.spatialReference.equals(this.spatialReference)&&(c=null);this._debugLog("updateTileInfo: setting "+
c);this._set("tileInfo",c);this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}};f.prototype._debugLog=function(a){this.logDebugInformation&&p.info(a)};var l;f.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"];b.__decorate([g.property()],f.prototype,"logDebugInformation",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"isSpatialReferenceDone",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"isTileInfoDone",
void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"isHeightModelInfoSearching",void 0);b.__decorate([g.property({constructOnly:!0})],f.prototype,"view",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"spatialReference",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"extent",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"heightModelInfo",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"vcsWkid",void 0);b.__decorate([g.property({readOnly:!0})],
f.prototype,"latestVcsWkid",void 0);b.__decorate([g.property()],f.prototype,"mapCollectionPaths",void 0);b.__decorate([g.property()],f.prototype,"defaultSpatialReference",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"tileInfo",void 0);return f=l=b.__decorate([g.subclass("esri.views.support.DefaultsFromMap")],f)}(l)})},"esri/geometry/support/heightModelInfoUtils":function(){define("require exports ../../core/compilerUtils ../../core/Error ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(c,a,b,l,h,k){function f(a,b,c){if(!e(a)||!e(b))return 4;if(null==a||null==b)return 0;if(!c&&a.heightUnit!==b.heightUnit)return 1;if(a.heightModel!==b.heightModel)return 2;switch(a.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return a.vertCRS===b.vertCRS?0:3;default:return 4}}function e(a){return null==a||null!=a.heightModel&&null!=a.heightUnit}function n(a){var b=a.url&&k.parse(a.url);return(null!=(a.spatialReference&&a.spatialReference.vcsWkid)||!b||"ImageServer"!==
b.serverType)&&"heightModelInfo"in a&&a.heightModelInfo?a.heightModelInfo:d(a)?h.deriveUnitFromSR(q,a.spatialReference):null}function g(a){if("unknown"===a.type||!("capabilities"in a))return!1;switch(a.type){case "csv":case "feature":case "geojson":case "ogc-feature":return!0;case "imagery":case "map-image":case "tile":case "vector-tile":case null:return!1;default:return b.neverReached(a),!1}}function d(a){return g(a)?!!(a.capabilities&&a.capabilities.data&&a.capabilities.data.supportsZ):m(a)}function m(a){switch(a.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":return!0;
case "base-dynamic":case "base-elevation":case "base-tile":case "bing-maps":case "csv":case "geojson":case "feature":case "geo-rss":case "graphics":case "group":case "imagery":case "imagery-tile":case "kml":case "map-image":case "map-notes":case "ogc-feature":case "open-street-map":case "route":case "stream":case "tile":case "unknown":case "unsupported":case "vector-tile":case "wcs":case "web-tile":case "wms":case "wmts":case null:break;default:b.neverReached(a)}return!1}Object.defineProperty(a,"__esModule",
{value:!0});a.mayHaveHeightModelInfo=a.deriveHeightModelInfoFromLayer=a.rejectLayerError=a.validateWebSceneError=void 0;a.validateWebSceneError=function(a,b){if(!a)return null;if(!e(a))return new l("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:a});var c=a.heightUnit;a=h.deriveUnitFromSR(a,b).heightUnit;return c!==a?new l("webscene:incompatible-height-unit","The vertical units of the scene ("+c+") must match the horizontal units of the scene ("+
a+")",{verticalUnit:c,horizontalUnit:a}):null};a.rejectLayerError=function(a,b,c){var e=n(a),g=f(e,b,c),k=null;if(e){var m=h.deriveUnitFromSR(e,a.spatialReference).heightUnit;c||m===e.heightUnit||(k=new l("layerview:unmatched-height-unit","The vertical units of the layer must match the horizontal units ("+m+")",{horizontalUnit:m}))}if(!("heightModelInfo"in a&&null!=a.heightModelInfo||null!=a.spatialReference)&&d(a)||4===g||k)return new l("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",
{heightModelInfo:e,error:k});k=null;switch(g){case 1:a=e.heightUnit||"unknown";c=b.heightUnit||"unknown";k=new l("layerview:incompatible-height-unit","The vertical units of the layer ("+a+") must match the vertical units of the scene ("+c+")",{layerUnit:a,sceneUnit:c});break;case 2:a=e.heightModel||"unknown";c=b.heightModel||"unknown";k=new l("layerview:incompatible-height-model","The height model of the layer ("+a+") must match the height model of the scene ("+c+")",{layerHeightModel:a,sceneHeightModel:c});
break;case 3:a=e.vertCRS||"unknown",c=b.vertCRS||"unknown",k=new l("layerview:incompatible-vertical-datum","The vertical datum of the layer ("+a+") must match the vertical datum of the scene ("+c+")",{layerDatum:a,sceneDatum:c})}return k?new l("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:e,sceneHeightModelInfo:b,error:k}):null};a.deriveHeightModelInfoFromLayer=n;a.mayHaveHeightModelInfo=function(a){return null!=
a.layers||m(a)||g(a)||"heightModelInfo"in a};var q=new h({heightModel:"gravity-related-height"})})},"esri/views/ViewAnimation":function(){define("require exports tslib ../core/Error ../core/Promise ../core/promiseUtils ../core/promiseUtils ../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f,e){c=function(a){function c(b){b=a.call(this,b)||this;b.state="running";b.target=null;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.addResolvingPromise(k.create(function(b,
c){return a._dfd={resolve:b,reject:c}}))};Object.defineProperty(c.prototype,"done",{get:function(){return"finished"===this.state||"stopped"===this.state},enumerable:!1,configurable:!0});c.prototype.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new l("ViewAnimation stopped")))};c.prototype.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())};c.prototype.update=function(a,
b){b||(b=f.isPromiseLike(a)?"waiting-for-target":"running");this._set("target",a);this._set("state",b)};b.__decorate([e.property({readOnly:!0,dependsOn:["state"]})],c.prototype,"done",null);b.__decorate([e.property({readOnly:!0,type:String})],c.prototype,"state",void 0);b.__decorate([e.property()],c.prototype,"target",void 0);return c=b.__decorate([e.subclass("esri.views.ViewAnimation")],c)}(h.EsriPromise);(c||(c={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return c})},"esri/views/layers/LayerView":function(){define("require exports tslib ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/Promise ../../core/accessorSupport/decorators".split(" "),function(c,a,b,l,h,k,f,e,n,g){return function(a){function c(b){b=a.call(this,b)||this;b.layer=null;b.parent=null;return b}b.__extends(c,a);c.prototype.initialize=function(){var a=this;this.when().catch(function(b){if("layerview:create-error"!==b.name){var c=
a.layer&&a.layer.id||"no id",d=a.layer&&a.layer.title||"no title";e.getLogger(a.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+d+"', id: '"+c+"')",b);throw b;}})};Object.defineProperty(c.prototype,"fullOpacity",{get:function(){var a=this.get("layer.opacity"),a=null==a?1:a,b=this.get("parent.fullOpacity");return a*(null==b?1:b)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"suspendInfo",{get:function(){return this.getSuspendInfo()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"legendEnabled",{get:function(){return!this.suspended&&!0===this.layer.legendEnabled},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"updating",{get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"visible",{get:function(){return!0===
this.get("layer.visible")},set:function(a){void 0===a?this._clearOverride("visible"):this._override("visible",a)},enumerable:!1,configurable:!0});c.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};c.prototype.getSuspendInfo=function(){var a=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(a.viewNotReady=!0);this.layer&&this.layer.loaded||(a.layerNotLoaded=!0);this.visible||
(a.layerInvisible=!0);return a};c.prototype.isUpdating=function(){return!1};b.__decorate([g.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],c.prototype,"fullOpacity",null);b.__decorate([g.property()],c.prototype,"layer",void 0);b.__decorate([g.property()],c.prototype,"parent",void 0);b.__decorate([g.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],c.prototype,"suspended",null);b.__decorate([g.property({readOnly:!0,dependsOn:["visible","layer.loaded",
"parent.suspended","view?.ready"]})],c.prototype,"suspendInfo",null);b.__decorate([g.property({readOnly:!0,dependsOn:["suspended","layer.legendEnabled?"]})],c.prototype,"legendEnabled",null);b.__decorate([g.property({type:Boolean,dependsOn:["updatingHandles.updating"],readOnly:!0})],c.prototype,"updating",null);b.__decorate([g.property({dependsOn:["layer.visible"]})],c.prototype,"visible",null);return c=b.__decorate([g.subclass("esri.views.layers.LayerView")],c)}(k.HandleOwnerMixin(f.IdentifiableMixin(n.EsriPromiseMixin(h.EventedMixin(l)))))})},
"*noref":1}});require.boot&&require.apply(null,require.boot);