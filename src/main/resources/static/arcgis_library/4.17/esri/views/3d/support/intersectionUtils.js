// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/libs/gl-matrix-2/vec2f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ./geometryUtils".split(" "),function(r,a,n,g,p,l){function k(b,e,c,f){var d=q;b?(c&&f&&(d.len=g.vec3.distance(e,c)),g.vec3.copy(d.dir,b)):f?(d.len=g.vec3.distance(e,c),g.vec3.subtract(d.dir,c,e),g.vec3.scale(d.dir,d.dir,1/d.len)):(g.vec3.subtract(d.dir,c,e),g.vec3.normalize(d.dir,d.dir));return d}function m(b,e,c,f){f.clip[0]=0;f.clip[1]=c?f.len:Number.MAX_VALUE;
for(c=0;c<b.length;c++){var d;var a=b[c],k=e;d=f;var h=g.vec3.dot(l.plane.normal(a),d.dir),a=-l.plane.signedDistance(a,k);0>a&&0<=h?d=!1:-1E-6<h&&1E-6>h?d=0<a:!(0>a||0>h)||0>a&&0>h?(a/=h,0<h?a<d.clip[1]&&(d.clip[1]=a):a>d.clip[0]&&(d.clip[0]=a),d=d.clip[0]<=d.clip[1]):d=!0;if(!d)return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.closestPointOnRay=a.frustumLineSegment=a.frustumPoint=a.frustumRay=a.frustumSphere=a.planeSphere=void 0;a.planeSphere=function(b,e,c){return b[0]*e[0]+b[1]*
e[1]+b[2]*e[2]+b[3]<c};a.frustumSphere=function(b,e,c){var a=e[0],d=e[1];e=e[2];return b[0][0]*a+b[0][1]*d+b[0][2]*e+b[0][3]>c||b[1][0]*a+b[1][1]*d+b[1][2]*e+b[1][3]>c||b[2][0]*a+b[2][1]*d+b[2][2]*e+b[2][3]>c||b[3][0]*a+b[3][1]*d+b[3][2]*e+b[3][3]>c||b[4][0]*a+b[4][1]*d+b[4][2]*e+b[4][3]>c||b[5][0]*a+b[5][1]*d+b[5][2]*e+b[5][3]>c?!1:!0};a.frustumRay=function(b,a,c,f){c=k(f,a,c,!1);return m(b,a,null,c)};a.frustumPoint=function(b,a){for(var c=0;6>c;c++)if(0<l.plane.signedDistance(b[c],a))return!1;return!0};
a.frustumLineSegment=function(b,a,c,f){f=k(f,a,c,!0);return m(b,a,c,f)};a.closestPointOnRay=function(b,a,c,f){c=g.vec3.dot(a,g.vec3.subtract(f,c,b));g.vec3.add(f,b,g.vec3.scale(f,a,c));return f};var q={dir:p.vec3f64.create(),len:0,clip:n.vec2f64.create()}});