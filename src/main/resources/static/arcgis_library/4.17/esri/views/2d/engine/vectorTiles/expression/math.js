// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","./expression"],function(d,c,g,h){Object.defineProperty(c,"__esModule",{value:!0});c.Calculate=c.Add=c.Pow=c.Mod=c.Div=c.Mul=c.Sub=void 0;var e=function(){function b(a,b){this.args=a;this.calculate=b}b.parse=function(a,k){a=a.slice(1).map(function(a){return h.createExpression(a)});return new b(a,k)};b.prototype.evaluate=function(a,b){var f;this.args&&(f=this.args.map(function(f){return f.evaluate(a,b)}));return this.calculate(f)};return b}();d=function(b){function a(){return null!==
b&&b.apply(this,arguments)||this}g.__extends(a,b);a.parse=function(a){switch(a.length){case 2:return e.parse(a,function(a){return-a[0]});case 3:return e.parse(a,function(a){return a[0]-a[1]});default:throw Error('"-" expects 1 or 2 arguments');}};return a}(e);c.Sub=d;d=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}g.__extends(a,b);a.parse=function(a){return e.parse(a,function(a){for(var b=1,f=0;f<a.length;f++)b*=a[f];return b})};return a}(e);c.Mul=d;d=function(b){function a(){return null!==
b&&b.apply(this,arguments)||this}g.__extends(a,b);a.parse=function(a){if(3===a.length)return e.parse(a,function(a){return a[0]/a[1]});throw Error('"/" expects 2 arguments');};return a}(e);c.Div=d;d=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}g.__extends(a,b);a.parse=function(a){if(3===a.length)return e.parse(a,function(a){return a[0]%a[1]});throw Error('"%" expects 2 arguments');};return a}(e);c.Mod=d;d=function(b){function a(){return null!==b&&b.apply(this,arguments)||
this}g.__extends(a,b);a.parse=function(a){if(3===a.length)return e.parse(a,function(a){return Math.pow(a[0],a[1])});throw Error('"^" expects 1 or 2 arguments');};return a}(e);c.Pow=d;d=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}g.__extends(a,b);a.parse=function(a){return e.parse(a,function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b})};return a}(e);c.Add=d;d=function(){function b(a,b){this.args=a;this.calculate=b}b.parse=function(a){var c=a.slice(1).map(function(a){return h.createExpression(a)});
return new b(c,b.ops[a[0]])};b.prototype.evaluate=function(a,b){var c;this.args&&(c=this.args.map(function(c){return c.evaluate(a,b)}));return this.calculate(c)};b.ops={abs:function(a){return Math.abs(a[0])},acos:function(a){return Math.acos(a[0])},asin:function(a){return Math.asin(a[0])},atan:function(a){return Math.atan(a[0])},ceil:function(a){return Math.ceil(a[0])},cos:function(a){return Math.cos(a[0])},e:function(){return Math.E},floor:function(a){return Math.floor(a[0])},ln:function(a){return Math.log(a[0])},
ln2:function(){return Math.LN2},log10:function(a){return Math.log(a[0])/Math.LN10},log2:function(a){return Math.log(a[0])/Math.LN2},max:function(a){return Math.max.apply(Math,a)},min:function(a){return Math.min.apply(Math,a)},pi:function(){return Math.PI},round:function(a){return Math.round(a[0])},sin:function(a){return Math.sin(a[0])},sqrt:function(a){return Math.sqrt(a[0])},tan:function(a){return Math.tan(a[0])}};return b}();c.Calculate=d});