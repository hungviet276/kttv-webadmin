// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/screenUtils ../../../../../core/libs/gl-matrix-2/vec2 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ./viewUtils".split(" "),function(A,b,f,d,x,y,q){function r(a,e,b){a.projectPoint(e,c);if(0>c[2]||1<c[2])return!1;a.renderToScreen(c,b);return!0}function t(g,e,b,n,z,f){if(!e)return!1;q.screenSpaceTangent(e.start,e.end,k,g);d.vec2.set(a,-k[1],k[0]);var m=!1;switch(n){case "top":m=0>a[1];break;case "bottom":m=0<a[1];
break;case "left":m=0<a[0];break;case "right":m=0>a[0]}m&&d.vec2.negate(a,a);if(0===d.vec2.length(a))switch(n){case "top":a[1]=1;break;case "bottom":a[1]=-1;break;case "left":a[0]=-1;break;case "right":a[0]=1}g.projectPoint(e.origin,c);if(0>c[2]||1<c[2])return!1;g.renderToScreen(c,z);d.vec2.scale(a,a,b*g.pixelRatio);d.vec2.add(a,a,c);g.renderToScreen(a,f);return!0}function u(g,e,b,n,f,h){if(!e||!b)return!1;q.screenSpaceTangent(e.end,e.start,k,g);q.screenSpaceTangent(b.start,b.end,v,g);d.vec2.add(a,
k,v);d.vec2.negate(a,a);d.vec2.normalize(a,a);g.projectPoint(e.end,c);if(0>c[2]||1<c[2])return!1;g.renderToScreen(c,f);d.vec2.scale(a,a,n*g.pixelRatio);d.vec2.add(a,a,c);g.renderToScreen(a,h);return!0}Object.defineProperty(b,"__esModule",{value:!0});b.positionLabelOnCorner=b.computeLabelPositionFromPlane=b.computeLabelPositionFromCorner=b.positionLabelOnSegment=b.computeLabelPositionFromSegment=b.positionLabelOnPoint=b.computeLabelPositionFromPoint=b.mirrorPosition=void 0;b.mirrorPosition=function(a){switch(a){case "top":return"bottom";
case "right":return"left";case "bottom":return"top";case "left":return"right"}};b.computeLabelPositionFromPoint=r;b.positionLabelOnPoint=function(a,e,b){(e=r(b,e,h))&&a.updatePosition(h,null);return e};b.computeLabelPositionFromSegment=t;b.positionLabelOnSegment=function(a,b,c,d,f){(b=t(f,b,c,d,h,l))&&a.updatePosition(h,l);return b};b.computeLabelPositionFromCorner=u;b.computeLabelPositionFromPlane=function(b,e,f,h,k,l){b.projectPoint(e,c);x.vec3.add(w,e,f);b.projectPoint(w,p);if(0>c[2]||1<c[2]||
0>p[2]||1<p[2])return!1;d.vec2.subtract(a,p,c);d.vec2.normalize(a,a);b.renderToScreen(c,k);d.vec2.scale(a,a,h*b.pixelRatio);d.vec2.add(a,a,c);b.renderToScreen(a,l);return!0};b.positionLabelOnCorner=function(a,b,c,d,f){(b=u(f,b,c,d,h,l))&&a.updatePosition(h,l);return b};var k=f.createRenderScreenPointArray(),v=f.createRenderScreenPointArray(),a=f.createRenderScreenPointArray(),c=f.createRenderScreenPointArray3(),p=f.createRenderScreenPointArray3(),w=y.vec3f64.create(),h=f.createScreenPointArray(),
l=f.createScreenPointArray()});