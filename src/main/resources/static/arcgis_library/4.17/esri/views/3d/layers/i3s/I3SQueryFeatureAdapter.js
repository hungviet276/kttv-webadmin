// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/maybe ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/centroid ../../../../layers/graphics/OptimizedGeometry ./I3SUtil".split(" "),function(k,e,f,n,p,g,l){Object.defineProperty(e,"__esModule",{value:!0});e.I3SQueryFeatureAdapter=void 0;k=function(){function c(a){this.objectIdField=a.objectIdField;this.getFeatureExtent=a.getFeatureExtent}c.prototype.getObjectId=function(a){return a.id};c.prototype.getAttributes=function(a){var b=a.meta,
d=a.index,h={};this.objectIdField&&(h[this.objectIdField]=a.id);a=f.isSome(b.attributeInfo)&&b.attributeInfo.attributeData;if(f.isSome(a))for(var b=0,c=Object.keys(a);b<c.length;b++){var e=c[b];h[e]=l.getCachedAttributeValue(a[e],d)}return h};c.prototype.getAttribute=function(a,b){if(b===this.objectIdField)return a.id;var d=a.meta;a=a.index;d=f.isSome(d.attributeInfo)&&d.attributeInfo.attributeData;return f.isSome(d)?l.getCachedAttributeValue(d[b],a):null};c.prototype.getGeometry=function(a){if(a.geometry)return a.geometry;
var b=this.getFeatureExtent(a,m);a=b[0];var d=b[1],c=b[2],e=b[3],b=b[4];return new g.default([5],[a,d,c,e,d,c,e,b,c,a,b,c,a,d,c])};c.prototype.getCentroid=function(a,b){if(a.geometry)return p.getCentroidOptimizedGeometry(new g.default,a.geometry,b.hasZ,b.hasM);a=this.getFeatureExtent(a,m);return new g.default([0],[(a[0]+a[3])/2,(a[1]+a[4])/2,(a[2]+a[5])/2])};c.prototype.cloneWithGeometry=function(a,b){return{id:a.id,index:a.index,meta:a.meta,geometry:b}};return c}();e.I3SQueryFeatureAdapter=k;var m=
n.create()});