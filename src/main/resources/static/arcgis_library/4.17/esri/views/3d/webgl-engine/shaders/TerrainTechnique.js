// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../core/shaderLibrary/terrain/Terrain.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/StencilUtils ../../../webgl/Program ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),function(h,d,a,k,l,e,b,m,n,p,f){Object.defineProperty(d,"__esModule",{value:!0});d.TerrainTechniqueConfiguration=d.TerrainTechnique=void 0;
e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}a.__extends(c,b);c.prototype.initializeProgram=function(g){var b=c.shader.get(),a=this.configuration,b=b.build({overlayMode:a.overlayMode,output:a.output,viewingMode:g.viewingMode,slicePlaneEnabled:a.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,textureFadingEnabled:a.textureFadingEnabled&&!a.renderOccluded,receiveShadows:a.receiveShadows&&!a.renderOccluded,receiveAmbientOcclusion:!1,useOldSceneLightInterface:!0,
atmosphere:a.atmosphere,tileBorders:a.tileBorders,screenSizePerspective:a.screenSizePerspective,pbrMode:0,ssrEnabled:a.ssrEnabled,highStepCount:!1});return new p(g.rctx,b.generateSource("vertex"),b.generateSource("fragment"),m.Default3D)};c.prototype.initializePipeline=function(){var a=this.configuration,b=a.backfaceCullingEnabled&&!a.renderOccluded;return f.makePipelineState({blending:a.renderOccluded?f.simpleBlendingParams(1,771):null,culling:b&&f.backFaceCullingParams,depthTest:!a.renderOccluded&&
{func:513},depthWrite:!a.renderOccluded&&f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams,stencilTest:a.stencilEnabled?n.renderWhenBitIsNotSet(1):null})};c.shader=new l.ReloadableShaderModule(k,function(){return new Promise(function(a,b){h(["../core/shaderLibrary/terrain/Terrain.glsl"],a,b)})});return c}(e.ShaderTechnique);d.TerrainTechnique=e;e=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.output=0;a.overlayMode=0;a.atmosphere=!1;a.receiveShadows=!1;a.slicePlaneEnabled=
!1;a.backfaceCullingEnabled=!1;a.stencilEnabled=!1;a.textureFadingEnabled=!1;a.renderOccluded=!1;a.ssrEnabled=!1;a.tileBorders=!1;a.screenSizePerspective=!1;return a}a.__extends(c,d);a.__decorate([b.parameter({count:7})],c.prototype,"output",void 0);a.__decorate([b.parameter({count:3})],c.prototype,"overlayMode",void 0);a.__decorate([b.parameter()],c.prototype,"atmosphere",void 0);a.__decorate([b.parameter()],c.prototype,"receiveShadows",void 0);a.__decorate([b.parameter()],c.prototype,"slicePlaneEnabled",
void 0);a.__decorate([b.parameter()],c.prototype,"backfaceCullingEnabled",void 0);a.__decorate([b.parameter()],c.prototype,"stencilEnabled",void 0);a.__decorate([b.parameter()],c.prototype,"textureFadingEnabled",void 0);a.__decorate([b.parameter()],c.prototype,"renderOccluded",void 0);a.__decorate([b.parameter()],c.prototype,"ssrEnabled",void 0);a.__decorate([b.parameter()],c.prototype,"tileBorders",void 0);a.__decorate([b.parameter()],c.prototype,"screenSizePerspective",void 0);return c}(b.ShaderTechniqueConfiguration);
d.TerrainTechniqueConfiguration=e});