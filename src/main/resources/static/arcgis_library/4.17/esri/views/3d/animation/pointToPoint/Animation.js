// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ./Camera ../../webgl-engine/lib/Camera ../../../animation/pointToPoint/Animation".split(" "),function(f,d,g,l,k,m,n){Object.defineProperty(d,"__esModule",{value:!0});d.Animation=void 0;var p=l.vec3f64.create();f=function(){function e(b){this.currentTime=0;this.animation=new n.Animation(function(){return new k.default(b)});this._current=new k.default(b)}Object.defineProperty(e.prototype,"finished",
{get:function(){return this.currentTime>=this.animation.time},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"time",{get:function(){return this.animation.time},enumerable:!1,configurable:!0});e.prototype.update=function(b,c,e){var d=this.animation.definition.source,f=this.animation.definition.target,a=g.vec3.subtract(p,c.center,b.center),h=g.vec3.length(a);1E-5<=h?(a[0]/=h,a[1]/=h,a[2]/=h):(a[0]=0,a[1]=1,a[0]=0);g.vec3.copy(d.lookAtDirection,a);g.vec3.copy(f.lookAtDirection,a);
d.copyFromRenderCamera(b);f.copyFromRenderCamera(c);this._current.copyFrom(d);this.animation.update(d,f,e);this.currentTime=0;b.almostEquals(c)&&(this.currentTime=this.animation.time)};e.prototype.cameraAt=function(b,c){this.animation.cameraAt(b,this._current);c=c||new m.default;this._current.copyToRenderCamera(c);return c};e.prototype.step=function(b,c){this.finished||(this.currentTime+=b,this.currentTime>=this.time&&(this.currentTime=this.time));return this.cameraAt(this.currentTime/this.time,c)};
return e}();d.Animation=f;d.default=f});