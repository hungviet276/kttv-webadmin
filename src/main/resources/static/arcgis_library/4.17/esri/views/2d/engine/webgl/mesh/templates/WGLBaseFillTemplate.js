// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../../../layers/graphics/featureConversionUtils ../../enums ../../number ../../materialKey/MaterialKey ./templateUtils".split(" "),function(u,d,p,l,q,r,t,g){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(d){return function(d){function e(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=d.apply(this,a)||this;a.forceLibtess=!1;a.geometryType=q.WGLGeometryType.FILL;return a}p.__extends(e,d);e.prototype.writeMeshWithGeometry=function(a,
b,d,m,e,c){m=t.FillMaterialKey.load(this._materialKey);var f=b.indexVector;b=b.getVector("geometry");var h=b.vertexCount,n=f.length;if(c=c?l.deltaDecodeGeometry(l.convertFromGeometry(c),2):d.readUnquantizedGeometry())if(c=g.clipMarshall(c)){var k=c.coords;if(this.forceLibtess||!g.triangulate(f,c,h))k=[],g.triangulateLibtess(k,f,c,h);this._write(b,d,e,k,m);a.writeDisplayRecord(this.geometryType,this._materialKey,h,b.vertexCount-h,n,f.length-n)}};e.prototype._write=function(a,b,d,e,g){for(var c=0;c<
e.length;c+=2){var f=r.i1616to32(1*e[c],1*e[c+1]);a.data.push(f);a.data.push(d);g.dotDensity?a.data.writeF32(1/Math.abs(b.readGeometryArea())):(a.data.push(this.fillColor),a.data.push(this.tl),a.data.push(this.br),a.data.push(this.aux1),a.data.push(this.aux2),a.data.push(this.aux3))}};return e}(d)}});