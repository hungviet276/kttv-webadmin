// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../core/Accessor ../../../../core/Evented ../../../../core/maybe ../../../../core/accessorSupport/decorators ../../../../layers/graphics/dehydratedFeatures ../../../../layers/graphics/OptimizedFeature ../../../../layers/graphics/OptimizedGeometry ../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter ../../support/pointUtils".split(" "),function(k,f,e,n,p,l,g,q,r,t,h,u){Object.defineProperty(f,"__esModule",{value:!0});f.Graphics3DFeatureStore=void 0;
k=function(f){function b(b){var c=f.call(this,b)||this;c.events=new p;c.hasZ=null;c.hasM=null;c.objectIdField=null;c.spatialReference=null;c.featureAdapter={getAttribute:function(a,c){return"graphic"in a?a.graphic.attributes[c]:h.default.getAttribute(a,c)},getAttributes:function(a){return"graphic"in a?a.graphic.attributes:h.default.getAttributes(a)},getObjectId:function(a){return"graphic"in a?q.getObjectId(a.graphic,c.objectIdField):h.default.getObjectId(a)},getGeometry:function(a){return"graphic"in
a?a.getAsOptimizedGeometry(c.hasZ,c.hasM):h.default.getGeometry(a)},getCentroid:function(a,b){if("graphic"in a){var d=null;l.isSome(a.centroid)?d=a.centroid:"point"===a.graphic.geometry.type&&u.pointToPoint(a.graphic.geometry,m,c.spatialReference)&&(d=m);a=Array(2+(b.hasZ?1:0)+(b.hasM?1:0));l.isNone(d)?(a[0]=0,a[1]=0,a[2]=0,a[3]=0):(a[0]=d.x,a[1]=d.y,b.hasZ&&(a[2]=d.hasZ?d.z:0),b.hasM&&(a[b.hasZ?3:2]=d.hasM?d.m:0));return new t.default([],a)}return h.default.getCentroid(a,b)},cloneWithGeometry:function(a,
b){return"graphic"in a?new r.default(b,c.featureAdapter.getAttributes(a),null,c.featureAdapter.getObjectId(a)):h.default.cloneWithGeometry(a,b)}};return c}e.__extends(b,f);b.prototype.forEach=function(b){this.forAllGraphics(function(c){b(c)})};b.prototype.forEachInBounds=function(b,c){this.getSpatialIndex().forEachInBounds(b,c)};b.prototype.forEachBounds=function(b,c,a){for(var e=this.getSpatialIndex(),d=0;d<b.length;d++){var f=this.featureAdapter.getObjectId(b[d]);l.isSome(e.getBounds(f,a))&&c(a)}};
e.__decorate([g.property({constructOnly:!0})],b.prototype,"getSpatialIndex",void 0);e.__decorate([g.property({constructOnly:!0})],b.prototype,"forAllGraphics",void 0);e.__decorate([g.property({constructOnly:!0})],b.prototype,"hasZ",void 0);e.__decorate([g.property({constructOnly:!0})],b.prototype,"hasM",void 0);e.__decorate([g.property({constructOnly:!0})],b.prototype,"objectIdField",void 0);e.__decorate([g.property({constructOnly:!0})],b.prototype,"spatialReference",void 0);return b=e.__decorate([g.subclass("esri.views.3d.layers.graphics.Graphics3DFeatureStore")],
b)}(n);f.Graphics3DFeatureStore=k;var m={type:"point",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};f.default=k});