// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","./expression"],function(f,d,k,h){Object.defineProperty(d,"__esModule",{value:!0});d.Match=d.Coalesce=d.Case=d.NONE=d.ANY=d.ALL=d.NOT=d.GE=d.GT=d.LE=d.LT=d.NE=d.EQ=void 0;var g=function(){function b(a,b,c){this.lhs=a;this.rhs=b;this.compare=c}b.parse=function(a,e){if(3!==a.length&&4!==a.length)throw Error('"'+a[0]+'" expects 2 or 3 arguments');if(4===a.length)throw Error('"'+a[0]+'" collator not supported');return new b(h.createExpression(a[1]),h.createExpression(a[2]),
e)};b.prototype.evaluate=function(a,b){return this.compare(this.lhs.evaluate(a,b),this.rhs.evaluate(a,b))};return b}();f=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a===b})};return a}(g);d.EQ=f;f=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a!==b})};return a}(g);d.NE=f;f=function(b){function a(){return null!==
b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a<b})};return a}(g);d.LT=f;f=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a<=b})};return a}(g);d.LE=f;f=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a>b})};return a}(g);d.GT=f;f=function(b){function a(){return null!==
b&&b.apply(this,arguments)||this}k.__extends(a,b);a.parse=function(a){return g.parse(a,function(a,b){return a>=b})};return a}(g);d.GE=f;f=function(){function b(a){this.arg=a}b.parse=function(a){if(2!==a.length)throw Error('"!" expects 1 argument');return new b(h.createExpression(a[1]))};b.prototype.evaluate=function(a,b){return!this.arg.evaluate(a,b)};return b}();d.NOT=f;f=function(){function b(a){this.args=a}b.parse=function(a){for(var e=[],c=1;c<a.length;c++)e.push(h.createExpression(a[c]));return new b(e)};
b.prototype.evaluate=function(a,b){for(var c=0,e=this.args;c<e.length;c++)if(!e[c].evaluate(a,b))return!1;return!0};return b}();d.ALL=f;f=function(){function b(a){this.args=a}b.parse=function(a){for(var e=[],c=1;c<a.length;c++)e.push(h.createExpression(a[c]));return new b(e)};b.prototype.evaluate=function(a,b){for(var c=0,e=this.args;c<e.length;c++)if(e[c].evaluate(a,b))return!0;return!1};return b}();d.ANY=f;f=function(){function b(a){this.args=a}b.parse=function(a){for(var e=[],c=1;c<a.length;c++)e.push(h.createExpression(a[c]));
return new b(e)};b.prototype.evaluate=function(a,b){for(var c=0,e=this.args;c<e.length;c++)if(e[c].evaluate(a,b))return!1;return!0};return b}();d.NONE=f;f=function(){function b(a,b){this.args=a;this.fallback=b}b.parse=function(a){if(4>a.length)throw Error('"case" expects at least 3 arguments');if(1===a.length%2)throw Error('"case" expects an odd number of arguments');for(var e=[],c=1;c<a.length-1;c+=2)e.push({condition:h.createExpression(a[c]),output:h.createExpression(a[c+1])});return new b(e,h.createExpression(a[a.length-
1]))};b.prototype.evaluate=function(a,b){for(var c=0,e=this.args;c<e.length;c++){var d=e[c];if(d.condition.evaluate(a,b))return d.output.evaluate(a,b)}return this.fallback.evaluate(a,b)};return b}();d.Case=f;f=function(){function b(a){this.args=a}b.parse=function(a){if(2>a.length)throw Error('"coalesce" expects at least 1 argument');for(var e=[],c=1;c<a.length;c++)e.push(h.createExpression(a[c]));return new b(e)};b.prototype.evaluate=function(a,b){for(var c=0,e=this.args;c<e.length;c++){var d=e[c].evaluate(a,
b);if(null!==d)return d}return null};return b}();d.Coalesce=f;f=function(){function b(a,b,c,d){this.input=a;this.labels=b;this.outputs=c;this.fallback=d}b.parse=function(a){if(3>a.length)throw Error('"match" expects at least 3 arguments');if(0===a.length%2)throw Error('"case" expects an even number of arguments');for(var e=h.createExpression(a[1]),c=[],d={},f,g=2;g<a.length-1;g+=2){var k=a[g];Array.isArray(k)||(k=[k]);for(var m=0;m<k.length;m++){var n=k[m],l=typeof n;if("string"!==l&&"number"!==l)throw Error('"match" requires string or number literal as labels');
if(!f)f=l;else if(l!==f)throw Error('"match" requires labels to have the same type');d[n]=c.length}c.push(h.createExpression(a[g+1]))}return new b(e,d,c,h.createExpression(a[a.length-1]))};b.prototype.evaluate=function(a,b){var c=this.input.evaluate(a,b);return(this.outputs[this.labels[c]]||this.fallback).evaluate(a,b)};return b}();d.Match=f});