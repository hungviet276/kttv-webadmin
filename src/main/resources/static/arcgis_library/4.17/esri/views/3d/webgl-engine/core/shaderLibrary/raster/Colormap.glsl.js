// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../../shaderModules/interfaces"],function(f,b,d,e){Object.defineProperty(b,"__esModule",{value:!0});b.Colormap=void 0;b.Colormap=function(a){a.fragment.uniforms.add("u_colormap","sampler2D");a.fragment.uniforms.add("u_colormapOffset","float");a.fragment.uniforms.add("u_colormapMaxIndex","float");a.fragment.code.add(e.glsl(c||(c=d.__makeTemplateObject(["\n    vec4 colormap(vec4 currentPixel, bool isFloat) {\n      // colormap is only applicable to integer data but could be already normalized to 0-1 float\n      float clrIndex \x3d isFloat ? currentPixel.r - u_colormapOffset : currentPixel.r * 255.0 - u_colormapOffset;\n      vec4 result;\n      // handle no data and out of range pixels\n      if (currentPixel.a \x3d\x3d 0.0 || clrIndex \x3e u_colormapMaxIndex) {\n        result \x3d vec4(0.0, 0.0, 0.0, 0.0);\n      } else {\n        // colormap lookup\n        vec2 clrPosition \x3d vec2((clrIndex + 0.5) / (u_colormapMaxIndex + 1.0), 0.0);\n        vec4 color \x3d texture2D(u_colormap, clrPosition);\n        result \x3d vec4(color.rgb, 1.0) * color.a * u_opacity;\n      }\n      return result;\n    }\n  "],
["\n    vec4 colormap(vec4 currentPixel, bool isFloat) {\n      // colormap is only applicable to integer data but could be already normalized to 0-1 float\n      float clrIndex \x3d isFloat ? currentPixel.r - u_colormapOffset : currentPixel.r * 255.0 - u_colormapOffset;\n      vec4 result;\n      // handle no data and out of range pixels\n      if (currentPixel.a \x3d\x3d 0.0 || clrIndex \x3e u_colormapMaxIndex) {\n        result \x3d vec4(0.0, 0.0, 0.0, 0.0);\n      } else {\n        // colormap lookup\n        vec2 clrPosition \x3d vec2((clrIndex + 0.5) / (u_colormapMaxIndex + 1.0), 0.0);\n        vec4 color \x3d texture2D(u_colormap, clrPosition);\n        result \x3d vec4(color.rgb, 1.0) * color.a * u_opacity;\n      }\n      return result;\n    }\n  "]))))};
var c});