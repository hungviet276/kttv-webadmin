// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../colorUtils ./effects ./parser".split(" "),function(f,g,h,k,c,l){function m(a){switch(a){case "grayscale":case "sepia":case "invert":return new c.ColorMatrixEffect(a,0);case "saturate":case "brightness":case "contrast":return new c.ColorMatrixEffect(a,1);case "opacity":return new c.OpacityEffect(1);case "hue-rotate":return new c.HueRotateEffect(0);case "radial-blur":case "blur":return new c.BlurEffect(a,0);case "drop-shadow":return new c.DropShadowEffect(0,0,
0,h.__spreadArrays(k.getNamedColor("transparent")));case "bloom":return new c.BloomEffect(0,0,0)}}Object.defineProperty(g,"__esModule",{value:!0});f=function(){function a(b){void 0===b&&(b=200);this.duration=b;this._to=this._from=null;this._time=this._toNumEffects=0;this._effects=[];this._effect=""}Object.defineProperty(a.prototype,"effects",{get:function(){return this._effects},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"effect",{get:function(){return this._effect},set:function(b){(this._effect=
b)?(b=l.parse(b),b.error?(this._from=this._to=null,this._toNumEffects=0,this._effects=[]):this._transitionTo(b.effects)):this._transitionTo([])},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"transitioning",{get:function(){return null!==this._to},enumerable:!1,configurable:!0});a.prototype.transitionStep=function(b){if(this._to){this._time+=b;b=Math.min(1,this._time/this.duration);for(var a=0;a<this._effects.length;a++)this._effects[a].interpolate(this._from[a],this._to[a],b);
1===b&&(this._effects.length=this._toNumEffects,this._from=this._to=null,this._toNumEffects=0)}};a.prototype._transitionTo=function(b){var a=this._effects,c=a.length>b.length?a:b,d=a.length>b.length?b:a;if(d.every(function(a,b){return a.type===c[b].type})){this._toNumEffects=b.length;for(var e=d.length;e<c.length;e++)d.push(m(c[e].type));this._from=a.map(function(a){return a.clone()});this._to=b;this._time=0}else this._from=this._to=null,this._toNumEffects=0,this._effects=b};return a}();g.default=
f});