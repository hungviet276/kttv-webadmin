// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/meshUtils/deduplicate":function(){define(["require","exports","../../../core/mathUtils"],function(q,a,l){function d(a,d,h){var n=a.byteLength/(4*d),r=new Uint32Array(a,0,n*d);a=new Uint32Array(n);var c=h&&h.minReduction||0,b=h&&h.originalIndices||null,e=h&&h.componentOffsets||null,f=0;if(e)for(h=0;h<e.length-1;h++){var k=e[h+1]-e[h];k>f&&(f=k)}else f=n;var m=Math.floor(1.1*f)+1;if(null==g||g.length<2*m)g=new Uint32Array(l.nextHighestPowerOfTwo(2*m));for(h=0;h<
2*m;h++)g[h]=0;var f=0,u=(k=!!e&&!!b)?b.length:n,y=k?new Uint32Array(b.length):null,z=0!==c?Math.ceil(7.84*1.96/(c*c)*c*(1-c)):u,C=1,N=e?e[1]:u;for(h=0;h<u;h++){if(h===z){var v=1-f/h;if(v+1.96*Math.sqrt(v*(1-v)/h)<c)return null;z*=2}if(h===N){for(v=0;v<2*m;v++)g[v]=0;if(b)for(v=e[C-1];v<e[C];v++)y[v]=a[b[v]];N=e[++C]}for(var q=k?b[h]:h,v=q*d,t,w=t=0;w<d;w++)t=r[v+w]+t|0,t=t+(t<<11)+(t>>>2)|0;t>>>=0;for(var w=t%m,E=f;0!==g[2*w+1];){if(g[2*w]===t){var D=g[2*w+1]-1,A=D*d;a:{for(var x=0;x<d;x++)if(r[v+
x]!==r[A+x]){A=!1;break a}A=!0}if(A){E=a[D];break}}w++;w>=m&&(w-=m)}E===f&&(g[2*w]=t,g[2*w+1]=q+1,f++);a[q]=E}if(0!==c&&1-f/n<c)return null;if(k){for(h=e[C-1];h<y.length;h++)y[h]=a[b[h]];a=y}n=new Uint32Array(d*f);for(h=f=0;h<u;h++)if(a[h]===f){v=(k?b[h]:h)*d;c=r;e=v;m=n;y=f*d;z=d;for(C=0;C<z;C++)m[y+C]=c[e+C];f++}if(b&&!k){d=new Uint32Array(b.length);for(h=0;h<d.length;h++)d[h]=a[b[h]];a=d}return{buffer:n.buffer,indices:a,uniqueCount:f}}Object.defineProperty(a,"__esModule",{value:!0});a.deduplicate=
void 0;a.deduplicate=d;var g=null;a.default=d})},"esri/views/3d/support/meshProcessing":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.computeNeighbors=void 0;a.computeNeighbors=function(a,d){for(var g=a.length/3,n=new Uint32Array(d+1),m=new Uint32Array(d+1),h=function(b,e){b<e?n[b+1]++:m[e+1]++},p=0;p<g;p++){var r=a[3*p],c=a[3*p+1],b=a[3*p+2];h(r,c);h(c,b);h(b,r)}for(p=c=r=0;p<d;p++)b=n[p+1],h=m[p+1],n[p+1]=r,m[p+1]=c,r+=b,c+=h;for(var e=
new Uint32Array(6*g),f=n[d],h=function(b,c,a){if(b<c){var k=n[b+1]++;e[2*k]=c;e[2*k+1]=a}else k=m[c+1]++,e[2*f+2*k]=b,e[2*f+2*k+1]=a},p=0;p<g;p++)r=a[3*p],c=a[3*p+1],b=a[3*p+2],h(r,c,p),h(c,b,p),h(b,r,p);r=function(b,c){var a=2*b;b=c-b;for(c=1;c<b;c++){var f=e[a+2*c],k=e[a+2*c+1],u=c-1;for(u;0<=u&&e[a+2*u]>f;u--)e[a+2*u+2]=e[a+2*u],e[a+2*u+3]=e[a+2*u+1];e[a+2*u+2]=f;e[a+2*u+3]=k}};for(p=0;p<d;p++)r(n[p],n[p+1]),r(f+m[p],f+m[p+1]);for(var k=new Int32Array(3*g),l=function(b,e){return b===a[3*e]?0:b===
a[3*e+1]?1:b===a[3*e+2]?2:-1},g=function(b,e){b=l(b,e);k[3*e+b]=-1},r=function(b,e,c,a){b=l(b,e);k[3*e+b]=a;c=l(c,a);k[3*a+c]=e},p=0;p<d;p++){for(var c=n[p],b=n[p+1],h=m[p],u=m[p+1];c<b&&h<u;){var y=e[2*c],z=e[2*f+2*h];y===z?(r(p,e[2*c+1],z,e[2*f+2*h+1]),c++,h++):y<z?(g(p,e[2*c+1]),c++):(g(z,e[2*f+2*h+1]),h++)}for(;c<b;)g(p,e[2*c+1]),c++;for(;h<u;)z=e[2*f+2*h],g(z,e[2*f+2*h+1]),h++}return k}})},"esri/views/3d/support/buffer/workerHelper":function(){define(["require","exports","tslib","./BufferView",
"./InterleavedLayout"],function(q,a,l,d,g){function n(a){var c=[];a.fields.forEach(function(b,e){b=l.__assign(l.__assign({},b),{constructor:h(b.constructor)});c.push([e,b])});return{stride:a.stride,fields:c,fieldNames:a.fieldNames}}function m(a){var c=g.newLayout();c.stride=a.stride;c.fieldNames=a.fieldNames;a.fields.forEach(function(b){return c.fields.set(b[0],l.__assign(l.__assign({},b[1]),{constructor:p.get(b[1].constructor)}))});return c}function h(a){return a.ElementType+"_"+a.ElementCount}Object.defineProperty(a,
"__esModule",{value:!0});a.unpackLayout=a.packLayout=a.unpackInterleavedBuffer=a.packInterleavedBuffer=void 0;a.packInterleavedBuffer=function(a,c){c.push(a.buffer);return{buffer:a.buffer,layout:n(a.layout)}};a.unpackInterleavedBuffer=function(a){return m(a.layout).createView(a.buffer)};a.packLayout=n;a.unpackLayout=m;q=[d.BufferViewFloat,d.BufferViewVec2f,d.BufferViewVec3f,d.BufferViewVec4f,d.BufferViewMat3f,d.BufferViewMat4f,d.BufferViewFloat64,d.BufferViewVec2f64,d.BufferViewVec3f64,d.BufferViewVec4f64,
d.BufferViewMat3f64,d.BufferViewMat4f64,d.BufferViewUint8,d.BufferViewVec2u8,d.BufferViewVec3u8,d.BufferViewVec4u8,d.BufferViewUint16,d.BufferViewVec2u16,d.BufferViewVec3u16,d.BufferViewVec4u16,d.BufferViewUint32,d.BufferViewVec2u32,d.BufferViewVec3u32,d.BufferViewVec4u32,d.BufferViewInt8,d.BufferViewVec2i8,d.BufferViewVec3i8,d.BufferViewVec4i8,d.BufferViewInt16,d.BufferViewVec2i16,d.BufferViewVec3i16,d.BufferViewVec4i16,d.BufferViewInt32,d.BufferViewVec2i32,d.BufferViewVec3i32,d.BufferViewVec4i32];
var p=new Map;q.forEach(function(a){return p.set(h(a),a)})})},"esri/views/3d/support/buffer/BufferView":function(){define("require exports tslib ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(q,a,l,d,g,n,m,h,p){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewVec4i32=a.BufferViewVec3i32=a.BufferViewVec2i32=a.BufferViewInt32=a.BufferViewVec4i16=a.BufferViewVec3i16=a.BufferViewVec2i16=a.BufferViewInt16=a.BufferViewVec4i8=
a.BufferViewVec3i8=a.BufferViewVec2i8=a.BufferViewInt8=a.BufferViewVec4u32=a.BufferViewVec3u32=a.BufferViewVec2u32=a.BufferViewUint32=a.BufferViewVec4u16=a.BufferViewVec3u16=a.BufferViewVec2u16=a.BufferViewUint16=a.BufferViewVec4u8=a.BufferViewVec3u8=a.BufferViewVec2u8=a.BufferViewUint8=a.BufferViewVec4f64=a.BufferViewVec3f64=a.BufferViewVec2f64=a.BufferViewFloat64=a.BufferViewMat4f64=a.BufferViewMat4f=a.BufferViewMat3f64=a.BufferViewMat3f=a.BufferViewVec4f=a.BufferViewVec3f=a.BufferViewVec2f=a.BufferViewFloat=
void 0;q=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(n.BufferViewScalarImpl);a.BufferViewFloat=q;q=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,
b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(m.BufferViewVec2Impl);a.BufferViewVec2f=q;q=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(h.BufferViewVec3Impl);a.BufferViewVec3f=q;q=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,
b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(p.BufferViewVec4Impl);a.BufferViewVec4f=q;q=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(d.BufferViewMat3Impl);
a.BufferViewMat3f=q;d=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float64Array,b,e,c,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(d.BufferViewMat3Impl);a.BufferViewMat3f64=d;d=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float32Array,b,e,c,k)||this;b.elementType="f32";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,
b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f32";return c}(g.BufferViewMat4Impl);a.BufferViewMat4f=d;g=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float64Array,b,e,c,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(g.BufferViewMat4Impl);a.BufferViewMat4f64=g;g=function(a){function c(b,e,c,k){void 0===e&&(e=0);b=a.call(this,Float64Array,
b,e,c,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(n.BufferViewScalarImpl);a.BufferViewFloat64=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,f,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(m.BufferViewVec2Impl);
a.BufferViewVec2f64=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,f,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(h.BufferViewVec3Impl);a.BufferViewVec3f64=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,f,k)||this;b.elementType="f64";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,
b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="f64";return c}(p.BufferViewVec4Impl);a.BufferViewVec4f64=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,f,k)||this;b.elementType="u8";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="u8";return c}(n.BufferViewScalarImpl);a.BufferViewUint8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,
c,f,k)||this;b.elementType="u8";return b}l.__extends(c,a);c.fromTypedArray=function(b,e){return new c(b.buffer,b.byteOffset,e,b.byteOffset+b.byteLength)};c.ElementType="u8";return c}(m.BufferViewVec2Impl);a.BufferViewVec2u8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,f,k)||this;b.elementType="u8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u8";return c}(h.BufferViewVec3Impl);
a.BufferViewVec3u8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,f,k)||this;b.elementType="u8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u8";return c}(p.BufferViewVec4Impl);a.BufferViewVec4u8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,f,k)||this;b.elementType="u16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,
b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u16";return c}(n.BufferViewScalarImpl);a.BufferViewUint16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,f,k)||this;b.elementType="u16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u16";return c}(m.BufferViewVec2Impl);a.BufferViewVec2u16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint16Array,
b,c,f,k)||this;b.elementType="u16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u16";return c}(h.BufferViewVec3Impl);a.BufferViewVec3u16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,f,k)||this;b.elementType="u16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u16";return c}(p.BufferViewVec4Impl);
a.BufferViewVec4u16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,f,k)||this;b.elementType="u32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u32";return c}(n.BufferViewScalarImpl);a.BufferViewUint32=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,f,k)||this;b.elementType="u32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,
b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u32";return c}(m.BufferViewVec2Impl);a.BufferViewVec2u32=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,f,k)||this;b.elementType="u32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u32";return c}(h.BufferViewVec3Impl);a.BufferViewVec3u32=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Uint32Array,
b,c,f,k)||this;b.elementType="u32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="u32";return c}(p.BufferViewVec4Impl);a.BufferViewVec4u32=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,f,k)||this;b.elementType="i8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i8";return c}(n.BufferViewScalarImpl);
a.BufferViewInt8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,f,k)||this;b.elementType="i8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i8";return c}(m.BufferViewVec2Impl);a.BufferViewVec2i8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,f,k)||this;b.elementType="i8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,
b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i8";return c}(h.BufferViewVec3Impl);a.BufferViewVec3i8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,f,k)||this;b.elementType="i8";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i8";return c}(p.BufferViewVec4Impl);a.BufferViewVec4i8=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,f,
k)||this;b.elementType="i16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i16";return c}(n.BufferViewScalarImpl);a.BufferViewInt16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,f,k)||this;b.elementType="i16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i16";return c}(m.BufferViewVec2Impl);
a.BufferViewVec2i16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,f,k)||this;b.elementType="i16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i16";return c}(h.BufferViewVec3Impl);a.BufferViewVec3i16=g;g=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,f,k)||this;b.elementType="i16";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,
b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i16";return c}(p.BufferViewVec4Impl);a.BufferViewVec4i16=g;n=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,f,k)||this;b.elementType="i32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i32";return c}(n.BufferViewScalarImpl);a.BufferViewInt32=n;m=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int32Array,
b,c,f,k)||this;b.elementType="i32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i32";return c}(m.BufferViewVec2Impl);a.BufferViewVec2i32=m;h=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,f,k)||this;b.elementType="i32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i32";return c}(h.BufferViewVec3Impl);
a.BufferViewVec3i32=h;p=function(a){function c(b,c,f,k){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,f,k)||this;b.elementType="i32";return b}l.__extends(c,a);c.fromTypedArray=function(b,a){return new c(b.buffer,b.byteOffset,a,b.byteOffset+b.byteLength)};c.ElementType="i32";return c}(p.BufferViewVec4Impl);a.BufferViewVec4i32=p})},"esri/views/3d/support/buffer/internals/Mat3":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewMat3Impl=
void 0;q=function(){function a(a,g,n,m,h){void 0===n&&(n=0);this.TypedArrayConstructor=a;this.elementCount=9;a=this.TypedArrayConstructor;void 0===m&&(m=9*a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:n;this.typedBuffer=null==h?new a(g,d):new a(g,d,(h-n)/a.BYTES_PER_ELEMENT);this.typedBufferStride=m/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getMat=function(a,g){a*=
this.typedBufferStride;for(var d=0;9>d;d++)g[d]=this.typedBuffer[a+d];return g};a.prototype.setMat=function(a,g){a*=this.typedBufferStride;for(var d=0;9>d;d++)this.typedBuffer[a+d]=g[d]};a.prototype.get=function(a,g){return this.typedBuffer[a*this.typedBufferStride+g]};a.prototype.set=function(a,g,n){this.typedBuffer[a*this.typedBufferStride+g]=n};a.prototype.copyFrom=function(a,g,n){var d=this.typedBuffer,h=g.typedBuffer;a*=this.typedBufferStride;g=n*g.typedBufferStride;for(n=0;9>n;++n)d[a+n]=h[g+
n]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});a.ElementCount=9;return a}();a.BufferViewMat3Impl=q})},"esri/views/3d/support/buffer/internals/Mat4":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewMat4Impl=void 0;q=function(){function a(a,g,n,m,h){void 0===n&&(n=0);this.TypedArrayConstructor=a;this.elementCount=16;a=this.TypedArrayConstructor;void 0===m&&
(m=16*a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:n;this.typedBuffer=null==h?new a(g,d):new a(g,d,(h-n)/a.BYTES_PER_ELEMENT);this.typedBufferStride=m/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getMat=function(a,g){a*=this.typedBufferStride;for(var d=0;16>d;d++)g[d]=this.typedBuffer[a+d];return g};a.prototype.setMat=function(a,g){a*=this.typedBufferStride;for(var d=
0;16>d;d++)this.typedBuffer[a+d]=g[d]};a.prototype.get=function(a,g){return this.typedBuffer[a*this.typedBufferStride+g]};a.prototype.set=function(a,g,n){this.typedBuffer[a*this.typedBufferStride+g]=n};a.prototype.copyFrom=function(a,g,n){var d=this.typedBuffer,h=g.typedBuffer;a*=this.typedBufferStride;g=n*g.typedBufferStride;for(n=0;16>n;++n)d[a+n]=h[g+n]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});a.ElementCount=16;
return a}();a.BufferViewMat4Impl=q})},"esri/views/3d/support/buffer/internals/Scalar":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewScalarImpl=void 0;q=function(){function a(a,g,n,m,h){void 0===n&&(n=0);this.TypedArrayConstructor=a;this.elementCount=1;a=this.TypedArrayConstructor;void 0===m&&(m=a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:n;this.typedBuffer=null==h?new a(g,d):new a(g,d,(h-n)/a.BYTES_PER_ELEMENT);this.typedBufferStride=
m/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.get=function(a){return this.typedBuffer[a*this.typedBufferStride]};a.prototype.set=function(a,g){this.typedBuffer[a*this.typedBufferStride]=g};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});a.ElementCount=1;return a}();a.BufferViewScalarImpl=
q})},"esri/views/3d/support/buffer/internals/Vec2":function(){define(["require","exports","../../../../../core/libs/gl-matrix-2/vec2"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewVec2Impl=void 0;q=function(){function a(a,d,m,h,p){void 0===m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=2;a=this.TypedArrayConstructor;void 0===h&&(h=2*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:m;this.typedBuffer=null==p?new a(d,g):new a(d,g,(p-m)/a.BYTES_PER_ELEMENT);this.typedBufferStride=
h/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return l.vec2.set(d,this.typedBuffer[a*this.typedBufferStride],this.typedBuffer[a*this.typedBufferStride+1])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+1]=d[1]};a.prototype.get=function(a,d){return this.typedBuffer[a*
this.typedBufferStride+d]};a.prototype.set=function(a,d,m){this.typedBuffer[a*this.typedBufferStride+d]=m};a.prototype.setValues=function(a,d,m){this.typedBuffer[a*this.typedBufferStride]=d;this.typedBuffer[a*this.typedBufferStride+1]=m};a.prototype.copyFrom=function(a,d,m){var h=this.typedBuffer,g=d.typedBuffer;a*=this.typedBufferStride;d=m*d.typedBufferStride;h[a]=g[d];h[a+1]=g[d+1]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});
a.ElementCount=2;return a}();a.BufferViewVec2Impl=q})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require","exports","./math/vec2"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=void 0;a.vec2=l})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(q,a,l){function d(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];return a}function g(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];return a}function n(a,b,e){a[0]=b[0]/e[0];a[1]=b[1]/e[1];
return a}function m(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)}function h(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a}function p(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function r(a){var b=a[0];a=a[1];return b*b+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.len=a.equals=a.exactEquals=a.str=a.angle=a.rotate=a.transformMat4=a.transformMat3=a.transformMat2d=a.transformMat2=a.random=a.lerp=a.cross=a.dot=a.normalize=a.inverse=
a.negate=a.squaredLength=a.length=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=void 0;a.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};a.set=function(a,b,e){a[0]=b;a[1]=e;return a};a.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];return a};a.subtract=d;a.multiply=g;a.divide=n;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);
return a};a.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);return a};a.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};a.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;return a};a.scaleAndAdd=function(a,b,e,f){a[0]=b[0]+e[0]*f;a[1]=b[1]+e[1]*f;return a};a.distance=m;a.squaredDistance=h;a.length=p;a.squaredLength=r;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};
a.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};a.normalize=function(a,b){var c=b[0],f=b[1],c=c*c+f*f;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a};a.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};a.cross=function(a,b,e){b=b[0]*e[1]-b[1]*e[0];a[0]=a[1]=0;a[2]=b;return a};a.lerp=function(a,b,e,f){var c=b[0];b=b[1];a[0]=c+f*(e[0]-c);a[1]=b+f*(e[1]-b);return a};a.random=function(a,b){b=b||1;var c=2*l.RANDOM()*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a};a.transformMat2=
function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b;a[1]=e[1]*c+e[3]*b;return a};a.transformMat2d=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b+e[4];a[1]=e[1]*c+e[3]*b+e[5];return a};a.transformMat3=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[3]*b+e[6];a[1]=e[1]*c+e[4]*b+e[7];return a};a.transformMat4=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[4]*b+e[12];a[1]=e[1]*c+e[5]*b+e[13];return a};a.rotate=function(a,b,e,f){var c=b[0]-e[0];b=b[1]-e[1];var h=Math.sin(f);f=Math.cos(f);a[0]=
c*f-b*h+e[0];a[1]=c*h+b*f+e[1];return a};a.angle=function(a,b){var c=a[0];a=a[1];var f=b[0];b=b[1];var k=c*c+a*a;0<k&&(k=1/Math.sqrt(k));var h=f*f+b*b;0<h&&(h=1/Math.sqrt(h));c=(c*f+a*b)*k*h;return 1<c?0:-1>c?Math.PI:Math.acos(c)};a.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]};a.equals=function(a,b){var c=a[0];a=a[1];var f=b[0];b=b[1];return Math.abs(c-f)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,
Math.abs(a),Math.abs(b))};a.len=p;a.sub=d;a.mul=g;a.div=n;a.dist=m;a.sqrDist=h;a.sqrLen=r})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.equals=a.toDegree=a.toRadian=a.RANDOM=a.EPSILON=void 0;a.EPSILON=1E-6;a.RANDOM=Math.random;var l=Math.PI/180,d=180/Math.PI;a.toRadian=function(a){return a*l};a.toDegree=function(a){return a*d};a.equals=function(d,n){return Math.abs(d-n)<=a.EPSILON*Math.max(1,Math.abs(d),
Math.abs(n))}})},"esri/views/3d/support/buffer/internals/Vec3":function(){define(["require","exports","../../../../../core/libs/gl-matrix-2/vec3"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewVec3Impl=void 0;q=function(){function a(a,d,m,h,p){void 0===m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=3;a=this.TypedArrayConstructor;void 0===h&&(h=3*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:m;this.typedBuffer=null==p?new a(d,g):new a(d,g,(p-m)/a.BYTES_PER_ELEMENT);
this.typedBufferStride=h/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return l.vec3.set(d,this.typedBuffer[a*this.typedBufferStride],this.typedBuffer[a*this.typedBufferStride+1],this.typedBuffer[a*this.typedBufferStride+2])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+
1]=d[1];this.typedBuffer[a*this.typedBufferStride+2]=d[2]};a.prototype.get=function(a,d){return this.typedBuffer[a*this.typedBufferStride+d]};a.prototype.set=function(a,d,m){this.typedBuffer[a*this.typedBufferStride+d]=m};a.prototype.setValues=function(a,d,m,h){this.typedBuffer[a*this.typedBufferStride]=d;this.typedBuffer[a*this.typedBufferStride+1]=m;this.typedBuffer[a*this.typedBufferStride+2]=h};a.prototype.copyFrom=function(a,d,m){var h=this.typedBuffer,g=d.typedBuffer;a*=this.typedBufferStride;
d=m*d.typedBufferStride;h[a]=g[d];h[a+1]=g[d+1];h[a+2]=g[d+2]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});a.ElementCount=3;return a}();a.BufferViewVec3Impl=q})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=void 0;a.vec3=l})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64",
"./common"],function(q,a,l,d){function g(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function n(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function m(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}function h(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function p(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function r(a,b){var c=b[0]-a[0],e=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+e*e+a*a)}function c(a,b){var c=b[0]-a[0],e=b[1]-a[1];a=
b[2]-a[2];return c*c+e*e+a*a}function b(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function e(a,b){var c=b[0],e=b[1],f=b[2],c=c*c+e*e+f*f;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}function f(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=a.str=a.angle=a.rotateZ=a.rotateY=a.rotateX=a.transformQuat=a.transformMat3=a.transformMat4=a.random=a.bezier=a.hermite=
a.lerp=a.cross=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=a.length=void 0;a.length=g;a.copy=n;a.set=function(a,b,c,e){a[0]=b;a[1]=c;a[2]=e;return a};a.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a};a.subtract=m;a.multiply=h;a.divide=p;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};
a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};a.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};a.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};a.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};a.scaleAndAdd=function(a,
b,c,e){a[0]=b[0]+c[0]*e;a[1]=b[1]+c[1]*e;a[2]=b[2]+c[2]*e;return a};a.distance=r;a.squaredDistance=c;a.squaredLength=b;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};a.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};a.normalize=e;a.dot=f;a.cross=function(a,b,c){var e=b[0],f=b[1];b=b[2];var k=c[0],h=c[1];c=c[2];a[0]=f*c-b*h;a[1]=b*k-e*c;a[2]=e*h-f*k;return a};a.lerp=function(a,b,c,e){var f=b[0],k=b[1];b=b[2];a[0]=f+e*(c[0]-f);a[1]=k+e*(c[1]-k);a[2]=b+e*(c[2]-
b);return a};a.hermite=function(a,b,c,e,f,k){var h=k*k,d=h*(2*k-3)+1,g=h*(k-2)+k,p=h*(k-1);k=h*(3-2*k);a[0]=b[0]*d+c[0]*g+e[0]*p+f[0]*k;a[1]=b[1]*d+c[1]*g+e[1]*p+f[1]*k;a[2]=b[2]*d+c[2]*g+e[2]*p+f[2]*k;return a};a.bezier=function(a,b,c,e,f,k){var h=1-k,d=h*h,g=k*k,p=d*h,d=3*k*d,h=3*g*h;k*=g;a[0]=b[0]*p+c[0]*d+e[0]*h+f[0]*k;a[1]=b[1]*p+c[1]*d+e[1]*h+f[1]*k;a[2]=b[2]*p+c[2]*d+e[2]*h+f[2]*k;return a};a.random=function(a,b){b=b||1;var c=2*d.RANDOM()*Math.PI,e=2*d.RANDOM()-1,f=Math.sqrt(1-e*e)*b;a[0]=
Math.cos(c)*f;a[1]=Math.sin(c)*f;a[2]=e*b;return a};a.transformMat4=function(a,b,c){var e=b[0],f=b[1];b=b[2];a[0]=c[0]*e+c[4]*f+c[8]*b+c[12];a[1]=c[1]*e+c[5]*f+c[9]*b+c[13];a[2]=c[2]*e+c[6]*f+c[10]*b+c[14];return a};a.transformMat3=function(a,b,c){var e=b[0],f=b[1];b=b[2];a[0]=e*c[0]+f*c[3]+b*c[6];a[1]=e*c[1]+f*c[4]+b*c[7];a[2]=e*c[2]+f*c[5]+b*c[8];return a};a.transformQuat=function(a,b,c){var e=c[0],f=c[1],k=c[2],h=b[0],d=b[1];b=b[2];var g=f*b-k*d,p=k*h-e*b,m=e*d-f*h;c=2*c[3];a[0]=h+g*c+2*(f*m-k*
p);a[1]=d+p*c+2*(k*g-e*m);a[2]=b+m*c+2*(e*p-f*g);return a};a.rotateX=function(a,b,c,e){var f=[],k=[];f[0]=b[0]-c[0];f[1]=b[1]-c[1];f[2]=b[2]-c[2];k[0]=f[0];k[1]=f[1]*Math.cos(e)-f[2]*Math.sin(e);k[2]=f[1]*Math.sin(e)+f[2]*Math.cos(e);a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+c[2];return a};a.rotateY=function(a,b,c,e){var f=[],k=[];f[0]=b[0]-c[0];f[1]=b[1]-c[1];f[2]=b[2]-c[2];k[0]=f[2]*Math.sin(e)+f[0]*Math.cos(e);k[1]=f[1];k[2]=f[2]*Math.cos(e)-f[0]*Math.sin(e);a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+
c[2];return a};a.rotateZ=function(a,b,c,e){var f=[],k=[];f[0]=b[0]-c[0];f[1]=b[1]-c[1];f[2]=b[2]-c[2];k[0]=f[0]*Math.cos(e)-f[1]*Math.sin(e);k[1]=f[0]*Math.sin(e)+f[1]*Math.cos(e);k[2]=f[2];a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+c[2];return a};a.angle=function(a,b){n(k,a);n(G,b);e(k,k);e(G,G);a=f(k,G);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var k=l.create(),G=l.create();a.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===
b[2]};a.equals=function(a,b){var c=a[0],e=a[1];a=a[2];var f=b[0],k=b[1];b=b[2];return Math.abs(c-f)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(e-k)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.sub=m;a.mul=h;a.div=p;a.dist=r;a.sqrDist=c;a.len=g;a.sqrLen=b})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(q,a){function l(){return[0,0,0]}function d(){return[1,1,1]}function g(){return[1,
0,0]}function n(){return[0,1,0]}function m(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_Z=a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitZ=a.unitY=a.unitX=a.ones=a.zeros=a.createView=a.fromArray=a.fromValues=a.clone=a.create=void 0;a.create=l;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,d,g){return[a,d,g]};a.fromArray=function(a){for(var h=l(),d=Math.min(3,a.length),c=0;c<d;++c)h[c]=a[c];return h};a.createView=function(a,d){return new Float64Array(a,d,3)};
a.zeros=function(){return l()};a.ones=d;a.unitX=g;a.unitY=n;a.unitZ=m;a.ZEROS=l();a.ONES=d();a.UNIT_X=g();a.UNIT_Y=n();a.UNIT_Z=m()})},"esri/views/3d/support/buffer/internals/Vec4":function(){define(["require","exports","../../../../../core/libs/gl-matrix-2/vec4"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.BufferViewVec4Impl=void 0;q=function(){function a(a,d,m,h,p){void 0===m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=4;a=this.TypedArrayConstructor;void 0===h&&
(h=4*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:m;this.typedBuffer=null==p?new a(d,g):new a(d,g,(p-m)/a.BYTES_PER_ELEMENT);this.typedBufferStride=h/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return l.vec4.set(d,this.typedBuffer[a*this.typedBufferStride],this.typedBuffer[a*this.typedBufferStride+1],this.typedBuffer[a*this.typedBufferStride+
2],this.typedBuffer[a*this.typedBufferStride+3])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+1]=d[1];this.typedBuffer[a*this.typedBufferStride+2]=d[2];this.typedBuffer[a*this.typedBufferStride+3]=d[3]};a.prototype.get=function(a,d){return this.typedBuffer[a*this.typedBufferStride+d]};a.prototype.set=function(a,d,m){this.typedBuffer[a*this.typedBufferStride+d]=m};a.prototype.setValues=function(a,d,m,h,p){this.typedBuffer[a*
this.typedBufferStride]=d;this.typedBuffer[a*this.typedBufferStride+1]=m;this.typedBuffer[a*this.typedBufferStride+2]=h;this.typedBuffer[a*this.typedBufferStride+3]=p};a.prototype.copyFrom=function(a,d,m){var h=this.typedBuffer,g=d.typedBuffer;a*=this.typedBufferStride;d=m*d.typedBufferStride;h[a]=g[d];h[a+1]=g[d+1];h[a+2]=g[d+2];h[a+3]=g[d+3]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!1,configurable:!0});a.ElementCount=4;return a}();a.BufferViewVec4Impl=
q})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.vec4=void 0;a.vec4=l})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(q,a,l){function d(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];a[2]=b[2]-e[2];a[3]=b[3]-e[3];return a}function g(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];a[2]=b[2]*e[2];a[3]=b[3]*e[3];return a}function n(a,b,e){a[0]=b[0]/e[0];a[1]=
b[1]/e[1];a[2]=b[2]/e[2];a[3]=b[3]/e[3];return a}function m(a,b){var c=b[0]-a[0],f=b[1]-a[1],k=b[2]-a[2];a=b[3]-a[3];return Math.sqrt(c*c+f*f+k*k+a*a)}function h(a,b){var c=b[0]-a[0],f=b[1]-a[1],k=b[2]-a[2];a=b[3]-a[3];return c*c+f*f+k*k+a*a}function p(a){var b=a[0],c=a[1],f=a[2];a=a[3];return Math.sqrt(b*b+c*c+f*f+a*a)}function r(a){var b=a[0],c=a[1],f=a[2];a=a[3];return b*b+c*c+f*f+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=
a.str=a.transformQuat=a.transformMat4=a.random=a.lerp=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.length=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=void 0;a.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};a.set=function(a,b,e,f,k){a[0]=b;a[1]=e;a[2]=f;a[3]=k;return a};a.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];a[3]=b[3]+e[3];return a};a.subtract=d;a.multiply=
g;a.divide=n;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a};a.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);a[2]=Math.min(b[2],e[2]);a[3]=Math.min(b[3],e[3]);return a};a.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);a[2]=Math.max(b[2],e[2]);a[3]=Math.max(b[3],e[3]);
return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a};a.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;return a};a.scaleAndAdd=function(a,b,e,f){a[0]=b[0]+e[0]*f;a[1]=b[1]+e[1]*f;a[2]=b[2]+e[2]*f;a[3]=b[3]+e[3]*f;return a};a.distance=m;a.squaredDistance=h;a.length=p;a.squaredLength=r;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};a.inverse=function(a,b){a[0]=1/b[0];a[1]=
1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};a.normalize=function(a,b){var c=b[0],f=b[1],k=b[2];b=b[3];var d=c*c+f*f+k*k+b*b;0<d&&(d=1/Math.sqrt(d),a[0]=c*d,a[1]=f*d,a[2]=k*d,a[3]=b*d);return a};a.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};a.lerp=function(a,b,e,f){var c=b[0],d=b[1],h=b[2];b=b[3];a[0]=c+f*(e[0]-c);a[1]=d+f*(e[1]-d);a[2]=h+f*(e[2]-h);a[3]=b+f*(e[3]-b);return a};a.random=function(a,b){b=b||1;var c,f,k,d,h,g;do c=2*l.RANDOM()-1,f=2*l.RANDOM()-1,h=c*c+f*f;while(1<=h);
do k=2*l.RANDOM()-1,d=2*l.RANDOM()-1,g=k*k+d*d;while(1<=g);h=Math.sqrt((1-h)/g);a[0]=b*c;a[1]=b*f;a[2]=b*k*h;a[3]=b*d*h;return a};a.transformMat4=function(a,b,e){var c=b[0],k=b[1],d=b[2];b=b[3];a[0]=e[0]*c+e[4]*k+e[8]*d+e[12]*b;a[1]=e[1]*c+e[5]*k+e[9]*d+e[13]*b;a[2]=e[2]*c+e[6]*k+e[10]*d+e[14]*b;a[3]=e[3]*c+e[7]*k+e[11]*d+e[15]*b;return a};a.transformQuat=function(a,b,e){var c=b[0],k=b[1],d=b[2],h=e[0],g=e[1],p=e[2];e=e[3];var m=e*c+g*d-p*k,l=e*k+p*c-h*d,n=e*d+h*k-g*c,c=-h*c-g*k-p*d;a[0]=m*e+c*-h+
l*-p-n*-g;a[1]=l*e+c*-g+n*-h-m*-p;a[2]=n*e+c*-p+m*-g-l*-h;a[3]=b[3];return a};a.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};a.equals=function(a,b){var c=a[0],f=a[1],k=a[2];a=a[3];var d=b[0],h=b[1],g=b[2];b=b[3];return Math.abs(c-d)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(f-h)<=l.EPSILON*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(k-g)<=l.EPSILON*Math.max(1,Math.abs(k),
Math.abs(g))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.sub=d;a.mul=g;a.div=n;a.dist=m;a.sqrDist=h;a.len=p;a.sqrLen=r})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["require","exports","./BufferView","./types"],function(q,a,l,d){Object.defineProperty(a,"__esModule",{value:!0});a.newLayout=a.InterleavedLayout=a.InterleavedBuffer=void 0;var g=function(){function a(a,d){this.layout=a;this.buffer="number"===typeof d?new ArrayBuffer(d*a.stride):d;d=0;for(var h=
a.fieldNames;d<h.length;d++){var c=h[d],b=a.fields.get(c);this[c]=new b.constructor(this.buffer,b.offset,this.stride)}}Object.defineProperty(a.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:!1,configurable:!0});a.prototype.getField=
function(a,d){return(a=this[a])&&a.elementCount===d.ElementCount&&a.elementType===d.ElementType?a:null};a.prototype.slice=function(d,g){return new a(this.layout,this.buffer.slice(d*this.stride,g*this.stride))};a.prototype.copyFrom=function(a,d,g,c){var b=this.stride;0===b%4?(a=new Uint32Array(a.buffer,d*b,c*b/4),g=new Uint32Array(this.buffer,g*b,c*b/4)):(a=new Uint8Array(a.buffer,d*b,c*b),g=new Uint8Array(this.buffer,g*b,c*b));g.set(a)};return a}();a.InterleavedBuffer=g;var n=function(){function a(){this.stride=
0;this.fields=new Map;this.fieldNames=[]}a.prototype.vec2f=function(a,d){this.appendField(a,l.BufferViewVec2f,d);return this};a.prototype.vec2f64=function(a,d){this.appendField(a,l.BufferViewVec2f64,d);return this};a.prototype.vec3f=function(a,d){this.appendField(a,l.BufferViewVec3f,d);return this};a.prototype.vec3f64=function(a,d){this.appendField(a,l.BufferViewVec3f64,d);return this};a.prototype.vec4f=function(a,d){this.appendField(a,l.BufferViewVec4f,d);return this};a.prototype.vec4f64=function(a,
d){this.appendField(a,l.BufferViewVec4f64,d);return this};a.prototype.mat3f=function(a,d){this.appendField(a,l.BufferViewMat3f,d);return this};a.prototype.mat3f64=function(a,d){this.appendField(a,l.BufferViewMat3f64,d);return this};a.prototype.mat4f=function(a,d){this.appendField(a,l.BufferViewMat4f,d);return this};a.prototype.mat4f64=function(a,d){this.appendField(a,l.BufferViewMat4f64,d);return this};a.prototype.vec4u8=function(a,d){this.appendField(a,l.BufferViewVec4u8,d);return this};a.prototype.f32=
function(a,d){this.appendField(a,l.BufferViewFloat,d);return this};a.prototype.f64=function(a,d){this.appendField(a,l.BufferViewFloat64,d);return this};a.prototype.u8=function(a,d){this.appendField(a,l.BufferViewUint8,d);return this};a.prototype.u16=function(a,d){this.appendField(a,l.BufferViewUint16,d);return this};a.prototype.i8=function(a,d){this.appendField(a,l.BufferViewInt8,d);return this};a.prototype.vec2i8=function(a,d){this.appendField(a,l.BufferViewVec2i8,d);return this};a.prototype.vec2i16=
function(a,d){this.appendField(a,l.BufferViewVec2i16,d);return this};a.prototype.vec2u8=function(a,d){this.appendField(a,l.BufferViewVec2u8,d);return this};a.prototype.vec4u16=function(a,d){this.appendField(a,l.BufferViewVec4u16,d);return this};a.prototype.u32=function(a,d){this.appendField(a,l.BufferViewUint32,d);return this};a.prototype.appendField=function(a,g,l){var c=g.ElementCount*d.elementTypeSize(g.ElementType);this.fields.set(a,{size:c,constructor:g,offset:this.stride,optional:l});this.stride+=
c;this.fieldNames.push(a)};a.prototype.alignTo=function(a){this.stride=Math.floor((this.stride+a-1)/a)*a;return this};a.prototype.hasField=function(a){return 0<=this.fieldNames.indexOf(a)};a.prototype.createBuffer=function(a){return new g(this,a)};a.prototype.createView=function(a){return new g(this,a)};a.prototype.clone=function(){var d=new a;d.stride=this.stride;d.fields=new Map;this.fields.forEach(function(a,g){return d.fields.set(g,a)});d.fieldNames=this.fieldNames.slice();d.BufferType=this.BufferType;
return d};return a}();a.InterleavedLayout=n;a.newLayout=function(){return new n}})},"esri/views/3d/support/buffer/types":function(){define(["require","exports","../../../../core/compilerUtils"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.maximumValue=a.isInteger=a.isSigned=a.elementTypeSize=void 0;a.elementTypeSize=function(a){switch(a){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8;
default:l.neverReached(a)}};a.isSigned=function(a){switch(a){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0;default:l.neverReached(a)}};a.isInteger=function(a){switch(a){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1;default:l.neverReached(a)}};a.maximumValue=function(a){switch(a){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;
case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308;default:l.neverReached(a)}}})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["require","exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout"],function(q,a,l,d){Object.defineProperty(a,"__esModule",{value:!0});a.EdgeShaderAttributeLocations=a.SilhouetteEdgeInstancesLayout=a.RegularEdgeInstancesLayout=a.CommonInstancesLayout=a.glVertexLayout=a.VertexLayout=
a.EdgeInputBufferLayout=void 0;a.EdgeInputBufferLayout=d.newLayout().vec3f("position").u16("componentIndex").u16("_padding");a.VertexLayout=d.newLayout().vec2u8("sideness");a.glVertexLayout=l.glLayout(a.VertexLayout);a.CommonInstancesLayout=d.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}).u16("_padding2",{glPadding:!0});a.RegularEdgeInstancesLayout=
a.CommonInstancesLayout.clone().vec3f("normal");a.SilhouetteEdgeInstancesLayout=a.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB");a.EdgeShaderAttributeLocations={position0:0,position1:1,componentIndex:2,variantOffset:4,variantStroke:5,variantExtension:6,normal:7,normalA:7,normalB:8,sideness:9}})},"esri/views/3d/support/buffer/glUtil":function(){define(["require","exports","tslib"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.glLayout=void 0;var d={divisor:0};
a.glLayout=function(a,m){void 0===m&&(m={});m=l.__assign(l.__assign({},d),m);var h=a.stride;return a.fieldNames.filter(function(d){d=a.fields.get(d).optional;return!(d&&d.glPadding)}).map(function(d){var l=a.fields.get(d),c=l.constructor.ElementCount;var b=g[l.constructor.ElementType];if(!b)throw Error("BufferType not supported in WebGL");return{name:d,stride:h,count:c,type:b,offset:l.offset,normalized:!(!l.optional||!l.optional.glNormalized),divisor:m.divisor}})};var g={u8:5121,u16:5123,u32:5125,
i8:5120,i16:5122,i32:5124,f32:5126}})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("require exports ../../../../../core/RandomLCG ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(q,a,l,d,g,n,m){Object.defineProperty(a,"__esModule",{value:!0});a.SilhouetteEdgeBufferWriter=a.RegularEdgeBufferWriter=a.CommonBufferWriter=void 0;var h=function(){function a(){}
a.prototype.updateSettings=function(a){this.settings=a};a.prototype.write=function(a,e,d){var f=p;f[0]=d.position0[0];f[1]=d.position0[1];f[2]=d.position0[2];f[3]=d.position1[0];f[4]=d.position1[1];f[5]=d.position1[2];c[0]=5381;for(f=0;f<r.length;f++)c[0]=31*c[0]+r[f];b.seed=c[0];var f=b.getIntRange(0,255),k=b.getIntRange(0,this.settings.variants-1),g=b.getFloat(),g=-(1-Math.min(g/.7,1))+Math.max(0,g-.7)/(1-.7),g=255*(Math.pow(Math.abs(g),1.2)*(0>g?-1:1)*.5+.5);a.position0.setVec(e,d.position0);a.position1.setVec(e,
d.position1);a.componentIndex.set(e,d.componentIndex);a.variantOffset.set(e,f);a.variantStroke.set(e,k);a.variantExtension.set(e,g)};a.prototype.trim=function(a,b){return a.slice(0,b)};return a}();a.CommonBufferWriter=h;var p=new Float32Array(6),r=new Uint32Array(p.buffer),c=new Uint32Array(1),b=new l;q=function(){function a(){this.commonWriter=new h}a.prototype.updateSettings=function(a){this.commonWriter.updateSettings(a)};a.prototype.allocate=function(a){return m.RegularEdgeInstancesLayout.createBuffer(a)};
a.prototype.write=function(a,b,c){this.commonWriter.write(a,b,c);d.vec3.add(e,c.faceNormal0,c.faceNormal1);d.vec3.normalize(e,e);a.normal.setVec(b,e)};a.prototype.trim=function(a,b){return this.commonWriter.trim(a,b)};a.Layout=m.RegularEdgeInstancesLayout;a.glLayout=n.glLayout(m.RegularEdgeInstancesLayout,{divisor:1});return a}();a.RegularEdgeBufferWriter=q;q=function(){function a(){this.commonWriter=new h}a.prototype.updateSettings=function(a){this.commonWriter.updateSettings(a)};a.prototype.allocate=
function(a){return m.SilhouetteEdgeInstancesLayout.createBuffer(a)};a.prototype.write=function(a,b,c){this.commonWriter.write(a,b,c);a.normalA.setVec(b,c.faceNormal0);a.normalB.setVec(b,c.faceNormal1)};a.prototype.trim=function(a,b){return this.commonWriter.trim(a,b)};a.Layout=m.SilhouetteEdgeInstancesLayout;a.glLayout=n.glLayout(m.SilhouetteEdgeInstancesLayout,{divisor:1});return a}();a.SilhouetteEdgeBufferWriter=q;var e=g.vec3f64.create()})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require",
"exports","./factories/vec3f64"],function(q,a,l){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=void 0;a.vec3f64=l})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("require exports ../../../../../core/arrayUtils ../../../../../core/mathUtils ../../../../../core/typedArrayUtil ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../support/mathUtils".split(" "),function(q,a,l,d,g,n,m,h){function p(a,c){var e=d.acosClamped(a.cosAngle),
f=b.fwd,k=b.ortho;h.directionFromTo(f,a.position1,a.position0);a=0<n.vec3.dot(n.vec3.cross(k,a.faceNormal0,a.faceNormal1),f)?-1:1;return e*a>c}function r(a){var b=a.faces.length/3,c=a.faces;a=a.neighbors;for(var e=0,d=0;d<b;d++)var f=a[3*d+0],k=a[3*d+1],g=a[3*d+2],h=c[3*d+0],l=c[3*d+1],m=c[3*d+2],e=e+(-1===f||h<l?1:0),e=e+(-1===k||l<m?1:0),e=e+(-1===g||m<h?1:0);for(var e=new Int32Array(4*e),n=0,d=0;d<b;d++){f=a[3*d+0];k=a[3*d+1];g=a[3*d+2];h=c[3*d+0];l=c[3*d+1];m=c[3*d+2];if(-1===f||h<l)e[n++]=h,
e[n++]=l,e[n++]=d,e[n++]=f;if(-1===k||l<m)e[n++]=l,e[n++]=m,e[n++]=d,e[n++]=k;if(-1===g||m<h)e[n++]=m,e[n++]=h,e[n++]=d,e[n++]=g}return e}function c(a){var b=a.faces.length/3,c=a.vertices.position;a=a.faces;for(var d=e.v0,f=e.v1,k=e.v2,g=new Float32Array(3*b),h=0;h<b;h++){var l=a[3*h+1],m=a[3*h+2];c.getVec(a[3*h+0],d);c.getVec(l,f);c.getVec(m,k);n.vec3.subtract(f,f,d);n.vec3.subtract(k,k,d);n.vec3.cross(d,f,k);n.vec3.normalize(d,d);g[3*h+0]=d[0];g[3*h+1]=d[1];g[3*h+2]=d[2]}return g}Object.defineProperty(a,
"__esModule",{value:!0});a.extractEdges=void 0;a.extractEdges=function(a,e,h,m){void 0===m&&(m=f);var k=a.vertices.position,q=a.vertices.componentIndex,u=d.deg2rad(m.anglePlanar);m=d.deg2rad(m.angleSignificantEdge);var G=Math.cos(m),y=Math.cos(u),t=b.edge,w=t.position0,E=t.position1,D=t.faceNormal0,A=t.faceNormal1,x=c(a),F=r(a),I=F.length/4;a=e.allocate(I);m=0;var O=h.allocate(I),P=0,Q=0,R=0,S=l.range(0,I),J=new Float32Array(I);g.forEach(J,function(a,b,c){k.getVec(F[4*b+0],w);k.getVec(F[4*b+1],E);
c[b]=n.vec3.distance(w,E)});S.sort(function(a,b){return J[b]-J[a]});for(var T=[],U=[],K=0;K<I;K++){var B=S[K],L=J[B],M=F[4*B+0],W=F[4*B+1],H=F[4*B+2],B=F[4*B+3],V=-1===B;k.getVec(M,w);k.getVec(W,E);if(V)n.vec3.set(D,x[3*H+0],x[3*H+1],x[3*H+2]),n.vec3.copy(A,D),t.componentIndex=q.get(M),t.cosAngle=n.vec3.dot(D,A);else{n.vec3.set(D,x[3*H+0],x[3*H+1],x[3*H+2]);n.vec3.set(A,x[3*B+0],x[3*B+1],x[3*B+2]);t.componentIndex=q.get(M);t.cosAngle=n.vec3.dot(D,A);if(t.cosAngle>y)continue;-.9999>t.cosAngle&&n.vec3.copy(A,
D)}Q+=L;R++;V||t.cosAngle<G?(e.write(a,m++,t),T.push(L)):p(t,u)&&(h.write(O,P++,t),U.push(L))}q=new Float32Array(T.reverse());u=new Float32Array(U.reverse());return{regular:{instancesData:e.trim(a,m),lodInfo:{lengths:q}},silhouette:{instancesData:h.trim(O,P),lodInfo:{lengths:u}},averageEdgeLength:Q/R}};var b={edge:{position0:m.vec3f64.create(),position1:m.vec3f64.create(),faceNormal0:m.vec3f64.create(),faceNormal1:m.vec3f64.create(),componentIndex:0,cosAngle:0},ortho:m.vec3f64.create(),fwd:m.vec3f64.create()},
e={v0:m.vec3f64.create(),v1:m.vec3f64.create(),v2:m.vec3f64.create()},f={anglePlanar:4,angleSignificantEdge:35}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(q,a,l,d,g){function n(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.cyclicalDeg=a.cyclicalPI=a.cyclical2PI=a.planeFromPoints=
a.Cyclical=a.makePiecewiseLinearFunction=a.angle=a.slerp=a.bilerp=a.directionFromTo=a.sphericalToCartesian=a.cartesianToSpherical=a.moduloPositive=a.tangentFrame=a.makeOrthonormal=a.scaleFromMatrix=a.maxScale=a.fovy2fovx=a.fovx2fovy=a.cosCapped=void 0;a.cosCapped=function(a,c){return a>c?Math.cos(c):Math.cos(a)};a.fovx2fovy=function(a,c,d){return 2*Math.atan(d*Math.tan(.5*a)/c)};a.fovy2fovx=function(a,c,d){return 2*Math.atan(c*Math.tan(.5*a)/d)};a.maxScale=function(a){return Math.sqrt(Math.max(Math.max(a[0]*
a[0]+a[4]*a[4]+a[8]*a[8],a[1]*a[1]+a[5]*a[5]+a[9]*a[9]),a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,c){d.vec3.set(a,Math.sqrt(c[0]*c[0]+c[4]*c[4]+c[8]*c[8]),Math.sqrt(c[1]*c[1]+c[5]*c[5]+c[9]*c[9]),Math.sqrt(c[2]*c[2]+c[6]*c[6]+c[10]*c[10]));return a};a.makeOrthonormal=function(a,c,f){f=f||a;var b=d.vec3.dot(a,c);d.vec3.set(f,a[0]-b*c[0],a[1]-b*c[1],a[2]-b*c[2]);d.vec3.normalize(f,f)};a.tangentFrame=function(a,c,f){Math.abs(a[0])>Math.abs(a[1])?d.vec3.set(c,0,1,0):d.vec3.set(c,
1,0,0);d.vec3.cross(f,a,c);d.vec3.normalize(c,c);d.vec3.cross(c,f,a);d.vec3.normalize(f,f)};a.moduloPositive=function(a,c){return(a%c+c)%c};a.cartesianToSpherical=function(a,c){var b=d.vec3.length(a),e=l.asinClamped(a[2]/b);d.vec3.set(c,b,e,Math.atan2(a[1]/b,a[0]/b));return c};a.sphericalToCartesian=function(a,c){var b=a[0],e=a[1];a=a[2];var g=Math.cos(e);d.vec3.set(c,b*g*Math.cos(a),b*g*Math.sin(a),b*Math.sin(e))};a.directionFromTo=function(a,c,d){var b=d[0]-c[0],e=d[1]-c[1];c=d[2]-c[2];d=b*b+e*
e+c*c;if(!d)return a[0]=0,a[1]=0,a[2]=0,a;d=1/Math.sqrt(d);a[0]=b*d;a[1]=e*d;a[2]=c*d;return a};a.bilerp=function(a,c,d,k,g,h){a+=(c-a)*g;return a+(d+(k-d)*g-a)*h};a.slerp=function(a,e,f,k){void 0===k&&(k=g.vec3f64.create());var b=d.vec3.length(a),h=d.vec3.length(e),l=d.vec3.dot(a,e)/(b*h);if(.9999999999999999>l){var l=Math.acos(l),m=((1-f)*b+f*h)/Math.sin(l),h=m/h*Math.sin(f*l);d.vec3.scale(r,a,m/b*Math.sin((1-f)*l));d.vec3.scale(c,e,h);return d.vec3.add(k,r,c)}return d.vec3.lerp(k,a,e,f)};a.angle=
function(a,e,f){a=d.vec3.normalize(r,a);e=d.vec3.normalize(c,e);var b=l.acosClamped(d.vec3.dot(a,e));return f&&(a=d.vec3.cross(p,a,e),0>d.vec3.dot(a,f))?-b:b};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var e=1;c>a[e][0];)e++;var d=a[e][0];c=(d-c)/(d-a[e-1][0]);return c*a[e-1][1]+(1-c)*a[e][1]}};q=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===
b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d,g){void 0===d&&(d=0);void 0===g&&(g=!1);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));g&&c===b&&(c=a);return c+d};a.prototype.normalize=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=!1);return this._normalize(this.min,this.max,a,b,c)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return l.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-
b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,
b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=q;a.planeFromPoints=function(a,c,f,g){d.vec3.subtract(m,c,a);d.vec3.subtract(h,f,a);d.vec3.cross(g,m,h);d.vec3.normalize(g,g);g[3]=-d.vec3.dot(a,g)};var m=g.vec3f64.create(),h=g.vec3f64.create();a.cyclical2PI=n(new q(0,2*Math.PI));a.cyclicalPI=n(new q(-Math.PI,Math.PI));a.cyclicalDeg=n(new q(0,360));var p=g.vec3f64.create(),r=g.vec3f64.create(),c=g.vec3f64.create()})},"*noref":1}});
define("require exports tslib ../../../../../core/maybe ../../../../../core/typedArrayUtil ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/workerHelper ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(q,a,l,d,g,n,m,h,p,r,c){return function(){function a(){this.regularWriter=new r.RegularEdgeBufferWriter;this.silhouetteWriter=new r.SilhouetteEdgeBufferWriter}a.prototype.process=function(a,b){return l.__awaiter(this,
void 0,void 0,function(){var c,e,f;return l.__generator(this,function(g){switch(g.label){case 0:if(d.isNone(b))return[2,this.work(a)];c=[];e=this.packInput(a,c);return[4,b.invoke("wrappedWork",e,{transferList:c})];case 1:return f=g.sent(),[2,this.unpackOutput(f)]}})})};a.prototype.wrappedWork=function(a){return l.__awaiter(this,void 0,void 0,function(){var b,c,e,d;return l.__generator(this,function(f){b=this.unpackInput(a);c=this.work(b);e=[];this.packInputTransferables(b,e);d=this.packOutput(c,e);
return[2,{result:d,transferList:e}]})})};a.prototype.work=function(a){var b=this.extractEdgeInformation(a.data,a.skipDeduplicate,a.originalIndices);this.regularWriter.updateSettings(a.writerSettings);this.silhouetteWriter.updateSettings(a.writerSettings);return c.extractEdges(b,this.regularWriter,this.silhouetteWriter)};a.prototype.packInputTransferables=function(a,b){b.push(a.data.buffer)};a.prototype.packInput=function(a,b){this.packInputTransferables(a,b);b={dataBuffer:a.data.buffer,writerSettings:a.writerSettings,
skipDeduplicate:a.skipDeduplicate};a.originalIndices&&(b.originalIndicesBuffer=a.originalIndices.buffer,b.originalIndicesType=g.isUint32Array(a.originalIndices)?"Uint32Array":"Uint16Array");return b};a.prototype.unpackInput=function(a){return{data:p.EdgeInputBufferLayout.createView(a.dataBuffer),originalIndices:"Uint32Array"===a.originalIndicesType?new Uint32Array(a.originalIndicesBuffer):"Uint16Array"===a.originalIndicesType?new Uint16Array(a.originalIndicesBuffer):void 0,writerSettings:a.writerSettings,
skipDeduplicate:a.skipDeduplicate}};a.prototype.packOutput=function(a,b){b.push(a.regular.lodInfo.lengths.buffer);b.push(a.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:h.packInterleavedBuffer(a.regular.instancesData,b),lodInfo:{lengths:a.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:h.packInterleavedBuffer(a.silhouette.instancesData,b),lodInfo:{lengths:a.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:a.averageEdgeLength}};a.prototype.unpackOutput=function(a){return{regular:{instancesData:h.unpackInterleavedBuffer(a.regular.instancesData),
lodInfo:{lengths:new Float32Array(a.regular.lodInfo.lengths)}},silhouette:{instancesData:h.unpackInterleavedBuffer(a.silhouette.instancesData),lodInfo:{lengths:new Float32Array(a.silhouette.lodInfo.lengths)}},averageEdgeLength:a.averageEdgeLength}};a.prototype.extractEdgeInformation=function(a,b,c){if(b&&c)return b=m.computeNeighbors(c,a.count),{faces:c,neighbors:b,vertices:a};a=n.default(a.buffer,a.stride/4,{originalIndices:c});b=m.computeNeighbors(a.indices,a.uniqueCount);return{faces:a.indices,
neighbors:b,vertices:p.EdgeInputBufferLayout.createView(a.buffer)}};return a}()});