// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../../../core/Evented","../../../core/has"],function(d,c,e,f,g){Object.defineProperty(c,"__esModule",{value:!0});c.DisplayObject=void 0;var h=1/g("mapview-transitions-duration");d=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;a._clips=null;a.computedVisible=!0;a.computedOpacity=1;a.fadeTransitionEnabled=!1;a.inFadeTransition=!1;a._isReady=!1;a._opacity=1;a._stage=null;a._visible=!0;return a}e.__extends(b,c);Object.defineProperty(b.prototype,
"clips",{get:function(){return this._clips},set:function(a){this._clips=a;this.requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"isReady",{get:function(){return this._isReady},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"opacity",{get:function(){return this._opacity},set:function(a){this._opacity!==a&&(this._opacity=Math.min(1,Math.max(a,0)),this.requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"stage",{get:function(){return this._stage},
set:function(a){if(this._stage!==a){var b=this._stage;(this._stage=a)?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):b.trashDisplayObject(this)}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"visible",{get:function(){return this._visible},set:function(a){this._visible!==a&&(this._visible=a,this.requestRender())},enumerable:!1,configurable:!0});b.prototype.setTransform=function(a){};b.prototype.processRender=function(a){this.stage&&(this.updateTransitionProperties(a.deltaTime),
this.computedVisible&&this.doRender(a))};b.prototype.requestRender=function(){this.stage&&this.stage.requestRender()};b.prototype.processDetach=function(){this.onDetach();this.emit("detach")};b.prototype.updateTransitionProperties=function(a){if(this.fadeTransitionEnabled){var b=this.visible?this.opacity:0,c=this.computedOpacity;c===b?this.computedVisible=this.visible:(a*=h,this.computedOpacity=c>b?Math.max(b,c-a):Math.min(b,c+a),this.computedVisible=0<this.computedOpacity,b=b===this.computedOpacity,
this.inFadeTransition=!b,b||this.requestRender())}else this.computedOpacity=this.opacity,this.computedVisible=this.visible};b.prototype.onAttach=function(){};b.prototype.onDetach=function(){};b.prototype.doRender=function(a){};b.prototype.ready=function(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())};return b}(f);c.DisplayObject=d});