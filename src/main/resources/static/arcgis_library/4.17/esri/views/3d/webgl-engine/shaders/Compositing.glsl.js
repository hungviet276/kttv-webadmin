// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../core/shaderLibrary/ScreenSpacePass ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),function(n,e,b,l,c,m){Object.defineProperty(e,"__esModule",{value:!0});e.build=void 0;e.build=function(d){var a=new m.ShaderBuilder;a.include(l.ScreenSpacePass);a.fragment.uniforms.add("tex","sampler2D");0===d.function&&(d.hasOpacityFactor?(a.fragment.uniforms.add("opacity","float"),a.fragment.code.add(c.glsl(f||(f=b.__makeTemplateObject(["\n      void main() {\n        gl_FragColor \x3d texture2D(tex, uv) * opacity;\n      }"],
["\n      void main() {\n        gl_FragColor \x3d texture2D(tex, uv) * opacity;\n      }"]))))):a.fragment.code.add(c.glsl(g||(g=b.__makeTemplateObject(["\n      void main() {\n        gl_FragColor \x3d texture2D(tex, uv);\n      }"],["\n      void main() {\n        gl_FragColor \x3d texture2D(tex, uv);\n      }"])))));2===d.function&&a.fragment.code.add(c.glsl(h||(h=b.__makeTemplateObject(["\n    void main() {\n      gl_FragColor \x3d vec4(1.0 - texture2D(tex, uv).a);\n    }"],["\n    void main() {\n      gl_FragColor \x3d vec4(1.0 - texture2D(tex, uv).a);\n    }"]))));
3===d.function&&(a.fragment.uniforms.add("colorTexture","sampler2D"),a.fragment.uniforms.add("alphaTexture","sampler2D"),a.fragment.uniforms.add("frontFaceTexture","sampler2D"),a.fragment.code.add(c.glsl(k||(k=b.__makeTemplateObject(["\n    void main() {\n      vec4 srcColor \x3d texture2D(colorTexture, uv);\n      float srcAlpha \x3d texture2D(alphaTexture, uv).r;\n      vec4 frontFace \x3d texture2D(frontFaceTexture, uv);\n\n      gl_FragColor \x3d vec4(mix(srcColor.rgb/srcColor.a, frontFace.rgb, frontFace.a), srcAlpha);\n    }"],
["\n    void main() {\n      vec4 srcColor \x3d texture2D(colorTexture, uv);\n      float srcAlpha \x3d texture2D(alphaTexture, uv).r;\n      vec4 frontFace \x3d texture2D(frontFaceTexture, uv);\n\n      gl_FragColor \x3d vec4(mix(srcColor.rgb/srcColor.a, frontFace.rgb, frontFace.a), srcAlpha);\n    }"])))));return a};var f,g,h,k});