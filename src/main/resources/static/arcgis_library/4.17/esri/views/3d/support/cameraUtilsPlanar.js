// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/mathUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Extent ./cameraUtilsInternal ./pointUtils ./projectionUtils".split(" "),function(x,a,l,m,v,g,k,w,n,p,q){function r(b,a,c,e){void 0===e&&(e=n.createDirectionUp());m.mat4.identity(h);b=e.direction;var f=e.up;m.mat4.rotateZ(h,h,-l.deg2rad(a));m.mat4.rotateX(h,h,l.deg2rad(c));g.vec3.transformMat4(b,
t,h);g.vec3.scale(b,b,-1);g.vec3.transformMat4(f,u,h);return e}Object.defineProperty(a,"__esModule",{value:!0});a.toExtent=a.eyeTiltToLookAtTilt=a.lookAtTiltToEyeTilt=a.eyeForCenterWithHeadingTilt=a.directionToHeadingTilt=a.headingTiltToDirectionUp=void 0;var u=k.vec3f64.fromValues(0,1,0),t=k.vec3f64.fromValues(0,0,1),h=v.mat4f64.create(),c=k.vec3f64.create(),d=k.vec3f64.create();a.headingTiltToDirectionUp=r;a.directionToHeadingTilt=function(b,a,c,e){return n.directionToHeadingTilt(a,c,e,t,u)};a.eyeForCenterWithHeadingTilt=
function(b,a,c,e){var f=r(b,c,e),d=k.vec3f64.create();g.vec3.scale(d,f.direction,-a);g.vec3.add(d,d,b);return{up:f.up,eye:d,heading:c,tilt:e}};a.lookAtTiltToEyeTilt=function(b){return l.rad2deg(b)};a.eyeTiltToLookAtTilt=function(b){return l.deg2rad(b)};a.toExtent=function(b,a,h,e,f){var g=b.renderSpatialReference;b=b.map&&b.spatialReference||a.spatialReference;p.pointToVector(a,c,g);p.pointToVector(a,d,g);c[0]-=h/2;d[0]+=h/2;c[1]-=e/2;d[1]+=e/2;q.vectorToVector(c,g,c,b);q.vectorToVector(d,g,d,b);
f?(f.xmin=c[0],f.ymin=c[1],f.xmax=d[0],f.ymax=d[1],f.spatialReference=b):f=new w(c[0],c[1],d[0],d[1],b);return f}});