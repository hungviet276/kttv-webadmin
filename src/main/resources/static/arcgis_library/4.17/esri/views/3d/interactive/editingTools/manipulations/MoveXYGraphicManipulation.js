// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../../core/Handles ../../../../../core/maybe ../dragEventPipeline3D ./Manipulation ./moveUtils ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator".split(" "),function(e,d,f,l,m,n,p,q,g,r){Object.defineProperty(d,"__esModule",{value:!0});d.MoveXYGraphicManipulation=void 0;e=function(d){function c(a){var b=d.call(this)||this;b._handles=new l;b._view=a.view;b._tool=a.tool;b._graphicState=a.graphicState;b._createManipulator();b.forEachManipulator(function(a){return b._tool.manipulators.add(a)});
return b}f.__extends(c,d);c.prototype.destroy=function(){var a=this;this._handles.destroy();this.forEachManipulator(function(b){a._tool.manipulators.remove(b);b.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};c.prototype.forEachManipulator=function(a){a(this._manipulator,1)};c.prototype.createGraphicDragPipeline=function(a){var b=this;return q.createGraphicMoveDragPipeline(this._graphicState,a,function(a){return b.createDragPipeline(a)})};c.prototype.createDragPipeline=
function(a){var b=this._view,c=this._graphicState.graphic,d=m.isSome(c.geometry)?c.geometry.spatialReference:null;return g.createManipulatorDragEventPipeline(this._manipulator,function(e,h,f,k){h=h.next(n.screenToMapXYForGraphic(k,b,c,d)).next(g.addMapDelta()).next(g.addScreenDelta());a(e,h,f,k)})};c.prototype._createManipulator=function(){this._manipulator=new r.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return c}(p.Manipulation);d.MoveXYGraphicManipulation=
e});