// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
(function(w,e){"function"===typeof define&&define.amd?define([],e):"object"===typeof module&&module.exports&&(module.exports=e())})(this,function(){function w(e,p,g,u){this.message=e;this.expected=p;this.found=g;this.location=u;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,w)}(function(e,p){function g(){this.constructor=e}g.prototype=p.prototype;e.prototype=new g})(w,Error);w.buildMessage=function(e,p){function g(e){return e.charCodeAt(0).toString(16).toUpperCase()}
function u(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+g(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+g(e)})}function n(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+
g(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+g(e)})}var w={literal:function(e){return'"'+u(e.text)+'"'},"class":function(e){var h="",g;for(g=0;g<e.parts.length;g++)h+=e.parts[g]instanceof Array?n(e.parts[g][0])+"-"+n(e.parts[g][1]):n(e.parts[g]);return"["+(e.inverted?"^":"")+h+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){var h=Array(e.length),g;for(g=0;g<e.length;g++){var p=
g,n;n=e[g];n=w[n.type](n);h[p]=n}h.sort();if(0<h.length){for(e=g=1;g<h.length;g++)h[g-1]!==h[g]&&(h[e]=h[g],e++);h.length=e}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}(e)+" but "+(p?'"'+u(p)+'"':"end of input")+" found."};return{SyntaxError:w,parse:function(e,p){function g(a,b){return{type:"literal",text:a,ignoreCase:b}}function u(a,b,c){return{type:"class",parts:a,inverted:b,ignoreCase:c}}function n(a){return{type:"other",
description:a}}function F(a){var b=z[a],c;if(!b){for(c=a-1;!z[c];)c--;b=z[c];for(b={line:b.line,column:b.column};c<a;)10===e.charCodeAt(c)?(b.line++,b.column=1):b.column++,c++;z[a]=b}return b}function D(a,b){var c=F(a),e=F(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:e.line,column:e.column}}}function h(a){c<v||(c>v&&(v=c,C=[]),C.push(a))}function E(){var k,b;l++;k=c;b=t();b!==a?(e.substr(c,4)===G?(b=G,c+=4):(b=a,0===l&&h(ea)),b!==a?(b=t(),b!==a?(q=k,k=b=[]):(c=k,k=a)):
(c=k,k=a)):(c=k,k=a);l--;k===a&&(b=a,0===l&&h(fa));if(k===a)if(k=[],b=A(),b!==a)for(;b!==a;)k.push(b),b=A();else k=a;return k}function A(){var k,b,d,f;k=c;b=t();if(b!==a)if(l++,b=c,d=H(),d!==a?(40===e.charCodeAt(c)?(f=ga,c++):(f=a,0===l&&h(ha)),f!==a?(q=b,b=d):(c=b,b=a)):(c=b,b=a),l--,b===a&&(d=a,0===l&&h(ia)),b!==a)if(d=t(),d!==a){var g,m,p,n,r,u;f=c;g=B();if(g!==a){d=[];m=c;p=t();p!==a?(44===e.charCodeAt(c)?(n=I,c++):(n=a,0===l&&h(J)),n===a&&(n=null),n!==a?(r=t(),r!==a?(u=B(),u!==a?m=p=[p,n,r,u]:
(c=m,m=a)):(c=m,m=a)):(c=m,m=a)):(c=m,m=a);for(;m!==a;)d.push(m),m=c,p=t(),p!==a?(44===e.charCodeAt(c)?(n=I,c++):(n=a,0===l&&h(J)),n===a&&(n=null),n!==a?(r=t(),r!==a?(u=B(),u!==a?m=p=[p,n,r,u]:(c=m,m=a)):(c=m,m=a)):(c=m,m=a)):(c=m,m=a);d!==a?(q=f,f=g,f=g=0<d.length?[f].concat(ja(d,3)):[f]):(c=f,f=a)}else c=f,f=a;d=f;d===a&&(d=null);d!==a?(f=t(),f!==a?(41===e.charCodeAt(c)?(f=ka,c++):(f=a,0===l&&h(la)),f!==a?(f=t(),f!==a?(q=k,k=b={type:"function",name:b,parameters:d||[]}):(c=k,k=a)):(c=k,k=a)):(c=
k,k=a)):(c=k,k=a)}else c=k,k=a;else c=k,k=a;else c=k,k=a;return k}function B(){var k,b;k=c;var d,f;l++;b=c;d=t();d!==a?(d=r(),d!==a?(37===e.charCodeAt(c)?(f=ma,c++):(f=a,0===l&&h(na)),f!==a?(q=b,b=d={value:d,unit:"%"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a);l--;b===a&&(d=a,0===l&&h(oa));b===a&&(l++,b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===K?(f=K,c+=2):(f=a,0===l&&h(pa)),f!==a?(q=b,b=d={value:d,unit:"px"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===L?(f=L,c+=
2):(f=a,0===l&&h(qa)),f!==a?(q=b,b=d={value:d,unit:"cm"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===M?(f=M,c+=2):(f=a,0===l&&h(ra)),f!==a?(q=b,b=d={value:d,unit:"mm"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===N?(f=N,c+=2):(f=a,0===l&&h(sa)),f!==a?(q=b,b=d={value:d,unit:"in"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===O?(f=O,c+=2):(f=a,0===l&&h(ta)),f!==a?(q=b,b=d={value:d,
unit:"pt"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=t(),d!==a?(d=r(),d!==a?(e.substr(c,2)===P?(f=P,c+=2):(f=a,0===l&&h(ua)),f!==a?(q=b,b=d={value:d,unit:"pc"}):(c=b,b=a)):(c=b,b=a)):(c=b,b=a)))))),l--,b===a&&(d=a,0===l&&h(va)),b===a&&(l++,b=c,d=r(),d!==a?(e.substr(c,3)===Q?(f=Q,c+=3):(f=a,0===l&&h(wa)),f!==a?(q=b,b=d={value:d,unit:"deg"}):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=r(),d!==a?(e.substr(c,3)===R?(f=R,c+=3):(f=a,0===l&&h(xa)),f!==a?(q=b,b=d={value:d,unit:"rad"}):(c=b,b=a)):(c=b,b=a),b===
a&&(b=c,d=r(),d!==a?(e.substr(c,4)===S?(f=S,c+=4):(f=a,0===l&&h(ya)),f!==a?(q=b,b=d={value:d,unit:"grad"}):(c=b,b=a)):(c=b,b=a),b===a&&(b=c,d=r(),d!==a?(e.substr(c,4)===T?(f=T,c+=4):(f=a,0===l&&h(za)),f!==a?(q=b,b=d={value:d,unit:"turn"}):(c=b,b=a)):(c=b,b=a)))),l--,b===a&&(d=a,0===l&&h(Aa)),b===a&&(l++,b=c,d=t(),d!==a?(d=r(),d!==a?(q=b,b=d={value:d,unit:null}):(c=b,b=a)):(c=b,b=a),l--,b===a&&(d=a,0===l&&h(Ba)))));b!==a&&(q=k,b={type:"quantity",value:b.value,unit:b.unit});k=b;if(k===a){k=c;l++;b=
c;35===e.charCodeAt(c)?(d=Ca,c++):(d=a,0===l&&h(Da));if(d!==a){d=[];U.test(e.charAt(c))?(f=e.charAt(c),c++):(f=a,0===l&&h(V));if(f!==a)for(;f!==a;)d.push(f),U.test(e.charAt(c))?(f=e.charAt(c),c++):(f=a,0===l&&h(V));else d=a;d!==a?(q=b,b=d={type:"hex",value:e.substring(q,c)}):(c=b,b=a)}else c=b,b=a;b===a&&(b=c,d=A(),d!==a&&(q=b,d={type:"function",value:d}),b=d,b===a&&(b=c,d=H(),d!==a&&(q=b,d={type:"named",value:e.substring(q,c)}),b=d));l--;b===a&&(d=a,0===l&&h(Ea));b!==a&&(q=k,b={type:"color",colorType:b.type,
value:b.value});k=b}return k}function t(){var k,b;l++;k=[];W.test(e.charAt(c))?(b=e.charAt(c),c++):(b=a,0===l&&h(X));for(;b!==a;)k.push(b),W.test(e.charAt(c))?(b=e.charAt(c),c++):(b=a,0===l&&h(X));l--;k===a&&(b=a,0===l&&h(Fa));return k}function H(){var k,b,d;l++;k=c;b=[];Y.test(e.charAt(c))?(d=e.charAt(c),c++):(d=a,0===l&&h(Z));if(d!==a)for(;d!==a;)b.push(d),Y.test(e.charAt(c))?(d=e.charAt(c),c++):(d=a,0===l&&h(Z));else b=a;b!==a&&(q=k,b=e.substring(q,c));k=b;l--;k===a&&(b=a,0===l&&h(Ga));return k}
function r(){var k,b,d,f,g,m;k=c;aa.test(e.charAt(c))?(b=e.charAt(c),c++):(b=a,0===l&&h(ba));b===a&&(b=null);if(b!==a){d=c;b=[];x.test(e.charAt(c))?(f=e.charAt(c),c++):(f=a,0===l&&h(y));for(;f!==a;)b.push(f),x.test(e.charAt(c))?(f=e.charAt(c),c++):(f=a,0===l&&h(y));if(b!==a)if(46===e.charCodeAt(c)?(f=Ha,c++):(f=a,0===l&&h(Ia)),f!==a){g=[];x.test(e.charAt(c))?(m=e.charAt(c),c++):(m=a,0===l&&h(y));if(m!==a)for(;m!==a;)g.push(m),x.test(e.charAt(c))?(m=e.charAt(c),c++):(m=a,0===l&&h(y));else g=a;g!==
a?d=b=[b,f,g]:(c=d,d=a)}else c=d,d=a;else c=d,d=a;if(d===a)if(d=[],x.test(e.charAt(c))?(b=e.charAt(c),c++):(b=a,0===l&&h(y)),b!==a)for(;b!==a;)d.push(b),x.test(e.charAt(c))?(b=e.charAt(c),c++):(b=a,0===l&&h(y));else d=a;if(d!==a){b=c;101===e.charCodeAt(c)?(f=Ja,c++):(f=a,0===l&&h(Ka));if(f!==a)if(aa.test(e.charAt(c))?(g=e.charAt(c),c++):(g=a,0===l&&h(ba)),g===a&&(g=null),g!==a){m=[];x.test(e.charAt(c))?(d=e.charAt(c),c++):(d=a,0===l&&h(y));if(d!==a)for(;d!==a;)m.push(d),x.test(e.charAt(c))?(d=e.charAt(c),
c++):(d=a,0===l&&h(y));else m=a;m!==a?b=f=[f,g,m]:(c=b,b=a)}else c=b,b=a;else c=b,b=a;b===a&&(b=null);b!==a?(q=k,k=b=parseFloat(e.substring(q,c))):(c=k,k=a)}else c=k,k=a}else c=k,k=a;return k}function ja(a,b){return a.map(function(a){return a[b]})}p=void 0!==p?p:{};var a={},ca={start:E},da=E,fa=n("none"),G="none",ea=g("none",!1),ka=")",la=g(")",!1),I=",",J=g(",",!1),Fa=n("whitespace"),W=/^[ \t\n\r]/,X=u([" ","\t","\n","\r"],!1,!1),ia=n("function"),ga="(",ha=g("(",!1),Ga=n("identifier"),Y=/^[a-z\-]/,
Z=u([["a","z"],"-"],!1,!1),oa=n("percentage"),ma="%",na=g("%",!1),va=n("length"),K="px",pa=g("px",!1),L="cm",qa=g("cm",!1),M="mm",ra=g("mm",!1),N="in",sa=g("in",!1),O="pt",ta=g("pt",!1),P="pc",ua=g("pc",!1),Aa=n("angle"),Q="deg",wa=g("deg",!1),R="rad",xa=g("rad",!1),S="grad",ya=g("grad",!1),T="turn",za=g("turn",!1),Ba=n("number"),Ea=n("color"),Ca="#",Da=g("#",!1),U=/^[0-9a-fA-F]/,V=u([["0","9"],["a","f"],["A","F"]],!1,!1),aa=/^[+\-]/,ba=u(["+","-"],!1,!1),x=/^[0-9]/,y=u([["0","9"]],!1,!1),Ha=".",
Ia=g(".",!1),Ja="e",Ka=g("e",!1),c=0,q=0,z=[{line:1,column:1}],v=0,C=[],l=0;if("startRule"in p){if(!(p.startRule in ca))throw Error("Can't start parsing from rule \""+p.startRule+'".');da=ca[p.startRule]}p=da();if(p!==a&&c===e.length)return p;p!==a&&c<e.length&&h({type:"end"});throw function(a,b,c){return new w(w.buildMessage(a,b),a,b,c)}(C,v<e.length?e.charAt(v):null,v<e.length?D(v,v+1):D(v,v));}}});