// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../../../core/Evented","../../../core/MapUtils"],function(e,c,k,l,h){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicsMap=void 0;e=function(c){function a(){var b=null!==c&&c.apply(this,arguments)||this;b._map=new Map;return b}k.__extends(a,c);a.prototype.clear=function(){if(0<this._map.size){var b=this.toArray();this._map.clear();this.emit("change",{added:[],removed:b})}};Object.defineProperty(a.prototype,"length",{get:function(){return this._map.size},
enumerable:!1,configurable:!0});a.prototype.get=function(b){return this._map.get(b)};a.prototype.addMany=function(b){if(0!==b.length){for(var g=new Set,f=0;f<b.length;f++){var a=b[f],d=a.objectId,c=this._map.get(d);c?(g.add(d),a!==c&&(b[f]=c),++c.refCount):(a.refCount=1,this._map.set(d,a))}b=0<g.size?b.filter(function(b){return!g.has(b.objectId)}):b;0<b.length&&this.emit("change",{added:b,removed:[]})}};a.prototype.removeMany=function(b){for(var a=[],f=0;f<b.length;f++){var c=b[f],d=c.objectId,e=
this._map.get(d);null!=e&&0>=--e.refCount&&(this._map.delete(d),a.push(c))}0<a.length&&this.emit("change",{added:[],removed:a})};a.prototype.removeManyByObjectId=function(b){for(var a=[],c=0;c<b.length;c++){var e=b[c],d=this._map.get(e);null!=d&&0>=--d.refCount&&(this._map.delete(e),a.push(d))}0<a.length&&this.emit("change",{added:[],removed:a})};a.prototype.toArray=function(){return h.valuesOfMap(this._map)};a.prototype.find=function(b){var a;h.someMap(this._map,function(c){return b(c)?(a=c,!0):
!1});return a};a.prototype.forEach=function(b){this._map.forEach(function(a){return b(a)})};return a}(l);c.GraphicsMap=e});