// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ./LaserlinePath.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),function(l,d,f,m,n,p,e,g,q,r,t,h){Object.defineProperty(d,"__esModule",{value:!0});d.LaserlinePathTechniqueConfiguration=
d.LaserlinePathTechnique=void 0;e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}f.__extends(b,a);b.prototype.initializeProgram=function(c){var a=b.shader.get().build(this.configuration);return new r(c.rctx,a.generateSource("vertex"),a.generateSource("fragment"),b.attributeLocations)};b.prototype.bind=function(c,b,a){this.program.setUniform3fv("innerColor",c.innerColor);this.program.setUniform1f("innerWidth",c.innerWidth*a.pixelRatio);this.program.setUniform3fv("glowColor",
c.glowColor);this.program.setUniform1f("glowWidth",c.glowWidth*a.pixelRatio);this.program.setUniform1f("glowFalloff",c.glowFalloff);this.program.setUniform1f("globalAlpha",c.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",a.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/a.fullWidth,2/a.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",a.projectionMatrix);m.mat4.translate(k,a.viewMatrix,b);this.program.setUniformMatrix4fv("uModelViewMatrix",k);this.configuration.contrastControlEnabled&&
this.program.setUniform1f("globalAlphaContrastBoost",null!=c.globalAlphaContrastBoost?c.globalAlphaContrastBoost:1)};b.prototype.initializePipeline=function(){return h.makePipelineState({blending:t.simpleBlendingParams(1,771),colorWrite:h.defaultColorWriteParams})};b.prototype.bindPipelineState=function(a){a.setPipelineState(this.pipeline)};b.shader=new p.ReloadableShaderModule(q,function(){return new Promise(function(a,b){l(["./LaserlinePath.glsl"],a,b)})});b.attributeLocations={start:0,end:1,up:2,
extrude:3};return b}(e.ShaderTechnique);d.LaserlinePathTechnique=e;e=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.contrastControlEnabled=!1;return b}f.__extends(b,a);f.__decorate([g.parameter()],b.prototype,"contrastControlEnabled",void 0);return b}(g.ShaderTechniqueConfiguration);d.LaserlinePathTechniqueConfiguration=e;var k=n.mat4f64.create()});