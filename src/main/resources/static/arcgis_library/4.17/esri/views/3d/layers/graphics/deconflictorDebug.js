// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","../../support/debugFlags"],function(u,d,k){function r(a,f,g,d,t){h&&(h(),h=null);var e=b.height,c=l;c.beginPath();c.lineWidth=1;c.strokeStyle=t;c.moveTo(a,e-g);c.lineTo(f,e-g);c.stroke();c.lineTo(f,e-d);c.stroke();c.lineTo(f,e-g);c.stroke();c.lineTo(a,e-g);c.stroke();c.lineTo(a,e-g);c.stroke();c.closePath()}Object.defineProperty(d,"__esModule",{value:!0});d.drawPoly=d.prepare=d.drawAccelerationStruct=void 0;var n=!1,q=!1,m=!1,p=!1,h=null,b,l;d.drawAccelerationStruct=function(a,
b){if(q&&l){h&&(h(),h=null);for(var g=l,d=0,f=0;f<a.accBinsNumX;f++)for(var e=0;e<a.accBinsNumY;e++){var c=a.accBins[f][a.accBinsNumY-1-e],d=d+c.length,k=f*a.accBinsSizeX,n=(f+1)*a.accBinsSizeX,m=e*a.accBinsSizeY,p=(e+1)*a.accBinsSizeY;g.fillText(c.length.toFixed(),k+5,m+15);r(k,n,m,p,"blue")}g.fillText("total totalShownLabels: "+d,70,40);g.fillText("total visible labels: "+b.size,70,50);g.fillText("total numTests: "+a.accNumTests,70,30)}};d.prepare=function(a){m=k.DECONFLICTOR_SHOW_VISIBLE;p=k.DECONFLICTOR_SHOW_INVISIBLE;
n=m||p;q=k.DECONFLICTOR_SHOW_GRID;h=null;n||q?h=function(){null==b&&(b=document.createElement("canvas"),b.setAttribute("id","canvas2d"),a.surface.parentElement.style.position="relative",a.surface.parentElement.appendChild(b));var f=a.height*a.pixelRatio;b.setAttribute("width",a.width*a.pixelRatio+"px");b.setAttribute("height",f+"px");b.setAttribute("style","position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:"+a.width+"px;height:"+a.height+"px");l=b.getContext("2d");l.clearRect(0,
0,a.width,a.height);l.font="12px Arial"}:b&&(b.parentElement.removeChild(b),b=null)};d.drawPoly=function(a,b){n&&(b&&m||!b&&p)&&r(a.aabr[0],a.aabr[2],a.aabr[1],a.aabr[3],b?"green":"red")}});