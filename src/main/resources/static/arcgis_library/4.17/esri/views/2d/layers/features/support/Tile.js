// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/ArrayPool ../../../../../geometry/Extent ../../../../../geometry/support/aaBoundingRect ../../../../../tasks/support/QuantizationParameters ../../../tiling/TileKey".split(" "),function(f,d,h,k,l,m,n){function g(a,c){var e=a.bounds,b=c.bounds;return a.key.id!==c.key.id&&a.key.world===c.key.world&&e[0]<=b[0]&&e[1]<=b[1]&&e[2]>=b[2]&&e[3]>=b[3]}Object.defineProperty(d,"__esModule",{value:!0});d.Tile=d.isChildOf=d.isParentOf=void 0;d.isParentOf=g;d.isChildOf=
function(a,c){return g(c,a)};f=function(){function a(c,a){this.key=new n(0,0,0,0);this.bounds=l.create();this.objectIds=new Set;this.key.set(a);a=c.getLODInfoAt(this.key);this.tileInfoView=c;this.tileInfoView.getTileBounds(this.bounds,this.key,!0);this.resolution=a.resolution;this.scale=a.scale;this.level=a.level;this.needsClear=!0}Object.defineProperty(a.prototype,"id",{get:function(){return this.key.id},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"extent",{get:function(){return k.fromBounds(this.bounds,
this.tileInfoView.tileInfo.spatialReference)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"transform",{get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"bbox",{get:function(){var a=this.bounds;return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},enumerable:!1,configurable:!0});a.prototype.clone=function(){return new a(this.tileInfoView,
this.key)};a.prototype.neighbor=function(c,e){var b=this.key.clone(),d=1<<b.level;c=b.col+c;e=b.row+e;0>c?(b.col=c+d,--b.world):c>=d?(b.col=c-d,b.world+=1):b.col=c;b.row=e;return new a(this.tileInfoView,b)};a.prototype.createChildTiles=function(){for(var c=this.key.getChildKeys(),d=h.acquire(),b=0;b<c.length;b++)d[b]=new a(this.tileInfoView,c[b]);return d};a.prototype.getQuantizationParameters=function(){return m.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],
ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})};return a}();d.Tile=f;d.default=f});