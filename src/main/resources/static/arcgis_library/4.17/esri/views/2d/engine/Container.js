// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../core/has ./DisplayObject ../../layers/effects/EffectList".split(" "),function(g,e,f,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});e.Container=void 0;var n=k("mapview-transitions-duration");g=function(d){function b(){var a=null!==d&&d.apply(this,arguments)||this;a._childrenSet=new Set;a.children=[];a._effectList=null;return a}f.__extends(b,d);Object.defineProperty(b.prototype,"blendMode",{get:function(){return this._blendMode},set:function(a){this._blendMode=
a;this.requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"clips",{get:function(){return this._clips},set:function(a){this._clips=a;this.children.forEach(function(c){return c.clips=a})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"computedEffects",{get:function(){var a,c;return null!==(c=null===(a=this._effectList)||void 0===a?void 0:a.effects)&&void 0!==c?c:null},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"effect",{get:function(){var a,
c;return null!==(c=null===(a=this._effectList)||void 0===a?void 0:a.effect)&&void 0!==c?c:""},set:function(a){if(this._effectList||a)this._effectList||(this._effectList=new m.default(n)),this._effectList.effect=a,this.requestRender()},enumerable:!1,configurable:!0});b.prototype.updateTransitionProperties=function(a){d.prototype.updateTransitionProperties.call(this,a);this._effectList&&(this._effectList.transitionStep(a),this._effectList.transitioning&&this.requestRender())};b.prototype.doRender=function(a){a=
this.createRenderParams(a);this.renderChildren(a)};b.prototype.addChild=function(a){return this.addChildAt(a,this.children.length)};b.prototype.addChildAt=function(a,c){void 0===c&&(c=this.children.length);if(!a||this.contains(a))return a;var b=a.parent;b&&b!==this&&b.removeChild(a);c>=this.children.length?this.children.push(a):this.children.splice(c,0,a);this._childrenSet.add(a);a.parent=this;a.stage=this.stage;this!==this.stage&&(a.clips=this.clips);this.requestRender();return a};b.prototype.contains=
function(a){return this._childrenSet.has(a)};b.prototype.removeAllChildren=function(){this._childrenSet.clear();for(var a=0,c=this.children;a<c.length;a++){var b=c[a];this!==this.stage&&(b.clips=null);b.stage=null;b.parent=null}this.children.length=0};b.prototype.removeChild=function(a){return this.contains(a)?this.removeChildAt(this.children.indexOf(a)):a};b.prototype.removeChildAt=function(a){if(0>a||a>=this.children.length)return null;a=this.children.splice(a,1)[0];this._childrenSet.delete(a);
this!==this.stage&&(a.clips=null);a.stage=null;a.parent=null;return a};b.prototype.sortChildren=function(a){return this.children.sort(a)};b.prototype.onAttach=function(){d.prototype.onAttach.call(this);for(var a=this.stage,b=0,h=this.children;b<h.length;b++)h[b].stage=a};b.prototype.onDetach=function(){d.prototype.onDetach.call(this);for(var a=0,b=this.children;a<b.length;a++)b[a].stage=null};b.prototype.renderChildren=function(a){for(var b=this.children,d=b.length,e=0;e<d;e++)b[e].processRender(a)};
b.prototype.createRenderParams=function(a){return f.__assign(f.__assign({},a),{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:a.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition})};return b}(l.DisplayObject);e.Container=g});