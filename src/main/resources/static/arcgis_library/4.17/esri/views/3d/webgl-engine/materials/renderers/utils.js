// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/maybe ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../lib/doublePrecisionUtils ../../lib/Util".split(" "),function(q,b,k,l,e,m,n,p){Object.defineProperty(b,"__esModule",{value:!0});b.encodeDoubleVec3=b.calculateTransformRelToOrigin=b.releaseMaterials=b.acquireMaterials=b.isInstanceHidden=b.removeObject3DStateID=b.addObject3DStateID=void 0;b.addObject3DStateID=function(a,c){k.isNone(a)&&
(a=[]);a.push(c);return a};b.removeObject3DStateID=function(a,c){if(k.isNone(a))return a;a=a.filter(function(a){return a!==c});return 0===a.length?null:a};b.isInstanceHidden=function(a){return l.isSome(a)?!a.visible:!1};b.acquireMaterials=function(a,c){var b=new Map;b.set(0,c.acquire(a,0));b.set(3,c.acquire(a,3));b.set(2,c.acquire(a,2));b.set(1,c.acquire(a,1));b.set(4,c.acquire(a,4));return b};b.releaseMaterials=function(a,c){c.release(a,0);c.release(a,3);c.release(a,2);c.release(a,1);c.release(a,
4)};b.calculateTransformRelToOrigin=function(a,c,b){var d=a.origin.vec3;p.setMatrixTranslation3(f,-d[0],-d[1],-d[2]);l.isSome(a.transformation)?e.mat4.multiply(c,f,a.transformation):e.mat4.copy(c,f);b&&(e.mat4.invert(b,c),e.mat4.transpose(b,b))};b.encodeDoubleVec3=function(a,b,e,f,g){h[0]=a.get(b,0);h[1]=a.get(b,1);h[2]=a.get(b,2);n.encodeDoubleArray(h,d,3);e.set(g,0,d[0]);f.set(g,0,d[1]);e.set(g,1,d[2]);f.set(g,1,d[3]);e.set(g,2,d[4]);f.set(g,2,d[5])};var h=new Float64Array(3),d=new Float32Array(6),
f=m.mat4f64.create()});