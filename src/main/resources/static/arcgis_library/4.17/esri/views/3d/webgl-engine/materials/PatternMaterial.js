// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../lib/GLMaterial ../lib/Material ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ../shaders/PatternTechnique".split(" "),function(d,q,e,k,l,f,m,h,g){d=function(c){function a(b,a){a=c.call(this,a)||this;a.supportsEdges=!0;a.techniqueConfig=new g.PatternTechniqueConfiguration;a.params=h.copyParameters(b,n);return a}e.__extends(a,c);a.prototype.setParameterValues=function(b){m.updateParameters(this.params,b)&&this.parametersChanged()};a.prototype.getParameters=
function(){return this.params};a.prototype.getTechniqueConfig=function(b){this.techniqueConfig.output=b;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.vertexColors=this.params.vertexColors;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.polygonOffset=this.params.polygonOffset;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.style=this.params.style;this.techniqueConfig.patternSpacing=this.params.patternSpacing;
this.techniqueConfig.lineWidth=this.params.lineWidth;this.techniqueConfig.draped=this.params.draped;return this.techniqueConfig};a.prototype.getPassParameters=function(){return this.params};a.prototype.intersect=function(b,a,c,d,e,f,g){h.intersectTriangleGeometry(b,a,d,e,f,void 0,g)};a.prototype.getGLMaterial=function(b){return 0===b.output||4===b.output?new p(b):void 0};a.prototype.createBufferWriter=function(){return new f.DefaultBufferWriter(f.PositionColorMapSpaceUVBoundsLayout)};return a}(l.Material);
var p=function(c){function a(b){b=c.call(this,b)||this;b.updateParameters();return b}e.__extends(a,c);a.prototype.updateParameters=function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(g.PatternTechnique,this.material.getTechniqueConfig(this.output),this.technique)};a.prototype.beginSlot=function(b){return 4===this.output?3===b:b===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)};a.prototype._updateOccludeeState=function(b){b.hasOccludees!==
this.material.getParameters().sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:b.hasOccludees}),this.updateParameters())};a.prototype.ensureParameters=function(b){0===this.output&&this._updateOccludeeState(b)};a.prototype.bind=function(b,a){b.bindProgram(this.technique.program);this.technique.bindPass(b,this.material.getPassParameters(),a)};a.prototype.getPipelineState=function(a,c){return c?this.technique.opaqueOccludeeState:this.technique.pipeline};return a}(k.GLMaterial),n=
{color:[1,1,1,1],writeDepth:!0,vertexColors:!1,polygonOffset:!1,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,style:2,patternSpacing:10,lineWidth:1,draped:!0};return d});