// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/draw/DrawGraphicTool":function(){define("require exports tslib ../../../../../Graphic ../../../../../core/compilerUtils ../../../../../core/Evented ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../layers/GraphicsLayer ../../../../../support/elevationInfoUtils ../settings ./DrawOperation ./drawSurfaces ../../visualElements/OutlineVisualElement ../../visualElements/VerticesVisualElement ../../../../draw/support/createUtils ../../../../interactive/InteractiveToolBase".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t){function B(c){switch(c){case "point":case "polyline":case "polygon":return c;case "circle":case "rectangle":return"segment";default:return C.neverReached(c),null}}Object.defineProperty(c,"__esModule",{value:!0});c.DrawGraphicTool=void 0;G=function(c){function t(g){g=c.call(this,g)||this;g.drawOperation=null;g._createGraphic=null;g._outlineVisualElement=null;g._verticesVisualElement=null;g._stagedVerticesVisualElement=null;g.hasZ=!0;g.defaultZ=0;g.elevationInfo=
null;g.snapToScene=!1;g.mode="hybrid";g.geometryType=null;g.type="draw-3d";return g}n.__extends(t,c);t.prototype.initialize=function(){var c=this,t=g.unwrapOr(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this._internalGraphicsLayer=new l({elevationInfo:t});this.view.map.layers.add(this._internalGraphicsLayer);this.drawOperation=new M.DrawOperation({view:this.view,manipulators:this.manipulators,geometryType:B(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,
defaultZ:this.defaultZ,snappingEnabled:this.snapToScene,snappingDrawSurface:new D.SceneDrawSurface(this.view,t,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:t});this.drawOperation.on("vertex-add",function(g){return c.onVertexAdd(g)});this.drawOperation.on("vertex-remove",function(g){return c.onVertexRemove(g)});this.drawOperation.on("vertex-update",function(g){return c.onVertexUpdate(g)});this.drawOperation.on("cursor-update",function(g){return c.onCursorUpdate(g)});this.drawOperation.on("complete",
function(g){return c.onComplete(g)})};t.prototype.destroy=function(){this.drawOperation.destroy();this.drawOperation=null;this._destroyAllVisualisations();this.view.map.remove(this._internalGraphicsLayer);this._set("view",null)};t.prototype.onInputEvent=function(c){this.drawOperation.onInputEvent(c)};t.prototype._getCreateGeometry=function(c,t){void 0===t&&(t=!1);if(null==this.drawOperation)return null;var B=g.isSome(c)?c:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null;c=
this.drawOperation.vertices;if(0===c.length)return null;var O=this.drawOperation.spatialReference,l=c.slice(),x=[];g.isSome(B)&&(l.splice(B,1),x.push(c[B]));var B={regularVertices:null,stagedVertices:null,full:null,outline:null},A="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case "point":B.regularVertices=l;B.stagedVertices=x;B.full=this.drawOperation.coordinateHelper.createPointFromArray(c[0]);break;case "polyline":B.regularVertices=l;B.stagedVertices=x;0<c.length&&
(B.full=F.createPolyline([c],O,A));break;case "polygon":B.regularVertices=l;B.stagedVertices=x;0<c.length&&(B.full=F.createPolygon([c],O,A,!0));break;case "circle":0<c.length&&(l=F.createViewAlignedCoordinateSystem(this.view,c[0]),1===c.length&&t?(t=c[0],x=l.makeMapPoint(t[0]+Y*this.view.resolution,t[1]),B.full=F.createCircle([t,x],l,!0)):2===c.length&&(B.full=this.forceUniformSize?F.createCircle(c,l,this.centered):F.createEllipse(c,l,this.centered)));break;case "rectangle":0<c.length&&(l=F.createViewAlignedCoordinateSystem(this.view,
c[0]),1===c.length&&t?(t=c[0],x=l.makeMapPoint(t[0]+Y*this.view.resolution,t[1]),B.full=F.createSquare([t,x],l,!0)):2===c.length&&(B.full=this.forceUniformSize?F.createSquare(c,l,this.centered):F.createRectangle(c,l,this.centered)));break;default:return null}switch(this.geometryType){case "polyline":1<c.length&&(B.outline=F.createPolyline([c],O,A));break;case "polygon":1<c.length&&(B.outline=F.createPolygon([c],O,A));break;case "circle":case "rectangle":g.isSome(B.full)&&"polygon"===B.full.type&&
(B.outline=F.createPolygon(B.full.rings,O,A))}return B};t.prototype._destroyAllVisualisations=function(){this._destroyCreateGraphic();this._destroyOutlineVisualElement();this._destroyVerticesVisualElement();this._destroyStagedVerticesVisualElement()};t.prototype._destroyCreateGraphic=function(){g.isSome(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)};t.prototype._destroyOutlineVisualElement=function(){g.isSome(this._outlineVisualElement)&&
(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)};t.prototype._destroyVerticesVisualElement=function(){g.isSome(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)};t.prototype._destroyStagedVerticesVisualElement=function(){g.isSome(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)};t.prototype._updateCreateGraphic=function(c){void 0===c&&(c=null);c=this._getCreateGeometry(c);
if(g.isNone(c))this._destroyAllVisualisations();else{var t=this._internalGraphicsLayer.elevationInfo,B="on-the-ground"===z.getEffectiveElevationMode(this.hasZ,t);g.isSome(c.outline)?g.isNone(this._outlineVisualElement)?(this._outlineVisualElement=new x.OutlineVisualElement({view:this.view,geometry:c.outline,elevationInfo:g.unwrap(t),isDraped:B,attached:!1}),A.settings.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),A.settings.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),
this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=c.outline:this._destroyOutlineVisualElement();g.isSome(c.regularVertices)?g.isNone(this._verticesVisualElement)?(this._verticesVisualElement=new J.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:c.regularVertices,elevationInfo:g.unwrap(this._internalGraphicsLayer.elevationInfo),attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=
c.regularVertices:this._destroyVerticesVisualElement();g.isSome(c.stagedVertices)?g.isNone(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new J.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:c.stagedVertices,elevationInfo:g.unwrap(this._internalGraphicsLayer.elevationInfo),attached:!1}),this._stagedVerticesVisualElement.color=A.settings.colorToVec4(A.settings.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=
!0):this._stagedVerticesVisualElement.vertices=c.stagedVertices:this._destroyStagedVerticesVisualElement();g.isSome(c.full)?g.isNone(this._createGraphic)?(this._createGraphic=new y({geometry:c.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange("createGraphic")):this._createGraphic.geometry=c.full:this._destroyCreateGraphic()}};Object.defineProperty(t.prototype,"createGraphic",{get:function(){return this._createGraphic},
enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"enabled",{set:function(c){this.drawOperation.interactive=c;this._set("enabled",c)},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"centered",{set:function(c){this._set("centered",c);this._updateCreateGraphic()},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"forceUniformSize",{set:function(c){this._set("forceUniformSize",c);this._updateCreateGraphic()},enumerable:!1,configurable:!0});t.prototype.reset=
function(){};Object.defineProperty(t.prototype,"canRedo",{get:function(){return this.drawOperation.canRedo},enumerable:!1,configurable:!0});t.prototype.redo=function(){this.drawOperation.redo()};Object.defineProperty(t.prototype,"canUndo",{get:function(){return this.drawOperation.canUndo},enumerable:!1,configurable:!0});t.prototype.undo=function(){this.drawOperation.undo()};t.prototype.completeCreateOperation=function(){this.drawOperation.complete()};t.prototype.activate=function(){};t.prototype.deactivate=
function(){this.drawOperation.isCompleted||this.drawOperation.cancel()};t.prototype.getVertexCoords=function(){return this.drawOperation.vertices};t.prototype.onVertexAdd=function(c){this._updateCreateGraphic();this.emit("vertex-add",c)};t.prototype.onVertexRemove=function(c){this._updateCreateGraphic();this.emit("vertex-remove",c)};t.prototype.onVertexUpdate=function(c){this._updateCreateGraphic();this.emit("vertex-update",c)};t.prototype.onCursorUpdate=function(c){this._updateCreateGraphic(1===
c.vertices.length?c.vertices[0].vertexIndex:null);this.emit("cursor-update",c)};t.prototype.onComplete=function(c){this._updateCreateGraphic();var t=null;if(this.drawOperation.isCompleted){var B=this._getCreateGeometry(null,!0);g.isSome(B)&&(t=new y({geometry:B.full,symbol:this.createGraphicSymbol}))}this.emit("complete",n.__assign({graphic:t},c))};n.__decorate([w.property({constructOnly:!0,nonNullable:!0})],t.prototype,"view",void 0);n.__decorate([w.property()],t.prototype,"createGraphicSymbol",
void 0);n.__decorate([w.property()],t.prototype,"createGraphic",null);n.__decorate([w.property({value:!0})],t.prototype,"enabled",null);n.__decorate([w.property({value:!0})],t.prototype,"centered",null);n.__decorate([w.property({value:!0})],t.prototype,"forceUniformSize",null);n.__decorate([w.property({constructOnly:!0})],t.prototype,"hasZ",void 0);n.__decorate([w.property({nonNullable:!0})],t.prototype,"defaultZ",void 0);n.__decorate([w.property({constructOnly:!0})],t.prototype,"elevationInfo",void 0);
n.__decorate([w.property()],t.prototype,"snapToScene",void 0);n.__decorate([w.property({constructOnly:!0})],t.prototype,"mode",void 0);n.__decorate([w.property({constructOnly:!0})],t.prototype,"geometryType",void 0);n.__decorate([w.property({readOnly:!0})],t.prototype,"type",void 0);return t=n.__decorate([w.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawTool")],t)}(m.EventedMixin(t.InteractiveToolBase));c.DrawGraphicTool=G;var Y=48})},"esri/layers/GraphicsLayer":function(){define("require exports tslib ../core/accessorSupport/decorators ./Layer ./mixins/BlendLayer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(G,c,n,y,C,m,g,w,l){return function(c){function g(g){g=c.call(this,g)||this;g.elevationInfo=null;g.graphics=new w.default;g.screenSizePerspectiveEnabled=!0;g.type="graphics";return g}n.__extends(g,c);g.prototype.destroy=function(){this.removeAll()};g.prototype.add=function(c){this.graphics.add(c);return this};g.prototype.addMany=function(c){this.graphics.addMany(c);return this};g.prototype.removeAll=function(){this.graphics.removeAll();return this};g.prototype.remove=function(c){this.graphics.remove(c)};
g.prototype.removeMany=function(c){this.graphics.removeMany(c)};g.prototype.on=function(g,l){return c.prototype.on.call(this,g,l)};g.prototype.graphicChanged=function(c){this.emit("graphic-update",c)};n.__decorate([y.property({type:l})],g.prototype,"elevationInfo",void 0);n.__decorate([y.property(w.graphicsCollectionProperty)],g.prototype,"graphics",void 0);n.__decorate([y.property({type:["show","hide"]})],g.prototype,"listMode",void 0);n.__decorate([y.property()],g.prototype,"screenSizePerspectiveEnabled",
void 0);n.__decorate([y.property({readOnly:!0})],g.prototype,"type",void 0);return g=n.__decorate([y.subclass("esri.layers.GraphicsLayer")],g)}(m.BlendLayer(g.ScaleRangeLayer(C)))})},"esri/support/elevationInfoUtils":function(){define(["require","exports","../core/compilerUtils","../core/maybe","../symbols/support/unitConversionUtils"],function(G,c,n,y,C){function m(c,g){return y.isNone(g)||!g.mode?c?"absolute-height":"on-the-ground":g.mode}function g(c,g){return m(y.isSome(c)?c.hasZ:!1,g)}function w(c){var A=
l(c);return g(c.geometry,A)}function l(c){return c.layer&&"elevationInfo"in c.layer?c.layer.elevationInfo:null}Object.defineProperty(c,"__esModule",{value:!0});c.getConvertedElevation=c.getZForElevationMode=c.hasGraphicFeatureExpressionInfo=c.getGraphicEffectiveElevationInfo=c.getGraphicEffectiveElevationMode=c.getGeometryEffectiveElevationMode=c.getEffectiveElevationMode=void 0;c.getEffectiveElevationMode=m;c.getGeometryEffectiveElevationMode=g;c.getGraphicEffectiveElevationMode=w;c.getGraphicEffectiveElevationInfo=
function(c){var A=l(c);c=g(c.geometry,A);A=y.isSome(A)&&"on-the-ground"!==c?y.unwrapOr(A.offset,0)*C.getMetersPerUnit(y.unwrapOr(A.unit,"meters")):0;return{mode:c,offset:A}};c.hasGraphicFeatureExpressionInfo=function(c){if("on-the-ground"===w(c))return!1;c=l(c);c=y.isSome(c)&&c.featureExpressionInfo?c.featureExpressionInfo.expression:null;return!(!c||"0"===c)};c.getZForElevationMode=function(c,g,l){if(!y.isNone(l)&&l.mode){var A=c.hasZ?c.z:0,x=y.isSome(l.offset)?l.offset:0;switch(l.mode){case "absolute-height":return A-
x;case "on-the-ground":return 0;case "relative-to-ground":return c=(g.elevationProvider.getElevation(c.x,c.y,c.z,c.spatialReference,"ground")||0)+x,A-c;case "relative-to-scene":return c=(g.elevationProvider.getElevation(c.x,c.y,c.z,c.spatialReference,"scene")||0)+x,A-c}}};c.getConvertedElevation=function(c,g,l,D){void 0===D&&(D=null);if(!y.isNone(l)){var x=y.isSome(D)?D.mode:"absolute-height";if("on-the-ground"===x)return 0;var A=g.hasZ?g.z:0,F=y.isSome(l.offset)?l.offset:0;switch(l.mode){case "absolute-height":A+=
F;break;case "on-the-ground":A=c.elevationProvider.getElevation(g.x,g.y,0,g.spatialReference,"ground")||0;break;case "relative-to-ground":l=(c.elevationProvider.getElevation(g.x,g.y,g.z,g.spatialReference,"ground")||0)+F;A+=l;break;case "relative-to-scene":l=(c.elevationProvider.getElevation(g.x,g.y,g.z,g.spatialReference,"scene")||0)+F,A+=l}D=y.isSome(D)&&y.isSome(D.offset)?D.offset:0;switch(x){case "absolute-height":return A-D;case "relative-to-ground":return l=(c.elevationProvider.getElevation(g.x,
g.y,g.z,g.spatialReference,"ground")||0)+D,A-l;case "relative-to-scene":return l=(c.elevationProvider.getElevation(g.x,g.y,g.z,g.spatialReference,"scene")||0)+D,A-l;default:return n.neverReached(x),null}}}})},"esri/views/3d/interactive/editingTools/settings":function(){define("require exports tslib ../../../../Color ../../../../core/colorUtils ../../../../core/compilerUtils ../../../../core/libs/gl-matrix-2/vec4f64 ../../webgl-engine/materials/lineStippleUtils".split(" "),function(G,c,n,y,C,m,g,w){function l(c,
g){c=c.clone();c.a*=g;return c}function z(c,g){if(g)for(var t in g)c[t]=g[t]}function A(c){return g.vec4f64.fromArray(y.toUnitRGBA(c))}function M(c,g){g=g&&"foreground"===g.layer;switch(c){case "always":return g?32:16;case "transparent":return g?8:4;case "always-transparent":return 2;default:m.neverReached(c)}return 1}Object.defineProperty(c,"__esModule",{value:!0});c.settings=c.colors=void 0;c.colors={main:new y([255,127,0]),selected:new y([255,255,255]),staged:new y([12,207,255]),outline:new y([0,
0,0,.5]),selectedOutline:new y([255,255,255])};var D=function(){function g(g){this.color=c.colors.main;this.height=90;this.coneHeight=40;this.coneWidth=23;this.width=3;this.occludedMode="always";z(this,g)}Object.defineProperty(g.prototype,"occludedFlag",{get:function(){return M(this.occludedMode)},enumerable:!1,configurable:!0});return g}(),x=function(){function g(g){this.size=11;this.outlineSize=1;this.collisionPadding=9;this.color=c.colors.main;this.outlineColor=c.colors.outline;this.occludedMode=
"always";this.hoverOutlineColor=c.colors.selectedOutline;z(this,g)}Object.defineProperty(g.prototype,"renderOccludedFlag",{get:function(){return M(this.occludedMode)},enumerable:!1,configurable:!0});g.prototype.apply=function(c,g){var t=this[c];g.setParameterValues({color:A(t),transparent:"color"===c?1>t.a:!0});g.renderOccluded=this.renderOccludedFlag};return g}(),J=function(){return function(g){this.vertex=new x({color:c.colors.main,outlineColor:c.colors.outline});var t=l(c.colors.main,2/3).clone(),
B=C.toHSV(t);B.s*=.5;B=C.toRGB(B);t.r=B.r;t.g=B.g;t.b=B.b;this.edge=new x({color:t,outlineColor:l(c.colors.outline,.5),size:8,collisionPadding:8});this.selected=new x({color:c.colors.selected,outlineColor:c.colors.outline});z(this,g)}}(),F=function(){function g(g){this.color=c.colors.selected;this.width=1.5;this.stipplePattern=w.createStipplePattern([5,5]);this.stippleOffColor=c.colors.outline;this.falloff=0;this.innerWidth=1.5;this.innerColor=c.colors.selected;this.occludedMode="transparent";this.occludedLayer=
"default";z(this,g)}g.prototype.apply=function(c){c.color=A(this.color);c.width=this.width;c.stipplePattern=this.stipplePattern;c.stippleOffColor=A(this.stippleOffColor);c.falloff=this.falloff;c.innerWidth=this.innerWidth;c.innerColor=A(this.innerColor);c.occludedMode=M(this.occludedMode,{layer:this.occludedLayer})};return g}(),t=function(){function g(g){this.color=c.colors.selected;this.size=4;this.outlineSize=1;this.outlineColor=c.colors.outline;this.shape="square";z(this,g)}g.prototype.apply=function(c){c.color=
A(this.color);c.size=this.size;c.outlineSize=this.outlineSize;c.outlineColor=A(this.outlineColor);c.primitive=this.shape};return g}(),B=function(){function g(g){this.innerColor=c.colors.selected;this.innerWidth=1;this.glowColor=c.colors.main;this.glowFalloff=this.glowWidth=8;this.globalAlpha=.3;this.globalAlphaContrastBoost=1.5;this.radius=3;this.heightFillColor=c.colors.main;z(this,g)}g.prototype.apply=function(c,g){void 0===g&&(g=1);g={glowColor:y.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,
glowWidth:this.glowWidth,innerColor:y.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*g,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in c?c.style=g:c.laserlineStyle=g};return g}(),Y=function(){return function(g){this.outline=new F({color:c.colors.selected,occludedMode:"transparent",occludedLayer:"foreground",stippleOffColor:c.colors.outline,stipplePattern:w.createStipplePattern([5,5]),width:1.5});this.staged=new F({color:c.colors.selected,
occludedMode:"transparent",occludedLayer:"foreground",innerColor:c.colors.staged,stippleOffColor:c.colors.outline,stipplePattern:w.createStipplePattern([5,5]),width:1.5});this.shadowStyle=new B({globalAlpha:.3,glowColor:c.colors.main,glowFalloff:8,glowWidth:8,innerColor:c.colors.selected,innerWidth:1});z(this,g)}}(),K=function(){return function(g){this.outline=new t({color:c.colors.selected,outlineColor:c.colors.outline,outlineSize:1,shape:"circle",size:4});this.shadowStyle=new B({globalAlpha:.3,
glowColor:c.colors.main,glowFalloff:1.5,glowWidth:6,innerColor:c.colors.selected,innerWidth:1,radius:2});z(this,g)}}(),V=function(c){function g(g){var t=c.call(this)||this;t.infinite="ground";z(t,g);return t}n.__extends(g,c);Object.defineProperty(g.prototype,"infiniteType",{get:function(){switch(this.infinite){case "single":return 1;case "double":return 2;case "ground":return 3;default:return m.neverReached(this.infinite),1}},enumerable:!1,configurable:!0});return g}(F),X=function(){return function(g){this.lineGraphics=
new Y;this.pointGraphics=new K;this.heightPlane=new B({globalAlpha:.3,glowColor:c.colors.main,glowFalloff:8,glowWidth:8,innerColor:c.colors.selected,innerWidth:1});this.heightBox=new B({globalAlpha:.3,glowColor:c.colors.main,glowFalloff:8,glowWidth:8,innerColor:c.colors.selected,innerWidth:0,heightFillColor:c.colors.main});this.zVerticalLine=new V({color:l(c.colors.main,.5),falloff:2,innerColor:l(c.colors.selected,0),occludedMode:"transparent",stipplePattern:null,width:5,infinite:"ground"});this.laserlineAlphaMultiplier=
1.5;this.heightPlaneAngleCutoff=20;z(this,g)}}();G=function(){function c(c){this.visualElements=new X;this.reshapeManipulators=new J;this.zManipulator=new D;z(this,c)}c.prototype.colorToVec4=function(c){return A(c)};return c}();c.settings=new G})},"esri/core/colorUtils":function(){define(["require","exports"],function(G,c){function n(c,g){var l=[],x,A;if(c[0].length!==g.length)throw"dimensions do not match";var F=c.length,t=c[0].length,B=0;for(x=0;x<F;x++){for(A=B=0;A<t;A++)B+=c[x][A]*g[A];l.push(B)}return l}
function y(c){c=[c.r/255,c.g/255,c.b/255].map(function(c){return.04045>=c?c/12.92:Math.pow((c+.055)/1.055,2.4)});c=n(l,c);return{x:100*c[0],y:100*c[1],z:100*c[2]}}function C(c){c=n(z,[c.x/100,c.y/100,c.z/100]).map(function(c){return Math.min(1,Math.max(.0031308>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055,0))});return{r:Math.round(255*c[0]),g:Math.round(255*c[1]),b:Math.round(255*c[2])}}function m(c){c=[c.x/95.047,c.y/100,c.z/108.883].map(function(c){return c>Math.pow(6/29,3)?Math.pow(c,1/3):1/3*Math.pow(29/
6,2)*c+4/29});return{l:116*c[1]-16,a:500*(c[0]-c[1]),b:200*(c[1]-c[2])}}function g(c){var g=c.l;c=[(g+16)/116+c.a/500,(g+16)/116,(g+16)/116-c.b/200].map(function(c){return c>6/29?Math.pow(c,3):3*Math.pow(6/29,2)*(c-4/29)});return{x:95.047*c[0],y:100*c[1],z:108.883*c[2]}}function w(c){if("r"in c&&"g"in c&&"b"in c)return c;if("l"in c&&"c"in c&&"h"in c){var l=c.c,D=c.h;return C(g({l:c.l,a:l*Math.cos(D),b:l*Math.sin(D)}))}if("l"in c&&"a"in c&&"b"in c)return C(g(c));if("x"in c&&"y"in c&&"z"in c)return C(c);
if("h"in c&&"s"in c&&"v"in c){D=(c.h+360)%360/60;l=c.v/100*255;c=c.s/100*l;var x=c*(1-Math.abs(D%2-1));switch(Math.floor(D)){case 0:D={r:c,g:x,b:0};break;case 1:D={r:x,g:c,b:0};break;case 2:D={r:0,g:c,b:x};break;case 3:D={r:0,g:x,b:c};break;case 4:D={r:x,g:0,b:c};break;case 5:case 6:D={r:c,g:0,b:x};break;default:D={r:0,g:0,b:0}}D.r=Math.round(D.r+l-c);D.g=Math.round(D.g+l-c);D.b=Math.round(D.b+l-c);return D}return c}Object.defineProperty(c,"__esModule",{value:!0});c.darken=c.toXYZ=c.toLCH=c.toLAB=
c.toHSV=c.toRGB=void 0;var l=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],z=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];c.toRGB=w;c.toHSV=function(c){if("h"in c&&"s"in c&&"v"in c)return c;var g=w(c);c=g.r;var l=g.g,x=g.b,g=Math.max(c,l,x),J=g-Math.min(c,l,x);c=0===J?0:g===c?(l-x)/J%6:g===l?(x-c)/J+2:(c-l)/J+4;0>c&&(c+=6);return{h:60*c,s:100*(0===J?0:J/g),v:100/255*g}};c.toLAB=function(c){return"l"in c&&"a"in c&&"b"in c?c:m(y(w(c)))};c.toLCH=function(c){if(!("l"in
c&&"c"in c&&"h"in c)){var g=m(y(w(c)));c=g.l;var l=g.a,x=g.b,g=Math.sqrt(l*l+x*x),l=Math.atan2(x,l),l=0<l?l:l+2*Math.PI;c={l:c,c:g,h:l}}return c};c.toXYZ=function(c){return"x"in c&&"y"in c&&"z"in c?c:y(w(c))};c.darken=function(c,l){c=m(y(c));c.l*=1-l;return C(g(c))}})},"esri/views/3d/interactive/editingTools/draw/DrawOperation":function(){define("require exports tslib ../../../../../geometry ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../core/accessorSupport/decorators ../coordinateHelper ./DrawManipulator ./drawSurfaces ../editGeometry/EditGeometryHelper ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x){Object.defineProperty(c,"__esModule",{value:!0});c.DrawOperation=void 0;G=function(c){function t(t){var l=c.call(this)||this;l._manipulator=null;l._stagedVertex=null;l.drawingMode="hybrid";l.geometryType=null;l.elevationInfo=null;l.snappingEnabled=null;l._handles=new m;l._defaultZ=0;l._elevationDrawSurface=null;l._snappingDrawSurface=null;l._createOperationCompleted=!1;l.view=t.view;l.drawingMode=t.drawingMode;l.geometryType=t.geometryType;l.elevationInfo=t.elevationInfo;
l.coordinateHelper=z.createCoordinateHelper(t.hasZ,t.hasM,l.view.spatialReference,l.view.viewingMode);l._defaultZ=t.defaultZ;l.snappingEnabled=t.snappingEnabled;l._snappingDrawSurface=g.unwrap(t.snappingDrawSurface);l._elevationDrawSurface=new M.ElevationDrawSurface(l.elevationInfo,l._defaultZ,l.view);l._editGeometry=new D.EditGeometryHelper(new D.EditGeometry(l.coordinateHelper),"segment"===l.geometryType?"polyline":l.geometryType);l._activeComponent=new D.Component(l._editGeometry.data);l._editGeometry.data.components.push(l._activeComponent);
l._editGeometry.on(["vertex-add","vertex-update","vertex-remove"],function(c){var g=c.vertices.map(function(c){return{componentIndex:0,vertexIndex:c.index,coordinates:l.coordinateHelper.toArray(c.pos)}}),t=g.map(function(c){return c.coordinates});switch(c.type){case "vertex-add":l.emit(c.type,n.__assign(n.__assign({},c),{added:t,vertices:g}));break;case "vertex-update":l.emit(c.type,n.__assign(n.__assign({},c),{updated:t,vertices:g}));break;case "vertex-remove":l.emit(c.type,n.__assign(n.__assign({},
c),{removed:t,vertices:g}))}});l._manipulator=new A.DrawManipulator;t.manipulators.add(l._manipulator);l._manipulator.grabbable="point"!==l.geometryType;t=x.createManipulatorDragEventPipeline(l._manipulator,function(c,g,t,B){"click"===l.drawingMode||l.isCompleted||(g.next(l._screenToMapDragEventStep()).next(function(c){"start"===c.action&&(l.stagedVertex=c.mapStart,"segment"!==l.geometryType&&"hybrid"!==l.drawingMode||l.commitStagedVertex());return c}).next(function(c){switch(c.action){case "start":case "update":switch(l.drawingMode){case "freehand":case "hybrid":l.stagedVertex=
c.mapEnd,"polygon"!==l.geometryType&&"polyline"!==l.geometryType||l.commitStagedVertex()}break;case "end":"freehand"!==l.drawingMode&&"segment"!==l.geometryType&&"point"!==l.geometryType||l.complete()}return c}),t.next(function(c){}))});var B=l._manipulator.events.on("immediate-double-click",function(c){l.complete();c.stopPropagation()}),F=l._manipulator.events.on("immediate-click",function(c){var t=l._activeComponent,B=l._closeOnClickVertexIndex(c.screenPoint);if(g.isSome(B))l.discardStagedVertex(),
l.complete();else if(B=l._screenToMap(c.screenPoint),g.isSome(B))switch(l.drawingMode){case "click":case "hybrid":l.discardStagedVertex(),l._editGeometry.appendVertex(l.coordinateHelper.fromPoint(B)),("point"===l.geometryType||"segment"===l.geometryType&&2===t.vertices.length||"segment"===l.geometryType&&"hybrid"===l.drawingMode&&1===t.vertices.length)&&l.complete()}c.stopPropagation()});l._handles.add([t,F,B]);return l}n.__extends(t,c);Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this._createOperationCompleted},
enumerable:!1,configurable:!0});t.prototype.destroy=function(){this._handles.destroy();this._handles=null};t.prototype.onInputEvent=function(c){if(!(this._manipulator.dragging||this._manipulator.grabbing&&"pointer-move"===c.type))switch(c.type){case "pointer-move":var l=w.createScreenPoint(c.x,c.y),t=this._closeOnClickVertexIndex(l);g.isSome(t)?(this.discardStagedVertex(),l={componentIndex:0,vertexIndex:t,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[t].pos)},this.emit("cursor-update",
{updated:null,vertices:[l],operation:"apply",type:"vertex-update"})):(l=this._screenToMap(l),g.isSome(l)?(this.stagedVertex=l,this._manipulator.cursor="crosshair"):this._manipulator.cursor=null);c.stopPropagation()}};Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._editGeometry.canRedo},enumerable:!1,configurable:!0});t.prototype.redo=function(){this._editGeometry.redo()};Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._editGeometry.canUndo},enumerable:!1,
configurable:!0});t.prototype.undo=function(){this._editGeometry.undo()};t.prototype.complete=function(c){void 0===c&&(c=!1);this.commitStagedVertex();this._createOperationCompleted=!0;this.emit("complete",{vertices:this.vertices.map(function(c,g){return{componentIndex:0,vertexIndex:g,coordinates:c}}),aborted:c,type:"complete"})};t.prototype.cancel=function(){this.complete(!0)};Object.defineProperty(t.prototype,"interactive",{get:function(){return this._manipulator.interactive},set:function(c){this._manipulator.interactive=
c},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"numVertices",{get:function(){return g.isSome(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"numCommittedVertices",{get:function(){return this._activeComponent.vertices.length},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"vertices",{get:function(){var c=this,l=this._activeComponent.vertices.map(function(g){return c.coordinateHelper.toArray(g.pos)});
g.isSome(this._stagedVertex)&&l.push(this.coordinateHelper.pointToArray(this._stagedVertex));return l},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"spatialReference",{get:function(){return this.view.spatialReference},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"hasStagedVertex",{get:function(){return g.isSome(this._stagedVertex)},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"stagedVertex",{get:function(){return this._stagedVertex},set:function(c){g.isNone(c)?
this.discardStagedVertex():(this._stagedVertex=c,c={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(c)},this.emit("cursor-update",{updated:null,vertices:[c],operation:"apply",type:"vertex-update"}))},enumerable:!1,configurable:!0});t.prototype.commitStagedVertex=function(){if(g.isSome(this._stagedVertex)){var c=this._stagedVertex;this._stagedVertex=null;this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(c))}};t.prototype.discardStagedVertex=
function(){this._stagedVertex=null};t.prototype._screenToMapDragEventStep=function(){var c=this,l=null;return function(t){"start"===t.action&&(l=c._screenToMap(t.screenStart));if(g.isNone(l))return null;var B=c._screenToMap(t.screenEnd);return g.isSome(B)?n.__assign(n.__assign({},t),{mapStart:l,mapEnd:B}):null}};t.prototype._screenToMap=function(c){return this._getDrawSurface().screenToMap(c)};t.prototype._mapToScreen=function(c){return this._getDrawSurface().mapToScreen(c)};t.prototype._getDrawSurface=
function(){var c=null;if(this.coordinateHelper.hasZ){var c=this._defaultZ,l=!1;g.isSome(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(l=!0);g.isSome(this.snappingEnabled)&&(l=this.snappingEnabled);g.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(l=!1);var t=this._activeComponent.vertices.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&0<t&&(c=this.coordinateHelper.zFromArray(this._activeComponent.vertices[0].pos),l=!1);l?c=this._snappingDrawSurface:
(this._elevationDrawSurface.defaultZ=c,c=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,c=this._elevationDrawSurface;return c};t.prototype._vertexWithinPointerDistance=function(c,l){var t=this._mapToScreen(c);g.isSome(t)?(c=t.x-l.x,l=t.y-l.y,l=25>=c*c+l*l):l=!1;return l};t.prototype._closeOnClickVertexIndex=function(c){var g=this._activeComponent;if("polygon"===this.geometryType&&2<g.vertices.length){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(g.vertices[0].pos,
J),c))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(g.vertices[g.vertices.length-1].pos,J),c))return g.vertices.length-1}return null};return t=n.__decorate([l.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawOperation")],t)}(C);c.DrawOperation=G;var J=new y.Point({x:0,y:0,z:0})})},"esri/views/3d/interactive/editingTools/coordinateHelper":function(){define("require exports ../../../../geometry ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/spatialReferenceUtils".split(" "),
function(G,c,n,y,C,m,g,w,l,z){function A(c,g){if(g.supported){var l=Infinity,t=-Infinity,x=g.upperBoundX-g.lowerBoundX;c.forEach(function(c){for(var B=c.pos[0];B<g.lowerBoundX;)B+=x;for(;B>g.upperBoundX;)B-=x;l=Math.min(l,B);t=Math.max(t,B);c.pos[0]=B});var F=t-l;x-F<F&&c.forEach(function(c){0>c.pos[0]&&(c.pos[0]+=x)})}}function M(c,g){c=z.getInfo(c);return"global"===g&&c?{supported:!0,lowerBoundX:c.valid[0],upperBoundX:c.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}Object.defineProperty(c,
"__esModule",{value:!0});c.createCoordinateHelper=c.CoordinateHelper4D=c.CoordinateHelper3D=c.CoordinateHelper2D=void 0;var D=function(){function c(c,g){this.spatialReference=c;this.viewingMode=g;this._unnormalizationInfo=M(c,g)}c.prototype.createNew=function(){return C.vec2f64.create()};c.prototype.fromPoint=function(c){return C.vec2f64.fromValues(c.x,c.y)};c.prototype.fromArray=function(c){return C.vec2f64.fromValues(c[0],c[1])};c.prototype.toArray=function(c){return[c[0],c[1]]};c.prototype.toPoint=
function(c,g){g.x=c[0];g.y=c[1];g.hasZ=!1;g.hasM=!1;g.spatialReference=this.spatialReference;return g};c.prototype.createPoint=function(c){return new n.Point({x:c[0],y:c[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};c.prototype.createPointFromArray=function(c){return new n.Point({x:c[0],y:c[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};c.prototype.lerp=function(c,g,l,x){return y.vec2.lerp(x,c,g,l)};c.prototype.addDelta=function(c,g,l){c[0]+=g;c[1]+=l};c.prototype.pointToArray=
function(c){return[c.x,c.y]};c.prototype.zFromArray=function(c){};c.prototype.hasZ=function(){return!1};c.prototype.unnormalize=function(c){A(c,this._unnormalizationInfo)};return c}();c.CoordinateHelper2D=D;var x=function(){function c(c,g,l){this.valueType=c;this.spatialReference=g;this._unnormalizationInfo=M(g,l)}c.prototype.createNew=function(){return g.vec3f64.create()};c.prototype.fromPoint=function(c){return g.vec3f64.fromValues(c.x,c.y,0===this.valueType?c.z:c.m)};c.prototype.fromArray=function(c){return g.vec3f64.fromValues(c[0],
c[1],c[2]||0)};c.prototype.toArray=function(c){return[c[0],c[1],c[2]]};c.prototype.toPoint=function(c,g){g.x=c[0];g.y=c[1];0===this.valueType?(g.z=c[2],g.hasZ=!0,g.hasM=!1):(g.m=c[2],g.hasZ=!1,g.hasM=!0);g.spatialReference=this.spatialReference;return g};c.prototype.createPoint=function(c){return new n.Point({x:c[0],y:c[1],z:0===this.valueType?c[2]:void 0,m:1===this.valueType?c[2]:void 0,spatialReference:this.spatialReference})};c.prototype.createPointFromArray=function(c){return new n.Point({x:c[0],
y:c[1],z:0===this.valueType?c[2]:void 0,m:1===this.valueType?c[2]:void 0,spatialReference:this.spatialReference})};c.prototype.lerp=function(c,g,l,x){return m.vec3.lerp(x,c,g,l)};c.prototype.addDelta=function(c,g,l,x){c[0]+=g;c[1]+=l;0===this.valueType&&(c[2]+=x)};c.prototype.pointToArray=function(c){return 0===this.valueType?[c.x,c.y,c.z]:[c.x,c.y,c.m]};c.prototype.zFromArray=function(c){return 0===this.valueType?c[2]:void 0};c.prototype.hasZ=function(){return 0===this.valueType};c.prototype.unnormalize=
function(c){A(c,this._unnormalizationInfo)};return c}();c.CoordinateHelper3D=x;var J=function(){function c(c,g){this.spatialReference=c;this._unnormalizationInfo=M(c,g)}c.prototype.createNew=function(){return l.vec4f64.create()};c.prototype.fromPoint=function(c){return l.vec4f64.fromValues(c.x,c.y,c.z,c.m)};c.prototype.fromArray=function(c){return l.vec4f64.fromValues(c[0],c[1],c[2]||0,c[3]||0)};c.prototype.toArray=function(c){return[c[0],c[1],c[2],c[3]]};c.prototype.toPoint=function(c,g){g.x=c[0];
g.y=c[1];g.z=c[2];g.m=c[3];g.hasZ=!0;g.hasM=!0;g.spatialReference=this.spatialReference;return g};c.prototype.createPoint=function(c){return new n.Point({x:c[0],y:c[1],z:c[2],m:c[3],spatialReference:this.spatialReference})};c.prototype.createPointFromArray=function(c){return new n.Point({x:c[0],y:c[1],z:c[2],m:c[3],spatialReference:this.spatialReference})};c.prototype.lerp=function(c,g,l,x){return w.vec4.lerp(x,c,g,l)};c.prototype.addDelta=function(c,g,l,x){c[0]+=g;c[1]+=l;c[2]+=x};c.prototype.pointToArray=
function(c){return[c.x,c.y,c.z,c.m]};c.prototype.zFromArray=function(c){return c[2]};c.prototype.hasZ=function(){return!0};c.prototype.unnormalize=function(c){A(c,this._unnormalizationInfo)};return c}();c.CoordinateHelper4D=J;c.createCoordinateHelper=function(c,g,l,m){return c&&g?new J(l,m):g?new x(1,l,m):c?new x(0,l,m):new D(l,m)}})},"esri/views/3d/interactive/editingTools/draw/DrawManipulator":function(){define(["require","exports","../../../../../core/Evented"],function(G,c,n){Object.defineProperty(c,
"__esModule",{value:!0});c.DrawManipulator=void 0;G=function(){function c(){this.events=new n;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0}c.prototype.intersectionDistance=function(c,m){return 0};c.prototype.attach=function(){};c.prototype.detach=function(){};return c}();c.DrawManipulator=G})},"esri/views/3d/interactive/editingTools/draw/drawSurfaces":function(){define("require exports ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils".split(" "),
function(G,c,n,y,C,m){Object.defineProperty(c,"__esModule",{value:!0});c.SceneDrawSurface=c.ElevationDrawSurface=void 0;G=function(){function c(c,g,m){this.elevationInfo=c;this.defaultZ=g;this.view=m}c.prototype.screenToMap=function(c){if(n.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(c.x,c.y),this.elevationInfo,this.defaultZ);c=this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(c.x,c.y),this.elevationInfo,
0);n.isSome(c)&&(c.z=void 0);return c};c.prototype.mapToScreen=function(c){c=C.makeDehydratedPoint(c.x,c.y,m.getConvertedElevation(this.view,c,this.elevationInfo),c.spatialReference);return this.view.toScreen(c)};return c}();c.ElevationDrawSurface=G;G=function(){function c(c,g,m){void 0===m&&(m=[]);this.view=c;this.elevationInfo=g;this.exclude=m}c.prototype.screenToMap=function(c){c=this.view.toMap(c,{exclude:this.exclude});n.isSome(c)&&(c.z=m.getZForElevationMode(c,this.view,this.elevationInfo));
return c};c.prototype.mapToScreen=function(c){var g=c;n.isSome(this.elevationInfo)&&(g=C.makeDehydratedPoint(c.x,c.y,m.getConvertedElevation(this.view,c,this.elevationInfo),c.spatialReference));return this.view.toScreen(g)};return c}();c.SceneDrawSurface=G})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometryHelper":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/maybe ./EditGeometry ./EditGeometry".split(" "),function(G,c,n,y,C,m,g){Object.defineProperty(c,
"__esModule",{value:!0});c.AppendVertexOperation=c.RemoveVerticesOperation=c.UpdateVerticesOperation=c.SplitEdgeOperation=c.EditGeometryHelper=void 0;Object.defineProperty(c,"EditGeometry",{enumerable:!0,get:function(){return g.EditGeometry}});Object.defineProperty(c,"Vertex",{enumerable:!0,get:function(){return g.Vertex}});Object.defineProperty(c,"Edge",{enumerable:!0,get:function(){return g.Edge}});Object.defineProperty(c,"Component",{enumerable:!0,get:function(){return g.Component}});G=function(c){function g(g,
l){var x=c.call(this)||this;x.data=g;x.type=l;x._dirty=!0;x._geometry=null;return x}n.__extends(g,c);g.prototype.splitEdge=function(c,g){c=new w(this,c,g);this.data.apply(c);this._dirty=!0;return c};g.prototype.moveVertices=function(c,g,m,t){var x=null;this.data.lastOperation instanceof l&&this.data.lastOperation.canAccumulate(c)?(x=this.data.lastOperation,x.accumulate(g,m,t)):(x=new l(this,c,g,m,t),this.data.apply(x));this._dirty=!0;return x};g.prototype.removeVertices=function(c){var g=0;switch(this.type){case "point":g=
1;break;case "polyline":g=2;break;case "polygon":g=3}c=new z(this,c,g);this.data.apply(c);this._dirty=!0;return c};g.prototype.appendVertex=function(c){if(0===this.data.components.length)return null;c=new A(this,this.data.components[0],c);this.data.apply(c);this._dirty=!0;return c};g.prototype.canRemoveVertex=function(){var c=0;switch(this.type){case "point":c=1;break;case "polyline":c=2;break;case "polygon":c=3}return this.data.components[0].vertices.length>c};g.prototype.undo=function(){this.data.undo();
this._dirty=!0};Object.defineProperty(g.prototype,"canUndo",{get:function(){return this.data.canUndo},enumerable:!1,configurable:!0});g.prototype.redo=function(){this.data.redo();this._dirty=!0};Object.defineProperty(g.prototype,"canRedo",{get:function(){return this.data.canRedo},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"geometry",{get:function(){if(this._dirty){switch(this.type){case "point":this._geometry=this.data.toPoint();break;case "polyline":this._geometry=this.data.toPolyline();
break;case "polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry},enumerable:!1,configurable:!0});return g}(y);c.EditGeometryHelper=G;var w=function(){function c(c,g,l){this.helper=c;this.edge=g;this.t=l;this.right=this.left=this.createdVertex=null}c.prototype.apply=function(){var c="redo",g=this.edge,l=g.component,z=g.component.data,t=g.left,B=g.right;l.edges.splice(l.edges.indexOf(g),1);C.isNone(this.createdVertex)&&(c="apply",this.createdVertex=new m.Vertex(g.component));
l.vertices.push(this.createdVertex);this.createdVertex.pos=z.coordinateHelper.lerp(g.left.pos,g.right.pos,this.t,z.coordinateHelper.createNew());C.isNone(this.left)&&(this.left=new m.Edge(l,t,this.createdVertex));l.edges.push(this.left);t.right=this.left;C.isNone(this.right)&&(this.right=new m.Edge(l,this.createdVertex,B));l.edges.push(this.right);B.left=this.right;l.updateVertexIndex(this.createdVertex,t.index+1);this.helper.emit("vertex-add",{type:"vertex-add",vertices:[this.createdVertex],operation:c})};
c.prototype.undo=function(){if(C.isNone(this.createdVertex)||C.isNone(this.left)||C.isNone(this.right))return null;var c=this.edge,g=c.component,l=this.createdVertex.left.left,m=this.createdVertex.right.right;g.vertices.splice(g.vertices.indexOf(this.createdVertex),1);g.edges.splice(g.edges.indexOf(this.left),1);g.edges.splice(g.edges.indexOf(this.right),1);g.edges.push(this.edge);l.right=c;m.left=c;g.updateVertexIndex(l,l.index);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.createdVertex],
operation:"undo"})};return c}();c.SplitEdgeOperation=w;var l=function(){function c(c,g,l,m,t){this.helper=c;this.applied=!1;this.vertices=g;this.dx=l;this.dy=m;this.dz=t}c.prototype.apply=function(){var c=this;this.vertices.forEach(function(g){c.helper.data.coordinateHelper.addDelta(g.pos,c.dx,c.dy,c.dz)});this.helper.data.components.forEach(function(c){c.unnormalizeVertexPositions()});this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:this.applied?"redo":"apply"});
this.applied=!0};c.prototype.undo=function(){var c=this;this.vertices.forEach(function(g){c.helper.data.coordinateHelper.addDelta(g.pos,-c.dx,-c.dy,-c.dz)});this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"undo"})};c.prototype.canAccumulate=function(c){if(c.length!==this.vertices.length)return!1;for(var g=0;g<c.length;++g)if(c[g]!==this.vertices[g])return!1;return!0};c.prototype.accumulate=function(c,g,l){var x=this;this.vertices.forEach(function(t){x.helper.data.coordinateHelper.addDelta(t.pos,
c,g,l)});this.dx+=c;this.dy+=g;this.dz+=l;this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"apply"})};return c}();c.UpdateVerticesOperation=l;var z=function(){function c(c,g,l){void 0===l&&(l=0);this.helper=c;this.removedVertices=null;this._minNumberOfVertices=0;this.vertices=g;this._minNumberOfVertices=l}c.prototype.apply=function(){var c=this,g="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(function(g){g=c._removeVertex(g);
C.isSome(g)&&c.removedVertices.push(g)}),g="apply"):this.removedVertices.forEach(function(g){c._redoRemoveVertex(g)});this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:this.vertices,operation:g})};c.prototype.undo=function(){var c=this;this.removedVertices.forEach(function(g){c._undoRemoveVertex(g)});this.helper.emit("vertex-add",{type:"vertex-add",vertices:this.vertices,operation:"undo"})};c.prototype._removeVertex=function(c){var g=c.component;if(g.vertices.length<=this._minNumberOfVertices)return null;
var l={removedVertex:c,createdEdge:null},z=c.left,t=c.right;g.vertices.splice(g.vertices.indexOf(c),1);z&&(g.edges.splice(g.edges.indexOf(z),1),z.left.right=null);t&&(g.edges.splice(g.edges.indexOf(t),1),t.right.left=null);0===c.index&&t&&0<this.vertices.length&&g.swapVertices(g.vertices.indexOf(t.right),0);z&&t&&(l.createdEdge=new m.Edge(g,z.left,t.right),g.edges.push(l.createdEdge));t&&g.updateVertexIndex(t.right,t.right.index-1);return l};c.prototype._redoRemoveVertex=function(c){console.warn("redo remove vertex not implemented yet")};
c.prototype._undoRemoveVertex=function(c){var g=c.removedVertex,l=c.removedVertex.component,m=g.left,t=g.right;c.createdEdge&&l.edges.splice(l.edges.indexOf(c.createdEdge),1);l.vertices.push(g);m&&(l.edges.push(m),m.left.right=m);t&&(l.edges.push(t),t.right.left=t);l.updateVertexIndex(g,g.index)};return c}();c.RemoveVerticesOperation=z;var A=function(){function c(c,g,l){this.helper=c;this.component=g;this.pos=l;this.right=this.left=this.originalEdge=this.addedVertex=null}c.prototype.apply=function(){var c=
"redo";C.isNone(this.addedVertex)&&(c="apply",this.addedVertex=new m.Vertex(this.component));if(0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{var g=C.unwrap(this.component.findEndVertex()),l=null;g.right&&(this.originalEdge=g.right,l=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=
this.pos;C.isNone(this.left)&&(this.left=new m.Edge(this.component,g,this.addedVertex));this.component.edges.push(this.left);g.right=this.left;C.isSome(this.originalEdge)&&C.isSome(l)&&(C.isNone(this.right)&&(this.right=new m.Edge(this.component,this.addedVertex,l)),this.component.edges.push(this.right),l.left=this.right);this.component.updateVertexIndex(this.addedVertex,g.index+1)}this.helper.emit("vertex-add",{type:"vertex-add",vertices:[this.addedVertex],operation:c})};c.prototype.undo=function(){if(C.isNone(this.addedVertex))return null;
this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);C.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null);C.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null);C.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge);C.isSome(this.left)?
this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.addedVertex],operation:"undo"})};return c}();c.AppendVertexOperation=A})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometry":function(){define(["require","exports","../../../../../geometry","../../../../../core/arrayUtils","../coordinateHelper"],function(G,c,n,y,C){Object.defineProperty(c,"__esModule",
{value:!0});c.EditGeometry=c.Component=c.Edge=c.Vertex=void 0;var m=function(){function c(c){this.right=this.left=null;this.type="vertex";this.index=null;this.component=c}Object.defineProperty(c.prototype,"pos",{get:function(){return this._pos},set:function(c){this._pos=c;this.component.unnormalizeVertexPositions()},enumerable:!1,configurable:!0});return c}();c.Vertex=m;var g=function(){return function(c,g,m){this.type="edge";this.component=c;this.left=g;this.right=m;g.right=this;m.left=this}}();
c.Edge=g;var w=function(){function c(c){this.vertices=[];this.edges=[];this.data=c}c.prototype.unnormalizeVertexPositions=function(){1>=this.vertices.length||this.data.coordinateHelper.unnormalize(this.vertices)};c.prototype.updateVertexIndex=function(c,g){if(0!==this.vertices.length){var l=this.vertices[0],m=null;do m=c,m.index=g++,c=m.right?m.right.right:null;while(null!=c&&c!==l);m.left&&m!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(m),this.vertices.length-
1)}};c.prototype.findEndVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};c.prototype.swapVertices=function(c,g){var l=this.vertices[c];this.vertices[c]=this.vertices[g];this.vertices[g]=l};return c}();c.Component=w;G=function(){function c(c){this.coordinateHelper=c;this.undoStack=[];this.redoStack=[];this.components=[]}c.prototype.apply=function(c){c.apply();this.undoStack.push(c);this.redoStack=[]};c.prototype.undo=function(){if(0<this.undoStack.length){var c=
this.undoStack.pop();c.undo();this.redoStack.push(c)}};Object.defineProperty(c.prototype,"canUndo",{get:function(){return 0<this.undoStack.length},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lastOperation",{get:function(){return 0<this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},enumerable:!1,configurable:!0});c.prototype.redo=function(){if(0<this.redoStack.length){var c=this.redoStack.pop();c.apply();this.undoStack.push(c)}};Object.defineProperty(c.prototype,
"canRedo",{get:function(){return 0<this.redoStack.length},enumerable:!1,configurable:!0});c.prototype.toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)};c.prototype.toPolyline=function(){var c=[],g=this.coordinateHelper.toArray;this.components.forEach(function(l,m){m=[];var x=l=y.find(l.vertices,function(c){return null==c.left});do m.push(g(l.pos)),l=l.right?l.right.right:null;while(l&&
l!==x);c.push(m)});return new n.Polyline({paths:c,spatialReference:this.coordinateHelper.spatialReference})};c.prototype.toPolygon=function(){var c=[],g=this.coordinateHelper.toArray;this.components.forEach(function(l,m){m=[];var x=l=l.vertices[0],w=x;do m.push(g(x.pos)),x=x.right.right;while(x&&x!==w);m.push(g(l.pos));c.push(m)});return new n.Polygon({rings:c,spatialReference:this.coordinateHelper.spatialReference})};c.fromGeometry=function(l,n){n=C.createCoordinateHelper(l.hasZ,l.hasM,l.spatialReference,
n);var z=new c(n);switch(l.type){case "polygon":for(var D=l.rings,x=0;x<D.length;++x){var J=D[x];l=new w(z);for(var F=J.length-1,t=0;t<F;++t){var B=n.fromArray(J[t]),A=new m(l);l.vertices.push(A);A.pos=B;A.index=t}F=l.vertices.length-1;for(t=0;t<F;++t)B=l.vertices[t],A=l.vertices[t+1],B=new g(l,B,A),l.edges.push(B);F=new g(l,l.vertices[l.vertices.length-1],l.vertices[0]);l.edges.push(F);z.components.push(l)}break;case "polyline":for(D=l.paths,x=0;x<D.length;++x){J=D[x];l=new w(z);F=J.length;for(t=
0;t<F;++t)B=n.fromArray(J[t]),A=new m(l),l.vertices.push(A),A.pos=B,A.index=t;F=l.vertices.length-1;for(t=0;t<F;++t)B=l.vertices[t],A=l.vertices[t+1],B=new g(l,B,A),l.edges.push(B);z.components.push(l)}}return z};return c}();c.EditGeometry=G})},"esri/views/interactive/dragEventPipeline":function(){define("require exports tslib ../../core/handleUtils ../../core/lang ../../core/mathUtils ../../core/maybe ../../core/screenUtils ../../geometry/support/webMercatorUtils ../draw/support/drawUtils".split(" "),
function(G,c,n,y,C,m,g,w,l,z){function A(c,l){var m=null,B=null;return function(x){if("cancel"===x.action)g.isSome(B)&&(B.execute({action:"cancel"}),B=m=null);else{var w={action:x.action,screenStart:x.start,screenEnd:x.screenPoint};"start"===x.action&&g.isNone(m)&&(m=new t,B=new t,l(c,m,B,w));g.isSome(m)&&m.execute(w);"end"===x.action&&g.isSome(m)&&(B=m=null)}}}function M(c,g){return c.events.on("drag",A(c,g))}function D(c,m){var t=null,B=g.isSome(c[m])?c[m].spatialReference:null;return function(x){if("start"===
x.action&&g.isSome(c[m])){var w=c[m],F=x.mapStart.spatialReference;t=g.isNone(w)||"mesh"===w.type?null:w.spatialReference.equals(F)?w.clone():l.canProject(w,F)?l.project(w,F):null}if(g.isNone(t))return null;var w=x.mapEnd.x-x.mapStart.x,F=x.mapEnd.y-x.mapStart.y,O=x.mapEnd.z-x.mapStart.z,aa=z.move(t.clone(),w,F,O);aa.spatialReference.equals(B)?c[m]=aa:c[m]=l.project(aa,B);return n.__assign(n.__assign({},x),{translationX:w,translationY:F,translationZ:O})}}function x(c){return D(c,"geometry")}function J(c,
g){for(var l=new Map,m=0;m<g.length;m++){var t=g[m];l.set(t,C.clone(c[t]))}return function(g){l.forEach(function(g,l){c[l]=g});return g}}function F(c){return J(c,["geometry"])}Object.defineProperty(c,"__esModule",{value:!0});c.EventPipeline=c.dragAtLocation=c.addScreenDelta=c.addMapDelta=c.allDegreesOfFreedom=c.verticalDegreesOfFreedom=c.horizontalDegreesOfFreedom=c.resetSymbol=c.resetGraphicMany=c.resetGraphic=c.resetProperties=c.dragGraphicMany=c.screenToMap=c.dragGraphic=c.dragGeometry=c.constrainToMapAxis=
c.createManipulatorDragEventPipelineMany=c.createManipulatorDragEventPipeline=c.createDragEventPipelineCallback=void 0;c.createDragEventPipelineCallback=A;c.createManipulatorDragEventPipeline=M;c.createManipulatorDragEventPipelineMany=function(c,g){for(var l=[],m=0;m<c.length;m++)l.push(M(c[m],g));return y.handlesGroup(l)};c.constrainToMapAxis=function(c,g){var l=[c.x,c.y,c.z],m=[Math.cos(g),Math.sin(g)];c=Math.sqrt(m[0]*m[0]+m[1]*m[1]);if(0===c)return null;m[0]/=c;m[1]/=c;var t=function(c){var g=
(c.x-l[0])*m[0]+(c.y-l[1])*m[1];c.x=l[0]+g*m[0];c.y=l[1]+g*m[1]};return function(c){t(c.mapStart);t(c.mapEnd);return c}};c.dragGeometry=D;c.dragGraphic=x;c.screenToMap=function(c,m,t){void 0===m&&(m=null);var x=null,B=g.isSome(m)&&!c.spatialReference.equals(m)?function(c){return g.isSome(c)?l.project(c,m):c}:function(c){return c},w=n.__assign({exclude:[]},t);return function(l){"start"===l.action&&(x=B(c.toMap(l.screenStart,w)));if(g.isNone(x))return null;var m=B(c.toMap(l.screenEnd,w));return g.isSome(m)?
n.__assign(n.__assign({},l),{mapStart:x,mapEnd:m}):null}};c.dragGraphicMany=function(c){var l=c.map(function(c){return g.unwrap(x(c))}).filter(function(c){return g.isSome(c)});return function(c){var g=c.mapEnd.x-c.mapStart.x,m=c.mapEnd.y-c.mapStart.y,t=c.mapEnd.z-c.mapStart.z;l.forEach(function(g){return g(c)});return n.__assign(n.__assign({},c),{translationX:g,translationY:m,translationZ:t})}};c.resetProperties=J;c.resetGraphic=F;c.resetGraphicMany=function(c){var l=c.map(function(c){return g.unwrap(F(c))}).filter(function(c){return g.isSome(c)});
return function(c){l.forEach(function(g){return g(c)});return c}};c.resetSymbol=function(c){var l=g.isSome(c.symbol)?c.symbol.clone():null;return function(g){c.symbol=l;return g}};c.horizontalDegreesOfFreedom=3;c.verticalDegreesOfFreedom=4;c.allDegreesOfFreedom=7;c.addMapDelta=function(g){void 0===g&&(g=c.allDegreesOfFreedom);var l=0,m=0,t=0;return function(c){"start"===c.action&&(l=c.mapStart.x,m=c.mapStart.y,t=c.mapStart.z);var x=g&1?c.mapEnd.x-l:0,B=g&2?c.mapEnd.y-m:0,O=g&4?c.mapEnd.z-t:0;l=c.mapEnd.x;
m=c.mapEnd.y;t=c.mapEnd.z;return n.__assign(n.__assign({},c),{mapDeltaX:x,mapDeltaY:B,mapDeltaZ:O,mapDeltaSpatialReference:c.mapStart.spatialReference})}};c.addScreenDelta=function(g){void 0===g&&(g=c.allDegreesOfFreedom);var l=0,m=0;return function(c){"start"===c.action&&(l=c.screenStart.x,m=c.screenStart.y);var t=g&1?c.screenEnd.x-l:0,x=g&2?c.screenEnd.y-m:0;l=c.screenEnd.x;m=c.screenEnd.y;return n.__assign(n.__assign({},c),{screenDeltaX:t,screenDeltaY:x})}};c.dragAtLocation=function(c,g){var l=
null,t=0,x=0;return function(B){"start"===B.action&&(l=c.toScreen(g),0>l.x||l.x>c.width||0>l.y||l.y>c.height?l=null:(t=B.screenStart.x-l.x,x=B.screenStart.y-l.y));if(null==l)return null;var n=m.clamp(B.screenEnd.x-t,0,c.width),O=m.clamp(B.screenEnd.y-x,0,c.height),n=w.createScreenPoint(n,O);B.screenStart=l;B.screenEnd=n;return B}};var t=function(){function c(){this.execute=function(){}}c.prototype.next=function(l,m){void 0===m&&(m=new c);g.isSome(l)&&(this.execute=function(c){c=l(c);g.isSome(c)&&
m.execute(c)});return m};return c}();c.EventPipeline=t})},"esri/views/draw/support/drawUtils":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(G,c,n,y,C){function m(c,m,w,n){null==n||c.hasZ||(n=void 0);if("point"===c.type)return c.x+=m,c.y+=w,c.hasZ&&null!=n&&(c.z+=n),c;if("multipoint"===c.type){for(var l=c.points,x=0;x<l.length;x++)l[x]=g(l[x],m,w,n);return c}if("extent"===c.type)return c.xmin+=
m,c.xmax+=m,c.ymin+=w,c.ymax+=w,null!=n&&(c.zmin+=n,c.zmax+=n),c;for(var l=C.geometryToCoordinates(c),J="polyline"===c.type?c.paths:c.rings,F=0;F<l.length;F++)for(var t=l[F],x=0;x<t.length;x++)t[x]=g(t[x],m,w,n);"paths"in c?c.paths=J:c.rings=J;return c}function g(c,g,m,n){return w(c,c[0]+g,c[1]+m,null!=c[2]&&null!=n?c[2]+n:void 0)}function w(c,g,m,w){g=[g,m];2<c.length&&g.push(null!=w?w:c[2]);3<c.length&&g.push(c[3]);return g}Object.defineProperty(c,"__esModule",{value:!0});c.getRotationAngle=c.getScaleRatio=
c.scale=c.cloneMove=c.move=void 0;c.move=m;c.cloneMove=function(c,g,n,y,D){c=c.clone();var l=y.resolution;if("point"===c.type){if(D)m(c,g*l,-n*l);else{D=y.state.transform;y=y.state.inverseTransform;var J=D[0]*c.x+D[2]*c.y+D[4],F=D[1]*c.x+D[3]*c.y+D[5];c.x=y[0]*(J+g)+y[2]*(F+n)+y[4];c.y=y[1]*(J+g)+y[3]*(F+n)+y[5]}return c}if("multipoint"===c.type){if(D)m(c,g*l,-n*l);else{l=c.points;D=y.state.transform;y=y.state.inverseTransform;for(var t=0;t<l.length;t++){var B=l[t],F=D[0]*B[0]+D[2]*B[1]+D[4],z=D[1]*
B[0]+D[3]*B[1]+D[5],J=y[0]*(F+g)+y[2]*(z+n)+y[4],F=y[1]*(F+g)+y[3]*(z+n)+y[5];l[t]=w(B,J,F,void 0)}}return c}if("extent"===c.type){if(D)m(c,g*l,-n*l);else{D=y.state.transform;y=y.state.inverseTransform;var l=D[0]*c.xmin+D[2]*c.ymin+D[4],A=D[1]*c.xmin+D[3]*c.ymin+D[5],J=D[0]*c.xmax+D[2]*c.ymax+D[4];D=D[1]*c.xmax+D[3]*c.ymax+D[5];c.xmin=y[0]*(l+g)+y[2]*(A+n)+y[4];c.ymin=y[1]*(l+g)+y[3]*(A+n)+y[5];c.xmax=y[0]*(J+g)+y[2]*(D+n)+y[4];c.ymax=y[1]*(J+g)+y[3]*(D+n)+y[5]}return c}if(D)m(c,g*l,-n*l);else{A=
C.geometryToCoordinates(c);l="polyline"===c.type?c.paths:c.rings;D=y.state.transform;y=y.state.inverseTransform;for(var V=0;V<A.length;V++)for(var X=A[V],t=0;t<X.length;t++)B=X[t],F=D[0]*B[0]+D[2]*B[1]+D[4],z=D[1]*B[0]+D[3]*B[1]+D[5],J=y[0]*(F+g)+y[2]*(z+n)+y[4],F=y[1]*(F+g)+y[3]*(z+n)+y[5],X[t]=w(B,J,F,void 0);"paths"in c?c.paths=l:c.rings=l}return c};c.scale=function(c,g,m,M){if("point"===c.type){var l=c.x,x=c.y,J=M?M[0]:l;M=M?M[1]:x;c=c.clone();c.x=(l-J)*g+J;c.y=(x-M)*m+M;return c}if("multipoint"===
c.type){var x=C.geometryToCoordinates(c),J=n.create(),F=y.getRingsOrPathsBounds(J,[x]),J=F[0],x=F[1],l=F[2],F=F[3],J=M?M[0]:(J+l)/2,F=M?M[1]:(F+x)/2,t=c.clone(),B=t.points;for(c=0;c<B.length;c++)M=B[c],l=M[0],x=M[1],l=(l-J)*g+J,x=(x-F)*m+F,B[c]=w(M,l,x,void 0);return t}if("extent"===c.type)return x=c.xmin,J=c.xmax,l=c.ymin,F=c.ymax,t=M?M[0]:(x+J)/2,M=M?M[1]:(F+l)/2,c=c.clone(),c.xmin=(x-t)*g+t,c.ymax=(F-M)*m+M,c.xmax=(J-t)*g+t,c.ymin=(l-M)*m+M,c.xmin>c.xmax&&(g=c.xmin,c.xmin=c.xmax,c.xmax=g),c.ymin>
c.ymax&&(g=c.ymin,c.ymin=c.ymax,c.ymax=g),c;for(var J=C.geometryToCoordinates(c),x=n.create(),t=y.getRingsOrPathsBounds(x,J),l=t[0],x=t[1],F=t[2],t=t[3],F=M?M[0]:(l+F)/2,t=M?M[1]:(t+x)/2,B=c.clone(),z="polyline"===B.type?B.paths:B.rings,A=0;A<J.length;A++){var V=J[A];for(c=0;c<V.length;c++)M=V[c],l=M[0],x=M[1],l=(l-F)*g+F,x=(x-t)*m+t,z[A][c]=w(M,l,x,void 0)}"paths"in B?B.paths=z:B.rings=z;return B};c.getScaleRatio=function(c,g,m,n,w,x){return Math.sqrt((w-c)*(w-c)+(x-g)*(x-g))/Math.sqrt((m-c)*(m-
c)+(n-g)*(n-g))};c.getRotationAngle=function(c,g,m,n,w,x){return 180*Math.atan2(g-x,c-w)/Math.PI-180*Math.atan2(g-n,c-m)/Math.PI}})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("require exports ../../../../core/Evented ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/dehydratedFeatures ./DrapedVisualElementResources ./LaserlineVisualElement ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/lineUtils ../../support/projectionUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/geometryDataUtils ../../webgl-engine/lib/RenderGeometry ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V){Object.defineProperty(c,"__esModule",{value:!0});c.OutlineVisualElement=void 0;G=function(){function c(c){var g=this;this.view=null;this._attachmentOrigin=z.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new n;this._isDraped=!1;this._geometry=null;this._width=1;this._color=w.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=w.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=
0;this._laserlineStyle=this._elevationInfo=null;this._laserlineEnabled=!1;this._occludedMode=8;this.resources=new D.VisualElementResources({view:c.view,createResources:function(c){return g.createResources(c)},recreateGeometry:function(c,l){c.geometries.length=0;g.recreateGeometry(l,c.material,c.geometries);return c.geometries}});this._attachmentOrigin.spatialReference=c.view.spatialReference;this.drapedResources=new A.DrapedVisualElementResources({view:c.view,createResources:function(){return g.createDrapedResources()},
recreateGeometry:function(c){c.geometries=g.createRenderGeometriesDraped(c.material);g.attachmentOriginChanged()}});var l=!0;this._laserline=new M.LaserlineVisualElement({view:c.view});for(var m in c)m in this?"attached"===m?l=c[m]:this[m]=c[m]:console.error("Cannot set unknown property",m);this.attached=l}c.prototype.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};Object.defineProperty(c.prototype,"isDraped",{get:function(){return this._isDraped},
set:function(c){c!==this._isDraped&&(this._isDraped=c,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"laserlineAttached",{get:function(){return this.attached&&!this.hidden&&y.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(c){this.resources.hidden=
c;this.drapedResources.hidden=c;this._laserline.attached=this.laserlineAttached},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this.resources.attached||this.drapedResources.attached},set:function(c){this.updateAttached(c)},enumerable:!1,configurable:!0});c.prototype.updateAttached=function(c){this.resources.attached=!this.isDraped&&c;this.drapedResources.attached=this.isDraped&&c;this._laserline.attached=this.laserlineAttached;this.attached&&this.attachmentOriginChanged()};
Object.defineProperty(c.prototype,"geometry",{get:function(){return this._geometry},set:function(c){this._geometry=c;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(c){c!==this._width&&(this._width=c,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"color",{get:function(){return this._color},set:function(c){g.vec4.exactEquals(c,
this._color)||(g.vec4.copy(this._color,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(c){c!==this._innerWidth&&(this._innerWidth=c,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"innerColor",{get:function(){return this._innerColor},set:function(c){g.vec4.exactEquals(c,this._innerColor)||(g.vec4.copy(this._innerColor,c),this.updateMaterial())},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(c){var g=y.isSome(c)!==y.isSome(this._stipplePattern);this._stipplePattern=c;g?this.resources.recreate():this.updateMaterial()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(c){c&&this._stippleOffColor&&g.vec4.exactEquals(c,this._stippleOffColor)||(this._stippleOffColor=
c?w.vec4f32.clone(c):null,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"falloff",{get:function(){return this._falloff},set:function(c){c!==this._falloff&&(this._falloff=c,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(c){this._elevationInfo=c;this.resources.recreateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(c){this._laserlineStyle=c;this._laserline.attached=this.laserlineAttached;y.isSome(c)&&(this._laserline.style=c)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"laserlineEnabled",{get:function(){return this._laserlineEnabled},set:function(c){this._laserlineEnabled!==c&&(this._laserlineEnabled=c,this._laserline.attached=this.laserlineAttached)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"occludedMode",{get:function(){return this._occludedMode},set:function(c){c!==this._occludedMode&&(this._occludedMode=c,y.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=c),y.isSome(this.drapedResources.resources)&&(this.drapedResources.resources.material.renderOccluded=c))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attachmentOrigin",{get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var c=y.isSome(this.resources.resources)?
this.resources.resources.geometries:null;if(!c||0===c.length)return null;C.vec3.set(R,0,0,0);for(var g=V.RibbonVertexAttributeConstants.POSITION,l=0,m=0;m<c.length;m++){var t=c[m],x=t.getAttribute(g),t=t.getIndices(g),O=y.unwrap(this.resources.resources).material.isClosed(x.data,t);B.computeAttachmentOriginLines(x,t,O,W)&&(C.vec3.add(R,R,W),l++)}if(0===l)return null;C.vec3.scale(R,R,1/l);this.view.renderCoordsHelper.fromRenderCoords(R,this._attachmentOrigin);this._attachmentOriginDirty=!1;return this._attachmentOrigin},
enumerable:!1,configurable:!0});c.prototype.updateMaterial=function(){y.isSome(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters);y.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)};Object.defineProperty(c.prototype,"isClosed",{get:function(){return y.isSome(this.geometry)&&"polygon"===this.geometry.type},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",stippleIntegerRepeats:!0,polygonOffset:!0}},enumerable:!1,configurable:!0});c.prototype.recreateGeometry=function(c,g,l){for(var m=0,t=this.createRenderGeometries();m<t.length;m++){var x=t[m];c.addGeometry(x,g);l.push(x)}this.attachmentOriginChanged()};
c.prototype.attachmentOriginChanged=function(){this._attachmentOriginDirty=!0;this.events.emit("attachment-origin-changed")};c.prototype.createResources=function(c){var g=new K(this.materialParameters,"lineVisualElement");g.renderOccluded=8;var l=[];this.recreateGeometry(c,g,l);return{material:g,geometries:l,forEach:function(c){c(g);l.forEach(c)}}};c.prototype.createDrapedResources=function(){var c=new K(this.materialParameters,"lineVisualElement");c.renderOccluded=4;var g=this.createRenderGeometriesDraped(c);
return{material:c,geometries:g}};c.prototype.createRenderGeometriesDraped=function(c){var g=this.geometry;if(y.isNone(g))return[];for(var m=[],t=0,g=J.geometryToRenderInfoDraped(g,this.view.basemapTerrain.spatialReference).lines;t<g.length;t++){var x=g[t].position,O=new Y(J.createGeometryData({attributeData:{position:x},removeDuplicateStartEnd:this.isClosed?1:0}));O.material=c;var n=l.empty(X);l.expandWithBuffer(n,x);C.vec3.set(O.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0);O.bsRadius=.5*Math.sqrt((n[3]-
n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1]));m.push(O)}return m};c.prototype.calculateMapBounds=function(c){if(y.isNone(this.resources.resources))return!1;for(var g=this.view.renderCoordsHelper,m=0,t=this.resources.resources.geometries;m<t.length;m++){var x=t[m].data.getAttribute("position"),O=x.data,n=new Float64Array(O.length);F.bufferToBuffer(x.data,g.spatialReference,0,n,this.view.spatialReference,0,O.length/3);l.expandWithBuffer(c,n)}return!0};c.prototype.createRenderGeometries=function(){var c=
this.geometry;if(y.isNone(c))return[];for(var g=[],l=[],m=0,c=J.geometryToRenderInfo(c,this.view.elevationProvider,this.view.renderCoordsHelper,x.ElevationContext.fromElevationInfo(this.elevationInfo)).lines;m<c.length;m++){var O=c[m],n=O.position,O=J.createGeometryData({attributeData:{position:n,mapPosition:O.mapPosition},removeDuplicateStartEnd:this.isClosed?1:0});g.push(new t(O,"geometryOutlineVisualElement"));l.push(n)}this._laserline.pathVerticalPlane=l;return g};return c}();c.OutlineVisualElement=
G;var X=l.create(),W=m.vec3f64.create(),R=m.vec3f64.create()})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define(["require","exports","../../../../core/maybe"],function(G,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.DrapedVisualElementResources=void 0;G=function(){function c(c){this.resourceFactory=c;this._resources=null;this._attached=this._hidden=!1}c.prototype.destroy=function(){this._destroyResources()};Object.defineProperty(c.prototype,"resources",
{get:function(){return n.isSome(this._resources)?this._resources.external:null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hidden",{get:function(){return this._hidden},set:function(c){c!==this._hidden&&(this._hidden=c,this._syncGeometriesToRenderer())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this._attached},set:function(c){c!==this._attached&&(this._attached=c,this._createOrDestroyResources())},enumerable:!1,configurable:!0});
c.prototype.recreate=function(){this.attached&&this._createResources()};c.prototype.recreateGeometry=function(){this.resourceFactory.recreateGeometry?n.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()};c.prototype._createOrDestroyResources=function(){this._attached?n.isNone(this._resources)&&this._createResources():this._destroyResources()};c.prototype._createResources=function(){this._destroyResources();
var c=this.resourceFactory.createResources();this._resources={layerView:{view:this.resourceFactory.view,notifyGraphicUpdate:function(){},watch:function(){return{remove:function(){}}}},external:c,geometriesAdded:!1};this._syncGeometriesToRenderer()};c.prototype._destroyResources=function(){n.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this._resources=null)};c.prototype._syncGeometriesToRenderer=function(){this._hidden?this.ensureRenderGeometriesRemoved():this._hidden||this.ensureRenderGeometriesAdded()};
c.prototype.ensureRenderGeometriesRemoved=function(){!n.isNone(this._resources)&&this._resources.geometriesAdded&&(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1)};c.prototype.ensureRenderGeometriesAdded=function(){n.isNone(this._resources)||this._resources.geometriesAdded||(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,
this._resources.layerView,2),this._resources.geometriesAdded=!0)};return c}();c.DrapedVisualElementResources=G})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("require exports tslib ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ./VisualElement ../../support/geometryUtils ../../support/LaserLineRenderer ../../webgl-engine/shaders/Laserlines.glsl".split(" "),function(G,c,n,y,C,m,g,w,l,z){Object.defineProperty(c,
"__esModule",{value:!0});c.LaserlineVisualElement=void 0;G=function(c){function g(g){var l=c.call(this,g.view)||this;l._angleCutoff=z.defaultAngleCutoff;l._style={};l._heightManifoldTarget=m.vec3f64.create();l._heightManifoldEnabled=!1;l._intersectsLine=w.lineSegment.create();l._intersectsLineEnabled=!1;l._intersectsLineInfinite=!1;l._pathVerticalPlaneBuffers=null;l.applyProps(g);return l}n.__extends(g,c);g.prototype.createResources=function(){this.ensureRenderer()};g.prototype.destroyResources=function(){this.disposeRenderer()};
g.prototype.updateVisibility=function(c){this.syncHeightManifold();this.syncIntersectsLine();this.syncPathVerticalPlane()};Object.defineProperty(g.prototype,"angleCutoff",{get:function(){return this._angleCutoff},set:function(c){this._angleCutoff!==c&&(this._angleCutoff=c,this.syncAngleCutoff())},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"style",{get:function(){return this._style},set:function(c){this._style=c;this.syncStyle()},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,
"heightManifoldTarget",{get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(c){y.isSome(c)?(C.vec3.copy(this._heightManifoldTarget,c),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1;this.syncRenderer();this.syncHeightManifold()},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"intersectsWorldUpAtLocation",{set:function(c){if(y.isNone(c))this.intersectsLine=null;else{var g=this.view.renderCoordsHelper.worldUpAtPosition(c,
A);this.intersectsLine=w.lineSegment.fromValues(c,g);this.intersectsLineInfinite=!0}},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"intersectsLine",{get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(c){y.isSome(c)?(w.lineSegment.copy(c,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this.syncIntersectsLine();this.syncRenderer()},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"intersectsLineInfinite",
{get:function(){return this._intersectsLineInfinite},set:function(c){this._intersectsLineInfinite=c;this.syncIntersectsLineInfinite()},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"pathVerticalPlane",{get:function(){return this._pathVerticalPlaneBuffers},set:function(c){this._pathVerticalPlaneBuffers=c;this.syncPathVerticalPlane();this.syncRenderer()},enumerable:!1,configurable:!0});g.prototype.syncRenderer=function(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||
y.isSome(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()};g.prototype.ensureRenderer=function(){y.isSome(this.renderer)||(this.renderer=new l.LaserLineRenderer(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};
g.prototype.syncStyle=function(){y.isNone(this.renderer)||(this.renderer.setParameterValues(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))};g.prototype.syncAngleCutoff=function(){y.isNone(this.renderer)||this.renderer.setParameterValues({angleCutoff:this._angleCutoff})};g.prototype.syncHeightManifold=function(){y.isNone(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&
(this.renderer.heightManifoldTarget=this._heightManifoldTarget))};g.prototype.syncIntersectsLine=function(){y.isNone(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))};g.prototype.syncIntersectsLineInfinite=function(){y.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};g.prototype.syncPathVerticalPlane=function(){y.isNone(this.renderer)||
(this.renderer.pathVerticalPlaneEnabled=y.isSome(this._pathVerticalPlaneBuffers)&&this.visible,y.isSome(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))};g.prototype.disposeRenderer=function(){y.isSome(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};return g}(g.VisualElement);c.LaserlineVisualElement=G;var A=m.vec3f64.create()})},"esri/views/3d/interactive/visualElements/VisualElement":function(){define(["require",
"exports"],function(G,c){Object.defineProperty(c,"__esModule",{value:!0});c.VisualElement=void 0;G=function(){function c(c){this._attached=!1;this._visible=!0;this.view=c}c.prototype.applyProps=function(c){var n=!1,m;for(m in c)m in this?"attached"===m?n=c[m]:this[m]=c[m]:console.error("Cannot set unknown property",m);this.attached=n};c.prototype.destroy=function(){this.attached=!1};Object.defineProperty(c.prototype,"attached",{get:function(){return this._attached},set:function(c){c!==this._attached&&
((this._attached=c)?this.createResources():this.destroyResources())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"visible",{get:function(){return this._visible},set:function(c){c!==this._visible&&(this._visible=c,this.attached&&this.updateVisibility(c))},enumerable:!1,configurable:!0});return c}();c.VisualElement=G})},"esri/views/3d/support/LaserLineRenderer":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/libs/gl-matrix-2/vec2f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/vec4 ../../../core/libs/gl-matrix-2/vec4f64 ./geometryUtils ./LaserlinePathData ../webgl-engine/lib/glUtil3D ../webgl-engine/lib/Util ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ../webgl-engine/shaders/LaserlineTechnique".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F){function t(c,g,l,t){var O=B,n=Y;m.vec3.transformMat4(O,g,t);m.vec3.copy(n,l);n[3]=0;w.vec4.transformMat4(n,n,t);z.plane.fromPositionAndNormal(O,n,c)}Object.defineProperty(c,"__esModule",{value:!0});c.LaserLineRenderer=void 0;var B=g.vec3f64.create(),Y=l.vec4f64.create(),K={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:n.deg2rad(6),globalAlphaContrastBoost:2};G=function(){function c(c,m,t){void 0===
m&&(m={});void 0===t&&(t={contrastControlEnabled:!1});this._technique=null;this._projInfo=l.vec4f64.create();this._zScale=C.vec2f64.create();this._heightManifoldEnabled=!1;this._heightManifoldTarget=g.vec3f64.create();this._pointDistanceEnabled=!1;this._pointDistanceOrigin=g.vec3f64.create();this._pointDistanceTarget=g.vec3f64.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=z.lineSegment.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=z.lineSegment.create();
this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=null;this.canRender=!0;this._tempNormal=g.vec3f64.create();this._tempDir=g.vec3f64.create();this._tempUp=g.vec3f64.create();this._tempVec3A=g.vec3f64.create();this._tempVec3B=g.vec3f64.create();this._tempVec4=l.vec4f64.create();this._tempPlane=z.plane.create();this._tempSphere=z.sphere.create();this._renderCoordsHelper=c;this._params=x.copyParameters(m,K);this._config=
t}Object.defineProperty(c.prototype,"renderSlots",{get:function(){return[this._config.contrastControlEnabled?17:16]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"needsLinearDepth",{get:function(){return!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"heightManifoldEnabled",{get:function(){return this._heightManifoldEnabled},set:function(c){this._heightManifoldEnabled!==c&&(this._heightManifoldEnabled=c,this._requestRender())},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"heightManifoldTarget",{get:function(){return this._heightManifoldTarget},set:function(c){m.vec3.copy(this._heightManifoldTarget,c);this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pointDistanceEnabled",{get:function(){return this._pointDistanceEnabled},set:function(c){c!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=c,this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pointDistanceTarget",
{get:function(){return this._pointDistanceTarget},set:function(c){m.vec3.copy(this._pointDistanceTarget,c);this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pointDistanceOrigin",{get:function(){return this._pointDistanceOrigin},set:function(c){m.vec3.copy(this._pointDistanceOrigin,c);this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lineVerticalPlaneEnabled",{get:function(){return this._lineVerticalPlaneEnabled},set:function(c){c!==
this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=c,this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lineVerticalPlaneSegment",{get:function(){return this._lineVerticalPlaneSegment},set:function(c){z.lineSegment.copy(c,this._lineVerticalPlaneSegment);this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"intersectsLineEnabled",{get:function(){return this._intersectsLineEnabled},set:function(c){c!==this._intersectsLineEnabled&&
(this._intersectsLineEnabled=c,this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"intersectsLineSegment",{get:function(){return this._intersectsLineSegment},set:function(c){z.lineSegment.copy(c,this._intersectsLineSegment);this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"intersectsLineRadius",{get:function(){return this._intersectsLineRadius},set:function(c){c!==this._intersectsLineRadius&&(this._intersectsLineRadius=
c,this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"intersectsLineInfinite",{get:function(){return this._intersectsLineInfinite},set:function(c){c!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=c,this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pathVerticalPlaneEnabled",{get:function(){return this._pathVerticalPlaneEnabled},set:function(c){c!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=
c,y.isSome(this._pathVerticalPlaneData)&&this._requestRender())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pathVerticalPlaneVertices",{set:function(c){y.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.vertices=c;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pathVerticalPlaneBuffers",{set:function(c){y.isNone(this._pathVerticalPlaneData)&&
(this._pathVerticalPlaneData=new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=c;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!1,configurable:!0});c.prototype.setParameterValues=function(c){x.updateParameters(this._params,c)&&this._requestRender()};c.prototype.initializeRenderContext=function(c){this._initContext=c;this._quadVAO=M.createQuadVAO(c.rctx);this._techniqueRepository=c.shaderTechniqueRep;this._techniqueConfig=new F.LaserlineTechniqueConfiguration;
this._pathTechniqueConfig=new J.LaserlinePathTechniqueConfiguration};c.prototype.uninitializeRenderContext=function(){this._quadVAO.dispose();this._quadVAO=null;y.isSome(this._technique)&&this._techniqueRepository.release(this._technique);y.isSome(this._pathVerticalPlaneData)&&this._pathVerticalPlaneData.dispose();y.isSome(this._pathTechnique)&&this._techniqueRepository.release(this._pathTechnique)};c.prototype.render=function(c){var g=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||
this.intersectsLineEnabled,l=this.pathVerticalPlaneEnabled;if(!g&&!l)return!0;var m=c.camera;D.inverseProjectionInfo(m.projectionMatrix,m.fullWidth,m.fullHeight,this._projInfo,this._zScale);g&&this.renderUnified(c);l&&this.renderPath(c);return!0};c.prototype.renderUnified=function(c){var g=c.rctx,l=this._selectTechnique(),m=l.program;g.bindProgram(m);l.bindPipelineState(g);this.bindGlobalUniforms(c,m);this.bindHeightManifoldUniforms(c,m);this.bindPointDistanceUniforms(c,m);this.bindLineVerticalPlaneUniforms(c,
m);this.bindIntersectsLineUniforms(c,m);l.bind(this._params,c.camera);g.bindVAO(this._quadVAO);g.drawArrays(5,0,4)};c.prototype.renderPath=function(c){if(!y.isNone(this._pathVerticalPlaneData)){this._pathTechniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=this._techniqueRepository.acquireAndReleaseExisting(J.LaserlinePathTechnique,this._pathTechniqueConfig,this._pathTechnique);var g=c.rctx,l=this._pathTechnique,m=l.program;g.bindProgram(m);l.bindPipelineState(g);
this.bindGlobalUniforms(c,m);l.bind(this._params,this._pathVerticalPlaneData.origin,c.camera);this._pathVerticalPlaneData.draw(c.rctx)}};c.prototype.bindHeightManifoldUniforms=function(c,g){if(this.heightManifoldEnabled){var l=this._tempVec3A,m=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,l);t(m,this._heightManifoldTarget,l,c.camera.viewMatrix);g.setUniform4fv("heightPlane",m)}};c.prototype.bindPointDistanceUniforms=function(c,g){if(this._pointDistanceEnabled){c=
c.camera;var l=this._tempSphere;m.vec3.copy(l.center,this._pointDistanceOrigin);m.vec3.transformMat4(l.center,l.center,c.viewMatrix);l.radius=m.vec3.distance(this._pointDistanceOrigin,this._pointDistanceTarget);g.setUniform4f("pointDistanceSphere",l.center[0],l.center[1],l.center[2],l.radius)}};c.prototype.bindLineVerticalPlaneUniforms=function(c,g){if(this._lineVerticalPlaneEnabled){var l=this._renderCoordsHelper;c=c.camera;var n=this._tempPlane,x=this._tempVec3A,w=this._tempUp,B=this._tempDir,O=
this._tempNormal;z.lineSegment.pointAt(this._lineVerticalPlaneSegment,.5,x);l.worldUpAtPosition(x,w);m.vec3.normalize(B,this._lineVerticalPlaneSegment.vector);m.vec3.cross(O,w,B);m.vec3.normalize(O,O);t(n,this._lineVerticalPlaneSegment.origin,O,c.viewMatrix);g.setUniform4fv("lineVerticalPlane",n);n=this._tempVec3A;m.vec3.copy(n,this._lineVerticalPlaneSegment.origin);l.setAltitude(0,n);m.vec3.transformMat4(n,n,c.viewMatrix);g.setUniform3fv("lineVerticalStart",n);n=this._tempVec3B;m.vec3.add(n,this._lineVerticalPlaneSegment.origin,
this._lineVerticalPlaneSegment.vector);l.setAltitude(0,n);m.vec3.transformMat4(n,n,c.viewMatrix);g.setUniform3fv("lineVerticalEnd",n)}};c.prototype.bindIntersectsLineUniforms=function(c,g){if(this._intersectsLineEnabled){var l=X,t=W;if(this._intersectsLineInfinite){var n=c.camera;z.clipRay.fromRay(z.ray.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),V);V.c0=-Number.MAX_VALUE;if(!z.frustum.intersectClipRay(n.frustum.planes,V))return;z.clipRay.getStart(V,l);z.clipRay.getEnd(V,
t)}else m.vec3.copy(l,this._intersectsLineSegment.origin),m.vec3.add(t,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);n=this._tempVec3A;m.vec3.transformMat4(n,l,c.camera.viewMatrix);g.setUniform3fv("intersectsLineStart",n);l=this._tempVec4;m.vec3.copy(l,this._intersectsLineSegment.vector);this._tempVec4[3]=0;w.vec4.transformMat4(this._tempVec4,this._tempVec4,c.camera.viewMatrix);m.vec3.transformMat4(t,t,c.camera.viewMatrix);g.setUniform3fv("intersectsLineEnd",t);m.vec3.normalize(l,
l);g.setUniform3f("intersectsLineDirection",l[0],l[1],l[2]);g.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};c.prototype.bindGlobalUniforms=function(c,g){var l=c.camera;g.setUniform4fv("projInfo",this._projInfo);g.setUniform2fv("zScale",this._zScale);g.setUniform2f("nearFar",l.near,l.far);this._heightManifoldEnabled?g.setUniform1f("maxPixelDistance",2*l.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?g.setUniform1f("maxPixelDistance",2*l.computeScreenPixelSizeAt(this._pointDistanceTarget)):
this._lineVerticalPlaneEnabled&&g.setUniform1f("maxPixelDistance",2*l.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));g.setUniform1i("depthMap",0);c.rctx.bindTexture(c.offscreenRenderingHelper.linearDepthTexture,0);g.setUniform1i("frameColor",1);c.rctx.bindTexture(c.offscreenRenderingHelper.mainColorTexture,1)};c.prototype._requestRender=function(){this._initContext&&this._initContext.requestRender()};c.prototype._selectTechnique=function(){this._techniqueConfig.heightManifoldEnabled=
this.heightManifoldEnabled;this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled;this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled;this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled;this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;return this._technique=this._techniqueRepository.acquireAndReleaseExisting(F.LaserlineTechnique,this._techniqueConfig,this._technique)};return c}();c.LaserLineRenderer=G;var V=
z.clipRay.create(),X=g.vec3f64.create(),W=g.vec3f64.create()})},"esri/views/3d/support/LaserlinePathData":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../webgl ./buffer/glUtil ./buffer/InterleavedLayout ../webgl-engine/shaders/LaserlinePathTechnique".split(" "),function(G,c,n,y,C,m,g,w,l){Object.defineProperty(c,"__esModule",{value:!0});c.LaserlinePathData=void 0;G=function(){function c(c){this._renderCoordsHelper=
c;this._buffers=null;this._origin=C.vec3f64.create();this._dirty=!1;this._count=0;this._vao=null}Object.defineProperty(c.prototype,"vertices",{set:function(c){for(var g=new Float64Array(3*c.length),l=0,m=0;m<c.length;m++){var n=c[m];g[l++]=n[0];g[l++]=n[1];g[l++]=n[2]}this.buffers=[g]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"buffers",{set:function(c){this._buffers=c;if(0<this._buffers.length){c=this._buffers[0];var g=3*Math.floor(c.length/3/2);y.vec3.set(this._origin,c[g+
0],c[g+1],c[g+2])}else y.vec3.set(this._origin,0,0,0);this._dirty=!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0});c.prototype.draw=function(c){var g=this.ensureVAO(c);n.isSome(g)&&(c.bindVAO(g),c.drawArrays(4,0,this._count))};c.prototype.dispose=function(){n.isSome(this._vao)&&this._vao.dispose()};c.prototype.ensureVAO=function(c){if(n.isNone(this._buffers))return null;n.isNone(this._vao)&&(this._vao=
this.createVAO(c,this._buffers));this.ensureVertexData(this._vao,this._buffers);return this._vao};c.prototype.createVAO=function(c,n){n=this.createDataBuffer(n);this._dirty=!1;return new m.VertexArrayObject(c,l.LaserlinePathTechnique.attributeLocations,{data:g.glLayout(M)},{data:m.BufferObject.createVertex(c,35044,n)})};c.prototype.ensureVertexData=function(c,g){this._dirty&&(g=this.createDataBuffer(g),c.vertexBuffers.data.setData(g),this._dirty=!1)};c.prototype.numberOfRenderVertices=function(c){return 6*
(c.length/3-1)};c.prototype.createDataBuffer=function(c){var g=this,l=c.reduce(function(c,l){return c+g.numberOfRenderVertices(l)},0);this._count=l;for(var l=M.createBuffer(l),m=this._origin,n=0,w=0,x=0;x<c.length;x++){for(var C=c[x],D=0;D<C.length;D+=3){var G=y.vec3.set(A,C[D+0],C[D+1],C[D+2]);0===D?w=this._renderCoordsHelper.getAltitude(G):this._renderCoordsHelper.setAltitude(w,G);var R=this._renderCoordsHelper.worldUpAtPosition(G,z),O=n+2*D,G=y.vec3.subtract(A,G,m);if(D<C.length-3){l.up.setVec(O,
R);l.up.setVec(O+3,R);l.up.setVec(O+5,R);for(var aa=0;6>aa;aa++)l.start.setVec(O+aa,G);l.extrude.setValues(O+0,0,-1);l.extrude.setValues(O+1,1,-1);l.extrude.setValues(O+2,1,1);l.extrude.setValues(O+3,0,-1);l.extrude.setValues(O+4,1,1);l.extrude.setValues(O+5,0,1)}if(0<D)for(l.up.setVec(O-2,R),l.up.setVec(O-4,R),l.up.setVec(O-5,R),aa=-6;0>aa;aa++)l.end.setVec(O+aa,G)}n+=this.numberOfRenderVertices(C)}return l.buffer};return c}();c.LaserlinePathData=G;var z=C.vec3f64.create(),A=C.vec3f64.create(),M=
w.newLayout().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude")})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ./LaserlinePath.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M){Object.defineProperty(c,"__esModule",{value:!0});c.LaserlinePathTechniqueConfiguration=c.LaserlinePathTechnique=void 0;g=function(c){function g(){return null!==c&&c.apply(this,arguments)||this}n.__extends(g,c);g.prototype.initializeProgram=function(c){var l=g.shader.get().build(this.configuration);return new z(c.rctx,l.generateSource("vertex"),l.generateSource("fragment"),g.attributeLocations)};g.prototype.bind=function(c,g,l){this.program.setUniform3fv("innerColor",
c.innerColor);this.program.setUniform1f("innerWidth",c.innerWidth*l.pixelRatio);this.program.setUniform3fv("glowColor",c.glowColor);this.program.setUniform1f("glowWidth",c.glowWidth*l.pixelRatio);this.program.setUniform1f("glowFalloff",c.glowFalloff);this.program.setUniform1f("globalAlpha",c.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",l.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/l.fullWidth,2/l.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",l.projectionMatrix);
y.mat4.translate(D,l.viewMatrix,g);this.program.setUniformMatrix4fv("uModelViewMatrix",D);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=c.globalAlphaContrastBoost?c.globalAlphaContrastBoost:1)};g.prototype.initializePipeline=function(){return M.makePipelineState({blending:A.simpleBlendingParams(1,771),colorWrite:M.defaultColorWriteParams})};g.prototype.bindPipelineState=function(c){c.setPipelineState(this.pipeline)};g.shader=new m.ReloadableShaderModule(l,
function(){return new Promise(function(c,g){G(["./LaserlinePath.glsl"],c,g)})});g.attributeLocations={start:0,end:1,up:2,extrude:3};return g}(g.ShaderTechnique);c.LaserlinePathTechnique=g;g=function(c){function g(){var g=null!==c&&c.apply(this,arguments)||this;g.contrastControlEnabled=!1;return g}n.__extends(g,c);n.__decorate([w.parameter()],g.prototype,"contrastControlEnabled",void 0);return g}(w.ShaderTechniqueConfiguration);c.LaserlinePathTechniqueConfiguration=g;var D=C.mat4f64.create()})},"esri/views/3d/webgl-engine/shaders/LaserlinePath.glsl":function(){define("require exports tslib ../core/shaderLibrary/Laserline.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),
function(G,c,n,y,C,m){Object.defineProperty(c,"__esModule",{value:!0});c.build=void 0;c.build=function(c){var l=new m.ShaderBuilder;l.include(y.Laserline,c);l.vertex.uniforms.add("uModelViewMatrix","mat4");l.vertex.uniforms.add("uProjectionMatrix","mat4");l.attributes.add("start","vec3");l.attributes.add("end","vec3");l.attributes.add("up","vec3");l.attributes.add("extrude","vec2");l.varyings.add("uv","vec2");l.varyings.add("vViewStart","vec3");l.varyings.add("vViewEnd","vec3");l.varyings.add("vViewPlane",
"vec4");l.vertex.uniforms.add("glowWidth","float");l.vertex.uniforms.add("pixelToNDC","vec2");l.vertex.code.add(C.glsl(g||(g=n.__makeTemplateObject(["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "],
["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "]))));
l.fragment.uniforms.add("globalAlpha","float");l.fragment.uniforms.add("perScreenPixelRatio","float");l.fragment.code.add(C.glsl(w||(w=n.__makeTemplateObject(["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "],
["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "]))));
return l};var g,w})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define("require exports tslib ./output/ReadLinearDepth.glsl ./util/CameraSpace.glsl ../shaderModules/interfaces".split(" "),function(G,c,n,y,C,m){Object.defineProperty(c,"__esModule",{value:!0});c.Laserline=void 0;c.Laserline=function(c,x){c.extensions.add("GL_OES_standard_derivatives");c.include(y.ReadLinearDepth);c.include(C.CameraSpace);c.fragment.uniforms.add("glowColor","vec3");c.fragment.uniforms.add("glowWidth",
"float");c.fragment.uniforms.add("glowFalloff","float");c.fragment.uniforms.add("innerColor","vec3");c.fragment.uniforms.add("innerWidth","float");c.fragment.uniforms.add("depthMap","sampler2D");c.fragment.uniforms.add("nearFar","vec2");c.fragment.uniforms.add("frameColor","sampler2D");x.contrastControlEnabled&&c.fragment.uniforms.add("globalAlphaContrastBoost","float");c.fragment.code.add(m.glsl(g||(g=n.__makeTemplateObject(["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "],
["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "]))));c.fragment.code.add(m.glsl(w||(w=n.__makeTemplateObject(["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "],["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "]))));
c.fragment.code.add(m.glsl(l||(l=n.__makeTemplateObject(["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "],["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "]))));
c.fragment.code.add(m.glsl(z||(z=n.__makeTemplateObject(["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepthFromTexture(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "],
["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepthFromTexture(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "]))));
x.contrastControlEnabled?c.fragment.code.add(m.glsl(A||(A=n.__makeTemplateObject(["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "],["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "])))):
c.fragment.code.add(m.glsl(M||(M=n.__makeTemplateObject(["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "],["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "]))))};var g,w,l,z,A,M})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports tslib ../../../../core/mathUtils ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./Laserlines.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M){Object.defineProperty(c,"__esModule",{value:!0});c.LaserlineTechniqueConfiguration=c.LaserlineTechnique=void 0;m=function(c){function g(){return null!==c&&c.apply(this,arguments)||this}n.__extends(g,c);g.prototype.initializeProgram=function(c){var l=g.shader.get().build(this.configuration);return new z(c.rctx,l.generateSource("vertex"),l.generateSource("fragment"),w.Default3D)};g.prototype.bind=function(c,g){this.program.setUniform3fv("innerColor",c.innerColor);this.program.setUniform1f("innerWidth",
c.innerWidth*g.pixelRatio);this.program.setUniform3fv("glowColor",c.glowColor);this.program.setUniform1f("glowWidth",c.glowWidth*g.pixelRatio);this.program.setUniform1f("glowFalloff",c.glowFalloff);this.program.setUniform1f("globalAlpha",c.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=c.globalAlphaContrastBoost?c.globalAlphaContrastBoost:1);c=null!=c.angleCutoff?c.angleCutoff:l.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",
Math.cos(c),Math.cos(Math.max(0,c-y.deg2rad(2))));this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",g.perScreenPixelRatio)};g.prototype.initializePipeline=function(){return M.makePipelineState({blending:A.simpleBlendingParams(1,771),colorWrite:M.defaultColorWriteParams})};g.shader=new C.ReloadableShaderModule(l,function(){return new Promise(function(c,g){G(["./Laserlines.glsl"],c,g)})});return g}(m.ShaderTechnique);c.LaserlineTechnique=m;m=function(c){function l(){var g=
null!==c&&c.apply(this,arguments)||this;g.heightManifoldEnabled=!1;g.pointDistanceEnabled=!1;g.lineVerticalPlaneEnabled=!1;g.intersectsLineEnabled=!1;g.contrastControlEnabled=!1;return g}n.__extends(l,c);n.__decorate([g.parameter()],l.prototype,"heightManifoldEnabled",void 0);n.__decorate([g.parameter()],l.prototype,"pointDistanceEnabled",void 0);n.__decorate([g.parameter()],l.prototype,"lineVerticalPlaneEnabled",void 0);n.__decorate([g.parameter()],l.prototype,"intersectsLineEnabled",void 0);n.__decorate([g.parameter()],
l.prototype,"contrastControlEnabled",void 0);return l}(g.ShaderTechniqueConfiguration);c.LaserlineTechniqueConfiguration=m})},"esri/views/3d/webgl-engine/shaders/Laserlines.glsl":function(){define("require exports tslib ../../../../core/mathUtils ../core/shaderLibrary/Laserline.glsl ../core/shaderLibrary/ScreenSpacePass ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),function(G,c,n,y,C,m,g,w){Object.defineProperty(c,"__esModule",{value:!0});c.build=c.defaultAngleCutoff=
void 0;c.defaultAngleCutoff=y.deg2rad(6);c.build=function(c){var y=new w.ShaderBuilder;y.extensions.add("GL_OES_standard_derivatives");y.include(m.ScreenSpacePass);y.include(C.Laserline,c);y.fragment.uniforms.add("angleCutoff","vec2");y.fragment.uniforms.add("globalAlpha","float");c.heightManifoldEnabled&&y.fragment.uniforms.add("heightPlane","vec4");c.pointDistanceEnabled&&y.fragment.uniforms.add("pointDistanceSphere","vec4");c.lineVerticalPlaneEnabled&&y.fragment.uniforms.add("lineVerticalPlane",
"vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3");(c.heightManifoldEnabled||c.pointDistanceEnabled||c.lineVerticalPlaneEnabled)&&y.fragment.uniforms.add("maxPixelDistance","float");c.intersectsLineEnabled&&y.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float");(c.lineVerticalPlaneEnabled||c.heightManifoldEnabled)&&y.fragment.code.add(g.glsl(l||
(l=n.__makeTemplateObject(["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"],["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"]))));
c.pointDistanceEnabled&&y.fragment.code.add(g.glsl(z||(z=n.__makeTemplateObject(["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "],["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "]))));
c.intersectsLineEnabled&&y.fragment.code.add(g.glsl(A||(A=n.__makeTemplateObject(["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "],["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "]))));
(c.lineVerticalPlaneEnabled||c.intersectsLineEnabled)&&y.fragment.code.add(g.glsl(M||(M=n.__makeTemplateObject(["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "],["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "]))));
y.fragment.code.add(g.glsl(D||(D=n.__makeTemplateObject(["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "],["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "]))));
c.heightManifoldEnabled&&y.fragment.code.add(g.glsl(x||(x=n.__makeTemplateObject(["\n    {\n      float heightManifoldAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n      vec4 heightManifoldColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      color \x3d max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    "],["\n    {\n      float heightManifoldAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n      vec4 heightManifoldColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      color \x3d max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    "]))));
c.pointDistanceEnabled&&y.fragment.code.add(g.glsl(J||(J=n.__makeTemplateObject(["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "],
["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "]))));c.lineVerticalPlaneEnabled&&
y.fragment.code.add(g.glsl(F||(F=n.__makeTemplateObject(["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "]))));c.intersectsLineEnabled&&
y.fragment.code.add(g.glsl(t||(t=n.__makeTemplateObject(["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "]))));
y.fragment.code.add(g.glsl(B||(B=n.__makeTemplateObject(["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "],["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "]))));return y};var l,z,A,M,D,x,J,F,t,B})},"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("require exports ../../../../core/maybe ../../../../core/watchUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/Layer ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/Texture".split(" "),
function(G,c,n,y,C,m,g,w){Object.defineProperty(c,"__esModule",{value:!0});c.VisualElementResources=void 0;G=function(){function c(c){this.resourceFactory=c;this._resources=null;this._attached=this._hidden=!1}c.prototype.destroy=function(){this._destroyResources()};Object.defineProperty(c.prototype,"object",{get:function(){return n.isSome(this._resources)?this._resources.object:null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"resources",{get:function(){return n.isSome(this._resources)?
this._resources.external:null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hidden",{get:function(){return this._hidden},set:function(c){c!==this._hidden&&(this._hidden=c,this._syncHidden())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this._attached},set:function(c){c!==this._attached&&(this._attached=c,this._createOrDestroyResources())},enumerable:!1,configurable:!0});c.prototype.recreate=function(){this.attached&&this._createResources()};
c.prototype.recreateGeometry=function(){if(!this.resourceFactory.recreateGeometry)this.recreate();else if(!n.isNone(this._resources)){var c=this._resources.object,g=this.resourceFactory.view._stage;this._resources.external.forEach(function(c){c instanceof C&&g.remove(2,c.id)});c.removeAllGeometries();for(var l=0,c=this.resourceFactory.recreateGeometry(this._resources.external,c,this._resources.layer);l<c.length;l++)g.add(2,c[l])}};c.prototype._createOrDestroyResources=function(){this._attached?this._resources||
this._createResources():this._destroyResources()};c.prototype._createResources=function(){var c=this;this._destroyResources();var l=this.resourceFactory.view._stage;if(l){var n=new m("element",{isPickable:!1});l.add(0,n);l.addToViewContent([n.id]);var w=new g({idHint:"element",castShadow:!1}),x=this.resourceFactory.createResources(w,n);x.forEach(function(g){l.add(c._contentTypeFromResource(g),g)});l.add(1,w);n.addObject(w);this._hidden&&w.setVisible(!1);var J=this.resourceFactory.cameraChanged?y.init(this.resourceFactory.view.state,
"camera",function(g){return c.resourceFactory.cameraChanged(g)}):null;this._resources={layer:n,object:w,external:x,cameraHandle:J}}};c.prototype._contentTypeFromResource=function(c){return c instanceof C?2:c instanceof w?4:3};c.prototype._destroyResources=function(){var c=this;if(!n.isNone(this._resources)){var g=this.resourceFactory.view._stage;g.remove(1,this._resources.object.id);g.remove(0,this._resources.layer.id);this._resources.external.forEach(function(l){g.remove(c._contentTypeFromResource(l),
l.id);"dispose"in l&&l.dispose()});this._resources.object.dispose();this._resources.cameraHandle&&this._resources.cameraHandle.remove();this._resources=null}};c.prototype._syncHidden=function(){n.isNone(this._resources)||this._resources.object.setVisible(!this._hidden)};return c}();c.VisualElementResources=G})},"esri/views/3d/interactive/visualElements/VerticesVisualElement":function(){define("require exports ../../../../core/Evented ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/aaBoundingBox ../editingTools/settings ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/pointUtils ../../support/projectionUtils ../../webgl-engine/lib/Camera ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/ColorMaterial ../../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X){Object.defineProperty(c,"__esModule",{value:!0});c.VerticesVisualElement=void 0;G=function(){function c(c){var g=this;this.view=null;this.camera=new B.default;this.events=new n;this._spatialReference=this._vertices=null;this._color=D.settings.colorToVec4(D.settings.reshapeManipulators.vertex.color);this._elevationInfo=null;this._occludedMode=8;this.resources=new x.VisualElementResources({view:c.view,createResources:function(c){return g.createResources(c)},
recreateGeometry:function(c,l){c.geometries.length=0;g.recreateGeometry(l,c.vertexMaterial,c.vertexOutlineMaterial,c.geometries);return c.geometries},cameraChanged:function(c){return g.resources.recreateGeometry()}});var l=!0,m;for(m in c)m in this?"attached"===m?l=c[m]:this[m]=c[m]:console.error("Cannot set unknown property",m);this.attached=l}c.prototype.destroy=function(){this.resources.destroy()};Object.defineProperty(c.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(c){this.resources.hidden=
c},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this.resources.attached},set:function(c){this.updateAttached(c)},enumerable:!1,configurable:!0});c.prototype.updateAttached=function(c){this.resources.attached=c};Object.defineProperty(c.prototype,"vertices",{get:function(){return this._vertices},set:function(c){this._vertices=c;this.resources.recreateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"spatialReference",
{get:function(){return this._spatialReference},set:function(c){this._spatialReference=c;this.resources.recreateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"color",{get:function(){return this._color},set:function(c){z.vec4.exactEquals(c,this._color)||(z.vec4.copy(this._color,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(c){this._elevationInfo=c;this.resources.recreateGeometry()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"occludedMode",{get:function(){return this._occludedMode},set:function(c){c!==this._occludedMode&&(this._occludedMode=c,y.isSome(this.resources.resources)&&(this.resources.resources.vertexMaterial.renderOccluded=c,this.resources.resources.vertexOutlineMaterial.renderOccluded=c))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"vertexMaterialParameters",{get:function(){return{color:this._color,transparent:1>this._color[3]}},
enumerable:!1,configurable:!0});c.prototype.updateMaterial=function(){y.isSome(this.resources.resources)&&this.resources.resources.vertexMaterial.setParameterValues(this.vertexMaterialParameters)};c.prototype.recreateGeometry=function(c,g,l,m){for(var t=0,n=this.createRenderGeometries();t<n.length;t++){var w=n[t];c.addGeometry(w.vertexGeometry,g,w.xform);m.push(w.vertexGeometry);c.addGeometry(w.vertexOutlineGeometry,l,w.xform);m.push(w.vertexOutlineGeometry)}};c.prototype.createResources=function(c){var g=
this.color,l=A.vec4f64.fromValues(g[0],g[1],g[2],3<g.length?g[3]:1),m=new X.ShadedColorMaterial({color:l,transparent:1>g[3],writeDepth:!0,cullFace:2},"manipulator");m.renderOccluded=D.settings.reshapeManipulators.vertex.renderOccludedFlag;var g=D.settings.colorToVec4(D.settings.reshapeManipulators.vertex.outlineColor),g=A.vec4f64.fromValues(g[0],g[1],g[2],4===g.length?g[3]:1),t=new V({color:g,transparent:!0,writeDepth:!0,cullFace:1},"manipulator-outline");t.renderOccluded=D.settings.reshapeManipulators.vertex.renderOccludedFlag;
var n=[];this.recreateGeometry(c,m,t,n);return{vertexMaterial:m,vertexOutlineMaterial:t,geometries:n,forEach:function(c){c(m);c(t);n.forEach(c)}}};c.prototype.calculateMapBounds=function(c){if(y.isNone(this.resources.resources))return!1;for(var g=this.view.renderCoordsHelper,l=0,m=this.resources.resources.geometries;l<m.length;l++){var n=m[l].data.getAttribute("position"),w=n.data,B=new Float64Array(w.length);t.bufferToBuffer(n.data,g.spatialReference,0,B,this.view.spatialReference,0,w.length/3);
M.expandWithBuffer(c,B)}return!0};c.prototype.computeScreenLocation=function(c,g){g.pixelSize=this.camera.computeScreenPixelSizeAt(c);this.camera.projectPoint(c,g.renderScreenPointArray);this.camera.renderToScreen(g.renderScreenPointArray,g.screenPointArray);return g};c.prototype.computeTransform=function(c,l){var t=g.mat4f64.create(),n=this.computeScreenLocation(c,W);l*=n.pixelSize;m.mat4.set(t,l,0,0,0,0,l,0,0,0,0,l,0,0,0,0,1);t[12]+=c[0];t[13]+=c[1];t[14]+=c[2];t[15]=1;return t};c.prototype.createRenderGeometries=
function(){var c=this.vertices;if(!y.isNone(c)&&0!==c.length&&this.view.state&&this.view.state.camera)this.camera.copyFrom(this.view.state.camera);else return[];for(var g=D.settings.reshapeManipulators.vertex,l=g.size/2,m=l+g.collisionPadding,t=l/m,g=(l+g.outlineSize)/m,n=F.geometryToRenderInfo(c,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,J.ElevationContext.fromElevationInfo(this.elevationInfo)),c=[],l=n.numVertices,n=n.position,B=0;B<l;++B){var x=new Y(K.createSphereGeometry(t,
16,16),"VerticesVisualElement-vertex"),O=new Y(K.createSphereGeometry(g,16,16),"VerticesVisualElement-vertexOutline"),A=w.vec3.set(R,n[3*B+0],n[3*B+1],n[3*B+2]),A=this.computeTransform(A,m);c.push({vertexGeometry:x,vertexOutlineGeometry:O,xform:A})}return c};return c}();c.VerticesVisualElement=G;var W={screenPointArray:C.createScreenPointArray(),renderScreenPointArray:C.createRenderScreenPointArray3(),pixelSize:0},R=l.vec3f64.create()})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/Material ../lib/Util ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ../shaders/ShadedColorMaterialTechnique".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D){Object.defineProperty(c,"__esModule",{value:!0});c.ShadedColorMaterial=void 0;var x=m.newLayout().vec3f(l.VertexAttrConstants.POSITION).vec3f(l.VertexAttrConstants.NORMAL);G=function(c){function g(g,l){l=c.call(this,l)||this;l.supportsEdges=!0;l.techniqueConfig=new D.ShadedColorMaterialTechniqueConfiguration;l.params=M.copyParameters(g,F);return l}n.__extends(g,c);g.prototype.setParameterValues=function(c){A.updateParameters(this.params,c)&&this.parametersChanged()};
g.prototype.getParameters=function(){return this.params};g.prototype.getTechniqueConfig=function(c){this.techniqueConfig.output=c;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.writeDepth=this.params.writeDepth;return this.techniqueConfig};g.prototype.getPassParameters=function(){return this.params};g.prototype.intersect=function(c,g,l,m,t,n,w){M.intersectTriangleGeometry(c,
g,m,t,n,void 0,w)};g.prototype.getGLMaterial=function(c){return 0===c.output||4===c.output?new J(c):void 0};g.prototype.createBufferWriter=function(){return new z.DefaultBufferWriter(x)};return g}(w.Material);c.ShadedColorMaterial=G;var J=function(c){function g(g){g=c.call(this,g)||this;g.updateParameters();return g}n.__extends(g,c);g.prototype.updateParameters=function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(D.ShadedColorMaterialTechnique,this.material.getTechniqueConfig(this.output),
this.technique)};g.prototype.beginSlot=function(c){if(4===this.output)return 3===c;var g=3;this.technique.configuration.transparent&&(g=this.technique.configuration.writeDepth?5:8);return c===g};g.prototype.bind=function(c,g){c.bindProgram(this.technique.program);this.technique.bindPass(c,this.material.getPassParameters(),g)};return g}(g.GLMaterial),F={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:y.vec3.normalize(C.vec3f64.create(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,
cullFace:0}})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/vec4f64 ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/util/View.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./ShadedColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D){Object.defineProperty(c,"__esModule",{value:!0});c.ShadedColorMaterialTechniqueConfiguration=c.ShadedColorMaterialTechnique=void 0;w=function(c){function l(){return null!==c&&c.apply(this,arguments)||this}n.__extends(l,c);l.prototype.initializeProgram=function(c){var g=l.shader.get(),m=this.configuration,g=g.build({slicePlaneEnabled:m.slicePlaneEnabled,sliceHighlightDisabled:m.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new M(c.rctx,g.generateSource("vertex"),
g.generateSource("fragment"),z.Default3D)};l.prototype.bindPass=function(c,g,l){m.View.bindProjectionMatrix(this.program,l.camera.projectionMatrix);c=g.color;var t=g.shadingTint;this.program.setUniform4fv("color",c);this.program.setUniform4fv("shadedColor",this.blendColor(x,t,c));this.program.setUniform3fv("shadingDirection",g.shadingDirection);this.program.setUniformMatrix4fv("viewNormal",l.camera.viewInverseTransposeMatrix)};l.prototype.blendColor=function(c,g,l){var m=1-g[3],t=g[3]+l[3]*m;if(0===
t)return c[3]=t,c;c[0]=(g[0]*g[3]+l[0]*l[3]*m)/t;c[1]=(g[1]*g[3]+l[1]*l[3]*m)/t;c[2]=(g[2]*g[3]+l[2]*l[3]*m)/t;c[3]=l[3];return c};l.prototype.bindDraw=function(c){m.View.bindView(this.program,c);C.Slice.bindUniformsWithOrigin(this.program,this.configuration,c)};l.prototype.initializePipeline=function(){var c=this.configuration,g=0===c.output?c.transparent&&D.separateBlendingParams(770,1,771,771):null;return D.makePipelineState({blending:g,culling:function(c){return 0!==c&&{face:1===c?1028:1029,mode:2305}}(c.cullFace),
depthTest:{func:515},depthWrite:c.writeDepth&&D.defaultDepthWriteParams,colorWrite:D.defaultColorWriteParams})};l.shader=new g.ReloadableShaderModule(A,function(){return new Promise(function(c,g){G(["./ShadedColorMaterial.glsl"],c,g)})});return l}(w.ShaderTechnique);c.ShadedColorMaterialTechnique=w;w=function(c){function g(){var g=null!==c&&c.apply(this,arguments)||this;g.output=0;g.cullFace=0;g.slicePlaneEnabled=!1;g.sliceHighlightDisabled=!1;g.transparent=!1;g.writeDepth=!0;return g}n.__extends(g,
c);n.__decorate([l.parameter({count:7})],g.prototype,"output",void 0);n.__decorate([l.parameter({count:3})],g.prototype,"cullFace",void 0);n.__decorate([l.parameter()],g.prototype,"slicePlaneEnabled",void 0);n.__decorate([l.parameter()],g.prototype,"sliceHighlightDisabled",void 0);n.__decorate([l.parameter()],g.prototype,"transparent",void 0);n.__decorate([l.parameter()],g.prototype,"writeDepth",void 0);return g}(l.ShaderTechniqueConfiguration);c.ShadedColorMaterialTechniqueConfiguration=w;var x=
y.vec4f64.create()})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterial.glsl":function(){define("require exports tslib ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),function(G,c,n,y,C,m,g){Object.defineProperty(c,"__esModule",{value:!0});c.build=void 0;c.build=function(c){var A=new g.ShaderBuilder;A.include(C.Transform,{linearDepth:!1});A.vertex.uniforms.add("proj","mat4").add("view","mat4").add("viewNormal",
"mat4");A.fragment.uniforms.add("color","vec4").add("shadedColor","vec4").add("shadingDirection","vec3");A.attributes.add("position","vec3");A.attributes.add("normal","vec3");A.varyings.add("vWorldPosition","vec3");A.varyings.add("vViewNormal","vec3");A.varyings.add("vViewDirection","vec3");A.vertex.code.add(m.glsl(w||(w=n.__makeTemplateObject(["\n    void main(void) {\n      vWorldPosition \x3d position;\n\n      vec3 worldNormal \x3d normal;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "],
["\n    void main(void) {\n      vWorldPosition \x3d position;\n\n      vec3 worldNormal \x3d normal;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "]))));A.include(y.Slice,c);A.fragment.code.add(m.glsl(l||(l=n.__makeTemplateObject(["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "],
["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "]))));return A};var w,l})},"esri/views/draw/support/createUtils":function(){define("require exports tslib ../../../geometry ../../../core/arrayUtils ../../../core/lang ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B){function Y(c,l,m){void 0===m&&(m=null);return g.isSome(m)?[c,l,m]:[c,l]}function K(c,l,m){void 0===m&&(m=null);return g.isSome(m)?{x:c,y:l,z:m}:{x:c,y:l}}function V(c,g){g=new y.Point({x:c[0],y:c[1],spatialReference:g});2<c.length&&(g.z=c[2]);return g}function X(c,g,l,n){void 0===n&&(n=!0);c=m.clone(c);c.forEach(function(c){C.equals(c[0],c[c.length-1])&&1!==c.length||c.push(c[0])});c=new y.Polygon({rings:c,spatialReference:g});c.rings.forEach(function(c){t.isClockwise(c,
!1,!1)||c.reverse()});l&&t.unnormalizeGeometryOnDatelineCrossing(c);n&&c.isSelfIntersecting&&B.isValid(g)&&(c=F.simplify(c));return c}Object.defineProperty(c,"__esModule",{value:!0});c.createEllipse=c.createCircle=c.createRectangle=c.createSquare=c.createPolygon=c.createPolyline=c.createMultipoint=c.createPoint=c.createViewAlignedCoordinateSystem=c.SceneViewCoordinateSystem=c.AffineCoordinateSystem=c.SurfaceCoordinateSystem=c.makeSurfacePoint=c.makeMapPoint=void 0;c.makeMapPoint=Y;c.makeSurfacePoint=
K;G=function(){function c(c){this.spatialReference=c}c.prototype.mapToLocalMultiple=function(c){var g=this;return c.map(function(c){return g.mapToLocal(c)})};Object.defineProperty(c.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!1,configurable:!0});return c}();c.SurfaceCoordinateSystem=G;var W=function(c){function g(g,m,t){void 0===t&&(t=null);m=c.call(this,m)||this;m.defaultZ=t;m.transform=z.mat2df64.create();m.transformInv=z.mat2df64.create();m.transform=z.mat2df64.clone(g);
l.mat2d.invert(m.transformInv,m.transform);return m}n.__extends(g,c);g.prototype.makeMapPoint=function(c,g){return Y(c,g,this.defaultZ)};g.prototype.mapToLocal=function(c){return K(this.transform[0]*c[0]+this.transform[2]*c[1]+this.transform[4],this.transform[1]*c[0]+this.transform[3]*c[1]+this.transform[5])};g.prototype.localToMap=function(c){return Y(this.transformInv[0]*c.x+this.transformInv[2]*c.y+this.transformInv[4],this.transformInv[1]*c.x+this.transformInv[3]*c.y+this.transformInv[5],this.defaultZ)};
return g}(G);c.AffineCoordinateSystem=W;var R=function(c){function g(g,l){var m=c.call(this,g.spatialReference)||this;m.view=g;m.defaultZ=null;m.pWS=x.vec3f64.create();m.tangentFrameUpWS=x.vec3f64.create();m.tangentFrameRightWS=x.vec3f64.create();m.tangentFrameForwardWS=x.vec3f64.create();m.localFrameRightWS=x.vec3f64.create();m.localFrameUpWS=x.vec3f64.create();m.worldToLocalTransform=M.quatf64.create();m.localToWorldTransform=M.quatf64.create();m.scale=1;m.scale=g.resolution;m.referenceMapPoint=
l;m.defaultZ=l.hasZ?l.z:null;g=g.state.camera.viewRight;m.view.renderCoordsHelper.toRenderCoords(m.referenceMapPoint,m.pWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,0,m.tangentFrameRightWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,1,m.tangentFrameUpWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,2,m.tangentFrameForwardWS);l=x.vec3f64.create();D.vec3.scale(l,m.tangentFrameForwardWS,D.vec3.dot(g,m.tangentFrameForwardWS));D.vec3.subtract(m.localFrameRightWS,g,l);D.vec3.normalize(m.localFrameRightWS,
m.localFrameRightWS);D.vec3.cross(m.localFrameUpWS,m.tangentFrameForwardWS,m.localFrameRightWS);A.quat.rotationTo(m.worldToLocalTransform,m.localFrameRightWS,m.tangentFrameRightWS);A.quat.invert(m.localToWorldTransform,m.worldToLocalTransform);return m}n.__extends(g,c);Object.defineProperty(g.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!1,configurable:!0});g.prototype.makeMapPoint=function(c,g){return Y(c,g,this.defaultZ)};g.prototype.mapToLocal=
function(c){var g=x.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new y.Point({x:c[0],y:c[1],spatialReference:this.spatialReference}),g);D.vec3.transformQuat(g,g,this.worldToLocalTransform);c=this.view.renderCoordsHelper.fromRenderCoords(g,this.view.spatialReference);return K(c.x/this.scale,c.y/this.scale)};g.prototype.localToMap=function(c){var g=x.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new y.Point({x:c.x*this.scale,y:c.y*this.scale,spatialReference:this.spatialReference}),
g);D.vec3.transformQuat(g,g,this.localToWorldTransform);c=this.view.renderCoordsHelper.fromRenderCoords(g,this.view.spatialReference);return Y(c.x,c.y,this.defaultZ)};return g}(G);c.SceneViewCoordinateSystem=R;c.createViewAlignedCoordinateSystem=function(c,g){return"2d"===c.type?new W(c.state.transform,c.spatialReference,2<g.length?g[2]:null):"3d"===c.type?(g=2<g.length?new y.Point({x:g[0],y:g[1],z:g[2],spatialReference:c.spatialReference}):new y.Point({x:g[0],y:g[1],spatialReference:c.spatialReference}),
new R(c,g)):null};c.createPoint=V;c.createMultipoint=function(c,g){return new y.Multipoint({points:c,spatialReference:g})};c.createPolyline=function(c,g,l){c=new y.Polyline({paths:c,spatialReference:g});l&&t.unnormalizeGeometryOnDatelineCrossing(c);return c};c.createPolygon=X;c.createSquare=function(c,g,l){var m=g.mapToLocalMultiple(c);c=[];var t=m[0].x,n=m[0].y,w=Math.round(m[1].x-t),x=Math.round(m[1].y-n),m=Math.max(Math.abs(w),Math.abs(x));l?(l=t+m,w=n+m,t-=m,n-=m,c.push(K(l,n),K(t,n),K(t,w),K(l,
w))):(l=0<w?t+m:t-m,m=0<x?n+m:n-m,c.push(K(t,n),K(l,n),K(l,m),K(t,m)));return X([c.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!0)};c.createRectangle=function(c,g,l){var m=g.mapToLocalMultiple(c);1===m.length&&(c=m[0],m=[K(c.x-48,c.y+48),K(c.x+48,c.y-48),K(c.x+48,c.y-48),K(c.x-48,c.y+48)]);c=[];var t=m[0].x,n=m[0].y,w=m[1].x,m=m[1].y;if(l){l=Math.round(w-t);var x=Math.round(m-n);c.push(K(t-l,n-x),K(w,n-x),K(w,m),K(t-l,m))}else c.push(K(t,n),K(w,n),K(w,m),K(t,m));
return X([c.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!0)};c.createCircle=function(c,g,l,m){var n=g.mapToLocalMultiple(c),x=c=null;l?(c=n[0],x=n[1]):(c=n[0],x=n[1],l=Math.round(x.x-c.x),x=Math.round(x.y-c.y),n=Math.max(Math.abs(l),Math.abs(x)),c=K(0<l?c.x+n/2:c.x-n/2,0<x?c.y+n/2:c.y-n/2),x=K(Math.abs(l)>Math.abs(x)?c.x-n/2:c.x,Math.abs(l)>Math.abs(x)?c.y:c.y-n/2));n=g.localToMap(c);l=g.localToMap(x);g.doUnnormalization&&t.unnormalizeVerticesOnDatelineCrossing([[n,
l]],g.spatialReference);n=V(n,g.spatialReference);l=V(l,g.spatialReference);var y=w.getMetersPerUnitForSR(g.spatialReference),A=0;B.isValid(g.spatialReference)?A=y*F.distance(n,l,null):(l=c.x-x.x,x=c.y-x.y,A=y*Math.sqrt(l*l+x*x)*(m||1));g=new J({center:n,radius:A,radiusUnit:"meters",spatialReference:g.spatialReference});return X(g.rings,g.spatialReference,!1)};c.createEllipse=function(c,g,l){var m=g.mapToLocalMultiple(c);c=m[0];var n=m[1],m=Math.round(n.x-c.x),n=Math.round(n.y-c.y);c=K(l?c.x:c.x+
m/2,l?c.y:c.y+n/2);m=l?m:m/2;l=l?n:n/2;for(var n=[],t=2*Math.PI/60,w=0;60>w;w++){var x=K(m*Math.cos(w*t)+c.x,l*Math.sin(w*t)+c.y);n.push(x)}n.push(n[0]);return X([n.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!1)}})},"esri/geometry/Circle":function(){define("require exports tslib ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),function(G,c,n,y,C,m,
g,w,l,z){return function(c){function A(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];g=c.apply(this,g)||this;g.center=null;g.geodesic=!1;g.numberOfPoints=60;g.radius=1E3;g.radiusUnit="meters";return g}n.__extends(A,c);D=A;A.prototype.normalizeCtorArgs=function(g,l){if(!g||!g.center){if(g&&g.rings)return c.prototype.normalizeCtorArgs.call(this,g,l);g={center:g}}return n.__assign(n.__assign(n.__assign({},c.prototype.normalizeCtorArgs.call(this)),g),l)};A.prototype.initialize=function(){var c=
this.center,g=this.numberOfPoints;this.hasZ=c&&c.hasZ;if(0===this.rings.length&&c){var m=y.convertUnit(this.radius,this.radiusUnit,"meters"),n=c.spatialReference,w="geographic";if(n.isWebMercator)w="webMercator";else if(null!=z[n.wkid]||n.wkt&&0===n.wkt.indexOf("PROJCS"))w="projected";if(this.geodesic){n=void 0;switch(w){case "webMercator":n=l.webMercatorToGeographic(c);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");
break;case "geographic":n=c}c=this._createGeodesicCircle(n,m,g);"webMercator"===w&&(c=l.geographicToWebMercator(c))}else n=void 0,"webMercator"===w||"projected"===w?n=m/this._convert2Meters(1,c.spatialReference):"geographic"===w&&(n=y.lengthToDegrees(m,"meters")),c=this._createPlanarCircle(c,n,g);this.spatialReference=c.spatialReference;this.addRing(c.rings[0])}};A.prototype.clone=function(){var c=this.numberOfPoints,g=this.radius,l=this.radiusUnit,m=this.geodesic;return new D({center:this.center.clone(),
numberOfPoints:c,radius:g,radiusUnit:l,geodesic:m})};A.prototype._createGeodesicCircle=function(c,l,m){for(var n=0,x=[];360>n;){var y=[0,0];w.directGeodeticSolver(y,[c.x,c.y],n,l);this.hasZ&&y.push(c.z);x.push(y);n+=360/m}x.push(x[0]);return new g(x)};A.prototype._createPlanarCircle=function(c,l,m){for(var n=0,w=[];n<2*Math.PI;){var x=[c.x+Math.cos(-n)*l,c.y+Math.sin(-n)*l];this.hasZ&&x.push(c.z);w.push(x);n+=Math.PI/(m/2)}w.push(w[0]);return new g({spatialReference:c.spatialReference,rings:[w]})};
A.prototype._convert2Meters=function(c,g){if(null!=z[g.wkid])g=z.values[z[g.wkid]];else{g=g.wkt;var l=g.lastIndexOf(",")+1,m=g.lastIndexOf("]]");g=parseFloat(g.substring(l,m))}return c*g};var D;n.__decorate([C.property({type:m})],A.prototype,"center",void 0);n.__decorate([C.property()],A.prototype,"geodesic",void 0);n.__decorate([C.property()],A.prototype,"numberOfPoints",void 0);n.__decorate([C.property()],A.prototype,"radius",void 0);n.__decorate([C.property()],A.prototype,"radiusUnit",void 0);
return A=D=n.__decorate([C.subclass("esri.geometry.Circle")],A)}(g)})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils ./geodesicConstants".split(" "),function(G,c,n,y,C,m,g){function w(c){if(!c||!c.isGeographic)return null;if(c.wkid){var l=g.spheroids[c.wkid];if(l)return l}if(c.wkt){c=g.WKT_SPHEROID_REGEX.exec(c.wkt);if(!c||2!==c.length)return null;l=c[1].split(",");if(!l||3!==l.length)return null;c=parseFloat(l[1]);
l=parseFloat(l[2]);return isNaN(c)||isNaN(l)?null:{a:c,f:0===l?0:1/l}}return null}function l(c){c=w(c||y.SpatialReference.WGS84);if("b"in c&&"eSq"in c&&"radius"in c)return c;var g=c.a*(1-c.f);return n.assign(c,{b:g,eSq:1-Math.pow(g/c.a,2),radius:(2*c.a+g)/3})}function z(c,m,n){var t=l(n);n=t.a;var t=t.eSq,w=Math.sqrt(t),x=Math.sin(m[1]*g.toRadians);m=n*m[0]*g.toRadians;n=0<t?n*(1-t)*(x/(1-t*x*x)-1/(2*w)*Math.log((1-w*x)/(1+w*x)))*.5:n*x;c[0]=m;c[1]=n;return c}function A(c){return null!==w(c)}function M(c,
g){if("polyline"!==c.type&&"polygon"!==c.type)throw new C("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var m=c.spatialReference;if(!A(m))throw new C("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var n=l(m).radius/1E4;g<n&&(g=n);for(var n=[],w=[0,0],z={distance:null},F=0,J="polyline"===c.type?c.paths:c.rings;F<J.length;F++){var G=J[F],R=[];n.push(R);R.push([G[0][0],G[0][1]]);for(var O=G[0][0],M=G[0][1],
Z=void 0,S=void 0,ga=0;ga<G.length-1;ga++)if(Z=G[ga+1][0],S=G[ga+1][1],O!==Z||M!==S){var ea=[O,M];x(z,[O,M],[Z,S],m);O=z.azimuth;M=z.distance;Z=M/g;if(1<Z){for(S=1;S<=Z-1;S++)D(w,ea,O,S*g,m),R.push(w.slice(0));D(w,ea,O,(M+Math.floor(Z-1)*g)/2,m);R.push(w.slice(0))}D(w,ea,O,M,m);R.push(w.slice(0));O=w[0];M=w[1]}}return"polyline"===c.type?new y.Polyline({paths:n,spatialReference:m}):new y.Polygon({rings:n,spatialReference:m})}function D(c,m,n,w,x){var t=m[0]*g.toRadians,y=m[1]*g.toRadians;m=n*g.toRadians;
x=l(x);var B=x.a,A=x.b;x=x.f;n=Math.sin(m);m=Math.cos(m);for(var C=(1-x)*Math.tan(y),y=1/Math.sqrt(1+C*C),z=C*y,F=Math.atan2(C,m),C=y*n,D=C*C,S=1-D,B=S*(B*B-A*A)/(A*A),J=1+B/16384*(4096+B*(-768+B*(320-175*B))),G=B/1024*(256+B*(-128+B*(74-47*B))),B=w/(A*J),M=2*Math.PI,Y,fa,T,ka;1E-12<Math.abs(B-M);)T=Math.cos(2*F+B),Y=Math.sin(B),fa=Math.cos(B),ka=G*Y*(T+G/4*(fa*(-1+2*T*T)-G/6*T*(-3+4*Y*Y)*(-3+4*T*T))),M=B,B=w/(A*J)+ka;w=z*Y-y*fa*m;A=x/16*S*(4+x*(4-3*S));w=Math.atan2(z*fa+y*Y*m,(1-x)*Math.sqrt(D+w*
w))/g.toRadians;t=(t+(Math.atan2(Y*n,y*fa-z*Y*m)-(1-A)*x*C*(B+A*Y*(T+A*fa*(-1+2*T*T)))))/g.toRadians;c.splice(0,c.length);c.push(t,w);return c}function x(c,m,n,w){var t=m[0]*g.toRadians;m=m[1]*g.toRadians;var x=n[0]*g.toRadians;n=n[1]*g.toRadians;var y=l(w),B=y.a;w=y.b;var A=y.f,C=y.radius,z=x-t,D=Math.atan((1-A)*Math.tan(m)),F=Math.atan((1-A)*Math.tan(n)),y=Math.sin(D),D=Math.cos(D),S=Math.sin(F),F=Math.cos(F),J=1E3,G=z,M,ha,fa,T,ka,P,Q,ca;do{T=Math.sin(G);ka=Math.cos(G);fa=Math.sqrt(F*T*F*T+(D*
S-y*F*ka)*(D*S-y*F*ka));if(0===fa)return{distance:0};ka=y*S+D*F*ka;P=Math.atan2(fa,ka);Q=D*F*T/fa;ha=1-Q*Q;T=ka-2*y*S/ha;isNaN(T)&&(T=0);ca=A/16*ha*(4+A*(4-3*ha));M=G;G=z+(1-ca)*A*Q*(P+ca*fa*(T+ca*ka*(-1+2*T*T)))}while(1E-12<Math.abs(G-M)&&0<--J);if(0===J)return c=x-t,{azimuth:Math.atan2(Math.sin(c)*Math.cos(n),Math.cos(m)*Math.sin(n)-Math.sin(m)*Math.cos(n)*Math.cos(c))/g.toRadians,distance:Math.acos(Math.sin(m)*Math.sin(n)+Math.cos(m)*Math.cos(n)*Math.cos(x-t))*C};t=ha*(B*B-w*w)/(w*w);m=t/1024*
(256+t*(-128+t*(74-47*t)));x=Math.atan2(D*Math.sin(G),D*S*Math.cos(G)-y*F);c.azimuth=Math.atan2(F*Math.sin(G),D*S-y*F*Math.cos(G))/g.toRadians;c.distance=w*(1+t/16384*(4096+t*(-768+t*(320-175*t))))*(P-m*fa*(T+m/4*(ka*(-1+2*T*T)-m/6*T*(-3+4*fa*fa)*(-3+4*T*T))));c.reverseAzimuth=x/g.toRadians;return c}Object.defineProperty(c,"__esModule",{value:!0});c.pointFromDistance=c.geodesicDistance=c.inverseGeodeticSolver=c.directGeodeticSolver=c.geodesicDensify=c.geodesicLengths=c.geodesicAreas=c.isSupported=
void 0;c.isSupported=A;c.geodesicAreas=function(c,n){void 0===n&&(n="square-meters");if(c.some(function(c){return!A(c.spatialReference)}))throw new C("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var w=[],x=0;x<c.length;x++){var y=c[x],D=y.spatialReference,D=l(D).radius*g.densificationRatio;w.push(M(y,D))}c=[];for(var x=[0,0],y=[0,0],F=0;F<w.length;F++){for(var D=w[F],G=D.rings,D=D.spatialReference,J=0,R=0;R<G.length;R++){var O=G[R];z(x,
O[0],D);z(y,O[O.length-1],D);for(var aa=y[0]*x[1]-x[0]*y[1],Z=0;Z<O.length-1;Z++)z(x,O[Z+1],D),z(y,O[Z],D),aa+=y[0]*x[1]-x[0]*y[1];J+=aa}J=m.convertUnit(J,"square-meters",n);c.push(J/-2)}return c};c.geodesicLengths=function(c,g){void 0===g&&(g="meters");if(!c&&!c)throw new C("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(c.some(function(c){return!A(c.spatialReference)}))throw new C("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");
for(var l=[],n=0;n<c.length;n++){for(var w=c[n],y=w.spatialReference,w="polyline"===w.type?w.paths:w.rings,z=0,D=0;D<w.length;D++){for(var F=w[D],G=0,O=1;O<F.length;O++){var J=F[O-1][0],M=F[O][0],S=F[O-1][1],ga=F[O][1];if(S!==ga||J!==M){var ea={distance:null};x(ea,[J,S],[M,ga],y);G+=ea.distance}}z+=G}z=m.convertUnit(z,"meters",g);l.push(z)}return l};c.geodesicDensify=M;c.directGeodeticSolver=D;c.inverseGeodeticSolver=x;c.geodesicDistance=function(c,g,l){void 0===l&&(l="meters");if(!c||!g)throw new C("geodesic-distance:missing-parameters",
"one or both input parameters are missing");if(!c.spatialReference||!g.spatialReference)throw new C("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!c.spatialReference.equals(g.spatialReference))throw new C("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");var n=c.spatialReference;if(!A(n))throw new C("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(c.equals(g))return{distance:0,
azimuth:0,reverseAzimuth:0};var w={distance:null};x(w,[c.x,c.y],[g.x,g.y],n);w.distance=m.convertUnit(w.distance,"meters",l);return w};c.pointFromDistance=function(c,g,l){if(!c||null==g||null==l)throw new C("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>l||360<l)throw new C("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!c.spatialReference)throw new C("point-from-distance:missing-spatial-reference",
"the input point must have a spatial reference");var m=c.spatialReference;if(!A(m))throw new C("geodesic-distance:not-supported","input geometry spatial reference is not supported");var n=[0,0];D(n,[c.x,c.y],l,g,m);return new y.Point({x:n[0],y:n[1],spatialReference:m})}})},"@dojo/framework/shim/object":function(){(function(G){"object"===typeof module&&"object"===typeof module.exports?(G=G(require,exports),void 0!==G&&(module.exports=G)):"function"===typeof define&&define.amd&&define(["require","exports",
"./global","../has/has","./Symbol"],G)})(function(G,c){Object.defineProperty(c,"__esModule",{value:!0});var n=G("./global"),y=G("../has/has"),C=G("./Symbol");y.default("es6-object")?(G=n.default.Object,c.assign=G.assign,c.getOwnPropertyDescriptor=G.getOwnPropertyDescriptor,c.getOwnPropertyNames=G.getOwnPropertyNames,c.getOwnPropertySymbols=G.getOwnPropertySymbols,c.is=G.is,c.keys=G.keys):(c.keys=function(c){return Object.keys(c).filter(function(c){return!c.match(/^@@.+/)})},c.assign=function(m){for(var g=
[],n=1;n<arguments.length;n++)g[n-1]=arguments[n];if(null==m)throw new TypeError("Cannot convert undefined or null to object");var l=Object(m);g.forEach(function(g){g&&c.keys(g).forEach(function(c){l[c]=g[c]})});return l},c.getOwnPropertyDescriptor=function(c,g){C.isSymbol(g);return Object.getOwnPropertyDescriptor(c,g)},c.getOwnPropertyNames=function(c){return Object.getOwnPropertyNames(c).filter(function(c){return!c.match(/^@@.+/)})},c.getOwnPropertySymbols=function(c){return Object.getOwnPropertyNames(c).filter(function(c){return!!c.match(/^@@.+/)}).map(function(c){return Symbol.for(c.substring(2))})},
c.is=function(c,g){return c===g?0!==c||1/c===1/g:c!==c&&g!==g});y.default("es2017-object")?(G=n.default.Object,c.getOwnPropertyDescriptors=G.getOwnPropertyDescriptors,c.entries=G.entries,c.values=G.values):(c.getOwnPropertyDescriptors=function(m){return c.getOwnPropertyNames(m).reduce(function(g,n){g[n]=c.getOwnPropertyDescriptor(m,n);return g},{})},c.entries=function(m){return c.keys(m).map(function(c){return[c,m[c]]})},c.values=function(m){return c.keys(m).map(function(c){return m[c]})})})},"esri/geometry/geometryEngine":function(){define(["require",
"exports","./geometryEngineBase","./geometryAdapters/hydrated"],function(G,c,n,y){function C(c){return Array.isArray(c)?c[0].spatialReference:c&&c.spatialReference}function m(c){return"xmin"in c?"center"in c?c.center:null:"x"in c?c:"extent"in c?c.extent.center:null}Object.defineProperty(c,"__esModule",{value:!0});c.geodesicLength=c.geodesicArea=c.planarLength=c.planarArea=c.geodesicDensify=c.densify=c.generalize=c.flipVertical=c.flipHorizontal=c.rotate=c.nearestVertices=c.nearestVertex=c.nearestCoordinate=
c.geodesicBuffer=c.buffer=c.offset=c.union=c.intersect=c.symmetricDifference=c.difference=c.convexHull=c.simplify=c.isSimple=c.relate=c.overlaps=c.disjoint=c.within=c.touches=c.intersects=c.equals=c.distance=c.crosses=c.contains=c.cut=c.clip=c.extendedSpatialReferenceInfo=void 0;c.extendedSpatialReferenceInfo=function(c){return n.extendedSpatialReferenceInfo(c)};c.clip=function(c,m){return n.clip(y.hydratedAdapter,C(c),c,m)};c.cut=function(c,m){return n.cut(y.hydratedAdapter,C(c),c,m)};c.contains=
function(c,m){return n.contains(y.hydratedAdapter,C(c),c,m)};c.crosses=function(c,m){return n.crosses(y.hydratedAdapter,C(c),c,m)};c.distance=function(c,m,l){return n.distance(y.hydratedAdapter,C(c),c,m,l)};c.equals=function(c,m){return n.equals(y.hydratedAdapter,C(c),c,m)};c.intersects=function(c,m){return n.intersects(y.hydratedAdapter,C(c),c,m)};c.touches=function(c,m){return n.touches(y.hydratedAdapter,C(c),c,m)};c.within=function(c,m){return n.within(y.hydratedAdapter,C(c),c,m)};c.disjoint=function(c,
m){return n.disjoint(y.hydratedAdapter,C(c),c,m)};c.overlaps=function(c,m){return n.overlaps(y.hydratedAdapter,C(c),c,m)};c.relate=function(c,m,l){return n.relate(y.hydratedAdapter,C(c),c,m,l)};c.isSimple=function(c){return n.isSimple(y.hydratedAdapter,C(c),c)};c.simplify=function(c){return n.simplify(y.hydratedAdapter,C(c),c)};c.convexHull=function(c,m){void 0===m&&(m=!1);return n.convexHull(y.hydratedAdapter,C(c),c,m)};c.difference=function(c,m){return n.difference(y.hydratedAdapter,C(c),c,m)};
c.symmetricDifference=function(c,m){return n.symmetricDifference(y.hydratedAdapter,C(c),c,m)};c.intersect=function(c,m){return n.intersect(y.hydratedAdapter,C(c),c,m)};c.union=function(c,m){void 0===m&&(m=null);return n.union(y.hydratedAdapter,C(c),c,m)};c.offset=function(c,m,l,z,A,G){return n.offset(y.hydratedAdapter,C(c),c,m,l,z,A,G)};c.buffer=function(c,m,l,z){void 0===z&&(z=!1);return n.buffer(y.hydratedAdapter,C(c),c,m,l,z)};c.geodesicBuffer=function(c,m,l,z,A,G){return n.geodesicBuffer(y.hydratedAdapter,
C(c),c,m,l,z,A,G)};c.nearestCoordinate=function(c,m,l){void 0===l&&(l=!0);return n.nearestCoordinate(y.hydratedAdapter,C(c),c,m,l)};c.nearestVertex=function(c,m){return n.nearestVertex(y.hydratedAdapter,C(c),c,m)};c.nearestVertices=function(c,m,l,z){return n.nearestVertices(y.hydratedAdapter,C(c),c,m,l,z)};c.rotate=function(c,w,l){if(null==c)throw Error("Illegal Argument Exception");var g=c.spatialReference;l=null!==l&&void 0!==l?l:m(c);if(null==l)throw Error("Illegal Argument Exception");c=c.constructor.fromJSON(n.rotate(c,
w,l));c.spatialReference=g;return c};c.flipHorizontal=function(c,w){if(null==c)throw Error("Illegal Argument Exception");var g=c.spatialReference;w=null!==w&&void 0!==w?w:m(c);if(null==w)throw Error("Illegal Argument Exception");c=c.constructor.fromJSON(n.flipHorizontal(c,w));c.spatialReference=g;return c};c.flipVertical=function(c,w){if(null==c)throw Error("Illegal Argument Exception");var g=c.spatialReference;w=null!==w&&void 0!==w?w:m(c);if(null==w)throw Error("Illegal Argument Exception");c=c.constructor.fromJSON(n.flipVertical(c,
w));c.spatialReference=g;return c};c.generalize=function(c,m,l,z){return n.generalize(y.hydratedAdapter,C(c),c,m,l,z)};c.densify=function(c,m,l){return n.densify(y.hydratedAdapter,C(c),c,m,l)};c.geodesicDensify=function(c,m,l,z){void 0===z&&(z=0);return n.geodesicDensify(y.hydratedAdapter,C(c),c,m,l,z)};c.planarArea=function(c,m){return n.planarArea(y.hydratedAdapter,C(c),c,m)};c.planarLength=function(c,m){return n.planarLength(y.hydratedAdapter,C(c),c,m)};c.geodesicArea=function(c,m,l){return n.geodesicArea(y.hydratedAdapter,
C(c),c,m,l)};c.geodesicLength=function(c,m,l){return n.geodesicLength(y.hydratedAdapter,C(c),c,m,l)}})},"esri/geometry/geometryEngineBase":function(){define(["require","exports"],function(){function G(e){if("number"===typeof e)return u.$c.vh(e);if(null==e)return null;if(null!=va[e])return u.$c.vh(va[e]);throw Error("Unrecognised Unit Type");}function c(e){if("number"===typeof e)return u.$c.vh(e);if(null==e)return null;if(null!=wa[e])return u.$c.vh(wa[e]);throw Error("Unrecognised Unit Type");}function n(e){if(e)switch(e){case "loxodrome":return 1;
case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function y(e,c,p,b){if(null==p||p.u())return null;switch(p.G()){case u.po.Point:return e.exportPoint(c,p,b);case u.po.Polygon:return e.exportPolygon(c,p,b);case u.po.Polyline:return e.exportPolyline(c,p,b);case u.po.MultiPoint:return e.exportMultipoint(c,p,b);case u.po.Envelope:return e.exportExtent(c,p,b)}return null}function C(e,c,p,b){if(p.G()!==u.po.Point)throw Error("Geometry not Point");return e.exportPoint(c,
p,b)}function m(e){var c=e.wkid;e=e.wkt;var p=ua.get(c||e);null==p&&(-1!==c&&null!=c?(p=u.ve.create(c),ua.set(c,p)):e&&(p=u.ve.MQ(e),ua.set(e,p)));return p}function g(e){var c;if(null==e)return null;var p=m(e);e=p.Td();p=p.Ho();return c={},c.tolerance=p,c.unitType=null==e?-1:e.sd,c.unitID=null==e?-1:e.Bc(),c.unitBaseFactor=null==e?0:e.Bi,c.unitSquareDerivative=null==e?0:u.$c.cH(e).Bc(),c}function w(e,c,p,b){if(null==p)return null;p=u.gc.clip(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c));
return y(e,U,p,c)}function l(e,c,p,b){p=u.gc.Ml(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c));b=[];for(var a=0;a<p.length;a++)b.push(y(e,U,p[a],c));return b}function z(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.contains(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function A(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.VQ(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function M(e,
c,p,b,a){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.Cb(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c),G(a))}function D(e,c,p,b){return null==p&&null!=b||null==b&&null!=p?!1:u.gc.Eb(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function x(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.pU(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function J(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");
return u.gc.touches(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function F(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.WY(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function t(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.mR(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c))}function B(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.TV(e.convertToGEGeometry(U,
p),e.convertToGEGeometry(U,b),m(c))}function Y(e,c,p,b,a){if(null==p||null==b)throw Error("Illegal Argument Exception");return u.gc.aC(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c),a)}function K(e,c,p){if(null==p)throw Error("Illegal Argument Exception");return u.gc.AU(e.convertToGEGeometry(U,p),m(c))}function V(e,c,p){if(null==p)throw Error("Illegal Argument Exception");p=u.gc.FC(e.convertToGEGeometry(U,p),m(c));return y(e,U,p,c)}function X(e,c,p,b){void 0===b&&(b=!1);if(null==p)throw Error("Illegal Argument Exception");
if(Array.isArray(p)){var a=b,d=[];for(b=0;b<p.length;b++)d.push(e.convertToGEGeometry(U,p[b]));p=u.gc.GQ(d,a);a=Array(p.length);for(b=0;b<p.length;b++)a[b]=y(e,U,p[b],c);return a}b=u.gc.FQ(e.convertToGEGeometry(U,p),m(c));return y(e,U,b,c)}function W(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(p)){for(var a=[],d=0;d<p.length;d++)a.push(e.convertToGEGeometry(U,p[d]));p=u.gc.jR(a,e.convertToGEGeometry(U,b),m(c));b=Array(p.length);for(d=0;d<p.length;d++)b[d]=
y(e,U,p[d],c);return b}d=u.gc.an(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c));return y(e,U,d,c)}function R(e,c,p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(p)){for(var a=[],d=0;d<p.length;d++)a.push(e.convertToGEGeometry(U,p[d]));p=u.gc.sY(a,e.convertToGEGeometry(U,b),m(c));b=Array(p.length);for(d=0;d<p.length;d++)b[d]=y(e,U,p[d],c);return b}d=u.gc.Wp(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c));return y(e,U,d,c)}function O(e,c,
p,b){if(null==p||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(p)){for(var a=[],d=0;d<p.length;d++)a.push(e.convertToGEGeometry(U,p[d]));p=u.gc.nU(a,e.convertToGEGeometry(U,b),m(c));b=Array(p.length);for(d=0;d<p.length;d++)b[d]=y(e,U,p[d],c);return b}d=u.gc.Ma(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),m(c));return y(e,U,d,c)}function aa(e,c,p,b){if(null==p)return null;var a=[];if(Array.isArray(p)){if(0===p.length)return null;for(b=0;b<p.length;b++)a.push(e.convertToGEGeometry(U,
p[b]))}else a.push(e.convertToGEGeometry(U,p)),null!=b&&a.push(e.convertToGEGeometry(U,b));return y(e,U,u.gc.LY(a,m(c)),c)}function Z(e,c,p,b,a,d,f,h){var k=0;if(null!=d)switch(d){case "round":k=0;break;case "bevel":k=1;break;case "miter":k=2;break;case "square":k=3}if(Array.isArray(p)){if(null==p)e=null;else if(0===p.length)e=[];else{var q=[];for(d=0;d<p.length;d++)q.push(e.convertToGEGeometry(U,p[d]));p=u.gc.RV(q,m(c),b,k,f,h,G(a));b=Array(p.length);for(d=0;d<p.length;d++)b[d]=y(e,U,p[d],c);e=b}return e}p=
u.gc.offset(e.convertToGEGeometry(U,p),m(c),b,k,f,h,G(a));return y(e,U,p,c)}function S(e,c,p,b,a,d){void 0===d&&(d=!1);if(Array.isArray(p)){if(!Array.isArray(b)){for(var f=[],h=0;h<p.length;h++)f.push(b);b=f}if(b.length!=p.length){if(0==b.length)throw Error("Illegal Argument Exception");for(var f=[],k=0,h=0;h<p.length;h++)void 0===b[h]?f.push(k):(f.push(b[h]),k=b[h]);b=f}return ea(e,c,p,b,a,!1,d,"geodesic",NaN)}p=u.gc.buffer(e.convertToGEGeometry(U,p),m(c),b,G(a),!1,0,NaN);return y(e,U,p,c)}function ga(e,
c,p,b,a,d,f,h){if(Array.isArray(p)){if(!Array.isArray(b)){for(var k=[],q=0;q<p.length;q++)k.push(b);b=k}if(b.length!==p.length){if(0===b.length)throw Error("Illegal Argument Exception");for(var k=[],r=0,q=0;q<p.length;q++)void 0===b[q]?k.push(r):(k.push(b[q]),r=b[q]);b=k}return ea(e,c,p,b,a,!0,d,f,h)}void 0===f&&(f=NaN);p=u.gc.buffer(e.convertToGEGeometry(U,p),m(c),b,G(a),!0,n(d),f);return y(e,U,p,c)}function ea(e,c,p,b,a,d,f,h,k){void 0===k&&(k=NaN);if(null==p)return null;if(0===p.length)return[];
for(var q=[],r=0;r<p.length;r++)q.push(e.convertToGEGeometry(U,p[r]));p=u.gc.mP(q,m(c),b,G(a),d,f,n(h),k);b=Array(p.length);for(r=0;r<p.length;r++)b[r]=y(e,U,p[r],c);return b}function ia(e,c,p,b,a){var d;void 0===a&&(a=!0);p=u.gc.bA(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),a);return d={},d.coordinate=C(e,U,p.Qz(),c),d.distance=p.Tz(),d.isRightSide=p.CA(),d.vertexIndex=p.Za(),d.isEmpty=p.u(),d}function ha(e,c,p,b){var a;p=u.gc.cA(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b));
return a={},a.coordinate=C(e,U,p.Qz(),c),a.distance=p.Tz(),a.isRightSide=p.CA(),a.vertexIndex=p.Za(),a.isEmpty=p.u(),a}function fa(e,c,p,b,a,d){var f;p=u.gc.dA(e.convertToGEGeometry(U,p),e.convertToGEGeometry(U,b),a,d);b=[];for(a=0;a<p.length;a++)!1===p[a].u()&&b.push((f={},f.coordinate=C(e,U,p[a].Qz(),c),f.distance=p[a].Tz(),f.isRightSide=p[a].CA(),f.vertexIndex=p[a].Za(),f.isEmpty=p[a].u(),f));return b}function T(e,c,p,b,a,d){p=u.gc.gS(e.convertToGEGeometry(U,p),m(c),b,a,G(d));return y(e,U,p,c)}
function ka(e,c,p,b,a){p=u.gc.Js(e.convertToGEGeometry(U,p),m(c),b,G(a));return y(e,U,p,c)}function P(e,c,p,b,a,d){void 0===d&&(d=0);p=u.gc.Hz(e.convertToGEGeometry(U,p),m(c),b,G(a),d);return y(e,U,p,c)}function Q(e,g,p,b){if(null==p)throw Error("Illegal Argument Exception");return u.gc.aW(e.convertToGEGeometry(U,p),m(g),c(b))}function ca(e,c,p,b){if(null==p)throw Error("Illegal Argument Exception");return u.gc.bW(e.convertToGEGeometry(U,p),m(c),G(b))}function oa(e,g,p,b,a){if(null==p)throw Error("Illegal Argument Exception");
return u.gc.mS(e.convertToGEGeometry(U,p),m(g),c(b),n(a))}function ba(e,c,p,b,a){if(null==p)throw Error("Illegal Argument Exception");return u.gc.qS(e.convertToGEGeometry(U,p),m(c),G(b),n(a))}function ta(e){u.dN.bind(e)}function xa(e,c,p,b,a){var d=null,f=null;if(b){if(!a)throw u.g.F("AOI missing Spatial Reference");d=e.convertToGEGeometry(U,b);f=m(a).Bh()}e=u.Su.rT(m(c).Bh(),m(p).Bh(),d,f);return null!==e?e:null}function na(e,c,p,b,a){var d=null,f=null;if(b){if(!a)throw u.g.F("AOI missing Spatial Reference");
d=e.convertToGEGeometry(U,b);f=m(a).Bh()}return u.Su.sT(m(c).Bh(),m(p).Bh(),d,f)}function ya(e,c,p,b,a){void 0===a&&(a=null);if(!1===this.VZ)throw Error("Projection Engine must be enabled using enableProjection");if(0===c.length)return[];if(a){var d=a.getCachedGeTransformation(p,b);if(!d)a:{d=a;a=null;if(d){var f=d.getGTListEntry();if(null!==f){a=new u.ky(null);for(var h=0,k=f.steps;h<k.length;h++){var f=k[h],q=new u.oo(f.geogtran);f.isInverse&&q.mt();a.add(q)}a=u.rs.Gs(m(p).Bh(),m(b).Bh(),a);d.assignCachedGe(p,
b,a);d=a;break a}}if(null===a&&d&&d.steps&&0<d.steps.length){a=new u.ky(null);h=0;for(k=d.steps;h<k.length;h++)f=k[h],-1!=f.wkid&&null!=f.wkid?a.add(u.oo.create(f.wkid,f.isInverse)):a.add(u.oo.eG(f.wkt,f.isInverse));a=u.rs.Gs(m(p).Bh(),m(b).Bh(),a);d.assignCachedGe(p,b,a);d=a}else d=u.rs.Gs(m(p).Bh(),m(b).Bh(),a)}}else d=u.rs.Gs(m(p).Bh(),m(b).Bh(),null);p=[];for(f=0;f<c.length;f++)a=c[f],p.push(za(e,a,b,d));return p}function za(e,c,p,b){c=u.gc.Vg(e.convertToGEGeometry(U,c),b);return y(e,U,c,p)}var la,
da=this&&this.__extends||function(){function e(c,p){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};return e(c,p)}return function(c,p){function b(){this.constructor=c}e(c,p);c.prototype=null===p?Object.create(p):(b.prototype=p.prototype,new b)}}(),u;(function(e){var c=function(){function b(){}b.Gm=!1;b.jw=!1;b.yz="";return b}();e.Yh=c;if("undefined"!==typeof window)e.Yh.yz="browser","Float64Array"in
window&&(e.Yh.jw=!0),"ArrayBuffer"in window&&(e.Yh.Gm=!0);else if("undefined"!==typeof process)c.yz="node",e.Yh.Gm=!0,e.Yh.jw=!0;else{c.yz="browser";try{var p=new ArrayBuffer(0);new Uint8Array(p);e.Yh.Gm=!0;e.Yh.jw=!0}catch(b){e.Yh.Gm=!1}}})(u||(u={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.po||(e.po={}));(function(e){e[e.enumMild=
0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.eM||(e.eM={}));var c=function(){function c(){this.description=null;this.EB=0}c.prototype.G=function(){return 0};c.prototype.ub=function(){return-1};c.prototype.Eg=function(b){this.zc();b!=this.description&&this.to(b)};c.prototype.to=function(){};c.prototype.tm=function(b){this.zc();b!=this.description&&(b=e.we.WS(this.description,b),b!=this.description&&this.to(b))};c.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};
c.prototype.Rd=function(b){this.zc();this.description.hasAttribute(b)||(b=e.we.VS(this.description,b),this.to(b))};c.prototype.hg=function(){return null};c.prototype.Wn=function(){};c.prototype.s=function(){};c.prototype.Jp=function(){};c.prototype.ac=function(b){this.s(b)};c.prototype.u=function(){return!0};c.prototype.Oa=function(){};c.prototype.Vc=function(){};c.prototype.Ka=function(){return null};c.prototype.copyTo=function(){};c.prototype.ef=function(){return 0};c.prototype.Rb=function(){return 0};
c.prototype.kH=function(){return this.hasAttribute(1)};c.hf=function(b){return((b&192)>>6)+1>>1};c.Po=function(b){return 0!=(b&32)};c.g_=function(b){return 0!=(b&64)};c.qU=function(b){return 0!=(b&128)};c.Nc=function(b){return 0!=(b&256)};c.fh=function(b){return 0!=(b&512)};c.Hc=function(b){return 0!=(b&1024)};c.prototype.Sf=function(){var b=this.Ka();this.copyTo(b);return b};c.prototype.Fg=function(){return null};c.me=function(b){var a=b.Ka();b.copyTo(a);return a};c.prototype.zc=function(){0<=this.EB&&
(this.EB+=2147483649)};c.gy=function(b){var a=b.G();if(c.fh(a))return b.D();if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(c.Nc(a))return 2;throw e.g.X("missing type");};return c}();e.T=c})(u||(u={}));(function(e){var c=function(){function c(){this.y=this.x=0}c.pa=function(b,a){var d=new c;d.x=b;d.y=a;return d};c.Jl=function(b){var a=new c;a.x=b.x;a.y=b.y;return a};c.prototype.ja=function(b,a){this.x=b;this.y=a};c.prototype.L=function(b){this.x=b.x;this.y=b.y};c.prototype.Uq=function(b,
a){return this.x===b&&this.y===a};c.prototype.zA=function(b){return 2.220446049250313E-16>=Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};c.prototype.vb=function(b){return this.x===b.x&&this.y===b.y};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?this.x==b.x&&this.y==b.y:!1};c.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};c.prototype.xc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};c.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=
b.x,this.y+=b.y)};c.prototype.Kr=function(){this.x=-this.x;this.y=-this.y};c.prototype.du=function(b){this.x=-b.x;this.y=-b.y};c.prototype.kU=function(b,a,d){this.x=b.x*(1-d)+a.x*d;this.y=b.y*(1-d)+a.y*d};c.prototype.tu=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};c.prototype.iX=function(b,a,d){this.x=a.x*b+d.x;this.y=a.y*b+d.y};c.prototype.scale=function(b){this.x*=b;this.y*=b};c.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};c.prototype.normalize=
function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};c.prototype.uk=function(){return this.x*this.x+this.y*this.y};c.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};c.wz=function(b,a,d,f){b-=d;a-=f;return Math.sqrt(b*b+a*a)};c.prototype.pi=function(b){return this.x*b.x+this.y*b.y};c.prototype.CE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};c.prototype.Vi=function(b){return this.x*
b.y-this.y*b.x};c.prototype.su=function(b,a){var d=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;this.y=d};c.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};c.prototype.OH=function(b){this.x=-b.y;this.y=b.x};c.prototype.Tr=function(){var b=this.x;this.x=this.y;this.y=-b};c.prototype.iv=function(){this.y=this.x=NaN};c.prototype.Dy=function(){return isNaN(this.x)};c.prototype.ev=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};c.ts=function(b,a){var d=b.ev(),f=a.ev();return f==
d?(d=b.Vi(a),0>d?1:0<d?-1:0):d<f?-1:1};c.LZ=function(b,a){return c.ts(b,a)};c.sc=function(b,a){var d=b.x-a.x;b=b.y-a.y;return d*d+b*b};c.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};c.prototype.Yc=function(){this.y=this.x=NaN};c.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};c.prototype.nO=function(){return this.Dy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};c.prototype.offset=function(b,a){var d=c.Cb(b,a),f=c.pa(this.x,this.y);
if(0==d)return c.Cb(f,b);var h=new c;h.L(a);h.sub(b);f.sub(b);return f.Vi(h)/d};c.Gp=function(b,a,d){var f=new e.Xb;f.set(a.x);f.sub(b.x);var h=new e.Xb;h.set(d.y);h.sub(b.y);var k=new e.Xb;k.set(a.y);k.sub(b.y);var q=new e.Xb;q.set(d.x);q.sub(b.x);f.Tg(h);k.Tg(q);f.sub(k);if(!f.nt())return d=f.value(),0>d?-1:0<d?1:0;f=new e.$p(a.x);h=new e.$p(b.x);k=new e.$p(b.y);f=f.au(h);b=new e.$p(d.y);b=b.au(k);a=new e.$p(a.y);a=a.au(k);d=new e.$p(d.x);d=d.au(h);f=f.cs(b);a=a.cs(d);f=f.cs(a);return f.SU()?-1:
f.BT()?1:0};c.prototype.kc=function(){return e.J.$i(e.J.$i())};return c}();e.b=c})(u||(u={}));(function(e){var c=function(){function e(b){this.iz=this.Cu=0;this.lY=b}e.prototype.reset=function(){this.iz=this.Cu=0};e.prototype.add=function(b){b-=this.iz;var a=this.Cu+b;this.iz=a-this.Cu-b;this.Cu=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.ln=function(){return this.lY+this.Cu};return e}();e.ny=c;c=function(){function e(){}e.Kl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=
function(b){return 0>b?-1:0<b?1:0};e.TL=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,d){var f;.5>=d?f=b+(a-b)*d:f=a-(a-b)*(1-d);return f};e.QH=function(b,a,d,f){.5>=d?(f.x=b.x+(a.x-b.x)*d,f.y=b.y+(a.y-b.y)*d):(f.x=a.x-(a.x-b.x)*(1-d),f.y=a.y-(a.y-b.y)*(1-d))};e.QU=function(b,a,d,f,h,k){.5>=h?(k.x=b+(d-b)*h,k.y=a+(f-a)*h):(k.x=d-(d-b)*(1-h),k.y=f-(f-a)*(1-h))};return e}();e.Ub=c})(u||(u={}));(function(e){var c=
function(c){function b(){var a=c.call(this)||this;a.ua=0;a.ra=0;a.sa=0;a.oa=0;a.ka=null;return a}da(b,c);b.prototype.ec=function(){return e.b.pa(this.ua,this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Lc=function(a){this.Wm(0,a)};b.prototype.zC=function(a,d){this.Wm(0,e.b.pa(a,d))};b.prototype.Kp=function(a){this.EE(0,a)};b.prototype.setStart=function(a){this.NE(0,a)};b.prototype.bt=function(a,d){return this.Zd(0,a,d)};b.prototype.Tx=function(a,d,f){this.vo(0,a,d,f)};b.prototype.Ac=
function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ns=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Xc=function(a){this.Wm(1,a)};b.prototype.Am=function(a,d){this.Wm(1,e.b.pa(a,d))};b.prototype.Ip=function(a){this.EE(1,a)};b.prototype.setEnd=function(a){this.NE(1,a)};b.prototype.Ms=function(a,d){return this.Zd(1,a,d)};b.prototype.Lx=function(a,d,f){this.vo(1,a,d,f)};b.prototype.ub=function(){return 1};b.prototype.u=function(){return this.Gc()};b.prototype.Oa=function(){};b.prototype.ef=function(){return 0};
b.prototype.Ma=function(a,d,f,b,k){return this.kO(a,d,f,b,k)};b.prototype.Yb=function(a,d){return 0!=this.ws(a,d,!1)};b.prototype.ot=function(a,d){return this.fv(a,d,!1)};b.prototype.fv=function(){return null};b.prototype.Gc=function(){return!1};b.prototype.Fy=function(a){this.zc();if(null==this.ka&&0<a)this.ka=e.J.df(2*a);else if(null!=this.ka&&this.ka.length<2*a){for(var d=this.ka.slice(0),f=this.ka.length;f<2*a;f++)d[f]=0;this.ka=d}};b.Dj=function(a,d,f){if(0<f)var b=0;for(var k=0;k<f;k++)d[0+
b]=a[0],b++};b.prototype.Wm=function(a,d){0!=a?(this.sa=d.x,this.oa=d.y):(this.ua=d.x,this.ra=d.y)};b.prototype.to=function(a){if(null!=this.ka){for(var d=e.we.vx(a,this.description),f=[],h=b.tb(this.description,0),k=b.tb(this.description,1),q=b.tb(a,0),r=b.tb(a,1),c=0,p=1,N=a.Ga;p<N;p++){var H=a.pd(p),g=e.ma.Xa(H);if(-1==d[p])for(var E=e.ma.be(H),H=0;H<g;H++)f[q+c]=E,f[r+c]=E,c++;else for(E=this.description.zk(d[p])-2,H=0;H<g;H++)f[q+c]=this.ka[h+E],f[r+c]=this.ka[k+E],c++,E++}this.ka=f}this.description=
a};b.prototype.EE=function(a,d){if(this.Gc())throw e.g.X("empty geometry");d.Eg(this.description);d.Gc()&&d.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Qd(f),k=0,q=e.ma.Xa(b);k<q;k++){var r=this.Zd(a,b,k);d.setAttribute(b,k,r)}};b.prototype.NE=function(a,d){this.zc();if(d.Gc())throw e.g.X("empty geometry");for(var f=d.description,b=0,k=f.Ga;b<k;b++)for(var q=f.Qd(b),r=e.ma.Xa(q),c=0;c<r;c++){var p=d.Wc(q,c);this.vo(a,q,c,p)}};b.prototype.Zd=function(a,d,f){if(this.Gc())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==d)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;if(f>=e.ma.Xa(d))throw e.g.vd();var h=this.description.lg(d);return 0<=h?(null!=this.ka&&this.Fy(this.description.Ye.length-2),this.ka[b.tb(this.description,a)+this.description.zk(h)-2+f]):e.ma.be(d)};b.prototype.vo=function(a,d,f,h){this.zc();if(f>=e.ma.Xa(d))throw e.g.vd();var k=this.description.lg(d);0>k&&(this.Rd(d),k=this.description.lg(d));0==d?0!=a?0!=f?this.oa=h:this.sa=h:0!=f?this.ra=h:this.ua=h:(null==this.ka&&this.Fy(this.description.Ye.length-
2),this.ka[b.tb(this.description,a)+this.description.zk(k)-2+f]=h)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Fy(this.description.Ye.length-2);b.Dj(this.ka,a.ka,2*(this.description.Ye.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.zc();this.iq(a)};b.prototype.hg=function(a,d){var f=new e.yc;if(this.Gc())return f.Oa(),f;f.ga=this.Zd(0,a,d);f.la=f.ga;f.ol(this.Zd(1,a,d));return f};b.prototype.GJ=function(a){this.Gc()?a.Oa():(a.ga=
this.Zd(0,0,0),a.la=a.ga,a.ol(this.Zd(1,0,0)))};b.prototype.Fx=function(a,d){d.Eg(this.description);d.rb(this.hc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var k=this.description.Qd(f),q=e.ma.Xa(k),r=0;r<q;r++){var c=this.Wc(a,k,r);d.setAttribute(k,r,c)}};b.prototype.hO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var d=0;d<2*(this.description.Ye.length-2);d++)if(this.ka[d]!=a.ka[d])return!1;return!0};b.prototype.CH=
function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,d=this.description.Ga;a<d;a++)for(var f=this.description.pd(a),b=0,k=e.ma.Xa(f);b<k;b++){var q=this.Zd(0,f,b),r=this.Zd(1,f,b);this.vo(0,f,b,r);this.vo(1,f,b,q)}};b.prototype.ws=function(a,d,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.lO(this,a,d,f);throw e.g.za();default:throw e.g.za();}};b.prototype.kO=function(a,
d,f,b,k){var h=a.G();switch(this.G()){case 322:if(322==h)return e.Hb.Cy(this,a,d,f,b,k);throw e.g.za();default:throw e.g.za();}};b.prototype.yy=function(){return null};b.tb=function(a,d){return d*(a.Ye.length-2)};b.prototype.hc=function(a,d){if(void 0===d)return d=new e.b,this.hc(a,d),d;e.Ub.QU(this.ua,this.ra,this.sa,this.oa,a,d)};b.prototype.ne=function(){return null};b.prototype.hH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.eh=function(){return null};b.prototype.Mo=
function(){return null};b.prototype.Dg=function(){return null};b.prototype.zy=function(a,d){return void 0!==d?this.cy(d)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Ml=function(){return null};b.prototype.yh=function(){};b.prototype.Wc=function(){return null};b.prototype.kf=function(){return null};b.prototype.cy=function(){return null};b.prototype.PH=function(){return null};b.prototype.Cb=function(a,d){if(!d&&0!=this.ws(a,0,!1))return 0;d=1.7976931348623157E308;var f,b;f=this.ec();
b=a.ne(f,!1);f.sub(a.hc(b));f=f.length();f<d&&(d=f);f=this.Ac();b=a.ne(f,!1);f.sub(a.hc(b));f=f.length();f<d&&(d=f);f=a.ec();b=this.ne(f,!1);f.sub(this.hc(b));f=f.length();f<d&&(d=f);f=a.Ac();b=this.ne(f,!1);f.sub(this.hc(b));f=f.length();f<d&&(d=f);return d};b.prototype.Fg=function(){return e.Pi.Xm(this,null)};return b}(e.T);e.iE=c})(u||(u={}));new u.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.gM||(e.gM={}));(function(e){e[e.DirtyIsKnownSimple=
1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";
e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=16777215]="DirtyAll"})(e.NL||(e.NL={}));var c=function(c){function b(){var a=c.call(this)||this;a.zn=65535;a.qa=0;a.kh=-1;a.ob=null;return a}da(b,c);b.prototype.iq=function(){};b.prototype.Ey=function(){};b.prototype.My=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Gc()};b.prototype.Gc=function(){return 0==this.qa};b.prototype.Ak=function(a){return 0!=(this.zn&a)};b.prototype.kg=function(a,d){this.zn=
d?this.zn|a:this.zn&~a};b.prototype.vc=function(){this.Ak(32)&&this.vO()};b.prototype.Eu=function(){if(this.Gc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.xe=function(a,d){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.vc();d.Eg(this.description);d.u()&&d.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Qd(f),k=0,q=e.ma.Xa(b);k<q;k++){var r=this.ya[f].Lf(q*a+k);d.setAttribute(b,k,r)}};b.prototype.xu=function(a,d){this.vc();for(var f=
d.description,b=0;b<f.Ga;b++)for(var k=f.Qd(b),q=e.ma.Xa(k),r=0;r<q;r++){var c=d.Wc(k,r);this.setAttribute(k,a,r,c)}};b.prototype.w=function(a,d){if(0>a||a>=this.D())throw e.g.vd();this.vc();this.ya[0].fc(2*a,d)};b.prototype.Ba=function(a){var d=new e.b;this.w(a,d);return d};b.prototype.Mc=function(a,d){this.ya[0].fc(2*a,d)};b.prototype.rb=function(a,d,f){if(0>a||a>=this.qa)throw e.g.vd();this.vc();var b=this.ya[0];void 0!==f?(b.write(2*a,d),b.write(2*a+1,f)):b.mo(2*a,d);this.Cc(1993)};b.prototype.oA=
function(a){if(0>a||a>=this.D())throw e.g.vd();this.vc();var d=this.ya[0],f=new e.od;f.x=d.read(2*a);f.y=d.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Lf(a):e.ma.be(1);return f};b.prototype.EC=function(a,d){if(0>a||a>=this.D())throw e.g.vd();this.Rd(1);this.vc();this.Cc(1993);var f=this.ya[0];f.write(2*a,d.x);f.write(2*a+1,d.y);this.ya[1].Im(a,d.z)};b.prototype.Wc=function(a,d,f){if(0>d||d>=this.qa)throw e.g.vd();var b=e.ma.Xa(a);if(f>=b)throw e.g.vd();this.vc();var k=this.description.lg(a);return 0<=
k?this.ya[k].Lf(d*b+f):e.ma.be(a)};b.prototype.CG=function(a,d,f){return this.Wc(a,d,f)};b.prototype.setAttribute=function(a,d,f,b){if(0>d||d>=this.qa)throw e.g.vd();var h=e.ma.Xa(a);if(f>=h)throw e.g.vd();this.Rd(a);this.vc();a=this.description.lg(a);this.Cc(1993);this.ya[a].Im(d*h+f,b)};b.prototype.Qa=function(a){this.Eu();this.Rd(a);this.vc();return this.ya[this.description.lg(a)]};b.prototype.eo=function(a,d){if(null!=d&&e.ma.ti(a)!=d.ti())throw e.g.F();this.Rd(a);a=this.description.lg(a);null==
this.ya&&(this.ya=e.Tc.LB(this.description.Ga));this.ya[a]=d;this.Cc(16777215)};b.prototype.to=function(a){var d=null;if(null!=this.ya)for(var f=e.we.vx(a,this.description),d=[],b=0,k=a.Ga;b<k;b++)-1!=f[b]&&(d[b]=this.ya[f[b]]);this.description=a;this.ya=d;this.kh=-1;this.Cc(16777215)};b.prototype.SE=function(a){this.kv(!0);a instanceof e.h?this.$.s(a):this.$.Jp(a)};b.prototype.uO=function(a){this.kv(!1);a instanceof e.h?this.$.s(a):this.$.Jp(a)};b.prototype.Wn=function(a){this.kv(!0);this.$.copyTo(a)};
b.prototype.s=function(a){this.SE(a)};b.prototype.Jp=function(a){this.SE(a)};b.prototype.ac=function(a){this.uO(a)};b.prototype.hg=function(a,d){var f=new e.yc;if(this.Gc())return f.Oa(),f;this.kv(!0);return this.$.hg(a,d)};b.prototype.kc=function(){var a=this.description.kc();if(!this.Gc())for(var d=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].Ck(a,0,d*e.ma.Xa(this.description.Qd(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||
this.Gc()!=a.Gc())return!1;if(this.Gc())return!0;var d=this.D();if(d!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var h=this.description.pd(f),k=this.Qa(h),q=a.Qa(h);if(!k.Eb(q,0,d*e.ma.Xa(h)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.BE(a)};b.prototype.BE=function(a){this.vc();a.description=this.description;a.ya=null;var d=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<d;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Sr(this.D()*e.ma.Xa(this.description.Qd(b))));
null!=this.$?(a.$=this.$.Ka(),this.$.copyTo(a.$)):a.$=null;a.qa=this.qa;a.zn=this.zn;a.ya=f;try{this.iq(a)}catch(k){throw a.Oa(),e.g.tN();}};b.prototype.PE=function(){this.qa=0;this.kh=-1;this.ya=null;this.Cc(16777215)};b.prototype.Cc=function(a){16777215==a&&(this.kh=-1,this.Ey());this.zn|=a;this.YN();this.zc()};b.prototype.kv=function(a){this.vc();if(this.Ak(192))if(null==this.$?this.$=new e.di(this.description):this.$.Eg(this.description),this.u())this.$.Oa();else{this.Ly(a);for(var d=1;d<this.description.Ga;d++)for(var f=
this.description.Qd(d),b=e.ma.Xa(f),k=this.ya[d],q=0;q<b;q++){var r=new e.yc;r.Oa();for(var c=0;c<this.qa;c++){var p=k.Lf(c*b+q);r.Nb(p)}this.$.setInterval(f,q,r)}a&&this.kg(192,!1)}};b.prototype.Ly=function(){this.$.Oa();for(var a=this.ya[0],d=new e.b,f=0;f<this.qa;f++)a.fc(2*f,d),this.$.Nb(d)};b.prototype.Bo=function(a){a.Oa();for(var d=this.ya[0],f=new e.b,b=0;b<this.qa;b++)d.fc(2*b,f),a.Nb(f)};b.prototype.vO=function(){if(this.kh<this.qa){null==this.ya&&(this.ya=e.Tc.LB(this.description.Ga));
this.kh=2147483647;for(var a=0;a<this.description.Ga;a++){var d=this.description.Qd(a);if(null!=this.ya[a]){var f=e.ma.Xa(d),b=e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.kh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.be(d)));b<this.kh&&(this.kh=b)}else this.ya[a]=e.Tc.oz(d,this.qa),this.kh=this.qa}}this.My();this.kg(32,!1)};b.prototype.El=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Cc(65535))};b.prototype.Nk=function(a){if(!this.Ak(1)){if(!this.Ak(2))return 0;
if(this.rV>=a)return this.Ak(8)?1:2}return-1};b.prototype.Xg=function(a,d){this.rV=d;if(-1==a)this.kg(1,!0),this.kg(8,!0);else if(this.kg(1,!1),this.kg(8,!0),0==a)this.kg(2,!1),this.kg(4,!1);else if(1==a)this.kg(2,!0),this.kg(4,!1);else if(2==a)this.kg(2,!0),this.kg(4,!0);else throw e.g.X("internal error.");};b.prototype.YN=function(){null!=this.ob&&(this.ob=null)};b.prototype.HE=function(a,d,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>d||d>=this.qa)throw e.g.X("index out of bounds");
this.vc();b.Eg(this.description);b.u()&&b.nq();for(var h=0;h<this.description.Ga;h++)for(var q=this.description.Qd(h),r=0,c=e.ma.Xa(q);r<c;r++){var p=this.ya[h].Lf(c*a+r),N=this.ya[h].Lf(c*d+r);b.setAttribute(q,r,e.Ub.Xq(p,N,f))}};b.prototype.vs=function(a,d){var f=this.ya[0].f,b=f[2*a]-f[2*d],f=f[2*a+1]-f[2*d+1];return Math.sqrt(b*b+f*f)};b.prototype.Zh=function(a,d){if(0>a||a>=this.qa)throw e.g.vd();if(d.u())throw e.g.F();this.vc();for(var f=d.description,b=0;b<f.Ga;b++)for(var k=f.pd(b),q=e.ma.Xa(k),
r=0;r<q;r++){var c=d.Wc(k,r);this.setAttribute(k,a,r,c)}};b.prototype.bv=function(){return null};b.prototype.Kj=function(){return null};return b}(e.T);e.Ou=c})(u||(u={}));(function(e){var c=function(){function c(){this.pb=this.Uo=null;this.Mn=124234251;this.Dw=!0;this.mf=-1;this.pb=new e.Zc(7);this.Uo=null}c.prototype.Lp=function(b){this.Uo=b};c.prototype.kR=function(){this.Dw=!1};c.prototype.Ne=function(b){this.pb.Ne(b)};c.prototype.Is=function(b){var a=this.pb.Me();this.RX(a);this.UX(b,a);return a};
c.prototype.fR=function(b){this.pb.jd(b)};c.prototype.addElement=function(b,a){var d;-1==a?(-1==this.mf&&(this.mf=this.Is(-1)),d=this.mf):d=a;return this.YE(b,0,d)};c.prototype.bF=function(b){-1==this.mf&&(this.mf=this.Is(-1));return this.YE(b,1,this.mf)};c.prototype.yo=function(b){var a;-1==this.mf&&(this.mf=this.Is(-1));a=this.mf;var d=this.pb.f;if(-1==a||-1==d[7*a])return b=this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1]),d=this.pb.f,d[7*a]=b,this.pq(-1,b,a,d),b;var f=-1==a?-1:d[7*a+2];b=this.pb.pl([-1,
-1,f,b,this.Ql(),-1,-1]);d=this.pb.f;d[7*f+1]=b;this.Sy(b,d);-1===d[7*b+2]&&(d[7*a]=b);this.pq(-1,b,a,d);return b};c.prototype.ov=function(b,a,d,f){var h=-1;-1==h&&(-1==this.mf&&(this.mf=this.Is(-1)),h=this.mf);var k=this.pb.f;if(-1==h||-1==k[7*h])return d=this.pb.pl([-1,-1,-1,d,this.Ql(),-1,-1]),k=this.pb.f,k[7*h]=d,this.pq(-1,d,h,k),d;var q;f?(f=-1!=a?this.Uo.compare(this,d,a):-1,q=-1!=b?this.Uo.compare(this,d,b):1):(f=-1,q=1);if(0==f||0==q)return k[7*h+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Mn>e.J.KB(this.Mn)>>
1:-1!=a)?b=a:f=q;for(a=!0;;){if(0>f)if(q=k[7*b],-1!=q)b=q;else{f=b;d=this.pb.pl([-1,-1,b,d,this.Ql(),-1,-1]);k=this.pb.f;k[7*b]=d;break}else if(q=k[7*b+1],-1!=q)b=q;else{f=k[7*b+6];d=this.pb.pl([-1,-1,b,d,this.Ql(),-1,-1]);k=this.pb.f;k[7*b+1]=d;break}a&&(f*=-1,a=!1)}this.Sy(d,k);-1===k[7*d+2]&&(k[7*h]=d);this.pq(f,d,h,k);return d};c.prototype.IG=function(){return this.AS(this.mf)};c.prototype.Jd=function(b,a){a=-1==a?this.mf:a;this.Dw?this.eR(b,a):this.KY(b,a)};c.prototype.search=function(b,a){for(a=
this.fw(a);-1!=a;){var d=this.Uo.compare(this,b,a);if(0==d)return a;a=0>d?this.Ul(a):this.Nq(a)}return-1};c.prototype.lX=function(b){for(var a=this.fw(-1),d=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Ul(a):(d=a,a=this.Nq(a))}return d};c.prototype.$J=function(b){for(var a=this.fw(-1),d=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(d=a,a=this.Ul(a)):a=this.Nq(a)}return d};c.prototype.ia=function(b){return this.pb.S(b,3)};c.prototype.Ul=function(b){return this.pb.S(b,0)};
c.prototype.Nq=function(b){return this.pb.S(b,1)};c.prototype.getParent=function(b){return this.pb.S(b,2)};c.prototype.nb=function(b){return this.pb.S(b,6)};c.prototype.Se=function(b){return this.pb.S(b,5)};c.prototype.wc=function(b){return-1==b?this.Tl(this.mf):this.Tl(b)};c.prototype.Ec=function(b){return-1==b?this.Xs(this.mf):this.Xs(b)};c.prototype.tT=function(b){return-1==b?this.eH(this.mf):this.eH(b)};c.prototype.pk=function(b,a){this.qC(b,a)};c.prototype.fw=function(b){return-1==b?this.$G(this.mf):
this.$G(b)};c.prototype.clear=function(){this.pb.Wi(!1);this.mf=-1};c.prototype.size=function(b){return-1==b?this.bH(this.mf):this.bH(b)};c.prototype.kP=function(b,a){for(var d=a[7*b],f=a[7*b+1],h=a[7*b+4];-1!=d||-1!=f;){var k=-1!=d?a[7*d+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(h<=Math.min(k,f))break;k<=f?this.XJ(d,a):this.WJ(b,a);d=a[7*b];f=a[7*b+1]}};c.prototype.Sy=function(b,a){if(this.Dw)for(var d=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>d;)a[7*f]==b?this.XJ(b,a):this.WJ(f,a),f=a[7*b+2]};c.prototype.WJ=
function(b,a){var d=a[7*b+1],f;a[7*d+2]=a[7*b+2];a[7*b+2]=d;f=a[7*d];a[7*b+1]=f;-1!=f&&(a[7*f+2]=b);a[7*d]=b;f=a[7*d+2];-1!=f&&(a[7*f]==b?a[7*f]=d:a[7*f+1]=d)};c.prototype.XJ=function(b,a){var d=a[7*b+2],f;a[7*b+2]=a[7*d+2];a[7*d+2]=b;f=a[7*b+1];a[7*d]=f;-1!=f&&(a[7*f+2]=d);a[7*b+1]=d;f=a[7*b+2];-1!=f&&(a[7*f]===d?a[7*f]=b:a[7*f+1]=b)};c.prototype.ul=function(b,a){this.pb.R(b,2,a)};c.prototype.uC=function(b,a){this.pb.R(b,0,a)};c.prototype.yC=function(b,a){this.pb.R(b,1,a)};c.prototype.xC=function(b,
a){this.pb.R(b,5,a)};c.prototype.Qx=function(b,a){this.pb.R(b,6,a)};c.prototype.CK=function(b,a){this.pb.R(a,0,b)};c.prototype.RX=function(b){this.pb.R(b,4,0)};c.prototype.UX=function(b,a){this.pb.R(a,5,b)};c.prototype.$G=function(b){return-1==b?-1:this.pb.S(b,0)};c.prototype.Tl=function(b){return-1==b?-1:this.pb.S(b,1)};c.prototype.Xs=function(b){return-1==b?-1:this.pb.S(b,2)};c.prototype.AS=function(b){return-1==b?-1:this.pb.S(b,3)};c.prototype.bH=function(b){return-1==b?0:this.pb.S(b,4)};c.prototype.eH=
function(b){return this.pb.S(b,5)};c.prototype.Bx=function(b){return this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1])};c.prototype.Pl=function(b){-1!=b&&this.pb.jd(b)};c.prototype.Ql=function(){this.Mn=e.J.KB(this.Mn);return this.Mn&1073741823};c.prototype.YE=function(b,a,d){var f=this.pb.f;if(-1==d||-1==f[7*d])return b=this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1]),f=this.pb.f,f[7*d]=b,this.pq(-1,b,d,f),b;for(var h=-1==d?-1:f[7*d];;){var k=-1==a?1:this.Uo.compare(this,b,h);if(0>k)if(k=this.Ul(h),-1!=k)h=k;else{a=
h;b=this.pb.pl([-1,-1,h,b,this.Ql(),-1,-1]);f=this.pb.f;f[7*h]=b;break}else{if(1==a&&0==k)return f[7*d+3]=h,-1;k=f[7*h+1];if(-1!=k)h=k;else{a=f[7*h+6];b=this.pb.pl([-1,-1,h,b,this.Ql(),-1,-1]);f=this.pb.f;f[7*h+1]=b;break}}}this.Sy(b,f);-1===f[7*b+2]&&(f[7*d]=b);this.pq(a,b,d,f);return b};c.prototype.pq=function(b,a,d,f){var h;-1!=b?(h=f[7*b+5],f[7*b+5]=a):h=-1==d?-1:f[7*d+2];f[7*a+5]=h;-1!=h&&(f[7*h+6]=a);f[7*a+6]=b;b==(-1==d?-1:f[7*d+1])&&(f[7*d+1]=a);-1==b&&(f[7*d+2]=a);f[7*d+4]=(-1==d?0:f[7*d+
4])+1};c.prototype.cC=function(b,a){var d=this.pb.f,f=d[7*b+5];b=d[7*b+6];-1!=f?d[7*f+6]=b:d[7*a+1]=b;-1!=b?d[7*b+5]=f:d[7*a+2]=f;d[7*a+4]=-1===a?-1:d[7*a+4]-1};c.prototype.KY=function(b,a){this.cC(b,a);var d=this.Ul(b),f=this.Nq(b),h=this.getParent(b),k=b;if(-1!=d&&-1!=f){this.Mn=e.J.KB(this.Mn);var q;q=1073741823<this.Mn?this.nb(b):this.Se(b);var r=this.getParent(q)==b;this.pb.ay(b,q,0);this.pb.ay(b,q,1);this.pb.ay(b,q,2);-1!=h?this.Ul(h)==b?this.uC(h,q):this.yC(h,q):this.CK(q,a);r?(d==q?(this.uC(q,
b),this.ul(f,q)):f==q&&(this.yC(q,b),this.ul(d,q)),this.ul(b,q),h=q):(this.ul(d,q),this.ul(f,q),h=this.getParent(b),k=q);d=this.Ul(b);f=this.Nq(b);-1!=d&&this.ul(d,b);-1!=f&&this.ul(f,b)}d=-1!=d?d:f;-1==h?this.CK(d,a):this.Ul(h)==k?this.uC(h,d):this.yC(h,d);-1!=d&&this.ul(d,h);this.Pl(b,a)};c.prototype.eR=function(b,a){var d=this.pb.f;d[7*b+4]=2147483647;var f=-1,h=-1,k=-1===a?-1:d[7*a],e=k==b;e&&(f=d[7*k],h=d[7*k+1],-1==f&&-1==h)?(this.cC(k,a),this.Pl(k,a),d[7*a]=-1):(this.kP(b,d),k=d[7*b+2],-1!=
k&&(d[7*k]==b?d[7*k]=-1:d[7*k+1]=-1),this.cC(b,a),this.Pl(b,a),e&&(d[7*a]=-1==f||-1!=d[7*f+2]?h:f))};c.prototype.qC=function(b,a){this.pb.R(b,3,a)};return c}();e.xk=c})(u||(u={}));(function(e){var c=function(){function c(b,a){void 0!==b&&this.I(b,a)}c.prototype.I=function(b,a){this.ga=b;this.la=a;this.normalize()};c.prototype.Yb=function(b){return this.ga<=b.ga?this.la>=b.ga:b.la>=this.ga};c.prototype.move=function(b){this.u()||(this.ga+=b,this.la+=b)};c.prototype.normalize=function(){if(!isNaN(this.ga)){if(this.ga>
this.la){var b=this.ga;this.ga=this.la;this.la=b}isNaN(this.la)&&this.Oa()}};c.prototype.Oa=function(){this.la=this.ga=NaN};c.prototype.u=function(){return isNaN(this.ga)};c.prototype.Nb=function(b){"number"===typeof b?this.u()?this.la=this.ga=b:this.ol(b):b.u()||(this.u()?(this.ga=b.ga,this.la=b.la):(this.ga>b.ga&&(this.ga=b.ga),this.la<b.la&&(this.la=b.la),this.ga>this.la&&this.Oa()))};c.prototype.ol=function(b){b<this.ga?this.ga=b:b>this.la&&(this.la=b)};c.prototype.contains=function(b){return"number"===
typeof b?b>=this.ga&&b<=this.la:b.ga>=this.ga&&b.la<=this.la};c.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ga<b.ga&&(this.ga=b.ga),this.la>b.la&&(this.la=b.la),this.ga>this.la&&this.Oa())};c.prototype.P=function(b){this.u()||(this.ga-=b,this.la+=b,this.la<this.ga&&this.Oa())};c.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ga)+Math.abs(this.la)+1)};c.prototype.nC=function(b,a){b>a?(this.ga=a,this.la=b):(this.ga=b,this.la=a)};c.prototype.yu=
function(b){return e.J.tk(b,this.ga,this.la)};c.prototype.O=function(){return this.la-this.ga};c.prototype.Tf=function(){return.5*(this.ga+this.la)};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?this.u()&&b.u()?!0:this.ga!=b.ga||this.la!=b.la?!1:!0:!1};c.prototype.kc=function(){return e.J.$i(e.J.$i())};return c}();e.yc=c})(u||(u={}));(function(e){var c=new e.yc,p=new e.yc,b=function(){return function(){this.Ie=null;this.qb=-1;this.xb=new e.Hb;this.aB=55555555;this.Fw=this.Iw=!1;this.qg=
new e.yc;this.qg.nC(0,0)}}();e.MZ=b;var a=function(){function a(a,d,k){this.a=a;this.kl=NaN;this.OI=this.Ar=0;this.QI=NaN;this.ta=d;this.Dr=10*d;this.RI=this.SI=NaN;this.Lg=!1;this.xn=this.$t=this.Cp=this.Ut=this.Tt=-1;this.SA=k;this.CB=new b;this.ZI=new b;e.J.truncate(3*a.ud/2)}a.prototype.oH=function(a,d,b,e){a.Ie=null===e?null:e[b[5*d]];a.Fw=null!=a.Ie;a.Fw||(e=b[5*d+2],-1!==e&&this.a.LW(b[5*d],b[5*e],a.xb),a.Ie=a.xb,a.qg.nC(a.xb.ua,a.xb.sa),a.qg.la+=this.ta,a.xb.pJ(),a.Iw=a.xb.oa==a.xb.ra,a.Iw||
(a.aB=(a.xb.sa-a.xb.ua)/(a.xb.oa-a.xb.ra)))};a.prototype.nQ=function(a,d){var f=a.ws(d,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Xi();a.Oq(pa);a.Ns(qa);d.Oq(ra);d.Ns(sa);ja.ja(this.Ar,this.kl);pa.vb(ra)&&this.kl==pa.y?0>qa.compare(sa)?ja.L(qa):ja.L(sa):pa.vb(sa)&&this.kl==pa.y?0>qa.compare(ra)?ja.L(qa):ja.L(ra):ra.vb(qa)&&this.kl==ra.y?0>pa.compare(sa)?ja.L(pa):ja.L(sa):qa.vb(sa)&&this.kl==qa.y&&(0>pa.compare(ra)?ja.L(pa):ja.L(ra));return a.kf(ja.y,ja.x)<d.kf(ja.y,ja.x)?-1:1};a.prototype.lQ=
function(a,d){if(a.xb.ra==d.xb.ra&&a.xb.ua==d.xb.ua)return a.xb.oa==d.xb.oa&&a.xb.sa==d.xb.sa?this.SA?this.Az():0:this.VF(a,d);if(a.xb.oa==d.xb.oa&&a.xb.sa==d.xb.sa)return this.UF(a,d);var f=this.UF(a,d);a=this.VF(a,d);return 0>f&&0>a?-1:0<f&&0<a?1:this.Xi()};a.prototype.hQ=function(a,d){if(a.sa>d.sa){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&a.Ti(d.sa,d.oa,this.ta))return this.Xi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(a.sa-a.ua)<this.Dr&&d.Ti(a.sa,a.oa,this.ta))return this.Xi();return 1};a.prototype.iQ=function(a,
d){if(a.ua<d.ua){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&a.Ti(d.sa,d.oa,this.ta))return this.Xi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(a.ua-a.sa)<this.Dr&&d.Ti(a.ua,a.ra,this.ta))return this.Xi();return-1};a.prototype.jQ=function(a,d){var f=new e.b;f.xc(d.Ac(),d.ec());f.Tr();f.normalize();var b=new e.b;b.xc(a.ec(),d.ec());var h=new e.b;h.xc(a.Ac(),d.ec());var b=b.pi(f),f=h.pi(f),h=Math.abs(b),c=Math.abs(f);if(h<c){if(h<this.Dr&&d.Ti(a.ua,a.ra,this.ta))return this.Xi()}else if(c<this.Dr&&d.Ti(a.sa,a.oa,this.ta))return this.Xi();
return 0>b&&0>f?-1:0<b&&0<f?1:this.Xi()};a.prototype.TF=function(a,d){return a.ra==d.ra&&a.ua==d.ua?this.hQ(a,d):a.oa==d.oa&&a.sa==d.sa?this.iQ(a,d):this.jQ(a,d)};a.prototype.kQ=function(a,d){return a.oa==d.oa&&a.sa==d.sa&&a.ra==d.ra&&a.ua==d.ua?this.SA?this.Az():0:this.Xi()};a.prototype.UF=function(a,d){var f=1;if(a.xb.ra<d.xb.ra){var f=-1,b=a;a=d;d=b}b=a.xb;a=d.xb;var h=b.ua-a.ua;d=d.aB*(b.ra-a.ra);var e=this.Dr;return h<d-e?-f:h>d+e?f:a.Ti(b.ua,b.ra,this.ta)?this.Xi():h<d?-f:f};a.prototype.VF=
function(a,d){var f=1;if(d.xb.oa<a.xb.oa){var f=-1,b=a;a=d;d=b}b=a.xb;a=d.xb;var h=b.sa-a.ua;d=d.aB*(b.oa-a.ra);var e=this.Dr;return h<d-e?-f:h>d+e?f:a.Ti(b.sa,b.oa,this.ta)?this.Xi():h<d?-f:f};a.prototype.Az=function(){this.Lg=!0;this.nj=new e.Yd(5,this.Cp,this.$t);return-1};a.prototype.Xi=function(){this.Lg=!0;this.SA?this.nj=new e.Yd(4,this.Cp,this.$t):this.$t=this.Cp=this.Ut=this.Tt=-1;return-1};a.prototype.mQ=function(a,d,b,e){if(this.Lg)return-1;var f=this.QI==this.kl&&this.OI==this.Ar,h;f&&
a==this.Tt?h=this.RI:(h=NaN,this.Tt=-1);f&&d==this.Ut?f=this.SI:(f=NaN,this.Ut=-1);b.Ie.GJ(c);e.Ie.GJ(p);if(c.la<p.ga)return-1;if(p.la<c.ga)return 1;this.QI=this.kl;this.OI=this.Ar;isNaN(h)&&(this.Tt=a,this.RI=h=a=b.Ie.kf(this.kl,this.Ar));isNaN(f)&&(this.Ut=d,this.SI=f=a=e.Ie.kf(this.kl,this.Ar));return Math.abs(h-f)<=this.ta?this.nQ(b.Ie,e.Ie):h<f?-1:h>f?1:0};a.prototype.Es=function(){this.Lg=!1};a.prototype.ln=function(){return this.nj};a.prototype.EK=function(a,d){this.kl=a;this.Ar=d;this.$t=
this.Cp=this.Ut=this.Tt=-1};a.prototype.compare=function(a,d,b){if(this.Lg)return-1;a=a.ia(b);this.xn=b;return this.XF(d,d,a,a)};a.prototype.XF=function(a,d,b,e){var f;this.Cp==d?f=this.CB:(this.Cp=d,f=this.CB,this.CB.qb=a,this.oH(f,d,this.a.Cd.f,this.a.tf));var h;null==h&&(this.$t=e,h=this.ZI,this.ZI.qb=b,this.oH(h,e,this.a.Cd.f,this.a.tf));if(f.Fw||h.Fw)return this.mQ(d,e,f,h);if(f.qg.la<h.qg.ga)return-1;if(h.qg.la<f.qg.ga)return 1;a=f.Iw?1:0;a|=h.Iw?2:0;return 0==a?this.lQ(f,h):1==a?this.TF(f.xb,
h.xb):2==a?-1*this.TF(h.xb,f.xb):this.kQ(f.xb,h.xb)};return a}();e.lE=a})(u||(u={}));(function(e){var c=function(){function c(b,a){this.a=b;this.ta=a;this.Lg=!1;this.Cp=-1;this.qg=new e.yc;this.wr=new e.b;this.wr.Yc();this.Ce=new e.Hb;this.xn=-1;this.kB=1.7976931348623157E308}c.prototype.Es=function(){this.Lg=!1;this.kB=1.7976931348623157E308};c.prototype.Zh=function(b){this.wr.L(b)};c.prototype.compare=function(b,a){return this.YF(a,b.ia(a))};c.prototype.YF=function(b,a){var d=null!=this.a.jc(a);
d||(this.a.nd(a,this.Ce),this.qg.nC(this.Ce.ua,this.Ce.sa));if(d)throw e.g.X("not implemented");if(this.wr.x+this.ta<this.qg.ga)return-1;if(this.wr.x-this.ta>this.qg.la)return 1;if(this.Ce.ra==this.Ce.oa)return this.xn=b,this.Lg=!0,0;this.Ce.pJ();a=this.Ce.ec();d=new e.b;d.xc(this.Ce.Ac(),a);d.Tr();var f=new e.b;f.xc(this.wr,a);a=d.pi(f);a/=d.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Ce.ot(this.wr,this.ta)&&(d=Math.abs(a),d<this.kB&&(this.xn=b,this.kB=d),this.Lg=!0,d<.25*this.ta)?0:0>a?
-1:1};return c}();e.AN=c})(u||(u={}));(function(e){function c(b,a,d,f){d=new Float64Array(b.subarray(d,f));b.set(d,a)}var p=function(){function b(a){this.xa=this.ze=!1;this.f=[];var d=a;2>d&&(d=2);this.f=e.J.df(d,b.tb);this.size=a}b.prototype.rotate=function(a,d,f){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>f||a>f)throw e.g.F();a!=d&&f!=d&&(this.Xd(a,d-a,1),this.Xd(d,f-d,1),this.Xd(a,f-a,1))};b.yd=function(a,d){b.tb=d;a=new b(a);b.tb=0;return a};b.Dk=function(a){var d=new b(0);d.f=a.f.slice(0);
d.size=a.size;return d};b.N=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.TW=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=
d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>
a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=d;this.f=f}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=function(a,d,f){for(var b=this.size;d<b&&d<f;d++)a=e.J.$i(this.read(d));return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var h=
this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Sq=function(a,d,f,b,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;q-=a;for(var h=this.f.slice(a,a+q),c=0;c<q;c++)this.f[a+2*b+c]=h[c];if(k)for(k=0;k<b;k++)q=d[f++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,h=b-1;k<b;++k)q=d[f+h],this.f[a++]=q.x,this.f[a++]=q.y,h--};b.prototype.Tk=function(a,d,f,b,
k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=b%q))throw e.g.F();var h=this.size-r;h<b&&this.resize(this.size+b-h);for(h=0;h<r-a;h++)this.f[a+b+h]=this.f[a+h];this.f==d.f&&a<f&&(f+=b);if(k)for(h=0;h<b;h++)this.f[h+a]=d.f[f+h];else for(k=b,r=0;r<b;r+=q)for(k-=q,h=0;h<q;h++)this.f[a+r+h]=d.f[f+k+h]};b.prototype.Zj=function(a,d,f,b){if(this.xa)throw e.g.Da();b-=a;for(var h=this.f.slice(a,a+b),q=0;q<b;q++)this.f[a+f+q]=h[q];for(b=0;b<f;b++)this.f[a+b]=d};b.prototype.dh=function(a,d,f){if(this.xa)throw e.g.Da();
for(var b=this.f.slice(a,a+(f-a)),k=0;k<f-a;k++)this.f[k+a+2]=b[k];this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,d,f,b,k){if(0>a||0>d||0>b)throw e.g.F();if(f.length<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),k)for(k=0;k<d;k++)this.f[a+k]=f[b+k];else for(k||(a+=d-1),d=b+d;b<d;b++)this.f[a]=f[b],a--};b.prototype.no=function(a,d,f,b,k,q){if(0>a||0>d||0>b)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(f.size<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+
a),f==this)this.Mj(a,d,b,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=f.f[b],a++,b++;else if(b=b+d-q,1==q)for(k=0;k<d;k++)this.f[a]=f.f[b],a++,b--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var h=0;h<q;h++)this.f[a+h]=f.f[b+h];a+=q;b-=q}};b.prototype.Hk=function(a,d,f){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<f-(a+d)){f-=a+d;for(var b=this.f.slice(a+d,a+f+d),k=0;k<f;k++)this.f[a+k]=b[k]}this.size-=d};b.prototype.Xd=function(a,d,f){if(this.xa)throw e.g.Da();if(1>f||0!=d%f)throw e.g.Da();
for(var b=d>>1,k=0;k<b;k+=f){d-=f;for(var q=0;q<f;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=r}}};b.prototype.$h=function(a,d,f){if(0>d||0>f||0>d||f+d>this.size)throw e.g.F();for(var b=d;b<d+f;b++)this.f[b]=a};b.prototype.Mj=function(a,d,f,b,k){if(!b||a!=f){for(var h=0;h<d;h++)this.f[a+h]=this.f[f+h];if(!b)for(f=a,a=a+d-k,b=0,d=e.J.truncate(d/2);b<d;b++){for(h=0;h<k;h++){var r=this.f[f+h];this.f[f+h]=this.f[a+h];this.f[a+h]=r}f+=k;a-=k}}};b.prototype.js=function(a,d,f,b,k){if(0>
a||0>d||0>b)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=b;b<d;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=k};b.prototype.hy=function(a,d,f,b,k){if(0>a||0>d||0>b)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=b;b<d;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=k};b.prototype.rl=function(a,d,f,b,k){if(0>a||0>d||0>b||this.size<d+a)throw e.g.F();if(k)for(k=0;k<d;k++)f[b+k]=this.f[a+k];else for(b=b+d-1;a<d;a++)f[b]=
this.f[a],b--};b.prototype.Hx=function(a,d,f,b,k){if(0>a||0>d||0>b||this.size<(d>>1)+a)throw e.g.F();if(0!=d)for(k||(a+=d-1),k=k?2:-2,d=b+d;b<d;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,f){var b=this.f.slice(0,a),k=this.f.slice(d);a=this.f.slice(a,d).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(k))};b.prototype.ti=function(){return 1};b.tb=
0;return b}();e.Pd=p;p=function(){function b(a){this.xa=this.ze=!1;this.f=null;var d=a;2>d&&(d=2);this.f=new Float64Array(d);this.size=a}b.prototype.rotate=function(a,d,f){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>f||a>f)throw e.g.F();a!=d&&f!=d&&(this.Xd(a,d-a,1),this.Xd(d,f-d,1),this.Xd(a,f-a,1))};b.yd=function(a,d){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==d)for(var k=0;k<a;k++)h[k]=d;return f};b.Dk=function(a){var d=new b(0);d.f=new Float64Array(a.f);d.size=a.size;return d};b.N=function(a,
d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>d&&(d=2);f.f=new Float64Array(d);f.f.set(a.f.length<=d?a.f:a.f.subarray(0,d),0);return f};b.prototype.zb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=
function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");
if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=d}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=
function(a,d,f){for(var b=this.size;d<b&&d<f;d++)a=e.J.$i(this.read(d));return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var h=this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Tk=function(a,d,f,b,k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=b%q))throw e.g.F();var h=this.size-r;h<b&&this.resize(this.size+b-h);c(this.f,a+b,a,a+(r-a));this.f==d.f&&a<f&&(f+=b);if(k)this.f.set(d.f.subarray(f,
f+b),a);else for(k=b,r=0;r<b;r+=q)for(k-=q,h=0;h<q;h++)this.f[a+r+h]=d.f[f+k+h]};b.prototype.Sq=function(a,d,f,b,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;c(this.f,a+2*b,a,a+(q-a));if(k)for(k=0;k<b;k++)q=d[f++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var h=b-1;k<b;++k)q=d[f+h],this.f[a++]=q.x,this.f[a++]=q.y,h--}};b.prototype.Zj=function(a,d,f,b){if(this.xa)throw e.g.Da();b-=a;c(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+
b]=d};b.prototype.dh=function(a,d,f){if(this.xa)throw e.g.Da();c(this.f,a+2,a,a+(f-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,d,f,b,k){if(0>a||0>d||0>b)throw e.g.F();if(f.length<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),k)this.f.set(f.subarray(b,d),a);else for(k||(a+=d-1),d=b+d;b<d;b++)this.f[a]=f[b],a--};b.prototype.no=function(a,d,f,b,k,q){if(0>a||0>d||0>b)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(f.size<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&
this.resize(d+a),f==this)this.Mj(a,d,b,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=f.f[b],a++,b++;else if(b=b+d-q,1==q)for(k=0;k<d;k++)this.f[a]=f.f[b],a++,b--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var h=0;h<q;h++)this.f[a+h]=f.f[b+h];a+=q;b-=q}};b.prototype.Hk=function(a,d,f){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<f-(a+d)&&c(this.f,a,a+d,a+(f-(a+d))+d);this.size-=d};b.prototype.Xd=function(a,d,f){if(this.xa)throw e.g.Da();if(1>f||0!=d%f)throw e.g.Da();for(var b=d>>1,k=0;k<
b;k+=f){d-=f;for(var q=0;q<f;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=r}}};b.prototype.$h=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Mj=function(a,d,b,h,k){if(!h||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!h)for(b=a,a=a+d-k,h=0,d=e.J.truncate(d/2);h<d;h++){for(var f=0;f<k;f++){var r=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=r}b+=k;a-=k}};b.prototype.js=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();
if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<d;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=k};b.prototype.hy=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<d;h++)this.f[a]=b[h][0],this.f[a+1]=b[h][1],a+=k};b.prototype.rl=function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<d+a)throw e.g.F();if(k)for(k=0;k<d;k++)b[h+k]=this.f[a+k];else for(h=h+d-1;a<d;a++)b[h]=this.f[a],h--};b.prototype.Hx=
function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<(d>>1)+a)throw e.g.F();if(0!=d)for(k||(a+=d-1),k=k?2:-2,d=h+d;h<d;h++)b[h][0]=this.f[a],b[h][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,b){Array.prototype.sort.call(this.f.subarray(a,d),b)};b.prototype.ti=function(){return 1};return b}();e.zL=p})(u||(u={}));!0===u.Yh.Gm&&!0===u.Yh.jw&&(u.Pd=u.zL);(function(e){function c(b,a,d,f){d=new Int32Array(b.subarray(d,
f));b.set(d,a)}e.dZ=function(){return function(){this.random=1973}}();var p=function(){function b(a){this.xa=this.ze=!1;this.f=[];var d=a;2>d&&(d=2);this.f=this.f=e.J.df(d,b.tb);this.size=a}b.prototype.rotate=function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Xd(a,d-a,1),this.Xd(d,b-d,1),this.Xd(a,b-a,1))};b.yd=function(a,d){b.tb=d;a=new b(a);b.tb=0;return a};b.Dk=function(a){var d=new b(0);d.f=a.f.slice(0);d.size=a.size;return d};b.N=function(a,
d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=
function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),h=this.f.length;h<a;h++)b[h]=
d;this.f=b}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.bh(this.read(d),a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var h=this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=
a.read(d))return!1;return!0};b.prototype.Tk=function(a,d,b,h,k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=h%q))throw e.g.F();for(var f=0;f<r-a;f++)this.f[a+h+f]=this.f[a+f];this.f==d.f&&a<b&&(b+=h);if(k)for(f=0;f<h;f++)this.f[f+a]=d.f[b+f];else for(k=h,r=0;r<h;r+=q)for(k-=q,f=0;f<q;f++)this.f[a+r+f]=d.f[b+k+f]};b.prototype.Sq=function(a,d,b,h,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;q-=a;for(var f=this.f.slice(a,a+
q),c=0;c<q;c++)this.f[a+2*h+c]=f[c];if(k)for(k=0;k<h;k++)q=d[b++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,f=h-1;k<h;++k)q=d[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--};b.prototype.Zj=function(a,d,b,h){if(this.xa)throw e.g.Da();h-=a;for(var f=this.f.slice(a,a+h),q=0;q<h;q++)this.f[a+b+q]=f[q];for(h=0;h<b;h++)this.f[a+h]=d};b.prototype.dh=function(a,d,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=f[k];this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,
d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(b.length<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),k)for(k=0;k<d;k++)this.f[a+k]=b[h+k];else for(k||(a+=d-1),d=h+d;h<d;h++)this.f[a]=b[h],a--};b.prototype.no=function(a,d,b,h,k,q){if(0>a||0>d||0>h)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(b.size<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Mj(a,d,h,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h++;else if(h=h+d-q,1==q)for(k=0;k<d;k++)this.f[a]=
b.f[h],a++,h--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[h+f];a+=q;h-=q}};b.prototype.Hk=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<b-(a+d)){b-=a+d;for(var f=this.f.slice(a+d,a+b+d),k=0;k<b;k++)this.f[a+k]=f[k]}this.size-=d};b.prototype.Xd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,k=0;k<f;k+=b){d-=b;for(var q=0;q<b;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=
r}}};b.prototype.$h=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Mj=function(a,d,b,h,k){if(!h||a!=b){for(var f=0;f<d;f++)this.f[a+f]=this.f[b+f];if(!h)for(b=a,a=a+d-k,h=0,d=e.J.truncate(d/2);h<d;h++){for(f=0;f<k;f++){var r=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=r}b+=k;a-=k}}};b.prototype.js=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<
d;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=k};b.prototype.rl=function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<d+a)throw e.g.F();if(k)for(k=0;k<d;k++)b[h+k]=this.f[a+k];else for(h=h+d-1;a<d;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,b){var f=this.f.slice(0,a),k=this.f.slice(d);a=this.f.slice(a,d).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(k))};b.prototype.ti=function(){return 2};
b.prototype.Ec=function(){return this.f[this.size-1]};b.prototype.Mf=function(){this.resize(this.size-1)};b.prototype.qK=function(a){this.f[this.size-1]=a};b.prototype.vJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Pv=function(a){for(var d=0,b=this.size;d<b;d++)if(this.f[d]==a)return d;return-1};b.prototype.qA=function(a){return 0<=this.Pv(a)};b.tb=0;return b}();e.ha=p;p=function(){function b(a){this.xa=this.ze=!1;this.f=null;var d=a;2>d&&(d=2);
this.f=new Int32Array(d);this.size=a}b.prototype.rotate=function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Xd(a,d-a,1),this.Xd(d,b-d,1),this.Xd(a,b-a,1))};b.yd=function(a,d){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==d)for(var k=0;k<a;k++)h[k]=d;return f};b.Dk=function(a){var d=new b(0);d.f=new Int32Array(a.f);d.size=a.size;return d};b.N=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>d&&(d=2);f.f=new Int32Array(d);f.f.set(a.f.length<=
d?a.f:a.f.subarray(0,d),0);return f};b.prototype.zb=function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=
d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>
this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,h=this.size;h<a;h++)b[h]=d}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.bh(this.read(d),a);return a};b.prototype.Eb=function(a,
d,f){if(null==a||!(a instanceof b))return!1;var h=this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Tk=function(a,d,b,h,k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=h%q))throw e.g.F();c(this.f,a+h,a,a+(r-a));this.f==d.f&&a<b&&(b+=h);if(k)this.f.set(d.f.subarray(b,b+h),a);else for(k=h,r=0;r<h;r+=q){k-=q;for(var f=0;f<q;f++)this.f[a+r+f]=d.f[b+k+f]}};b.prototype.Sq=function(a,d,b,h,k,q){if(this.xa)throw e.g.Da();0>q&&(q=
this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;c(this.f,a+2*h,a,a+(q-a));if(k)for(k=0;k<h;k++)q=d[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var f=h-1;k<h;++k)q=d[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--}};b.prototype.Zj=function(a,d,b,h){if(this.xa)throw e.g.Da();h-=a;c(this.f,a+h,a,a+h);for(h=0;h<b;h++)this.f[a+h]=d};b.prototype.dh=function(a,d,b){if(this.xa)throw e.g.Da();c(this.f,a+2,a,a+(b-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,d,
b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(b.length<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),k)this.f.set(b.subarray(h,d),a);else for(k||(a+=d-1),d=h+d;h<d;h++)this.f[a]=b[h],a--};b.prototype.no=function(a,d,b,h,k,q){if(0>a||0>d||0>h)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(b.size<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Mj(a,d,h,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h++;else if(h=h+d-q,1==q)for(k=0;k<d;k++)this.f[a]=b.f[h],
a++,h--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[h+f];a+=q;h-=q}};b.prototype.Hk=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<b-(a+d)&&c(this.f,a,a+d,a+(b-(a+d))+d);this.size-=d};b.prototype.Xd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,k=0;k<f;k+=b){d-=b;for(var q=0;q<b;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=r}}};b.prototype.$h=function(a,d,b){if(0>d||0>b||0>
d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Mj=function(a,d,b,h,k){if(!h||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!h)for(b=a,a=a+d-k,h=0,d=e.J.truncate(d/2);h<d;h++){for(var f=0;f<k;f++){var r=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=r}b+=k;a-=k}};b.prototype.js=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<d;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=k};b.prototype.rl=
function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<d+a)throw e.g.F();if(k)for(k=0;k<d;k++)b[h+k]=this.f[a+k];else for(h=h+d-1;a<d;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,f){10>d-a?b.Gj(this.f,a,d,f):b.Yg(this.f,a,d-1,f)};b.prototype.ti=function(){return 2};b.prototype.Ec=function(){return this.f[this.size-1]};b.prototype.Mf=function(){this.resize(this.size-1)};b.prototype.qK=function(a){this.f[this.size-
1]=a};b.prototype.vJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Pv=function(a){for(var d=0,b=this.size;d<b;d++)if(this.f[d]==a)return d;return-1};b.prototype.qA=function(a){return 0<=this.Pv(a)};b.Gj=function(a,d,b,h){for(var f=d;f<b;f++){for(var e=a[f],r=f-1;r>=d&&0<h(a[r],e);)a[r+1]=a[r],r--;a[r+1]=e}};b.Ug=function(a,d,b){var f=a[b];a[b]=a[d];a[d]=f};b.Yg=function(a,d,f,h){if(!(d>=f))for(;;){if(9>f-d){b.Gj(a,d,f+1,h);break}var k=a[d];b.Ug(a,
d,f);for(var e=d,r=d;r<f;r++)0>=h(a[r],k)&&(b.Ug(a,e,r),e+=1);b.Ug(a,e,f);e-d<f-e?(b.Yg(a,d,e-1,h),d=e+1):(b.Yg(a,e+1,f,h),f=e-1)}};return b}();e.iy=p})(u||(u={}));!0===u.Yh.Gm&&(u.ha=u.iy);(function(e){function c(b,a,d,f){d=new Int8Array(b.subarray(d,f));b.set(d,a)}var p=function(){function b(a){this.xa=this.ze=!1;this.f=[];var d=a;2>d&&(d=2);this.f=e.J.df(d,b.tb);this.size=a}b.prototype.rotate=function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Xd(a,
d-a,1),this.Xd(d,b-d,1),this.Xd(a,b-a,1))};b.yd=function(a,d){b.tb=d;a=new b(a);b.tb=0;return a};b.Dk=function(a){var d=new b(0);d.f=a.f.slice(0);d.size=a.size;return d};b.N=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();
this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*
a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),h=this.f.length;h<a;h++)b[h]=d;this.f=b}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.bh(this.read(d),
a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var h=this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Tk=function(a,d,b,h,k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=h%q))throw e.g.F();for(var f=0;f<r-a;f++)this.f[a+h+f]=this.f[a+f];this.f==d.f&&a<b&&(b+=h);if(k)for(f=0;f<h;f++)this.f[f+a]=d.f[b+f];else for(k=h,r=0;r<h;r+=q)for(k-=q,f=0;f<q;f++)this.f[a+r+f]=d.f[b+k+f]};b.prototype.Sq=
function(a,d,b,h,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;q-=a;for(var f=this.f.slice(a,a+q),c=0;c<q;c++)this.f[a+2*h+c]=f[c];if(k)for(k=0;k<h;k++)q=d[b++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,f=h-1;k<h;++k)q=d[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--};b.prototype.Zj=function(a,d,b,h){if(this.xa)throw e.g.Da();h-=a;for(var f=this.f.slice(a,a+h),q=0;q<h;q++)this.f[a+b+q]=f[q];for(h=0;h<b;h++)this.f[a+h]=d};b.prototype.dh=
function(a,d,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=f[k];this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(b.length<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),k)for(k=0;k<d;k++)this.f[a+k]=b[h+k];else for(k||(a+=d-1),d=h+d;h<d;h++)this.f[a]=b[h],a--};b.prototype.no=function(a,d,b,h,k,q){if(0>a||0>d||0>h)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(b.size<h+d)throw e.g.F();
if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Mj(a,d,h,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h++;else if(h=h+d-q,1==q)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[h+f];a+=q;h-=q}};b.prototype.Hk=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<b-(a+d)){b-=a+d;for(var f=this.f.slice(a+d,a+b+d),k=0;k<b;k++)this.f[a+k]=f[k]}this.size-=d};b.prototype.Xd=function(a,d,b){if(this.xa)throw e.g.Da();
if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,k=0;k<f;k+=b){d-=b;for(var q=0;q<b;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=r}}};b.prototype.$h=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Mj=function(a,d,b,h,k){if(!h||a!=b){for(var f=0;f<d;f++)this.f[a+f]=this.f[b+f];if(!h)for(b=a,a=a+d-k,h=0,d=e.J.truncate(d/2);h<d;h++){for(f=0;f<k;f++){var r=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=r}b+=k;a-=k}}};b.prototype.js=
function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<d;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=k};b.prototype.rl=function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<d+a)throw e.g.F();if(k)for(k=0;k<d;k++)b[h+k]=this.f[a+k];else for(h=h+d-1;a<d;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,b){var f=this.f.slice(0,
a),k=this.f.slice(d);a=this.f.slice(a,d).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(k))};b.prototype.ti=function(){return 1};b.prototype.lC=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=d};b.prototype.dz=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~d};b.tb=0;return b}();e.Km=p;p=function(){function b(a){this.f=null;var d=a;2>d&&(d=2);this.f=new Int8Array(d);this.size=a}b.prototype.rotate=
function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Xd(a,d-a,1),this.Xd(d,b-d,1),this.Xd(a,b-a,1))};b.yd=function(a,d){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==d)for(var k=0;k<a;k++)h[k]=d;return f};b.Dk=function(a){var d=new b(0);d.f=new Int8Array(a.f);d.size=a.size;return d};b.N=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>d&&(d=2);f.f=new Int8Array(d);f.f.set(a.f.length<=d?a.f:a.f.subarray(0,d),0);return f};b.prototype.zb=
function(a){0>=a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.mo=function(a,d){if(this.xa)throw e.g.Da();
this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):
5*a/4),b=new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,h=this.size;h<a;h++)b[h]=d}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,d){this.write(a,d)};b.prototype.Ck=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.bh(this.read(d),a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var h=
this.size,k=a.size;if(f>h||f>k&&h!=k)return!1;for(f>h&&(f=h);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Tk=function(a,d,b,h,k,q,r){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=h%q))throw e.g.F();c(this.f,a+h,a,a+(r-a));this.f==d.f&&a<b&&(b+=h);if(k)this.f.set(d.f.subarray(b,b+h),a);else for(k=h,r=0;r<h;r+=q){k-=q;for(var f=0;f<q;f++)this.f[a+r+f]=d.f[b+k+f]}};b.prototype.Zj=function(a,d,b,h){if(this.xa)throw e.g.Da();h-=a;c(this.f,a+h,a,a+h);for(h=0;h<b;h++)this.f[a+h]=d};b.prototype.Sq=
function(a,d,b,h,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;c(this.f,a+2*h,a,a+(q-a));if(k)for(k=0;k<h;k++)q=d[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var f=h-1;k<h;++k)q=d[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--}};b.prototype.dh=function(a,d,b){if(this.xa)throw e.g.Da();c(this.f,a+2,a,a+(b-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.hs=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(b.length<h+d)throw e.g.F();
if(0!=d)if(this.size<d+a&&this.resize(d+a),k)this.f.set(b.subarray(h,d),a);else for(k||(a+=d-1),d=h+d;h<d;h++)this.f[a]=b[h],a--};b.prototype.no=function(a,d,b,h,k,q){if(0>a||0>d||0>h)throw e.g.F();if(!k&&(0>=q||0!=d%q))throw e.g.F();if(b.size<h+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Mj(a,d,h,k,q);else if(k)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h++;else if(h=h+d-q,1==q)for(k=0;k<d;k++)this.f[a]=b.f[h],a++,h--;else for(k=0,d=e.J.truncate(d/q);k<d;k++){for(var f=0;f<
q;f++)this.f[a+f]=b.f[h+f];a+=q;h-=q}};b.prototype.Hk=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<b-(a+d)&&c(this.f,a,a+d,a+(b-(a+d))+d);this.size-=d};b.prototype.Xd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,k=0;k<f;k+=b){d-=b;for(var q=0;q<b;q++){var r=this.f[a+k+q];this.f[a+k+q]=this.f[a+d+q];this.f[a+d+q]=r}}};b.prototype.$h=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=
a};b.prototype.Mj=function(a,d,b,h,k){if(!h||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!h)for(b=a,a=a+d-k,h=0,d=e.J.truncate(d/2);h<d;h++){for(var f=0;f<k;f++){var r=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=r}b+=k;a-=k}};b.prototype.js=function(a,d,b,h,k){if(0>a||0>d||0>h)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),k||(a+=d-1<<1),k=k?2:-2,d+=h;h<d;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=k};b.prototype.rl=function(a,d,b,h,k){if(0>a||0>d||0>h||this.size<d+a)throw e.g.F();
if(k)for(k=0;k<d;k++)b[h+k]=this.f[a+k];else for(h=h+d-1;a<d;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,d,b){d=this.f.subarray(a,d);Array.prototype.sort.call(d,b);this.f.set(d,a)};b.prototype.lC=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=d};b.prototype.dz=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~d};b.prototype.ti=function(){return 1};return b}();e.jy=p})(u||(u={}));!0===u.Yh.Gm&&(u.Km=u.jy);(function(e){var c=function(){function c(){}c.vq=function(b,a){return e.Km.yd(b,a)};c.$m=function(b,a){return e.Pd.yd(b,a)};c.nz=function(b,a,d){switch(b){case 1:b=e.Pd.yd(a,d);break;case 2:b=e.ha.yd(a,d);break;case 4:b=e.Km.yd(a,d);break;default:throw e.g.za();}return b};c.oz=function(b,a){return c.nz(e.ma.ti(b),a*e.ma.Xa(b),e.ma.be(b))};c.wh=function(b,a){return e.ha.yd(b,a)};c.LB=function(b){var a,
d=[];for(a=0;a<b;a++)d.push(null);return d};return c}();e.Tc=c})(u||(u={}));(function(e){var c=function(){function c(){}c.vq=function(b,a){return e.jy.yd(b,a)};c.$m=function(b,a){return e.Pd.yd(b,a)};c.nz=function(b,a,d){switch(b){case 1:b=e.Pd.yd(a,d);break;case 2:b=e.iy.yd(a,d);break;case 4:b=e.jy.yd(a,d);break;default:throw e.g.za();}return b};c.oz=function(b,a){return e.Tc.nz(e.ma.ti(b),a*e.ma.Xa(b),e.ma.be(b))};c.wh=function(b,a){return e.iy.yd(b,a)};c.LB=function(b){var a,d=[];for(a=0;a<b;a++)d.push(null);
return d};return c}();e.AL=c})(u||(u={}));!0===u.Yh.Gm&&(u.Tc=u.AL);(function(e){e.da=function(){return function(e){void 0===e&&(e=0);this.j=e}}()})(u||(u={}));(function(e){var c=function(){function c(){}c.bind=function(b){e.Uc=b.PeDefs;e.Qf=b.PeFactory;e.WD=b.PeVertcs;e.TD=b.PeCoordsys;e.fi=b.PeCSTransformations;e.VD=b.PeGTTransformations;e.bN=b.PeGeogtran;e.aN=b.PeFactoryCodechange;e.UD=b.PeGCSExtent;e.Ag=b.PePCSInfo;e.cN=b.PeHorizon;e.TD=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;e.Qf.initialize(null);e.sy=b.PeGTlistExtendedEntry;c.JN=e.Qf.fromString(e.Uc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};c.D_=function(){};c.JN=null;return c}();e.dN=c;e.Qf=null;e.WD=null;e.TD=null;e.cN=null;e.Ag=null;e.fq=null;e.sy=null;e.UD=null;e.aN=null;e.bN=null;e.Uc=null;e.VD=null;e.fi=null})(u||(u={}));(function(e){var c=function(){function b(){}b.Bb=function(a,d){return 0<=d?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Ri=function(a){return 3.552713678800501E-15>a};b.SD=function(a,d,f){return b.K(a-
d)<=f*(1+(b.K(a)+b.K(d))/2)};b.W=function(a,d){return b.SD(a,d,3.552713678800501E-15)};b.wO=function(a){return 3.552713678800501E-15>=b.K(a)};b.wd=function(a){return b.wO(a)};return b}();e.l=c;var p=function(){function b(){}b.Zp=function(a,d){a=c.K(a);d=c.K(d);var b=0;0!=a+d&&(a>d?(b=d/a,b=a*Math.sqrt(1+b*b)):(b=a/d,b=d*Math.sqrt(1+b*b)));return b};b.Nr=function(a,d,f,h,k){for(var e=[0,0,0],r=[0,0,0],v=0;2>=v;v++)d[v]-=a[v],f[v]-=d[v];f=e[1]*r[2]-e[2]*r[1];d=e[2]*r[0]-e[0]*r[2];e=e[0]*r[1]-e[1]*r[0];
a=-1*(f*a[0]+d*a[1]+e*a[2]);h[0]=f;h[1]=d;h[2]=e;h[3]=a;r=b.lo(h);h[0]/=r;h[1]/=r;h[2]/=r;h[3]/=r;0!=k&&(r=c.wd(e)?c.wd(a)?c.Bb(1,d):-c.Bb(1,a):c.Bb(1,e),r*=c.Bb(1,k),h[0]*=r,h[1]*=r,h[2]*=r,h[3]*=r)};b.fy=function(a,d,b){b[0]=a[1]*d[2]-d[1]*a[2];b[1]=a[2]*d[0]-d[2]*a[0];b[2]=a[0]*d[1]-d[0]*a[1]};b.Gu=function(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]};b.lo=function(a){return b.Zp(b.Zp(a[0],a[1]),a[2])};b.Fk=function(a,d,f,h,k,e,r,c){a=b.n(a,d,f);var q=Math.cos(f);e.j=(a+k)*q*Math.cos(h);r.j=(a+k)*
q*Math.sin(h);c.j=(a*(1-d)+k)*Math.sin(f)};b.GP=function(a,d,f,h,k,e,r){var q=b.Zp(d,f),I=1*Math.sqrt(1-a),p=I/1;if(c.W(q,0))e.j=0,k.j=c.Bb(1.570796326794897,h),r.j=c.K(h)-I;else{e.j=Math.atan2(f,d);f=Math.atan2(1*h,I*q);e=Math.cos(f);var H=Math.sin(f);d=I*a/(1-a);a*=1;f=Math.atan2(h+d*H*H*H,q-a*e*e*e);3.141592653589793<c.K(f)&&(f=c.Bb(3.141592653589793,f)-f);f=Math.atan(p*Math.tan(f));H=Math.sin(f);e=Math.cos(f);k.j=Math.atan2(h+d*H*H*H,q-a*e*e*e);1.570796326794897<c.K(k.j)&&(k.j=c.Bb(3.141592653589793,
k.j)-k.j);f=Math.atan(p*Math.tan(k.j));H=Math.sin(f);e=Math.cos(f);r.j=(h-I*H)*Math.sin(k.j)+(q-1*e)*Math.cos(k.j)}};b.n=function(a,d,b){b=Math.sin(b);return a/Math.sqrt(1-d*b*b)};b.fu=function(a,d){return Math.atan2(Math.sin(d)*(1-a),Math.cos(d))};b.mk=function(a,d){return Math.atan2(Math.sin(d),Math.cos(d)*(1-a))};b.Ep=function(a,d){if(c.Ri(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var f,h,k,e,r,v,I,p,H;if(.006884661117170036>a){e=Math.sqrt(1-a);r=(1-e)/(1+e);v=r*r;I=r*v;p=r*I;f=r*p;H=r*
f;h=r*H;k=1.572916666666667*I-3.2578125*f+4.295068359375*h;e=2.142578125*p-6.071484375*H;a=3.129296875*f-11.249837239583334*h;var g=4.775276692708333*H,E=7.958636765252976*h,l=Math.cos(2*d);return d+Math.sin(2*d)*(1.5*r-.84375*I+.525390625*f-.2688395182291667*h-k+a-E+l*(2*(1.3125*v-1.71875*p+1.650146484375*H)-4*e+6*g+l*(4*k-12*a+24*E+l*(8*e-32*g+l*(16*a-80*E+l*(32*g+64*l*E))))))}e=1-a;r=a/2;v=c.K(d);I=v*b.Ru(a)/(1.570796326794897*e);p=9999;H=v;for(v=0;1E-16<p&&50>v;v++)h=b.Hm(a,H),f=(b.xE(H,a)-r*
Math.sin(2*H)/h)/e-I,h=1/(h*h*h),k=f/h,f=H-k,p=c.K(k),H=f;return 0<=d?H:-H};b.UW=function(a,d){return c.Ri(d)?a:a*b.Ru(d)/1.570796326794897};b.ca=function(a){a=b.sE(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>c.K(a)||c.W(c.K(a),3.141592653589793)?a:a-6.283185307179586};b.sE=function(a,d){return a-Math.floor(a/d)*d};b.Wg=function(a,d){if(.006884661117170036>d){d=Math.sqrt(1-d);d=(1-d)/(1+d);var f=d*d,h=f*f;return a/(1+d)*(1+.25*f+.015625*h+.00390625*f*h)*1.570796326794897}return a*
b.Ru(d)};b.Mr=function(a,d){var f=c.Bb(1,Math.sin(d));d=c.K(b.sE(d,3.141592653589793));d=1.570796326794897>=d?d:3.141592653589793-d;var h;c.W(d,1.570796326794897)?h=d:h=Math.atan(Math.sqrt(1-a)*Math.tan(d));return h*f};b.q=function(a,d,f){if(.006884661117170036>d){d=Math.sqrt(1-d);d=(1-d)/(1+d);var h=d*d,k=d*h,e=d*k,r=d*e,c=d*r,I=d*c,p=-.7291666666666666*k+.2278645833333333*r+.03987630208333334*I,H=.615234375*e-.21533203125*c,g=-.54140625*r+.20302734375*I,E=.48876953125*c,l=-.4488699776785715*I,m=
Math.cos(2*f);return a/(1+d)*((1+.25*h+.015625*e+.00390625*c)*f+Math.sin(2*f)*(-1.5*d+.1875*k+.0234375*r+.00732421875*I-p+g-l+m*(2*(.9375*h-.234375*e-.03662109375*c)-4*H+6*E+m*(4*p-12*g+24*l+m*(8*H-32*E+m*(16*g-80*l+m*(32*E+64*m*l)))))))}return a*(b.xE(f,d)-.5*d*Math.sin(2*f)/b.Hm(d,f))};b.Hm=function(a,d){d=Math.sin(d);return Math.sqrt(1-a*d*d)};b.Ru=function(a){return c.SD(a,1,2.220446049250313E-16)?1:1>a?b.mv(0,1-a)-a/3*b.Hu(0,1-a):NaN};b.xE=function(a,d){var f=c.Bb(1,a);a=c.K(a);var h=Math.floor(a/
1.570796326794897),k;if(1<d)k=0==a?0:NaN;else if(c.wd(h))k=b.sin(a),k=k*b.mv(1-k*k,1-d*k*k)-d/3*k*k*k*b.Hu(1-k*k,1-d*k*k);else{k=e.J.truncate(h%2);var q=b.Ru(d);0<k?(k=Math.sin(1.570796326794897*(h+1)-a),k=k*b.mv(1-k*k,1-d*k*k)-d/3*k*k*k*b.Hu(1-k*k,1-d*k*k),k=q*(h+1)-k):(k=Math.sin(a-1.570796326794897*h),k=k*b.mv(1-k*k,1-d*k*k)-d/3*k*k*k*b.Hu(1-k*k,1-d*k*k),k=q*h+k)}return k*f};b.sin=function(a){a=b.ca(a);var d=c.Bb(1,a);a=c.K(a);return c.W(a,3.141592653589793)?0:c.W(a,1.570796326794897)?1*d:Math.sin(a)*
d};b.Hu=function(a,d){for(var b=1,h=0,k=1,e,r,v,I;;){e=.2*(a+d+3*b);r=(e-a)/e;v=(e-d)/e;I=(e-b)/e;if(1E-4>c.K(r)&&1E-4>c.K(v)&&1E-4>c.K(I))break;I=Math.sqrt(d);e=Math.sqrt(b);I=Math.sqrt(a)*(I+e)+I*e;h+=k/(e*(b+I));k*=.25;a=.25*(a+I);d=.25*(d+I);b=.25*(b+I)}a=r*v;b=I*I;d=a-b;b=a-6*b;r=b+d+d;return 3*h+k*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*I*r)+I*(.1666666666666667*r+I*(-.4090909090909091*d+.1153846153846154*I*a)))/(e*Math.sqrt(e))};b.mv=function(a,d){for(var b,h,k,e,r=
1;;r=.25*(r+b)){b=(a+d+r)/3;h=2-(b+a)/b;k=2-(b+d)/b;e=2-(b+r)/b;if(1E-4>c.K(h)&&1E-4>c.K(k)&&1E-4>c.K(e))break;b=Math.sqrt(d);h=Math.sqrt(r);b=Math.sqrt(a)*(b+h)+b*h;a=.25*(a+b);d=.25*(d+b)}a=h*k-e*e;d=h*k*e;return(1+(.04166666666666666*a-.1-.06818181818181818*d)*a+.07142857142857142*d)/Math.sqrt(b)};b.Cx=function(a,d){if(c.Ri(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var b,h,k;if(.006884661117170036>a){b=a*a;h=a*b;k=a*h;var e=a*k,r=a*e,v=a*r,I=-(.02708333333333333*h+.03430059523809524*k+.03149181547619048*
e+.02634359154541446*r+.02156896735835538*v),p=.007669890873015873*k+.01299603174603175*e+.0148051353064374*r+.01454454953803912*v,H=-(.002275545634920635*e+.004830845032667949*r+.006558395368616723*v),g=6.957236677288761E-4*r+.001775193002406544*v,E=-(2.17324089394402E-4*v),l=Math.cos(2*d);return d+Math.sin(2*d)*(-(.5*a+.2083333333333333*b+.09375*h+.04878472222222222*k+.02916666666666667*e+.01938905423280423*r+.01388255931712963*v)-I+H-E+l*(2*(.1041666666666667*b+.0875*h+.06050347222222222*k+.04151785714285714*
e+.02958958540013228*r+.02203667534722222*v)-4*p+6*g+l*(4*I-12*H+24*E+l*(8*p-32*g+l*(16*H-80*E+l*(32*g+64*l*E))))))}0==d||c.W(c.K(d),1.570796326794897)?b=d:(h=Math.sqrt(a),k=h*Math.sin(d),b=Math.tan(.7853981633974483+d/2)*Math.pow((1-k)/(1+k),h/2),b=2*Math.atan(b)-1.570796326794897);return b};b.YP=function(a,d){if(c.Ri(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var b,h;if(.006884661117170036>a){l=a*a;H=a*l;g=a*H;b=a*g;E=a*b;h=a*E;var k=.05833333333333333*H+.07232142857142858*g+.05634300595238095*
b+.0355325796406526*E+.020235546186067*h,e=.02653149801587302*g+.04379960317460317*b+.0429211791776896*E+.03255384637546096*h,r=.01294022817460318*b+.02668104344536636*E+.03155651254609588*h,v=.00659454790965208*E+.0163075268674227*h,I=.003463473736911237*h,p=Math.cos(2*d);return d+Math.sin(2*d)*(.5*a+.2083333333333333*l+.08333333333333333*H+.03611111111111111*g+.01875*b+.01195601851851852*E+.008863673941798942*h-k+r-I+p*(2*(.1458333333333333*l+.1208333333333333*H+.07039930555555556*g+.03616071428571429*
b+.01839451058201058*E+.01017113095238095*h)-4*e+6*v+p*(4*k-12*r+24*I+p*(8*e-32*v+p*(16*r-80*I+p*(32*v+64*p*I))))))}for(var H=Math.sqrt(a),g=H/2,E=Math.tan(.7853981633974483+d/2),k=0,e=1,l=d;0!=e;l=h)if(b=H*Math.sin(l),h=E*Math.pow((1+b)/(1-b),g),h=2*Math.atan(h)-1.570796326794897,k++,c.W(h,l)||3E4<k)e=0;return l};return b}();e.C=p})(u||(u={}));(function(e){var c=function(){function c(b){this.dm=this.Rt=null;this.vw=!1;this.pB=this.qB=0;this.nB=new e.b;this.AB=new e.b;this.ix=!1;this.kr=new e.h;this.vI=
this.fx=0;this.gx=null;this.cl=!1;this.yp=null;this.NA=0;this.rf=b;this.yt=e.Ib.iw(this.rf,0,!0);this.nB.Yc();this.AB.Yc();this.TI=NaN;var a=b.getCode();0<a?(this.nl=a,e.Qf.getCode(b)):this.nl=e.Qf.getCode(b);0>this.nl&&(this.nl=0);var d=this.rf.getType();this.iI=d==e.Uc.PE_TYPE_PROJCS?2:1;if(d==e.Uc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=d==e.Uc.PE_TYPE_GEOGCS?this.rf:this.rf.getGeogcs();d!=e.Uc.PE_TYPE_GEOGCS&&e.Qf.getCode(a);this.yp=b.getUnit();this.TI=
a.getPrimem().getLongitude();this.vI=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.pB=b;0!=(d&e.Uc.PE_TYPE_PROJCS)?(a=this.rf,this.qB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.rf.getUnit().getUnitFactor(),this.gx=e.Ag.generate(a,e.Ag.PE_PCSINFO_OPTION_NONE),this.cl=this.gx.isPannableRectangle(),this.NA=e.Ib.OO(this.gx.getCentralMeridian(),this.pB)):(this.ix=this.cl=!0,this.qB=0,d=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
d,this.NA=0);this.cl&&(this.dy(),this.hL(),this.iL(),this.gL(),this.NY(),this.OY())}c.prototype.Ys=function(){return this.nl};c.prototype.Wj=function(){return this.gx};c.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nl&&0==a.nl?b.yt===a.yt:!1};c.prototype.Ic=function(){return this.cl};c.prototype.Ch=function(b){b.I(this.mp)};c.prototype.bw=function(){return this.mp.o};c.prototype.aw=function(){return this.mp.v};c.prototype.$S=function(b){b.I(this.hx)};c.prototype.NY=function(){var b=this.rf.getType();
if(b==e.Uc.PE_TYPE_PROJCS){var b=this.rf,a=this.Wj().getCentralMeridian(),d=b.getGeogcs();if(null==d)throw e.g.X("internal error");d=1/d.getUnit().getUnitFactor()*Math.PI;a=[[a+d,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],d=b.getParameters()[e.Uc.PE_PARM_X0].getValue(),f=this.Ok(),b=new e.h;f.s(b);var f=Math.abs(a-d),a=f+d,d=-1*f+d,f=b.B,b=b.A,h=new e.h;h.I(d,b,a,f);null==this.mp&&(this.mp=h)}else if(b==e.Uc.PE_TYPE_GEOGCS)d=1/this.rf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-d,-d/2,d,d/2),null==
this.mp&&(this.mp=b);else throw e.g.X("internal error");};c.prototype.OY=function(){var b=this.rf.getType();if(b==e.Uc.PE_TYPE_PROJCS){var a=this.rf,b=this.Wj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,d=this.Ts(),f=new e.h;d.s(f);d=new e.h;d.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=d)}else if(b==e.Uc.PE_TYPE_GEOGCS)a=1/this.rf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw e.g.X("internal error");};c.prototype.ce=function(){return this.pB};c.prototype.hn=function(){return this.qB};c.prototype.Ts=function(){if(this.cl)return this.dm;var b=this.dm;if(null!=b)return b;this.dy();return this.dm};c.prototype.Us=function(){if(this.cl)return null;if(null!=this.dm)return this.VH;this.dy();return this.VH};c.prototype.dy=function(){if(this.rf.getType()==e.Uc.PE_TYPE_PROJCS){var b;b=this.rf;var a=b.getGeogcs(),d=b.horizonGcsGenerate();if(null!=d){var f=d[0].getNump(),
h=d[0].getKind();b=0<d[0].getInclusive();var k=this.ce(),q=90*k,r=360*k,c=370*k,I=180*k*e.Uc.PE_HORIZON_DELTA/Math.PI,p=new e.h,H=null;if(1<f)for(var g=1;g<f;g++)if(d[g].getKind()==e.Uc.PE_HORIZON_LINE){null==H&&(H=new e.Ua);var E=d[g].getCoord();H.$x(E[0][0],E[0][1]);H.ak(E[1][0],E[1][1])}if(h==e.Uc.PE_HORIZON_RECT)d=d[0].getCoord(),p.I(d[0][0],d[0][1]),p.Nb(d[1][0],d[1][1]),Math.abs(p.B-q)<1E-7*I&&(p.B=q),Math.abs(p.A+q)<1E-7*I&&(p.A=-q),p.O()>c&&(d=-400*k,p.I(d,p.A,d+5*r,p.B)),d=new e.di(p),null==
this.dm&&(this.dm=d,this.vw=b);else{c=new e.Ja;r=this.Wj().isGcsHorizonMultiOverlap();p=e.Su.hG(a,e.Tu.Integer64);if(r){c=new e.wM;I=e.ei.local().V(c,p,null);for(g=0;g<f;g++)if(d[g].getKind()==e.Uc.PE_HORIZON_POLY){a=d[g].getSize();k=d[g].getCoord();h=[];for(q=0;q<a;q++)h[q]=e.b.pa(k[q][0],k[q][1]);d[g].getInclusive();r&&(k=new e.Ja,k.Gl(h,a-1),c.wY(k),I.Oe())}c=I.next()}else for(g=0;g<f;g++)if(d[g].getKind()==e.Uc.PE_HORIZON_POLY){a=d[g].getSize();k=d[g].getCoord();r=[];for(q=0;q<a;q++)r[q]=e.b.pa(k[q][0],
k[q][1]);d[g].getInclusive();c.Gl(r,a-1)}b?e.wk.local().xo(c,p,1):e.eq.local().xo(c,p,1);e.Jj.local().xo(c,p,1);null==this.dm&&(this.dm=c,this.vw=b,this.VH=H)}}}};c.prototype.Uv=function(){if(this.cl)return this.vw;null==this.dm&&this.dy();return this.vw};c.prototype.hL=function(){if(2==this.iI){var b=this.rf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var d=b[0].getNump(),f=!1;if(a==e.Uc.PE_HORIZON_RECT)b=b[0].getCoord(),d=new e.h,d.I(b[0][0],b[0][1]),d.Nb(b[1][0],b[1][1]),
b=new e.di(d);else{a=-1;for(f=0;f<d;f++)b[f].getKind()==e.Uc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-1;b=b[a].getCoord();d=[];for(a=0;a<f;a++)d[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Gl(d,f);f=!0}this.Wj().isDensificationNeeded()&&(d=1E5*this.hn(),b=e.Pm.local().V(b,d,null));f&&(f=new e.di,b.Wn(f),b.ef(),b.Rb(),b.HS(),e.wk.local().xo(b,null,1));null==this.Rt&&(this.Rt=b)}}};c.prototype.Ok=function(){if(this.cl)return this.Rt;var b=this.Rt;if(null!=b)return b;this.hL();return this.Rt};c.prototype.iL=
function(){if(this.rf.getType()==e.Uc.PE_TYPE_PROJCS){var b=90*this.ce(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.rf,2,b);var a=this.Wj(),d=a.getNorthPoleLocation()!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(d&&this.nB.ja(b[0][0],b[0][1]),a&&this.AB.ja(b[1][0],b[1][1]))}this.ix=!0};c.prototype.gA=function(b,a){this.cl||this.ix||this.iL();b?a.L(this.AB):a.L(this.nB)};c.prototype.gL=function(){if(1==this.iI){var b=400*this.ce();this.kr.I(-b,-b,b,
b)}else b=e.Ag.generate(this.rf,e.Ag.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};c.prototype.zS=function(b){this.cl&&b.I(this.kr);this.kr.u()&&this.gL();b.I(this.kr)};c.prototype.kn=function(){return this.TI};c.prototype.ri=function(){return this.NA};c.prototype.Td=function(){return this.yp};c.prototype.Vs=function(){return this.vI};return c}();e.ZD=c})(u||(u={}));(function(e){var c=function(){function c(b){this.lV=
b;this.yt=e.Ib.iw(b,0,!0);var a=b.getCode();this.pt=0<a?a:e.Qf.getCode(b);0>this.pt&&(this.pt=0);this.yp=a=this.lV.getUnit();this.JI=1/a.getUnitFactor();e.Qf.getCode(b)}c.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.pt&&0==a.pt?b.yt===a.yt:!1};c.prototype.Ys=function(){return this.pt};return c}();e.hN=c})(u||(u={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,h,k,q,r){if(null!=k||null!=q||null!=r){f=e.C.ca(f);a=e.C.ca(a);d=e.C.ca(d);h=e.C.ca(h);1.570796326794897<e.l.K(d)&&
(d=e.l.Bb(3.141592653589793,d)-d,a=e.C.ca(a+3.141592653589793));1.570796326794897<e.l.K(h)&&(h=e.l.Bb(3.141592653589793,h)-h,f=e.C.ca(f+3.141592653589793));var c=e.C.ca(f-a);if(e.l.W(d,h)&&(e.l.W(a,f)||e.l.W(e.l.K(d),1.570796326794897)))null!=k&&(k.j=0),null!=q&&(q.j=0),null!=r&&(r.j=0);else{if(e.l.W(d,-h)){if(e.l.W(e.l.K(d),1.570796326794897)){null!=k&&(k.j=3.141592653589793*b);null!=q&&(q.j=0<d?e.C.ca(3.141592653589793-e.C.ca(f)):e.C.ca(f));null!=r&&(r.j=0<d?e.C.ca(f):e.C.ca(3.141592653589793-e.C.ca(f)));
return}if(e.l.W(e.l.K(c),3.141592653589793)){null!=k&&(k.j=3.141592653589793*b);null!=q&&(q.j=0);null!=r&&(r.j=0);return}}var I=1.570796326794897==e.l.K(d)?0:Math.cos(d),p=Math.sin(d),H=1.570796326794897==e.l.K(h)?0:Math.cos(h),g=Math.sin(h),E=1.570796326794897==e.l.K(c)?0:Math.cos(c),l=3.141592653589793==e.l.K(c)?0:Math.sin(c);if(null!=k){var m=Math.sin((h-d)/2),c=Math.sin(c/2);k.j=2*Math.asin(Math.sqrt(m*m+I*H*c*c))*b}null!=q&&(e.l.W(e.l.K(d),1.570796326794897)?q.j=0>d?f:e.C.ca(3.141592653589793-
f):q.j=Math.atan2(H*l,I*g-p*H*E));null!=r&&(e.l.W(e.l.K(h),1.570796326794897)?r.j=0>h?a:e.C.ca(3.141592653589793-a):(r.j=Math.atan2(I*l,g*I*E-H*p),r.j=e.C.ca(r.j+3.141592653589793)))}}};c.Rf=function(b,a,d,f,h,k,q){if(null!=k||null!=q){a=e.C.ca(a);d=e.C.ca(d);1.570796326794897<e.l.K(d)&&(d=e.l.Bb(3.141592653589793,d)-d,a=e.C.ca(a+3.141592653589793));e.l.W(e.l.K(d),1.570796326794897)&&(a=0);h=e.C.ca(h);var r=e.l.W(e.l.K(h),1.570796326794897)?0:Math.cos(h),c=e.l.W(e.l.K(h),3.141592653589793)?0:Math.sin(h),
I=e.l.W(e.l.K(d),1.570796326794897)?0:Math.cos(d),p=Math.sin(d);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?0:Math.cos(b);var H=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),g=Math.asin(p*f+I*H*r);null!=q&&(q.j=g);null!=k&&(k.j=e.l.W(e.l.K(g),1.570796326794897)?e.l.W(d,-g)?0>g?h:e.C.ca(3.141592653589793-h):a:e.l.W(e.l.K(d),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>d?h:e.C.ca(3.141592653589793-h):e.C.ca(a+Math.atan2(H*c,I*f-p*H*r)))}};return c}();e.uh=c})(u||(u={}));(function(e){var c=function(){function c(){}
c.Cb=function(b,a,d,f,h,k,q,r,c){var v=new e.da(0),p=new e.da(0),H=[0,0,0],g=[0,0,0],E=[0,0,0],l=new e.da(0),m=new e.da(0),n=new e.da(0),t=new e.da(0),u=new e.da(0);if(null!=q||null!=r||null!=c)if(e.l.Ri(a))e.uh.Cb(b,d,f,h,k,q,r,c);else{h=e.C.ca(h);d=e.C.ca(d);var w=e.C.ca(h-d);if(e.l.W(f,k)&&(e.l.W(d,h)||e.l.W(e.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=r&&(r.j=0),null!=c&&(c.j=0);else{if(e.l.W(f,-k)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=q&&(q.j=2*e.C.Wg(b,a));null!=r&&(r.j=0<f?e.C.ca(3.141592653589793-
e.C.ca(h)):e.C.ca(h));null!=c&&(c.j=0<f?e.C.ca(h):e.C.ca(3.141592653589793-e.C.ca(h)));return}e.l.W(e.l.K(w),3.141592653589793)&&(null!=q&&(q.j=2*e.C.Wg(b,a)),null!=r&&(r.j=0),null!=c&&(c.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(k),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?d=h:h=d;var x=0,y;0>w&&(x=1,y=d,d=h,h=y,y=f,f=k,k=y);var w=e.C.fu(a,f),L=e.C.fu(a,k);if(null!=r||null!=c)e.uh.Cb(b,d,w,h,L,null,v,p),v=Math.atan2(Math.sin(v.j)*Math.cos(f-w),Math.cos(v.j)),p=Math.atan2(Math.sin(p.j)*
Math.cos(k-L),Math.cos(p.j)),0!=x&&(y=v,v=p,p=y),null!=r&&(r.j=v),null!=c&&(c.j=p);null!=q&&(e.C.Fk(1,a,f,d,0,n,t,u),H[0]=n.j,H[1]=t.j,H[2]=u.j,e.C.Fk(1,a,k,h,0,n,t,u),g[0]=n.j,g[1]=t.j,g[2]=u.j,E[0]=H[1]*g[2]-g[1]*H[2],E[1]=-(H[0]*g[2]-g[0]*H[2]),E[2]=H[0]*g[1]-g[0]*H[1],a=1-e.C.Hm(a,e.C.Mr(a,e.C.mk(a,Math.acos(E[2]/Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2]))))),a*=2-a,r=Math.atan2(-E[1],-E[0]),E=e.C.ca(r-1.570796326794897),r=e.C.ca(r+1.570796326794897),E=e.l.K(e.C.ca(d-E))<=e.l.K(e.C.ca(d-r))?E:r,
e.uh.Cb(1,E,0,d,w,l,null,null),e.uh.Cb(1,E,0,h,L,m,null,null),3.141592653589793<l.j+m.j&&(E=e.C.ca(E+3.141592653589793),e.uh.Cb(1,E,0,d,w,l,null,null),e.uh.Cb(1,E,0,h,L,m,null,null)),l.j*=e.l.Bb(1,f),m.j*=e.l.Bb(1,k),l.j=e.C.mk(a,l.j),m.j=e.C.mk(a,m.j),d=e.C.q(b,a,l.j),b=e.C.q(b,a,m.j),q.j=e.l.K(b-d))}}};c.Rf=function(b,a,d,f,h,k,q,r){var c=0,I=new e.da(0),p=new e.da(0),H=[0,0,0],g=[0,0,0],E=new e.da(0),l=new e.da(0),m=new e.da(0);if(null!=q||null!=r)if(e.l.Ri(a))e.uh.Rf(b,d,f,h,k,q,r);else if(e.l.wd(h))null!=
q&&(q.j=d),null!=r&&(r.j=f);else{k=e.C.ca(k);0>h&&(h=e.l.K(h),k=e.C.ca(k+3.141592653589793));d=e.C.ca(d);f=e.C.ca(f);1.570796326794897<e.l.K(f)&&(d=e.C.ca(d+3.141592653589793),f=e.l.Bb(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(d=0);var n;if(e.l.wd(f))n=e.l.K(1.570796326794897-e.l.K(k)),n=e.C.mk(a,n),n=1-e.C.Hm(a,e.C.Mr(a,n)),n*=2-n,b=h/e.C.Wg(b,n)*1.570796326794897,b=e.C.Ep(n,b),b=e.C.fu(n,b),e.uh.Rf(1,d,f,b,k,q,I),null!=r&&(c=I.j),null!=r&&(r.j=e.C.mk(a,c));else if(e.l.W(e.l.K(f),
1.570796326794897))c=e.C.Wg(b,a),I=2*c,b=e.l.Bb(1.570796326794897,f),k=0<b?e.C.ca(3.141592653589793-k):k,f=c-h,e.l.K(f)<=c?null!=q&&(q.j=k):(f=Math.floor(h/I),0==e.J.truncate(f%2)?(null!=q&&(q.j=k),f=c-(h-f*I)):(null!=q&&(q.j=e.C.ca(k+3.141592653589793)),f=c-((f+1)*I-h))),null!=r&&(r.j=e.C.Ep(a,f/c*b));else{n=e.C.fu(a,f);k=Math.atan2(Math.sin(k),Math.cos(k)*Math.cos(f-n));var t=e.J.truncate(e.l.Bb(1,n))*(1.570796326794897>=e.l.K(k)?1:-1);k=e.C.ca(d+Math.atan(Math.tan(k)*-Math.sin(n)));e.uh.Cb(b,k,
0,d,n,null,p,null);n=e.l.K(1.570796326794897-e.l.K(p.j));n=e.C.mk(a,n);n=1-e.C.Hm(a,e.C.Mr(a,n));n*=2-n;e.C.Fk(1,a,0,k,0,E,l,m);H[0]=E.j;H[1]=l.j;H[2]=m.j;e.C.Fk(1,a,f,d,0,E,l,m);g[0]=E.j;g[1]=l.j;g[2]=m.j;f=Math.acos((H[0]*g[0]+H[1]*g[1]+H[2]*g[2])/Math.sqrt(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]));f=e.C.mk(n,f);f=e.C.q(b,n,f)+h*t;h=0<f?p.j:e.C.ca(p.j+3.141592653589793);b=e.l.K(f)/e.C.Wg(b,n)*1.570796326794897;b=e.C.Ep(n,b);b=e.C.fu(n,b);e.uh.Rf(1,k,0,b,h,q,I);null!=r&&(c=I.j);null!=r&&(r.j=e.C.mk(a,c))}}};
return c}();e.Cl=c})(u||(u={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,h,k,q,r,c){var v=0,p=0,H=0;if(null!=q||null!=r||null!=c)if(e.l.Ri(a))e.uh.Cb(b,d,f,h,k,q,r,c);else{var g=e.C.ca(h-d);if(e.l.W(f,k)&&(e.l.wd(g)||e.l.W(e.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=r&&(r.j=0),null!=c&&(c.j=0);else{if(e.l.W(f,-k)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=q&&(q.j=2*e.C.Wg(b,a));null!=r&&(r.j=0<f?e.C.ca(3.141592653589793-e.C.ca(h)):e.C.ca(h));null!=c&&(c.j=0<f?e.C.ca(h):
e.C.ca(3.141592653589793-e.C.ca(h)));return}e.l.W(e.l.K(g),3.141592653589793)&&(null!=q&&(q.j=2*e.C.Wg(b,a)),null!=r&&(r.j=0),null!=c&&(c.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(k),1.570796326794897)){e.Cl.Cb(b,a,d,f,h,k,q,r,c);return}if(e.l.wd(g)||e.l.W(e.l.K(g),3.141592653589793)){e.Cl.Cb(b,a,d,f,h,k,q,r,c);return}}var E=1-Math.sqrt(1-a),l=a/(1-a),m=b*(1-E);b=e.C.Mr(a,f);var n=e.C.Mr(a,k);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var t=Math.sin(b),u=1.570796326794897==e.l.K(n)?
0:Math.cos(n),w=Math.sin(n),x=g,y=Math.cos(x),L=Math.sin(x),A=1,B=0,C,z,D,P,F;do{C=x;z=Math.sqrt(Math.pow(u*L,2)+Math.pow(a*w-t*u*y,2));D=t*w+a*u*y;P=Math.atan2(z,D);if(0==z){A=0;break}F=a*u*L/z;v=Math.cos(Math.asin(F));v*=v;p=D-2*t*w/v;1<e.l.K(p)&&(p=e.l.Bb(1,p));H=p*p;x=E/16*v*(4+E*(4-3*v));x=g+(1-x)*E*F*(P+x*z*(p+x*D*(2*H-1)));y=Math.cos(x);L=Math.sin(x);B++;if(3.141592653589793<e.l.K(x)&&30<B){A=0;break}}while(5E3>=B&&!e.l.W(C,x));if(0!=A)l*=v,E=l*(256+l*(-128+l*(74-47*l)))/1024,null!=q&&(q.j=
m*(1+l*(4096+l*(-768+l*(320-175*l)))/16384)*(P-E*z*(p+E/4*(D*(2*H-1)-E/6*p*(4*z*z-3)*(4*H-3))))),null!=r&&(e.l.W(e.l.K(f),1.570796326794897)?r.j=0>f?h:e.C.ca(3.141592653589793-h):r.j=Math.atan2(u*L,a*w-t*u*y)),null!=c&&(e.l.W(e.l.K(k),1.570796326794897)?c.j=0>k?d:e.C.ca(3.141592653589793-d):(c.j=Math.atan2(a*L,a*w*y-t*u),c.j=e.C.ca(c.j+3.141592653589793)));else{x=e.l.Bb(3.141592653589793,g);D=t*w-a*u;P=Math.acos(D);z=Math.sin(P);v=1;B=F=0;do H=F,v*=v,y=v*v,F=E*v*(1+E+E*E),p=E*E*y*(1+2.25*E),A=E*E*
E*y*v,y=1-.25*F+.1875*p-.1953125*A,F=.25*F-.25*p+.29296875*A,L=.03125*p-.05859375*A,A*=.00651041666666667,p=D-2*t*w/v,1<e.l.K(p)&&(p=e.l.Bb(1,p)),v=Math.acos(p),D=Math.cos(2*v),C=Math.cos(3*v),F=e.l.W(f,-k)?e.C.ca(3.141592653589793-g)/(3.141592653589793*E*y):e.C.ca(x-g)/(E*(y*P+F*z*p+L*Math.sin(2*P)*D+A*Math.sin(3*P)*C)),L=F*z/(a*u),x=1.570796326794897<e.l.K(g)?e.l.Bb(3.141592653589793,L)-Math.asin(L):Math.asin(L),y=Math.cos(x),z=Math.sqrt(Math.pow(u*L,2)+Math.pow(a*w-t*u*y,2)),P=3.141592653589793-
Math.asin(e.l.K(z)),D=Math.cos(P),v=Math.cos(Math.asin(F)),B++;while(70>=B&&!e.l.W(H,F));null!=q&&(v*=v,l*=v,y=1+l*(4096+l*(-768+l*(320-175*l)))/16384,e.l.W(f,-k)?q.j=3.141592653589793*m*y:(p=D-2*t*w/v,v=Math.acos(p),D=Math.cos(2*v),C=Math.cos(3*v),q.j=m*(y*P+l*(-512+l*(128+l*(-60+35*l)))/2048*z*p+l*(-4+5*l)/6144*l*l*Math.sin(2*P)*D+A*Math.sin(3*P)*C+-7.62939453125E-5*l*l*l*l*Math.sin(4*P)*Math.cos(4*v))));null!=r&&(e.l.wd(f)&&e.l.wd(k)?(v=Math.sqrt(1-F*F),r.j=Math.acos(v),0>g&&(r.j*=-1)):e.l.W(e.l.K(f),
1.570796326794897)?r.j=0>f?h:e.C.ca(3.141592653589793-h):(q=F/a,m=Math.sqrt(1-q*q),0>a*w-t*u*Math.cos(x)&&(m*=-1),r.j=Math.atan2(q,m),e.l.W(f,-k)&&e.l.K(e.C.ca(d-h))>3.141592653589793*(1-E*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(r.j)||0>f&&1.570796326794897<e.l.K(r.j))&&(r.j=e.l.Bb(3.141592653589793,r.j)-r.j)));if(null!=c)if(e.l.wd(f)&&e.l.wd(k))v=Math.sqrt(1-F*F),c.j=Math.acos(v),0<=g&&(c.j*=-1);else if(e.l.W(e.l.K(k),1.570796326794897))c.j=0>k?d:e.C.ca(3.141592653589793-d);else if(g=F/u,q=Math.sqrt(1-
g*g),m=Math.sin(x/2),0>Math.sin(n-b)-2*a*w*m*m&&(q*=-1),c.j=Math.atan2(g,q),c.j=e.C.ca(c.j+3.141592653589793),e.l.W(f,-k)&&!e.l.wd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.ca(d-h))>3.141592653589793*(1-E*Math.cos(f))&&(null!=r?m=r.j:(q=F/a,m=Math.sqrt(1-q*q),0>a*w-t*u*Math.cos(x)&&(m*=-1),m=Math.atan2(q,m),e.l.W(f,-k)&&e.l.K(e.C.ca(d-h))>3.141592653589793*(1-E*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(m)||0>f&&1.570796326794897<e.l.K(m))&&(m=e.l.Bb(3.141592653589793,m)-m)),1.570796326794897>=
e.l.K(m)&&1.570796326794897<e.l.K(c.j)||1.570796326794897<=e.l.K(m)&&1.570796326794897>e.l.K(c.j)))c.j=-1*e.C.ca(c.j+3.141592653589793)}}}};c.Rf=function(b,a,d,f,h,k,q,r){if(null!=q||null!=r)if(e.l.Ri(a))e.uh.Rf(b,d,f,h,k,q,r);else if(k=e.C.ca(k),e.l.W(e.l.K(f),1.570796326794897)||e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))e.Cl.Rf(b,a,d,f,h,k,q,r);else{var c=1.570796326794897==e.l.K(k)?0:Math.cos(k),p=3.141592653589793==e.l.K(k)?0:Math.sin(k);e.l.W(e.l.K(f),1.570796326794897)&&(d=0);k=1-Math.sqrt(1-
a);var N=e.C.Mr(a,f);f=1.570796326794897==e.l.K(N)?0:Math.cos(N);var H=Math.sin(N),N=Math.atan2(Math.tan(N),c),g=f*p,E=g*g,l=1-E,m=a/(1-a)*l;a=m*(256+m*(-128+m*(74-47*m)))/1024;var n=a/4,t=a/6,u=h/(b*(1-k)*(1+m*(4096+m*(-768+m*(320-175*m)))/16384)),w=u,x;do{x=w;h=1.570796326794897==e.l.K(w)?0:Math.cos(w);var m=3.141592653589793==e.l.K(w)?0:Math.sin(w),y=m*m;b=Math.cos(2*N+w);w=b*b;w=a*m*(b+n*(h*(2*w-1)-t*b*(4*y-3)*(4*w-3)))+u}while(!e.l.W(x,w));h=1.570796326794897==e.l.K(w)?0:Math.cos(w);m=3.141592653589793==
e.l.K(w)?0:Math.sin(w);null!=q&&(p=Math.atan2(m*p,f*h-H*m*c),l=k/16*l*(4+k*(4-3*l)),b=Math.cos(2*N+w),q.j=e.C.ca(d+(p-(1-l)*k*g*(w+l*m*(b+l*h*(2*b*b-1))))));null!=r&&(l=H*m-f*h*c,l=(1-k)*Math.sqrt(E+l*l),r.j=Math.atan2(H*h+f*m*c,l))}};return c}();e.Pu=c})(u||(u={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,h,k,q,r,c){var v=e.C.ca(h-d),p=e.l.W(e.l.K(f),1.570796326794897),H=e.l.W(e.l.K(k),1.570796326794897);if(e.l.W(f,k)&&(e.l.wd(v)||p))null!=q&&(q.j=0),null!=r&&(r.j=0),null!=
c&&(c.j=0);else{var g,E;e.l.Ri(a)?(g=Math.sin(f),E=Math.sin(k),g=Math.sqrt((1+g)/(1-g)),E=Math.sqrt((1+E)/(1-E)),g=Math.log(E)-Math.log(g),g=Math.atan2(v,g),null!=q&&(q.j=e.l.W(f,k)?e.l.K(b*Math.cos(f)*v):e.l.K((b*k-b*f)/Math.cos(g)))):(E=e.C.Cx(a,k),g=Math.sin(e.C.Cx(a,f)),E=Math.sin(E),g=Math.sqrt((1+g)/(1-g)),E=Math.sqrt((1+E)/(1-E)),g=Math.log(E)-Math.log(g),g=Math.atan2(v,g),null!=q&&(e.l.W(f,k)?q.j=e.l.K(b*v*Math.cos(f)/e.C.Hm(a,f)):(v=e.C.q(b,a,f),b=e.C.q(b,a,k),q.j=e.l.K((b-v)/Math.cos(g)))));
if(null!=r||null!=c)q=e.C.ca(g+3.141592653589793),p&&H||!p&&!H||(p?g=0>f?h:e.C.ca(3.141592653589793-h):H&&(q=0>k?d:e.C.ca(3.141592653589793-d))),null!=r&&(r.j=g),null!=c&&(c.j=q)}};c.Rf=function(b,a,d,f,h,k,q,c){k=e.C.ca(k);0>h&&(h=e.l.K(h),k=e.C.ca(k+3.141592653589793));e.l.Ri(a)?e.l.W(e.l.K(f),1.570796326794897)?(d=0>f?k:e.C.ca(3.141592653589793-k),k=h/b%6.283185307179586,3.141592653589793>=k?b=f-e.l.Bb(k,f):(d=e.C.ca(d+3.141592653589793),b=-f+e.l.Bb(k-3.141592653589793,f))):e.l.W(e.l.K(k),1.570796326794897)?
(d=e.C.ca(d+e.l.Bb(h,k)/(b*Math.cos(f))),b=f):(b=f+h*Math.cos(k)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Bb(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),d=e.C.ca(d+Math.tan(k)*a))):e.l.W(e.l.K(f),1.570796326794897)?(d=0>f?k:e.C.ca(3.141592653589793-k),k=h/e.C.UW(b,a),k%=6.283185307179586,
3.141592653589793>=k?(b=f-e.l.Bb(k,f),b=e.C.Ep(a,b)):(d=e.C.ca(d+3.141592653589793),b=-f+e.l.Bb(k-3.141592653589793,f),b=e.C.Ep(a,b))):e.l.W(e.l.K(k),1.570796326794897)?(d=e.C.ca(d+e.l.Bb(h,k)*e.C.Hm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(h*Math.cos(k)+e.C.q(b,a,f))/e.C.Wg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Bb(1.570796326794897,b)),b=e.C.Ep(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))||(h=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&
(f=e.l.Bb(1.570796316258184,b),b=e.C.YP(a,f)),a=Math.sin(h),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),d=e.C.ca(d+Math.tan(k)*a)));null!=q&&(q.j=d);null!=c&&(c.j=b)};return c}();e.$D=c})(u||(u={}));(function(e){var c=function(){function c(){}c.Iz=function(b,a,d,f,h,k,q){e.Pu.Cb(b,a,d,f,h,k,null,q,null)};c.Yi=function(b,a,d,f,h,k,q,c){e.Pu.Rf(b,a,d,f,h,k,q,c)};c.Kd=function(b,a,d,f,h,k,q,c,v,p){switch(p){case 2:e.Cl.Cb(b,a,d,f,h,k,q,c,v);break;case 3:e.aE.Cb(b,
a,d,f,h,k,q,c,v);break;case 1:e.$D.Cb(b,a,d,f,h,k,q,c,v);break;default:e.Pu.Cb(b,a,d,f,h,k,q,c,v)}};c.Sj=function(b,a,d,f,h,k,q,c,v){switch(v){case 2:e.Cl.Rf(b,a,d,f,h,k,q,c);break;case 3:e.aE.Rf(b,a,d,f,h,k,q,c);break;case 1:e.$D.Rf(b,a,d,f,h,k,q,c);break;default:e.Pu.Rf(b,a,d,f,h,k,q,c)}};return c}();e.mb=c})(u||(u={}));(function(e){var c=function(){function a(){this.y=this.x=null}a.pa=function(d){var b=new a;b.x=new e.Xb;b.x.set(d.x);b.y=new e.Xb;b.y.set(d.y);return b};a.aG=function(d,b){var f=
new a;f.x=new e.Xb;f.x.set(d);f.y=new e.Xb;f.y.set(b);return f};a.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.jZ=c;var p=function(){function a(){this.z=this.y=this.x=null}a.pa=function(d){var b=new a;b.x=new e.Xb;b.x.set(d.x);b.y=new e.Xb;b.y.set(d.y);b.z=new e.Xb;b.z.set(d.z);return b};a.aG=function(d,b,h){var f=new a;f.x=new e.Xb;f.x.set(d);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(h);return f};
a.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()&&this.z.Kg()};a.prototype.value=function(){return new e.od(this.x.value(),this.y.value(),this.z.value())};a.prototype.pi=function(a){var d=new e.Xb,b=new e.Xb,k=new e.Xb;d.um(this.x,a.x);b.um(this.y,a.y);k.um(this.z,a.z);a=new e.Xb;a.zO(d,b);a.add(k);return a};a.prototype.iG=function(d){var b=new a;b.x.um(this.y,d.z);b.y.um(this.z,d.x);b.z.um(this.x,d.y);var h=new e.Xb,k=new e.Xb,q=new e.Xb;h.um(this.z,d.y);k.um(this.x,d.z);q.um(this.y,d.x);
b.x.sub(h);b.y.sub(k);b.z.sub(q);return b};return a}();e.kZ=p;var b=function(){function a(){}a.vL=function(d,b,h){var f=b.x;b=b.y;a.Fk(1,d,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),h)};a.aZ=function(d,b){var f=new e.od;a.vL(d,b,f);return f};a.QZ=function(d,b,h,k,q,c){var f=new e.od;a.Fk(d,b,h,k,q,c,f);return f};a.Fk=function(a,b,h,k,e,c,v){a/=Math.sqrt(1-b*c*c);v.I(a*e*h,a*e*k,a*(1-b)*c)};a.Qu=function(a,b){var d=new e.Xb,f=new e.Xb,q=new e.Xb,c=new e.Xb;d.cos(b.x);f.sin(b.x);q.cos(b.y);c.sin(b.y);
b=new e.Xb;b.set(c);b.Tg(c);b.Fp(a);b.Fp(-1);b.GO();b.sqrt();var v=new e.Xb;v.set(1);v.bn(b);b=new e.Xb;b.set(v);b.Tg(q);b.Tg(d);d=new e.Xb;d.set(v);d.Tg(q);d.Tg(f);f=new e.Xb;f.set(v);f.Fp(1-a);f.Tg(c);return p.aG(b,d,f)};a.tY=function(a,b,h){var d=b.x,f=b.y;h.ja(Math.atan2(f,d),Math.atan2(b.z,(1-a)*Math.sqrt(d*d+f*f)))};a.EZ=function(d,b,h){d=new e.b;a.tY(b,h,d);return d};a.oU=function(d,b,h,k){if(Math.abs(b.x-h.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(h.y)>.5*Math.PI||(Math.abs(b.y)==.5*
Math.PI||Math.abs(h.y)==.5*Math.PI)&&b.x!=h.x)return NaN;k=a.UB(k,Math.min(b.x,h.x),Math.max(b.x,h.x));if(!(new e.yc(b.x,h.x)).contains(k))return NaN;var f=c.pa(b);h=c.pa(h);f=a.Qu(d,f);h=a.Qu(d,h);h=f.iG(h);if(h.z.Kg())return b=b.y;var r=new e.Xb;r.set(h.x);r.bn(h.z);r.Fp(-1);var v=new e.Xb;v.set(h.y);v.bn(h.z);v.Fp(-1);var p=new e.Xb;p.set(v);p.Tg(v);f=new e.Xb;f.set(r);f.Tg(r);f.add(p);f.sqrt();if(f.Kg()||r.Kg()&&v.Kg())return b=b.y;b=Math.atan2(v.value(),r.value());b=Math.atan2(f.value()*Math.cos(b-
k),1-d);k=a.aZ(d,e.b.pa(k,b));d=new e.od(k.x,k.y,-k.z);k=h.value().pi(k);d=h.value().pi(d);Math.abs(d)<Math.abs(k)&&(b=-b);return b};a.xA=function(d,b,h,k,q,r){r[0]=NaN;r[1]=NaN;if(Math.abs(h.x-k.x)>Math.PI||Math.abs(h.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(h.y)==.5*Math.PI||Math.abs(k.y)==.5*Math.PI)&&h.x!=k.x||Math.abs(q)>=.5*Math.PI||0<h.y&&0<k.y&&h.y>q&&k.y>q||0>h.y&&0>k.y&&h.y<q&&k.y<q)return 0;var f=c.pa(h);d=c.pa(k);f=a.Qu(b,f);d=a.Qu(b,d);var p=f.iG(d);if(p.z.Kg())return(new e.yc(h.y,
k.y)).contains(q)?(r[0]=h.x,1):0;d=new e.Xb;d.set(p.x);d.bn(p.z);d.Fp(-1);f=new e.Xb;f.set(p.y);f.bn(p.z);f.Fp(-1);p=new e.Xb;p.set(f);p.Tg(f);var N=new e.Xb;N.set(d);N.Tg(d);N.add(p);N.sqrt();if(N.Kg()||d.Kg()&&f.Kg())return 0==q?(r[0]=h.x,r[1]=k.x,2):0;b=(1-b)*Math.tan(q)/N.value();if(1<Math.abs(b))return 0;b=Math.acos(b);p=Math.atan2(f.value(),d.value());d=Math.min(h.x,k.x);f=Math.max(h.x,k.x);k=a.UB(p-b,d,f);b=0!=q?a.UB(p+b,d,f):k;q=0;d<=k&&k<=f&&(r[q]=k,q++);b!=k&&d<=b&&b<=f&&(r[q]=b,q++,2==
q&&Math.abs(r[0]-h.x)>Math.abs(r[1]-h.x)&&(h=r[0],r[0]=r[1],r[1]=h));return q};a.UB=function(a,b,h){a>h?(b=Math.ceil((a-h)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.HA=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.uy=b})(u||(u={}));(function(e){var c=function(){function c(){}c.xY=function(b,a){var d=8;0>d&&(d=8);var f=[0,0,0,0],h=new e.b;h.L(a);h.scale(9102==e.fb.lc(b).Td().Bc()?
1:e.fb.lc(b).Td().Bi/3.141592653589793*180);-180>h.x?(h.x-=h.x%360,-180>h.x&&(h.x+=360)):180<h.x&&(h.x-=h.x%360,180<h.x&&(h.x-=360));90<h.y&&(h.y=90);-90>h.y&&(h.y=-90);b=5*d;a=(b+31)/32;for(var k=-180,q=180,r=b-1,v=a-1;0<=v;v--)for(var p=r-32*v,N=Math.min(32,b-32*v),H=1;H<N;H+=2){var g=.5*(q+k);h.x>=g?(f[v]|=1<<p,k=g):q=g;p-=2;r-=2}k=-90;q=90;r=b-2;for(v=a-1;0<=v;v--)for(p=r-32*v,N=Math.min(32,b-32*v),H=0;H<N;H+=2)g=.5*(q+k),h.y>=g?(f[v]|=1<<p,k=g):q=g,p-=2,r-=2;return c.FL(f,d,d)};c.FL=function(b,
a,d){for(var f=[],h=0;h<a;h++)f[h]="";for(var k=h=0,e=0;e<a;e++){var c=b[h]>>k&31,k=k+5;if(31<k){var v=37-k,c=c&(1<<v)-1,k=k-32;h++;c|=(b[h]&(1<<k)-1)<<v}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[c]}if(d>a)for(e=0;e<d-a;e++)f.push("0");else d<a&&(f.length=d);return f.join("")};return c}();e.dM=c})(u||(u={}));(function(e){var c={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,
8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,
30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,
51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,
73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,
94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,
115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,
136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,
2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,
7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,
102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,
102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,
102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,
102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,
3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,
6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,
6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,
6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,
6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,
6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,
6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,
6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,
6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,
6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,
103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,
103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,
8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,
102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,
32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,
5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,
5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,
5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,
5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,
5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,
10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,
5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},p={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},b=function(){function a(){}a.Dz=function(d){!1===a.Ej&&a.Om();var b=a.uM(d);if(-1==b){var h=a.uv(d);h!=d&&(b=a.Dz(h))}-1==b&&(h=a.nL(d),h!=d&&(b=a.Dz(h)));return b};a.uM=
function(d){return void 0!==a.Yu[d]?a.Yu[d]:-1};a.SR=function(d){!1===a.Ej&&a.Om();var b=a.qE(d);if(1E38==b){var h=a.uv(d);h!=d&&(b=a.qE(h));if(1E38==b)return 1E-10}return b};a.uU=function(d){if(void 0!==a.Al[d])return!0;var b=a.uv(d);return b!=d&&void 0!==a.Al[b]?!0:!1};a.wU=function(d){if(void 0!==a.Yg[d])return!0;var b=a.uv(d);return b!=d&&void 0!==a.Yg[b]?!0:!1};a.qE=function(d){!1===a.Ej&&a.Om();return void 0!==a.Al[d]?a.Al[d]:void 0!==a.Yg[d]?a.Yg[d]:1E38};a.nL=function(d){!1===a.Ej&&a.Om();
return void 0!==a.MB[d]?a.MB[d]:d};a.uv=function(d){!1===a.Ej&&a.Om();return void 0!==a.NB[d]?a.NB[d]:d};a.Om=function(){for(var d=c,b,h=0;h<d.pcsid.length;h+=2)a.Yg[d.pcsid[h]]=d.pcstol[2*d.pcsid[h+1]+1];for(h=0;h<d.pcsidc.length;h+=1){b=d.pcsidc[h];for(var k=b[0];k<=b[1];k++)a.Yg[k]=d.pcstol[2*b[2]+1]}for(h=0;h<d.gcsid.length;h+=2)a.Al[d.gcsid[h]]=d.gcstol[2*d.gcsid[h+1]+1];for(h=0;h<d.gcsidc.length;h+=1)for(b=d.gcsidc[h],k=b[0];k<=b[1];k++)a.Yg[k]=d.gcstol[2*b[2]+1];for(h=0;h<p.c.length;h+=1)for(b=
p.c[h],k=b[0];k<=b[1];k++)a.Yu[k]=b[2];for(h=0;h<p.nc.length;h+=2)a.Yu[p.nc[h]]=p.nc[h+1];p=null;for(h=0;h<d.newtoold.length;h+=2)a.MB[d.newtoold[h+1]]=d.newtoold[h],a.NB[d.newtoold[h]]=d.newtoold[h+1];c=null;a.Ej=!0};a.Ej=!1;a.Al=[];a.Yg=[];a.MB=[];a.NB=[];a.Yu=[];return a}();e.ss=b})(u||(u={}));(function(e){function c(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var p=[],b=function(){function a(){}a.UR=function(d){try{for(var b=0;b<p.length;b++)if(p[b].wkttext===
d)return p[b].unit;for(var h,k=b="",q=!1,r=0;r<d.length;r++){var v=d[r];!0===q?'"'==v?'"'==d[r+1]?b+=v:q=!1:b+=v:/[\s]/.test(v)||(","==v?(k=""!==b?k+(c(b)+","):k+",",b=""):")"==v||"]"==v?(k=""!==b?k+(c(b)+"]}"):k+"]}",b=""):"("==v||"["==v?(k+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==v?(q=!0,b=""):b+=v)}h=JSON.parse(k);var I=a.oE(h);if(null===I)return null;h=null;for(v=0;v<I.values.length;v++)if("object"===typeof I.values[v]&&"UNIT"===I.values[v].entity){h=I.values[v];break}if(null===
h)return null;var N=e.$c.yQ("GEOGCS"===I.entity?1:0,h.values[1],h.values[2]);p.push({wkttext:d,unit:N});10<p.length&&p.shift();return N}catch(H){return null}};a.oE=function(d){if(null===d)return null;if("GEOGCS"===d.entity||"PROJCS"===d.entity)return d;for(var b=[],h=0;h<d.values.length;h++)if("object"===typeof d.values[h]&&void 0!==d.values[h].entity){if("GEOGCS"===d.values[h].entity||"PROJCS"==d.values[h].entity)return d.values[h];b.push(d.values[h])}for(d=0;d<b.length;d++)if(h=a.oE(b[d]),null!==
h)return h;return null};a.TR=function(a){var d=-1;if(null!=a&&0<a.length){var b,k;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,k=a.indexOf("]",b+1),0<k)))try{e=parseFloat(a.substring(b,k))}catch(v){e=0}0<e&&(d=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var c=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;k=a.indexOf(",",b+1);if(0<k)try{c=parseFloat(a.substring(b,k))}catch(v){c=0}if(0<c&&(b=a.indexOf("UNIT",k+1),
0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,k=a.indexOf("]",b+1),0<k))))try{e=parseFloat(a.substring(b,k))}catch(v){e=0}}0<c&&0<e&&(d=.001/(c*e))}}return d};return a}();e.uE=b})(u||(u={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.oM||(e.oM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.iN||(e.iN={}));
(function(e){e[e.POSITION=0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.hi||(e.hi={}));var c=function(){function c(b,a){this.St=this.Ye=null;this.Er=this.Ga=0;this.Th=this.vg=null;this.gm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.vg=a.vg.slice(0);this.Th=a.Th.slice(0);this.gm=a.gm;this.St=[];for(a=b=0;a<this.Ga;a++)this.St[a]=
b,b+=c.Xa(this.vg[a]);this.Er=b;this.Ye=[];for(a=0;a<this.Ga;a++){b=c.Xa(this.pd(a));for(var d=c.be(this.pd(a)),f=0;f<b;f++)this.Ye[this.St[a]+f]=d}}else this.Er=this.Ga=0}c.prototype.pd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.vg[b]};c.prototype.lg=function(b){return this.Th[b]};c.Zz=function(b){return c.dc[b]};c.ti=function(b){return c.ad[b]};c.lf=function(b){return c.de[b]};c.Yg=function(b){return c.lf(c.ti(b))*c.Xa(b)};c.Xa=function(b){return c.tb[b]};c.Xf=function(b){return 2>
b};c.Dj=function(b){return c.Xf(c.ti(b))};c.prototype.hasAttribute=function(b){return 0<=this.Th[b]};c.prototype.kH=function(){return this.hasAttribute(1)};c.be=function(b){return c.N[b]};c.prototype.eT=function(b){return this.St[b]};c.DH=function(b,a){return c.N[b]===a};c.Ug=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};c.prototype.Eb=function(b){return this===b};c.prototype.Ck=function(){for(var b=e.J.bh(this.vg[0]),a=1;a<this.Ga;a++)b=e.J.bh(this.vg[a],b);return b};c.prototype.zk=
function(b){return this.St[b]};c.prototype.kc=function(){return this.gm};c.prototype.Qd=function(b){return this.vg[b]};c.N=[0,0,NaN,0,0,0,0,0,0];c.dc=[1,1,1,0,2,1,1,1,0];c.ad=[1,1,1,2,0,0,0,0,2];c.de=[4,8,4,8,1,2];c.tb=[2,1,1,1,3,1,2,3,2];return c}();e.ma=c})(u||(u={}));(function(e){function c(a,b,h,k){var d=a.Id,f=a.e+b+1;1===h?k=5<=d[f]:2===h?k=5<d[f]||5==d[f]&&(k||0>f||void 0!==d[f+1]||d[f-1]&1):3===h?k=k||void 0!==d[f]||0>f:(k=!1,0!==h&&p("!Big.RM!"));if(1>f||!d[0])k?(a.e=-b,a.Id=[1]):a.Id=[a.e=
0];else{d.length=f--;if(k)for(;9<++d[f];)d[f]=0,f--||(++a.e,d.unshift(1));for(f=d.length;!d[--f];d.pop());}}function p(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(d){if(d instanceof a)this.ke=d.ke,this.e=d.e,this.Id=d.Id.slice();else{var f,k,e;0===d&&0>1/d?d="-0":b.test(d+="")||p(NaN);this.ke="-"==d.charAt(0)?(d=d.slice(1),-1):1;-1<(f=d.indexOf("."))&&(d=d.replace(".",""));0<(k=d.search(/e/i))?(0>f&&(f=k),f+=+d.slice(k+1),d=d.substring(0,
k)):0>f&&(f=d.length);for(k=0;"0"==d.charAt(k);k++);if(k==(e=d.length))this.Id=[this.e=0];else{for(;"0"==d.charAt(--e););this.e=f-k-1;this.Id=[];for(f=0;k<=e;this.Id[f++]=+d.charAt(k++));}}}a.prototype.abs=function(){var d=new a(this);d.ke=1;return d};a.prototype.RF=function(){var d=0,b=this.Id,k=(d=new a(d)).Id,e=this.ke,c=d.ke,v=this.e,p=d.e;if(!b[0]||!k[0])return b[0]?e:k[0]?-c:0;if(e!=c)return e;d=0>e;if(v!=p)return v>(p^d)?1:-1;e=-1;for(c=(v=b.length)<(p=k.length)?v:p;++e<c;)if(b[e]!=k[e])return b[e]>
(k[e]^d)?1:-1;return v==p?0:v>(p^d)?1:-1};a.prototype.bn=function(d){var b=this.Id,f=(d=new a(d)).Id,e=this.ke==d.ke?1:-1,r=a.ad;(r!==~~r||0>r||1E6<r)&&p("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&p(NaN),f[0]||p(e/0),new a(0*e);var v,I,N,H,g=f.slice(),E=v=f.length,l=b.length,m=b.slice(0,v),n=m.length,t=d,u=t.Id=[],w=0,x=r+(t.e=this.e-d.e)+1;t.ke=e;e=0>x?0:x;for(g.unshift(0);n++<v;m.push(0));do{for(I=0;10>I;I++){if(v!=(n=m.length))N=v>n?1:-1;else for(H=-1,N=0;++H<v;)if(f[H]!=m[H]){N=f[H]>m[H]?
1:-1;break}if(0>N){for(d=n==v?f:g;n;){if(m[--n]<d[n]){for(H=n;H&&!m[--H];m[H]=9);--m[H];m[n]+=10}m[n]-=d[n]}for(;!m[0];m.shift());}else break}u[w++]=N?I:++I;m[0]&&N?m[n]=b[E]||0:m=[b[E]]}while((E++<l||void 0!==m[0])&&e--);u[0]||1==w||(u.shift(),t.e--);w>x&&c(t,r,a.Xf,void 0!==m[0]);return t};a.prototype.BT=function(){return 0<this.RF()};a.prototype.SU=function(){return 0>this.RF()};a.prototype.au=function(d){var b,f,e=this.ke,c=(d=new a(d)).ke;if(e!=c)return d.ke=-c,this.sJ(d);var v=this.Id.slice();
f=this.e;var p=d.Id,N=d.e;if(!v[0]||!p[0])return p[0]?(d.ke=-c,d):new a(v[0]?this:0);if(e=f-N){(b=0>e)?(e=-e,f=v):(N=f,f=p);f.reverse();for(c=e;c--;f.push(0));f.reverse()}else for(f=((b=v.length<p.length)?v:p).length,e=c=0;c<f;c++)if(v[c]!=p[c]){b=v[c]<p[c];break}b&&(f=v,v=p,p=f,d.ke=-d.ke);if(0<(c=(f=p.length)-(b=v.length)))for(;c--;v[b++]=0);for(c=b;f>e;){if(v[--f]<p[f]){for(b=f;b&&!v[--b];v[b]=9);--v[b];v[f]+=10}v[f]-=p[f]}for(;0==v[--c];v.pop());for(;0==v[0];)v.shift(),--N;v[0]||(d.ke=1,v=[N=
0]);d.Id=v;d.e=N;return d};a.prototype.sJ=function(d){var b,f=this.ke;b=(d=new a(d)).ke;if(f!=b)return d.ke=-b,this.au(d);b=this.e;var e=this.Id,c=d.e,v=d.Id;if(!e[0]||!v[0])return v[0]?d:new a(e[0]?this:0*f);e=e.slice();if(f=b-c){0<f?(c=b,b=v):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-v.length&&(b=v,v=e,e=b);f=v.length;for(b=0;f;)b=(e[--f]=e[f]+v[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++c);for(f=e.length;0==e[--f];e.pop());d.Id=e;d.e=c;return d};a.prototype.pow=function(d){var b=
this,f=new a(1),e=f,c=0>d;(d!==~~d||-1E6>d||1E6<d)&&p("!pow!");for(d=c?-d:d;;){d&1&&(e=e.cs(b));d>>=1;if(!d)break;b=b.cs(b)}return c?f.bn(e):e};a.prototype.round=function(d,b){var f=this;null==d?d=0:(d!==~~d||0>d||1E6<d)&&p("!round!");c(f=new a(f),d,null==b?a.Xf:b);return f};a.prototype.sqrt=function(){var d,b,k;b=this.Id;d=this.ke;k=this.e;var e=new a("0.5");if(!b[0])return new a(this);0>d&&p(NaN);d=Math.sqrt(this.toString());0==d||d==1/0?(d=b.join(""),d.length+k&1||(d+="0"),b=new a(Math.sqrt(d).toString()),
b.e=((k+1)/2|0)-(0>k||k&1)):b=new a(d.toString());d=b.e+(a.ad+=4);do k=b,b=e.cs(k.sJ(this.bn(k)));while(k.Id.slice(0,d).join("")!==b.Id.slice(0,d).join(""));c(b,a.ad-=4,a.Xf);return b};a.prototype.cs=function(d){var b,f=this.Id,e=(d=new a(d)).Id,c=f.length,v=e.length,p=this.e,N=d.e;d.ke=this.ke==d.ke?1:-1;if(!f[0]||!e[0])return new a(0*d.ke);d.e=p+N;c<v&&(b=f,f=e,e=b,N=c,c=v,v=N);for(b=Array(N=c+v);N--;b[N]=0);for(p=v;p--;){v=0;for(N=c+p;N>p;)v=b[N]+e[p]*f[N-p-1]+v,b[N--]=v%10,v=v/10|0;b[N]=(b[N]+
v)%10}v&&++d.e;b[0]||b.shift();for(p=b.length;!b[--p];b.pop());d.Id=b;return d};a.prototype.toString=function(){var a=this.e,d=this.Id.join(""),b=d.length;if(-7>=a||21<=a)d=d.charAt(0)+(1<b?"."+d.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;d="0"+d);d="0."+d}else if(0<a)if(++a>b)for(a-=b;a--;d+="0");else a<b&&(d=d.slice(0,a)+"."+d.slice(a));else 1<b&&(d=d.charAt(0)+"."+d.slice(1));return 0>this.ke&&this.Id[0]?"-"+d:d};a.ad=20;a.Xf=1;return a}();e.$p=a})(u||(u={}));(function(e){var c=function(){function b(a){this.Kf=
a}b.prototype.gs=function(a,d,b){var f=new e.b,k=new e.b,q=this.Kf;b.Fd(a,d,function(a,d){q.fc(2*a,f);q.fc(2*d,k);return f.compare(k)})};b.prototype.Qq=function(a){return this.Kf.read(2*a+1)};return b}(),p=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var d=a.G();return 1736==d?0==a.ef()?!1:!0:1607==d?(d=[!1],b.GD(a,!0,d),d[0]):197==d||e.T.Nc(d)&&!a.CH()?!0:!1};b.Xm=function(a){var d=a.G();if(1736==d)return d=new e.Ua(a.description),a.u()||a.BE(d),d;if(1607==d)return b.GD(a,!1,null);
if(197==d)return d=new e.Ua(a.description),a.u()||d.hd(a,!1),d;if(e.T.Nc(d)){d=new e.Dd(a.description);if(!a.u()&&!a.CH()){var f=new e.Wa;a.Kp(f);d.add(f);a.Ip(f);d.add(f)}return d}if(e.T.Po(d))return null;throw e.g.F();};b.GD=function(a,d,b){null!=b&&(b[0]=!1);var f=null;d||(f=new e.Dd(a.description));if(!a.u()){var k=new e.ha(0);k.zb(2*a.aa());for(var q=0,r=a.aa();q<r;q++)if(0<a.La(q)&&!a.Ko(q)){var v=a.wa(q);k.add(v);v=a.Fc(q)-1;k.add(v)}if(0<k.size){r=new e.Ju;q=a.Qa(0);r.sort(k,0,k.size,new c(q));
r=new e.b;q.fc(2*k.get(0),r);for(var v=0,p=1,N=new e.Wa,H=new e.b,g=1,E=k.size;g<E;g++)if(q.fc(2*k.get(g),H),H.vb(r))k.get(v)>k.get(g)?(k.set(v,2147483647),v=g):k.set(g,2147483647),p++;else{if(0==(p&1))k.set(v,2147483647);else if(d)return null!=b&&(b[0]=!0),null;r.L(H);v=g;p=1}if(0==(p&1))k.set(v,2147483647);else if(d)return null!=b&&(b[0]=!0),null;if(!d)for(k.Fd(0,k.size,function(a,d){return a-d}),g=0,E=k.size;g<E&&2147483647!=k.get(g);g++)a.xe(k.get(g),N),f.add(N)}}return d?null:f};return b}();
e.Pi=p})(u||(u={}));(function(e){var c=function(){function c(){this.Zf=new e.ha(0);this.wt=new e.ha(0);this.GI=1;this.Ct=NaN}c.prototype.sort=function(b,a,d,f){if(32>d-a)f.gs(a,d,b);else{var h=!0;try{for(var k=Infinity,e=-Infinity,c=a;c<d;c++){var v=f.Qq(b.get(c));v<k&&(k=v);v>e&&(e=v)}if(this.reset(d-a,k,e,d-a)){for(c=a;c<d;c++){var p=b.get(c),v=f.Qq(p),N=this.DG(v);this.Zf.set(N,this.Zf.get(N)+1);this.wt.write(c-a,p)}var H=this.Zf.get(0);this.Zf.set(0,0);for(var c=1,g=this.Zf.size;c<g;c++){var E=
this.Zf.get(c);this.Zf.set(c,H);H+=E}for(c=a;c<d;c++){var p=this.wt.read(c-a),v=f.Qq(p),N=this.DG(v),l=this.Zf.get(N);b.set(l+a,p);this.Zf.set(N,l+1)}h=!1}}catch(Aa){this.Zf.resize(0),this.wt.resize(0)}if(h)f.gs(a,d,b);else{c=d=0;for(g=this.Zf.size;c<g;c++)h=d,d=this.Zf.get(c),d>h&&f.gs(a+h,a+d,b);100<this.Zf.size&&(this.Zf.resize(0),this.wt.resize(0))}}};c.prototype.reset=function(b,a,d,f){if(2>b||d==a)return!1;b=Math.min(c.sL,b);this.Zf.zb(b);this.Zf.resize(b);this.Zf.$h(0,0,this.Zf.size);this.GI=
a;this.wt.resize(f);this.Ct=(d-a)/(b-1);return!0};c.prototype.DG=function(b){return e.J.truncate((b-this.GI)/this.Ct)};c.sL=65536;return c}();e.Ju=c})(u||(u={}));(function(e){var c;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(c||(c={}));var p=function(){function a(){}a.Iv=function(d,b,f,h,c,p){var k=new a;k.An=new e.b;k.On=new e.b;k.Ow=new e.b;k.An.L(d);k.On.L(b);
k.Ow.L(f);k.wp=h;k.Oh=c;k.Rh=p;return k};a.pa=function(d,b,f,h){var k=new a;k.An=new e.b;k.On=new e.b;k.Ow=new e.b;k.An.L(d);k.On.L(b);k.Ow.Yc();k.wp=4;k.Oh=f;k.Rh=h;return k};return a}(),b=function(){function a(a,d,b,f,h,e){this.Lw=null;this.Ca=0;this.mB=a;this.cJ=this.aJ=0;this.Pa=d;this.jk=b;this.Zk=f;this.tr=h;this.mc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.mB.D())return null;this.mB.xe(this.Ca,a);this.Ca++;if(!a.u())break}var d=!1;null==this.Lw&&(this.aJ=a.Te(),this.cJ=
a.Cf(),this.Lw=f.buffer(a,this.Pa,this.jk,this.Zk,this.tr,this.mc),d=!0);var b;this.Ca<this.mB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!d){var d=new e.Gd,h=a.Te()-this.aJ,a=a.Cf()-this.cJ;d.zg(h,a);b.Vc(d)}return b};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),a=function(){function a(a,d){this.$a=a;this.Ca=0;this.dr=d}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var d=this.Ca;this.Ca++;if(!a.Ko(d))for(var b=a.Ba(a.Fc(d)-1);this.Ca<a.aa();){var f=
a.Ba(a.wa(this.Ca));if(a.Ko(this.Ca))break;if(f!=b)break;b=a.Ba(a.Fc(this.Ca)-1);this.Ca++}if(1==this.Ca-d)return this.$a.yF(this.$a.Y,d,this.dr);b=new e.Ua(this.$a.Y.description);b.Ui(this.$a.Y,d,!0);for(d+=1;d<this.Ca;d++)b.zs(this.$a.Y,d,0,a.ew(d),!1);return this.$a.yF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),d=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var d=this.Ca;
a.Ym(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Ym(this.Ca));)this.Ca++;return 0==d&&this.Ca==a.aa()?this.$a.Ty(a,0,a.aa()):this.$a.Ty(a,d,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),f=function(){function f(a){this.Ht=this.Zw=this.It=this.Ud=null;this.qe=[];this.mc=a;this.wb=this.xw=this.kV=this.Pa=this.bB=this.Xt=this.ta=0;this.ZA=this.Zk=-1;this.dr=!0}f.buffer=function(a,d,b,h,c,p){if(null==a)throw e.g.F();if(0>h)throw e.g.F();if(a.u())return new e.Ja(a.description);
var k=new e.h;a.ac(k);0<d&&k.P(d,d);p=new f(p);p.jk=b;p.Y=a;p.ta=e.na.$d(b,k,!0);p.Xt=e.na.$d(null,k,!0);p.Pa=d;p.kV=a.G();0>=c&&(c=96);p.wb=Math.abs(p.Pa);p.xw=0!=p.wb?1/p.wb:0;isNaN(h)||0==h?h=1E-5*p.wb:h>.5*p.wb&&(h=.5*p.wb);12>c&&(c=12);a=Math.abs(d)*(1-Math.cos(Math.PI/c));a>h?h=a:(a=Math.PI/Math.acos(1-h/Math.abs(d)),a<c-1&&(c=e.J.truncate(a),12>c&&(c=12,h=Math.abs(d)*(1-Math.cos(Math.PI/c)))));p.Zk=h;p.tr=c;p.bB=Math.min(p.Xt,.25*h);return p.zF()};f.prototype.Rv=function(){if(null==this.Ud)this.Ud=
[];else if(0!==this.Ud.length)return;var a=this.DF(),a=e.J.truncate((a+3)/4),d=.5*Math.PI/a;this.ZA=d;for(var b=0;b<4*a;b++)this.Ud.push(null);for(var f=Math.cos(d),d=Math.sin(d),h=e.b.pa(0,1),b=0;b<a;b++)this.Ud[b+0*a]=e.b.pa(h.y,-h.x),this.Ud[b+1*a]=e.b.pa(-h.x,-h.y),this.Ud[b+2*a]=e.b.pa(-h.y,h.x),this.Ud[b+3*a]=h,h=e.b.pa(h.x,h.y),h.su(f,d)};f.prototype.zF=function(){var a=this.Y.G();if(e.T.Nc(a))return a=new e.Ua(this.Y.description),a.cc(this.Y,!0),this.Y=a,this.zF();if(this.Pa<=this.ta)if(e.T.qU(a)){if(0>=
this.Pa&&(a=new e.h,this.Y.s(a),a.O()<=2*-this.Pa||a.ea()<=2*this.Pa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.oP();case 550:return this.nP();case 1607:return this.qP();case 1736:return this.pP();case 197:return this.lP();default:throw e.g.za();}};f.prototype.qP=function(){if(this.EH(this.Y)){var d=new e.Wa;this.Y.xe(0,d);var b=new e.h;this.Y.s(b);d.rb(b.Tf());return this.wv(d)}this.Y=this.rW(this.Y);d=new a(this,this.dr);
return e.ei.local().V(d,this.jk,this.mc).next()};f.prototype.pP=function(){if(0==this.Pa)return this.Y;var a=e.Qm.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.mc);if(0>this.Pa){var b=this.Y,b=this.Ty(b,0,b.aa());return a.V(b,this.jk,!1,this.mc)}if(this.EH(this.Y))return a=new e.Wa,this.Y.xe(0,a),b=new e.h,this.Y.s(b),a.rb(b.Tf()),this.wv(a);a=new d(this);return e.ei.local().V(a,this.jk,this.mc).next()};f.prototype.Ty=function(a,d,b){for(var h=new e.Ja(a.description);d<b;d++)if(!(1>a.La(d))){var k=
a.Ym(d),q=new e.h;a.nk(d,q);if(0<this.Pa)if(0<k)if(this.FH(a,d))k=new e.Wa,a.xe(a.wa(d),k),k.rb(q.Tf()),this.nv(h,k);else{var c=k=new e.Ua(a.description),c=e.Lu.JH(this.Y,d)||2==this.Ao(this.Y,d,c,!0,1)?this.xF(a,d):this.zo(k);h.add(c,!1)}else{if(!(q.O()+this.ta<=2*this.wb||q.ea()+this.ta<=2*this.wb||(c=k=new e.Ua(a.description),this.Ao(this.Y,d,c,!0,1),k.u()))){var r=new e.h;r.I(q);r.P(this.wb,this.wb);c.oq(r);c=this.zo(k);q=1;for(k=c.aa();q<k;q++)h.Ui(c,q,!0)}}else if(0<k){if(!(q.O()+this.ta<=2*
this.wb||q.ea()+this.ta<=2*this.wb||(c=k=new e.Ua(a.description),this.Ao(this.Y,d,c,!0,-1),k.u())))for(r=new e.h,c.ac(r),r.P(this.wb,this.wb),c.oq(r),c=this.zo(k),q=1,k=c.aa();q<k;q++)h.Ui(c,q,!0)}else for(c=k=new e.Ua(a.description),this.Ao(this.Y,d,c,!0,-1),c=this.zo(k),q=0,k=c.aa();q<k;q++)h.Ui(c,q,!0)}if(0<this.Pa)return 1<h.aa()?h=this.zo(h):f.lf(h);a=new e.h;h.ac(a);if(h.u())return f.lf(h);a.P(this.wb,this.wb);h.oq(a);h=this.zo(h);a=new e.Ja(h.description);q=1;for(k=h.aa();q<k;q++)a.Ui(h,q,
!1);return f.lf(a)};f.prototype.oP=function(){return this.wv(this.Y)};f.prototype.wv=function(a){var d=new e.Ja(this.Y.description);this.nv(d,a);return this.SX(d)};f.prototype.nP=function(){var a=new b(this.Y,this.Pa,this.jk,this.Zk,this.tr,this.mc);return e.ei.local().V(a,this.jk,this.mc).next()};f.prototype.lP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Pa){if(0==this.Pa)a.hd(this.Y,!1);else{var d=new e.di;this.Y.Wn(d);d.P(this.Pa,this.Pa);a.hd(d,!1)}return a}a.hd(this.Y,!1);this.Y=
a;return this.xF(a,0)};f.prototype.xF=function(a,d){this.Rv();var b=new e.Ja(a.description),h=new e.b,k=new e.b,q=new e.b,c=new e.b,p=new e.b,g=new e.b,l=new e.b,m=new e.b,n=a.La(d),t=a.wa(d),u=0;for(d=a.La(d);u<d;u++){a.w(t+u,k);a.w(t+(u+1)%n,c);a.w(t+(u+2)%n,g);l.xc(c,k);if(0==l.length())throw e.g.za();l.uw();l.normalize();l.scale(this.wb);h.add(l,k);q.add(l,c);0==u?b.Bu(h):b.bj(h);b.bj(q);m.xc(g,c);if(0==m.length())throw e.g.za();m.uw();m.normalize();m.scale(this.wb);p.add(m,c);this.ZE(b,c,q,p,
!1)}return f.lf(b)};f.prototype.yF=function(a,d,b){this.Rv();if(1>a.La(d))return null;if(this.FH(a,d)&&0<this.Pa){b=new e.Wa;a.xe(a.wa(d),b);var f=new e.h;a.nk(d,f);b.rb(f.Tf());return this.wv(b)}f=new e.Ua(a.description);if(a.Ko(d))this.Ao(a,d,f,b,1),this.Ao(a,d,f,b,-1);else{var h=new e.Ua(a.description);h.Ui(a,d,!1);h.zs(a,d,0,a.ew(d),!1);this.Ao(h,0,f,b,1)}return this.zo(f)};f.prototype.Or=function(){this.kx++};f.prototype.zo=function(a){return e.Cg.ql(a,this.Xt,!0,!0,this.mc)};f.prototype.DF=
function(){if(0==this.Zk)return this.tr;var a=1-this.Zk*Math.abs(this.xw),d;-1>a?d=4:d=2*Math.PI/Math.acos(a)+.5;4>d?d=4:d>this.tr&&(d=this.tr);return e.J.truncate(d)};f.prototype.ZE=function(a,d,b,f,h){this.Rv();var k=new e.b;k.xc(b,d);k.scale(this.xw);var q=new e.b;q.xc(f,d);q.scale(this.xw);k=Math.atan2(k.y,k.x)/this.ZA;0>k&&(k=this.Ud.length+k);k=this.Ud.length-k;q=Math.atan2(q.y,q.x)/this.ZA;0>q&&(q=this.Ud.length+q);q=this.Ud.length-q;q<k&&(q+=this.Ud.length);var c=e.J.truncate(q),q=e.J.truncate(Math.ceil(k)),
k=new e.b;k.L(this.Ud[q%this.Ud.length]);k.tu(this.wb,d);var r=10*this.ta;k.sub(b);k.length()<r&&(q+=1);k.L(this.Ud[c%this.Ud.length]);k.tu(this.wb,d);k.sub(f);k.length()<r&&--c;b=c-q;b++;c=0;for(q%=this.Ud.length;c<b;c++,q=(q+1)%this.Ud.length)k.L(this.Ud[q]),k.tu(this.wb,d),a.bj(k),this.Or();h&&a.bj(f)};f.prototype.Ao=function(a,d,b,f,h){var k=new e.ed,q=k.IO(a,d);k.zq(this.bB,!1,!1);if(2>k.D(q)){if(0>h)return 1;h=a;k=new e.Wa;h.xe(h.wa(d),k);this.nv(b,k);return 1}var c=k.Ba(k.cb(k.Pb(q))),r=new e.Gd;
r.zg(-c.x,-c.y);k.Vc(r);if(f&&(this.MR(k,q,h),2>k.D(q))){if(0>h)return 1;h=a;k=new e.Wa;h.xe(h.wa(d),k);this.nv(b,k);return 1}this.qe.length=0;var v=k.Pb(q);d=k.cb(v);var I=1==h?k.Ra(d):k.U(d);a=1==h?k.U(d):k.Ra(d);var g=!0;f=new e.b;for(var q=new e.b,l=new e.b,m=new e.b,n=new e.b,t=new e.b,u=new e.b,w=new e.b,x=new e.b,y=new e.b,L=this.wb,v=k.La(v),A=0;A<v;A++)k.w(a,q),g&&(k.w(d,f),k.w(I,l),w.xc(f,l),w.normalize(),y.OH(w),y.scale(L),m.add(y,f)),u.xc(q,f),u.normalize(),x.OH(u),x.scale(L),n.add(f,
x),I=w.Vi(u),g=w.pi(u),0>I||0>g&&0==I?this.qe.push(p.Iv(m,n,f,2,this.qe.length+1,this.qe.length-1)):m.vb(n)||(this.qe.push(p.pa(m,f,this.qe.length+1,this.qe.length-1,"dummy")),this.qe.push(p.pa(f,n,this.qe.length+1,this.qe.length-1,"dummy"))),t.add(q,x),this.qe.push(p.Iv(n,t,f,1,this.qe.length+1,this.qe.length-1)),m.L(t),y.L(x),l.L(f),f.L(q),w.L(u),I=d,d=a,g=!1,a=1==h?k.U(d):k.Ra(d);this.qe[this.qe.length-1].Oh=0;this.qe[0].Rh=this.qe.length-1;this.tW(b);r.zg(c.x,c.y);b.mF(r,b.aa()-1);return 1};f.prototype.tW=
function(a){for(var d=this.ZP(),b=!0,f=d+1,h=d;f!=d;h=f){var e=this.qe[h],f=-1!=e.Oh?e.Oh:(h+1)%this.qe.length;0!=e.wp&&(b&&a.Bu(e.An),2==e.wp?this.ZE(a,e.Ow,e.An,e.On,!0):a.bj(e.On),b=!1)}};f.prototype.ZP=function(){null==this.Ht&&(this.Ht=[null,null,null,null,null,null,null,null,null]);for(var a=0,d=0,b=this.qe.length;d<b;){var f=this.qe[d];if(0!=(f.wp&3)){a=d;break}d=f.Oh}b=a+1;for(d=a;b!=a;d=b){for(var f=this.qe[d],b=f.Oh,h=1,c=null;b!=d;){c=this.qe[b];if(0!=(c.wp&3))break;b=c.Oh;h++}1!=h&&1==
(f.wp&c.wp)&&(null==this.It&&(this.It=new e.Hb,this.Zw=new e.Hb),this.It.Lc(f.An),this.It.Xc(f.On),this.Zw.Lc(c.An),this.Zw.Xc(c.On),1==this.It.Ma(this.Zw,this.Ht,null,null,this.Xt)&&(f.On.L(this.Ht[0]),c.An.L(this.Ht[0]),f.Oh=b,c.Rh=d))}return a};f.prototype.sw=function(a,d,b){var f=new e.b;f.xc(b,a);b=f.length();b=this.wb*this.wb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Tr();var h=new e.b;h.xc(d,a);if(h.pi(f)+b>=this.wb)return!0}return!1};f.prototype.MR=function(a,d,b){for(var f=0;1>f;f++){var h=
!1,k=a.Pb(d),q=a.La(k);if(0==q)break;var c=q;if(3>q)break;!a.Qb(k)&&(c=q-1);for(var k=a.cb(k),q=0<b?a.Ra(k):a.U(k),r=0<b?a.U(k):a.Ra(k),p=q,g=!0,l=new e.b,m=new e.b,n=new e.b,t=new e.b,u=new e.b,w=e.b.pa(0,0),x=new e.b,y=new e.b,L=new e.b,A=new e.b,B=this.wb,z=0,C=0;C<c;){a.w(r,m);g&&(a.w(k,l),a.w(q,n),p=q);y.xc(l,n);y.normalize();x.xc(m,l);x.normalize();if(p==r)break;var D=y.Vi(x),F=y.pi(x),P=!0;0>D||0>F&&0==D||!this.sw(n,l,m)||(w.L(m),P=!1,++z,h=!0);if(P){if(0<z)for(;;){D=0<b?a.Ra(p):a.U(p);if(D==
k)break;a.w(D,t);if(this.sw(t,n,w))n.L(t),p=D,P=!1,++z;else{D!=r&&this.sw(t,n,m)&&this.sw(t,l,m)&&(n.L(t),p=D,P=!1,++z);break}}if(!P)continue;if(0<z){p=0<b?a.Ra(q):a.U(q);for(g=1;g<z;g++)P=0<b?a.Ra(p):a.U(p),a.td(p,!0),p=P;L.xc(l,n);z=L.length();z=B*B-z*z*.25;z=Math.sqrt(z);B-z>.5*this.Zk?(u.add(n,l),u.scale(.5),L.normalize(),L.Tr(),A.L(L),A.scale(B-z),u.add(A),a.Nf(q,u)):a.td(q,!0);z=0}n.L(l);p=k}l.L(m);q=k;k=r;r=0<b?a.U(k):a.Ra(k);C++;g=!1}if(0<z){p=0<b?a.Ra(q):a.U(q);for(g=1;g<z;g++)P=0<b?a.Ra(p):
a.U(p),a.td(p,!0),p=P;u.add(n,l);u.scale(.5);L.xc(l,n);z=L.length();z=B*B-z*z*.25;z=Math.sqrt(z);L.normalize();L.Tr();A.L(L);A.scale(B-z);u.add(A);a.Nf(q,u)}a.zq(this.bB,!1,!1);if(!h)break}};f.prototype.FH=function(a,d){if(1==a.La(d))return!0;var b=new e.h;a.nk(d,b);return Math.max(b.O(),b.ea())<.5*this.Zk?!0:!1};f.prototype.EH=function(a){var d=new e.h;a.s(d);return Math.max(d.O(),d.ea())<.5*this.Zk?!0:!1};f.prototype.rW=function(a){a=e.ND.local().V(a,.25*this.Zk,!1,this.mc);for(var d=0,b=0,f=a.aa();b<
f;b++)d=Math.max(a.La(b),d);if(32>d)return this.dr=!1,a;this.dr=!0;return e.Cg.ql(a,this.Xt,!1,!0,this.mc)};f.prototype.nv=function(a,d){d=d.w();if(null!=this.Ud&&0!==this.Ud.length){var b=new e.b;b.L(this.Ud[0]);b.tu(this.wb,d);a.Bu(b);for(var f=1,h=this.Ud.length;f<h;f++)b.L(this.Ud[f]),b.tu(this.wb,d),a.bj(b)}else for(var f=this.DF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,h=Math.cos(f),k=Math.sin(f),q=new e.b,c=3;0<=c;c--){q.ja(0,this.wb);switch(c){case 0:for(f=0;f<b;f++)a.ak(q.x+d.x,q.y+d.y),
q.su(h,k);break;case 1:for(f=0;f<b;f++)a.ak(-q.y+d.x,q.x+d.y),q.su(h,k);break;case 2:for(f=0;f<b;f++)a.ak(-q.x+d.x,-q.y+d.y),q.su(h,k);break;default:for(a.$x(q.y+d.x,-q.x+d.y),f=1;f<b;f++)q.su(h,k),a.ak(q.y+d.x,-q.x+d.y)}this.Or()}};f.lf=function(a){a.Xg(1,0);return a};f.prototype.SX=function(a){a.Xg(2,this.ta);a.Fl();return a};return f}();e.EL=f})(u||(u={}));(function(e){var c=function(){function c(b){this.Ha=b;this.a=new e.ed;this.md=new e.ha(0)}c.prototype.ki=function(b,a,d){switch(a){case 0:if(b.o<
d&&b.v<=d)break;else return b.o>=d?1:-1;case 1:if(b.A<d&&b.B<=d)break;else return b.A>=d?1:-1;case 2:if(b.o>=d&&b.v>d)break;else return b.v<=d?1:-1;case 3:if(!(b.A>=d&&b.B>d))return b.B<=d?1:-1}return 0};c.prototype.fz=function(b,a,d){return 1736==b.G()?this.gz(b,a,d):this.hz(b,a)};c.prototype.gz=function(b,a,d){if(0==this.Ha.O()||0==this.Ha.ea())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,h=new e.h,k=new e.b,q=new e.b,c=[0,0,0,0,0,0,0,0,0],v=[0,0,0,0,0,0,0,0,0];new e.Bg;var p=
new e.Hb,N=new e.ha(0);N.zb(Math.min(100,b.D()));for(var g=!1,l=0;!g&&4>l;l++){var E=!1,m=0!=(l&1),n=0;switch(l){case 0:n=this.Ha.o;E=a.o<=n&&a.v>=n;break;case 1:n=this.Ha.A;E=a.A<=n&&a.B>=n;break;case 2:n=this.Ha.v;E=a.o<=n&&a.v>=n;break;case 3:n=this.Ha.B,E=a.A<=n&&a.B>=n}if(E)for(g=!0,E=this.a.Pb(this.Y);-1!=E;){var u=-1,t=-1,w=this.a.cb(E),x=w;do{var y=this.a.jc(x);null==y&&(y=p,this.a.w(x,k),y.Lc(k),this.a.w(this.a.U(x),q),y.Xc(q));y.s(f);var L=this.ki(f,l,n),A=0,B=-1;if(-1==L){y=y.Tq(m,n,c,
v);0<y?A=this.a.Em(x,v,y):A=0;for(var A=A+1,z=x,C=this.a.U(z),y=0;y<A;y++){this.a.w(z,k);this.a.w(C,q);B=this.a.jc(z);null==B&&(B=p,B.Lc(k),B.Xc(q));B.s(h);B=this.ki(h,l,n);if(-1==B){if(m)B=Math.abs(k.y-n),D=Math.abs(q.y-n),B<D?(k.y=n,this.a.Nf(z,k)):(q.y=n,this.a.Nf(C,q));else{var B=Math.abs(k.x-n),D=Math.abs(q.x-n);B<D?(k.x=n,this.a.Nf(z,k)):(q.x=n,this.a.Nf(C,q))}B=this.a.jc(z);null==B&&(B=p,B.Lc(k),B.Xc(q));B.s(h);B=this.ki(h,l,n)}D=u;u=B;-1==t&&(t=u);if(0!=D||1!=u)1==D&&0==u||0!=D||0!=u||N.add(z);
1==u&&(g=!1);B=z=C;C=this.a.U(C)}}if(0==A){D=u;u=L;-1==t&&(t=u);if(0!=D||1!=u)1==D&&0==u||0!=D||0!=u||N.add(x);1==u&&(g=!1);B=this.a.U(x)}x=B}while(x!=w);0==t&&0==u&&N.add(w);y=0;for(u=N.size;y<u;y++)t=N.get(y),this.a.td(t,!1);N.clear(!1);E=3>this.a.La(E)?this.a.Qr(E):this.a.Sb(E)}}if(g)return b.Ka();this.iC();0<d&&this.uz(d);return this.a.Pe(this.Y)};c.prototype.hz=function(b){var a=new e.h,d=new e.h,f=[0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0],k=new e.Bg,q=b,c=new e.h;b.ac(c);for(var v=0;4>v;v++){var p=
!1,N=0!=(v&1),g=0;switch(v){case 0:g=this.Ha.o;p=c.o<=g&&c.v>=g;break;case 1:g=this.Ha.A;p=c.A<=g&&c.B>=g;break;case 2:g=this.Ha.v;p=c.o<=g&&c.v>=g;break;case 3:g=this.Ha.B,p=c.A<=g&&c.B>=g}if(p){p=q;q=b.Ka();p=p.Fa();p.zj();for(var l,E=new e.b;p.Ya();)for(var m,n=!0;p.Ea();){var u=p.ba();u.s(a);var t=this.ki(a,v,g);if(-1==t){if(t=u.Tq(N,g,f,h),0<t){var w=0;l=u.ec();for(var x=0;x<=t;x++)if(m=x<t?h[x]:1,w!=m){u.yh(w,m,k);var y=k.get();y.Lc(l);x<t&&(N?(E.x=f[x],E.y=g):(E.x=g,E.y=f[x]),y.Xc(E));y.s(d);
var L=this.ki(d,v,g);if(-1==L){l=y.ec();w=y.Ac();if(N)L=Math.abs(l.y-g),A=Math.abs(w.y-g),L<A?(l.y=g,y.Lc(l)):(w.y=g,y.Xc(w));else{var L=Math.abs(l.x-g),A=Math.abs(w.x-g);L<A?(l.x=g,y.Lc(l)):(w.x=g,y.Xc(w))}y.s(d);L=this.ki(d,v,g)}l=y.Ac();w=m;m=L;1==m?(q.cc(y,n),n=!1):n=!0}}}else m=t,1==m?(q.cc(u,n),n=!1):n=!0}}}return q};c.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var d=this.a.cb(a),f=0,h=this.a.La(a);f<h;f++,d=this.a.U(d))if(this.a.w(d,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(d,this.Li,this.md.size),this.md.add(d);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};c.prototype.uz=function(b){for(var a=new e.b,d=new e.b,f=e.J.df(2048,0),h=this.a.Pb(this.Y);-1!=h;h=this.a.Sb(h)){var k=this.a.cb(h),q=k;do{var c=this.a.U(q);
this.a.w(q,a);var v=-1;a.x==this.Ha.o?(this.a.w(c,d),d.x==this.Ha.o&&(v=1)):a.x==this.Ha.v&&(this.a.w(c,d),d.x==this.Ha.v&&(v=1));a.y==this.Ha.A?(this.a.w(c,d),d.y==this.Ha.A&&(v=0)):a.y==this.Ha.B&&(this.a.w(c,d),d.y==this.Ha.B&&(v=0));if(-1!=v&&(v=e.b.Cb(a,d),v=e.J.truncate(Math.min(Math.ceil(v/b),2048)),!(1>=v))){for(var p=1;p<v;p++)f[p-1]=1*p/v;this.a.Em(q,f,v-1)}q=c}while(q!=k)}};c.prototype.Fm=function(b,a){var d=this.a.Sd(),f=new e.b,h=new e.ha(0);h.zb(100);for(var k=this.a.Pb(this.Y);-1!=
k;k=this.a.Sb(k))for(var q=this.a.cb(k),c=0,v=this.a.La(k);c<v;c++){var p=this.a.U(q);this.a.w(q,f);if(b?f.y==a:f.x==a)if(this.a.w(p,f),b?f.y==a:f.x==a)1!=this.a.Sa(q,d)&&(h.add(q),this.a.Va(q,d,1)),1!=this.a.Sa(p,d)&&(h.add(p),this.a.Va(p,d,1));q=p}this.a.je(d);if(!(3>h.size)){var N=this;h.Fd(0,h.size,function(a,d){return N.li(a,d)});d=new e.b;k=new e.b;q=new e.b;k.Yc();for(var g=-1,c=new e.ha(0),v=new e.ha(0),p=this.a.Sd(),l=this.a.Sd(),E=0,m=h.size;E<m;E++){var n=h.get(E);this.a.w(n,f);if(!f.vb(k)){if(-1!=
g){for(var u=g;u<E;u++){var g=h.get(u),t=this.a.U(g),n=this.a.Ra(g),w=!1;0>this.li(g,t)&&(this.a.w(t,d),b?d.y==a:d.x==a)&&(c.add(g),w=!0,this.a.Va(g,l,1));0>this.li(g,n)&&(this.a.w(n,d),b?d.y==a:d.x==a)&&(w||c.add(g),this.a.Va(g,p,1))}u=0;for(w=c.size;u<w;u++){g=c.get(u);n=this.a.Sa(g,p);t=this.a.Sa(g,l);if(1==n){n=this.a.Ra(g);this.a.w(n,q);var x=[0];x[0]=0;if(!q.vb(f)){var y=e.b.Cb(k,q);x[0]=e.b.Cb(q,f)/y;0==x[0]?x[0]=2.220446049250313E-16:1==x[0]&&(x[0]=.9999999999999998);this.a.Em(n,x,1);n=this.a.Ra(g);
this.a.Nf(n,f);v.add(n);this.a.Va(n,p,1);this.a.Va(n,l,-1)}}1==t&&(t=this.a.U(g),this.a.w(t,q),x=[0],x[0]=0,q.vb(f)||(y=e.b.Cb(k,q),x[0]=e.b.Cb(k,f)/y,0==x[0]?x[0]=2.220446049250313E-16:1==x[0]&&(x[0]=.9999999999999998),this.a.Em(g,x,1),n=this.a.U(g),this.a.Nf(n,f),v.add(n),this.a.Va(n,p,-1),this.a.Va(n,l,1)))}g=c;c=v;v=g;v.clear(!1)}g=E;k.L(f)}}this.a.je(p);this.a.je(l)}};c.prototype.xm=function(b,a){var d=new e.b,f=new e.ha(0);f.zb(100);for(var h=this.a.Sd(),k=0,q=this.md.size;k<q;k++){var c=this.md.get(k);
if(-1!=c){var v=this.a.U(c);this.a.w(c,d);if(b?d.y==a:d.x==a)if(this.a.w(v,d),b?d.y==a:d.x==a)-2!=this.a.Sa(c,h)&&(f.add(c),this.a.Va(c,h,-2)),-2!=this.a.Sa(v,h)&&(f.add(v),this.a.Va(v,h,-2))}}if(0!=f.size){var p=this;f.Fd(0,f.size,function(a,d){return p.li(a,d)});k=0;for(q=f.size;k<q;k++){var N=f.get(k);this.a.Va(N,h,k)}c=new e.b;v=new e.b;v.Yc();for(var g=-1,k=0,q=f.size;k<q;k++)if(N=f.get(k),-1!=N&&(this.a.w(N,d),!d.vb(v))){if(-1!=g)for(;;){for(var N=!1,l=1<k-g?k-1:k,E=g;E<l;E++){var m=f.get(E);
if(-1!=m){var n=-1,u=this.a.U(m);0>this.li(m,u)&&(this.a.w(u,c),b?c.y==a:c.x==a)&&(n=u);var u=-1,t=this.a.Ra(m);0>this.li(m,t)&&(this.a.w(t,c),b?c.y==a:c.x==a)&&(u=t);if(-1!=n&&-1!=u)this.ji(m,f,h),this.a.td(m,!1),this.ji(n,f,h),this.a.td(n,!1),N=!0;else if(-1!=n||-1!=u){for(t=E+1;t<k;t++){var w=f.get(t);if(-1!=w){var x=this.a.U(w),y=-1;0>this.li(w,x)&&(this.a.w(x,c),b?c.y==a:c.x==a)&&(y=x);var x=this.a.Ra(w),L=-1;0>this.li(w,x)&&(this.a.w(x,c),b?c.y==a:c.x==a)&&(L=x);if(-1!=y&&-1!=L){this.ji(w,f,
h);this.a.td(w,!1);this.ji(y,f,h);this.a.td(y,!1);N=!0;break}if(-1!=n&&-1!=L){this.qu(f,m,n,w,L,h);N=!0;break}else if(-1!=u&&-1!=y){this.qu(f,w,y,m,u,h);N=!0;break}}}if(N)break}}}if(!N)break}g=k;v.L(d)}}this.a.je(h)};c.prototype.ji=function(b,a,d){d=this.a.Sa(b,d);a.set(d,-1);d=this.a.Sa(b,this.Li);this.md.set(d,-1);a=this.a.kd(b);-1!=a&&this.a.cb(a)==b&&(this.a.ig(a,-1),this.a.rh(a,-1))};c.prototype.qu=function(b,a,d,f,h,e){this.a.Jc(a,f);this.a.Kc(f,a);this.a.Kc(d,h);this.a.Jc(h,d);this.ji(f,b,
e);this.a.Ni(f,!1);this.ji(h,b,e);this.a.Ni(h,!0)};c.prototype.Ez=function(){for(var b=0,a=this.md.size;b<a;b++){var d=this.md.get(b);-1!=d&&this.a.Bj(d,-1)}for(var f=0,h=0,e=this.a.Pb(this.Y);-1!=e;){var q=this.a.cb(e);if(-1==q||e!=this.a.kd(q)){var c=e,e=this.a.Sb(e);this.a.ig(c,-1);this.a.Rr(c)}else{d=q;c=0;do this.a.Bj(d,e),c++,d=this.a.U(d);while(d!=q);2>=c?(d=this.a.Sa(q,this.Li),this.md.set(d,-1),q=this.a.td(q,!1),2==c&&(d=this.a.Sa(q,this.Li),this.md.set(d,-1),this.a.td(q,!1)),c=e,e=this.a.Sb(e),
this.a.ig(c,-1),this.a.Rr(c)):(this.a.Up(e,!1),this.a.rh(e,this.a.Ra(q)),this.a.sk(e,c),h+=c,f++,e=this.a.Sb(e))}}b=0;for(a=this.md.size;b<a;b++)if(d=this.md.get(b),-1!=d&&(e=this.a.kd(d),-1==e)){e=this.a.Vf(this.Y,-1);c=0;q=d;do this.a.Bj(d,e),c++,d=this.a.U(d);while(d!=q);2>=c?(d=this.a.Sa(q,this.Li),this.md.set(d,-1),q=this.a.td(q,!1),2==c&&(d=this.a.Sa(q,this.Li),0<=d&&this.md.set(d,-1),this.a.td(q,!1)),c=e,this.a.ig(c,-1),this.a.Rr(c)):(this.a.ho(e,!0),this.a.sk(e,c),this.a.ig(e,q),this.a.rh(e,
this.a.Ra(q)),this.a.Up(e,!1),h+=c,f++)}this.a.Bm(this.Y,f);this.a.qk(this.Y,h);b=0;for(a=this.a.qd;-1!=a;a=this.a.Re(a))b+=this.a.D(a);this.a.CC(b)};c.xl=function(b,a,d,f){return(new c(a)).fz(b,d,f)};c.clip=function(b,a,d,f){if(b.u())return b;if(a.u())return b.Ka();var h=b.G();if(33==h)return d=b.w(),a.contains(d)?b:b.Ka();if(197==h)return d=new e.h,b.s(d),d.Ma(a)?(a=new e.di,b.copyTo(a),a.Np(d),a):b.Ka();var k=new e.h;b.ac(k);if(a.contains(k))return b;if(!a.Yb(k))return b.Ka();k=b.ob;if(null!=k&&
(k=k.Ii,null!=k)){k=k.Xn(a);if(1==k){if(1736!=h)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==k)return b.Ka()}switch(h){case 550:f=null;for(var h=b.D(),k=b.Qa(0),q=0,r=0;r<h;r++)d=new e.b,k.fc(2*r,d),a.contains(d)||(0==q&&(f=b.Ka()),q<r&&f.Hd(b,q,r),q=r+1);0<q&&f.Hd(b,q,h);return 0==q?b:f;case 1736:case 1607:return c.xl(b,a,d,f);default:throw e.g.za();}};c.prototype.li=function(b,a){var d=new e.b;this.a.w(b,d);b=new e.b;this.a.w(a,b);return d.compare(b)};return c}();e.le=c})(u||
(u={}));(function(e){var c=function(){function c(b,a){this.Ha=b;this.a=new e.ed;this.md=new e.ha(0);this.ie=a}c.prototype.ki=function(b,a,d){switch(a){case 0:if(b.o<d&&b.v<=d)break;else return b.o>=d?1:-1;case 1:if(b.A<d&&b.B<=d)break;else return b.A>=d?1:-1;case 2:if(b.o>=d&&b.v>d)break;else return b.v<=d?1:-1;case 3:if(!(b.A>=d&&b.B>d))return b.B<=d?1:-1}return 0};c.prototype.fz=function(b,a,d){return 1736==b.G()?this.gz(b,a,d):this.hz(b,a)};c.prototype.gz=function(b,a,d){if(0==this.Ha.O()||0==
this.Ha.ea())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,h=new e.h,k=new e.b,q=new e.b,c=[0,0,0,0,0,0,0,0,0],v=[0,0,0,0,0,0,0,0,0],p=new e.Hb,N=new e.ha(0);N.zb(256);for(var g=!1,l=0;!g&&4>l;l++){var E=!1,m=0!=(l&1),n=0;switch(l){case 0:n=this.Ha.o;E=a.o<=n&&a.v>=n;break;case 1:n=this.Ha.A;E=a.A<=n&&a.B>=n;break;case 2:n=this.Ha.v;E=a.o<=n&&a.v>=n;break;case 3:n=this.Ha.B,E=a.A<=n&&a.B>=n}if(E)for(g=!0,E=this.a.Pb(this.Y);-1!=E;){var u=!0,t=-1,w=-1,x=this.a.cb(E),y=x;do{var L=
this.a.jc(y);null==L&&(L=p,this.a.w(y,k),L.Lc(k),this.a.w(this.a.U(y),q),L.Xc(q));L.s(f);var A=this.ki(f,l,n),B=0,z=-1;if(-1==A){L=L.Tq(m,n,c,v);0<L?B=this.a.iY(y,v,L):B=0;for(var B=B+1,D=y,C=this.a.U(D),L=0;L<B;L++){this.a.w(D,k);this.a.w(C,q);z=this.a.jc(D);null==z&&(z=p,z.Lc(k),z.Xc(q));z.s(h);z=this.ki(h,l,n);if(-1==z){if(m)z=Math.abs(k.y-n),P=Math.abs(q.y-n),z<P?(k.y=n,this.a.Nf(D,k)):(q.y=n,this.a.Nf(C,q));else{var z=Math.abs(k.x-n),P=Math.abs(q.x-n);z<P?(k.x=n,this.a.Nf(D,k)):(q.x=n,this.a.Nf(C,
q))}z=this.a.jc(D);null==z&&(z=p,z.Lc(k),z.Xc(q));z.s(h);z=this.ki(h,l,n)}P=t;t=z;-1==w&&(w=t);if(0!=P||1!=t)1==P&&0==t||0!=P||0!=t||N.add(D);1==t&&(u=g=!1);z=D=C;C=this.a.U(C)}}if(0==B){P=t;t=A;-1==w&&(w=t);if(0!=P||1!=t)1==P&&0==t||0!=P||0!=t||N.add(y);1==t&&(u=g=!1);z=this.a.U(y)}y=z;if(256<=N.size){L=1;for(A=N.size-1;L<A;L++)B=N.get(L),this.a.td(B,!1);N.set(1,N.Ec());N.uf(2)}}while(y!=x);if(!u)for(0==w&&0==t&&N.add(x),L=0,A=N.size;L<A;L++)B=N.get(L),this.a.td(B,!1);N.clear(!1);E=u||0==this.a.La(E)?
this.a.Qr(E):this.a.Sb(E)}}if(g)return b.Ka();this.iC();0<d&&this.uz(d);return this.a.Pe(this.Y)};c.prototype.hz=function(b){var a=new e.h,d=new e.h,f=[0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0],k=new e.Bg,q=b,c=new e.h;b.ac(c);for(var v=new e.b,p=new e.b,N=null,g=null,l=0;4>l;l++){var E=!1,m=0!=(l&1),n=0;switch(l){case 0:n=this.Ha.o;E=c.o<=n&&c.v>=n;break;case 1:n=this.Ha.A;E=c.A<=n&&c.B>=n;break;case 2:n=this.Ha.v;E=c.o<=n&&c.v>=n;break;case 3:n=this.Ha.B,E=c.A<=n&&c.B>=n}if(E)for(E=q,q=b.Ka(),E=
E.Fa(),E.zj();E.Ya();)for(var u,t=!0;E.Ea();){var w=E.ba();w.s(a);var x=this.ki(a,l,n);if(-1==x){if(x=w.Tq(m,n,f,h),0<x){var y=0;w.Oq(v);for(var L=0;L<=x;L++)if(u=L<x?h[L]:1,y!=u){w.yh(y,u,k);var A=k.get();A.Lc(v);L<x&&(m?(p.x=f[L],p.y=n):(p.x=n,p.y=f[L]),A.Xc(p));A.s(d);var B=this.ki(d,l,n);-1==B&&(null==N&&(N=new e.b),null==g&&(g=new e.b),A.Oq(N),A.Ns(g),m?(y=Math.abs(N.y-n),B=Math.abs(g.y-n),y<B?(N.y=n,A.Lc(N)):(g.y=n,A.Xc(g))):(y=Math.abs(N.x-n),B=Math.abs(g.x-n),y<B?(N.x=n,A.Lc(N)):(g.x=n,A.Xc(g))),
A.s(d),B=this.ki(d,l,n));A.Ns(v);y=u;u=B;1==u?(q.cc(A,t),t=!1):t=!0}}}else u=x,1==u?(q.cc(w,t),t=!1):t=!0}}return q};c.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var d=this.a.cb(a),f=0,h=this.a.La(a);f<h;f++,d=this.a.U(d))if(this.a.w(d,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(d,
this.Li,this.md.size),this.md.add(d);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};c.prototype.uz=function(b){for(var a=new e.b,d=new e.b,f=null,h=null,k=e.J.df(2048,0),q=this.a.Pb(this.Y);-1!=q;q=this.a.Sb(q)){var c=this.a.cb(q),v=c;do{var p=this.a.U(v);this.a.w(v,a);var N=-1;a.x==this.Ha.o?(this.a.w(p,d),d.x==this.Ha.o&&(N=1)):a.x==this.Ha.v&&(this.a.w(p,d),d.x==this.Ha.v&&(N=1));a.y==this.Ha.A?(this.a.w(p,d),d.y==this.Ha.A&&(N=0)):a.y==this.Ha.B&&
(this.a.w(p,d),d.y==this.Ha.B&&(N=0));if(-1!=N){null==f&&(f=new e.b);null==h&&(h=new e.b);f.L(a);h.ja(0,0);if(0==N){var g=a.x-this.Ha.o;h.x=e.Ub.sign(d.x-a.x);f.x=b*e.Ub.Kl(Math.floor(Math.abs(g/b)),g)+this.Ha.o;0>f.x&&(f.x+=b)}else g=a.y-this.Ha.A,h.y=e.Ub.sign(d.y-a.y),f.y=b*e.Ub.Kl(Math.floor(Math.abs(g/b)),g)+this.Ha.A,0>f.y&&(f.y+=b);var g=0!=N?d.y-a.y:d.x-a.x,l=Math.abs(g);if(65536<l/b)throw e.g.X("internal error");if(0<l){l=e.J.truncate(l/b)+2;k.length<l&&(k=e.J.df(l));for(var E=l=0;;E++){var m=
new e.b;m.x=f.x+h.x*E*b;m.y=f.y+h.y*E*b;m=(0!=N?m.y-a.y:m.x-a.x)/g;if(1<=m)break;0>=m||(k[l]=m,l++)}0!=l&&this.a.Em(v,k,l)}}v=p}while(v!=c)}};c.prototype.Fm=function(b,a){for(var d=-1,f=new e.b,h=null,k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k))for(var q=this.a.cb(k),c=0,v=this.a.La(k);c<v;c++){var p=this.a.U(q);this.a.w(q,f);if(b?f.y==a:f.x==a)if(this.a.w(p,f),b?f.y==a:f.x==a)-1==d&&(d=this.a.Sd()),null==h&&(h=new e.ha(0),h.zb(100)),1!=this.a.Sa(q,d)&&(h.add(q),this.a.Va(q,d,1)),1!=this.a.Sa(p,d)&&
(h.add(p),this.a.Va(p,d,1));q=p}-1!=d&&this.a.je(d);if(!(null==h||3>h.size)){var N=this;h.Fd(0,h.size,function(a,d){return N.li(a,d)});d=new e.b;k=new e.b;q=new e.b;k.Yc();for(var g=-1,c=new e.ha(0),v=new e.ha(0),p=null,l=this.a.Sd(),E=this.a.Sd(),m=0,n=h.size;m<n;m++){var u=h.get(m);this.a.w(u,f);if(!f.vb(k)){if(-1!=g){for(var t=g;t<m;t++){var g=h.get(t),w=this.a.U(g),u=this.a.Ra(g),x=!1;this.a.w(w,d);0>k.compare(d)&&(b?d.y==a:d.x==a)&&(c.add(g),x=!0,this.a.Va(g,E,1));this.a.w(u,d);0>k.compare(d)&&
(b?d.y==a:d.x==a)&&(x||c.add(g),this.a.Va(g,l,1))}t=0;for(x=c.size;t<x;t++){g=c.get(t);u=this.a.Sa(g,l);w=this.a.Sa(g,E);if(1==u&&(u=this.a.Ra(g),this.a.w(u,q),!q.vb(f))){null==p&&(p=[]);var y=e.b.Cb(k,q);p[0]=e.b.Cb(q,f)/y;0==p[0]?p[0]=2.220446049250313E-16:1==p[0]&&(p[0]=.9999999999999998);this.a.Em(u,p,1);u=this.a.Ra(g);this.a.Nf(u,f);v.add(u);this.a.Va(u,l,1);this.a.Va(u,E,-1)}1==w&&(w=this.a.U(g),this.a.w(w,q),q.vb(f)||(null==p&&(p=[]),y=e.b.Cb(k,q),p[0]=e.b.Cb(k,f)/y,0==p[0]?p[0]=2.220446049250313E-16:
1==p[0]&&(p[0]=.9999999999999998),this.a.Em(g,p,1),u=this.a.U(g),this.a.Nf(u,f),v.add(u),this.a.Va(u,l,-1),this.a.Va(u,E,1)))}g=c;c=v;v=g;v.clear(!1)}g=m;k.L(f)}}this.a.je(l);this.a.je(E)}};c.prototype.xm=function(b,a){for(var d=new e.b,f=null,h=-1,k=0,q=this.md.size;k<q;k++){var c=this.md.get(k);if(-1!=c){var v=this.a.U(c);this.a.w(c,d);if(b?d.y==a:d.x==a)if(this.a.w(v,d),b?d.y==a:d.x==a)-1==h&&(h=this.a.Sd()),null==f&&(f=new e.ha(0),f.zb(100)),-2!=this.a.Sa(c,h)&&(f.add(c),this.a.Va(c,h,-2)),-2!=
this.a.Sa(v,h)&&(f.add(v),this.a.Va(v,h,-2))}}if(null==f)-1!=h&&this.a.je(h);else{var p=this;f.Fd(0,f.size,function(a,d){return p.li(a,d)});k=0;for(q=f.size;k<q;k++){var g=f.get(k);this.a.Va(g,h,k)}c=new e.b;v=new e.b;v.Yc();for(var H=-1,k=0,q=f.size;k<q;k++)if(g=f.get(k),-1!=g&&(this.a.w(g,d),!d.vb(v))){if(-1!=H)for(;;){for(var g=!1,l=1<k-H?k-1:k,E=H;E<l;E++){var m=f.get(E);if(-1!=m){var n=-1,u=this.a.U(m);this.a.w(u,c);0>v.compare(c)&&(b?c.y==a:c.x==a)&&(n=u);var u=-1,t=this.a.Ra(m);this.a.w(t,
c);0>v.compare(c)&&(b?c.y==a:c.x==a)&&(u=t);if(-1!=n&&-1!=u)this.ji(m,f,h),this.a.td(m,!1),this.ji(n,f,h),this.a.td(n,!1),g=!0;else if(-1!=n||-1!=u){for(t=E+1;t<k;t++){var w=f.get(t);if(-1!=w){var x=this.a.U(w),y=-1;this.a.w(x,c);0>v.compare(c)&&(b?c.y==a:c.x==a)&&(y=x);var x=this.a.Ra(w),L=-1;this.a.w(x,c);0>v.compare(c)&&(b?c.y==a:c.x==a)&&(L=x);if(-1!=y&&-1!=L){this.ji(w,f,h);this.a.td(w,!1);this.ji(y,f,h);this.a.td(y,!1);g=!0;break}if(-1!=n&&-1!=L){this.qu(f,m,n,w,L,h);g=!0;break}else if(-1!=
u&&-1!=y){this.qu(f,w,y,m,u,h);g=!0;break}}}if(g)break}}}if(!g)break}H=k;v.L(d)}this.a.je(h)}};c.prototype.ji=function(b,a,d){d=this.a.Sa(b,d);a.set(d,-1);d=this.a.Sa(b,this.Li);this.md.set(d,-1);a=this.a.kd(b);-1!=a&&this.a.cb(a)==b&&(this.a.ig(a,-1),this.a.rh(a,-1))};c.prototype.qu=function(b,a,d,f,h,e){this.a.Jc(a,f);this.a.Kc(f,a);this.a.Kc(d,h);this.a.Jc(h,d);this.ji(f,b,e);this.a.Ni(f,!1);this.ji(h,b,e);this.a.Ni(h,!0)};c.prototype.Ez=function(){for(var b=0,a=this.md.size;b<a;b++){var d=this.md.get(b);
-1!=d&&this.a.Bj(d,-1)}for(var f=0,h=0,e=this.a.Pb(this.Y);-1!=e;){var q=this.a.cb(e);if(-1==q||e!=this.a.kd(q)){var c=e,e=this.a.Sb(e);this.a.ig(c,-1);this.a.Rr(c)}else{d=q;c=0;do this.a.Bj(d,e),c++,d=this.a.U(d);while(d!=q);this.a.Up(e,!1);this.a.rh(e,this.a.Ra(q));this.a.sk(e,c);h+=c;f++;e=this.a.Sb(e)}}b=0;for(a=this.md.size;b<a;b++)if(d=this.md.get(b),-1!=d&&(e=this.a.kd(d),-1==e)){e=this.a.Vf(this.Y,-1);c=0;q=d;do this.a.Bj(d,e),c++,d=this.a.U(d);while(d!=q);2>=c?(d=this.a.Sa(q,this.Li),this.md.set(d,
-1),q=this.a.td(q,!1),2==c&&(d=this.a.Sa(q,this.Li),0<=d&&this.md.set(d,-1),this.a.td(q,!1)),c=e,this.a.ig(c,-1),this.a.Rr(c)):(this.a.ho(e,!0),this.a.sk(e,c),this.a.ig(e,q),this.a.rh(e,this.a.Ra(q)),this.a.Up(e,!1),h+=c,f++)}this.a.Bm(this.Y,f);this.a.qk(this.Y,h);b=0;for(a=this.a.qd;-1!=a;a=this.a.Re(a))b+=this.a.D(a);this.a.CC(b)};c.ye=function(b,a,d,f,h){return(new c(a,h)).fz(b,d,f)};c.clip=function(b,a,d,f,h){return c.rq(b,a,null,d,f,h)};c.rq=function(b,a,d,f,h,k){var q=b.G();if(33==q)return h=
b.w(),a.contains(h)?b:b.Ka();if(197==q)return h=new e.h,b.s(h),h.Ma(a)?(a=new e.di,b.copyTo(a),a.Np(h),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var r=new e.h;b.ac(r);if(a.contains(r))return b;if(!a.Yb(r))return b.Ka();if(null!=d||isNaN(f))f=e.na.Xy(d,a,!1);if(!e.T.fh(q))throw e.g.F();d=b.ob;if(null!=d&&(d=d.Ii,null!=d)){d=d.Xn(a);if(1==d){if(1736!=q)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==d)return b.Ka()}switch(q){case 550:k=null;q=b.D();f=b.Qa(0);
d=0;h=new e.b;for(r=0;r<q;r++)f.fc(2*r,h),a.contains(h)||(0==d&&(k=b.Ka()),d<r&&k.Hd(b,d,r),d=r+1);0<d&&k.Hd(b,d,q);return 0==d?b:k;case 1736:case 1607:return c.ye(b,a,f,h,k);default:throw e.g.X("internal error");}};c.prototype.li=function(b,a){var d=new e.b;this.a.w(b,d);b=new e.b;this.a.w(a,b);return d.compare(b)};return c}();e.th=c})(u||(u={}));(function(e){var c=new e.b,p=function(){function a(a,b,h,k,q){this.In=new e.b;this.hl=new e.b;this.pj=new e.b;this.a=a;this.px=h;this.hp=k;this.In=b;this.im=
q;this.hl.Yc();this.pj.Yc()}a.prototype.HF=function(a){this.a.w(a,this.hl);a=e.J.truncate((this.hl.x-this.In.x)*this.hp+.5);var d=e.J.truncate((this.hl.y-this.In.y)*this.hp+.5);return b.lH(a,d)};a.prototype.Yz=function(a){return this.a.Sa(a,this.im)};a.prototype.zz=function(a,f){this.a.w(a,this.hl);this.a.w(f,this.pj);return b.pw(this.hl.x,this.hl.y,this.pj.x,this.pj.y,this.px)};return a}();e.fZ=function(){return function(){}}();var b=function(){function a(){this.In=new e.b;this.er=[0,0,0,0];this.vt=
[0,0,0,0];this.kp=this.im=-1}a.zR=function(d,b){var f=new a;f.a=d;f.ta=b;f.px=b*b;f.Nw=2*b;f.hp=1/f.Nw;return f.aQ()};a.pw=function(a,b,h,e,q){a-=h;b-=e;return a*a+b*b<=q};a.lH=function(a,b){return e.J.bh(b,e.J.bh(a))};a.prototype.cQ=function(d,b){this.a.Mc(d,c);for(var f=(c.y-this.In.y)*this.hp,k=e.J.truncate((c.x-this.In.x)*this.hp),q=e.J.truncate(f),r=f=0;1>=r;r+=1)for(var v=0;1>=v;v+=1){var p=a.lH(k+r,q+v),g=this.hm.IS(p);-1!=g&&(this.er[f]=g,this.vt[f]=p,f++)}for(k=f-1;1<=k;k--)for(g=this.er[k],
q=k-1;0<=q;q--)if(g==this.er[q]){this.vt[q]=-1;f--;k!=f&&(this.vt[k]=this.vt[f],this.er[k]=this.er[f]);break}for(q=0;q<f;q++)this.dQ(d,this.vt[q],c,this.er[q],b)};a.prototype.dQ=function(d,b,h,k,q){for(var f=new e.b;-1!=k;k=this.hm.YS(k)){var c=this.hm.ia(k);d==c||-1!=b&&this.a.Sa(c,this.im)!=b||(this.a.Mc(c,f),a.pw(h.x,h.y,f.x,f.y,this.px)&&q.add(k))}};a.prototype.Rn=function(a,b,h){var d=this.a.Sa(a,this.kp),f=this.a.Sa(b,this.kp);-1==d&&(d=this.Md.ni(),this.Md.addElement(d,a),this.a.Va(a,this.kp,
d));-1==f?this.Md.addElement(d,b):this.Md.kz(d,f);this.a.Va(b,this.kp,-2);b=this.AV(a,b);h&&(h=this.Yw.HF(a),this.a.Va(a,this.im,h));return b};a.zV=function(d,b,h){d.Eb(b);h=d;var f=new e.b;a.HN(d.w(),b.w(),f);h.rb(f)};a.HN=function(a,b,h){var d=a.x;a.x!=b.x&&(d=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);h.ja(d,f)};a.prototype.AV=function(a,b){var d=new e.b;this.a.w(a,d);var f=new e.b;this.a.w(b,f);var q=this.a.fH(a);b=this.a.fH(b);var c=q+b,v=0,p=d.x;d.x!=f.x&&(p=(d.x*q+f.x*b)/c,v++);
var g=d.y;d.y!=f.y&&(g=(d.y*q+f.y*b)/c,v++);0<v&&this.a.rb(a,p,g);this.a.VX(a,c);return 0!=v};a.prototype.aQ=function(){var a=this.a.ud,b=this.a.LG();this.In=b.aA();b=Math.max(b.ea(),b.O())/2147483646;this.Nw<b&&(this.Nw=b,this.hp=1/this.Nw);this.Md=new e.Nu;this.Md.ru(e.J.truncate(this.a.ud/3+1));this.Md.ao(e.J.truncate(this.a.ud/3+1));this.im=this.a.Sd();this.kp=this.a.Sd();this.Yw=new p(this.a,this.In,this.px,this.hp,this.im);this.hm=new e.nM(e.J.truncate(4*a/3),this.Yw);this.hm.bX(this.a.ud);
a=!1;for(b=this.a.qd;-1!=b;b=this.a.Re(b))for(var h=this.a.Pb(b);-1!=h;h=this.a.Sb(h))for(var k=this.a.cb(h),q=0,c=this.a.La(h);q<c;q++){var v=this.Yw.HF(k);this.a.Va(k,this.im,v);this.hm.addElement(k,v);k=this.a.U(k)}var I=new e.ha(0);I.zb(10);for(b=this.a.qd;-1!=b;b=this.a.Re(b))for(h=this.a.Pb(b);-1!=h;h=this.a.Sb(h))for(k=this.a.cb(h),q=0,c=this.a.La(h);q<c;q++){if(-2!=this.a.Sa(k,this.kp))for(v=this.a.Sa(k,this.im),this.hm.jd(k,v);;){this.cQ(k,I);if(0==I.size)break;for(var v=!1,g=0,H=I.size;g<
H;g++){var l=I.get(g),E=this.hm.ia(l);this.hm.Jd(l);v=this.Rn(k,E,g+1==H)||v}a=a||v;I.clear(!1);if(!v)break}k=this.a.U(k)}a&&this.UO();this.Yw=this.hm=null;this.a.je(this.im);this.a.je(this.kp);return a};a.prototype.UO=function(){for(var a=new e.b,b=this.Md.De;-1!=b;b=this.Md.eA(b)){var h=this.Md.wc(b);this.a.w(this.Md.ia(h),a);for(h=this.Md.nb(h);-1!=h;h=this.Md.nb(h))this.a.Nf(this.Md.ia(h),a)}};return a}();e.Ku=b})(u||(u={}));(function(e){var c=function(){function c(b){void 0===b&&(b=null);this.Le=
null;this.xa=!1;null===b?this.Le=[]:this.Le=b}c.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Le.length;a++)b.Le.push(this.Le[a].Sf())};c.prototype.count=function(){return this.Le.length};c.prototype.KS=function(b){return this.Le[b]};c.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Le.push(b.Sf())};c.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Le.length=0};c.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Le.splice(b,1)};c.prototype.Wv=function(){for(var b=this.me(),a=0;a<b.count();a++)b.KS(a).mt();b.Le=b.Le.reverse();return b};c.prototype.me=function(){var b=new c;this.copyTo(b);return b};c.prototype.Sf=function(){return this.me()};c.prototype.transform=function(b,a,d,f){if(b.length<a)throw e.g.X("invalid Argument");var h=d;for(d=0;d<this.Le.length;d++){var k=this.Le[d];if(null!=
k.jn()){var q=k.tn,c=q?1:0,v=q?k.jn().getGeogcs2():k.jn().getGeogcs1(),v=v.getUnit().getUnitFactor(),v=h/v;if(3.552713678800501E-15<Math.abs(v-1))for(h=0;h<a;h++)b[h][0]*=v,b[h][1]*=v;e.VD.geogToGeog(k.jn(),a,b,null,c);h=(q?k.jn().getGeogcs1():k.jn().getGeogcs2()).getUnit().getUnitFactor()}}v=h/f;if(3.552713678800501E-15<Math.abs(v-1))for(h=0;h<a;h++)b[h][0]*=v,b[h][1]*=v;return a};c.prototype.getName=function(){if(0==this.Le.length)return"";for(var b="",a=0,d=this.Le.length;a<d;++a)""!==b&&(b+=" + "),
b+=this.Le[a].getName();return b};c.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof c)||this.Le.length!=b.Le.length)return!1;for(var a=0;a<this.Le.length;a++)if(!this.Le[a].Eb(b.Le[a]))return!1;return!0};c.prototype.Tp=function(){this.xa=!0};c.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};c.create=function(){return new c};c.Om=function(b,a){var d=new c;d.add(e.oo.create(b,a));return d};c.ro=function(b,
a){var d=new c;d.add(e.oo.eG(b,a));return d};return c}();e.ky=c})(u||(u={}));(function(e){var c=Math.PI,p=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.sQ=function(d,b){var f=new a;f.x=d;f.y=b;f.type=0;f.vi=0;return f};a.Jl=function(d){var b=new a;b.x=d.x;b.y=d.y;b.type=0;b.vi=0;return b};a.rQ=function(d){var b=new a;b.x=d.x;b.y=d.y;b.type=d.type;b.vi=d.vi;return b};a.ae=function(d,b,f){var h=new a;h.x=d.x+b*Math.cos(f);h.y=d.y+b*Math.sin(f);h.type=d.type;h.vi=d.vi;return h};a.Hv=function(d,
b){var f=new a;f.x=.5*(d.x+b.x);f.y=.5*(d.y+b.y);f.type=d.type;f.vi=d.vi;return f};a.ZF=function(d,b){var f=new a;f.x=d.x+.001*(b.x-d.x);f.y=d.y+.001*(b.y-d.y);f.type=d.type;f.vi=d.vi;return f};return a}(),d=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.rM||(e.rM={}));var f=function(){function f(a){this.vB=this.$b=this.Qg=null;this.ie=a}f.V=function(a,d,b,h,c,p){if(null==a)throw e.g.F();if(1>a.ub())throw e.g.F();
if(0==d||a.u())return a;p=new f(p);p.ep=a;p.Pa=d;p.ta=c;p.kj=b;p.lB=h;return p.wy()};f.prototype.UN=function(){var a=this.ep,d=a.ec(),b=a.Ac(),f=new e.b;f.xc(b,d);f.normalize();f.uw();f.scale(this.Pa);d.add(f);b.add(f);f=a.Ka();a.Lc(d);a.Xc(b);return f};f.prototype.TN=function(){var a=this.ep;if(0<this.Pa&&2!=this.kj){var d=new e.Ja;d.hd(a,!1);this.ep=d;return this.wy()}a=new e.di(a.$);a.P(this.Pa,this.Pa);return a};f.prototype.ZJ=function(a,d,b,f){return(d.x-a.x)*(f.x-b.x)+(d.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(d,f){if(void 0===f)this.$b.push(d),this.Hf++;else if(0==this.Hf)this.pc(d);else{var h=this.qx,e,k;e=this.Qg[0==f?h-1:f-1];k=this.Qg[f];var q=this.ZJ(e,k,this.$b[this.Hf-1],d);0<q?this.pc(d):0>q&&(0<this.ZJ(e,k,k,this.$b[this.Hf-1])?(k=this.Qg[0==f?h-2:1==f?h-1:f-2],h=a.ae(e,this.Pa,Math.atan2(e.y-k.y,e.x-k.x)-b),this.$b[this.Hf-1]=h,1==this.kj||2==this.kj?(h=a.Hv(h,e),this.pc(h),h=a.ae(e,this.Pa,this.ww+b),e=a.Hv(h,e),e.type|=256,this.pc(e)):(h=a.ae(e,this.Pa,this.ww+b),h.type|=256),this.pc(h),
this.pc(d,f)):(h=a.ae(k,this.Pa,this.ww+b),this.pc(h),1==this.kj||2==this.kj?(h=a.Hv(h,k),this.pc(h),h=a.ae(k,this.Pa,this.MA-b),e=a.Hv(h,k),e.type|=256,this.pc(e)):(h=a.ae(k,this.Pa,this.MA-b),h.type|=256),this.pc(h)))}};f.prototype.AF=function(){var d,f,h,v,I,g,H=this.qx;this.Hf=0;var l=.5*this.ta,E=0,m=0;for(d=0;d<H;d++){v=this.Qg[d];I=0==d?this.Qg[H-1]:this.Qg[d-1];g=d==H-1?this.Qg[0]:this.Qg[d+1];var n=I.x-v.x,u=I.y-v.y,t=g.x-v.x,w=g.y-v.y;f=Math.atan2(u,n);h=Math.atan2(w,t);this.ww=f;this.MA=
h;0==d&&(E=f,m=h);n=n*w-t*u;u=h;h<f&&(h+=p);if(0<n*this.Pa)1==this.kj||2==this.kj?(f=a.ae(v,this.Pa,f+b),this.pc(f),f=a.ZF(v,f),this.pc(f),f=a.ae(v,this.Pa,h-b),v=a.ZF(v,f),v.type|=256,this.pc(v),this.pc(f)):(n=.5*(h-f),n=this.Pa/Math.abs(Math.sin(n)),f=a.ae(v,n,.5*(f+h)),this.pc(f,d));else if(0!=(v.type&512)){n=1-l/Math.abs(this.Pa);I=1;g=0>this.Pa?-c:c;-1<n&&1>n&&(u=2*Math.acos(n),.017453292519943295>u&&(u=.017453292519943295),I=e.J.truncate(c/u+1.5),1<I&&(g/=I));u=f+b;f=a.ae(v,this.Pa,u);0==d&&
(f.type|=1024);this.pc(f,d);n=this.Pa/Math.cos(g/2);u+=g/2;f=a.ae(v,n,u);f.type|=1024;for(this.pc(f);0<--I;)u+=g,f=a.ae(v,n,u),f.type|=1024,this.pc(f);f=a.ae(v,this.Pa,h-b);f.type|=1024;this.pc(f)}else if(1==this.kj)f=a.ae(v,this.Pa,f+b),this.pc(f,d),f=a.ae(v,this.Pa,h-b),this.pc(f);else if(0==this.kj)for(n=1-l/Math.abs(this.Pa),I=1,g=h-b-(f+b),-1<n&&1>n&&(u=2*Math.acos(n),.017453292519943295>u&&(u=.017453292519943295),I=e.J.truncate(Math.abs(g)/u+1.5),1<I&&(g/=I)),n=this.Pa/Math.cos(.5*g),u=f+b+
.5*g,f=a.ae(v,n,u),this.pc(f,d);0<--I;)u+=g,f=a.ae(v,n,u),this.pc(f);else 2==this.kj?(n=I.x-v.x,u=I.y-v.y,t=g.x-v.x,w=g.y-v.y,I=(n*t+u*w)/Math.sqrt(n*n+u*u)/Math.sqrt(t*t+w*w),.99999999<I?(f=a.ae(v,1.4142135623730951*this.Pa,h-.25*c),this.pc(f,d),f=a.ae(v,1.4142135623730951*this.Pa,h+.25*c),this.pc(f)):(I=Math.abs(this.Pa/Math.sin(.5*Math.acos(I))),g=Math.abs(this.lB*this.Pa),I>g?(n=.5*(h-f),n=this.Pa/Math.abs(Math.sin(n)),f=a.ae(v,n,.5*(f+h)),h=e.b.pa(f.x,f.y),f=e.b.pa(v.x,v.y),v=new e.b,v.xc(h,
f),h=new e.b,h.iX(g/v.length(),v,f),f=(I-g)*Math.abs(this.Pa)/Math.sqrt(I*I-this.Pa*this.Pa),0<this.Pa?v.uw():v.Tr(),v.scale(f/v.length()),f=new e.b,f.add(h,v),I=new e.b,I.xc(h,v),f=a.Jl(f),this.pc(f,d),f=a.Jl(I),this.pc(f)):(n=.5*(h-f),n=this.Pa/Math.abs(Math.sin(n)),f=a.ae(v,n,.5*(f+h)),this.pc(f,d)))):(h=u,0<this.Pa?(h>f&&(h-=p),I=f-h<b):(h<f&&(h+=p),I=h-f<b),I?(n=1.4142135623730951*this.Pa,u=0>n?f+.25*c:f+.75*c,f=a.ae(v,n,u),this.pc(f,d),u=0>n?h-.25*c:h-.75*c,f=a.ae(v,n,u),this.pc(f)):(n=.5*(h-
f),n=this.Pa/Math.abs(Math.sin(n)),h<f&&(h+=p),f=a.ae(v,n,(f+h)/2),this.pc(f,d)))}this.ww=E;this.MA=m;this.pc(this.$b[0],0);v=a.rQ(this.$b[this.Hf-1]);this.$b[0]=v;return this.YW()};f.prototype.pv=function(a,d){if(!(2>d))for(var b=0;b<d;b++){var f=this.$b[a+b];0!=b?this.vB.bj(e.b.pa(f.x,f.y)):this.vB.Bu(e.b.pa(f.x,f.y))}};f.prototype.VN=function(d,b,f){var h=d.wa(b),e=d.Fc(b);this.$b=[];this.vB=f;if(d.Qb(b)){for(b=d.Ba(h);d.Ba(e-1).vb(b);)e--;if(2<=e-h){this.qx=e-h;this.Qg=[];for(b=h;b<e;b++)this.Qg.push(a.Jl(d.Ba(b)));
this.AF()&&this.pv(0,this.Hf-1)}}else{for(b=d.Ba(h);h<e&&d.Ba(h+1).vb(b);)h++;for(b=d.Ba(e-1);h<e&&d.Ba(e-2).vb(b);)e--;if(2<=e-h){this.qx=2*(e-h)-2;this.Qg=[];f=a.Jl(d.Ba(h));f.type|=1536;this.Qg.push(f);for(b=h+1;b<e-1;b++)f=a.Jl(d.Ba(b)),this.Qg.push(f);f=a.Jl(d.Ba(e-1));f.type|=512;this.Qg.push(f);for(b=e-2;b>=h+1;b--)f=a.Jl(d.Ba(b)),f.type|=1024,this.Qg.push(f);if(this.AF())if(2<=this.$b.length){d=-1;(e=0!=(this.$b[this.Hf-1].type&1024))||(d=0);for(b=1;b<this.Hf;b++)(h=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-d+1&&this.pv(d,e-d+1)):e&&(d=b-1),e=h;e||(e=this.Hf-1,1<e-d+1&&this.pv(d,e-d+1))}else d=0,e=this.Hf-1,0<=d&&1<=e-d&&this.pv(d,e-d+1)}}this.Qg=null;this.qx=0;this.$b=null;this.Hf=0};f.prototype.YW=function(){for(var a=!1,d=0;d<this.Hf;d++){var b=this.$b[d];b.Oh=d+1;b.Rh=d-1;this.$b[d]=b}b=this.$b[0];b.Rh=this.Hf-2;this.$b[0]=b;b=this.$b[this.Hf-2];b.Oh=0;this.$b[this.Hf-2]=b;for(d=b=0;d<this.Hf;d++)if(0!=(this.$b[b].type&256)){var f=this.$Q(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Oh;
if(a)return!1;this.pQ(b);return!0};f.prototype.$Q=function(a){for(var d=this.Hf-1,b=a,f,h,e=1;e<=d-2;e++){f=b=this.$b[b].Oh;h=a;for(var k=1;k<=e;k++){h=this.$b[h].Rh;if(0==(this.$b[h].type&256)&&0==(this.$b[f].type&256)){var c=this.CT(h,f);if(-1!=c)return c}f=this.$b[f].Rh}}return-1};f.prototype.CT=function(a,b){var f,h,k,q;f=this.$b[this.$b[a].Rh];h=this.$b[a];k=this.$b[this.$b[b].Rh];q=this.$b[b];if(!this.mX(f,h,k,q))return-1;var c=new d;return this.NR(f,h,k,q,c)&&!c.qF&&e.J.GK((h.x-f.x)*(q.y-k.y)-
(h.y-f.y)*(q.x-k.x))!=e.J.GK(this.Pa)?(f=this.$b[a].Rh,c.Vn.type=h.type,c.Vn.Oh=b,c.Vn.Rh=f,this.$b[a]=c.Vn,c.Vn=this.$b[b],c.Vn.Rh=a,this.$b[b]=c.Vn,b):-1};f.prototype.mX=function(a,d,b,f){return Math.max(a.x,d.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,d.x)&&Math.max(a.y,d.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,d.y)};f.prototype.NR=function(d,b,f,h,e){e.qF=!1;var k,q,c;k=(b.y-d.y)*(h.x-f.x)-(b.x-d.x)*(h.y-f.y);q=(f.y-d.y)*(b.x-d.x)-(f.x-d.x)*(b.y-d.y);k=0==k?2:q/k;return 0<=
k&&1>=k&&(c=k,k=(h.y-f.y)*(b.x-d.x)-(h.x-f.x)*(b.y-d.y),q=(d.y-f.y)*(h.x-f.x)-(d.x-f.x)*(h.y-f.y),k=0==k?2:q/k,0<=k&&1>=k)?(e.Vn=a.sQ(d.x+k*(b.x-d.x),d.y+k*(b.y-d.y)),e.Vn.vi=f.vi+c*(h.vi-f.vi),0!=c&&1!=c||0!=k&&1!=k||(e.qF=!0),e.s_=k,e.t_=c,(0==c||1==c)&&0<k&&1>k||(0==k||1==k)&&0<c&&1>c?!1:!0):!1};f.prototype.pQ=function(a){for(;this.$b[a].Rh<a;)a=this.$b[a].Rh;var d=0,b=a;do b=this.$b[b],this.$b[d]=b,b=b.Oh,d++;while(b!=a);this.$b[d]=this.$b[0];this.Hf=d+1};f.prototype.zE=function(a){var d=this.ep,
b=d.Fa();if(null!=b){b.zj();for(var f=-1;b.Ya();)f++,this.VN(d,f,a)}};f.prototype.wy=function(){var a=this.ep.G();return 322==a?this.UN():197==a?this.TN():e.T.Nc(a)?(a=new e.Ua,a.cc(this.ep,!0),this.ep=a,this.wy()):1607==a?(a=new e.Ua,this.zE(a),a):1736==a?(a=new e.Ja,this.zE(a),a):null};return f}();e.HL=f})(u||(u={}));(function(e){var c=function(){function a(a){this.Uk=a}a.prototype.w=function(a,d){this.Uk.a.w(a,d)};a.prototype.Jd=function(a){var d=this.Uk.Na.ia(a);this.Uk.Na.Jd(a,-1);this.Uk.a.td(d,
!1)};return a}(),p=function(){function a(a){this.Uk=a}a.prototype.w=function(a,d){this.Uk.jV.w(a,d)};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),b=function(){function a(a){this.Uk=a}a.prototype.w=function(a,d){d.L(this.Uk.mV[a])};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.xk,this.Na.Ne(20),this.a=new e.ed,this.aV=this.a.ah(550),this.Pt=this.a.Vf(this.aV,-1),this.xi=new c(this)):a instanceof Array?(this.Na=new e.xk,
this.Na.Ne(20),this.mV=a,this.xi=new b(this)):(this.Na=new e.xk,this.Na.Ne(20),this.jV=a,this.xi=new p(this))}a.prototype.Jb=function(a){var d=a.G();if(e.Ou.fh(d))this.FO(a);else if(e.Bl.Nc(d))this.MO(a);else if(197==d)this.CO(a);else if(33==d)this.JO(a);else throw e.g.F("invalid shape type");};a.prototype.uS=function(){var a=new e.Wa,d=this.Na.wc(-1),b=new e.Ja(this.a.Gr);this.a.xj(this.Na.ia(d),a);b.Of(a);for(d=this.Na.nb(d);-1!=d;d=this.Na.nb(d))this.a.xj(this.Na.ia(d),a),b.lineTo(a);return b};
a.qQ=function(d){var b=new a(d),f=d.D(),q=1,c=new e.b,v=new e.b,p=new e.b;for(d.w(0,c);;){d.w(q,v);if(!(v.zA(c)&&q<f-1))break;q++}b.Na.addElement(0,-1);b.Na.yo(q);for(f=q+1;f<d.D();f++)d.w(f,p),q=b.RC(p),-1!=q&&b.Na.pk(q,f);p=new e.Wa;q=b.Na.wc(-1);f=new e.Ja(d.description);d.xe(b.Na.ia(q),p);f.Of(p);for(q=b.Na.nb(q);-1!=q;q=b.Na.nb(q))d.xe(b.Na.ia(q),p),f.lineTo(p);return f};a.pa=function(d,b,e){for(var f=new a(d),h=1,k=d[0];d[h].zA(k)&&h<b-1;)h++;f.Na.addElement(0,-1);f.Na.yo(h);for(h+=1;h<b;h++)k=
f.RC(d[h]),-1!=k&&f.Na.pk(k,h);d=0;for(b=f.Na.wc(-1);-1!=b;b=f.Na.nb(b))e[d++]=f.Na.ia(b);return d};a.JH=function(d,b){var f=d.wa(b),h=d.Fc(b);b=!d.Qb(b)&&d.Ko(b);d=d.Qa(0);f*=2;h*=2;b&&(h-=2);if(6>h-f)return!0;b=new e.b;var c=new e.b,v=new e.b;d.fc(f,b);d.fc(f+2,c);d.fc(f+4,v);var p=a.de(c,v,b);if(p.nt()||!a.dc(p.value()))return!1;for(var g=e.b.pa(c.x,c.y),H=new e.b,f=f+6;f<h;f+=2){H.L(c);c.L(v);d.fc(f,v);p=a.de(c,v,b);if(p.nt()||!a.dc(p.value()))return!1;p=a.de(g,v,b);if(p.nt()||!a.dc(p.value()))return!1;
p=a.de(c,v,H);if(p.nt()||!a.dc(p.value()))return!1}return!0};a.prototype.FO=function(a){for(var d=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var c=this.ys(b);if(-1!=c){a.xe(f,d);var v=this.a.pc(this.Pt,d);this.Na.pk(c,v)}}};a.prototype.CO=function(a){for(var d=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var c=this.ys(b);if(-1!=c){a.gg(f,d);var v=this.a.pc(this.Pt,d);this.Na.pk(c,v)}}};a.prototype.MO=function(a){var d=new e.Wa,b=a.ec(),b=this.ys(b);if(-1!=b){a.Kp(d);var f=this.a.pc(this.Pt,d);this.Na.pk(b,
f)}b=a.Ac();b=this.ys(b);-1!=b&&(a.Ip(d),a=this.a.pc(this.Pt,d),this.Na.pk(b,a))};a.prototype.JO=function(a){var d=a.w(),d=this.ys(d);-1!=d&&(a=this.a.pc(this.Pt,a),this.Na.pk(d,a))};a.prototype.ys=function(a){var d=-1;if(0==this.Na.size(-1))return d=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ia(this.Na.wc(-1)));a.zA(b)||(d=this.Na.yo(-5));return d}return d=this.RC(a)};a.prototype.RC=function(d){var b=-1,f=this.Na.wc(-1),c=this.Na.Ec(-1),r=this.Na.ia(f),v=this.Na.ia(c),
p=new e.b,g=new e.b;this.xi.w(r,p);this.xi.w(v,g);r=e.b.Gp(g,d,p);if(a.dc(r))b=this.Na.yo(-1),p=this.PC(d,c,f),p!=f&&this.QC(d,f,this.Na.Se(p));else if(a.Hj(r)){for(var g=this.Na.fw(-1),H=this.Na.wc(-1),l=this.Na.Ec(-1),E,r=new e.b,v=new e.b;H!=this.Na.Se(l);)E=this.Na.ia(g),this.xi.w(E,r),E=e.b.Gp(r,d,p),a.Hj(E)?(l=g,g=this.Na.Ul(g)):(H=g,g=this.Na.Nq(g));g=l;p=H;E=this.Na.ia(g);H=this.Na.ia(p);this.xi.w(E,r);this.xi.w(H,v);if(p==f||(r=e.b.Gp(v,d,r),a.dc(r)))b=this.Na.ov(p,g,-2,!1),this.QC(d,g,c),
this.PC(d,p,f)}else null==this.xb&&(this.xb=new e.Hb),this.xb.Lc(g),this.xb.Xc(p),p=this.xb.ne(d,!0),0>p?(p=this.Na.Se(c),this.Na.Jd(c,-1),b=this.Na.yo(-3),this.PC(d,p,f)):1<p&&(p=this.Na.nb(f),this.Na.Jd(f,-1),b=this.Na.ov(-1,p,-3,!1),this.QC(d,p,c));return b};a.prototype.QC=function(d,b,k){if(b!=k){var f=this.Na.ia(b),h=this.Na.nb(b),c=new e.b,p=new e.b;for(this.xi.w(f,c);b!=k&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(h),p);f=e.b.Gp(p,d,c);if(a.dc(f))break;f=b;b=h;c.L(p);h=this.Na.nb(b);this.xi.Jd(f)}}};
a.prototype.PC=function(d,b,k){if(b==k)return k;var f=this.Na.ia(b),h=this.Na.Se(b),c=new e.b,p=new e.b;for(this.xi.w(f,c);b!=k&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(h),p);f=e.b.Gp(c,d,p);if(a.dc(f))break;f=b;b=h;c.L(p);h=this.Na.Se(b);this.xi.Jd(f)}return b};a.de=function(a,d,b){var f=new e.Xb;f.set(d.x);f.sub(a.x);var h=new e.Xb;h.set(b.y);h.sub(a.y);var k=new e.Xb;k.set(d.y);k.sub(a.y);d=new e.Xb;d.set(b.x);d.sub(a.x);f.Tg(h);k.Tg(d);f.sub(k);return f};a.dc=function(a){return 0>a};a.Hj=function(a){return 0<
a};a.os=function(a){return 0==a};return a}();e.Lu=a})(u||(u={}));(function(e){var c=function(){function c(b){this.ie=this.a=null;this.sI=!0;this.ie=b}c.mJ=function(b,a,d){b=e.na.As(b);return e.Ku.pw(a.Te(),a.Cf(),d.Te(),d.Cf(),e.Ub.Yx(b))};c.bQ=function(b,a){var d=new e.Wa;e.Ku.zV(b,a,d);return d};c.V=function(b,a,d,f){d=new c(d);d.a=b;d.ta=a;d.sI=f;return d.gO()};c.prototype.$N=function(b){return e.Ku.zR(this.a,b)};c.prototype.dO=function(b){return e.Mu.V(this.a,b,this.ie)};c.prototype.gO=function(){for(var b=
this.ta,a=e.na.As(b),b=e.na.PO(b),d=1.00001*b,b=1.000001*b,f=!1,h=30<this.a.ud+10?1E3:(this.a.ud+10)*(this.a.ud+10),k=0,c=this.a.FT();;k++){if(k>h)throw e.g.X("Internal Error: max number of iterations exceeded");var r=this.$N(a),f=f||r;this.sI&&(r=0!=this.a.zq(a,!0,!1),f=f||r);r=!1;if(0==k||c||e.Mu.hJ(!0,this.a,b,null,this.ie))r=this.dO(d),f=f||r;if(!r)break}return f};return c}();e.vk=c})(u||(u={}));(function(e){var c=function(){function b(a){this.te=this.Sc=null;this.kx=0;this.mc=a;this.OA=!0}b.prototype.gw=
function(a,d){var b=this.a.jc(a);if(null==b){if(!this.a.nd(a,d))return null;b=d}return b};b.prototype.Or=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.KQ=function(){var a=this.a.Pr(!1),d=!1,b=new e.Hb,h=new e.Hb,k=new e.h;k.Oa();var c=new e.h;c.Oa();for(var r=new e.Wa,v=new e.jE,p=a.next();-1!=p;p=a.next()){var g=null,H=!1;if(!e.T.Po(this.a.ic(a.Ek))){g=this.gw(p,b);if(null==g)continue;g.s(k);k.P(this.ta,this.ta);if(g.eh(this.ta))if(g.eh(0))H=!0,g=null;else continue}var l=
this.a.Pr(a),E=l.next();for(-1!=E&&(E=l.next());-1!=E;E=l.next()){var m=null,n=!1;if(!e.T.Po(this.a.ic(l.Ek))){m=this.gw(E,h);if(null==m)continue;m.s(c);if(m.eh(this.ta))if(m.eh(0))n=!0,m=null;else continue}var u=0,t=0;if(null!=g&&null!=m)k.HH(c)&&(v.Hp(g),v.Hp(m),v.Ma(this.ta,!1),u=v.Wl(0),t=v.Wl(1),0<u+t&&(this.a.as(p,v,0,!0),this.a.as(E,v,1,!0)),v.clear());else if(null!=g){var w=new e.b;this.a.w(E,w);if(k.contains(w)){v.Hp(g);this.a.xj(E,r);v.vA(this.ta,r,!1);u=v.Wl(0);if(0<u)if(this.a.as(p,v,
0,!0),n){n=-1;for(w=this.a.U(E);-1!=w&&w!=E&&(m=this.gw(w,h),n=w,null!=m&&m.eh(0));w=this.a.U(w));for(w=E;-1!=w&&(this.a.Zh(w,v.ag),w!=n);w=this.a.U(w));}else this.a.Zh(E,v.ag);v.clear()}}else if(null!=m){if(w=new e.b,this.a.w(p,w),c.P(this.ta,this.ta),c.contains(w)){v.Hp(m);this.a.xj(p,r);v.vA(this.ta,r,!1);t=v.Wl(0);if(0<t)if(this.a.as(E,v,0,!0),H){n=-1;for(w=this.a.U(p);-1!=w&&w!=p&&(m=this.gw(w,h),n=w,null!=m&&m.eh(0));w=this.a.U(w));for(w=p;-1!=w&&(this.a.Zh(w,v.ag),w!=n);w=this.a.U(w));}else this.a.Zh(p,
v.ag);v.clear()}}else continue;if(0!=u+t){if(0!=u){g=this.a.jc(p);if(null==g){if(!this.a.nd(p,b))continue;g=b;b.s(k)}else g.s(k);if(g.eh(this.ta))break}d=!0}}}return d};b.prototype.LQ=function(){return this.gW()};b.prototype.gW=function(){return(new e.bE).mY(this.a,this.ta)};b.prototype.iJ=function(){var a=!1,d,b;null==this.Sc&&(this.Sc=new e.xk);var h=new e.ha(0);h.zb(this.a.ud+1);for(var k=this.a.Pr(),c=k.next();-1!=c;c=k.next())h.add(c);this.a.Xx(h,h.size);h.add(-1);k=this.a.Sd();c=this.a.Sd();
this.te=new e.lE(this.a,this.ta,!this.OA);this.Sc.Lp(this.te);var r=new e.ha(0),v=new e.ha(0),p=0;new e.b;var g=this.a.Cd;this.a.yb.vc();for(var H=this.a.yb.ya[0].f,l,E,m=h.get(p++);-1!=m;){E=g.S(m,0);l=H[2*E];E=H[2*E+1];var n=l,u=E;do{var t=g.S(m,2),w=g.S(m,1);-1!=t&&(d=g.S(t,0),b=H[2*d],d=H[2*d+1],0>(u<d?-1:u>d?1:n<b?-1:n>b?1:0)&&(v.add(m),v.add(t)));-1!=w&&(d=g.S(w,0),b=H[2*d],d=H[2*d+1],0>(u<d?-1:u>d?1:n<b?-1:n>b?1:0)&&(v.add(w),v.add(w)));b=this.a.Sa(m,k);-1!=b&&(r.add(b),this.a.Va(m,k,-1));
b=this.a.Sa(m,c);-1!=b&&(r.add(b),this.a.Va(m,c,-1));m=h.get(p++);-1!==m&&(u=g.S(m,0),n=H[2*u],u=H[2*u+1])}while(-1!=m&&n===l&&u===E);n=1==r.size&&2==v.size;b=u=-1;t=0;for(w=r.size;t<w;t++){d=r.get(t);var x=this.Sc.Se(d);-1==x||r.qA(x)||(u=x);d=this.Sc.nb(d);-1==d||r.qA(d)||(b=d);if(-1!=u&&-1!=b)break}this.te.EK(E,l);t=0;for(w=r.size;t<w;t++)d=r.get(t),this.Sc.Jd(d,-1);r.clear(!1);if(!n&&-1!=u&&-1!=b&&this.QP(u,b)){a=!0;this.nj=this.te.ln();break}t=0;for(w=v.size;t<w;t+=2){E=v.get(t);l=v.get(t+1);
n?(E=this.Sc.ov(u,b,E,!0),n=!1):E=this.Sc.addElement(E,-1);if(this.te.Lg){this.nj=this.te.ln();a=!0;break}-1==this.a.Sa(l,k)?this.a.Va(l,k,E):this.a.Va(l,c,E)}if(a)break;v.uf(0)}this.a.je(k);this.a.je(c);return a};b.prototype.QP=function(a,d){this.te.compare(this.Sc,this.Sc.ia(a),d);a=this.te.Lg;this.te.Es();return a};b.Dj=function(a){for(var d=a.qd;-1!=d;d=a.Re(d))if(e.T.Hc(a.ic(d)))return!0;return!1};b.wl=function(a,d,f,h){if(!b.Dj(a))return!1;d=new b(h);d.a=a;d.ta=f;if(15>a.ud)a=d.KQ();else return d.LQ();
return a};b.V=function(a,d,f){return b.wl(a,a.LG(),d,f)};b.hJ=function(a,d,f,h,k){if(!b.Dj(d))return!1;var c=new b(k);c.a=d;c.ta=f;c.OA=a;if(c.iJ())return null!=h&&h.ls(c.nj),!0;var r=new e.Gd;r.AC();d.Vc(r);c=new b(k);c.a=d;c.ta=f;c.OA=a;a=c.iJ();r.AC();d.Vc(r);return a?(null!=h&&h.ls(c.nj),!0):!1};b.vm=function(a,d){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*d<1*a*d};b.IQ=function(a,d,f,h){if(e.T.Hc(d.G()))return(new b(h)).JQ(a,d,f);throw e.g.X("crack_A_with_B");};b.prototype.JQ=
function(a,d,f){var h=new e.h;a.ac(h);var k=new e.h;d.ac(k);k.P(f,f);if(!k.Yb(h))return a;var c=a.ob,r=null;null!=c&&(r=c.Mb);b.vm(a,a.D())&&(r=e.na.Pj(a,k));var v=null!=r?r.jf():null,I=d.Fa();d=a.Fa();for(var g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[];I.Ya();)for(;I.Ea();){var H=I.ba();if(null!=r)for(v.bo(H,f),c=v.next();-1!=c;c=v.next()){if(this.Or(),d.Tb(r.ia(c),-1),d.Ea())for(var c=d.ba(),l=c.Ma(H,null,g,null,f),c=0;c<l;++c){var E=g[c];if(0!=E&&1!=E){var m=d.Db(),n=new p;n.t=E;n.index=m;k.push(n)}}}else{var u=
new e.h;H.ac(u);u.P(f,f);if(h.Yb(u))for(d.zj();d.Ya();)for(;d.Ea();)if(this.Or(),c=d.ba(),E=new e.h,c.ac(E),E.Yb(u))for(l=c.Ma(H,null,g,null,f),c=0;c<l;++c)E=g[c],0!=E&&1!=E&&(m=d.Db(),n=new p,n.t=E,n.index=m,k.push(n))}}if(0==k.length)return a;k=k.sort(p.Fs);a=a.Ka();for(d.zj();d.Ya()&&!d.Ea(););f=d.ba();h=new e.Bg;r=-1;c=0;for(v=k.length;c<v;){g=k[c].index;for(I=c+1;I<v&&k[I].index==g;)++I;for(;d.Db()<g;){this.Or();H=d.Ea();E=d.Ta;(u=H||!d.Lo()||d.Mo())&&a.cc(f,r!=E);r=E;if(!H)for(;d.Ya()&&!d.Ea(););
f=d.ba()}for(g=0;c<I;c++)E=k[c].t,E!=g&&(f.yh(g,E,h),g=E,E=d.Ta,a.cc(h.get(),r!=E),r=E);if(u=(H=d.Ea())||!d.Lo()||d.Mo())f.yh(g,1,h),a.cc(h.get(),!1);if(H)f=d.ba();else{for(;d.Ya()&&!d.Ea(););d.Ea()?f=d.ba():f=null}c=I}null!=f&&(E=d.Ta,(u=(H=d.Ea())||!d.Lo()||d.Mo())&&a.cc(f,r!=E),r=E);for(H=d.Ea();;){if(!H){for(;d.Ya()&&!(H=d.Ea()););if(!H)break}f=d.ba();E=d.Ta;(u=(H=d.Ea())||!d.Lo()||d.Mo())&&a.cc(f,r!=E);r=E}return a};return b}();e.Mu=c;var p=function(){function b(){}b.Fs=function(a,d){return a.index==
d.index?a.t>d.t?1:a.t<d.t?-1:0:a.index>d.index?1:-1};return b}()})(u||(u={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.JL||(e.JL={}));var c=function(){return function(a,b,h,e,c,r,v,p,g,H,l){this.Y=a;this.nx=b;this.Kt=h;this.Ng=e;this.En=H;this.jm=l}}();e.hZ=c;var p=function(){function a(a,d){this.KI=a;this.hj=d}a.prototype.cO=function(a,d){var b=new e.b;this.hj.w(a,b);var f=new e.b;this.hj.w(d,
f);b=b.compare(f);if(0!=b)return b;b=this.hj.Sa(a,this.KI);f=this.hj.Sa(d,this.KI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,h,e,c,r,v,p,g){this.Ng=a;this.Kt=b;this.wB=h;this.WI=e;this.ej=c;this.jm=r;this.En=v;this.XI=p;this.pV=g}}();e.gZ=b;var a=function(){function a(){}a.IL=function(d,b,k,q,r,v){if(b.u())d=new c(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),r.push(d);else{var f=new e.ed;f.Jb(b);f.Jb(k);e.vk.V(f,q,v,!0);b=0;k=f.Sd();for(q=f.qd;-1!=q;q=f.Re(q))for(v=f.Pb(q);-1!=
v;v=f.Sb(v))for(var h=f.cb(v),p=0,g=f.La(v);p<g;h=f.U(h),p++)f.Va(h,k,b++);b=a.MU(k,f);a.ZO(d,b,f,r)}};a.MU=function(d,b){for(var f=b.ud,h=new e.ha(0),c=b.qd;-1!=c;c=b.Re(c))for(var v=b.Pb(c);-1!=v;v=b.Sb(v))for(var g=b.cb(v),N=0,H=b.La(v);N<H;g=b.U(g),N++)h.add(g);var l=new p(d,b);h.Fd(0,f,function(a,d){return l.cO(a,d)});d=[];var E=[],m=b.Sd(),n=b.Sd(),c=b.qd,v=b.Re(c),H=new e.b,u=new e.b,t=h.get(0),w=b.kd(t),x=b.mg(w);b.w(t,H);for(var y=1,g=0;y<f-1;){for(var L=!1,N=y;N<f;N++)if(N!=g){var A=h.get(N),
B=b.kd(A),z=b.mg(B);b.w(A,u);if(H.vb(u))x==c&&z==v&&(L=a.HP(m,n,b,d,E,w,t,B,A));else break}if(L||g==y-1){L&&g==y-1&&y--;if(++g==f)break;t=h.get(g);w=b.kd(t);x=b.mg(w);b.w(t,H)}L||(y=g+1)}f=[];for(c=b.qd;-1!=c;c=b.Re(c))for(v=b.Pb(c);-1!=v;v=b.Sb(v))for(h=b.cb(v),N=0,H=b.La(v);N<H;h=b.U(h),N++){g=b.Sa(h,n);if(0<=g)for(;g<E.length&&E[g].Ng==h;)f.push(E[g++]);g=b.Sa(h,m);if(0<=g)for(;g<d.length&&d[g].Ng==h;)f.push(d[g++])}b.je(m);b.je(n);return f};a.HP=function(d,b,e,c,r,v,p,g,H){var f=e.Vj(v),h=e.Vj(g),
k=e.cb(v),q=e.cb(g),I=e.Ra(p),N=e.Ra(H),l=!1,m=!1,n=!1,u=!1;p!=k&&(H!=q&&(l=a.XQ(d,e,c,v,I,g,N)),H!=h&&(m=a.qR(d,e,c,v,I,g,H)));p!=f&&(H!=q&&(n=a.ER(b,e,r,v,p,g,N,k)),H!=h&&(u=a.cS(b,e,r,v,p,g,H,k)));l&&m&&n?(d=c.length-1,2==r[u?r.length-2:r.length-1].ej&&(c[d-1]=c[d],--c.length)):l&&m&&u&&2==r[r.length-1].ej&&(r=c[c.length-1],--c.length,e.Sa(r.Ng,d)==c.length&&e.Va(r.Ng,d,-1));return l||m||n||u};a.XQ=function(a,d,k,c,r,v,p){var f,h;h=new e.Hb;var q=new e.Hb,g=[0,0],I=[0,0];f=d.jc(r);null==f&&(d.nd(r,
h),f=h);h=d.jc(p);null==h&&(d.nd(p,q),h=q);f=f.Ma(h,null,g,I,0);2>f&&(c=new b(r,c,g[0],NaN,f,p,v,I[0],NaN),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1));return!0};a.qR=function(a,d,k,c,r,v,p){var f,h;h=new e.Hb;var q=new e.Hb,g=[0,0],I=[0,0];f=d.jc(r);null==f&&(d.nd(r,h),f=h);h=d.jc(p);null==h&&(d.nd(p,q),h=q);f=f.Ma(h,null,g,I,0);return 2>f?(c=new b(r,c,g[0],NaN,f,p,v,I[0],NaN),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1),!0):!1};a.ER=function(a,d,k,c,r,v,p,g){var f,h;h=new e.Hb;var q=new e.Hb,
I=[0,0],N=[0,0];f=d.jc(r);null==f&&(d.nd(r,h),f=h);h=d.jc(p);null==h&&(d.nd(p,q),h=q);f=f.Ma(h,null,I,N,0);if(2==f)return c=new b(r,c,I[0],I[1],f,p,v,N[0],N[1]),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1),!0;q=!1;r==g&&(c=new b(r,c,I[0],NaN,f,p,v,N[0],NaN),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1),q=!0);return q};a.cS=function(a,d,k,c,r,v,p,g){var f,h;h=new e.Hb;var q=new e.Hb,I=[0,0],N=[0,0];f=d.jc(r);null==f&&(d.nd(r,h),f=h);h=d.jc(p);null==h&&(d.nd(p,q),h=q);f=f.Ma(h,null,I,N,0);if(2==
f)return c=new b(r,c,I[0],I[1],f,p,v,N[0],N[1]),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1),!0;q=!1;r==g&&(c=new b(r,c,I[0],NaN,f,p,v,N[0],NaN),k.push(c),c=d.Sa(r,a),0>c&&d.Va(r,a,k.length-1),q=!0);return q};a.ZO=function(d,b,k,q){var f,h=[];h[0]=new e.b;h[1]=new e.b;h[2]=new e.b;h[3]=new e.b;var p=new e.b,g=new e.b,H=new e.b,l=new e.b,m=null;null!=q&&(m=new e.Bg,m.Hs());var n,u=0,t=null,w=new e.Hb;new e.Hb;for(var x=k.Pb(k.qd);-1!=x;x=k.Sb(x)){var y,L=4,A=-1,B,z,D,C=-1,P,F,O,Q,S=-1,G=-1,K=NaN;
y=!0;var ca=!1,V=!0,J=!0,R=!0,M=0;D=x;P=0;for(var na=k.cb(x),ea=k.La(x),X=0;X<ea;na=k.U(na),X++){n=k.jc(na);if(null==n){if(!k.nd(na,w))continue;n=w}-1==C&&(C=na);for(var Z=0;u<b.length&&na==b[u].Ng;){A=b[u].Kt;B=b[u].Ng;z=b[u].wB;F=b[u].En;O=b[u].jm;Q=b[u].XI;if(2==b[u].ej){if(ca||(D=A,C=B,P=z,S=F,G=O,K=Q,L=2,null!=q?t=new e.Ua:M=0,R=!1,J=!0),z=b[u].WI,Q=b[u].pV,null!=q?(n.yh(Z,b[u].WI,m),t.cc(m.get(),J)):M++,Z=z,ca=!0,J=y=!1,u+1==b.length||2!=b[u+1].ej||b[u+1].Ng==B&&b[u+1].wB!=Z)null!=q?(f=new c(t,
2,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M),D=A,C=B,P=z,S=F,G=O,K=Q,L=2,ca=y=!1,J=R=!0}else{var T=k.U(B);if(u<b.length-1&&b[u+1].Ng==T&&b[u+1].jm==O&&2==b[u+1].ej)z!=Z&&(R&&(null!=q?t=new e.Ua:M=0),y=0<u&&b[u-1].Kt==A?1==L?0:0==L?1:3:3,null!=q?(n.yh(Z,z,m),t.cc(m.get(),J),f=new c(t,y,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):(M++,null.add(M)),Z=z,D=A,C=B,P=z,S=F,G=O,K=Q,L=y,y=V=!1,J=R=!0);else if(!a.JU(d,k,b,u,p,g)){a.GT(k,b,u,x,na,H,l);var ba=!1,T=!1;f=!0;if(!(p.vb(H)||g.vb(H)||p.vb(l)||g.vb(l))){h[0].L(p);
h[1].L(g);h[2].L(H);h[3].L(l);h.sort(e.b.ts);var oa=h[0],ia=h[1],ga=h[2],aa=h[3];oa.vb(p)?ia.vb(g)?d?(T=ba=!0,f=!1):ba=!1:aa.vb(g)?d?f=T=ba=!0:ba=!1:(ba=!0,f=ia.vb(H)):ia.vb(p)?ga.vb(g)?d?(T=ba=!0,f=!1):ba=!1:oa.vb(g)?d?f=T=ba=!0:ba=!1:(ba=!0,f=ga.vb(H)):ga.vb(p)?aa.vb(g)?d?(T=ba=!0,f=!1):ba=!1:ia.vb(g)?d?f=T=ba=!0:ba=!1:(ba=!0,f=aa.vb(H)):oa.vb(g)?d?(T=ba=!0,f=!1):ba=!1:ga.vb(g)?d?f=T=ba=!0:ba=!1:(ba=!0,f=oa.vb(H))}if(ba){ba=na==B;if(z!=Z||ba&&0==Z)R&&(null!=q?t=new e.Ua:M=0),null!=q?(n.yh(Z,z,m),
t.cc(m.get(),J)):M++;if(f)if(1!=L){if(z!=Z||ba&&0==Z)null!=q?(f=new c(t,1,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M);if(!T)L=1;else if(u==b.length-2||b[u+2].Kt!=A)L=0}else{if(z!=Z||ba&&0==Z)null!=q?(f=new c(t,3,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M);L=1}else if(0!=L){if(z!=Z||ba&&0==Z)null!=q?(f=new c(t,0,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M);if(!T)L=0;else if(u==b.length-2||b[u+2].Kt!=A)L=1}else{if(z!=Z||ba&&0==Z)null!=q?(f=new c(t,3,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):
null.add(M);L=0}if(z!=Z||ba&&0==Z)Z=z,D=A,C=B,P=z,S=F,G=O,K=Q,y=V=!1,J=R=!0}}}u++}1!=Z&&(R&&(null!=q?t=new e.Ua:M=0),null!=q?(n.yh(Z,1,m),t.cc(m.get(),J)):M++,J=R=!1,V=!0)}V&&(z=1,B=k.Vj(x),B=k.Ra(B),O=F=-1,Q=NaN,y?null!=q?(f=new c(t,4,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M):(y=1==L?0:0==L?1:3,null!=q?(f=new c(t,y,A,B,z,L,D,C,P,F,O,Q,S,G,K),q.push(f)):null.add(M)))}};a.JU=function(d,b,k,c,r,v){var f=k[c].XI;if(1==f)return a.KT(d,b,k,c,r,v);if(0==f)return a.GU(d,b,k,c,r,v);throw e.g.za();
};a.KT=function(a,d,b,c,r,v){var f=new e.Hb,h=b[c].Ng,k=b[c].En,q=b[c].jm,p=-1,g=-1,l=-1,m=-1;if(!a&&0<c)var n=b[c-1],p=n.Ng,g=n.En,l=n.jm,m=n.ej;var u=-1,t=-1,w=-1,x=-1;c<b.length-1&&(n=b[c+1],u=n.Ng,t=n.En,w=n.jm,x=n.ej);var y=d.U(h),n=d.U(q);if(!a)return 0<c&&p==h&&g==k&&l==n&&2==m||c<b.length-1&&u==y&&t==k&&w==n&&2==x?(a=d.jc(q),null==a&&(d.nd(q,f),a=f),v.L(a.Dg(1)),r.du(v),v.normalize(),r.normalize(),!1):c<b.length-1&&u==h&&t==k&&w==n?(a=d.jc(q),null==a&&(d.nd(q,f),a=f),r.L(a.Dg(1)),a=d.jc(n),
null==a&&(d.nd(n,f),a=f),v.L(a.Dg(0)),r.Kr(),v.normalize(),r.normalize(),!1):!0;if(c==b.length-1||u!=h||t!=k||w!=n||2==x)return a=d.jc(q),null==a&&(d.nd(q,f),a=f),v.L(a.Dg(1)),r.du(v),v.normalize(),r.normalize(),!1;a=d.jc(q);null==a&&(d.nd(q,f),a=f);r.L(a.Dg(1));a=d.jc(n);null==a&&(d.nd(n,f),a=f);v.L(a.Dg(0));r.Kr();v.normalize();r.normalize();return!1};a.GU=function(a,d,b,c,r,v){var f=new e.Hb,h=b[c].Ng,k=b[c].En,q=b[c].jm,p=-1,g=-1,l=-1,m=-1;if(!a&&c<b.length-1)var n=b[c+1],p=n.Ng,g=n.En,l=n.jm,
m=n.ej;var u=-1,t=-1,w=-1,n=-1;0<c&&(n=b[c-1],u=n.Ng,t=n.En,w=n.jm,n=n.ej);var x=d.U(h),y=d.Ra(q);return a?0==c||u!=h||t!=k||w!=y||2==n?(a=d.jc(q),null==a&&(d.nd(q,f),a=f),v.L(a.Dg(0)),r.du(v),v.normalize(),r.normalize(),!1):!0:0<c&&u==h&&t==k&&w==y&&2==n||c<b.length-1&&p==x&&g==k&&l==y&&2==m?(a=d.jc(q),null==a&&(d.nd(q,f),a=f),v.L(a.Dg(0)),r.du(v),v.normalize(),r.normalize(),!1):!0};a.GT=function(a,d,b,c,r,v,p){var f=new e.Hb,h=a.jc(r);null==h&&(a.nd(r,f),h=f);b=d[b];d=b.Ng;b=b.wB;r=a.U(d);if(1==
b)v.L(h.Dg(1)),-1!=r&&r!=a.Vj(c)?(h=a.jc(r),null==h&&(a.nd(r,f),h=f),p.L(h.Dg(0)),h=a.jc(d),null==h&&a.nd(d,f)):p.L(v),v.Kr(),p.normalize(),v.normalize();else if(0==b)p.L(h.Dg(b)),v.du(p),p.normalize(),v.normalize();else throw e.g.za();};return a}();e.KL=a})(u||(u={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.GN||(e.GN={}));var c=function(){function a(a,d,b){this.sd=d;this.Bi=b;this.eB=a}a.prototype.Eb=function(d){return d instanceof a?this.Bi===
d.Bi:!1};a.cH=function(d){return 0!==d.sd?null:-1===d.eB?new a(-1,2,d.Bi*d.Bi):a.vh(f[d.eB])};a.vh=function(a){a=d[a];return void 0===a?null:a};a.yQ=function(d,b,f){var h=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(h=a.vh(parseInt(f.values[1])))}catch(N){}null===h&&(h=new a(-1,d,b));return h};a.prototype.Bc=function(){return this.eB};a.prototype.GG=function(a){if(a.sd!=this.sd)throw e.g.Da();return this.Bi/a.Bi};a.mi=function(a,d,b){return d.GG(b)*a};a.cG=function(a,d,b,f,h){b=b.GG(f);
for(f=0;f<d;f++)h[f]=a[f]*b};return a}();e.$c=c;for(var p=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,
109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,
.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],b=
[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,
109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,
9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,
.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],d=[],f=[],h=0;h<p.length;h+=2)d[p[h]]=new c(p[h],2,p[h+1]);p=null;for(h=0;h<b.length;h+=2)d[b[h]]=new c(b[h],1,b[h+1]);b=null;for(h=0;h<a.length;h+=3)d[a[h]]=
new c(a[h],0,a[h+1]),f[a[h]]=a[h+2];a=null})(u||(u={}));(function(e){var c=function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.GO=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=
b;this.Gb=a};e.prototype.zO=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Tg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.Fp=function(b){var a=
this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.um=function(b,a){var d=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(d);this.qb=d};e.prototype.bn=function(b){var a=Math.abs(b.qb),d=this.qb/b.qb,f=(this.Gb+Math.abs(d)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=d;this.Gb=f+2.220446049250313E-16*Math.abs(d)};e.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),
a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),d=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(d)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),d=Math.cos(b.qb);this.qb=d;d=Math.abs(d);this.Gb=(Math.abs(a)+.5*d*
b.Gb)*b.Gb+2.220446049250313E-16*d};e.prototype.Kg=function(){return Math.abs(this.qb)<=this.Gb};e.prototype.nt=function(){return this.Kg()&&0!=this.Gb};return e}();e.Xb=c})(u||(u={}));var ja=new u.b,pa=new u.b,qa=new u.b,ra=new u.b,sa=new u.b;(function(e){var c;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(c||(c={}));var p=function(){function b(a,d,b,h,e,c,r){void 0!==d?(this.bb=a,this.Ek=d,this.Ll=b,this.Ki=h,this.Ca=c,this.TA=
r,this.Uw=e):(this.bb=a.bb,this.Ek=a.Ek,this.Ll=a.Ll,this.Ki=a.Ki,this.Ca=a.Ca,this.TA=a.TA,this.Uw=a.Uw);this.aI=!0}b.prototype.next=function(){return this.aI?(this.aI=!1,this.Ki):-1!=this.Ki?(this.Ki=this.bb.U(this.Ki),this.Ca++,-1!=this.Ki&&this.Ki!=this.Uw?this.Ki:this.CV()):-1};b.prototype.CV=function(){this.Ll=this.bb.Sb(this.Ll);for(this.Ca=0;-1!=this.Ek;){for(;-1!=this.Ll;this.Ll=this.bb.Sb(this.Ll))if(this.Uw=this.Ki=this.bb.cb(this.Ll),-1!=this.Ki)return this.Ki;this.Ek=this.bb.Re(this.Ek);
if(-1==this.Ek)break;if(!this.TA||e.T.Hc(this.bb.ic(this.Ek)))this.Ll=this.bb.Pb(this.Ek)}return-1};b.UQ=function(a,d,f,h,e,c,r){return new b(a,d,f,h,e,c,r)};return b}();e.nZ=p;c=function(){function b(){this.cp=this.un=this.$k=this.ld=this.gl=this.pp=this.oj=this.rd=this.Ci=this.oh=this.tf=this.Gr=this.Jr=this.yb=this.sm=null;this.cx=this.qd=-1;this.ud=0;this.RA=!1;this.Gr=this.Jr=this.yb=null}b.prototype.ui=function(a){return null!=this.tf?this.tf[a]:null};b.prototype.sh=function(a,d){if(null==this.tf){if(null==
d)return;this.tf=[];for(var b=0,h=this.yb.D();b<h;b++)this.tf.push(null)}this.tf[a]=d};b.prototype.Sp=function(a,d){this.rd.R(a,1,d)};b.prototype.Rp=function(a,d){this.rd.R(a,2,d)};b.prototype.wC=function(a,d){this.rd.R(a,6,d)};b.prototype.Lq=function(a){return this.rd.S(a,6)};b.prototype.Rx=function(a,d){this.rd.R(a,7,d)};b.prototype.dw=function(a){return this.rd.S(a,0)};b.prototype.tK=function(a,d){this.ld.R(a,1,d)};b.prototype.xK=function(a,d){this.ld.R(a,0,d)};b.prototype.MG=function(a){return this.ld.S(a,
7)};b.prototype.Pp=function(a,d){this.ld.R(a,3,d)};b.prototype.Qp=function(a,d){this.ld.R(a,4,d)};b.prototype.JV=function(a){null==this.ld&&(this.ld=new e.Zc(8));var d=this.ld.Me();this.ld.R(d,2,a);this.ld.R(d,5,0);this.ld.R(d,6,0);this.ld.R(d,7,d);return d};b.prototype.bS=function(a){this.ld.jd(a)};b.prototype.LV=function(a){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));var d=this.rd.Me();this.rd.R(d,0,d);this.rd.R(d,3,0);this.rd.R(d,6,0);this.Rx(d,
a);d>=this.oj.size&&(a=16>d?16:e.J.truncate(3*d/2),this.oj.resize(a),this.pp.resize(a));this.oj.set(d,0);this.pp.set(d,0);return d};b.prototype.wG=function(a){this.rd.jd(a)};b.prototype.Fz=function(a){this.Cd.jd(a);this.ud--};b.prototype.lJ=function(a){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));var d=this.Cd.Me(),b=0<=a?a:d;this.Cd.R(d,0,b);if(0>a){if(b>=this.yb.D()){a=16>b?16:e.J.truncate(3*b/2);this.yb.resize(a);if(null!=this.tf)for(var h=0;h<
a;h++)this.tf.push(null);null!=this.oh&&this.oh.resize(a);this.Jr=this.yb.Qa(0)}this.yb.rb(b,-1E38,-1E38);null!=this.tf&&(this.tf[b]=null);null!=this.oh&&this.oh.write(b,1)}this.Cd.R(d,4,2*b);this.ud++;return d};b.prototype.$j=function(a,d,b){var f=-1!=d?this.Ra(d):this.Vj(a),e=-1!=f?this.U(f):-1,c=this.lJ(null==b?this.ud:-1),r=this.Za(c);null!=b&&this.yb.xu(r,b);this.Bj(c,a);this.Jc(c,e);this.Kc(c,f);-1!=e&&this.Kc(e,c);-1!=f&&this.Jc(f,c);b=this.Qb(a);f=this.cb(a);-1==d&&this.rh(a,c);d==f&&this.ig(a,
c);b&&-1==e&&(this.Jc(c,c),this.Kc(c,c));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return c};b.prototype.gn=function(){null==this.cp&&(this.cp=new e.Wa(this.yb.description));return this.cp};b.prototype.Op=function(a,d){this.ld.R(a,2,this.ld.S(a,2)&-134217729||(1==d?134217728:0))};b.prototype.Eo=function(a){return 0!=(this.ld.S(a,2)&134217728)?1:0};b.prototype.DO=function(a){var d=this.ah(a.G(),a.description);1736==a.G()&&this.Op(d,a.Eo());this.iF(d,a);return d};b.prototype.EO=function(a){var d=
this.ah(a.G(),a.description);this.jF(d,a);return d};b.prototype.sW=function(a,d){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));this.rd.Ne(this.rd.xd+a);this.Cd.Ne(this.Cd.xd+d);this.oj.zb(this.oj.size+a);this.pp.zb(this.pp.size+a)};b.prototype.iF=function(a,d){this.sW(d.aa(),d.D());this.sm.Hd(d,0,d.D());this.Jr=this.yb.Qa(0);for(var b=null!=this.tf&&null!=d.$e,h=0,k=d.aa();h<k;h++)if(!(2>d.La(h))){var c=this.Vf(a,-1);this.ho(c,d.Qb(h));for(var r=
d.wa(h),v=d.Fc(h);r<v;r++){var p=this.$j(c,-1,null);if(b)if(p=this.Za(p),0!=(d.aH(r)&1))this.sh(p,null);else{var g=new e.Bg;d.jc(r,g,!0);this.sh(p,g.get())}}}};b.prototype.jF=function(a,d){this.sm.Hd(d,0,d.D());this.Jr=this.yb.Qa(0);a=this.Vf(a,-1);var b=0;for(d=d.D();b<d;b++)this.$j(a,-1,null)};b.prototype.kY=function(a,d,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var k=this.gn(),c=this.kd(a),r=0,v=d.Wl(b);r<v;r++){var p=this.Za(a),g=this.U(a),l=d.Mq(b,r);0==r&&(l.Kp(k),this.Zh(a,k));322==l.G()?
this.sh(p,null):this.sh(p,e.T.me(l));l.Ip(k);r<v-1?a=this.$j(c,g,k):this.Zh(f,k)}};b.prototype.jY=function(a,d,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var k=this.gn(),c=this.kd(a),r=0,v=d.Wl(b);r<v;r++){var p=this.Za(a),g=this.U(a),l=d.Mq(b,v-r-1);0==r&&(l.Ip(k),this.Zh(a,k));322==l.G()?this.sh(p,null):this.sh(p,e.T.me(l));l.Kp(k);r<v-1?a=this.$j(c,g,k):this.Zh(f,k)}};b.prototype.LG=function(){var a=new e.h;a.Oa();for(var d=this.Pr(),b=new e.b,h=!0,k=d.next();-1!=k;k=d.next())this.w(k,b),h?
a.Nb(b.x,b.y):a.ol(b.x,b.y),h=!1;return a};b.prototype.Jb=function(a){var d=a.G();if(e.T.Hc(d))return this.DO(a);if(550==d)return this.EO(a);throw e.g.za();};b.prototype.TO=function(a,d){var b=d.G();if(e.T.Hc(b))this.iF(a,d);else if(550==b)this.jF(a,d);else throw e.g.za();};b.prototype.IO=function(a,d){var b=this.ah(1736,a.description);if(2>a.La(d))return b;this.sm.Hd(a,a.wa(d),a.Fc(d));this.Jr=this.yb.Qa(0);var h=this.Vf(b,-1);this.ho(h,a.Qb(d)||!0);var k=null!=this.tf&&null!=a.$e,c=a.wa(d);for(d=
a.Fc(d);c<d;c++){var r=this.$j(h,-1,null);if(k)if(r=this.Za(r),0!=(a.aH(c)&1))this.sh(r,null);else{var v=new e.Bg;a.jc(c,v,!0);this.sh(r,v.get())}}return b};b.prototype.Pe=function(a){var d=this.ic(a),b=e.fM.ah(d,this.sm.description),h=this.D(a);if(0==h)return b;if(e.T.Hc(d)){for(var d=this.aa(a),k=e.Tc.wh(d+1),c=e.Tc.vq(d+1,0),r=b.description,v=0,p=r.Ga;v<p;v++){for(var g=r.pd(v),l=e.ma.Xa(g),m=e.Tc.oz(g,h),E=this.yb.Qa(g),n=0,u=0,t=0,w=this.Pb(a);-1!=w;w=this.Sb(w)){var x=0;this.Qb(w)&&(x|=1);this.tU(w)&&
(x|=4);0!=x&&c.lC(u,x);var y=this.La(w);k.write(u++,t);t+=y;if(0==g)for(var y=E,A=m,L=new e.b,x=this.cb(w);n<t;x=this.U(x),n++){var B=this.Za(x);y.fc(2*B,L);A.mo(2*n,L)}else for(x=this.cb(w);n<t;x=this.U(x),n++)for(B=this.Za(x),A=0;A<l;A++)L=E.Lf(B*l+A),m.Im(n*l+A,L)}b.eo(g,m);k.write(d,h)}b.uK(c);b.vK(k);b.Cc(16777215)}else if(550==d){r=b.description;b.resize(h);v=0;for(p=r.Ga;v<p;v++){g=r.pd(v);l=e.ma.Xa(g);m=b.Qa(g);E=this.yb.Qa(g);n=0;w=this.Pb(a);y=this.La(w);for(x=this.cb(w);n<y;x=this.U(x),
n++)for(B=this.Za(x),A=0;A<l;A++)L=E.Lf(B*l+A),m.Im(n*l+A,L);b.eo(g,m)}b.Cc(16777215)}return b};b.prototype.dC=function(a){for(var d=this.Pb(a);-1!=d;d=this.Qr(d));var d=this.iT(a),b=this.Re(a);-1!=d?this.tK(d,b):this.qd=b;-1!=b?this.xK(b,d):this.cx=d;this.bS(a)};b.prototype.ah=function(a,d){return void 0===d?this.fG(a,e.we.Hg()):this.fG(a,d)};b.prototype.fG=function(a,d){a=this.JV(a);null==this.yb?this.yb=this.sm=new e.Dd(d):this.sm.tm(d);this.Gr=this.sm.description;this.RA=1<this.Gr.Ga;-1==this.qd?
this.qd=a:(this.xK(a,this.cx),this.tK(this.cx,a));return this.cx=a};b.prototype.Re=function(a){return this.ld.S(a,1)};b.prototype.iT=function(a){return this.ld.S(a,0)};b.prototype.ic=function(a){return this.ld.S(a,2)&2147483647};b.prototype.lK=function(a,d,b){d=this.$k[d];a=this.MG(a);a>=d.size&&d.resize(Math.max(e.J.truncate(1.25*a),16),-1);d.write(a,b)};b.prototype.NG=function(a,d){a=this.MG(a);d=this.$k[d];return a<d.size?d.read(a):-1};b.prototype.gG=function(){null==this.$k&&(this.$k=[]);for(var a=
0;a<this.$k.length;a++)if(null==this.$k[a])return this.$k[a]=e.Tc.wh(0),a;this.$k.push(e.Tc.wh(0));return this.$k.length-1};b.prototype.ZW=function(a){this.$k[a]=null};b.prototype.Pb=function(a){return this.ld.S(a,3)};b.prototype.Xv=function(a){return this.ld.S(a,4)};b.prototype.D=function(a){return this.ld.S(a,5)};b.prototype.aa=function(a){return this.ld.S(a,6)};b.prototype.zq=function(a,d,b){for(var f=0,k=this.qd;-1!=k;k=this.Re(k)){var c=this.ic(k);if(e.T.Hc(c)&&(!b||1736==c))for(var c=1736==
this.ic(k),r=this.Pb(k);-1!=r;){for(var v=0,p=this.cb(r);v<e.J.truncate(this.La(r)/2);){var g=this.U(p);if(-1==g)break;var l=this.Za(p),m=this.ui(l);null!=m?l=m.Rb():(m=this.Za(g),l=this.yb.vs(l,m));l<=a?(0==l?0==f&&(f=-1):f=1,g!=this.Vj(r)&&(this.MC(g,p),this.td(g,!0))):p=this.U(p);v++}v=this.cb(r);for(p=this.Qb(r)?v:this.Vj(r);0<this.La(r);)if(g=this.Ra(p),-1!=g){var E=this.Za(g),m=this.ui(E);null!=m?l=m.Rb():(l=this.Za(p),l=this.yb.vs(l,E));if(l<=a)0==l?0==f&&(f=-1):f=1,this.MC(g,p),this.td(g,
!1),v==g&&(v=this.cb(r));else if(p=this.Ra(p),p==v)break}else{this.td(p,!0);0==f&&(f=-1);break}p=this.La(r);d&&(c?3>p:2>p)?(r=this.Qr(r),f=0<p?1:0==f?-1:f):r=this.Sb(r)}}return f};b.prototype.MC=function(a,d){var b=this.Za(a),h=this.Za(d);null!=this.oh&&(b=this.oh.read(b),this.oh.write(h,b));if(null!=this.Ci)for(h=0,b=this.Ci.length;h<b;h++)if(null!=this.Ci[h]){var e=this.Sa(a,h);-1!=e&&this.Va(d,h,e)}};b.prototype.Em=function(a,d,b){var f=0,k=this.U(a);if(-1==k)throw e.g.za();for(var c=this.Za(a),
r=this.Za(k),v=this.ui(c),p=null==v?this.yb.vs(c,r):v.Rb(),g=0;g<b;g++){var l=d[g];if(0<l&&1>l){var m=l;null!=v&&(m=0<p?v.zy(l)/p:0);this.yb.HE(c,r,m,this.gn());var E=this.$j(this.kd(a),k,this.gn());f++;if(null!=v){var n=v.Ml(0,l),m=this.Za(this.Ra(E));this.sh(m,n);this.Nf(E,n.Ac());if(g==b-1||1==d[g+1])l=v.Ml(l,1),this.sh(m,l)}}}return f};b.prototype.iY=function(a,d,b){var f=0,k=this.U(a);if(-1==k)throw e.g.X("internal error");var c=this.Za(a),r=this.Za(k),v=this.ui(c),p=null==v?this.yb.vs(c,r):
v.Rb(),g=0;a=this.kd(a);for(var l=0;l<b;l++){var m=d[l];if(g<m&&1>m){var E=m;null!=v&&(E=0<p?v.zy(m)/p:0);this.yb.HE(c,r,E,this.gn());E=this.WT(a,k,this.gn());f++;if(null!=v){var g=v.Ml(g,m),n=this.Za(this.Ra(E));this.sh(n,g);this.rb(E,g.sa,g.oa);if(l==b-1||1==d[l+1])g=v.Ml(m,1),E=this.Za(E),this.sh(E,g)}}g=m}return f};b.prototype.WT=function(a,d,b){var f=-1!=d?this.Ra(d):this.Vj(a),e=-1!=f?this.U(f):-1,c=this.lJ(null==b?this.ud:-1),r=this.Za(c);null!=b&&this.yb.xu(r,b);this.Bj(c,a);this.Jc(c,e);
this.Kc(c,f);-1!=e&&this.Kc(e,c);-1!=f&&this.Jc(f,c);b=this.Qb(a);f=this.cb(a);-1==d&&this.rh(a,c);d==f&&(b&&-1!=f||this.ig(a,c));b&&-1==e&&(this.Jc(c,c),this.Kc(c,c));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return c};b.prototype.FF=function(a,d,b){var f=this.Za(d),k=this.Za(b);if(0>f||k>this.ud-1)throw e.g.F("invalid call");if(f>k&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;d!=b;d=this.U(d))f=this.Za(d),k=this.ui(f),null!=k?a+=k.Rb():(k=this.Za(this.U(d)),
a+=this.yb.vs(f,k));return a};b.prototype.Zh=function(a,d){var b=this.Za(a);this.yb.xu(b,d);b=this.ui(b);null!=b&&b.setStart(d);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&b.setEnd(d))};b.prototype.xj=function(a,d){a=this.Za(a);this.yb.xe(a,d)};b.prototype.Nf=function(a,d){this.rb(a,d.x,d.y)};b.prototype.rb=function(a,d,b){var f=this.Za(a);this.yb.rb(f,d,b);f=this.ui(f);null!=f&&f.zC(d,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&f.Am(d,b))};b.prototype.w=function(a,d){this.yb.w(this.Cd.S(a,
0),d)};b.prototype.Mc=function(a,d){this.yb.ya[0].fc(2*this.Cd.S(a,0),d)};b.prototype.Ba=function(a){var d=new e.b;this.yb.w(this.Cd.S(a,0),d);return d};b.prototype.gH=function(a,d){this.Jr.fc(2*a,d)};b.prototype.Wc=function(a,d,b){return this.yb.Wc(a,this.Za(d),b)};b.prototype.setAttribute=function(a,d,b,h){this.yb.setAttribute(a,this.Za(d),b,h)};b.prototype.Za=function(a){return this.Cd.S(a,0)};b.prototype.Cf=function(a){var d=new e.b;this.w(a,d);return d.y};b.prototype.Uq=function(a,d){a=this.Za(a);
d=this.Za(d);var b=this.yb.ya[0].f;return b[2*a]===b[2*d]&&b[2*a+1]===b[2*d+1]};b.prototype.qw=function(a,d){a=this.Za(a);var b=this.yb.ya[0].f;return b[2*a]===d.x&&b[2*a+1]===d.y};b.prototype.VX=function(a,d){1>d&&(d=1);if(null==this.oh){if(1==d)return;this.oh=e.Tc.$m(this.yb.D(),1)}a=this.Za(a);a>=this.oh.size&&this.oh.resize(a+1,1);this.oh.write(a,d)};b.prototype.fH=function(a){a=this.Za(a);return null==this.oh||a>=this.oh.size?1:this.oh.read(a)};b.prototype.Va=function(a,d,b){d=this.Ci[d];a=this.Za(a);
d.size<this.yb.D()&&d.resize(this.yb.D(),-1);d.write(a,b)};b.prototype.Sa=function(a,d){a=this.Za(a);d=this.Ci[d];return a<d.size?d.read(a):-1};b.prototype.Sd=function(){null==this.Ci&&(this.Ci=[]);for(var a=0;a<this.Ci.length;a++)if(null==this.Ci[a])return this.Ci[a]=e.Tc.wh(0,-1),a;this.Ci.push(e.Tc.wh(0,-1));return this.Ci.length-1};b.prototype.je=function(a){this.Ci[a]=null};b.prototype.jc=function(a){return null!=this.tf?(a=this.Za(a),this.tf[a]):null};b.prototype.nd=function(a,d){var b=this.Cd.S(a,
2);if(-1==b)return!1;if(this.RA){var h=new e.Wa;this.xj(a,h);d.setStart(h);this.xj(b,h);d.setEnd(h)}else this.yb.Mc(this.Cd.S(a,0),ja),d.Wm(0,ja),this.yb.Mc(this.Cd.S(b,0),ja),d.Wm(1,ja);return!0};b.prototype.LW=function(a,d,b){if(this.RA){var f=new e.Wa;this.xj(a,f);b.setStart(f);this.xj(d,f);b.setEnd(f)}else this.yb.Mc(a,ja),b.Wm(0,ja),this.yb.Mc(d,ja),b.Wm(1,ja)};b.prototype.Vf=function(a,d){var b;if(-1!=d){if(a!=this.mg(d))throw e.g.za();b=this.at(d)}else b=this.Xv(a);var h=this.LV(a);-1!=d&&
this.Sp(d,h);this.Rp(h,d);this.Sp(h,b);-1!=b?this.Rp(b,h):this.Pp(a,h);-1==d&&this.Qp(a,h);this.Bm(a,this.aa(a)+1);return h};b.prototype.pH=function(a,d,b,h){a=this.Vf(a,-1);for(var f=0,e=d,c=!1;e==b&&(c=!0),this.Bj(e,a),f++,e=this.U(e),e!=d;);this.ho(a,!0);this.sk(a,f);c&&(d=b);this.ig(a,d);this.rh(a,this.Ra(d));this.Up(a,!1);null!=h&&(h[0]=c);return a};b.prototype.Qr=function(a){var d=this.at(a),b=this.Sb(a),h=this.mg(a);-1!=d?this.Rp(d,b):this.Pp(h,b);-1!=b?this.Sp(b,d):this.Qp(h,d);this.$P(a);
this.Bm(h,this.aa(h)-1);this.wG(a);return b};b.prototype.$P=function(a){var d=this.cb(a);if(-1!=d){for(var b=0,h=this.La(a);b<h;b++){var e=d,d=this.U(d);this.Fz(e)}d=this.mg(a);this.qk(d,this.D(d)-this.La(a))}this.sk(a,0)};b.prototype.Sb=function(a){return this.rd.S(a,2)};b.prototype.at=function(a){return this.rd.S(a,1)};b.prototype.La=function(a){return this.rd.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.ho=function(a,d){if(this.Qb(a)!=d){if(0<this.La(a)){var b=this.cb(a),
h=this.Vj(a);d?(this.Jc(h,b),this.Kc(b,h)):(this.Jc(h,-1),this.Kc(b,-1));b=this.Za(h);this.sh(b,null)}this.wC(a,(this.Lq(a)|1)-1|(d?1:0))}};b.prototype.mg=function(a){return this.rd.S(a,7)};b.prototype.tU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.rC=function(a,d){this.wC(a,(this.Lq(a)|2)-2|(d?2:0))};b.prototype.jA=function(a){if(this.zU(a))return this.oj.get(this.dw(a));var d=new e.Hb,b=this.cb(a);if(-1==b)return 0;var h=new e.b;this.w(b,h);for(var k=0,c=0,r=this.La(a);c<r;c++,b=this.U(b)){var v=
this.jc(b);if(null==v){if(!this.nd(b,d))continue;v=d}k+=v.yy(h.x,h.y)}this.Up(a,!0);this.oj.set(this.dw(a),k);return k};b.prototype.Zr=function(a,d,b){d=this.gl[d];a=this.dw(a);d.size<this.oj.size&&d.resize(this.oj.size,-1);d.write(a,b)};b.prototype.Xj=function(a,d){a=this.dw(a);d=this.gl[d];return a<d.size?d.read(a):-1};b.prototype.pz=function(){null==this.gl&&(this.gl=[]);for(var a=0;a<this.gl.length;a++)if(null==this.gl[a])return this.gl[a]=e.Tc.wh(0),a;this.gl.push(e.Tc.wh(0));return this.gl.length-
1};b.prototype.eC=function(a){this.gl[a]=null};b.prototype.BV=function(a,d,b){if(-1==b)throw e.g.F();if(d!=b){var f=this.Sb(b),k=this.at(b),c=this.mg(b);-1==k?this.Pp(c,f):this.Rp(k,f);-1==f?this.Qp(c,k):this.Sp(f,k);this.qk(c,this.D(c)-this.La(b));this.Bm(c,this.aa(c)-1);k=-1==d?this.Xv(a):this.at(d);this.Sp(b,k);this.Rp(b,d);-1==d?this.Qp(a,b):this.Sp(d,b);-1==k?this.Pp(a,b):this.Rp(k,b);this.qk(a,this.D(a)+this.La(b));this.Bm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Oj=function(a,d){this.yb.xe(this.Za(d),
this.gn());this.$j(a,-1,this.gn())};b.prototype.td=function(a,d){var b=this.kd(a),h=this.Ra(a),k=this.U(a);-1!=h&&this.Jc(h,k);var c=this.La(b);a==this.cb(b)&&this.ig(b,1<c?k:-1);-1!=k&&this.Kc(k,h);a==this.Vj(b)&&this.rh(b,1<c?h:-1);if(-1!=h&&-1!=k){var h=this.Za(h),r=this.Za(k);d?(d=this.ui(h),null!=d&&(h=new e.b,this.yb.w(r,h),d.Xc(h))):(r=this.Za(a),d=this.ui(r),this.sh(h,d),null!=d&&(h=this.yb.Ba(h),d.Lc(h)))}this.sk(b,c-1);b=this.mg(b);this.qk(b,this.D(b)-1);this.Fz(a);return k};b.prototype.cb=
function(a){return this.rd.S(a,4)};b.prototype.Vj=function(a){return this.rd.S(a,5)};b.prototype.U=function(a){return this.Cd.S(a,2)};b.prototype.Ra=function(a){return this.Cd.S(a,1)};b.prototype.kd=function(a){return this.Cd.S(a,3)};b.prototype.pc=function(a,d){return this.$j(a,-1,d)};b.prototype.Pr=function(a){if(void 0===a)return this.Pr(!1);if(a instanceof p)return new p(a);var d,b=-1,h=-1,k=-1,c=0,r=!1;for(d=this.qd;-1!=d;d=this.Re(d))if(!a||e.T.Hc(this.ic(d))){for(b=this.Pb(d);-1!=b;b=this.Sb(b))if(k=
h=this.cb(b),c=0,-1!=h){r=!0;break}if(r)break}return p.UQ(this,d,b,h,k,c,a)};b.prototype.Vc=function(a){this.sm.Vc(a);if(null!=this.tf)for(var d=0,b=this.tf.length;d<b;d++)null!=this.tf[d]&&this.tf[d].Vc(a)};b.prototype.as=function(a,d,b,h){h?this.kY(a,d,b):this.jY(a,d,b)};b.prototype.Kc=function(a,d){this.Cd.R(a,1,d)};b.prototype.Jc=function(a,d){this.Cd.R(a,2,d)};b.prototype.Bj=function(a,d){this.Cd.R(a,3,d)};b.prototype.sk=function(a,d){this.rd.R(a,3,d)};b.prototype.ig=function(a,d){this.rd.R(a,
4,d)};b.prototype.rh=function(a,d){this.rd.R(a,5,d)};b.prototype.Bm=function(a,d){this.ld.R(a,6,d)};b.prototype.qk=function(a,d){this.ld.R(a,5,d)};b.prototype.UJ=function(a){var d=a;do{var b=this.U(d);this.Jc(d,this.Ra(d));this.Kc(d,b);d=b}while(d!=a)};b.prototype.CC=function(a){this.ud=a};b.prototype.Rr=function(a){var d=this.at(a),b=this.Sb(a),h=this.mg(a);-1!=d?this.Rp(d,b):this.Pp(h,b);-1!=b?this.Sp(b,d):this.Qp(h,d);this.ig(a,-1);this.rh(a,-1);this.wG(a)};b.prototype.Ni=function(a,d){var b=this.Ra(a),
h=this.U(a);-1!=b&&this.Jc(b,h);-1!=h&&this.Kc(h,b);if(-1!=b&&-1!=h)if(b=this.Za(b),h=this.Za(h),d){if(d=this.ui(b),null!=d){var k=new e.b;this.yb.w(h,k);d.Xc(k)}}else h=this.Za(a),d=this.ui(h),this.sh(b,d),null!=d&&(k=new e.b,this.yb.w(b,k),d.Lc(k));this.Fz(a)};b.prototype.zU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Up=function(a,d){this.wC(a,(this.Lq(a)|4)-4|(d?4:0))};b.prototype.Xx=function(a,d){var b=this.Cd.f;this.yb.vc();var h=this.yb.ya[0].f;a.Fd(0,d,function(a,d){a=b[5*a];d=b[5*d];
var f=h[2*a];a=h[2*a+1];var e=h[2*d];d=h[2*d+1];return a<d?-1:a>d?1:f<e?-1:f>e?1:0})};b.prototype.FT=function(){for(var a=this.qd;-1!=a;a=this.Re(a))if(!e.T.Hc(this.ic(a)))return!0;return!1};b.prototype.HC=function(a,d){for(var b=this.Pb(a),h=this.Pb(d),e=this.Xv(a),c=this.Xv(d),r=this.Pb(a);-1!=r;r=this.Sb(r))this.Rx(r,d);for(r=this.Pb(d);-1!=r;r=this.Sb(r))this.Rx(r,a);this.Pp(a,h);this.Pp(d,b);this.Qp(a,c);this.Qp(d,e);b=this.D(a);h=this.aa(a);e=this.aa(d);this.qk(a,this.D(d));this.qk(d,b);this.Bm(a,
e);this.Bm(d,h);b=this.ld.S(a,2);this.ld.R(a,2,this.ld.S(d,2));this.ld.R(d,2,b)};return b}();e.ed=c})(u||(u={}));(function(e){var c=function(c){function b(a,d,b,h){var f=c.call(this)||this;f.$=new e.h;void 0===a?f.$F():"number"===typeof a?f.uQ(a,d,b,h):a instanceof e.Wa?void 0!==d?f.Iv(a,d,b):f.vQ(a):a instanceof e.ma?void 0!==d?f.xQ(a,d):f.wQ(a):a instanceof e.h?f.tQ(a):f.$F();return f}da(b,c);b.prototype.Iv=function(a,d,b){this.description=e.we.Hg();this.$.Oa();a.u()||this.hv(a,d,b)};b.prototype.tQ=
function(a){this.description=e.we.Hg();this.$.I(a);this.$.normalize()};b.prototype.wQ=function(a){if(null==a)throw e.g.F();this.description=a;this.$.Oa()};b.prototype.xQ=function(a,d){if(null==a)throw e.g.F();this.description=a;this.$.I(d);this.$.normalize()};b.prototype.$F=function(){this.description=e.we.Hg();this.$.Oa()};b.prototype.vQ=function(a){this.description=e.we.Hg();this.$.Oa();a.u()||this.hv(a)};b.prototype.uQ=function(a,d,b,h){this.description=e.we.Hg();this.I(a,d,b,h)};b.prototype.I=
function(a,d,b,h){this.zc();if("number"===typeof a)this.$.I(a,d,b,h);else for(this.Oa(),d=0,b=a.length;d<b;d++)this.Nb(a[d])};b.prototype.Np=function(a){this.zc();if(!a.BU())throw e.g.F();this.$.I(a)};b.prototype.Oa=function(){this.zc();this.$.Oa()};b.prototype.u=function(){return this.$.u()};b.prototype.O=function(){return this.$.O()};b.prototype.ea=function(){return this.$.ea()};b.prototype.Jk=function(){return this.$.Jk()};b.prototype.Cq=function(){return this.$.Cq()};b.prototype.Bq=function(){return this.$.Tf()};
b.prototype.Nb=function(a){if(a instanceof e.b)this.zc(),this.$.Nb(a);else if(a instanceof e.h)this.zc(),this.$.Nb(a);else if(a instanceof e.Wa){if(this.zc(),!a.Gc()){var d=a.description;this.description!=d&&this.tm(d);if(this.u())this.hv(a);else{this.$.Nb(a.w());for(var f=1,h=d.Ga;f<h;f++)for(var k=d.Qd(f),c=e.ma.Xa(k),r=0;r<c;r++){var v=a.Wc(k,r),p=this.hg(k,r);p.Nb(v);this.setInterval(k,r,p)}}}}else if(a instanceof b&&!a.u())for(d=a.description,d!=this.description&&this.tm(d),this.$.Nb(a.$),f=
1,h=d.Ga;f<h;f++)for(k=d.pd(f),c=e.ma.Xa(k),r=0;r<c;r++)v=a.hg(k,r),p=this.hg(k,r),p.Nb(v),this.setInterval(k,r,p)};b.prototype.hv=function(a,d,b){if(void 0!==d){this.$.I(a.w(),d,b);d=a.description;b=1;for(var f=d.Ga;b<f;b++)for(var k=d.Qd(b),c=e.ma.Xa(k),r=0;r<c;r++){var v=a.Wc(k,r);this.setInterval(k,r,v,v)}}else for(this.$.I(a.ka[0],a.ka[1]),d=a.description,b=1,f=d.Ga;b<f;b++)for(k=d.Qd(b),c=e.ma.Xa(k),r=0;r<c;r++)v=a.Wc(k,r),this.setInterval(k,r,v,v)};b.prototype.setInterval=function(a,d,b,h){var f=
null;"number"===typeof b?f=new e.yc(b,h):f=b;this.zc();if(0==a)if(0==d)this.$.o=f.ga,this.$.v=f.la;else if(1==d)this.$.A=f.ga,this.$.B=f.la;else throw e.g.vd();else this.OE(0,a,d,f.ga),this.OE(1,a,d,f.la)};b.prototype.P=function(a,d){this.zc();this.$.P(a,d)};b.prototype.Vc=function(a){if(a instanceof e.Gd)this.zc(),a.NC(this.$);else if(this.zc(),!this.$.u()){var d=new e.QL;this.Jp(d);d.sU()?d.Oa():a.NC(d)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.zc();a.description=this.description;
a.$.I(this.$);a.ka=null;if(null!=this.ka){a.cv();for(var d=0;d<2*(this.description.Ye.length-2);d++)a.ka[d]=this.ka[d]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.ef=function(){return this.$.AG()};b.prototype.Rb=function(){return this.$.RG()};b.prototype.G=function(){return 197};b.prototype.ub=function(){return 2};b.prototype.Wn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.$.o;a.A=this.$.A;a.v=this.$.v;a.B=this.$.B};b.prototype.Jp=function(a){a.o=this.$.o;
a.A=this.$.A;a.v=this.$.v;a.B=this.$.B;a.I(this.$.o,this.$.A,this.Zd(0,1,0),this.$.v,this.$.B,this.Zd(1,1,0))};b.prototype.hg=function(a,d){var b=new e.yc;b.I(this.Zd(0,a,d),this.Zd(1,a,d));return b};b.prototype.gg=function(a,d){d.Eg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var h=this.description.pd(a),k=e.ma.Xa(h),c=0;c<k;c++)d.setAttribute(h,c,this.Zd(0,h,c));d.rb(this.$.o,this.$.A);break;case 1:for(a=0;a<b;a++)for(h=this.description.pd(a),k=e.ma.Xa(h),
c=0;c<k;c++)d.setAttribute(h,c,this.Zd(1,h,c));d.rb(this.$.o,this.$.B);break;case 2:for(a=0;a<b;a++)for(h=this.description.pd(a),k=e.ma.Xa(h),c=0;c<k;c++)d.setAttribute(h,c,this.Zd(0,h,c));d.rb(this.$.v,this.$.B);break;case 3:for(a=0;a<b;a++)for(h=this.description.pd(a),k=e.ma.Xa(h),c=0;c<k;c++)d.setAttribute(h,c,this.Zd(1,h,c));d.rb(this.$.v,this.$.A);break;default:throw e.g.vd();}};b.prototype.Gx=function(a,d){a=this.$.Gx(a);d.ja(a.x,a.y)};b.prototype.CS=function(a,d){return d*(a.Er-2)};b.prototype.BG=
function(a,d,b){if(this.$.u())throw e.g.X("empty geometry");if(0==d)return 0!=a?0!=b?this.$.B:this.$.v:0!=b?this.$.A:this.$.o;if(b>=e.ma.Xa(d))throw e.g.F();var f=this.description.lg(d);this.cv();return 0<=f?this.ka[this.CS(this.description,a)+this.description.eT(f)-2+b]:e.ma.be(d)};b.prototype.cv=function(){this.zc();if(null==this.ka&&2<this.description.Ye.length){this.ka=[];for(var a=b.N(this.description,0),d=b.N(this.description,1),f=0,h=1,k=this.description.Ga;h<k;h++)for(var c=this.description.pd(h),
r=e.ma.Xa(c),c=e.ma.be(c),v=0;v<r;v++)this.ka[a+f]=c,this.ka[d+f]=c,f++}};b.prototype.to=function(a){if(null!=this.ka)if(2<a.Ye.length){for(var d=e.we.vx(a,this.description),f=[],h=b.N(this.description,0),k=b.N(this.description,1),c=b.N(a,0),r=b.N(a,1),v=0,p=1,g=a.Ga;p<g;p++){var l=a.pd(p),m=e.ma.Xa(l);if(-1==d[p])for(var E=e.ma.be(l),l=0;l<m;l++)f[c+v]=E,f[r+v]=E,v++;else for(E=this.description.zk(d[p])-2,l=0;l<m;l++)f[c+v]=this.ka[h+E],f[r+v]=this.ka[k+E],v++,E++}this.ka=f}else this.ka=null;this.description=
a};b.prototype.Zd=function(a,d,f){if(this.$.u())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==d)return 0!=a?0!=f?this.$.B:this.$.v:0!=f?this.$.A:this.$.o;if(f>=e.ma.Xa(d))throw e.g.vd();var h=this.description.lg(d);return 0<=h?(this.cv(),this.ka[b.N(this.description,a)+this.description.zk(h)-2+f]):e.ma.be(d)};b.prototype.OE=function(a,d,f,h){this.zc();if(0==d)0!=a?0!=f?this.$.B=h:this.$.v=h:0!=f?this.$.A=h:this.$.o=h;else{if(f>=e.ma.Xa(d))throw e.g.vd();if(!this.hasAttribute(d)){if(e.ma.DH(d,
h))return;this.Rd(d)}d=this.description.lg(d);this.cv();this.ka[b.N(this.description,a)+this.description.zk(d)-2+f]=h}};b.N=function(a,d){return d*(a.Ye.length-2)};b.prototype.Ma=function(a){this.zc();var d=new e.h;a.s(d);return this.$.Ma(d)};b.prototype.Yb=function(a){return a instanceof e.h?this.$.Yb(a):this.$.Yb(a.$)};b.prototype.Bv=function(a,d,b){this.zc();a.u()?this.Oa():void 0!==d?this.hv(a,d,b):this.$.Bv(a.Te(),a.Cf())};b.prototype.offset=function(a,d){this.zc();this.$.offset(a,d)};b.prototype.normalize=
function(){this.zc();this.$.normalize()};b.prototype.Tf=function(a){if(void 0!==a)if(a.Eg(this.description),this.u())a.Oa();else{for(var d=this.description.Ga,b=1;b<d;b++)for(var h=this.description.pd(b),k=e.ma.Xa(h),c=0;c<k;c++){var r=.5*(this.BG(0,h,c)+this.BG(1,h,c));a.setAttribute(h,c,r)}a.rb(this.$.Tf())}else{a=new e.Wa(this.description);if(this.u())return a;d=this.description.Ga;for(b=1;b<d;b++)for(h=this.description.Qd(b),k=e.ma.Xa(h),c=0;c<k;c++)r=.5*(this.Zd(0,h,c)+this.Zd(1,h,c)),a.setAttribute(h,
c,r);a.rb(this.$.Jk(),this.$.Cq());return a}};b.prototype.aA=function(){return new e.Wa(this.$.aA())};b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.$.contains(a.Te(),a.Cf()):this.$.contains(a.$)};b.prototype.DQ=function(a){return this.$.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.$.Eb(a.$))return!1;for(var d=0,f=2*(this.description.Ye.length-2);d<f;d++)if(this.ka[d]!=
a.ka[d])return!1;return!0};b.prototype.kc=function(){var a=this.description.kc(),a=e.J.bh(a,this.$.kc());if(!this.u()&&null!=this.ka)for(var d=0,b=2*(this.description.Ye.length-2);d<b;d++)a=e.J.bh(a,this.ka[d]);return a};b.prototype.dt=function(){return this.$.o};b.prototype.ft=function(){return this.$.A};b.prototype.ct=function(){return this.$.v};b.prototype.et=function(){return this.$.B};b.prototype.Fg=function(){return e.Pi.Xm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":
"Envelope: ["+this.$.o+", "+this.$.A+", "+this.$.v+", "+this.$.B+"]"};return b}(e.T);e.di=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=d,this.B=f)}c.pa=function(b,a,d,f){var h=new c;h.o=b;h.A=a;h.v=d;h.B=f;return h};c.prototype.I=function(b,a,d,f){"number"===typeof b?void 0!==d?(this.o=b,this.A=a,this.v=d,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=
b.y-.5*d,this.B=this.A+d,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof c?this.I(b.o,b.A,b.v,b.B):b instanceof e.yc&&(b.u()||a.u()?this.Oa():(this.o=b.ga,this.v=b.la,this.A=a.ga,this.B=a.la))};c.prototype.OS=function(b,a){var d=new c;d.I(this.o,this.A,this.v,this.B);d.P(b,a);return d};c.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var d=1;d<a;d++){var f=b[d];f.x<this.o?this.o=f.x:f.x>this.v&&
(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),d=1;d<b.length;d++)f=b[d],this.ol(f.x,f.y)};c.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};c.prototype.u=function(){return isNaN(this.o)};c.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof
e.od?this.Nb(b.x,b.y):b instanceof c&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};c.prototype.ol=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};c.prototype.P=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>this.v||this.A>this.B)&&this.Oa())};c.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};c.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&
(this.A<=b.A?this.B>=b.A:b.B>=this.A)};c.prototype.HH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};c.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};c.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,this.B);case 2:return e.b.pa(this.v,this.B);
case 3:return e.b.pa(this.v,this.A);default:throw e.g.vd();}};c.prototype.SB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ja(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ja(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ja(this.v,this.B):b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ja(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};c.prototype.AG=function(){return this.u()?0:this.O()*this.ea()};c.prototype.RG=function(){return this.u()?0:2*(this.O()+this.ea())};
c.prototype.Jk=function(){return(this.v+this.o)/2};c.prototype.Cq=function(){return(this.B+this.A)/2};c.prototype.O=function(){return this.v-this.o};c.prototype.ea=function(){return this.B-this.A};c.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};c.prototype.Bv=function(b,a){if(void 0!==a)this.move(b-this.Jk(),a-this.Cq());else if(b instanceof e.b)this.Bv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var d=(this.B-this.A)/2;this.o=b.Te()-a;this.v=b.Te()+
a;this.A=b.Cf()-d;this.B=b.Cf()+d}else throw e.g.F();};c.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};c.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,this.B);this.A=b;this.B=a}};c.prototype.Zn=function(b){b.ja(this.o,this.A)};c.prototype.HJ=function(b){b.ja(this.v,this.A)};c.prototype.KJ=function(b){b.ja(this.o,this.B)};c.prototype.$n=function(b){b.ja(this.v,
this.B)};c.prototype.BU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};c.prototype.Tf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};c.prototype.aA=function(){return e.b.pa(this.o,this.A)};c.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Te(),b.Cf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof c)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw e.g.F();
};c.prototype.Zm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Zm(b.x,b.y);if(b instanceof c)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};c.prototype.kc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.bh(b),b=this.v,b=e.J.truncate(b^b>>>32),a=e.J.bh(b,a),b=this.A,b=e.J.truncate(b^
b>>>32),a=e.J.bh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.bh(b,a)};c.prototype.Ky=function(b){var a=new e.b;a.L(b);if(a.Dy())return a;if(this.u())return a.iv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;b=this.Tf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};c.prototype.av=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-
this.A;var a=this.B-this.A,d=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+d+this.B-b.y:b.y==this.A?2*a+d+this.v-b.x:this.av(this.Ky(b))};c.prototype.DE=function(b){if(this.u())return-1;b=this.av(b);var a=this.B-this.A,d=this.v-this.o;return b<a?0:(b-=a)<d?1:b-d<a?2:3};c.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};c.prototype.ez=function(b,a){var d=this.yk(b),f=this.yk(a);
if(0!=(d&f))return 0;if(0==(d|f))return 4;var h=(0!=d?1:0)|(0!=f?2:0);do{var e=a.x-b.x,q=a.y-b.y;e>q?0!=(d&c.dc)?(0!=(d&c.N)?(b.y+=q*(this.o-b.x)/e,b.x=this.o):(b.y+=q*(this.v-b.x)/e,b.x=this.v),d=this.yk(b)):0!=(f&c.dc)?(0!=(f&c.N)?(a.y+=q*(this.o-a.x)/e,a.x=this.o):(a.y+=q*(this.v-a.x)/e,a.x=this.v),f=this.yk(a)):0!=d?(0!=(d&c.tb)?(b.x+=e*(this.A-b.y)/q,b.y=this.A):(b.x+=e*(this.B-b.y)/q,b.y=this.B),d=this.yk(b)):(0!=(f&c.tb)?(a.x+=e*(this.A-a.y)/q,a.y=this.A):(a.x+=e*(this.B-a.y)/q,a.y=this.B),
f=this.yk(a)):0!=(d&c.ad)?(0!=(d&c.tb)?(b.x+=e*(this.A-b.y)/q,b.y=this.A):(b.x+=e*(this.B-b.y)/q,b.y=this.B),d=this.yk(b)):0!=(f&c.ad)?(0!=(f&c.tb)?(a.x+=e*(this.A-a.y)/q,a.y=this.A):(a.x+=e*(this.B-a.y)/q,a.y=this.B),f=this.yk(a)):0!=d?(0!=(d&c.N)?(b.y+=q*(this.o-b.x)/e,b.x=this.o):(b.y+=q*(this.v-b.x)/e,b.x=this.v),d=this.yk(b)):(0!=(f&c.N)?(a.y+=q*(this.o-a.x)/e,a.x=this.o):(a.y+=q*(this.v-a.x)/e,a.x=this.v),f=this.yk(a));if(0!=(d&f))return 0}while(0!=(d|f));return h};c.prototype.yk=function(b){return(b.x<
this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};c.prototype.eh=function(b){return!this.u()&&(this.O()<=b||this.ea()<=b)};c.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.NK(b)):Math.sqrt(this.Zx(b))};c.prototype.Zx=function(b){var a=0,d=0,f;f=this.o-b.v;f>a&&(a=f);f=this.A-b.B;f>d&&(d=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>d&&(d=f);return a*a+d*d};c.prototype.NK=function(b){var a=0,d=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>d&&(d=f);f=b.x-this.v;f>a&&
(a=f);f=b.y-this.B;f>d&&(d=f);return a*a+d*d};c.prototype.Yn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};c.XN=function(b,a,d,f){var h=1;isNaN(b)||(h+=Math.abs(b));isNaN(a)||(h+=Math.abs(a));isNaN(d)||(h+=Math.abs(d));isNaN(f)||(h+=Math.abs(f));return 2.220446049250313E-14*h};c.N=1;c.tb=4;c.dc=3;c.ad=12;return c}();e.h=c})(u||(u={}));(function(e){var c;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]=
"initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(c||(c={}));var p=
function(){function b(a,d){this.Di=a;this.cI=d}b.prototype.gs=function(a,d,b){this.Di.hY(b,a,d,this.cI)};b.prototype.Qq=function(a){return this.Di.Ks(a,this.cI)};return b}();c=function(){function b(){this.ax=this.ip=this.Ff=this.Ad=null;this.lr=new e.h;this.un=this.gk=this.hk=this.Od=this.dg=this.Wd=this.Qw=this.$o=this.zd=this.Lb=null;this.Zb=-1;this.ta=0;this.sl()}b.prototype.bs=function(){this.sl();this.Bw=!0;null==this.Lb?(this.$o=new e.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=0)};b.prototype.hd=
function(a,d){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(d);this.$o.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Oc=!1)};b.prototype.QK=function(){this.sl();this.Aw=!0;null==this.Lb?(this.$o=new e.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=0)};b.prototype.aF=function(a,d){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(d);this.$o.add(a);this.Lb.push(b)};b.prototype.qG=function(){if(!this.Aw)throw e.g.Da();
this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&0<this.zd.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Oc=!1)};b.prototype.PK=function(){this.sl();this.zw=!0;null==this.zd?(this.Qw=new e.ha(0),this.zd=[]):(this.Qw.uf(0),this.zd.length=0)};b.prototype.XE=function(a,d){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(d);this.Qw.add(a);this.zd.push(b)};b.prototype.pG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&
0<this.zd.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Oc=!1)};b.prototype.next=function(){if(this.Oc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.tA();break;case 1:a=this.PT();break;case 2:a=this.MT();break;case 3:a=this.OT();break;case 4:a=this.rY();break;case 5:a=this.nY();break;case 6:a=this.oY();break;case 7:a=this.pY();break;case 8:a=this.by();break;case 9:a=this.IC();break;case 10:a=this.FA();break;case 11:a=this.FU();break;case 12:a=this.CU();
break;case 13:a=this.DU();break;case 14:a=this.EU();break;case 15:a=this.OJ();break;case 16:a=this.NJ();break;default:throw e.g.za();}return this.Oc?!1:!0};b.prototype.BC=function(a){this.ta=a};b.prototype.hA=function(a){return this.Lb[a]};b.prototype.Lz=function(a){return this.zd[a]};b.prototype.Vl=function(a){return this.$o.read(a)};b.prototype.Rl=function(a){return this.Qw.read(a)};b.GA=function(a){return 1==(a&1)};b.Fj=function(a){return 0==(a&1)};b.prototype.sl=function(){this.Bw=this.zw=this.Aw=
!1;this.bg=this.cg=this.mh=this.Ke=-1;this.Oc=!0};b.prototype.tA=function(){this.$f=this.rg=-1;if(10>this.Lb.length)return this.Ke=this.Lb.length,this.Zb=5,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);this.Au(this.Wd,2*this.Lb.length,!0);this.Ke=2*this.Lb.length;this.Zb=4;return!0};
b.prototype.PT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);this.Au(this.Wd,this.Wd.size,!0);this.Ke=this.Wd.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),
this.cg=-1);this.Zb=7;return this.NJ()};b.prototype.MT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ff&&(this.Ff=new e.ms(!0),this.ax=this.Ff.jf(),this.dg=new e.ha(0));this.Ff.bs();for(var a=0;a<this.zd.length;a++){var d=this.zd[a];this.Ff.xs(d.o,d.v)}this.Ff.yq();this.dg.zb(2*this.zd.length);this.dg.resize(0);for(a=0;a<2*this.zd.length;a++)this.dg.add(a);this.Au(this.dg,this.dg.size,!1);this.mh=this.dg.size;-1!=this.bg&&
(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return this.OJ()};b.prototype.OT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));null==this.Ff&&(this.Ff=new e.ms(!0),this.ax=this.Ff.jf(),this.dg=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Ff.bs();for(a=0;a<this.zd.length;a++)d=
this.zd[a],this.Ff.xs(d.o,d.v);this.Ff.yq();this.Wd.zb(2*this.Lb.length);this.dg.zb(2*this.zd.length);this.Wd.resize(0);this.dg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);for(a=0;a<2*this.zd.length;a++)this.dg.add(a);this.Au(this.Wd,this.Wd.size,!0);this.Au(this.dg,this.dg.size,!1);this.Ke=this.Wd.size;this.mh=this.dg.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return!0};b.prototype.rY=
function(){var a=this.Wd.get(--this.Ke),d=a>>1;if(b.Fj(a))return this.Ad.remove(d),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;this.ip.gC(this.Lb[d].o,this.Lb[d].v,this.ta);this.rg=d;this.Zb=10;return!0};b.prototype.nY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.mh=this.rg=this.Ke;this.Zb=13;return!0};b.prototype.oY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.rg=this.Ke;this.mh=this.zd.length;this.Zb=14;return!0};b.prototype.pY=function(){var a=
this.Wd.get(this.Ke-1),d=this.dg.get(this.mh-1),f=this.Ks(a,!0),h=this.Ks(d,!1);return f>h?this.by():f<h?this.IC():b.GA(a)?this.by():b.GA(d)?this.IC():this.by()};b.prototype.by=function(){var a=this.Wd.get(--this.Ke),d=a>>1;if(b.Fj(a))return-1!=this.cg&&-1!=this.hk.get(d)?(this.Od.jd(this.cg,this.hk.get(d)),this.hk.set(d,-1)):this.Ad.remove(d),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.bg&&0<this.Od.Zs(this.bg))for(a=this.Od.wc(this.bg);-1!=a;){var f=this.Od.getData(a);this.Ff.dh(f);
this.gk.set(f,-1);f=this.Od.nb(a);this.Od.jd(this.bg,a);a=f}0<this.Ff.size()?(this.ax.gC(this.Lb[d].o,this.Lb[d].v,this.ta),this.rg=d,this.Zb=12):(-1==this.cg&&(null==this.Od&&(this.Od=new e.cq),this.hk=new e.ha(0),this.hk.resize(this.Lb.length,-1),this.hk.$h(-1,0,this.Lb.length),this.cg=this.Od.ni(1)),this.hk.set(d,this.Od.addElement(this.cg,d)),this.Zb=7);return!0};b.prototype.IC=function(){var a=this.dg.get(--this.mh),d=a>>1;if(b.Fj(a))return-1!=this.bg&&-1!=this.gk.get(d)?(this.Od.jd(this.bg,
this.gk.get(d)),this.gk.set(d,-1)):this.Ff.remove(d),0==this.mh?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.cg&&0<this.Od.Zs(this.cg))for(a=this.Od.wc(this.cg);-1!=a;){var f=this.Od.getData(a);this.Ad.dh(f);this.hk.set(f,-1);f=this.Od.nb(a);this.Od.jd(this.cg,a);a=f}0<this.Ad.size()?(this.ip.gC(this.zd[d].o,this.zd[d].v,this.ta),this.$f=d,this.Zb=11):(-1==this.bg&&(null==this.Od&&(this.Od=new e.cq),this.gk=new e.ha(0),this.gk.resize(this.zd.length,-1),this.gk.$h(-1,0,this.zd.length),this.bg=
this.Od.ni(0)),this.gk.set(d,this.Od.addElement(this.bg,d)),this.Zb=7);return!0};b.prototype.FA=function(){this.$f=this.ip.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=4;return!0};b.prototype.FU=function(){this.rg=this.ip.next();if(-1!=this.rg)return!1;this.$f=this.rg=-1;var a=this.dg.get(this.mh)>>1;this.Ff.dh(a);this.Zb=7;return!0};b.prototype.CU=function(){this.$f=this.ax.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=7;
return!0};b.prototype.DU=function(){if(-1==--this.mh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ke]);var a=this.Lb[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};b.prototype.EU=function(){if(-1==--this.mh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ke]);var a=this.zd[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};b.prototype.OJ=function(){if(null==this.Ad)return this.Oc=!0,!1;this.Ke=this.Wd.size;0<this.Ad.size()&&this.Ad.reset();
-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);this.Oc=!1;return!0};b.prototype.NJ=function(){if(null==this.Ff)return this.Oc=!0,!1;this.mh=this.dg.size;0<this.Ff.size()&&this.Ff.reset();-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Oc=!1;return!0};b.prototype.Au=function(a,d,b){null==this.un&&(this.un=new e.Ju);b=new p(this,b);this.un.sort(a,0,d,b)};b.prototype.hY=function(a,d,f,h){var e=this;a.Fd(d,f,function(a,d){var f=e.Ks(a,h),k=e.Ks(d,h);return f<k||f==
k&&b.Fj(a)&&b.GA(d)?-1:1})};b.prototype.Ks=function(a,d){var f=.5*this.ta;if(d)return d=this.Lb[a>>1],f=b.Fj(a)?d.A-f:d.B+f;d=this.zd[a>>1];return f=b.Fj(a)?d.A-f:d.B+f};return b}();e.mD=c})(u||(u={}));(function(e){var c=function(){function c(){}c.pa=function(b,a,d,f,h,e){var k=new c;k.o=b;k.A=a;k.xf=d;k.v=f;k.B=h;k.Zg=e;return k};c.prototype.Oa=function(){this.xf=this.o=NaN};c.prototype.u=function(){return isNaN(this.o)};c.prototype.sU=function(){return isNaN(this.xf)};c.prototype.I=function(b,a,
d,f,h,e){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.xf=d,this.v=f,this.B=h,this.Zg=e):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*d,this.B=this.A+d,this.xf=b.z-.5*f,this.Zg=this.xf+f):(this.o=b,this.A=a,this.xf=d,this.v=b,this.B=a,this.Zg=d)};c.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.xf+=b.z;this.v+=b.x;this.B+=b.y;this.Zg+=b.z};c.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};c.prototype.ol=function(b,a,d){this.o>b?this.o=b:this.v<b&&(this.v=
b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.xf)?this.xf>d?this.xf=d:this.Zg<d&&(this.Zg=d):this.Zg=this.xf=d};c.prototype.Nb=function(b,a,d,f,h,k){if("number"===typeof b)f?(this.Nb(b,a,d),this.Nb(f,h,k)):this.u()?(this.o=b,this.A=a,this.xf=d,this.v=b,this.B=a,this.Zg=d):this.ol(b,a,d);else if(b instanceof e.od)this.Nb(b.x,b.y,b.z);else if(b instanceof c)b.u()||(this.Nb(b.o,b.A,b.xf),this.Nb(b.v,b.B,b.Zg));else throw e.g.F();};c.prototype.pa=function(b,a,d){b.u()||a.u()?this.Oa():(this.o=
b.ga,this.v=b.la,this.A=a.ga,this.B=a.la,this.xf=d.ga,this.Zg=d.la)};c.prototype.SB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.od(this.o,this.A,this.xf);b[1]=new e.od(this.o,this.B,this.xf);b[2]=new e.od(this.v,this.B,this.xf);b[3]=new e.od(this.v,this.A,this.xf);b[4]=new e.od(this.o,this.A,this.Zg);b[5]=new e.od(this.o,this.B,this.Zg);b[6]=new e.od(this.v,this.B,this.Zg);b[7]=new e.od(this.v,this.A,this.Zg)};c.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=
b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var d=b[a];this.ol(d.x,d.y,d.z)}}};return c}();e.QL=c})(u||(u={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.af=function(){var e=Error();e.message="Not Implemented";return e};e.Dl=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=
Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.tN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.yL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.vd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.PZ=function(e){e.message="UserCancelException";return e}})(e.g||(e.g={}))})(u||(u={}));(function(e){e=e.Um||(e.Um=
{});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(u||(u={}));(function(e){var c=function(){function a(a,b){this.$a=a;this.HI=b;this.MI=-1;this.am=!1}a.prototype.Oe=function(){return!0};a.prototype.next=function(){if(++this.MI==this.HI.D())return null;var a=this.HI.Ba(this.MI);a.scale(this.$a.oc);var b=new e.Ja;this.$a.Vy(a,this.am,b);return b};a.prototype.Ia=function(){return 0};return a}(),p=function(){function a(a,b,h){this.$a=a;this.ex=b;this.So=!1;this.Yo=h;this.Pw=[0];this.Wk=[0];this.kk=
[0];this.Et=[0];this.am=!1;this.fr=new e.Ja;this.Yk=[]}a.prototype.Oe=function(){return!0};a.prototype.next=function(){if(this.So){this.So=!1;this.Bd.ba();var a=e.T.me(this.fr);return a=e.Cg.ql(a,this.$a.pr,!0,!0,this.$a.mc)}null==this.Bd&&(this.Bd=this.ex.Fa(),this.Bd.Ya(),null!=this.Yo&&this.Yo.Gl(null,0));if(!this.Bd.Ea()){if(!this.Bd.Ya())return null;null!=this.Yo&&this.Yo.Gl(null,0)}a=null;this.Wk[0]=0;this.oB=this.Pw[0]=0;this.Ei=NaN;this.So=!1;for(var f=this.Yk.length=0,h=new e.b,k=new e.b,
c=[0];this.Bd.Ea()&&8>this.oB;){var r=this.Bd.ba();h.L(r.ec());k.L(r.Ac());h.scale(this.$a.oc);k.scale(this.$a.oc);e.Ij.Fv(h,k)?h.x=k.x:e.Ij.Dv(h,k)&&(k.x=h.x);this.Yk.length=0;e.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,h,k,this.$a.yB,this.$a.Vt,c,this.kk,this.Et,this.Yk,this.Pw);null!=this.Yo&&(r=this.Yk.slice(0),this.Yo.sH(this.Yo.aa()-1,r,r.length-1));e.Ij.Ev(h,k)?(this.fr.Oa(),this.$a.Vy(h,this.am,this.fr),this.So=!0):(this.fr.Oa(),this.So=this.bz(c[0],this.fr));if(this.So){this.Bd.Mi();if(this.Bd.rA()){this.Bd.Mi();
this.Bd.ba();break}this.Bd.dX();break}null==a&&(a=new e.Ja,a.Gl(null,0));this.fF(a);f++}this.Pw[0]=0;if(0<f){for(c=this.Bd.Db();0<f;)this.Bd.Mi(),h.L(this.ex.Ba(this.Bd.Db())),k.L(this.ex.Ba(this.Bd.Lk())),h.scale(this.$a.oc),k.scale(this.$a.oc),this.am&&(e.Ij.Fv(h,k)?h.x=k.x:e.Ij.Dv(h,k)&&(k.x=h.x)),this.Yk.length=0,e.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,k,h,this.$a.yB,this.$a.Vt,null,this.kk,this.Et,this.Yk,this.Pw),this.fF(a),f--;h.L(this.ex.Ba(this.Bd.Db()));h.scale(this.$a.oc);b.Ds(this.$a.Vb,
this.$a.rc,this.$a.oc,this.$a.wb,h,this.Ei+1.570796326794897,this.Ei+4.71238898038469,this.$a.Wo,this.am,this.Wk,a,NaN,NaN);this.Bd.Tb(c);this.Bd.ba();f=e.na.$g(null,a,!0);return a=e.Cg.ql(a,f,!0,!0,this.$a.mc)}this.So=!1;this.Bd.ba();a=e.T.me(this.fr);return a=e.Cg.ql(a,this.$a.pr,!0,!0,this.$a.mc)};a.prototype.fF=function(a){var d=this.Yk[0],h,k=this.kk[0]-1.570796326794897,c=this.Et[0]+1.570796326794897,r;if(!isNaN(this.Ei)){this.Ei>=this.kk[0]?(h=this.Ei+1.570796326794897,k=h+3.141592653589793-
(this.Ei-this.kk[0])):(h=this.Ei+1.570796326794897,k=h+3.141592653589793-(6.283185307179586-(this.kk[0]-this.Ei)));r=this.Ei>=this.kk[0]&&3.141592653589793>=this.Ei-this.kk[0]?!1:this.Ei<this.kk[0]&&3.141592653589793<=this.kk[0]-this.Ei?!1:!0;var v=!1;if(Math.abs(k-h)<=.5*this.$a.Wo)if(r){var p=a.Ba(a.D()-2);p.scale(this.$a.oc);var g=new e.da(0);e.mb.Iz(this.$a.Vb,this.$a.rc,d.x,d.y,p.x,p.y,g);for(p=g.j;p<=h;)p+=6.283185307179586;for(;p>h;)p-=6.283185307179586;p<k&&(v=!0)}else v=!0;v?(a.fC(0,a.D()-
1),this.am||(d=new e.b,d.L(a.Ba(a.D()-1)),d.scale(this.$a.oc),-3.141592653589793>d.x-this.Wk[0]?this.Wk[0]-=6.283185307179586:3.141592653589793<d.x-this.Wk[0]&&(this.Wk[0]+=6.283185307179586)),r||(k=.5*(k+h))):(r?(h=new e.b,h.L(d),h.scale(1/this.$a.oc),a.Wf(0,-1,h)):b.Ds(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.Yk[0],h,k,this.$a.Wo,this.am,this.Wk,a,NaN,NaN),this.oB+=1)}b.Uy(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.$a.Xe,this.Yk,k,c,this.am,this.Wk,a);this.Ei=this.Et[0]};a.prototype.bz=
function(a,b){return this.$a.bz(this.Yk,a,this.kk[0],this.Et[0],this.am,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(d,b,h,k,c,r){if(null==d)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(d.u())return new e.Ja(d.description);var f=new a;f.lh=b;f.Pc=e.fb.lc(b);var q=e.fb.hw(f.Pc);f.mc=r;f.Vb=e.fb.Sv(f.Pc);f.rc=q*(2-q);f.oc=f.Pc.Td().Bi;f.ta=f.lh.Ho();f.pr=f.Pc.Ho();f.Vt=f.pr*f.oc;f.or=1.570796326794897/f.oc;f.j_=3.141592653589793/f.oc;f.Gt=
6.283185307179586/f.oc;f.k_=f.Gt/6;f.tB=0;f.i_=1.5707963267948966*f.Vb/f.tB;4==h?(f.Xe=2,f.Jw=!0):(f.Xe=h,f.Jw=!1);f.Pa=k;f.wb=Math.abs(k);isNaN(c)||.001>c?f.XX():f.Vo=c;h=d.G();e.T.Nc(h)?(h=new e.Ua(d.description),h.cc(d,!0),d=h,h=1607):197==h&&(h=new e.h,d.s(h),h.O()<=f.ta||h.ea()<=f.ta?(h=new e.Ua(d.description),h.hd(d,!1),d=h,h=1607):(h=new e.Ja(d.description),h.hd(d,!1),d=h,h=1736));f.YX();e.T.Po(h)||f.ZX();if(f.wb<=.5*f.Vo)return 1736!=h?new e.Ja(d.description):f.Jw?d:e.Ij.Js(d,f.lh,f.Xe,f.yB,
-1,r);if(0>f.Pa&&1736!=h)return new e.Ja(d.description);f.Jw&&e.T.Hc(h)?(b=e.Ij.Js(d,b,4,NaN,f.Vo,r),d=e.fb.Vg(b,f.lh,f.Pc,r)):d=e.fb.Vg(d,f.lh,f.Pc,r);d=e.gi.Qj(d,f.Pc);if(d.u())return new e.Ja(d.description);!f.Jw&&e.T.Hc(h)&&(d=e.Ij.nJ(f.oc,d));d=a.UY(d,f.Pc);switch(h){case 1736:r=f.tP(d);break;case 1607:r=f.uP(d);break;case 550:r=f.rP(d);break;case 33:r=f.sP(d);break;default:throw e.g.X("corrupted_geometry");}f=e.fb.Vg(r,f.Pc,f.lh,f.mc);f.tm(d.description);return f};a.prototype.tP=function(a){var d=
new e.Ja;a=new p(this,a,d);a=e.ei.local().V(a,this.Pc,this.mc).next();a=e.bq.Rj(a,this.Pc,2);var b=new e.Gd;b.scale(1/this.oc,1/this.oc);d.Vc(b);d=e.bq.Rj(d,this.Pc,2);return 0<=this.Pa?e.ei.local().V(d,a,this.Pc,this.mc):e.eq.local().V(d,a,this.Pc,this.mc)};a.prototype.uP=function(a){a=new p(this,a,null);a=e.ei.local().V(a,this.Pc,this.mc).next();return a=e.bq.Rj(a,this.Pc,2)};a.prototype.rP=function(a){a=new c(this,a);a=e.ei.local().V(a,this.Pc,this.mc).next();return a=e.bq.Rj(a,this.Pc,2)};a.prototype.sP=
function(a){a=a.w();a.scale(this.oc);var d=new e.Ja;this.Vy(a,!1,d);return d=e.bq.Rj(d,this.Pc,2)};a.prototype.bz=function(d,b,h,k,c,r){var f=d[0],q=d[d.length-1],p=f.y>q.y?f.y:q.y,g=e.C.q(this.Vb,this.rc,f.y<q.y?f.y:q.y),p=e.C.q(this.Vb,this.rc,p);if(.001<this.tB-(g+b+this.wb)&&.001<this.tB+(p-b-this.wb))return!1;b=h-1.570796326794897;h=k+1.570796326794897;var g=b-3.141592653589793,p=b+3.141592653589793,l=h+3.141592653589793,m=[NaN],n=[NaN],u=[NaN],t=[NaN];k=!1;a.jD(this.Vb,this.rc,this.wb,f,b,g,
q,h,m,n);a.jD(this.Vb,this.rc,this.wb,q,l,h,f,g,u,t);h<m[0]&&m[0]<l?k=!0:h<n[0]&&n[0]<l&&(k=!0);k||(g<u[0]&&u[0]<b?k=!0:g<t[0]&&t[0]<b&&(k=!0));if(!k&&c)return!1;for(var w=[],x=d.length-1;0<=x;x--)w.push(d[x]);r.Oa();r.Gl(null,0);x=[0];a.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,d,b,h,c,x,r);a.Ds(this.Vb,this.rc,this.oc,this.wb,q,h,l,this.Wo,c,x,r,m[0],n[0]);a.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,w,l,p,c,x,r);a.Ds(this.Vb,this.rc,this.oc,this.wb,f,g,b,this.Wo,c,x,r,u[0],t[0]);d=!1;c||(d=this.OF(this.oc,
r));return k||d};a.prototype.Vy=function(d,b,h){h.Oa();h.Gl(null,0);a.Ds(this.Vb,this.rc,this.oc,this.wb,d,-this.Wo,6.283185307179586,this.Wo,b,[0],h,NaN,NaN);b||this.OF(this.oc,h)};a.prototype.OF=function(a,b){var d=this.VP(a,b);a=this.WP(a,b);return d||a};a.prototype.VP=function(a,b){var d=b.D(),f=!1,c=new e.h;b.s(c);if(!e.l.W(c.B*a,1.570796326794897)&&!e.l.W(c.A*a,-1.570796326794897))return!1;for(var r=new e.b,d=d-1;0<=d;d--)b.w(d,r),r.y==c.B&&e.l.W(r.y*a,1.570796326794897)?(f=!0,this.wJ(r,d,b)):
r.y==c.A&&e.l.W(r.y*a,-1.570796326794897)&&(f=!0,this.wJ(r,d,b));return f};a.prototype.WP=function(a,b){var d=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(d.x-f.x)*a?(this.qW(b),!0):this.UP(b)};a.prototype.UP=function(a){return 0>a.ef()?(this.pW(a),!0):!1};a.prototype.wJ=function(a,b,h){var d=h.D(),f=0<b?b-1:d-1,d=h.Ba(b<d-1?b+1:0),f=h.Ba(f);if(!e.l.W(d.y,a.y)&&!e.l.W(d.x,a.x)){var c=new e.b;c.ja(d.x,a.y);h.rb(b,c)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(d=new e.b,d.ja(f.x,a.y),h.Wf(0,b,d))};
a.prototype.qW=function(a){var d=new e.Ja,b=new e.Ja,k=new e.Gd,c=a.Ba(0),r=a.Ba(a.D()-1),v=new e.b;c.x>r.x?(r=this.or,k.zg(-this.Gt,0)):(r=-this.or,k.zg(this.Gt,0));d.add(a,!1);a.Oa();b.add(d,!1);b.Vc(k);c=new e.h;b.s(c);c.P((this.Gt-c.O())/2,0);c.A=-this.or;c.B=this.or;for(var p=0;p<b.D();p++)b.w(p,v),d.Wf(0,-1,v);b.Vc(k);for(p=0;p<b.D();p++)b.w(p,v),d.Wf(0,-1,v);b=d.Ba(0);k=d.Ba(d.D()-1);v.ja(k.x,r);d.Wf(0,-1,v);v.ja(.5*(k.x+b.x),r);d.Wf(0,-1,v);v.ja(b.x,r);d.Wf(0,-1,v);d=e.gi.jt(d,this.Pc,2,!0,
c.o);d=e.gi.jt(d,this.Pc,2,!0,c.v);d=e.le.clip(d,c,this.pr,NaN);a.add(d,!1)};a.prototype.pW=function(a){var d=new e.h;a.s(d);d.P((this.Gt-d.O())/2,0);d.A=-this.or;d.B=this.or;a.Gl(null,0);var b=new e.b;b.ja(d.o,d.A);a.Wf(1,-1,b);b.ja(d.o,d.B);a.Wf(1,-1,b);b.ja(.5*(d.o+d.v),d.B);a.Wf(1,-1,b);b.ja(d.v,d.B);a.Wf(1,-1,b);b.ja(d.v,d.A);a.Wf(1,-1,b);b.ja(.5*(d.o+d.v),d.A);a.Wf(1,-1,b)};a.Uy=function(d,b,h,k,c,r,v,p,g,l,m){var f=null;g||(f=new e.b,f.Yc(),0<m.D()&&(f.L(m.Ba(m.D()-1)),f.scale(h)));var q=new e.da(0),
I=new e.da(0),N=new e.da(0),H=new e.b,n=new e.b,ma=r[r.length-1];h=1/h;for(var u=0;u<r.length;u++){var t=r[u],w;0==u?w=v:u==r.length-1?w=p:(e.mb.Kd(d,b,ma.x,ma.y,t.x,t.y,null,null,q,c),w=q.j-1.570796326794897);e.mb.Yi(d,b,t.x,t.y,k,w,I,N);g?n.ja(I.j,N.j):(H.ja(I.j,N.j),a.nE(t.x,H.x,f.x,l),n.ja(l[0]+H.x,H.y),f.L(n));n.scale(h);m.Wf(0,-1,n)}};a.Ds=function(d,b,h,k,c,r,v,p,g,l,m,E,n){if(!(v-r<p)){var f=new e.da(0),q=new e.da(0),I=new e.b,N=new e.b,H=null;g||(H=new e.b,H.Yc(),0<m.D()&&(H.L(m.Ba(m.D()-
1)),H.scale(h)));var ma=e.J.truncate(Math.ceil(r/p)),u=ma++*p;u==r&&(u=ma++*p);for(h=1/h;u<v+p;){r<E&&E<u?(u=E,ma--):r<n&&n<u&&(u=n,ma--);if(u>=v)break;e.mb.Yi(d,b,c.x,c.y,k,u,f,q);g?N.ja(f.j,q.j):(I.ja(f.j,q.j),a.nE(c.x,I.x,H.x,l),N.ja(l[0]+I.x,I.y),H.L(N));N.scale(h);m.Wf(0,-1,N);r=u;u=ma++*p}}};a.jD=function(a,b,h,k,c,r,v,p,g,l){var d=new e.b,f=new e.b,q=new e.da(0),I=new e.da(0);e.mb.Yi(a,b,k.x,k.y,h,c,q,I);d.ja(q.j,I.j);e.mb.Yi(a,b,k.x,k.y,h,r,q,I);f.ja(q.j,I.j);h=new e.da(0);e.mb.Iz(a,b,v.x,
v.y,d.x,d.y,h);g[0]=h.j;e.mb.Iz(a,b,v.x,v.y,f.x,f.y,h);for(l[0]=h.j;g[0]<=l[0];)g[0]+=6.283185307179586;for(;g[0]>l[0];)g[0]-=6.283185307179586;for(;g[0]>=p;)g[0]-=6.283185307179586,l[0]-=6.283185307179586;for(;g[0]<p;)g[0]+=6.283185307179586,l[0]+=6.283185307179586};a.nE=function(a,b,e,k){if(isNaN(e)){for(;3.141592653589793<k[0]+b-a;)k[0]-=6.283185307179586;for(;3.141592653589793<a-(k[0]+b);)k[0]+=6.283185307179586}else 3.141592653589793<k[0]+b-e?k[0]-=6.283185307179586:3.141592653589793<e-(k[0]+
b)&&(k[0]+=6.283185307179586)};a.UY=function(a,b){var d=a.G(),f;e.T.Hc(d)?f=a.aa():550==d?f=a.D():f=1;if(1==f)return a;var c=new e.ha(0);c.resize(f);for(var r=[],v=new e.h,p=0;p<f;p++){c.write(p,p);var g;e.T.Hc(d)?(a.nk(p,v),g=v.Tf()):g=a.Ba(p);g=e.dM.xY(b,g);r[p]=g}c.Fd(0,c.size,function(a,d){return r[a]<r[d]?-1:r[a]>r[d]?1:0});v=a.Ka();for(p=0;p<f;p++)g=c.read(p),e.T.Hc(d)?v.Ui(a,g,!0):v.Hd(a,g,g+1);return v};a.prototype.YX=function(){var a=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),a=
Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ja(0,10*this.oc);var h=45*this.oc,k=new e.da(0),c=new e.da(0),r=new e.da(0),v=new e.da(0),p=new e.da(0),g=new e.da(0),l=new e.da(0),m=new e.da(0),E=new e.b,n=new e.b,u=new e.b,t=new e.b;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,0,k,c);E.ja(k.j,c.j);e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,h,r,v);n.ja(r.j,v.j);for(var k=new e.da(0),c=new e.da(0),w=new e.da(0);;){e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,.5*(0+h),p,g);u.ja(p.j,g.j);e.mb.Kd(this.Vb,this.rc,E.x,E.y,n.x,n.y,
k,c,null,2);e.mb.Sj(this.Vb,this.rc,E.x,E.y,.5*k.j,c.j,l,m,2);t.ja(l.j,m.j);e.mb.Kd(this.Vb,this.rc,u.x,u.y,t.x,t.y,w,null,null,2);if(w.j<=this.Vo)break;h*=.9;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,h,r,v);n.ja(r.j,v.j)}this.Wo=6.283185307179586/Math.ceil(6.283185307179586/(h-0))};a.prototype.ZX=function(){var a=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,h=new e.b;b.ja(0,10*this.oc);h.ja(10*this.oc,10*this.oc);var k=new e.da(0),c=new e.da(0),r=
new e.da(0);e.mb.Kd(this.Vb,this.rc,b.x,b.y,h.x,h.y,r,k,c,this.Xe);var v=new e.da(0),p=new e.da(0),g=new e.da(0),l=new e.da(0),m=new e.b,E=new e.da(0),n=new e.da(0),u=new e.da(0),t=new e.da(0),w=new e.da(0),x=new e.da(0),y=new e.da(0),A=new e.da(0),B=new e.da(0),z=new e.b,L=new e.b,D=new e.b,C=new e.b,P=1,k=k.j,c=c.j+1.570796326794897,r=r.j;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,k-1.570796326794897,n,u);z.ja(n.j,u.j);e.mb.Yi(this.Vb,this.rc,h.x,h.y,a,c,t,w);L.ja(t.j,w.j);for(var n=new e.da(0),u=new e.da(0),
c=new e.da(0),F=new e.da(0);;){e.mb.Sj(this.Vb,this.rc,b.x,b.y,.5*(0+P)*r,k,v,p,this.Xe);m.ja(v.j,p.j);e.mb.Kd(this.Vb,this.rc,b.x,b.y,m.x,m.y,null,null,E,this.Xe);e.mb.Yi(this.Vb,this.rc,m.x,m.y,a,E.j+1.570796326794897,x,y);D.ja(x.j,y.j);e.mb.Kd(this.Vb,this.rc,z.x,z.y,L.x,L.y,n,u,null,2);e.mb.Sj(this.Vb,this.rc,z.x,z.y,.5*n.j,u.j,A,B,2);C.ja(A.j,B.j);e.mb.Kd(this.Vb,this.rc,D.x,D.y,C.x,C.y,c,null,null,2);if(c.j<=this.Vo)break;P*=.9;e.mb.Sj(this.Vb,this.rc,b.x,b.y,P*r,k,g,l,this.Xe);h.ja(g.j,l.j);
e.mb.Kd(this.Vb,this.rc,b.x,b.y,h.x,h.y,null,null,F,this.Xe);e.mb.Yi(this.Vb,this.rc,h.x,h.y,a,F.j+1.570796326794897,t,w);L.ja(t.j,w.j)}a=P*r;1E5<a&&(a=1E5);this.yB=a};a.prototype.XX=function(){var a;a=5E4<this.wb?100:1E4<this.wb?10:1;500>this.wb/a&&(a=this.wb/500);.01>a&&(a=.01);this.Vo=a};return a}();e.bM=b})(u||(u={}));(function(e){var c=function(){function c(){}c.tb=function(b,a){var d=new e.b;d.L(a);b.push(d)};c.Dj=function(b,a){b.add(a.x);b.add(a.y)};c.SC=function(b){b.uf(b.size-2)};c.$C=function(b,
a){a.ja(b.get(b.size-2),b.get(b.size-1))};c.Js=function(b,a,d,f,h,k){if(null==b)throw e.g.F();var q=b.G();if(b.u()||e.T.Po(q))return b;var r=new c;r.lh=a;r.Pc=e.fb.lc(a);var v=e.fb.hw(r.Pc);r.mc=k;r.Vb=e.fb.Sv(r.Pc);r.rc=v*(2-v);r.oc=r.Pc.Td().Bi;r.pr=r.Pc.Ho();r.Vt=r.pr*r.oc;r.jB=f;r.iB=h;r.Xe=d;197==q?(d=new e.Ja(b.description),d.hd(b,!1)):e.T.Nc(q)?(d=new e.Ua(b.description),d.cc(b,!0)):d=b;if(4!=r.Xe){a=0==r.lh.Eb(r.Pc)?e.fb.Vg(d,r.lh,r.Pc,k):e.gi.Qj(d,r.Pc);if(a.u())return a;a=c.nJ(r.oc,a);a=
r.Jz(a);a=e.bq.Rj(a,r.Pc,r.Xe);r=e.fb.Vg(a,r.Pc,r.lh,k)}else{2==e.ve.Fb(a)?(b=e.fb.Ok(a),k=e.wk.local().V(d,b,a,k),k==b&&(k=new e.Ja,b.copyTo(k))):k=e.gi.Qj(d,r.Pc);a=k;if(a.u())return a;r=r.aY(a)}return r};c.nJ=function(b,a){var d=new e.h;a.ac(d);if(3.141592653589793>d.O()*b)return a;for(var f=!1,d=a.Fa(),h=new e.b,k=new e.b;d.Ya();)for(;d.Ea();){var q=d.ba();h.L(q.ec());k.L(q.Ac());h.scale(b);k.scale(b);if(3.141592653589793<Math.abs(h.x-k.x)){var r=c.Ev(h,k);if(!r){f=!0;break}if(6.283185307179586<
Math.abs(h.x-k.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),v=1<a.description.Ga,p=new e.b,g=new e.b,l=new e.b,m=new e.b,E=new e.Wa;for(d.zj();d.Ya();)for(var n=NaN,u=[0];d.Ea();){q=d.ba();h.L(q.ec());k.L(q.Ac());h.scale(b);k.scale(b);isNaN(n)?(c.ad(h.x,NaN,u),g.L(h)):g.L(l);n=g.x;if(r=c.Ev(h,k)){if(6.283185307179586<k.x-h.x)for(;6.283185307179586<k.x-h.x;)k.x-=6.283185307179586;if(-6.283185307179586>k.x-h.x)for(;-6.283185307179586>k.x-h.x;)k.x+=6.283185307179586;c.ad(k.x,NaN,u);l.L(k)}else p.L(k),
c.KU(p),c.ad(p.x,n,u),l.ja(u[0]+p.x,p.y);.5>Math.abs(l.x-k.x)&&l.L(k);v?(q.Fx(0,E),m.L(g),m.scale(1/b),E.rb(m),(r=d.pn())?f.Of(E):f.lineTo(E),d.Oo()&&!a.Qb(d.Ta)&&(q.Fx(1,E),m.L(l),m.scale(1/b),E.rb(m),f.lineTo(E))):((r=d.pn())&&f.uA(null,0),q=f.aa()-1,m.L(g),m.scale(1/b),f.Wf(q,-1,m),d.Oo()&&!a.Qb(d.Ta)&&(m.L(l),m.scale(1/b),f.Wf(q,-1,m)))}return f};c.yG=function(b,a,d,f,h,k,q,r,v,p,g,l){var I=new e.b,N=new e.b,m=0<f.compare(h);c.hE(m,f,h,I,N);c.vE(b,a,d,I,N,k,NaN,q,r,v,p,null,g,l);m&&c.aD(v,p,null,
g)};c.prototype.Jz=function(b){var a=b.Ka(),d=b.Fa(),f=[],h=null,k=null,q=1<b.description.Ga;q&&(h=new e.Pd(0),k=new e.Bg);for(var r=[0],v=new e.b,p=new e.b,g=new e.b,l=new e.b;d.Ya();)for(r[0]=0;d.Ea();){var m=d.ba();v.L(m.ec());p.L(m.Ac());v.scale(this.oc);p.scale(this.oc);var n=0<v.compare(p);c.hE(n,v,p,g,l);f.length=0;null!=h&&h.uf(0);0<this.jB?c.vE(this.Vb,this.rc,this.Xe,g,l,this.jB,this.iB,this.Vt,null,null,null,q?h:null,f,r):c.fN(this.Vb,this.rc,this.Xe,g,l,this.iB,this.Vt,q?h:null,f,r);n&&
c.aD(null,null,q?h:null,f);f[0].L(m.ec());f[f.length-1].L(m.Ac());for(var u=1;u<f.length-1;u++)f[u].scale(1/this.oc);q?(n=c.fE(n,m,k),c.CD(d.pn(),d.Oo()&&!b.Qb(d.Ta),m,n,h,f,a)):c.AD(d.pn(),d.Oo()&&!b.Qb(d.Ta),f,a)}return a};c.prototype.aY=function(b){var a=b.Ka(),d=b.Fa(),f=[],h=null,k=new e.Bg,q=1<b.description.Ga;for(q&&(h=new e.Pd(0));d.Ya();)for(;d.Ea();){var r=d.ba(),v=r.ec(),p=r.Ac(),v=0<v.compare(p),p=c.fE(v,r,k);f.length=0;null!=h&&h.uf(0);c.vY(this.Vb,this.rc,this.oc,p,this.lh,this.jB,this.iB,
q?h:null,f);v&&c.aD(null,null,q?h:null,f);q?c.CD(d.pn(),d.Oo()&&!b.Qb(d.Ta),r,p,h,f,a):c.AD(d.pn(),d.Oo()&&!b.Qb(d.Ta),f,a)}return a};c.AD=function(b,a,d,f){b&&f.uA(null,0);b=f.aa()-1;var e=d.slice(0);f.sH(b,e,e.length-1);a&&f.Wf(b,-1,d[d.length-1])};c.CD=function(b,a,d,f,h,k,c){var q=new e.Wa;d.Kp(q);b?c.Of(q):c.lineTo(q);if(2<k.length){b=f.Rb();for(var v=1;v<k.length-1;v++){var p=f.PH(h.get(v)*b);f.Fx(p,q);q.rb(k[v]);c.lineTo(q)}}a&&(d.Ip(q),c.lineTo(q))};c.vE=function(b,a,d,f,h,k,q,r,v,p,g,l,m,
n){var I=new e.da(0),N=new e.da(0),H=new e.da(0);e.mb.Kd(b,a,f.x,f.y,h.x,h.y,H,I,N,d);var H=H.j,E=I=I.j,N=N.j;0>E&&(E+=6.283185307179586);0>N&&(N+=6.283185307179586);null!=v&&(v[0]=H);null!=p&&(p[0]=E);null!=g&&(g[0]=N);p=v=NaN;null!=l&&(p=e.C.Wg(b,a),g=e.C.q(b,a,f.y),v=(p-g)/H,p=(p+g)/H);g=c.Fv(f,h);var N=c.Dv(f,h),E=g||N,ma=c.eE(f,h,r),u=new e.da(0),t=new e.da(0),w=new e.b,x=new e.b,y=new e.b;c.ad(f.x,NaN,n);var A=[n[0]];if(H<=k)c.tb(m,f),c.ad(h.x,NaN,n),null!=l&&l.add(0),E?(g&&c.ZC(f,h,l,m),N&&
c.TC(f,h,l,m)):ma?c.UC(f,h,I,v,p,l,m):0<q&&(x.ja(f.x-A[0],f.y),w.ja(h.x-n[0],h.y),c.Gz(b,a,d,f,H,I,x,w,0,1,q,l,m,A)),c.tb(m,h);else{k=1+e.J.truncate(Math.ceil(H/k));var B=H/(k-1),z=new e.b,L=0;c.tb(m,f);z.L(f);x.ja(f.x-n[0],f.y);null!=l&&l.add(0);for(var D=1;D<k;D++){var C;D<k-1?(e.mb.Sj(b,a,f.x,f.y,D*B,I,u,t,d),w.ja(u.j,t.j),c.ad(w.x,z.x,n),y.ja(n[0]+w.x,w.y),C=D/(k-1)):(c.ad(h.x,NaN,n),w.ja(h.x-n[0],h.y),y.L(h),C=1);E?(1==D&&g&&c.ZC(f,y,l,m),D==k-1&&N&&c.TC(z,h,l,m)):ma?c.cE(z,y,r)&&(f.x<h.x?z.x>
y.x&&(n[0]+=6.283185307179586,y.ja(n[0]+w.x,w.y)):z.x<y.x&&(n[0]-=6.283185307179586,y.ja(n[0]+w.x,w.y)),c.UC(z,y,I,v,p,l,m)):0<q&&c.Gz(b,a,d,f,H,I,x,w,L,C,q,l,m,A);c.tb(m,y);null!=l&&l.add(C);z.L(y);x.L(w);A[0]=n[0];L=C}}};c.fN=function(b,a,d,f,h,k,q,r,v,p){var g=new e.da(0),I=new e.da(0),l=new e.da(0);e.mb.Kd(b,a,f.x,f.y,h.x,h.y,l,g,I,d);var I=l.j,g=g.j,m=l=NaN;if(null!=r)var m=e.C.Wg(b,a),n=e.C.q(b,a,f.y),l=(m-n)/I,m=(m+n)/I;var n=c.Fv(f,h),u=c.Dv(f,h),t=n||u;q=c.eE(f,h,q);var w=c.Ev(f,h),w=t||
q||w;c.ad(f.x,NaN,p);var x=new e.b;c.tb(v,f);x.L(f);null!=r&&r.add(0);w?(t?(n&&c.ZC(f,h,r,v),u&&c.TC(f,h,r,v)):q&&c.UC(f,h,g,l,m,r,v),c.ad(h.x,NaN,p),c.tb(v,h)):I<=k?(c.ad(h.x,NaN,p),c.tb(v,h)):(l=new e.b,q=new e.b,l.L(f),q.L(h),l.x-=p[0],q.x-=p[0],-3.141592653589793>q.x?q.x+=6.283185307179586:3.141592653589793<q.x&&(q.x-=6.283185307179586),c.Gz(b,a,d,f,I,g,l,q,0,1,k,r,v,p),c.tb(v,h),c.ad(h.x,NaN,p));null!=r&&r.add(1)};c.Gz=function(b,a,d,f,h,k,q,r,v,p,g,l,m,n){var I=new e.b,N=new e.b;I.ja(q.x+n[0],
q.y);new e.da(0);new e.da(0);new e.da(0);new e.da(0);var H=new e.da(0),E=new e.da(0),ma=new e.da(0),u=new e.b,t=new e.b,w=new e.b,x=new e.b;u.L(q);t.L(r);q=new e.Pd(0);r=new e.Pd(0);c.Dj(q,t);r.add(p);var y=new e.b,A=new e.Hb,B=[];for(c.rE(4,B);0<q.size;){for(var z=!1,L,D=NaN,C=0;3>C;C++)if(L=B[C]*p+(1-B[C])*v,e.mb.Sj(b,a,f.x,f.y,L*h,k,H,E,d),w.ja(H.j,E.j),0==C&&(D=L,x.L(w)),c.kX(u,w,t,A),A.hc(A.ne(w,!0),y),e.mb.Kd(b,a,w.x,w.y,y.x,y.y,ma,null,null,2),ma.j>g){z=!0;break}z?(t.L(x),p=D,c.Dj(q,t),r.add(p)):
(c.SC(q),r.Hk(r.size-1,1,r.size-1),0<q.size&&(c.ad(t.x,I.x,n),N.ja(n[0]+t.x,t.y),c.tb(m,N),I.L(N),null!=l&&l.add(p),u.L(t),v=p,c.$C(q,t),p=r.get(r.size-1)))}};c.vY=function(b,a,d,f,h,k,q,r,v){var p=new e.b,g=new e.b,l=new e.b,m=new e.b,n=new e.b,u=new e.b,t=new e.b,w=new e.b,x=new e.b,y=new e.b,A=new e.da(0),B=new e.da(0),z=new e.b,L=[[],[]],D=1==e.ve.Fb(h);h=h.pe(0);var C=f.ec(),P=f.Ac();D?(u.ja(C.x*d,C.y*d),t.ja(P.x*d,P.y*d)):(L[0][0]=C.x,L[0][1]=C.y,L[1][0]=P.x,L[1][1]=P.y,e.fb.nu(),u.x=L[0][0]*
d,u.y=L[0][1]*d,t.x=L[1][0]*d,t.y=L[1][1]*d);var F=0,O=0,Q=1,S=f.Mo();p.L(C);g.L(P);var P=new e.Pd(0),G=new e.Pd(0),K=new e.Pd(0);c.Dj(P,g);c.Dj(G,t);K.add(Q);c.tb(v,p);null!=r&&r.add(O);var ca=[],M;M=0<q?S?5:3:S?5:1;c.rE(M,ca);for(var J=new e.da(0),R=new e.da(0),V=new e.da(0),ba=new e.da(0),na=new e.da(0),Z=new e.da(0),T=new e.da(0);0<G.size;){var X=!1,ea,oa=NaN;e.mb.Kd(b,a,u.x,u.y,t.x,t.y,J,R,null,2);for(C=0;C<M;C++){if(0==C){if(!S&&0>=q&&J.j<=k&&3.141592653589793>Math.abs(u.x-t.x))break;if(f.zy(O,
Q)<=h)break}ea=ca[C]*Q+(1-ca[C])*O;f.hc(ea,l);D?w.ja(l.x*d,l.y*d):(L[0][0]=l.x,L[0][1]=l.y,e.fb.nu(),w.x=L[0][0]*d,w.y=L[0][1]*d);if(0==C&&(oa=ea,n.L(l),y.L(w),0<k&&(J.j>k||3.141592653589793<=Math.abs(u.x-t.x)))){X=!0;break}if(S&&0<k){if(e.mb.Kd(b,a,u.x,u.y,w.x,w.y,V,null,null,2),V.j>k||3.141592653589793<=Math.abs(u.x-w.x)){X=!0;break}}else if(0<q)if(S?(m.kU(p,g,ca[C]),D?x.ja(m.x*d,m.y*d):(L[0][0]=m.x,L[0][1]=m.y,e.fb.nu(),x.x=L[0][0]*d,x.y=L[0][1]*d)):(m.L(l),x.L(w)),e.mb.Kd(b,a,u.x,u.y,x.x,x.y,
ba,null,null,2),ba.j<=J.j){e.mb.Sj(b,a,u.x,u.y,ba.j,R.j,A,B,2);z.ja(A.j,B.j);e.mb.Kd(b,a,z.x,z.y,w.x,w.y,na,null,null,2);if(na.j>q){X=!0;break}if(S){e.mb.Kd(b,a,z.x,z.y,x.x,x.y,Z,null,null,2);if(Z.j>q){X=!0;break}e.mb.Kd(b,a,x.x,x.y,w.x,w.y,T,null,null,2);if(T.j>q){X=!0;break}}}else{X=!0;break}}X?(g.L(n),t.L(y),Q=oa,c.Dj(P,g),c.Dj(G,t),K.add(Q)):(c.SC(P),c.SC(G),K.Hk(K.size-1,1,K.size-1),c.tb(v,g),F+=J.j,null!=r&&r.add(F),0<G.size&&(p.L(g),u.L(t),O=Q,c.$C(P,g),c.$C(G,t),Q=K.get(K.size-1)))}if(null!=
r)for(b=1/F,C=0;C<r.size;C++)r.write(C,r.read(C)*b)};c.aD=function(b,a,d,f){f.reverse();null!=d&&d.Xd(0,d.size,1);d=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=d)};c.hE=function(b,a,d,f,e){b?(f.L(d),e.L(a)):(f.L(a),e.L(d))};c.fE=function(b,a,d){if(!b)return a;d.create(a.G());a.copyTo(d.get());d.get().reverse();return d.get()};c.ad=function(b,a,d){if(isNaN(a)){for(;3.141592653589793<d[0]-b;)d[0]-=6.283185307179586;for(;3.141592653589793<b-d[0];)d[0]+=6.283185307179586}else 3.141592653589793<
d[0]+b-a?d[0]-=6.283185307179586:3.141592653589793<a-(d[0]+b)&&(d[0]+=6.283185307179586)};c.kX=function(b,a,d,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Lc(b),3.141592653589793<=d.x-b.x?f.Am(d.x-6.283185307179586,d.y):3.141592653589793<=b.x-d.x?f.Am(d.x+6.283185307179586,d.y):f.Am(d.x,d.y)):(f.Lc(d),3.141592653589793<=b.x-d.x?f.Am(b.x-6.283185307179586,b.y):3.141592653589793<=d.x-b.x?f.Am(b.x+6.283185307179586,b.y):f.Am(b.x,b.y))};c.rE=function(b,a){for(var d=0;d<b;d++){var f=Math.ceil(d/2)/(b+1);
0!=d%2&&(f=-f);a[d]=.5+f}};c.Fv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};c.Dv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};c.eE=function(b,a,d){return!c.cE(b,a,d)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||e.l.W(a.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)?
!1:!0};c.cE=function(b,a,d){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=d?!0:!1};c.Ev=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};c.ZC=function(b,a,d,f){if(0<b.y){var h=new e.b;h.ja(a.x,1.570796326794897)}else h=new e.b,h.ja(a.x,-1.570796326794897);e.l.W(b.x,h.x)||e.l.W(a.y,h.y)||(c.tb(f,h),null!=d&&d.add(0))};c.TC=function(b,a,d,f){if(0<a.y){var h=new e.b;h.ja(b.x,1.570796326794897)}else h=
new e.b,h.ja(b.x,-1.570796326794897);e.l.W(a.x,h.x)||e.l.W(b.y,h.y)||(c.tb(f,h),null!=d&&d.add(1))};c.UC=function(b,a,d,f,h,k,q){e.l.wd(d)?(0<1.570796326794897-b.y&&(d=new e.b,d.ja(b.x,1.570796326794897),c.tb(q,d),null!=k&&k.add(f)),0<1.570796326794897-a.y&&(d=new e.b,d.ja(a.x,1.570796326794897),c.tb(q,d),null!=k&&k.add(f))):(0<1.570796326794897+b.y&&(d=new e.b,d.ja(b.x,-1.570796326794897),c.tb(q,d),null!=k&&k.add(h)),0<1.570796326794897+a.y&&(d=new e.b,d.ja(a.x,-1.570796326794897),c.tb(q,d),null!=
k&&k.add(h)))};c.KU=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return c}();e.Ij=c})(u||(u={}));(function(e){var c=function(){function c(){}c.Rj=function(b,a,d){if(null==b||null==a||!e.fb.Ic(a))throw e.g.F();if(b.u())return b;var f=b,h=f.G();if(e.T.Hc(h)){f=e.gi.Qj(b,a);b=new e.h;f.s(b);for(var h=e.na.$d(a,b,!1),k=e.fb.Ch(a),q=Math.floor((b.o-k.o)/k.O())*k.O()+k.o;q<b.v;)q>b.o+
h&&q<b.v-h&&(f=e.gi.jt(f,a,d,!0,q)),q+=k.O()}else{if(197==h)return b=new e.Ja(f.description),b.hd(f,!1),c.Rj(b,a,d);if(e.T.Nc(h))return b=new e.Ua(f.description),b.cc(f,!0),c.Rj(b,a,d)}return c.CM(f,a)};c.CM=function(b,a){if(null==b||null==a||!e.fb.Ic(a))throw e.g.F();if(b.u())return b;var d;d=b.G();197==d?(d=new e.Ja(b.description),d.hd(b,!1)):e.T.Nc(d)?(d=new e.Ua(b.description),d.cc(b,!0)):d=b;d=e.gi.Qj(d,a);return d.u()?d:1==e.ve.Fb(a)?e.gi.cn(d,a,0,d!=b,0):c.xM(d,a,d!=b)};c.xM=function(b,a,d){if(!e.fb.Ic(a))throw e.g.F();
if(b.u())return b;var f=e.fb.ce(a),h=0-180*f,f=360*f;2==e.ve.Fb(a)&&(h=e.fb.Ch(a),f=h.v,h=h.o,f-=h);return e.gi.Aq(b,h,f,a,d,0,!0)};return c}();e.bq=c})(u||(u={}));(function(e){var c=function(){function c(){}c.NN=function(b,a){var d=Math.abs(b%a);return isNaN(d)||d==b||d<=Math.abs(a)/2?d:0>b?-1*(d-a):0<b?1*(d-a):0*(d-a)};c.K=function(b){return 0>b?-b:b};c.Bb=function(b,a){return 0<=a?c.K(b):-c.K(b)};c.W=function(b,a){return b==a||c.K(b-a)<=c.cD*(1+(c.K(b)+c.K(a))/2)};c.wd=function(b){return 0==b||
c.K(b)<=c.cD};c.Xu=function(b){b=c.NN(b,c.Wy);return c.K(b)<=c.Xf?b:0>b?b+c.Wy:b-c.Wy};c.HA=function(b,a){b.j=c.Xu(b.j);a.j=c.Xu(a.j);c.K(a.j)>c.ro&&(b.j=c.Xu(b.j+c.Xf),a.j=c.Bb(c.Xf,a.j)-a.j)};c.Wg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a;return b/(1+a)*(1+d*(.25+d*(.015625+1/256*d)))*c.ro};c.sS=function(b,a,d,f,h){var k,q,r,v,p,g,l,m=0,n=g=0,u=0,t=0,w=0;p=0;var x,y,A;l=0;var B,z,L;A=new e.da;k=new e.da;if(null!=h)if(A.j=b,k.j=a,c.HA(A,k),b=A.j,a=k.j,A.j=d,k.j=f,c.HA(A,k),d=A.j,f=k.j,
d=c.Xu(d-b),c.W(a,f)&&(c.wd(d)||c.W(c.K(a),c.ro)))null!=h&&(h.j=0);else{if(c.W(a,-f)){if(c.W(c.K(a),c.ro)){null!=h&&(h.j=2*c.Wg(6378137,.0066943799901413165));return}if(c.W(c.K(d),c.Xf)){null!=h&&(h.j=2*c.Wg(6378137,.0066943799901413165));return}}if(c.wd(.0066943799901413165))t=Math.cos(a),w=Math.cos(f),null!=h&&(m=Math.sin((f-a)/2),g=Math.sin(d/2),l=2*Math.asin(Math.sqrt(m*m+t*w*g*g)),h.j=6378137*l);else{A=1-Math.sqrt(.9933056200098587);b=1-A;k=Math.atan(b*Math.tan(a));a=Math.sin(k);k=Math.cos(k);
q=Math.atan(b*Math.tan(f));f=Math.sin(q);q=Math.cos(q);v=r=d;z=0;L=1;B=d;for(y=!0;1==y;)z+=1,1==L&&(p=Math.sin(B),g=Math.cos(B),m=q*p,l=k*f-a*q*g,m=Math.sqrt(m*m+l*l),g=a*f+k*q*g,l=Math.atan2(m,g),n=1E-15>c.K(m)?k*q*p/c.Bb(1E-15,m):k*q*p/m,u=1-n*n,t=1E-15>c.K(u)?g-a*f/c.Bb(1E-15,u)*2:g-a*f/u*2,w=t*t,p=((-3*u+4)*A+4)*u*A/16),x=(1-p)*A*(l+p*m*(t+g*p*(2*w-1))),1==L?(B=d+x*n,1E-14>c.K(B-v)?y=!1:c.K(B)>c.Xf?(L=2,B=c.Xf,0>d&&(B=-B),n=0,u=1,r=v=2,l=c.Xf-c.K(Math.atan(a/k)+Math.atan(f/q)),m=Math.sin(l),g=
Math.cos(l),p=((-3*u+4)*A+4)*u*A/16,1E-14>c.K(n-r)?y=!1:(t=1E-15>c.K(u)?g-a*f/c.Bb(1E-15,u)*2:g-a*f/u*2,w=t*t)):(0>(B-v)*(v-r)&&5<z&&(B=(2*B+3*v+r)/6),r=v,v=B)):(n=(B-d)/x,0>(n-v)*(v-r)&&5<z&&(n=(2*n+3*v+r)/6),r=v,v=n,u=1-n*n,p=n*m/(k*q),g=-Math.sqrt(c.K(1-p*p)),B=Math.atan2(p,g),m=q*p,l=k*f-a*q*g,m=Math.sqrt(m*m+l*l),g=a*f+k*q*g,l=Math.atan2(m,g),p=((-3*u+4)*A+4)*u*A/16,1E-14>c.K(n-r)?y=!1:(t=1E-15>c.K(u)?g-a*f/c.Bb(1E-15,u)*2:g-a*f/u*2,w=t*t));null!=h&&(n=Math.sqrt(1+(1/(b*b)-1)*u),n=(n-1)/(n+1),
u=n*(1-.375*n*n),h.j=(1+n*n/4)/(1-n)*b*6378137*(l-u*m*(t+u/4*(g*(-1+2*w)-u/6*t*(-3+4*m*m)*(-3+4*w)))))}}};c.Xf=3.141592653589793;c.ro=1.5707963267948966;c.Wy=6.283185307179586;c.cD=3.552713678800501E-15;return c}();e.$L=c})(u||(u={}));(function(e){var c=function(){return function(b){this.re=b;this.nl=this.re.getCode();0>this.nl&&(this.nl=0)}}();e.uZ=c;var p=function(){function b(a){void 0===a&&(a=null);this.Lh=null;this.tn=!1;null!==a&&(this.Lh=new c(a))}b.prototype.Bc=function(){return null!=this.Lh?
this.Lh.nl:0};b.prototype.Sf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Lh=this.Lh;a.tn=this.tn};b.prototype.Wv=function(){var a=this.Sf();a.mt();return a};b.prototype.mt=function(){this.tn=!this.tn};b.prototype.jn=function(){return null!=this.Lh?this.Lh.re:null};b.prototype.pK=function(a){if(0>=a)throw e.g.F();if(a!=this.Bc()){a=e.Qf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Lh=new c(a)}};b.prototype.dH=function(){return null==this.Lh?null:
this.Lh.re.toString()};b.prototype.getName=function(){if(null==this.Lh||null==this.Lh.re)return"";var a="";this.tn&&(a+="~");return a+=this.Lh.re.getName()};b.prototype.TX=function(a){if(null==a)throw e.g.F();var d=null;try{d=e.Qf.fromString(e.Uc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Lh=new c(d)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.Bc()||this.Bc()!=a.Bc())||this.jn().isEqual(a.jn()))?this.tn==a.tn:!1};b.prototype.toString=function(){var a=toString();
return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,d){var f=new b;f.pK(a);d&&f.mt();return f};b.eG=function(a,d){var f=new b;f.TX(a);d&&f.mt();return f};return b}();e.oo=p})(u||(u={}));(function(e){var c=function(){function b(){}b.pa=function(a,d,f,e){var h=new b;h.Bn=a;h.Cn=d;h.zI=f;h.AI=e;return h};b.Fs=function(a,d){return a.Bn==d.Bn?a.Cn==d.Cn?0:a.Cn<d.Cn?-1:1:a.Bn<d.Bn?-1:1};return b}(),p=function(){function b(){this.Hw=!1;this.BI=[];this.cB=
[];this.XH=this.Hw=this.WH=!1;this.kq()}b.Go=function(){null==b.wE&&(b.wE=new b);return b.wE};b.b_=function(){return b.Go().Hw};b.c_=function(){return b.Go().XH};b.eZ=function(a,d){if(a==d)return null;var f=b.Go();if(f.WH){var e=b.Bz(f.cB,a,d);return null!=e?e:null}e=b.Bz(f.cB,a,d);return null!=e?e:b.Bz(f.BI,a,d)};b.XY=function(a,d,b,h,k){var f=e.ky.create();if(0<a)try{var c=e.oo.create(a,d);if(0==c.Bc())return null;f.add(c);if(0<b){var v=e.oo.create(b,h);if(0==v.Bc())return null;f.add(v)}k&&(f=f.Wv())}catch(I){f=
null}return f};b.Bz=function(a,d,f){if(d==f||0==a.length)return null;for(var e=c.pa(d,f,0,0),k=!1,q=!1,r=0,v=0,p=-1,g=0;g<a.length;g++)if(0===c.Fs(e,a[g])){p=g;break}if(0>p||a[p].Bn!=e.Bn||a[p].Cn!=e.Cn){e=c.pa(f,d,0,0);d=-1;for(g=0;g<a.length;g++)if(0===c.Fs(e,a[g])){d=g;break}0<=d&&a[d].Bn==e.Bn&&a[d].Cn==e.Cn&&(r=a[d].zI,v=a[d].AI,q=k=!0)}else r=a[p].zI,v=a[p].AI,k=!1,q=!0;if(!q)return null;0==r&&(r=v,v=0);e=a=!1;0>r&&(r=-r,a=!0);0>v&&(v=-v,e=!0);return b.XY(r,a,v,e,k)};b.prototype.kq=function(){this.FE(this.BI)&&
(this.Hw=!0);this.FE(this.cB)&&(this.XH=!0);this.WH=!this.Hw};b.prototype.FE=function(a){try{for(var d=[],d=d.sort(c.Fs),b=0;b<d.length;b++)a.push(d[b])}catch(h){}return!0};b.yZ=function(){return null};return b}();e.tZ=p})(u||(u={}));(function(e){var c=function(){function e(){}e.prototype.Iy=function(b){this.Ii=b};e.prototype.QE=function(b){this.Mb=b};e.prototype.RE=function(b){this.tp=b};e.KF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=
b.G()||20>b.D()?!1:!0};e.JF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.yl=c})(u||(u={}));(function(e){var c=function(){function c(){}c.EN=function(b){var a=new e.Ja;a.$x(b.dt(),b.ft());a.ak(b.dt(),b.et());a.ak(b.ct(),b.et());a.ak(b.ct(),b.ft());return a};c.Vg=function(b,a){return null===b?null:e.ns.local().V(b,a,null)};c.LY=function(b,a){var d=e.ei.local();b=new e.gd(b);return d.V(b,a,null).next()};c.an=function(b,a,d){return e.eq.local().V(b,a,d,null)};c.Wp=
function(b,a,d){return e.qy.local().V(b,a,d,null)};c.sY=function(b,a,d){var f=e.qy.local();b=new e.gd(b);a=new e.gd(a);d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);return f};c.Eb=function(b,a,d){return e.Jj.local().V(3,b,a,d,null)};c.mR=function(b,a,d){return e.Jj.local().V(4,b,a,d,null)};c.nU=function(b,a,d){var f=e.wk.local();b=new e.gd(b);a=new e.gd(a);d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);return f};c.jR=function(b,a,d){var f=e.eq.local();b=new e.gd(b);a=new e.gd(a);
d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);return f};c.Ma=function(b,a,d){return e.wk.local().V(b,a,d,null)};c.WY=function(b,a,d){return e.Jj.local().V(2,b,a,d,null)};c.contains=function(b,a,d){return e.Jj.local().V(1,b,a,d,null)};c.VQ=function(b,a,d){return e.Jj.local().V(16,b,a,d,null)};c.touches=function(b,a,d){return e.Jj.local().V(8,b,a,d,null)};c.TV=function(b,a,d){return e.Jj.local().V(32,b,a,d,null)};c.pU=function(b,a,d){return e.Jj.local().V(1073741824,b,a,d,null)};c.aC=function(b,
a,d,f){return e.TM.local().V(b,a,d,f,null)};c.Cb=function(b,a,d,f){var h=null;if(null!=d){if(h=d.Td(),null!=f&&h.Bc()!=f.Bc()&&h.sd!=f.sd)throw e.g.Dl();}else if(null!=f)throw e.g.F();b=e.LM.local().V(b,a,null);null!==h&&null!==f&&(b=e.$c.mi(b,h,f));return b};c.clip=function(b,a,d){return e.FM.local().V(b,e.h.pa(a.dt(),a.ft(),a.ct(),a.et()),d,null)};c.Ml=function(b,a,d){if(null==b||null==a)return null;b=e.HM.local().V(!0,b,a,d,null);for(a=[];null!=(d=b.next());)d.u()||a.push(d);return a.slice(0)};
c.mP=function(b,a,d,f,h,k,q,r){if(!0===h)return c.QW(b,a,d,f,k,q,r);h=d;if(null!=a){if(q=a.Td(),null!=f&&q.Bc()!=f.Bc()){if(q.sd!=f.sd)throw e.g.Dl();h=[];e.$c.cG(d,d.length,f,q,h)}}else if(null!=f)throw e.g.F();d=e.JD.local();if(k){b=new e.gd(b);a=d.V(b,a,h,k,null);for(b=[];null!=(k=a.next());)b.push(k);k=b.slice(0)}else for(k=[],f=0;f<b.length;f++)k[f]=d.V(b[f],a,h[f],null);return k};c.QW=function(b,a,d,f,h,k,c){if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.Bc()?a.Td():e.$c.vh(9001);
if(0!==f.sd)throw e.g.F();e.$c.cG(d,d.length,f,e.$c.vh(9001),d);f=e.OD.local();if(h){b=new e.gd(b);a=f.V(b,a,k,d,c,!1,h,null);for(d=[];null!=(k=a.next());)d.push(k);h=d.slice(0)}else{h=[];for(var q=0;q<b.length;q++)h[q]=f.V(b[q],a,k,d[q],c,!1,null)}return h};c.buffer=function(b,a,d,f,h,k,c){var q=d;if(!1===h){if(null!=a){if(h=a.Td(),null!=f&&h.Bc()!=f.Bc()){if(h.sd!=f.sd)throw e.g.Dl();q=e.$c.mi(d,f,h)}}else if(null!=f)throw e.g.F();b=e.JD.local().V(b,a,q,null)}else{if(null===a)throw e.g.F();if(null===
f||void 0===f)f=4326!==a.Bc()?a.Td():e.$c.vh(9001);if(0!==f.sd)throw e.g.F();q=e.$c.mi(d,f,e.$c.vh(9001));b=e.OD.local().V(b,a,k,q,c,!1,null)}return b};c.RV=function(b,a,d,f,h,k,c){if(null!=a){var q=a.Td();if(null!=c&&q.Bc()!=c.Bc()){if(q.sd!=c.sd)throw e.g.Dl();d=e.$c.mi(d,c,q)}}else if(null!=c)throw e.g.F();b=new e.gd(b);a=e.RD.local().V(b,a,d,f,h,k,null);for(d=[];null!=(f=a.next());)d.push(f);return d.slice(0)};c.offset=function(b,a,d,f,h,k,c){if(null!=a){var q=a.Td();if(null!=c&&q.Bc()!=c.Bc()){if(q.sd!=
c.sd)throw e.g.Dl();d=e.$c.mi(d,c,q)}}else if(null!=c)throw e.g.F();return e.RD.local().V(b,a,d,f,h,k,null)};c.FQ=function(b){return e.LD.local().V(b,null)};c.GQ=function(b,a){var d=e.LD.local();b=new e.gd(b);d=d.V(b,a,null);for(b=[];null!=(a=d.next());)b.push(a);return b};c.bA=function(b,a,d){return e.oy.local().bA(b,a,d)};c.cA=function(b,a){return e.oy.local().cA(b,a)};c.dA=function(b,a,d,f){return e.oy.local().dA(b,a,d,f)};c.FC=function(b,a){return e.Qm.local().V(b,a,!1,null)};c.AU=function(b,
a){return e.Qm.local().Wq(b,a,null)};c.gS=function(b,a,d,f,h){var k=e.ND.local();if(null!=a){if(a=a.Td(),null!=h&&a.Bc()!=h.Bc()){if(a.sd!=h.sd)throw e.g.Dl();d=e.$c.mi(d,h,a)}}else if(null!=h)throw e.g.F();return k.V(b,d,f,null)};c.Js=function(b,a,d,f){var h=e.Pm.local();if(null!=a){if(a=a.Td(),null!=f&&a.Bc()!=f.Bc()){if(a.sd!=f.sd)throw e.g.Dl();d=e.$c.mi(d,f,a)}}else if(null!=f)throw e.g.F();return h.V(b,d,null)};c.Hz=function(b,a,d,f,h){void 0===h&&(h=0);var k=e.NM.local();if(4==h)throw e.g.af();
if(0!==h)throw e.g.af();if(null!==f){if(0!==f.sd)throw e.g.F("Unit must be a linear unit type");d=e.$c.mi(d,f,e.$c.vh(9001))}return k.V(b,d,a,h,null)};c.mS=function(b,a,d,f){if(null===b)return 0;if(4==f)throw e.g.af();if(0!==f)throw e.g.af();if(197==b.G())b=c.EN(b);else if(1736!=b.G())return 0;f=e.fb.lc(a);b=e.fb.Vg(b,a,f,null);b=e.aM.nS([b])[0];if(null!==d){if(2!==d.sd)throw e.g.F("Unit must be a area unit type");b=e.$c.mi(b,e.$c.vh(109404),d)}return b};c.qS=function(b,a,d,f){b=e.PM.local().V(b,
a,f,null);if(null!==d){if(0!==d.sd)throw e.g.F("Unit must be a linear unit type");b=e.$c.mi(b,e.$c.vh(9001),d)}return b};c.aW=function(b,a,d){if(null===b)return 0;var f=null;if(null!=a){f=a.Td();if(0==f.sd&&(f=e.$c.cH(f),null==f&&null!==d))throw e.g.F();if(null!=d&&f.Bc()!=d.Bc()&&f.sd!=d.sd)throw e.g.Dl();}else if(null!=d)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.ef(),null!==d?e.$c.mi(b,f,d):b):0};c.bW=function(b,a,d){if(null===b||b.u()||1>b.ub())return 0;var f=null;if(null!=a){if(f=a.Td(),
null!=d&&f.Bc()!=d.Bc()&&f.sd!=d.sd)throw e.g.Dl();}else if(null!=d)throw e.g.F();1736==b.G()||197==b.G()?a=b.Fg():e.T.Nc(b.G())?(a=new e.Ua(b.description),a.cc(b,!0)):a=b;b=0;a=a.Fa();for(var h=new e.b,k=new e.b;a.Ya();)for(;a.Ea();){var c=a.ba();c.Oq(h);c.Ns(k);b+=e.b.Cb(h,k)}null!==f&&null!==d&&(b=e.$c.mi(b,f,d));return b};c.ZZ=function(b,a){return e.ve.pS(b,a)};c.EQ=function(b){return void 0!==b.points?c.pN(b,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?c.yE(b.rings,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?c.yE(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?c.uN(b):void 0!==b.xmin?c.nN(b):null};c.uN=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.WX(b.z);void 0!==b.m&&null!==b.m&&a.GX(b.m);return a};c.nN=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.di;var a=new e.di(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,
0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};c.pN=function(b,a,d){var f=0,h=new e.Dd,k=3*b.points.length;0!=k%2&&k++;2>k&&(k=2);var c=e.J.truncate(3*b.points.length/2);4>c?c=4:16>c&&(c=16);for(var k=e.Tc.$m(k,0),r=e.Tc.$m(c),c=e.Tc.$m(c),v=0;v<b.points.length;v++)k.write(2*v,b.points[v][0]),k.write(2*v+1,b.points[v][1]),r.write(v,a||d?b.points[v][2]:NaN),c.write(v,d&&a?b.points[v][3]:NaN),f++;0!=f&&(h.resize(f),h.eo(0,k));a&&(h.Rd(1),h.eo(1,r));d&&(h.Rd(2),
h.eo(2,0==a?r:c));h.Cc(16777215);return h};c.yE=function(b,a,d,f){var h,k=0,c=2;"P"==f?(h=new e.Ja,k=1,c=3):h=new e.Ua;for(var r=e.Tc.wh(0),v=e.Tc.vq(0),p=0,g=0,l=[],m=[],n=0;n<b.length;n++){var u=b[n].length;l[n]=!1;if("P"===f&&b[n][0][0]===b[n][b[n].length-1][0]&&b[n][0][1]===b[n][b[n].length-1][1]){var t=0==d?!0:b[n][0][3]===b[n][b[n].length-1][3]||void 0===b[n][0][3]&&void 0===b[n][b[n].length-1][3];(0==a||b[n][0][2]===b[n][b[n].length-1][2]||void 0===b[n][0][2]&&void 0===b[n][b[n].length-1][2])&&
t&&(l[n]=!0,--u)}u>=c?(m[n]=!1,g+=1,r.add(p),v.add(k),p+=u):m[n]=!0}f=3*p;0!=f%2&&f++;2>f&&(f=2);n=e.J.truncate(3*p/2);4>n?n=4:16>n&&(n=16);f=e.Tc.$m(f,0);k=e.Tc.$m(n);c=e.Tc.$m(n);for(n=u=0;n<b.length;n++)if(!1===m[n])for(t=0;t<b[n].length;t++){var w=!1;t===b[n].length-1&&!0===l[n]&&(w=!0);w||(f.write(2*u,b[n][t][0]),f.write(2*u+1,b[n][t][1]),k.write(u,a||d?b[n][t][2]:NaN),c.write(u,d&&a?b[n][t][3]:NaN),u++)}0!=p&&(b=h,r.resize(g),v.resize(g),0<p&&(r.add(p),v.add(0)),b.eo(0,f),b.uK(v),b.vK(r));a&&
(h.Rd(1),h.eo(1,k));d&&(h.Rd(2),h.eo(2,0==a?k:c));h.Cc(16777215);return h};return c}();e.gc=c})(u||(u={}));(function(e){var c=function(){function e(){}e.Gj=function(b){var a=0,d,f=b.length,e=b[0],k;for(d=0;d<f-1;d++)k=b[d+1],a+=(k[0]-e[0])*(k[1]+e[1]),e=k;return 0<=a};e.rotate=function(b,a,d){a=a*Math.PI/180;var f=Math.cos(a),h=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var k=0;k<b.paths.length;k++){for(var c=b.paths[k],r=[],v=0;v<c.length;v++){var p=c[v].slice(0);r.push(p);var g=f*(c[v][0]-
d.x)-h*(c[v][1]-d.y)+d.x,l=h*(c[v][0]-d.x)+f*(c[v][1]-d.y)+d.y;p[0]=g;p[1]=l}a.paths.push(r)}return a}if(void 0!==b.rings){a={rings:[]};for(k=0;k<b.rings.length;k++){for(var c=b.rings[k],r=[],m=e.Gj(c),v=0;v<c.length;v++)p=c[v].slice(0),r.push(p),g=f*(c[v][0]-d.x)-h*(c[v][1]-d.y)+d.x,l=h*(c[v][0]-d.x)+f*(c[v][1]-d.y)+d.y,p[0]=g,p[1]=l;e.Gj(r)!==m&&r.reverse();a.rings.push(r)}return a}if(void 0!==b.x)return a={x:f*(b.x-d.x)-h*(b.y-d.y)+d.x,y:h*(b.x-d.x)+f*(b.y-d.y)+d.y},void 0!==b.z&&(a.z=b.z),void 0!==
b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(v=0;v<b.length;v++)k=b[v].slice(0),k[0]=f*(b[v][0]-d.x)-h*(b[v][1]-d.y)+d.x,k[1]=h*(b[v][0]-d.x)+f*(b[v][1]-d.y)+d.y,a.points.push(k);return a}return null};e.YR=function(b,a){var d,f;if(void 0!==b.paths){d={paths:[]};for(var h=0;h<b.paths.length;h++){for(var k=b.paths[h],c=[],r=0;r<k.length;r++){var v=k[r].slice(0);c.push(v);f=a.x-k[r][0];v[0]=k[r][0]+2*f}d.paths.push(c)}return d}if(void 0!==b.rings){d={rings:[]};for(h=0;h<b.rings.length;h++){for(var k=
b.rings[h],p=e.Gj(k),c=[],r=0;r<k.length;r++)v=k[r].slice(0),c.push(v),f=a.x-k[r][0],v[0]=k[r][0]+2*f;e.Gj(c)!==p&&c.reverse();d.rings.push(c)}return d}if(void 0!==b.x)return f=a.x-b.x,d={x:b.x+2*f,y:b.y},void 0!==b.z&&(d.z=b.z),void 0!==b.m&&(d.m=b.m),d;if(void 0!==b.points){d={points:[]};h=b.points;for(r=0;r<h.length;r++)k=h[r].slice(0),f=a.x-k[0],k[0]+=2*f,d.points.push(k);return d}return void 0!==b.xmin?(d={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(d.zmin=b.zmin,d.zmax=b.zmax),void 0!==
b.mmin&&(d.mmin=b.mmin,d.mmax=b.mmax),f=a.x-b.xmin,d.xmax=b.xmin+2*f,f=a.x-b.xmax,d.xmin=b.xmax+2*f,d):null};e.ZR=function(b,a){var d,f;if(void 0!==b.paths){d={paths:[]};for(var h=0;h<b.paths.length;h++){for(var k=b.paths[h],c=[],r=0;r<k.length;r++){var v=k[r].slice(0);c.push(v);f=a.y-k[r][1];v[1]=k[r][1]+2*f}d.paths.push(c)}return d}if(void 0!==b.rings){d={rings:[]};for(h=0;h<b.rings.length;h++){for(var k=b.rings[h],p=e.Gj(k),c=[],r=0;r<k.length;r++)v=k[r].slice(0),c.push(v),f=a.y-k[r][1],v[1]=k[r][1]+
2*f;e.Gj(c)!==p&&c.reverse();d.rings.push(c)}return d}if(void 0!==b.x)return f=a.y-b.y,d={y:b.y+2*f,x:b.x},void 0!==b.z&&(d.z=b.z),void 0!==b.m&&(d.m=b.m),d;if(void 0!==b.points){d={points:[]};h=b.points;for(r=0;r<h.length;r++)k=h[r].slice(0),f=a.y-k[1],k[1]+=2*f,d.points.push(k);return d}return void 0!==b.xmin?(d={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(d.zmin=b.zmin,d.zmax=b.zmax),void 0!==b.mmin&&(d.mmin=b.mmin,d.mmax=b.mmax),f=a.y-b.ymin,d.ymax=b.ymin+2*f,f=a.y-b.ymax,d.ymin=b.ymax+
2*f,d):null};return e}();e.my=c})(u||(u={}));(function(e){var c=function(){function c(){}c.ah=function(b,a){null==a&&(a=e.we.Hg());switch(b){case 33:return new e.Wa(a);case 322:return new e.Hb(a);case 197:return new e.di(a);case 550:return new e.Dd(a);case 1607:return new e.Ua(a);case 1736:return new e.Ja(a);default:throw e.g.X("invalid argument.");}};return c}();e.fM=c})(u||(u={}));(function(e){var c=function(){function c(b,a){this.qf=e.ha.yd(b,-1);this.va=new e.Nu;this.gm=a}c.prototype.bX=function(b){this.va.ru(Math.min(this.qf.size,
b));this.va.ao(b)};c.prototype.addElement=function(b,a){if(void 0===a)return this.AO(b);a=e.J.truncate(a%this.qf.size);var d=this.qf.get(a);-1==d&&(d=this.va.ni(),this.qf.set(a,d));return this.va.addElement(d,b)};c.prototype.AO=function(b){var a=this.gm.Yz(b),a=e.J.truncate(a%this.qf.size),d=this.qf.get(a);-1==d&&(d=this.va.ni(),this.qf.set(a,d));return this.va.addElement(d,b)};c.prototype.jd=function(b,a){if(void 0===a)this.dR(b);else{a=e.J.truncate(a%this.qf.size);var d=this.qf.get(a);if(-1==d)throw e.g.F();
for(var f=this.va.wc(d),h=-1;-1!=f;){var c=this.va.nb(f);this.va.ia(f)==b?(this.va.jd(d,h,f),-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(a,-1))):h=f;f=c}}};c.prototype.dR=function(b){var a=this.gm.Yz(b),a=e.J.truncate(a%this.qf.size),d=this.qf.get(a);if(-1==d)throw e.g.F();for(var f=this.va.wc(d),h=-1;-1!=f;){var c=this.va.nb(f);this.va.ia(f)==b?(this.va.jd(d,h,f),-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(a,-1))):h=f;f=c}};c.prototype.IS=function(b){b=e.J.truncate(b%this.qf.size);b=this.qf.get(b);
return-1==b?-1:this.va.wc(b)};c.prototype.YS=function(b){return this.va.nb(b)};c.prototype.Jd=function(b){var a=this.gm.Yz(this.ia(b)),a=e.J.truncate(a%this.qf.size),d=this.qf.get(a);if(-1==d)throw e.g.F();for(var f=this.va.wc(d),h=-1;-1!=f;){if(f==b){this.va.jd(d,h,f);-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(a,-1));return}h=f;f=this.va.nb(f)}throw e.g.F();};c.prototype.ia=function(b){return this.va.ia(b)};c.prototype.clear=function(){this.qf=e.ha.yd(this.qf.size,-1);this.va.clear()};c.prototype.size=
function(){return this.va.WG()};return c}();e.nM=c})(u||(u={}));(function(e){var c=function(){function c(){this.lj=new e.Zc(3);this.va=new e.Zc(6);this.WU=!1;this.De=-1}c.prototype.Pl=function(b){this.lj.jd(b)};c.prototype.Bx=function(){return this.lj.Me()};c.prototype.Qv=function(b){this.va.jd(b)};c.prototype.IB=function(){return this.va.Me()};c.prototype.xC=function(b,a){this.lj.R(b,1,a)};c.prototype.Qx=function(b,a){this.lj.R(b,2,a)};c.prototype.FX=function(b,a){this.lj.R(b,3,a)};c.prototype.vC=
function(b,a){this.va.R(b,4,a)};c.prototype.IX=function(b,a){this.va.R(b,3,a)};c.prototype.yK=function(b,a){this.va.R(b,2,a)};c.prototype.ni=function(b){var a=this.IB();this.va.R(a,3,this.De);this.va.R(a,4,0);this.va.R(a,5,b);-1!=this.De&&this.yK(this.De,a);return this.De=a};c.prototype.zh=function(b){this.QF(b);var a=this.va.S(b,2),d=this.va.S(b,3);-1!=a?this.IX(a,d):this.De=d;-1!=d&&this.yK(d,a);this.Qv(b);return d};c.prototype.ru=function(b){this.va.Ne(b)};c.prototype.SG=function(b){return this.va.S(b,
5)};c.prototype.EX=function(b,a){this.va.R(b,5,a)};c.prototype.addElement=function(b,a){return this.RT(b,a)};c.prototype.RT=function(b,a){var d=this.Bx();this.Qx(d,-1);-1==this.va.S(b,0)&&this.va.R(b,0,d);var f=this.va.S(b,1);this.xC(d,f);-1!=f&&this.Qx(f,d);this.va.R(b,1,d);this.setData(d,a);this.vC(b,this.Zs(b)+1);this.WU&&this.FX(d,b);return d};c.prototype.jd=function(b,a){var d=this.Se(a),f=this.nb(a);-1!=d?this.Qx(d,f):this.va.R(b,0,f);-1!=f?this.xC(f,d):this.va.R(b,1,d);this.Pl(a);this.vC(b,
this.Zs(b)-1);return f};c.prototype.ao=function(b){this.lj.Ne(b)};c.prototype.getData=function(b){return this.lj.S(b,0)};c.prototype.setData=function(b,a){this.lj.R(b,0,a)};c.prototype.nb=function(b){return this.lj.S(b,2)};c.prototype.Se=function(b){return this.lj.S(b,1)};c.prototype.wc=function(b){return this.va.S(b,0)};c.prototype.Ec=function(b){return this.va.S(b,1)};c.prototype.clear=function(){for(var b=this.De;-1!=b;)b=this.zh(b)};c.prototype.QF=function(b){for(var a=this.Ec(b);-1!=a;){var d=
a,a=this.Se(d);this.Pl(d)}this.va.R(b,0,-1);this.va.R(b,1,-1);this.vC(b,0)};c.prototype.u=function(){return 0==this.lj.size};c.prototype.WG=function(){return this.lj.size};c.prototype.Zs=function(b){return this.va.S(b,4)};c.prototype.eA=function(b){return this.va.S(b,3)};return c}();e.cq=c})(u||(u={}));(function(e){var c=function(){function c(b){void 0===b?(this.Og=new e.Zc(2),this.va=new e.Zc(4),this.De=-1,this.Cw=!0):(this.Og=new e.Zc(2),this.va=new e.Zc(b?4:2),this.De=-1,this.Cw=b)}c.prototype.Pl=
function(b){this.Og.jd(b)};c.prototype.Bx=function(){return this.Og.Me()};c.prototype.Qv=function(b){this.va.jd(b)};c.prototype.IB=function(){return this.va.Me()};c.prototype.ni=function(){var b=this.IB();this.Cw&&(this.va.R(b,3,this.De),-1!=this.De&&this.va.R(this.De,2,b),this.De=b);return b};c.prototype.zh=function(b){for(var a=this.wc(b);-1!=a;){var d=a,a=this.nb(a);this.Pl(d)}this.Cw&&(a=this.va.S(b,2),d=this.va.S(b,3),-1!=a?this.va.R(a,3,d):this.De=d,-1!=d&&this.va.R(d,2,a));this.Qv(b)};c.prototype.ru=
function(b){this.va.Ne(b)};c.prototype.addElement=function(b,a){var d=this.va.S(b,1),f=this.Bx();-1!=d?this.Og.R(d,1,f):this.va.R(b,0,f);this.va.R(b,1,f);this.Og.R(f,0,a);return f};c.prototype.ao=function(b){this.Og.Ne(b)};c.prototype.jd=function(b,a,d){-1!=a?(this.Og.R(a,1,this.Og.S(d,1)),this.va.S(b,1)==d&&this.va.R(b,1,a)):(this.va.R(b,0,this.Og.S(d,1)),this.va.S(b,1)==d&&this.va.R(b,1,-1));this.Pl(d)};c.prototype.kz=function(b,a){var d=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=d?this.Og.R(d,
1,f):this.va.R(b,0,f),this.va.R(b,1,this.va.S(a,1)));this.Cw&&(d=this.va.S(a,2),f=this.va.S(a,3),-1!=d?this.va.R(d,3,f):this.De=f,-1!=f&&this.va.R(f,2,d));this.Qv(a)};c.prototype.ia=function(b){return this.Og.S(b,0)};c.prototype.pk=function(b,a){this.Og.R(b,0,a)};c.prototype.nb=function(b){return this.Og.S(b,1)};c.prototype.wc=function(b){return this.va.S(b,0)};c.prototype.Fo=function(b){return this.ia(this.wc(b))};c.prototype.clear=function(){this.Og.Wi(!0);this.va.Wi(!0);this.De=-1};c.prototype.u=
function(b){return void 0===b?0==this.Og.size:-1==this.va.S(b,0)};c.prototype.WG=function(){return this.Og.size};c.prototype.eA=function(b){return this.va.S(b,3)};return c}();e.Nu=c})(u||(u={}));(function(e){var c=function(){function c(){}c.wD=function(b,a,d,f,h,k,q){var r=new e.b;r.L(b);b=new e.b;b.L(a);h.Ky(r);h.Ky(b);a=h.av(r);var v=h.av(b);0==v&&(v=h.RG());if(r.x!=b.x&&(r.y!=b.y||r.y!=h.A&&r.y!=h.B)||v>a!=k){a=h.DE(r);var v=h.DE(b),p,g=k?1:3;do a=a+g&3,p=h.Gx(a),0!=q&&(f=c.wD(r,p,d,f,h,k,q)),
d[f++].ja(p.x,p.y),r=p;while((a&3)!=v);0!=q&&(f=c.wD(r,b,d,f,h,k,q))}else if(h=new e.b,h.ja(b.x-r.x,b.y-r.y),0!=q&&(q=e.J.truncate(h.nO()/q),0<q))for(h.scale(1/(q+1)),k=0;k<q;k++)r.add(h),d[f++].ja(r.x,r.y);return f};c.$d=function(b,a,d){a=a.uo();b=null!=b&&void 0!==b.pe?b.pe(0):0;d&&(a*=4,b*=1.1);return Math.max(b,a)};c.As=function(b){return 2*Math.sqrt(2)*b};c.PO=function(b){return Math.sqrt(2)*b};c.$g=function(b,a,d){var f=new e.h;a.s(f);return c.$d(b,f,d)};c.GF=function(b,a,d){a=a.hg(1,0).uo();
b=null!=b?b.pe(1):0;d&&(a*=4,b*=1.1);return Math.max(b,a)};c.$Z=function(b,a){var d=new e.h;b.ac(d);d.Nb(a);return d};c.Zv=function(b,a){var d=new e.h;b.ac(d);b=new e.h;a.ac(b);d.Nb(b);return d};c.f_=function(b,a){var d=b.NS(a),f=b.wa(a),h=b.Fc(a),c=b.Ba(d);d==f?(h=b.Ba(h-1),d=b.Ba(f+1)):d==h-1?(h=b.Ba(d-1),d=b.Ba(f)):(h=b.Ba(d-1),d=b.Ba(d+1));c=e.b.Gp(h,c,d);return 0==c?0<b.Ym(a):-1==c};c.xP=function(b){var a=new e.h;b.ac(a);if(a.u())return null;var d=new e.gq(a,8),f=-1,h=new e.h,c=!1;do for(var q=
0,r=b.aa();q<r;q++)if(b.nk(q,h),f=d.lw(q,h,f),-1==f){if(c)throw e.g.X("internal error");b.Bo(a,!1);c=!0;d.reset(a,8);break}else c=!1;while(c);return d};c.BF=function(b){var a=new e.h;b.ac(a);for(var d=new e.gq(a,8),f=-1,h=b.Fa(),c=new e.h,q=!1;h.Ya();)for(;h.Ea();){var r=h.ba(),v=h.Db();r.s(c);f=d.lw(v,c,f);if(-1==f){if(q)throw e.g.za();b.Bo(a,!1);q=!0;d.reset(a,8);h.zj();break}}return d};c.Pj=function(b,a){var d=new e.h;b.ac(d);for(var f=new e.gq(d,8),h=-1,c=new e.h,q=b.Fa(),r=!1;q.Ya();)for(;q.Ea();){var v=
q.ba(),p=q.Db();v.s(c);if(c.Yb(a)&&(h=f.lw(p,c,h),-1==h)){if(r)throw e.g.X("internal error.");b.Bo(d,!1);r=!0;f.reset(d,8);q.zj();break}}return f};c.AZ=function(b){var a=new e.h;b.ac(a);for(var d=new e.gq(a,8),f=new e.b,h=new e.h,c=!1,q=0;q<b.D();q++)if(b.w(q,f),h.I(f),-1==d.dh(q,h)){if(c)throw e.g.za();b.Bo(a,!1);c=!0;d.reset(a,8);q=-1}return d};c.CF=function(b,a){for(var d=new e.gq(a,8),f=new e.b,h=!1,c=new e.h,q=0;q<b.D();q++)if(b.w(q,f),a.contains(f)&&(c.I(f),-1==d.dh(q,c))){if(h)throw e.g.za();
h=!0;q=new e.h;b.Bo(q,!1);d.reset(q,8);q=-1}return d};c.DS=function(b,a,d){var f=new e.h,h=new e.h;b.ac(f);a.ac(h);f.P(d,d);h.P(d,d);var c=new e.h;c.I(f);c.Ma(h);b=b.Fa();a=a.Fa();var q=new e.mD;q.BC(d);var r=!1;for(q.QK();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(c)&&(r=!0,d=new e.h,d.I(f),q.aF(b.Db(),d));q.qG();if(!r)return null;f=!1;for(q.PK();a.Ya();)for(;a.Ea();)a.ba().s(h),h.Yb(c)&&(f=!0,d=new e.h,d.I(h),q.XE(a.Db(),d));q.pG();return f?q:null};c.ES=function(b,a,d,f,h){var c=b.G(),q=a.G(),r=new e.h,
v=new e.h;b.ac(r);a.ac(v);r.P(d,d);v.P(d,d);var p=new e.h;p.I(r);p.Ma(v);var g=new e.mD;g.BC(d);var l=!1;g.QK();var m=0;for(d=b.aa();m<d;m++)if(!f||1736!=c||b.rw(m))b.nk(m,r),r.Yb(p)&&(l=!0,g.aF(m,r));g.qG();if(!l)return null;b=!1;g.PK();f=0;for(d=a.aa();f<d;f++)if(!h||1736!=q||a.rw(f))a.nk(f,v),v.Yb(p)&&(b=!0,g.XE(f,v));g.pG();return b?g:null};c.p_=function(b,a){return 0<b.Nk(a)};c.zZ=function(b,a){var d=new e.h;b.MW(a,d);var d=new e.gq(d,8),f=-1,h=new e.h;b=b.Fa();b.hC(a);if(b.Ya())for(;b.Ea();){a=
b.ba();var c=b.Db();a.ac(h);f=d.lw(c,h,f);if(-1==f)throw e.g.X("internal error");}return d};c.Jv=function(b,a,d){if(b!=a)for(var f=0;f<d;f++)null==b[f]?b[f]=e.b.Jl(a[f]):b[f].L(a[f])};c.mz=function(b,a,d,f){var e=0;for(f+=0;e<f;d++,e++)null==b[e]&&(b[e]=[0,0]),b[e][0]=a[d].x,b[e][1]=a[d].y};c.lz=function(b,a,d,f){var h=a,c=0;for(a=f+a;h<a;c++,h++)null==b[h]?b[h]=e.b.pa(d[c][0],d[c][1]):b[h].ja(d[c][0],d[c][1])};c.HQ=function(b,a,d){if(b!=a)for(var f=0;f<d;f++)null==b[f]?b[f]=new e.Wa(a[f]):a[f].copyTo(b[f])};
c.RY=function(b,a,d,f){var e=f.ga;f=f.la;for(var c=0;c<a;c+=d){var q=b.read(c);q<e?b.write(c,e):q>f&&b.write(c,f)}};c.JY=function(b,a,d,f){var e=f.ga;f=f.la;for(var c=0;c<a;c+=d){var q=b.read(c);q<e?b.write(c,e):q>f&&b.write(c,f)}};c.IK=function(b,a,d){if(b.hasAttribute(d)){var f=b.G();if(e.T.fh(f)){var h=e.ma.ti(d),f=e.ma.Xa(d),k=b.D();if(1==h){b=b.Qa(d);c.RY(b,k*f,f,a);return}if(2==h){b=b.Qa(d);c.JY(b,k*f,f,a);return}throw e.g.X("snap_coordinate not implemented");}if(197==f)k=b.hg(d,0),f=!1,k.ga<
a.ga&&(f=!0,k.ga=a.ga),k.la>a.la&&(f=!0,k.la=a.la),f&&b.setInterval(d,0,k);else if(33==f)k=b.Wc(d,0),f=!1,k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.setAttribute(d,0,k);else if(e.T.Nc(f))k=b.bt(d,0),f=!1,k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.Tx(d,0,k),k=b.Ms(d,0),k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.Lx(d,0,k);else throw e.g.X("snap_coordinate not implemented");}};c.wl=function(b,a,d,f,e){var h=0;null!=a&&(h=a.pe(b),e&&!f||null==a||(h+=1.01*a.iA(b)));f&&(d*=4,h*=1.01);
return Math.max(h,d)};c.BZ=function(b,a,d,f){a=e.h.XN(a.Te(),a.Cf(),d.Te(),d.Cf());return c.wl(0,b,a,f,!1)};c.Xy=function(b,a,d){return c.wl(0,b,a.uo(),d,!1)};c.CZ=function(b,a,d){return c.wl(1,b,a.uo(),d,!1)};c.DP=function(b,a){var d=new e.h;a.s(d);return c.Xy(b,d,!0)};c.Yy=function(b,a){return c.wl(0,b,a.uo(),!1,!0)};c.DZ=function(b,a,d){return c.wl(1,b,a.uo(),d,!0)};c.zv=function(b,a){var d=new e.h;a.s(d);return c.Yy(b,d)};c.BH=function(b,a,d,f){f*=f;var h=new e.b;h.xc(b,a);b=new e.b;b.xc(d,a);
a=h.uk();d=b.uk();if(a<=f&&d<=f)return!0;var c=e.Ub.Yx(h.Vi(b));return c<=f*a||c<=f*d?0<=h.pi(b):!1};c.JK=function(b,a,d,f){for(var h=0;h<a;h++){var c=b[h].y,q=e.J.tk(c,d,f);q!=c&&(b[h].y=q)}};return c}();e.na=c})(u||(u={}));(function(e){var c=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ia(f);f=this.ab.Rk(b);var e=this.ab.Rk(a);return f<e?-1:f==e?d.Vq(b)&&d.tw(a)?-1:d.Vq(a)&&d.tw(b)?1:0:1};return a}(),p=function(){function a(a){this.ab=a}a.prototype.gs=function(a,d,
b){this.ab.eY(b,a,d)};a.prototype.Qq=function(a){return this.ab.Rk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.qj=new e.yc;this.nh=new e.ha(0);this.Mg=[0,0]}a.prototype.Oi=function(a,d){this.qj.ga=a.ga-d;this.qj.la=a.la+d;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.gC=function(a,d,b){if(a>d)throw e.g.F();
this.qj.ga=a-b;this.qj.la=d+b;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.bo=function(a,d){this.qj.ga=a-d;this.qj.la=a+d;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw e.g.Da();if(0>this.Be)return-1;for(var a=!0;a;)switch(this.Mg[this.Be]){case 1:a=this.UV();break;case 2:a=this.VV();break;case 3:a=this.WV();break;case 4:a=this.XV();break;case 5:a=this.gX();break;case 6:a=this.PU();break;case 7:a=this.SO();break;case 0:a=this.tA();break;default:throw e.g.za();
}return-1!=this.ih?this.Gq()>>1:-1};a.NZ=function(d,b,f){var e=new a;e.ab=d;e.nh.zb(20);e.Oi(b,f);return e};a.OZ=function(d,b,f){var e=new a;e.ab=d;e.nh.zb(20);e.bo(b,f);return e};a.pa=function(d){var b=new a;b.ab=d;b.nh.zb(20);b.Be=-1;return b};a.prototype.tA=function(){this.ih=this.uI=this.mj=this.Rc=-1;if(null!=this.ab.Ge&&0<this.ab.Ge.size)return this.Mg[0]=1,this.mj=this.ab.Jf,!0;this.Be=-1;return!1};a.prototype.UV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.ih=this.Be=-1,!1;var a=
this.ab.Hq(this.Rc);if(this.qj.la<a)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Uj(this.Rc),-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6),!0;if(a<this.qj.ga)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Pk(this.Rc),-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5),!0;this.Mg[this.Be]=2;this.uI=this.Rc;a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);return!0};a.prototype.VV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=
3,this.mj=this.ab.Pk(this.uI),!0;if(this.ab.Hq(this.Rc)<this.qj.ga){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Pk(this.Rc);-1!=a&&this.nh.add(a);return!0};a.prototype.WV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=4,!0;if(this.qj.la<this.ab.Hq(this.Rc)){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);
-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Uj(this.Rc);-1!=a&&this.nh.add(a);return!0};a.prototype.XV=function(){if(0==this.nh.size)return this.ih=this.Be=-1,!1;this.Rc=this.nh.get(this.nh.size-1);this.nh.resize(this.nh.size-1);var a=this.ab.Qk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);-1!=this.ab.Uj(this.Rc)&&this.nh.add(this.ab.Uj(this.Rc));-1!=this.ab.Pk(this.Rc)&&
this.nh.add(this.ab.Pk(this.Rc));return!0};a.prototype.PU=function(){this.ih=this.Fi;if(-1!=this.ih&&d.Vq(this.Gq())&&this.ab.Rk(this.Gq())<=this.qj.la)return this.Fi=this.VG(),!1;this.Be--;return!0};a.prototype.gX=function(){this.ih=this.Fi;if(-1!=this.ih&&d.tw(this.Gq())&&this.ab.Rk(this.Gq())>=this.qj.ga)return this.Fi=this.jT(),!1;this.Be--;return!0};a.prototype.SO=function(){this.ih=this.Fi;if(-1!=this.ih&&d.Vq(this.Gq()))return this.Fi=this.VG(),!1;this.Be--;return!0};a.prototype.VG=function(){return this.ab.og?
this.ab.ug.nb(this.ih):this.ab.tj.nb(this.ih)};a.prototype.jT=function(){return this.ab.og?this.ab.ug.Se(this.ih):this.ab.tj.Se(this.ih)};a.prototype.Gq=function(){return this.ab.og?this.ab.ug.ia(this.ih):this.ab.tj.getData(this.ih)};return a}();e.xZ=a;var d=function(){function d(a){this.un=this.Ai=this.ug=this.tj=this.Dn=this.ek=this.Ge=this.fk=null;this.og=a;this.ar=this.Ew=!1}d.prototype.bs=function(){this.sl(!0)};d.prototype.xs=function(a,d){if(!this.Ew)throw e.g.Da();this.fk.push(new e.yc(a,
d))};d.prototype.yq=function(){if(!this.Ew)throw e.g.X("invalid call");this.Ew=!1;this.ar=!0;this.og||(this.TT(),this.Mw=this.fk.length)};d.prototype.dh=function(a){if(!this.og||!this.ar)throw e.g.F("invalid call");if(-1==this.Jf){var d=this.fk.length;if(this.UA){var b=new e.ha(0);b.zb(2*d);this.JJ(b);this.Ai.zb(2*d);this.Ai.resize(0);this.IJ(b);this.Dn.resize(d,-1);this.Dn.$h(-1,0,d);this.UA=!1}else this.Dn.$h(-1,0,d);this.Jf=this.Lv()}d=this.rH(a<<1,this.Jf);b=this.ug.addElement((a<<1)+1,this.kA(d));
this.AK(d,b);this.Dn.set(a,d);this.Mw++};d.prototype.remove=function(a){if(!this.og||!this.ar)throw e.g.X("invalid call");var d=this.Dn.get(a);if(-1==d)throw e.g.F("the interval does not exist in the interval tree");this.Dn.set(a,-1);this.Mw--;var b=this.kA(d),f;f=this.ug.tT(b);this.ug.Jd(this.QS(d),b);this.ug.Jd(this.mT(d),b);a=this.ug.size(b);0==a&&(this.ug.fR(b),this.DK(f,-1));this.ek.jd(d);for(var b=this.XG(f),h=this.Uj(f),c=this.Pk(f),d=0;!(0<a||f==this.Jf||-1!=h&&-1!=c);)f==this.Uj(b)?-1!=h?
(this.tl(b,h),this.rk(h,b),this.tl(f,-1)):-1!=c?(this.tl(b,c),this.rk(c,b),this.vl(f,-1)):this.tl(b,-1):-1!=h?(this.vl(b,h),this.rk(h,b),this.tl(f,-1)):-1!=c?(this.vl(b,c),this.rk(c,b),this.vl(f,-1)):this.vl(b,-1),this.rk(f,-1),d++,f=b,b=this.Qk(f),a=-1!=b?this.ug.size(b):0,h=this.Uj(f),c=this.Pk(f),b=this.XG(f)};d.prototype.reset=function(){if(!this.og||!this.ar)throw e.g.F("invalid call");this.sl(!1)};d.prototype.size=function(){return this.Mw};d.prototype.jf=function(){return a.pa(this)};d.prototype.JJ=
function(a){for(var d=this.fk.length,b=0;b<2*d;b++)a.add(b);this.fY(a,2*d)};d.prototype.IJ=function(a){for(var d=NaN,b=0;b<a.size;b++){var f=a.get(b),e=this.Rk(f);e!=d&&(this.Ai.add(f),d=e)}};d.prototype.TT=function(){var a=this.fk.length,d=new e.ha(0);d.zb(2*a);this.JJ(d);this.Ai.zb(2*a);this.Ai.resize(0);this.IJ(d);this.ek.Ne(a);this.tj.ao(2*a);var b=e.Tc.wh(a);b.$h(-1,0,a);this.Jf=this.Lv();for(a=0;a<d.size;a++){var f=d.get(a),c=b.get(f>>1);-1!=c?this.AK(c,this.tj.addElement(this.kA(c),f)):(c=
this.rH(f,this.Jf),b.set(f>>1,c))}};d.prototype.rH=function(a,d){var b=d,f=d,h,c=-1,k=0,p=this.Ai.size-1,g=0,l=a>>1,m=NaN,n=NaN;h=!0;for(var u=this.XS(l),l=this.US(l);h;){k<p?(g=k+e.J.truncate((p-k)/2),-1==this.Sz(b)&&this.jK(b,this.Ai.get(g),this.Ai.get(g+1))):-1==this.Sz(b)&&this.jK(b,this.Ai.get(k),this.Ai.get(k));var t=this.Hq(b);if(l<t)-1!=d&&(d==b?(f=b,m=t,d=this.Uj(b),-1!=d?n=this.Hq(d):n=NaN):n>t&&(t<m?this.tl(f,b):this.vl(f,b),this.vl(b,d),this.og&&(this.rk(b,f),this.rk(d,b)),f=b,m=t,d=-1,
n=NaN)),p=this.RS(b),-1==p&&(p=this.Lv(),this.CX(b,p)),b=p,p=g;else if(u>t)-1!=d&&(d==b?(f=b,m=t,d=this.Pk(b),-1!=d?n=this.Hq(d):n=NaN):n<t&&(t<m?this.tl(f,b):this.vl(f,b),this.tl(b,d),this.og&&(this.rk(b,f),this.rk(d,b)),f=b,m=t,d=-1,n=NaN)),k=this.nT(b),-1==k&&(k=this.Lv(),this.NX(b,k)),b=k,k=g+1;else{h=this.Qk(b);-1==h&&(h=this.TQ(b),this.DK(b,h));var w=this.BO(h,a),c=this.RQ();this.QX(c,h);this.BX(c,w);b!=d&&(t<m?this.tl(f,b):this.vl(f,b),this.og&&this.rk(b,f),-1!=d&&(n<t?this.tl(b,d):this.vl(b,
d),this.og&&this.rk(d,b)));h=!1}}return c};d.prototype.Lv=function(){return this.Ge.Me()};d.prototype.TQ=function(a){return this.og?this.ug.Is(a):this.tj.ni(a)};d.prototype.RQ=function(){return this.ek.Me()};d.prototype.sl=function(a){a?(this.Ew=this.UA=!0,this.ar=!1,null==this.Ai?this.Ai=e.Tc.wh(0):this.Ai.resize(0),null==this.fk?this.fk=[]:this.fk.length=0):this.UA=!1;this.og?null==this.Dn?(this.Dn=e.Tc.wh(0),this.ug=new e.xk,this.ug.Lp(new c(this))):this.ug.clear():null==this.tj?this.tj=new e.cq:
this.tj.clear();null==this.Ge?(this.ek=new e.Zc(3),this.Ge=new e.Zc(this.og?8:7)):(this.ek.Wi(!1),this.Ge.Wi(!1));this.Jf=-1;this.Mw=0};d.prototype.jK=function(a,d,b){this.wX(a,d);this.xX(a,b)};d.prototype.Hq=function(a){var d=this.Sz(a);if(-1==d)return NaN;d=this.Rk(d);a=this.Rk(this.yS(a));return d==a?d:.5*(d+a)};d.prototype.wX=function(a,d){this.Ge.R(a,0,d)};d.prototype.xX=function(a,d){this.Ge.R(a,1,d)};d.prototype.CX=function(a,d){this.Ge.R(a,3,d)};d.prototype.NX=function(a,d){this.Ge.R(a,4,
d)};d.prototype.DK=function(a,d){this.Ge.R(a,2,d)};d.prototype.tl=function(a,d){this.Ge.R(a,5,d)};d.prototype.vl=function(a,d){this.Ge.R(a,6,d)};d.prototype.rk=function(a,d){this.Ge.R(a,7,d)};d.prototype.QX=function(a,d){this.ek.R(a,0,d)};d.prototype.BO=function(a,d){return this.og?this.ug.addElement(d,a):this.tj.addElement(a,d)};d.prototype.BX=function(a,d){this.ek.R(a,1,d)};d.prototype.AK=function(a,d){this.ek.R(a,2,d)};d.prototype.Tl=function(a){return this.og?this.ug.wc(a):this.tj.wc(a)};d.prototype.Xs=
function(a){return this.og?this.ug.Ec(a):this.tj.Ec(a)};d.Vq=function(a){return 0==(a&1)};d.tw=function(a){return 1==(a&1)};d.prototype.Sz=function(a){return this.Ge.S(a,0)};d.prototype.yS=function(a){return this.Ge.S(a,1)};d.prototype.Qk=function(a){return this.Ge.S(a,2)};d.prototype.RS=function(a){return this.Ge.S(a,3)};d.prototype.nT=function(a){return this.Ge.S(a,4)};d.prototype.Uj=function(a){return this.Ge.S(a,5)};d.prototype.Pk=function(a){return this.Ge.S(a,6)};d.prototype.XG=function(a){return this.Ge.S(a,
7)};d.prototype.kA=function(a){return this.ek.S(a,0)};d.prototype.QS=function(a){return this.ek.S(a,1)};d.prototype.mT=function(a){return this.ek.S(a,2)};d.prototype.XS=function(a){return this.fk[a].ga};d.prototype.US=function(a){return this.fk[a].la};d.prototype.fY=function(a,d){null==this.un&&(this.un=new e.Ju);var b=new p(this);this.un.sort(a,0,d,b)};d.prototype.eY=function(a,b,f){var e=this;a.Fd(b,f,function(a,b){var f=e.Rk(a),h=e.Rk(b);return f<h||f==h&&d.Vq(a)&&d.tw(b)?-1:1})};d.prototype.Rk=
function(a){var b=this.fk[a>>1];return d.Vq(a)?b.ga:b.la};return d}();e.ms=d})(u||(u={}));(function(e){var c=function(){function c(b){if(null==b)throw e.g.X("Invalid arguement");this.He=b;var a=b.FS();a.DT()?b.he.IH()?this.fp=e.Qi.PannableFold:this.fp=e.Qi.Clip:this.fp=e.Qi.DontClip;a.ET()?b.Ee.IH()?this.Jn=e.Qi.PannableFold:this.Jn=e.Qi.Clip:this.Jn=e.Qi.DontClip;this.vn=a.Cv;this.lI=a.sz;b=this.He.rI;this.$H=b.gt(2147483648);this.Gw=b.gt(1073741824)}c.Vg=function(b,a,d){return a.xr.Vg(b,d)};c.fs=
function(b,a,d,f){return b.xr.fs(a,d,f)};c.Fu=function(b,a,d,f){d=0>d?a.length:d;b=b.xr.fs(a,d,f);if(b==d)return b;for(var e=a=0;e<d;e++){var c=f[e];c.isNaN()||(a<e&&f[a].L(c),a++)}for(;a<d;a++)f[a].Yc();return b};c.OC=function(b,a,d,f){return b.xr.OC(a,d,f)};c.XK=function(b,a,d,f){d=0>d?a.length:d;b=b.xr.OC(a,d,f);if(b==d)return b;for(var e=a=0;e<d;e++){var c=f[e];isNaN(c.x)||(a<e&&f[a].I(c.x,c.y,c.z),a++)}for(;a<d;a++)f[a].iv();return b};c.transform=function(b,a,d,f,h){if(b.No())return e.na.HQ(f,
a,d),d;for(var k=[],q=0,r=0;r<d;){for(var v=Math.min(k.length,d-r),g=r,p=0;g<v;g++,p++)null==k[p]?k[p]=a[g].w():a[g].w(k[p]);var l;l=h?c.Fu(b,k,v,k):c.fs(b,k,v,k);for(p=g=0;g<l;g++,p++)null==f[r]&&(f[r]=new e.Wa(a[r])),f[r].rb(k[p]);r+=v;q+=l}return q};c.YK=function(b,a,d){if(0==d)return[];var f=new e.Dd;f.LO(a,2*d);a=this.Vg(f,b,null);b=a.Qa(0);a=2*a.D();d=e.J.df(a);b.rl(0,a,d,0,!0);return d};c.prototype.fs=function(b,a,d){if(this.He.No())return b!=d&&e.na.Jv(d,b,a),a;var f=this.He.he,h=this.He.Ee,
c=f.Fb(),q=h.Fb();if(0==c&&c===q){var r=f.Zi(),h=h.Zi(),h=r/h,r=new e.Gd;r.Vp(h,h);r.DY(b,a,d);return a}r=e.J.vv(Math.min(a,64));if(3==c){var v;v=f.jj;f=v.Ik();c=f.Fb();d!=b&&e.na.Jv(d,b,a);e.Ib.Il(v,d,a,!0);v.Fu(e.Um.forward,d,a);e.Ib.Hl(v,d,a,!0)}if(3==c||3===q)throw e.g.X("image: transform_in_place_");if(2==c)this.fp==e.Qi.Clip?(d!=b&&e.na.Jv(d,b,a),b=f.Ok(),e.Ib.lU(b,f,d,a)):(d!=b&&e.na.Jv(d,b,a),f.Ic()&&(c=f.pe(0),v=f.oe(),e.Ib.cY(d,a,v,c),e.Ib.uG(d,a,f,0))),e.Ib.$M(f,d,a,r);else for(c=f.pe(0),
v=f.oe(),f=0;f<a;f++)e.Ib.dY(b[f],v,c,d[f]);e.Ib.YM(this.He,d,a,r);b=0;(q=2==q)?b=h.ri():isNaN(this.vn)||(b=this.vn);q&&this.Jn!=e.Qi.Clip||e.Ib.uG(d,a,h.lc(),b);q&&(e.Ib.zH(d,a,h,this.Jn),e.Ib.ZM(h,d,a,r));b=a;for(f=0;f<a;++f)d[f].isNaN()&&b--;return b};c.prototype.OC=function(b,a,d){a=0>a?b.length:a;if(this.He.No()){for(var f=0;f<a;++f)null==d[f]&&(d[f]=new e.od),d[f].I(b[f].x,b[f].y,b[f].z);return a}var h=this.He.he,f=this.He.Ee,c=h.Fb(),q=f.Fb();if(0==c&&c==q)return h=h.Zi(),f=f.Zi(),f=h/f,h=
new e.DN,h.Vp(f,f,f),h.transform(b,a,d),a;c=new e.Dd;c.Rd(1);c.Rd(3);c.KO(b);b=c.Qa(3);f=0;for(h=a;f<h;f++)b.write(f,f);c=this.Vg(c,null);for(f=0;f<a;++f)null==d[f]?d[f]=e.od.pa(NaN,NaN,NaN):d[f].iv();if(null==c)return 0;b=c.Qa(3);var q=c.Qa(0),r=c.Qa(1);c.KW(d,a);f=0;for(h=c.D();f<h;f++)a=b.read(f),q.TW(2*f,d[a]),d[a].z=r.read(f);return c.D()};c.prototype.Vg=function(b,a){if(this.He.No()||b.u())return b;if(33==b.G())return this.DJ(b);var d=this.He.he,f=this.He.Ee,h=d.Fb(),c=f.Fb();if(0==h&&h==c)return d=
d.Zi(),f=f.Zi(),d/=f,f=new e.Gd,f.Vp(d,d),d=e.T.me(b),d.Vc(f),d;switch(b.G()){case 1607:case 1736:f=this.BJ(b,a);break;case 550:f=this.zW(b,a);break;case 197:f=this.yW(b,a);break;default:throw e.g.X("");}return f};c.prototype.DJ=function(b){var a=b.w(),d=[];d[0]=a;this.fs(d,1,d);b=new e.Wa(b);b.rb(d[0]);return b};c.prototype.BJ=function(b,a){if(b.on())throw e.g.X("curves not supported");var d=b.G();if(1736==d)return this.AW(b,a);if(1607==d)return this.BW(b,a);throw e.g.X("projectMultiPath");};c.prototype.AW=
function(b,a){var d=this.He.he,f=this.He.Ee,h=d.Fb(),k=f.Fb(),q=e.J.vv(Math.min(b.D(),64));b=e.Ja.me(b);if(3==h){var r=d.jj,d=r.Ik(),h=d.Fb();b=r.Il(b,!0);this.qq(r,e.Um.forward,b);b=r.Hl(b,!0)}r=null;3==k&&(r=f.jj,f=r.Ik(),k=f.Fb());var v=2==h,g=2==k,p=g?f.lc():f,l=!g&&!this.Gw,k=!1,m=b;if(v){if(m=e.Ib.AJ(m,d,this.fp,a),m.u())return m}else{b=new e.h;m.ac(b);h=d.oe();if(b.A<h.A||b.B>h.B){var n=e.h.pa(b.o-1,h.A,b.v+1,h.B),m=e.th.rq(m,n,d,NaN,0,a);if(m.u())return m}b.O()>2*h.O()&&(m=e.Ib.Aq(m,-2*h.O(),
2*h.O(),d,!0,0,!0,a))}b=this.lI;(h=!isNaN(b))&&(m=e.Pm.local().V(m,b,a));var n=g?f.Wj():null,u=NaN;v&&(u=d.ri());var t=null!=f.Us();if(this.$H)v&&(e.Ib.qs(d,u,m,q),h&&(v=d.Dh(),u=d.lc().Dh(),b*=u/v)),e.Ib.ps(this.He,m,l,q),h&&(v=d.lc().Dh(),u=f.lc().Dh(),b*=u/v),d=m;else{var w=new e.Ua(m.description);w.WE(m);v&&(e.Ib.qs(d,u,w,q),h&&(v=d.Dh(),u=d.lc().Dh(),b*=u/v));e.Ib.ps(this.He,w,l,q);h&&(v=d.lc().hn(),u=f.lc().hn(),b*=u/v);l=NaN;g?(n=f.Wj(),l=f.ri()):isNaN(this.vn)||(l=this.vn);v=c.ye(d)|c.ye(f);
u=10*p.pe(0);this.Gw&&(v=3,u=0);d=e.Ib.kS(m,d,w,p,l,a,v,u)}t&&(d=e.Ib.lF(d,f,a));g&&(k||(g=p.oe().O(),d.hg(0,0).O()>=g-p.pe(0)&&(p=n.getNorthPoleLocation(),g=n.getSouthPoleLocation(),m=n.getNorthPoleGeometry(),n=n.getSouthPoleGeometry(),l=0,m==e.Ag.PE_POLE_POINT&&p!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(l=1),n==e.Ag.PE_POLE_POINT&&g!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(l|=2),0!==l&&(k=!0))),d=e.Ib.wA(d,f,this.Jn,a),h&&(d=e.Pm.local().V(d,b,a)),e.Ib.ry(f,d,q));if(d.u())return d;k&&(d=e.Qm.local().V(d,f,!1,a));
null!=r&&(d=r.Hl(d,!1),this.qq(r,e.Um.reverse,d),d=r.Il(d,!1));return d};c.ye=function(b){if(2!=b.Fb())return 0;var a=0,d=b.Wj();b=d.getNorthPoleLocation();var f=d.getSouthPoleLocation(),h=d.getNorthPoleGeometry(),d=d.getSouthPoleGeometry();h==e.Ag.PE_POLE_POINT&&b!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);d==e.Ag.PE_POLE_POINT&&f!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};c.prototype.BW=function(b,a){var d=this.He.he,f=this.He.Ee,h=d.Fb(),k=f.Fb(),q=e.J.vv(Math.min(b.D(),64));b=e.Ua.me(b);if(3==
h){var r=d.jj,d=r.Ik(),h=d.Fb();b=r.Il(b,!0);this.qq(r,e.Um.forward,b);b=r.Hl(b,!0)}r=null;3==k&&(r=f.jj,f=r.Ik(),k=f.Fb());var v=2==h,h=(k=2==k)?f.lc():f,g=!k&&!this.Gw;if(v){if(b=e.Ib.AJ(b,d,this.fp,a),b.u())return b}else{var p=new e.h;b.ac(p);var l=d.oe();if(p.A<l.A||p.B>l.B)if(p=e.h.pa(p.o-1,l.A,p.v+1,l.B),b=e.th.rq(b,p,d,NaN,0,a),b.u())return b}var m=NaN;v&&(m=d.ri());var p=null!=f.Us(),l=this.lI,n=!isNaN(l);n&&(b=e.Pm.local().V(b,l,a));if(this.$H)v&&e.Ib.qs(d,m,b,q),n&&(v=d.Dh(),m=d.lc().Dh(),
l*=m/v),e.Ib.ps(this.He,b,g,q),n&&(v=d.lc().Dh(),m=f.lc().Dh(),l*=m/v),d=b;else{var u=new e.Ua(b.description);u.WE(b);v&&(e.Ib.qs(d,m,u,q),n&&(v=d.Dh(),m=d.lc().Dh(),l*=m/v));e.Ib.ps(this.He,u,g,q);n&&(v=d.lc().Dh(),m=f.lc().Dh(),l*=m/v);g=NaN;k?g=f.ri():isNaN(this.vn)||(g=this.vn);v=c.ye(d)|c.ye(f);m=10*h.pe(0);this.Gw&&(v=3,m=0);d=e.Ib.lS(b,d,u,h,g,a,v,m)}p&&(d=e.Ib.lF(d,f,a));k&&(d=e.Ib.wA(d,f,this.Jn,a),n&&(d=e.Pm.local().V(d,l,a)),e.Ib.ry(f,d,q));if(d.u())return d;null!=r&&(d=r.Hl(d,!1),this.qq(r,
e.Um.reverse,d),d=r.Il(d,!1));return d};c.prototype.yW=function(b,a){var d=(b.ea()+b.O())/400;if(0!=d){var f=e.Pm.local().V(b,d,a),f=this.BJ(f,a),d=b.Ka();f.Wn(d)}else d=new e.Wa(b.Bq()),f=this.DJ(d),d=b.Ka(),f.u()?d.Oa():(b.copyTo(d),f=f.w(),d.I(f.x,f.y,f.x,f.y));return d};c.prototype.zW=function(b,a){b=e.T.me(b);var d=this.He.he,f=this.He.Ee,h=d.Fb(),c=f.Fb(),q=e.J.vv(Math.min(b.D(),64));if(3==h){var r=d.jj,d=r.Ik(),h=d.Fb();b=r.Hl(b,!0);this.qq(r,e.Um.forward,b);b=r.Il(b,!0)}if(2==h){this.fp==
e.Qi.Clip?b=e.wk.local().V(b,d.Ok(),d,a):d.Ic()&&(h=new e.h,b.ac(h),d.oe().contains(h)||(this.fp==e.Qi.PannableFold&&(b=e.Ib.Qj(b,d)),e.Ib.zu(b,d.oe(),d.pe(0),!0),b=e.Ib.cn(b,d,0,!0,0,a)));if(b.u())return b;e.Ib.qs(d,0,b,q)}else e.Ib.zu(b,d.oe(),d.pe(0),!0);e.Ib.ps(this.He,b,!1,q);d=0;h=!1;r=null;3==c&&(h=!0,r=f.jj,f=r.Ik(),c=f.Fb());(c=2==c)?d=f.ri():isNaN(this.vn)||(d=this.vn);c&&this.Jn!=e.Qi.Clip||(b=e.Ib.cn(b,f.lc(),d,!1,0,a));if(c&&(b=e.Ib.wA(b,f,this.Jn,a),e.Ib.ry(f,b,q),b.u()))return b;h&&
(b=r.Hl(b,!0),this.qq(r,e.Um.reverse,b),b=r.Il(b,!0));return b};c.prototype.qq=function(b,a,d){var f=d.D();if(0!=f){for(var h=d.Qa(0),c=e.J.df(200,0),q=[],r=0;r<f;){var v=Math.min(100,f-r);h.rl(2*r,2*v,c,2,!0);for(var g=0;g<v;++g)q[g]=e.b.pa(c[2*r],c[2*r+1]);b.Fu(a,q,v);r+=v}d.Cc(1993)}};c.Fj=function(b,a,d){if(null==b||null==a||!a.Ic())throw e.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new e.Ja(b.description),f.hd(b,!1)):e.T.Nc(f)?(f=new e.Ua(b.description),f.cc(b,!0)):f=
b;f=e.Ib.Qj(f,a);return f.u()?f:e.Ib.cn(f,a,0,f!=b,0,d)};c.Rj=function(b,a,d,f){if(null==b||null==a||!a.Ic())throw e.g.X("Invalid Arguement");if(b.u())return b;var h=b.G();if(e.T.Hc(h)){b=e.Ib.Qj(b,a);h=new e.h;b.s(h);for(var k=e.na.Xy(a,h,!1),q=a.Ch(),r=Math.floor((h.o-q.o)/q.O())*q.O()+q.o;r<h.v;)r>h.o+k&&r<h.v-k&&(b=e.Ib.ST(b,a,d,r)),r+=q.O()}else{if(197==h)return h=new e.Ja(b.description),h.hd(b,!1),c.Rj(h,a,d,f);if(e.T.Nc(h))return h=new e.Ua(b.description),h.cc(b,!0),c.Rj(h,a,d,f)}return c.Fj(b,
a,f)};c.Lm=function(b,a,d,f){var h=a.Fb(),k=new e.kE;a.NW(k);if(0==h)return c.Ej(b,k,a,d);f==e.aq.foldAndClipWithHorizon&&a.Ic()&&(b=c.Fj(b,a,d));b=c.Ej(b,k,a,d);if(f==e.aq.clipToDomainOnly||b.u())return b;if(1==h)return f==e.aq.clipWithHorizon?(f=new e.h,b.ac(f),h=a.oe(),k=.01*h.O(),f.A=h.A,f.B=h.B,f.o-=k,f.v+=k,e.th.rq(b,f,a,NaN,0,d)):b;if(2==h)return h=a.Ok(),f==e.aq.clipWithHorizon||f==e.aq.foldAndClipWithHorizon?(a=e.wk.local().V(b,h,a,d),a==h?e.T.me(a):a):b;if(3==h)return b;throw e.g.X("missing implementation");
};c.Ej=function(b,a,d,f){var h=a.xT(),c=b.hasAttribute(1),q=b.hasAttribute(2),r=new e.yc;r.Oa();var v=new e.yc;v.Oa();c&&(r=a.zT());q&&(v=a.TS());a=e.th.rq(b,h,d,NaN,0,f);c&&(c=a.hg(1,0),r.contains(c)||(b==a&&(a=e.T.me(a)),e.na.IK(a,r,1)));q&&(c=a.hg(2,0),v.contains(c)||(b==a&&(a=e.T.me(a)),e.na.IK(a,v,2)));return a};return c}();e.qo=c})(u||(u={}));(function(e){var c=function(c){function b(a,d,b,h){var f=c.call(this)||this;void 0===a?f.description=e.we.Hg():void 0===b?f.description=a:(f.description=
e.we.Hg(),f.zC(a,d),f.Am(b,h));return f}da(b,c);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,d=this.ra-this.oa;return Math.sqrt(a*a+d*d)};b.prototype.eh=function(a){var d=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(d*d+b*b)<=a};b.prototype.Mo=function(){return!1};b.prototype.Dg=function(){var a=new e.b;a.xc(this.Ac(),this.ec());return a};b.CQ=function(a,d){return new b(a.x,a.y,d.x,d.y)};b.prototype.Wn=function(a){a.Oa();a.Eg(this.description);var d=new e.h;
this.s(d);a.Np(d);for(var d=1,b=this.description.Ga;d<b;d++)for(var h=this.description.pd(d),c=e.ma.Xa(h);d<c;d++){var q=this.hg(h,0);a.setInterval(h,0,q)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Jp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.Zd(0,1,0));a.Nb(this.sa,this.oa,this.Zd(1,1,0))};b.prototype.Vc=function(a){if(a instanceof e.Gd){this.zc();var d=new e.b;d.x=this.ua;d.y=this.ra;a.ai(d,d);this.ua=d.x;this.ra=d.y;d.x=this.sa;d.y=this.oa;a.ai(d,
d);this.sa=d.x;this.oa=d.y}else this.zc(),d=new e.od,d.x=this.ua,d.y=this.ra,d.z=this.Zd(0,1,0),d=a.Yp(d),this.ua=d.x,this.ra=d.y,this.vo(0,1,0,d.z),d.x=this.sa,d.y=this.oa,d.z=this.Zd(1,1,0),d=a.Yp(d),this.sa=d.x,this.oa=d.y,this.vo(1,1,0,d.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.yy=function(a,d){return(this.sa-a-(this.ua-a))*(this.oa-d+(this.ra-d))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.PH=function(a){return a/this.Rb()};b.prototype.HG=function(a){return e.Ub.Xq(this.ua,
this.sa,a)};b.prototype.xS=function(a){return e.Ub.Xq(this.ra,this.oa,a)};b.prototype.Ml=function(a,d){var b=new e.Bg;this.yh(a,d,b);return b.get()};b.prototype.yh=function(a,d,b){if(null==b)throw e.g.F();b.Hs();b=b.get();b.Eg(this.description);var f=new e.b;this.hc(a,f);b.zC(f.x,f.y);this.hc(d,f);b.Am(f.x,f.y);for(var f=1,c=this.description.Ga;f<c;f++)for(var q=this.description.Qd(f),r=e.ma.Xa(q),v=0;v<r;v++){var g=this.Wc(a,q,v);b.Tx(q,v,g);g=this.Wc(d,q,v);b.Lx(q,v,g)}};b.prototype.Wc=function(a,
d,b){if(0==d)return 0==b?this.hc(a).x:this.hc(a).y;switch(e.ma.Zz(d)){case 0:return.5>a?this.bt(d,b):this.Ms(d,b);case 1:var f=this.bt(d,b);d=this.Ms(d,b);return e.Ub.Xq(f,d,a);case 2:throw e.g.X("not implemented");}throw e.g.za();};b.prototype.ne=function(a,d){var b=this.sa-this.ua,e=this.oa-this.ra,c=b*b+e*e;if(0==c)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*e)/c;d||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,d,b,e){if(a){a=this.oa-this.ra;if(0==a)return d==this.oa?-1:0;d=(d-this.ra)/
a;if(0>d||1<d)return 0;null!=b&&(b[0]=this.HG(d))}else{a=this.sa-this.ua;if(0==a)return d==this.sa?-1:0;d=(d-this.ua)/a;if(0>d||1<d)return 0;null!=b&&(b[0]=this.xS(d))}null!=e&&(e[0]=d);return 1};b.prototype.kf=function(a,d){var b=this.oa-this.ra;if(0==b)return a==this.oa?d:NaN;b=(a-this.ra)/b;a=this.HG(b);1==b&&(a=this.sa);return a};b.prototype.fv=function(a,d,b){return 0<=this.lq(a.x,a.y,d,b)};b.prototype.Ti=function(a,d,b){return 0<=this.lq(a,d,b,!0)};b.prototype.ot=function(a,d){return this.fv(a,
d,!1)};b.prototype.pJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,d=this.description.Er-2;a<d;a++){var b=this.ka[a];this.ka[a]=this.ka[a+d];this.ka[a+d]=b}}};b.prototype.jv=function(a,d){a=e.b.pa(a,d);a.sub(this.ec());d=new e.b;d.xc(this.Ac(),this.ec());var b=d.Vi(a);a=8.881784197001252E-16*(Math.abs(d.x*a.y)+Math.abs(d.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,d,b,h){var f=
this.ua,c=this.ra,r=a-f,v=d-c,r=Math.sqrt(r*r+v*v);if(r<=Math.max(b,6.661338147750939E-16*r))return h&&0==r?NaN:0;r=a-this.sa;v=d-this.oa;r=Math.sqrt(r*r+v*v);if(r<=Math.max(b,6.661338147750939E-16*r))return h&&0==r?NaN:1;r=this.sa-this.ua;v=this.oa-this.ra;h=Math.sqrt(r*r+v*v);if(0<h){var g=1/h,r=r*g,v=v*g,p=a-f,l=d-c,m=p*r+l*v,n=1.7763568394002505E-15*(Math.abs(p*r)+Math.abs(l*v)),u=r,r=-v,v=u,n=Math.max(b,n);if(m<-n||m>h+n)return NaN;if(Math.abs(p*r+l*v)<=Math.max(b,1.7763568394002505E-15*(Math.abs(p*
r)+Math.abs(l*v)))&&(r=e.J.tk(m*g,0,1),.5>=r?(v=this.ua+(this.sa-this.ua)*r,h=this.ra+(this.oa-this.ra)*r):(v=this.sa-(this.sa-this.ua)*(1-r),h=this.oa-(this.oa-this.ra)*(1-r)),e.b.wz(v,h,a,d)<=b)){if(.5>r){if(e.b.wz(v,h,f,c)<=b)return 0}else if(e.b.wz(v,h,this.sa,this.oa)<=b)return 1;return r}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.hO(a)};b.prototype.LE=function(a,d,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var c=new e.b;
c.x=a.sa-f;c.y=a.oa-b;return d.pi(c)>6.661338147750939E-16*d.CE(c)?(c.x=a.ua-f,c.y=a.ra-b,d.pi(c)<=6.661338147750939E-16*d.CE(c)):!0};b.prototype.KE=function(a){var d=new e.b;d.x=this.sa-this.ua;d.y=this.oa-this.ra;if(!this.LE(a,d,!1))return!1;d.Kr();return this.LE(a,d,!0)?!0:!1};b.dc=function(a,d){var b=a.jv(d.ua,d.ra),e=a.jv(d.sa,d.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=d.jv(a.ua,a.ra);e=d.jv(a.sa,a.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=a.Rb();e=d.Rb();return b>e?a.KE(d):d.KE(a)};b.tb=function(a,d,
b){var f=e.b.pa(NaN,NaN),c=a.sa-a.ua,q=a.oa-a.ra,r=d.sa-d.ua,v=d.oa-d.ra,g=r*q-c*v;if(0==g)return f;var p=8.881784197001252E-16*(Math.abs(r*q)+Math.abs(c*v)),l=d.ua-a.ua,m=d.ra-a.ra,n=r*m-l*v,u=n/g,t=Math.abs(g),r=(8.881784197001252E-16*(Math.abs(r*m)+Math.abs(l*v))*t+p*Math.abs(n))/(g*g)+2.220446049250313E-16*Math.abs(u);if(u<-r||u>1+r)return f;v=c*m-l*q;r=v/g;c=(8.881784197001252E-16*(Math.abs(c*m)+Math.abs(l*q))*t+p*Math.abs(v))/(g*g)+2.220446049250313E-16*Math.abs(r);if(r<-c||r>1+c)return f;u=
e.J.tk(u,0,1);c=e.J.tk(r,0,1);q=a.hc(u);g=d.hc(c);p=new e.b;p.xc(q,g);if(p.length()>b&&(p.add(q,g),p.scale(.5),u=a.ne(p,!1),c=d.ne(p,!1),a=a.hc(u),d=d.hc(c),a.sub(d),a.length()>b))return f;f.ja(u,c);return f};b.lO=function(a,d,f,e){var h=0;if(a.ua==d.ua&&a.ra==d.ra||a.ua==d.sa&&a.ra==d.oa)if(h++,!e)return 1;if(a.sa==d.ua&&a.oa==d.ra||a.sa==d.sa&&a.oa==d.oa){h++;if(2==h)return 2;if(!e)return 1}return d.Ti(a.ua,a.ra,f)||d.Ti(a.sa,a.oa,f)||a.Ti(d.ua,d.ra,f)||a.Ti(d.sa,d.oa,f)?1:e&&0!=h?0:0==b.dc(a,d)?
0:1};b.Cy=function(a,d,f,h,c,q){var k=0,v=a.lq(d.ua,d.ra,q,!1),g=a.lq(d.sa,d.oa,q,!1),p=d.lq(a.ua,a.ra,q,!1),l=d.lq(a.sa,a.oa,q,!1);isNaN(v)||(null!=h&&(h[k]=v),null!=c&&(c[k]=0),null!=f&&(f[k]=e.b.pa(d.ua,d.ra)),k++);isNaN(g)||(null!=h&&(h[k]=g),null!=c&&(c[k]=1),null!=f&&(f[k]=e.b.pa(d.sa,d.oa)),k++);2==k||isNaN(p)||0==v&&0==p||0==g&&1==p||(null!=h&&(h[k]=0),null!=c&&(c[k]=p),null!=f&&(f[k]=e.b.pa(a.ua,a.ra)),k++);2==k||isNaN(l)||1==v&&0==l||1==g&&1==l||(null!=h&&(h[k]=1),null!=c&&(c[k]=l),null!=
f&&(f[k]=e.b.pa(d.sa,d.oa)),k++);if(0<k)return 2==k&&null!=h&&h[0]>h[1]&&(a=h[0],h[0]=h[1],h[1]=a,null!=c&&(h=c[0],c[0]=c[1],c[1]=h),null!=f&&(c=e.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=c)),k;k=b.tb(a,d,q);if(isNaN(k.x))return 0;null!=f&&(f[0]=a.hc(k.x));null!=h&&(h[0]=k.x);null!=c&&(c[0]=k.y);return 1};b.prototype.hH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+
"]"};return b}(e.iE);e.Hb=c})(u||(u={}));(function(e){var c=function(){function e(){this.fm=[];this.Ca=-1}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){if(null!=this.fm&&0!=this.fm.length){this.Ca++;var b=this.fm[0];1>=this.fm.length?this.fm=[]:this.fm=this.fm.slice(1);return b}return this.fm=null};e.prototype.wY=function(b){this.fm.push(b)};e.prototype.Oe=function(){return!0};return e}();e.wM=c})(u||(u={}));(function(e){(function(e){e[e.enumFillRuleOddEven=0]="enumFillRuleOddEven";
e[e.enumFillRuleWinding=1]="enumFillRuleWinding"})(e.kN||(e.kN={}));var c=function(c){function b(a,d){var b=c.call(this)||this;b.Yf=!1;b.ur=null;b.hr=0;b.gr=0;b.cj=null;b.gh=!1;b.kb=null;b.jb=null;b.$e=null;b.uj=null;b.Vd=null;b.ir=0;b.Ta=0;b.mr=0;if(void 0===d)b.Yf=a,b.gh=!1,b.ir=0,b.hr=0,b.gr=0,b.qa=0,b.description=e.we.Hg();else{if(null==d)throw e.g.F();b.Yf=a;b.gh=!1;b.ir=0;b.hr=0;b.gr=0;b.qa=0;b.description=d}b.cj=null;b.Ta=0;return b}da(b,c);b.prototype.on=function(){return 0<this.ir};b.prototype.By=
function(){this.zc();null==this.ur?this.ur=new e.Wa(this.description):this.ur.Eg(this.description)};b.prototype.$x=function(a,d){var b=new e.b;b.x=a;b.y=d;this.Bu(b)};b.prototype.Bu=function(a){this.By();this.ur.rb(a);this.gh=!0};b.prototype.Of=function(a){if(a.u())throw e.g.F();this.tm(a.description);this.By();a.copyTo(this.ur);this.gh=!0};b.prototype.xy=function(){var a=1;this.gh&&(this.By(),null==this.kb?(this.kb=e.Tc.wh(2),this.kb.write(0,0),this.jb=e.Tc.vq(2,0)):(this.kb.resize(this.kb.size+
1,0),this.jb.resize(this.jb.size+1,0)),this.Yf&&this.jb.write(this.jb.size-2,1),a++);var d=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.El(d+a);this.jb.write(this.kb.size-1,0);this.gh&&(this.xu(d,this.ur),this.gh=!1)};b.prototype.ak=function(a,d){this.xy();this.rb(this.qa-1,a,d)};b.prototype.bj=function(a){this.xy();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.xy();this.xu(this.qa-1,a)};b.prototype.SV=function(a){this.zc();if(this.Yf)throw e.g.za();var d=this.aa();if(a>d)throw e.g.za();
if(this.Qb(a)){if(null==this.jb)throw e.g.za();var b=this.qa,h=this.wa(a),c=this.Fc(a);this.El(this.qa+1);this.vc();for(var q=0,r=this.description.Ga;q<r;q++)if(null!=this.ya[q]){var v=e.ma.Xa(this.description.Qd(q));this.ya[q].Tk(v*c,this.ya[q],v*h,v,!0,1,v*b)}for(;d>a;d--)b=this.kb.read(d),this.kb.write(d,b+1);this.jb.dz(a,1)}};b.prototype.sq=function(){var a;this.Eu();void 0===a&&(this.gh=!1,a=this.aa()-1);var d=this.jb.read(a);this.jb.write(a,d|1);null!=this.$e&&(a=this.Fc(a)-1,this.$e.write(a,
1),this.uj.write(a,-1))};b.tb=function(a){return b.N[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Ko=function(a){if(this.Qb(a))return!0;var d=this.wa(a);a=this.Fc(a)-1;if(d>a)return!1;d=this.Ba(d);a=this.Ba(a);return d.vb(a)};b.prototype.ht=function(a){return 0!=(this.jb.read(a)&2)};b.prototype.cc=function(a,d){this.tm(a.description);if(322==a.G()){var b=new e.Wa;if(d||this.u())a.Kp(b),this.Of(b);a.Ip(b);this.lineTo(b)}else throw e.g.za();};b.prototype.oq=function(a){var d=
0==this.qa;this.$x(a.o,a.A);this.ak(a.o,a.B);this.ak(a.v,a.B);this.ak(a.v,a.A);this.sq();this.gh=!1;d&&this.kg(256,!1)};b.prototype.hd=function(a,d){if(!a.u()){for(var b=0==this.qa,h=new e.Wa(this.description),c=0;4>c;c++)a.gg(d?4-c-1:c,h),0==c?this.Of(h):this.lineTo(h);this.sq();this.gh=!1;b&&!d&&this.kg(256,!1)}};b.prototype.add=function(a,d){for(var b=0;b<a.aa();b++)this.Ui(a,b,!d)};b.prototype.Ui=function(a,d,b){this.Vf(-1,a,d,b)};b.prototype.Gl=function(a,d){this.uA(a,d)};b.prototype.zs=function(a,
d,b,h,c){c||0!=this.aa()||(c=!0);0>d&&(d=a.aa()-1);if(d>=a.aa()||0>b||0>h||h>a.ew(d))throw e.g.X("index out of bounds");if(0!=h){var f=a.Qb(d)&&b+h==a.ew(d);if(!f||1!=h){this.gh=!1;this.tm(a.description);b=a.wa(d)+b+1;c&&(h++,b--);f&&h--;f=this.qa;this.El(this.qa+h);this.vc();if(c){if(0==h)return;this.kb.add(this.qa);c=a.jb.read(d);c&=-5;this.Yf&&(c|=1);this.jb.write(this.jb.size-1,c);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);c=0;for(var k=this.description.Ga;c<k;c++){var v=this.description.pd(c),
g=e.ma.Xa(v),p=a.description.lg(v);0>p||null==a.ya[p]?this.ya[c].Zj(g*f,e.ma.be(v),h*g,g*f):this.ya[c].Tk(g*f,a.ya[p],g*b,h*g,!0,g,g*f)}if(this.on())throw e.g.za();if(a.ht(d))throw e.g.za();this.Cc(1993)}}};b.prototype.TJ=function(){for(var a=0,d=this.aa();a<d;a++)this.fX(a)};b.prototype.fX=function(a){this.vc();if(a>=this.aa())throw e.g.F();var d=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var h=0,c=this.description.Ga;h<c;h++)if(null!=this.ya[h]){var q=e.ma.Xa(this.description.Qd(h));this.ya[h].Xd(q*
(d+a),q*(b-a),q)}this.Cc(1993)};b.prototype.Qr=function(a){this.vc();var d=this.aa();0>a&&(a=d-1);if(a>=d)throw e.g.F();for(var b=this.wa(a),h=this.La(a),c=0,q=this.description.Ga;c<q;c++)if(null!=this.ya[c]){var r=e.ma.Xa(this.description.Qd(c));this.ya[c].Hk(r*b,r*h,r*this.qa)}for(b=a+1;b<=d;b++)c=this.kb.read(b),this.kb.write(b-1,c-h);if(null==this.jb)for(b=a+1;b<=d;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(d);this.jb.resize(d);this.qa-=h;this.kh-=h;this.Cc(1993)};b.prototype.Vf=
function(a,d,b,h){if(d==this)throw e.g.F();if(b>=d.aa())throw e.g.F();var f=this.aa();if(a>f)throw e.g.F();0>a&&(a=f);0>b&&(b=d.aa()-1);this.gh=!1;this.tm(d.description);d.vc();var c=d.wa(b),r=d.La(b),v=this.qa,g=d.Qb(b)&&!h?1:0;this.El(this.qa+r);this.vc();for(var p=a<f?this.wa(a):v,l=0,m=this.description.Ga;l<m;l++){var n=this.description.Qd(l),u=d.description.lg(n),t=e.ma.Xa(n);0<=u&&null!=d.ya[u]?(0!=g&&this.ya[l].Tk(p*t,d.ya[u],t*c,t,!0,t,t*v),this.ya[l].Tk((p+g)*t,d.ya[u],t*(c+g),t*(r-g),h,
t,t*(v+g))):this.ya[l].Zj(p*t,e.ma.be(n),t*r,t*v)}this.kb.add(v+r);for(h=f;h>=a+1;h--)c=this.kb.read(h-1),this.kb.write(h,c+r);d.ht(b);this.jb.add(0);for(h=f-1;h>=a+1;h--)f=this.jb.read(h),f&=-5,this.jb.write(h+1,f);f=d.cT().read(b);f&=-5;this.Yf&&(f|=1);this.jb.write(a,f)};b.prototype.uA=function(a,d){var b=-1,h=this.aa();if(b>h)throw e.g.F();0>b&&(b=h);this.gh=!1;var c=this.qa;this.El(this.qa+d);this.vc();var q=b<h?this.wa(b):c;null!=a?this.ya[0].Sq(2*q,a,0,d,!0,2*c):(a=e.ma.be(0),this.ya[0].Zj(2*
q,a,2*d,2*c));for(var r=1,v=this.description.Ga;r<v;r++){a=this.description.pd(r);var g=e.ma.Xa(a);a=e.ma.be(a);this.ya[r].Zj(q*g,a,g*d,g*c)}this.kb.add(this.qa);for(c=h;c>=b+1;c--)q=this.kb.read(c-1),this.kb.write(c,q+d);this.jb.add(0);for(c=h-1;c>=b+1;c--)h=this.jb.read(c),h&=-5,this.jb.write(c+1,h);this.Yf&&this.jb.write(b,1)};b.prototype.sH=function(a,d,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>d.length)throw e.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),
this.Yf?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.vc();var c=this.qa;this.El(this.qa+b);this.vc();for(var q=0,r=this.description.Ga;q<r;q++){var v=this.description.Qd(q),g=e.ma.Xa(v);this.ya[q].no(g*(this.wa(a)+f+b),(c-this.wa(a)-f)*g,this.ya[q],g*(this.wa(a)+f),!0,g);0==q?this.ya[q].js(g*(this.wa(a)+f),b,d,0,!0):this.ya[q].$h(e.ma.be(v),(this.wa(a)+f)*g,b*g)}this.on()&&(this.$e.no(this.wa(a)+f+b,c-this.wa(a)-f,this.$e,this.wa(a)+f,!0,1),this.uj.no(this.wa(a)+f+b,c-this.wa(a)-f,this.uj,
this.wa(a)+f,!0,1),this.$e.$h(1,this.wa(a)+f,b),this.uj.$h(-1,this.wa(a)+f,b));a+=1;for(d=this.aa();a<=d;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Wf=function(a,d,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||d>this.La(a))throw e.g.X("index out of bounds");a==this.aa()&&(this.kb.add(this.qa),this.Yf?this.jb.add(1):this.jb.add(0));0>d&&(d=this.La(a));var c=this.qa;this.El(this.qa+1);this.vc();var q=this.wa(a);this.ya[0].dh(2*(q+d),b,2*c);b=1;for(var r=this.description.Ga;b<r;b++){var v=
this.description.Qd(b),g=e.ma.Xa(v);this.ya[b].Zj(g*(q+d),e.ma.be(v),g,g*c)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.fC=function(a,d){var b=this.aa();0>a&&(a=b-1);if(a>=b||d>=this.La(a))throw e.g.X("index out of bounds");this.vc();var h=this.wa(a);0>d&&(d=this.La(a)-1);h+=d;d=0;for(var c=this.description.Ga;d<c;d++)if(null!=this.ya[d]){var q=e.ma.Xa(this.description.Qd(d));this.ya[d].Hk(q*h,q,q*this.qa)}for(;b>=a+1;b--)h=this.kb.read(b),this.kb.write(b,h-1);this.qa--;this.kh--;
this.Cc(1993)};b.prototype.FF=function(a,d,b,h){a=this.wa(a)+d;b=this.wa(b)+h;if(b<a||0>a||b>this.D()-1)throw e.g.F();h=this.Fa();d=0;h.Tb(a);do{for(;h.Ea();){a=h.ba();if(h.Db()==b)break;a=a.Rb();d+=a}if(h.Db()==b)break}while(h.Ya());return d};b.prototype.CP=function(a,d,b){d=this.wa(a)+d;b=this.wa(a)+b;if(0>d||b>this.D()-1)throw e.g.F();var f=this.Fa();if(d>b){if(!this.Qb(a))throw e.g.F("cannot iterate across an open path");f.mC()}var c=a=0;f.Tb(d);do c+=a,a=f.ba().Rb();while(f.Db()!=b);return c};
b.prototype.Fg=function(){return e.Pi.Xm(this,null)};b.prototype.hU=function(a,d,b,c){for(var f=a;f<b-1;f++)if(this.Qb(f))throw e.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var h=this.FF(a,d,b,c);if(0!=h)for(var r=1;r<f;r++){var v=this.description.pd(r);if(2!=e.ma.Zz(v))for(var g=e.ma.Xa(v),p=0;p<g;p++)this.jU(v,a,d,b,c,h,p)}}};b.prototype.gU=function(a,d,b){var f=this.description.Ga;if(1!=f){var c=this.CP(a,d,b);if(0!=c)for(var q=1;q<f;q++){var r=this.description.pd(q);
if(2!=e.ma.Zz(r))for(var v=e.ma.Xa(r),g=0;g<v;g++)this.iU(r,a,d,b,c,g)}}};b.prototype.jU=function(a,d,b,c,k,q,r){var f=this.Fa();d=this.wa(d)+b;c=this.wa(c)+k;k=this.Wc(a,d,r);b=this.Wc(a,c,r);var h=k,g=0;f.Tb(d);do if(f.Ea()){f.ba();if(f.Db()==c)break;this.setAttribute(a,f.Db(),r,h);f.Mi();do{d=f.ba();if(f.Lk()==c)return;d=d.Rb();g+=d;h=e.Ub.Xq(k,b,g/q);f.Lo()||this.setAttribute(a,f.Lk(),r,h)}while(f.Ea())}while(f.Ya())};b.prototype.iU=function(a,d,b,c,k,q){var f=this.Fa(),h=this.wa(d)+b;d=this.wa(d)+
c;if(d!=h){c=this.Wc(a,h,q);b=this.Wc(a,d,q);var g=0;f.Tb(h);f.mC();h=c;do{var p=f.ba();this.setAttribute(a,f.Db(),q,h);h=p.Rb();g+=h;h=e.Ub.Xq(c,b,g/k)}while(f.Lk()!=d)}};b.prototype.Oa=function(){this.ir=0;this.gh=!1;this.Vd=this.$e=this.uj=this.jb=this.kb=null;this.PE()};b.prototype.Vc=function(a){a instanceof e.Gd?this.mF(a,-1):this.VO(a)};b.prototype.mF=function(a,d){if(!this.u()&&!a.No()){this.vc();var b=this.ya[0],c=new e.b,k=new e.b,q,r,v;for(0>d?(q=this.on(),r=0,v=this.qa):(q=this.ht(d),
r=this.wa(d),v=this.Fc(d));r<v;r++){c.x=b.read(2*r);c.y=b.read(2*r+1);if(q&&(d=this.uj.read(r),0<=d))switch(this.$e.read(r)&7){case 2:k.x=this.Vd.read(d);k.y=this.Vd.read(d+1);a.ai(k,k);this.Vd.write(d,k.x);this.Vd.write(d+1,k.y);k.x=this.Vd.read(d+3);k.y=this.Vd.read(d+4);a.ai(k,k);this.Vd.write(d+3,k.x);this.Vd.write(d+4,k.y);break;case 4:throw e.g.za();}a.ai(c,c);b.write(2*r,c.x);b.write(2*r+1,c.y)}this.Cc(1993)}};b.prototype.VO=function(a){if(!this.u()){this.Rd(1);this.vc();for(var d=this.ya[0],
b=this.ya[1],c=new e.od,k=new e.od,q=this.on(),r=0;r<this.qa;r++){c.x=d.read(2*r);c.y=d.read(2*r+1);c.z=b.read(r);if(q){var v=this.uj.read(r);if(0<=v)switch(this.$e.read(r)&7){case 2:k.x=this.Vd.read(v);k.y=this.Vd.read(v+1);k.z=this.Vd.read(v+2);k=a.Yp(k);this.Vd.write(v,k.x);this.Vd.write(v+1,k.y);this.Vd.write(v+1,k.z);k.x=this.Vd.read(v+3);k.y=this.Vd.read(v+4);k.z=this.Vd.read(v+5);k=a.Yp(k);this.Vd.write(v+3,k.x);this.Vd.write(v+4,k.y);this.Vd.write(v+5,k.z);break;case 4:throw e.g.za();}}c=
a.Yp(c);d.write(2*r,c.x);d.write(2*r+1,c.y);b.write(r,c.z)}this.Cc(1993)}};b.prototype.My=function(){null==this.kb&&(this.kb=e.Tc.wh(1,0),this.jb=e.Tc.vq(1,0));null!=this.$e&&(this.$e.resize(this.kh,1),this.uj.resize(this.kh,-1))};b.prototype.iq=function(a){a.gh=!1;a.ir=this.ir;a.mr=this.mr;null!=this.kb?a.kb=e.ha.Dk(this.kb):a.kb=null;null!=this.jb?a.jb=e.Km.Dk(this.jb):a.jb=null;null!=this.uj?a.uj=e.ha.Dk(this.uj):a.uj=null;null!=this.$e?a.$e=e.Km.Dk(this.$e):a.$e=null;null!=this.Vd?a.Vd=e.Pd.Dk(this.Vd):
a.Vd=null;a.hr=this.hr;a.gr=this.gr;this.Ak(1024)?a.cj=null:a.cj=this.cj};b.prototype.Rb=function(){if(!this.Ak(512))return this.hr;for(var a=this.Fa(),d=new e.ny(0);a.Ya();)for(;a.Ea();)d.add(a.ba().Rb());this.hr=d.ln();this.kg(512,!1);return d.ln()};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&c.prototype.Eb.call(this,a)))return!1;var d=this.aa();return d!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,d+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,d)?!1:c.prototype.Eb.call(this,
a)};b.prototype.Fa=function(){return new e.xN(this)};b.prototype.Ly=function(a){c.prototype.Ly.call(this,a);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.Bo=function(a,d){c.prototype.Bo.call(this,a,d);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.Ey=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.ef=function(){if(!this.Yf)return 0;this.lv();return this.gr};b.prototype.rw=function(a){if(!this.Yf)return!1;
if(!this.Ak(8))return 0!=(this.jb.read(a)&4);this.lv();return 0<this.cj.read(a)};b.prototype.Ym=function(a){if(!this.Yf)return 0;this.lv();return this.cj.read(a)};b.prototype.lv=function(){if(this.Ak(1024)){var a=this.aa();null==this.cj?this.cj=new e.Pd(a):this.cj.size!=a&&this.cj.resize(a);for(var a=new e.ny(0),d=new e.ny(0),b=new e.b,c=0,k=this.Fa();k.Ya();){d.reset();for(this.w(this.wa(k.Ta),b);k.Ea();)d.add(k.ba().yy(b.x,b.y));a.add(d.ln());var q=c++;this.cj.write(q,d.ln())}this.gr=a.ln();this.kg(1024,
!1)}};b.prototype.ZS=function(){if(this.Yf){this.Fl();for(var a=0,d=this.aa(),b=0;b<d;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Fl=function(){if(this.Ak(8)){this.lv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=e.Tc.vq(a+1);for(var d=1,b=0;b<a;b++){var c=this.cj.read(b);0==b&&(d=0<c?1:-1);0<c*d?this.jb.lC(b,4):this.jb.dz(b,4)}this.kg(8,!1)}};b.prototype.cw=function(a){var d=this.Ta,b=this.aa();if(0<=d&&d<b){if(a<this.Fc(d)){if(a>=this.wa(d))return d;d--}else d++;if(0<=d&&d<b&&a>=
this.wa(d)&&a<this.Fc(d))return this.Ta=d}if(5>b){for(d=0;d<b;d++)if(a<this.Fc(d))return this.Ta=d;throw e.g.X("corrupted geometry");}d=0;for(--b;b>d;){var c=d+(b-d>>1),k=this.wa(c);if(a<k)b=c-1;else if(d=this.Fc(c),a>=d)d=c+1;else return this.Ta=c}return this.Ta=d};b.prototype.NS=function(a){var d=this.Qa(0);this.dT();var b=this.Fc(a),c=this.wa(a);a=-1;var k=new e.b,q=new e.b;k.y=-Infinity;k.x=-Infinity;for(c+=0;c<b;c++)d.fc(2*c,q),-1==k.compare(q)&&(a=c,k.L(q));return a};b.prototype.lA=function(){var a=
this.D();if(!this.Yf)for(var a=a-this.aa(),d=0,b=this.aa();d<b;d++)this.Qb(d)&&a++;return a};b.prototype.ew=function(a){var d=this.La(a);this.Qb(a)||d--;return d};b.prototype.Ka=function(){return new b(this.Yf,this.description)};b.prototype.ub=function(){return this.Yf?2:1};b.prototype.G=function(){return this.Yf?1736:1607};b.prototype.dT=function(){this.Eu()};b.prototype.vK=function(a){this.kb=a;this.Cc(16777215)};b.prototype.oT=function(){this.Eu();return this.$e};b.prototype.cT=function(){this.Eu();
return this.jb};b.prototype.uK=function(a){this.jb=a;this.Cc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Fc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};b.prototype.bv=function(a,d){null==this.ob&&(this.ob=new e.yl);d=e.ty.PW(d);var b=this.ob.Ii;if(null!=b)if(b.ll<a||d>b.kT())this.ob.Iy(null);else return!0;b=e.ty.create(this,a,d);this.ob.Iy(b);
return!0};b.prototype.kc=function(){var a=c.prototype.kc.call(this);if(!this.Gc()){var d=this.aa();null!=this.kb&&this.kb.Ck(a,0,d+1);null!=this.jb&&this.jb.Ck(a,0,d)}return a};b.prototype.aH=function(a){return null!=this.$e?this.$e.read(a):1};b.prototype.jc=function(a,d,b){var f=this.cw(a);if(a==this.Fc(f)-1&&!this.Qb(f))throw e.g.X("index out of bounds");this.vc();var c=this.$e,q=1;null!=c&&(q=c.read(a)&7);switch(q){case 1:d.Hs();break;case 2:throw e.g.za();case 4:throw e.g.za();default:throw e.g.za();
}d=d.get();b?d.Eg(e.we.Hg()):d.Eg(this.description);f=a==this.Fc(f)-1&&this.Qb(f)?this.wa(f):a+1;c=new e.b;this.w(a,c);d.Lc(c);this.w(f,c);d.Xc(c);if(!b)for(b=1,c=this.description.Ga;b<c;b++)for(var q=this.description.Qd(b),r=e.ma.Xa(q),v=0;v<r;v++){var g=this.Wc(q,a,v);d.Tx(q,v,g);g=this.Wc(q,f,v);d.Lx(q,v,g)}};b.prototype.nk=function(a,d){if(a>=this.aa())throw e.g.F();if(this.u())d.Oa();else{if(this.ht(a))throw e.g.X("not implemented");var b=this.Qa(0),c=new e.b,k=new e.h;k.Oa();var q=this.wa(a);
for(a=this.Fc(a);q<a;q++)b.fc(2*q,c),k.Nb(c);d.I(k)}};b.prototype.MW=function(a,d){if(a>=this.aa())throw e.g.F();if(this.u())d.Oa();else{if(this.ht(a))throw e.g.X("not implemented");var b=this.Qa(0),c=new e.b,k=new e.h;k.Oa();var q=this.wa(a);for(a=this.Fc(a);q<a;q++)b.fc(2*q,c),k.Nb(c);d.I(k)}};b.prototype.Kj=function(a){null==this.ob&&(this.ob=new e.yl);if(0==a||16>this.D())return!1;a=e.na.BF(this);this.ob.QE(a);return!0};b.prototype.WN=function(){null==this.ob&&(this.ob=new e.yl);if(null!=this.ob.tp)return!0;
this.ob.RE(null);var a=e.na.xP(this);this.ob.RE(a);return!0};b.prototype.Op=function(a){this.mr=a};b.prototype.Eo=function(){return this.mr};b.prototype.WE=function(a){if(this==a)throw e.g.X("MultiPathImpl.add");for(var d=this.aa(),b=0;b<a.aa();b++)this.Ui(a,b,!0),this.SV(d),d++};b.prototype.KP=function(a){var d=this.cw(a),b=this.wa(d);if(b!=a){d=this.Fc(d);if(a>=d||a<b)throw e.g.X("change_ring_start_point");for(var c=0,k=this.description.Ga;c<k;c++){var q=this.description.pd(c),q=e.ma.Xa(q);this.ya[c].rotate(b*
q,a*q,d*q)}}};b.N=[0,0,6,0,8,0];return b}(e.Ou);e.Bl=c})(u||(u={}));(function(e){var c=function(c){function b(a){var d=c.call(this)||this;if(void 0!==a){if(null==a)throw e.g.F();d.description=a}else d.description=e.we.Hg();d.qa=0;return d}da(b,c);b.prototype.Ka=function(){return new b(this.description)};b.prototype.add=function(a){this.resize(this.qa+1);this.Zh(this.qa-1,a)};b.prototype.qv=function(a,d){this.resize(this.qa+1);var b=new e.b;b.ja(a,d);this.rb(this.qa-1,b)};b.prototype.Hd=function(a,
d,b){b=0>b?a.D():b;if(0>d||d>a.D()||b<d)throw e.g.F();if(d!=b){this.tm(a.description);b-=d;var f=this.qa;this.resize(this.qa+b);this.vc();for(var c=0,q=a.description.Ga;c<q;c++){var r=a.description.Qd(c),v=e.ma.Xa(r),g=this.Qa(r),r=a.Qa(r);g.Tk(f*v,r,d*v,b*v,!0,1,f*v)}}};b.prototype.$E=function(a,d){var b=a.length;d=0>d?b:d;if(0>b||0>d)throw e.g.F();if(0!=d){b=d-0;d=this.qa;this.resize(this.qa+b);for(var c=0;c<b;c++)this.rb(d+c,a[0+c])}};b.prototype.fC=function(a){if(0>a||a>=this.D())throw e.g.X("index out of bounds");
this.vc();for(var d=0,b=this.description.Ga;d<b;d++)if(null!=this.ya[d]){var c=e.ma.Xa(this.description.Qd(d));this.ya[d].Hk(c*a,c,c*this.qa)}this.qa--;this.kh--;this.Cc(1993)};b.prototype.resize=function(a){this.El(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){c.prototype.PE.call(this)};b.prototype.Vc=function(a){if(a instanceof e.Gd){if(!this.u()){this.vc();for(var d=this.ya[0],b=new e.b,c=0;c<this.qa;c++)b.x=d.read(2*c),b.y=d.read(2*c+1),a.ai(b,b),d.write(2*c,b.x),d.write(2*c+1,b.y);
this.Cc(1993)}}else if(!this.u()){this.vc();this.Rd(1);this.vc();for(var d=this.ya[0],b=this.ya[1],k=new e.od,c=0;c<this.qa;c++){k.x=d.read(2*c);k.y=d.read(2*c+1);k.z=b.read(c);var q=a.Yp(k);d.write(2*c,q.x);d.write(2*c+1,q.y);b.write(c,q.z)}this.Cc(1993)}};b.prototype.ub=function(){return 0};b.prototype.G=function(){return 550};b.prototype.ef=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?c.prototype.Eb.call(this,a):!1};b.prototype.KO=
function(a){var d=a.length,b=d;if(0>d||0>d||0>b)throw e.g.F();this.Rd(1);if(0!=b){d=b-0;b=this.qa;this.PJ(this.qa+d);for(var c=this.Qa(0),k=0;k<d;k++){var q=a[0+k].y;c.write(2*(b+k),a[0+k].x);c.write(2*(b+k)+1,q)}c=this.Qa(1);for(k=0;k<d;k++)c.write(b+k,a[0+k].z);this.Cc(1993)}};b.prototype.LO=function(a,d){var b=a.length;d=0>d?b:d;if(0>b||0>d)throw e.g.F();if(0!=d){b=d-0;if(0!=(b&1))throw e.g.F();d=this.qa;this.PJ(this.qa+b/2);this.ya[0].hs(2*d,b,a,0,!0)}};b.prototype.PJ=function(a){var d=this.qa;
this.El(a);if(this.qa>d){a=1;for(var b=this.description.Ga;a<b;a++){var c=this.description.pd(a),k=e.ma.Xa(c);this.ya[a].Zj(k*d,e.ma.be(c),k*(this.qa-d),k*d)}}};b.prototype.JW=function(a,d){var b=this.qa,b=Math.min(b,d+1E3);if(0>d||d>=this.qa||b<d||1E3!=a.length)throw e.g.F();var c=this.Qa(0),k=b-d,q=[];c.rl(2*d,2*k,q,0,!0);for(c=0;c<k;c++)a[c]=e.b.pa(q[2*c],q[2*c+1]);return b};b.prototype.KW=function(a,d){var b=this.qa,b=Math.min(b,0+d);if(0>=this.qa||0>b||a.length!=d)throw e.g.F();d=this.Qa(0);
var c=null,k=e.ma.be(1),q=this.hasAttribute(1);q&&(c=this.Qa(1));var b=b-0,r=[],v=[];d.rl(0,2*b,r,0,!0);c.rl(0,b,v,0,!0);for(d=0;d<b;d++)a[d]=new e.od(r[2*d],r[2*d+1],q?v[d]:k)};b.prototype.Ey=function(){};b.prototype.My=function(){};b.prototype.bv=function(){return!1};b.prototype.Kj=function(){return!1};b.prototype.Fg=function(){return null};return b}(e.Ou);e.Dd=c})(u||(u={}));(function(e){(function(e){e[e.NotDetermined=0]="NotDetermined";e[e.Structure=1]="Structure";e[e.DegenerateSegments=2]="DegenerateSegments";
e[e.Clustering=3]="Clustering";e[e.Cracking=4]="Cracking";e[e.CrossOver=5]="CrossOver";e[e.RingOrientation=6]="RingOrientation";e[e.RingOrder=7]="RingOrder";e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";e[e.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(e.BM||(e.BM={}));var c=function(){function e(b,a,d){void 0===b?(this.Ji=0,this.rm=this.qm=-1):(this.Ji=b,this.qm=a,this.rm=d)}e.prototype.ls=function(b){this.Ji=b.Ji;this.qm=
b.qm;this.rm=b.rm};return e}();e.Yd=c})(u||(u={}));(function(e){var c=function(){function c(){}c.XZ=function(b){if(!1===b)throw e.g.yL();};c.GK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};c.vv=function(b){var a;void 0===a&&(a=0);for(var d=[],f=0;f<b;f++)d[f]=c.df(2,a);return d};c.df=function(b,a){void 0===a&&(a=0);for(var d=[],f=0;f<b;f++)d[f]=a;return d};c.Ov=function(b,a){var d,f;void 0===d&&(d=0);for(void 0===f&&(f=b.length-1);d<=f;d++)b[d]=a};c.tk=function(b,a,d){return b<a?a:b>d?d:b};c.y_=
function(){return 4};c.bh=function(b,a){var d=5381;void 0!==a?d=(a<<5)+a+(b&255):d=(d<<5)+d+(b&255);d=(d<<5)+d+(b>>8&255);d=(d<<5)+d+(b>>16&255);return(d<<5)+d+(b>>24&255)&2147483647};c.$i=function(){throw Error("Not Implemented");};c.q_=function(){return-Infinity};c.v_=function(){return Infinity};c.e_=function(){return 2147483647};c.UZ=function(){return 2.220446049250313E-16};c.cZ=function(){return 1.7976931348623157E308};c.KB=function(b){return c.LN(b)+12345&2147483647};c.UH=function(b){var a=32,
d=b%c.qz|0,f=b/c.qz|0;if(0===(a&=63))return b;32>a?(b=d>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*c.qz+(b>>>0)};c.LN=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};c.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};c.zM=Math.pow(2,53)-1;c.WZ=-c.zM;c.eD=65536;c.sZ=16777216;c.qz=c.eD*c.eD;return c}();e.J=c})(u||(u={}));(function(e){(function(e){e[e.Project=0]="Project";e[e.Union=1]="Union";e[e.Difference=2]="Difference";e[e.Proximity2D=3]="Proximity2D";e[e.Relate=
4]="Relate";e[e.Equals=5]="Equals";e[e.Disjoint=6]="Disjoint";e[e.Intersects=7]="Intersects";e[e.Within=8]="Within";e[e.Contains=9]="Contains";e[e.Crosses=10]="Crosses";e[e.Touches=11]="Touches";e[e.Overlaps=12]="Overlaps";e[e.Buffer=13]="Buffer";e[e.Distance=14]="Distance";e[e.Intersection=15]="Intersection";e[e.Clip=16]="Clip";e[e.Cut=17]="Cut";e[e.DensifyByLength=18]="DensifyByLength";e[e.DensifyByAngle=19]="DensifyByAngle";e[e.LabelPoint=20]="LabelPoint";e[e.GeodesicBuffer=21]="GeodesicBuffer";
e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";e[e.ShapePreservingDensify=23]="ShapePreservingDensify";e[e.GeodeticLength=24]="GeodeticLength";e[e.GeodeticArea=25]="GeodeticArea";e[e.Simplify=26]="Simplify";e[e.SimplifyOGC=27]="SimplifyOGC";e[e.Offset=28]="Offset";e[e.Generalize=29]="Generalize";e[e.SymmetricDifference=30]="SymmetricDifference";e[e.ConvexHull=31]="ConvexHull";e[e.Boundary=32]="Boundary";e[e.SimpleRelation=33]="SimpleRelation"})(e.WM||(e.WM={}));var c=function(){function c(){}
c.prototype.G=function(){return null};c.prototype.xo=function(){return!1};c.prototype.Av=function(){return!1};c.RZ=function(b){e.T.fh(b.G())&&(b=b.ob,null!=b&&(b.Iy(null),b.QE(null)))};return c}();e.bf=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 13};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,d,b,c,k){return a instanceof e.T?(k=new e.gd(a),this.V(k,d,[b],!1,c).next()):
!0===c?(b=new e.KD(a,d,b,!1,k),e.ei.local().V(b,d,k)):new e.KD(a,d,b,!1,k)};b.N=null;return b}(e.bf);e.JD=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f,c){this.Ca=-1;this.ge=b;this.LA=a;this.At=d;this.XU=new e.h;this.XU.Oa();this.Zo=-1;this.mc=c}c.prototype.next=function(){for(var b;null!=(b=this.ge.next());)return this.Ca=this.ge.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.buffer(b,this.At[this.Zo]);return null};c.prototype.Ia=function(){return this.Ca};c.prototype.buffer=function(b,
a){return e.EL.buffer(b,a,this.LA,NaN,96,this.mc)};c.prototype.Oe=function(){return!0};return c}();e.KD=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 16};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,d,b,c){return a instanceof e.T?(a=new e.gd(a),this.V(a,d,b,c).next()):new e.GM(a,d,b,c)};b.N=null;return b}(e.bf);e.FM=c})(u||(u={}));(function(e){var c=function(){function c(b,
a,d){this.Ca=-1;if(null==b)throw e.g.F();this.$=a;this.bl=b;this.ta=e.na.$d(d,a,!1)}c.prototype.next=function(){var b;return null!=(b=this.bl.next())?(this.Ca=this.bl.Ia(),e.le.clip(b,this.$,this.ta,0)):null};c.prototype.Ia=function(){return this.Ca};c.prototype.Oe=function(){return!0};return c}();e.GM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 31};b.local=function(){null===b.N&&(b.N=new b);return b.N};
b.prototype.V=function(a,d,b){return a instanceof e.T?e.MD.EF(a):new e.MD(d,a,b)};b.N=null;return b}(e.bf);e.LD=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d){this.dB=new e.Lu;this.Ca=-1;if(null==a)throw e.g.F();this.bI=b;this.Oc=!1;this.bl=a;this.mc=d}c.prototype.next=function(){if(this.bI){if(!this.Oc){var b=this.BP(this.bl);this.Oc=!0;return b}return null}if(!this.Oc){b=this.bl.next();if(null!=b)return this.Ca=this.bl.Ia(),c.EF(b);this.Oc=!0}return null};c.prototype.Ia=function(){return this.Ca};
c.prototype.BP=function(b){for(var a;null!=(a=b.next());)this.dB.Jb(a);return this.dB.uS()};c.prototype.Oe=function(){if(this.Oc)return!0;if(!this.bI)throw e.g.X("Invalid call for non merging convex hull.");var b=this.bl.next();if(null!=b)return this.dB.Jb(b),!0;throw e.g.X("Expects a non-null geometry.");};c.EF=function(b){if(c.Xf(b))return b;var a=b.G();if(e.Bl.Nc(a))return a=new e.Ua(b.description),a.cc(b,!0),a;if(550==a&&2==b.D()){var d=new e.Wa,a=new e.Ua(b.description);b.xe(0,d);a.Of(d);b.xe(1,
d);a.lineTo(d);return a}return e.Lu.qQ(b)};c.Xf=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:e.Bl.Nc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:e.Lu.JH(b,0)};return c}();e.MD=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 17};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,d,b,c,k){return new e.IM(a,d,b,
c,k)};b.N=null;return b}(e.bf);e.HM=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f,c){this.pg=null;if(null==a||null==d)throw e.g.X("invalid argument");this.UU=b;this.YA=a;this.kI=d;b=e.na.Zv(a,d);this.ta=e.na.$d(f,b,!0);this.jI=-1;this.ie=c}c.prototype.Ia=function(){return 0};c.prototype.next=function(){this.hS();return++this.jI<this.pg.length?this.pg[this.jI]:null};c.prototype.hS=function(){if(null==this.pg)switch(this.pg=[],this.YA.G()){case 1607:this.jS();break;case 1736:this.iS()}};
c.prototype.jS=function(){var b=new e.Ua,a=new e.Ua,d=new e.Ua;this.pg.push(b);this.pg.push(a);var f=[];e.KL.IL(this.UU,this.YA,this.kI,this.ta,f,this.ie);for(var c=0;c<f.length;c++){var k=f[c];0==k.nx?b.add(k.Y,!1):1==k.nx||2==k.nx?a.add(k.Y,!1):3==k.nx?this.pg.push(k.Y):d.add(k.Y,!1)}d.u()||b.u()&&a.u()&&!(3<=this.pg.length)||this.pg.push(d);b.u()&&a.u()&&3>this.pg.length&&(this.pg.length=0)};c.prototype.iS=function(){var b=new e.ha(0),a=new e.ed,d=a.gG(),f=a.Jb(this.YA),c=a.Jb(this.kI),k=new e.Cg;
try{k.Wr(a,this.ta,this.ie);k.Ml(d,f,c,b);var q=a.Pe(f),r=new e.Ja,v=new e.Ja;this.pg.length=0;this.pg.push(r);this.pg.push(v);for(f=0;f<b.size;f++){var g,p=new e.ed,l=p.Jb(q),m=p.Jb(a.Pe(b.get(f)));k.Vr(p,this.ie);var n=k.nw(l,m);g=p.Pe(n);if(!g.u()){var u=a.NG(b.get(f),d);2==u?r.add(g,!1):1==u?v.add(g,!1):this.pg.push(g);var t=new e.ed,l=t.Jb(q),m=t.Jb(a.Pe(b.get(f)));k.Vr(t,this.ie);q=t.Pe(k.an(l,m))}}!q.u()&&0<b.size&&this.pg.push(q);r.u()&&v.u()&&(this.pg.length=0)}finally{k.ph()}};c.prototype.Oe=
function(){return!0};return c}();e.IM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 18};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,d,b){if(a instanceof e.T)return a=new e.gd(a),this.V(a,d,b).next();if(0>=d)throw e.g.F();return new e.JM(a,d,b)};b.N=null;return b}(e.bf);e.Pm=c})(u||(u={}));(function(e){var c=function(){function c(b,a){this.Ca=-1;this.ge=b;this.Mt=
a}c.prototype.Ia=function(){return this.Ca};c.prototype.next=function(){var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),this.gR(b)):null};c.prototype.gR=function(b){if(b.u()||1>b.ub())return b;var a=b.G();if(1736==a||1607==a)return this.vz(b);if(e.T.Nc(a))return this.iR(b);if(197==a)return this.hR(b);throw e.g.za();};c.prototype.iR=function(b){if(b.Rb()<=this.Mt)return b;var a=new e.Ua(b.description);a.cc(b,!0);return this.vz(a)};c.prototype.hR=function(b){var a=new e.Ja(b.description);
a.hd(b,!1);var d=new e.h;b.s(d);b=d.ea();return d.O()<=this.Mt&&b<=this.Mt?a:this.vz(a)};c.prototype.vz=function(b){for(var a=b.Ka(),d=b.Fa();d.Ya();)for(var f=!0;d.Ea();){var c=d.ba();if(322!=c.G())throw e.g.X("not implemented");var k=d.Lo(),q=c.Rb();if(q>this.Mt){var r=Math.ceil(q/this.Mt),q=new e.Wa(b.description);f&&(c.Kp(q),a.Of(q));for(var v=f=1/r,g=0,r=r-1;g<r;g++)c.Fx(v,q),a.lineTo(q),v+=f;k?a.sq():(c.Ip(q),a.lineTo(q))}else k?a.sq():a.cc(c,f);f=!1}return a};c.prototype.Oe=function(){return!0};
return c}();e.JM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 2};b.prototype.V=function(a,d,b,c){return a instanceof e.T?(a=new e.gd(a),d=new e.gd(d),this.V(a,d,b,c).next()):new e.KM(a,d,b,c)};b.an=function(a,d,f,c){if(a.u()||d.u())return a;var h=a.ub(),q=d.ub();if(h>q)return a;var r=a.G(),v=d.G(),g=new e.h,p=new e.h,l=new e.h;a.s(g);d.s(p);l.I(g);
l.Nb(p);var l=e.na.$d(f,l,!0),m=l*Math.sqrt(2)*1.00001,n=new e.h;n.I(g);n.P(m,m);if(!n.Yb(p))return a;if(1==h&&2==q)return b.ro(a,d,v,f,c);if(33==r)switch(e.Bl.Nc(v)?(f=new e.Ua(d.description),f.cc(d,!0)):f=d,v){case 1736:return b.Mm(a,f,l);case 1607:return b.Nm(a,f,l);case 550:return b.Al(a,f,l);case 197:return b.zl(a,f,l);case 33:return b.Lm(a,f,l);default:throw e.g.F();}else if(550==r)switch(v){case 1736:return b.xl(a,d,l);case 197:return b.Hj(a,d,l);case 33:return b.wl(a,d,l)}return e.Cg.an(a,
d,f,c)};b.Mm=function(a,d,b){return 0==e.fd.KH(d,a,b)?a:a.Ka()};b.Nm=function(a,d,b){var f=a.w();d=d.Fa();for(var c=b*Math.sqrt(2)*1.00001,q=c*c,r=new e.h;d.Ya();)for(;d.Ea();){var v=d.ba();v.s(r);r.P(c,c);if(r.contains(f)){if(v.ot(f,b))return a.Ka();var g=v.ec();if(e.b.sc(f,g)<=q)return a.Ka();g=v.Ac();if(e.b.sc(f,g)<=q)return a.Ka()}}return a};b.Al=function(a,d,b){var f=d.Qa(0);d=d.D();var c=a.w(),q=new e.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var r=0;r<d;r++)if(f.fc(2*r,q),e.b.sc(q,c)<=b)return a.Ka();
return a};b.zl=function(a,b,f){var d=new e.h;b.s(d);d.P(f,f);b=a.w();return d.contains(b)?a.Ka():a};b.Lm=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var d=a.w();b=b.w();return e.b.sc(d,b)<=f?a.Ka():a};b.xl=function(a,b,f){var d=new e.h;b.s(d);d.P(f,f);for(var c=a.D(),q=!1,r=[],v=0;v<c;v++)r[v]=!1;for(var g=new e.b,v=0;v<c;v++)a.w(v,g),d.contains(g)&&0!=e.fd.ee(b,g,f)&&(q=!0,r[v]=!0);if(!q)return a;b=a.Ka();for(v=0;v<c;v++)r[v]||b.Hd(a,v,v+1);return b};b.Hj=function(a,b,f){var d=new e.h;b.s(d);d.P(f,
f);b=a.D();var c=!1;f=[];for(var q=0;q<b;q++)f[q]=!1;for(var r=new e.b,q=0;q<b;q++)a.w(q,r),d.contains(r)&&(c=!0,f[q]=!0);if(!c)return a;d=a.Ka();for(q=0;q<b;q++)f[q]||d.Hd(a,q,q+1);return d};b.wl=function(a,b,f){var d=a.Qa(0),c=a.D(),q=b.w(),r=new e.b,v=!1;b=[];for(var g=0;g<c;g++)b[g]=!1;g=f*Math.sqrt(2)*1.00001;f=g*g;for(g=0;g<c;g++)d.fc(2*g,r),e.b.sc(r,q)<=f&&(v=!0,b[g]=!0);if(!v)return a;d=a.Ka();for(g=0;g<c;g++)b[g]||d.Hd(a,g,g+1);return d};b.ro=function(a,b,f,c,k){var d=new e.di;a.Wn(d);var h=
new e.h;b.s(h);d.Nb(h);d.P(.1*d.O(),.1*d.ea());h=new e.Ja;h.hd(d,!1);1736==f?h.add(b,!0):h.hd(b,!0);return e.wk.local().V(a,h,c,k)};b.N=null;return b}(e.bf);e.eq=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f){this.qt=null==a;this.Ca=-1;this.ge=b;this.LA=d;this.$U=a.next();this.mc=f}c.prototype.next=function(){if(this.qt)return null;var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),e.eq.an(b,this.$U,this.LA,this.mc)):null};c.prototype.Ia=function(){return this.Ca};c.prototype.Oe=
function(){return!0};return c}();e.KM=c})(u||(u={}));(function(e){var c=function(){function b(a){this.ie=a;this.ck=new e.h;this.ck.Oa();this.Kh=new e.h;this.Kh.Oa()}b.prototype.Du=function(){var a;a=this.ck.o;this.ck.o=this.Kh.o;this.Kh.o=a;a=this.ck.v;this.ck.v=this.Kh.v;this.Kh.v=a;a=this.ck.A;this.ck.A=this.Kh.A;this.Kh.A=a;a=this.ck.B;this.ck.B=this.Kh.B;this.Kh.B=a};b.prototype.wR=function(a,b){var d=!this.ck.Yb(this.Kh);if(e.T.Hc(a.G())&&e.T.Hc(b.G())){if(a.D()>b.D())return this.uF(a,b,d);this.Du();
d=this.uF(b,a,d);this.Du();return d}if(550==a.G()&&e.T.Hc(b.G()))return d=this.vF(b,a,d),this.Du(),d;if(550==b.G()&&e.T.Hc(a.G()))return this.vF(a,b,d);if(550==a.G()&&550==b.G()){if(a.D()>b.D())return this.wF(a,b);this.Du();d=this.wF(b,a);this.Du();return d}return 0};b.prototype.uF=function(a,b,f){var d=a.Fa(),c=b.Fa(),q=new e.h,r=new e.h,v=1.7976931348623157E308;if(!f&&this.VY(a,b,d,c))return 0;for(;d.Ya();)for(;d.Ea();)if(a=d.ba(),a.s(q),!(q.Zx(this.Kh)>v)){for(;c.Ya();)for(;c.Ea();)if(b=c.ba(),
b.s(r),q.Zx(r)<v&&(b=a.Cb(b,f),b*=b,b<v)){if(0==b)return 0;v=b}c.zj()}return Math.sqrt(v)};b.prototype.vF=function(a,b,f){var d=a.Fa(),c=new e.h,q=1.7976931348623157E308,r=new e.b,v,g=b.D();for(f=!f&&1736==a.G();d.Ya();)for(;d.Ea();){var p=d.ba();p.s(c);if(!(1<g&&c.Zx(this.Kh)>q)){for(var l=0;l<g;l++){b.w(l,r);if(f&&0!=e.fd.ee(a,r,0))return 0;v=p.ne(r,!1);r.sub(p.hc(v));v=r.uk();if(v<q){if(0==v)return 0;q=v}}f=!1}}return Math.sqrt(q)};b.prototype.wF=function(a,b){for(var d=1.7976931348623157E308,
c=new e.b,k=new e.b,q,r=a.D(),v=b.D(),g=0;g<r;g++)if(a.w(g,c),!(1<v&&this.Kh.NK(c)>d))for(var p=0;p<v;p++)if(b.w(p,k),q=e.b.sc(c,k),q<d){if(0==q)return 0;d=q}return Math.sqrt(d)};b.prototype.VY=function(a,b,f,c){if(1736==a.G()){for(;c.Ya();)if(c.Ea()){var d=c.ba();if(0!=e.fd.ee(a,d.Ac(),0))return!0}c.zj()}if(1736==b.G()){for(;f.Ya();)if(f.Ea()&&(a=f.ba(),0!=e.fd.ee(b,a.Ac(),0)))return!0;f.zj()}return!1};b.prototype.Xm=function(a,b){if(a.u()||b.u())return NaN;a.s(this.ck);b.s(this.Kh);return this.wR(a,
b)};return b}(),g=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}da(a,b);a.prototype.V=function(a,b,h){if(null==a||null==b)throw e.g.F();if(a.u()||b.u())return NaN;var d,f;d=a.G();f=b.G();if(33==d){if(33==f)return e.b.Cb(a.w(),b.w());if(197==f)return h=new e.h,b.s(h),h.Cb(a.w());d=new e.Dd;d.add(a);a=d}else if(197==d){if(197==f)return f=new e.h,a.s(f),h=new e.h,b.s(h),h.Cb(f);d=new e.Ja;d.hd(a,!1);a=d}33==f?(f=new e.Dd,f.add(b),b=f):197==f&&(f=new e.Ja,f.hd(b,!1),b=f);return(new c(h)).Xm(a,
b)};a.local=function(){null===a.N&&(a.N=new a);return a.N};a.prototype.G=function(){return 14};a.N=null;return a}(e.bf);e.LM=g})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f){this.yI=b;this.FI=a;this.ie=f;this.ZH=d}c.prototype.next=function(){var b=this.yI.next();return null==b?null:this.rD(b)};c.prototype.Ia=function(){return this.yI.Ia()};c.prototype.rD=function(b){var a=b.G();if(e.T.Po(a))return b;if(197==a)return a=new e.Ja(b.description),a.hd(b,!1),this.rD(a);if(b.u())return b;
if(null==b)throw e.g.za();for(var a=b.Ka(),d=new e.Hb,f=0,c=b.aa();f<c;f++)this.ZL(b,f,a,d);return a};c.prototype.ZL=function(b,a,d,f){if(!(2>b.La(a))){var c=b.wa(a),k=b.Fc(a)-1,q=b.Qa(0),r=b.Qb(a),v=new e.ha(0);v.zb(b.La(a)+1);var g=new e.ha(0);g.zb(b.La(a)+1);v.add(r?c:k);v.add(c);for(c=new e.b;1<v.size;){var p=v.Ec();v.Mf();var l=v.Ec();b.w(p,c);f.Lc(c);b.w(l,c);f.Xc(c);l=this.WL(f,c,q,p,l,k);0<=l?(v.add(l),v.add(p)):g.add(p)}r||g.add(v.get(0));if(g.size==v.size)d.Ui(b,a,!0);else if(2<=g.size&&
(!this.ZH||2!=g.size||!(r||e.b.Cb(b.Ba(g.get(0)),b.Ba(g.get(1)))<=this.FI))){a=new e.Wa;f=0;for(k=g.size;f<k;f++)b.xe(g.get(f),a),0==f?d.Of(a):d.lineTo(a);r&&(this.ZH||2!=g.size||d.lineTo(a),d.sq())}}};c.prototype.WL=function(b,a,d,f,e,c){var h=e-1;e<=f&&(h=c);c=e=-1;for(f+=1;f<=h;f++){d.fc(2*f,a);var k=a.x,v=a.y;b.hc(b.ne(a,!1),a);a.x-=k;a.y-=v;k=a.length();k>this.FI&&k>c&&(e=f,c=k)}return e};c.prototype.Oe=function(){return!0};return c}();e.MM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==
c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 29};b.prototype.V=function(a,b,f,c){return a instanceof e.T?(a=new e.gd(a),this.V(a,b,f,c).next()):new e.MM(a,b,f,c)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(e.bf);e.ND=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 21};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,
b,f,c,k,q,r,v){return a instanceof e.T?(v=new e.gd(a),this.V(v,b,f,[c],k,q,!1,r).next()):!0===r?(f=new e.PD(a,b,f,c,k,!1,!1,v),e.ei.local().V(f,b,v)):new e.PD(a,b,f,c,k,!1,!1,v)};b.N=null;return b}(e.bf);e.OD=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f,c,k,q,r){if(k)throw e.g.af();if(null==a)throw e.g.F();this.Ca=-1;this.Jt=b;this.Pg=a;this.Xe=d;this.At=f;this.Vo=c;this.Zo=-1;this.mc=r;this.YU=new e.h;this.YU.Oa()}c.prototype.next=function(){for(var b;null!=(b=this.Jt.next());)return this.Ca=
this.Jt.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.rS(b,this.At[this.Zo]);return null};c.prototype.Ia=function(){return this.Ca};c.prototype.rS=function(b,a){return e.bM.buffer(b,this.Pg,this.Xe,a,this.Vo,this.mc)};c.prototype.Oe=function(){return!0};return c}();e.PD=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 24};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,
b,f,c){if(null==b)throw e.g.F();if(a.u()||1>a.ub())return 0;if(4==f)throw e.g.af();var d=e.fb.lc(b),h=e.fb.hw(d),r=e.fb.Sv(d),h=h*(2-h),v=d.Td().Bi,g=a.G(),p;1736==g||197==g?p=a.Fg():e.T.Nc(g)?(p=new e.Ua(a.description),p.cc(a,!0)):p=a;if(0==d.Eb(b)){if(e.fb.Ic(b)){p=e.gi.Qj(p,b);1607==g&&p==a&&(p=e.T.me(a));a=new e.yc;e.fb.Ch(b).Yn(a);for(var g=0,l=p.D();g<l;g++){var m=p.Ba(g);m.x=e.gi.Tn(m.x,a);p.rb(g,m)}}a=p.Ka();p=e.gi.CJ(b,d,p,a,c)?a:e.fb.Vg(p,b,d,c)}return this.yR(p,f,r,h,v)};b.prototype.yR=
function(a,b,f,c,k){var d=new e.da(0),h=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var v=a.ba(),g=v.ec(),v=v.Ac();g.scale(k);v.scale(k);e.mb.Kd(f,c,g.x,g.y,v.x,v.y,d,null,null,b);h+=d.j}return h};b.N=null;return b}(e.bf);e.PM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.prototype.G=function(){return 18};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f,c,k){return a instanceof e.T?(a=new e.gd(a),this.V(a,
b,f,c,k).next()):new e.OM(a,f,c,b,-1,-1,k)};b.N=null;return b}(e.bf);e.NM=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f,c,k){if(0<k)throw e.g.af();if(4!=d&&0<c)throw e.g.af();if(null==a)throw e.g.F();this.Ca=-1;this.Jt=b;this.Pg=a;this.Xe=d;this.eV=f;this.dV=c}c.prototype.next=function(){for(var b;null!=(b=this.Jt.next());)return this.Ca=this.Jt.Ia(),this.Jz(b);return null};c.prototype.Ia=function(){return this.Ca};c.prototype.Jz=function(b){return e.Ij.Js(b,this.Pg,this.Xe,this.eV,
this.dV,this.mc)};c.prototype.Oe=function(){return!0};return c}();e.OM=c})(u||(u={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Contains=1]="Contains";e[e.Within=2]="Within";e[e.Equals=3]="Equals";e[e.Disjoint=4]="Disjoint";e[e.Touches=8]="Touches";e[e.Crosses=16]="Crosses";e[e.Overlaps=32]="Overlaps";e[e.NoThisRelation=64]="NoThisRelation";e[e.Intersects=1073741824]="Intersects";e[e.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(e.kM||(e.kM={}));var c=function(){function c(){}
c.w_=function(b,a,d,f){if(a.u()||b.u())return 4;var h=b.G(),k=a.G(),q;e.T.Nc(h)&&(b=q=new e.Ua(b.description),q.cc(b,!0));e.T.Nc(k)&&(a=q=new e.Ua(a.description),q.cc(a,!0));switch(h){case 33:switch(k){case 33:return c.LT(b,a,d);case 197:return c.de(c.lD(a,b,d));case 550:return c.de(c.tD(a,b,d));case 1607:return c.de(c.dE(a,b,d,f));case 1736:return c.de(c.DD(a,b,d))}throw e.g.za();case 197:switch(k){case 33:return c.lD(b,a,d);case 197:return c.JP(b,a,d);case 550:return c.de(c.oD(a,b,d,f));case 1607:return c.de(c.HD(a,
b));case 1736:return c.de(c.zD(a,b))}throw e.g.za();case 550:switch(k){case 33:return c.tD(b,a,d);case 197:return c.oD(b,a,d,f);case 550:return c.qD(b,a,d,f);case 1607:return c.de(c.YD(a,b));case 1736:return c.de(c.BD(a,b))}throw e.g.za();case 1607:switch(k){case 33:return c.dE(b,a,d,f);case 197:return c.HD(b,a);case 550:return c.YD(b,a);case 1607:return c.QV(b,a);case 1736:return c.de(c.FD(a,b))}throw e.g.za();case 1736:switch(k){case 33:return c.DD(b,a,d);case 197:return c.zD(b,a);case 550:return c.BD(b,
a);case 1607:return c.FD(b,a);case 1736:return c.OU(b,a)}throw e.g.za();default:throw e.g.za();}};c.LT=function(b,a,d){b=b.w();a=a.w();return c.xD(b,a,d)};c.xD=function(b,a,d){b.sub(a);return b.uk()<=d*d?3:4};c.lD=function(b,a,d){var f=new e.h;b.s(f);b=a.w();return c.uR(f,b,d)};c.uR=function(b,a,d){b.P(-d,-d);if(b.contains(a))return 1;b.P(d,d);return b.contains(a)?8:4};c.GR=function(b,a,d){return a.contains(d)?1:b.contains(d)?8:4};c.JP=function(b,a,d){var f=new e.h;b.s(f);b=new e.h;a.s(b);return c.ZQ(f,
b,d)};c.ZQ=function(b,a,d){var f=0;b.contains(a)&&(f|=1);a.contains(b)&&(f|=2);if(0!=f)return f;b.P(-d,-d);a.P(-d,-d);if(b.Yb(a))return f=b,f.P(d,d),f=f.contains(a)?1:0,a.P(d,d),f|=a.contains(b)?2:0,0!=f?f:32;f=b;f.P(d,d);a.P(d,d);return f.Yb(a)?8:4};c.tD=function(b,a,d){a=a.w();return c.vD(b,a,d)};c.vD=function(b,a,d){for(var f=0,e=b.D();f<e;f++){var k;k=b.Ba(f);k=c.xD(k,a,d);if(4!=k)return 0!=(k&2)&&1!=e?1:k}return 4};c.oD=function(b,a,d,f){var h=new e.h;a.s(h);return c.IT(b,h,d,f)};c.IT=function(b,
a,d,f){a.P(-d,-d);a.P(d,d);for(var e=d=0,k=b.D();e<k;e++){var q;q=b.Ba(e);q=c.de(c.GR(a,a,q));if(4!=q&&(d|=q,4==f))return 1073741824}return 0==d?4:2==d?d:32};c.qD=function(b,a,d,f){for(var e=0,k=0,q=a.D();k<q;k++){var r;r=a.Ba(k);r=c.vD(b,r,d);if(4!=r&&(e++,4==f))return 1073741824}return 0<e?e==a.D()?3==f?(r=c.qD(a,b,d,1),1==r?3:0):1:32:0};c.dE=function(b,a,d,f){a=a.w();return c.IV(b,a,d,f)};c.fS=function(b,a){var d=null;b=b.ob;null!=b&&(d=b.Ii);if(null!=d){d=d.wm(a.x,a.y);if(0==d)return 4;if(1==
d)return 1}else return-1;return 0};c.IV=function(b,a,d,f){if(0==(f&1073741839))return 64;var h=c.fS(b,a);if(0<h)return h;d*=d;for(h=b.Fa();h.Ya();){var k=h.Ta;if(!b.Qb(k)){var q=b.La(k),k=b.wa(k);if(0==q)continue;if(e.b.sc(b.Ba(k),a)<=d||1<q&&e.b.sc(b.Ba(k+q-1),a)<=d)return 8}if(8!=f)for(;h.Ea();)if(q=h.ba(),q=q.hc(q.ne(a,!1)),e.b.sc(q,a)<=d)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};c.HD=function(b,a){var d=new e.h;a.s(d);return c.wV(b,d)};c.wV=function(b,a){b=c.Nm(b,a);
return 0<b?b:0};c.Nm=function(b,a){b=b.ob;if(null!=b)b=b.Ii;else return-1;if(null!=b){b=b.Xn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};c.YD=function(b,a){var d=new e.h;a.s(d);d=c.Nm(b,d);return 0<d?d:0};c.$u=function(b,a){var d=new e.h;a.s(d);d=c.Nm(b,d);return 0<d?d:-1==d&&(d=new e.h,b.s(d),d=c.Nm(a,d),0<d)?c.de(d):0};c.QV=function(b,a){b=c.$u(b,a);return 0<b?b:0};c.DD=function(b,a,d){a=a.w();return c.LU(b,a,d)};c.LU=function(b,a,d){b=e.fd.ee(b,a,d);if(0==b)return 4;if(1==b)return 1;
if(2==b)return 8;throw e.g.za();};c.zD=function(b,a){var d=new e.h;a.s(d);return c.IU(b,d)};c.IU=function(b,a){b=c.Nm(b,a);return 0<b?b:0};c.BD=function(b,a){b=c.$u(b,a);return 0<b?b:0};c.FD=function(b,a){b=c.$u(b,a);return 0<b?b:0};c.OU=function(b,a){b=c.$u(b,a);return 0<b?b:0};c.OW=function(b,a){var d=b.G(),f=a.G(),c;if(e.T.fh(d)&&(c=b.ob,null!=c&&(c=c.Ii,null!=c))){if(33==f){var k=a.w();c=c.wm(k.x,k.y)}else k=new e.h,a.s(k),c=c.Xn(k);if(1==c)return 1;if(0==c)return 4}if(e.T.fh(f)&&(c=a.ob,null!=
c&&(c=c.Ii,null!=c))){33==d?(d=b.w(),c=c.wm(d.x,d.y)):(d=new e.h,b.s(d),c=c.Xn(d));if(1==c)return 2;if(0==c)return 4}return 0};c.de=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return c}();e.QM=c})(u||(u={}));(function(e){var c=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}da(b,c);b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 15};b.prototype.V=function(a,b,f,c,k){return a instanceof e.T?(a=new e.gd(a),b=new e.gd(b),
this.V(a,b,f,c,k).next()):void 0===k?new e.QD(a,b,f,c,-1):new e.QD(a,b,f,c,k)};b.prototype.xo=function(a,b,f){if(!this.Av(a))return!1;b=e.na.$g(b,a,!1);var d=a.Kj(f);return d=d||a.bv(b,f)};b.prototype.Av=function(a){return e.ty.$y(a)};b.N=null;return b}(e.bf);e.wk=c})(u||(u={}));(function(e){var c=function(){function c(b,a,d,f,c){this.qt=null==a;this.Ca=-1;this.ge=b;this.Pg=d;this.pf=a.next();this.dk=this.pf.G();this.mc=f;this.fj=c;if(-1!=this.fj&&(0>=this.fj||7<this.fj))throw e.g.F("bad dimension mask");
}c.prototype.next=function(){if(this.qt)return null;var b;if(null!=this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ge.next());){this.Ca=this.ge.Ia();if(-1==this.fj)return b=this.Ma(b);this.ox=this.mU(b);return b=this.ox.next()}return null};c.prototype.Ia=function(){return this.Ca};c.prototype.Ma=function(b){var a=this.cL(b);if(null!=a)return a;var a=e.na.Zv(this.pf,b),d=e.na.$d(this.Pg,a,!0),a=new e.h;this.pf.s(a);var f=new e.h;b.s(f);a.P(2*d,2*d);a.Ma(f);a.P(100*d,100*
d);d=e.le.clip(this.pf,a,0,0);b=e.le.clip(b,a,0,0);return e.Cg.nw(b,d,this.Pg,this.mc)};c.prototype.xJ=function(b,a,d){var f=0;if(0!=(a&1))null==d[0]&&(d[0]=new e.Dd(b)),f++;else for(var c=0;c<d.length-1;c++)d[c]=d[c+1];if(0!=(a&2))null==d[f]&&(d[f]=new e.Ua(b)),f++;else for(c=f;c<d.length-1;c++)d[c]=d[c+1];if(0!=(a&4))null==d[f]&&(d[f]=new e.Ja(b)),f++;else for(c=f;c<d.length-1;c++)d[c]=d[c+1];if(3!=f){b=[];for(c=0;c<f;c++)b[c]=d[c];return new e.gd(b)}return new e.gd(d)};c.prototype.mU=function(b){var a=
this.cL(b);if(null!=a){var d=[null,null,null];d[a.ub()]=a;return this.xJ(b.description,this.fj,d)}a=e.na.Zv(this.pf,b);d=e.na.$d(this.Pg,a,!0);a=new e.h;this.pf.s(a);a.P(2*d,2*d);var f=new e.h;b.s(f);a.Ma(f);a.P(100*d,100*d);d=e.le.clip(this.pf,a,0,0);a=e.le.clip(b,a,0,0);d=e.Cg.yA(a,d,this.Pg,this.mc);return this.xJ(b.description,this.fj,d)};c.prototype.cL=function(b){var a=e.na.Zv(b,this.pf),d=e.na.$d(this.Pg,a,!0),a=b.G(),f=b.u(),h=this.pf.u(),h=f||h;if(!h){h=new e.h;b.s(h);var k=new e.h;this.pf.s(k);
k.P(2*d,2*d);h=!h.Yb(k)}if(!h)if(k=e.QM.OW(this.pf,b),4==k)h=!0;else{if(0!=(k&2))return this.pf;if(0!=(k&1))return b}if(h)return d=e.T.hf(a),h=e.T.hf(this.dk),d<h?c.N(b,f):d>h?this.SJ():0==d?550==a&&33==this.dk?this.SJ():c.N(b,f):c.N(b,f);if((-1==this.fj||4==this.fj)&&197==a&&197==this.dk)return d=this.pf,a=new e.h,b.s(a),f=new e.h,d.s(f),a.Ma(f),d=new e.di,b.copyTo(d),d.Np(a),d;if(197==a&&0==e.T.hf(this.dk)||197==this.dk&&0==e.T.hf(a))return f=197==a?b:this.pf,b=197==a?this.pf:b,a=new e.h,f.s(a),
e.le.clip(b,a,d,0);if(0==e.T.hf(a)&&0<e.T.hf(this.dk)||0<e.T.hf(a)&&0==e.T.hf(this.dk)){d=e.na.$g(this.Pg,b,!1);if(550==a||33==a)return e.Cg.AH(b,this.pf,d);if(550==this.dk||33==this.dk)return e.Cg.AH(this.pf,b,d);throw e.g.za();}return-1!=this.fj&&2!=this.fj||1607!=a||1736!=this.dk?-1!=this.fj&&2!=this.fj||1736!=a||1607!=this.dk?null:this.$K(this.pf,b):this.$K(b,this.pf)};c.prototype.$K=function(b,a){var d=b,f=a,c=e.na.$g(this.Pg,a,!1),k=new e.h;f.s(k);var q=new e.h;d.s(q);q.P(2*c,2*c);k.Ma(q);k.P(10*
c,10*c);var d=b=e.le.clip(b,k,0,0),q=new e.ha(0),r=-1,v=f.ob;if(null!=v){var g=v.Ii;if(null!=g){r=0;q.zb(d.D()+d.aa());for(var p=new e.h,l=d.Fa();l.Ya();)for(;l.Ea();){l.ba().s(p);var m=g.Xn(p);1==m?q.add(1):0==m?q.add(0):(q.add(-1),r++)}}}5<a.D()&&(f=a=e.le.clip(a,k,0,0),v=f.ob);0>r&&(r=d.lA());k=d.D()+f.D();if(r*f.D()>Math.log(k)*k*4)return null;k=null;r=f.Fa();null!=v&&null!=v.Mb&&(k=v.Mb);null==k&&20<f.D()&&(k=e.na.BF(f));f=b.Ka();v=null;g=d.Fa();p=[0,0,0,0,0,0,0,0,0];l=new e.Pd(0);m=new e.Bg;
b=-1;for(var n=0,u=0,t=0<q.size,w=-1;g.Ya();){var w=g.Ta,x=0;b=-1;for(n=0;g.Ea();){var y=t?e.J.truncate(q.get(u)):-1;u++;var A=g.ba();if(0>y){if(null!=k)for(null==v?v=k.PS(A,c):v.bo(A,c),y=v.next();-1!=y;y=v.next()){r.Tb(k.ia(y));for(var y=r.ba(),B=A.Ma(y,null,p,null,c),y=0;y<B;y++)l.add(p[y])}else for(r.zj();r.Ya();)for(;r.Ea();)for(y=r.ba(),B=A.Ma(y,null,p,null,c),y=0;y<B;y++)l.add(p[y]);if(0<l.size){l.Fd(0,l.size,function(a,b){return a-b});var z=0;l.add(1);for(var B=-1,y=0,C=l.size;y<C;y++){var D=
l.get(y);if(D!=z){var L=!1;0!=z||1!=D?(A.yh(z,D,m),z=m.get()):(z=A,L=!0);if(2<=x){f.zs(d,w,b,n,3==x);if(1!=this.gF(a,z.ec(),c)&&1!=this.hF(a,z,c))return null;f.cc(z,!1);x=1;n=0}else switch(B=this.hF(a,z,c),B){case 1:L?2>x?(b=g.Db()-d.wa(w),n=1,x=0==x?3:2):n++:(f.cc(z,0==x),x=1);break;case 0:x=0;b=-1;n=0;break;default:return null}z=D}}}else{y=this.gF(a,A.ec(),c);if(0>y)return null;1==y?(2>x&&(b=g.Db()-d.wa(w),x=0==x?3:2),n++):(b=-1,n=0)}l.clear(!1)}else 0!=y&&1==y&&(0==x?(x=3,b=g.Db()-d.wa(w)):1==
x?(x=2,b=g.Db()-d.wa(w)):n++)}2<=x&&(f.zs(d,w,b,n,3==x),b=-1)}return f};c.prototype.gF=function(b,a,d){return e.cf.qn(b,a,d)};c.prototype.hF=function(b,a,d){var f=a.ec();a=a.Ac();var c=e.cf.qn(b,f,d),k=e.cf.qn(b,a,d);if(1==c&&0==k||0==c&&1==k)return-1;if(0==c||0==k)return 0;if(1==c||1==k)return 1;c=new e.b;c.add(f,a);c.scale(.5);b=e.cf.qn(b,c,d);return 0==b?0:1==b?1:-1};c.N=function(b,a){return a?b:b.Ka()};c.prototype.SJ=function(){null==this.xI&&(this.xI=this.pf.Ka());return this.xI};c.prototype.Oe=
function(){return!0};return c}();e.QD=c})(u||(u={}));(function(c){var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 28};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f,e,k,q,r){return a instanceof c.T?(a=new c.gd(a),this.V(a,b,f,e,k,q,r).next()):new c.RM(a,b,f,e,k,q,r)};b.N=null;return b}(c.bf);c.RD=e})(u||(u={}));(function(c){var e=function(){function e(b,a,d,f,c,e,q){this.Ca=-1;this.ge=b;this.jk=
a;this.Pa=d;this.kj=f;this.lB=c;this.tI=e;this.ie=q}e.prototype.next=function(){var b=this.ge.next();return null!=b?(this.Ca=this.ge.Ia(),this.EM(b)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.EM=function(b){var a;a=0>=this.tI?c.na.$g(this.jk,b,!1):this.tI;return c.HL.V(b,this.Pa,this.kj,this.lB,a,this.ie)};e.prototype.Oe=function(){return!0};return e}();c.RM=e})(u||(u={}));(function(c){(function(c){c[c.clipToDomainOnly=1]="clipToDomainOnly";c[c.clipWithHorizon=2]="clipWithHorizon";
c[c.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(c.aq||(c.aq={}));var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 0};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f){return a instanceof c.T?(a=new c.gd(a),this.V(a,b,f).next()):new c.SM(a,b,f)};b.prototype.transform=function(a,b,f,e){return c.qo.transform(a,b,f,e,!0)};b.prototype.YK=function(a,b,f){return c.qo.YK(a,b,f)};b.prototype.Fu=
function(a,b,f,e){return c.qo.Fu(a,b,f,e)};b.prototype.AY=function(a,b,f,e){return c.qo.fs(a,b,f,e)};b.prototype.XK=function(a,b,f,e){return c.qo.XK(a,b,f,e)};b.N=null;return b}(c.bf);c.ns=e})(u||(u={}));(function(c){var e=function(){function e(b,a,d){this.Ca=-1;this.ge=b;this.nV=a;this.ie=d}e.prototype.next=function(){var b=this.ge.next();return null!=b?(this.Ca=this.ge.Ia(),c.qo.Vg(b,this.nV,this.ie)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Oe=function(){return!0};return e}();
c.SM=e})(u||(u={}));(function(c){var e=function(){function b(){}b.prototype.reset=function(){this.Mh=this.al=-1;this.st=this.$q=!1};b.prototype.QR=function(a,b,f){for(a.Tb(b,f);a.Ea();){var d=a.ba(),d=d.Rb();if(0!=d)return a.Db()}for(a.Tb(b,f);a.rA();)if(d=a.Mi(),d=d.Rb(),0!=d)return a.Db();return-1};b.prototype.RR=function(a,b){for(a.Tb(b,-1);a.rA();)if(0!=a.Mi().Rb())return a.Db();return-1};b.prototype.PR=function(a,b){a.Tb(b,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.OR=
function(a,b,f,e){this.al=this.QR(b,f,e);if(-1!=this.al){b.Tb(this.al,-1);var d=b.ba(),h=d.hc(d.ne(a,!1));f=c.b.sc(h,a);e=new c.b;e.L(h);e.sub(d.ec());h=new c.b;h.L(a);h.sub(d.ec());this.$q=0>e.Vi(h);this.Mh=this.PR(b,this.al);if(-1!=this.Mh){b.Tb(this.Mh,-1);var d=b.ba(),r=d.ne(a,!1),r=d.hc(r),v=c.b.sc(r,a);v>f?this.Mh=-1:(e.L(r),e.sub(d.ec()),h.L(a),h.sub(d.ec()),this.st=0>e.Vi(h))}-1==this.Mh&&(this.Mh=this.RR(b,this.al),-1!=this.Mh&&(b.Tb(this.Mh,-1),d=b.ba(),r=d.ne(a,!1),r=d.hc(r),v=c.b.sc(r,
a),v>f?this.Mh=-1:(e.L(r),e.sub(d.ec()),h.L(a),h.sub(d.ec()),this.st=0>e.Vi(h),a=this.al,this.al=this.Mh,this.Mh=a,a=this.$q,this.$q=this.st,this.st=a)))}};b.prototype.AP=function(a,b,f,c,e){f=f.Fa();this.OR(a,f,c,e);if(-1!=this.al&&-1==this.Mh)return this.$q;if(-1!=this.al&&-1!=this.Mh){if(this.$q==this.st)return this.$q;f.Tb(this.al,-1);a=f.ba().Dg(1);f.Tb(this.Mh,-1);b=f.ba().Dg(0);return 0<=a.Vi(b)?!0:!1}return b};return b}(),g=function(b){function a(){return null!==b&&b.apply(this,arguments)||
this}da(a,b);a.local=function(){null===a.N&&(a.N=new a);return a.N};a.prototype.G=function(){return 3};a.prototype.bA=function(a,b,e,k){void 0===k&&(k=!1);if(a.u())return new c.Sm;b=b.w();var d=a,f=a.G();197==f&&(d=new c.Ja,d.hd(a,!1),f=1736);switch(f){case 33:return this.tJ(d,b);case 550:return this.fJ(d,b);case 1607:case 1736:return this.DV(d,b,e,k);default:throw c.g.X("not implemented");}};a.prototype.cA=function(a,b){if(a.u())return new c.Sm;b=b.w();var d=a,f=a.G();197==f&&(d=new c.Ja,d.hd(a,
!1),f=1736);switch(f){case 33:return this.tJ(d,b);case 550:case 1607:case 1736:return this.fJ(d,b);default:throw c.g.X("not implemented");}};a.prototype.dA=function(a,b,e,k){if(0>k)throw c.g.F();if(a.u())return[];b=b.w();var d=a,f=a.G();197==f&&(d=new c.Ja,d.hd(a,!1),f=1736);switch(f){case 33:return this.hW(d,b,e,k);case 550:case 1607:case 1736:return this.GV(d,b,e,k);default:throw c.g.X("not implemented");}};a.prototype.DV=function(a,b,h,k){if(1736==a.G()&&h&&(h=new c.h,a.s(h),h=c.na.$d(null,h,!1),
0!=(k?c.fd.ee(a,b,0):c.fd.ee(a,b,h)))){var d=new c.Sm(b,0,0);k&&d.BK(!0);return d}for(var f=a.Fa(),d=new c.b,v=h=-1,g=1.7976931348623157E308,p=0;f.Ya();)for(;f.Ea();){var l=f.ba(),l=l.hc(l.ne(b,!1)),m=c.b.sc(l,b);m<g?(p=1,d=l,h=f.Db(),v=f.Ta,g=m):m==g&&p++}d=new c.Sm(d,h,Math.sqrt(g));k&&(f.Tb(h,v),l=f.ba(),k=0>c.b.Gp(b,l.ec(),l.Ac()),1<p&&(p=new e,p.reset(),k=p.AP(b,k,a,h,v)),d.BK(k));return d};a.prototype.tJ=function(a,b){a=a.w();b=c.b.Cb(a,b);return new c.Sm(a,0,b)};a.prototype.fJ=function(a,b){var d=
a.Qa(0);a=a.D();for(var f=0,e=0,r=0,v=1.7976931348623157E308,g=0;g<a;g++){var p=new c.b;d.fc(2*g,p);var l=c.b.sc(p,b);l<v&&(e=p.x,r=p.y,f=g,v=l)}d=new c.Sm;d.Hy(e,r,f,Math.sqrt(v));return d};a.prototype.hW=function(a,b,e,k){if(0==k)return e=[];e*=e;a=a.w();b=c.b.sc(a,b);b<=e?(e=[],k=new c.Sm,k.Hy(a.x,a.y,0,Math.sqrt(b)),e[0]=k):e=[];return e};a.prototype.GV=function(a,b,e,k){if(0==k)return k=[];var d=a.Qa(0),f=a.D();a=[];var h=0;e*=e;for(var g=0;g<f;g++){var p=d.read(2*g),l=d.read(2*g+1),m=b.x-p,
n=b.y-l,m=m*m+n*n;m<=e&&(n=new c.Sm,n.Hy(p,l,g,Math.sqrt(m)),h++,a.push(n))}b=a.length;a.sort(function(a,b){return a.Pa<b.Pa?-1:a.Pa==b.Pa?0:1});if(k>=b)return a.slice(0);a.length=k;return a.slice(0)};a.N=null;return a}(c.bf);c.oy=g})(u||(u={}));(function(c){var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 4};b.prototype.V=function(a,b,f,e,k){return c.Tm.aC(a,b,f,e,k)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.Av=
function(a){return c.Iu.az(a)};b.prototype.xo=function(a,b,f){return c.Iu.VE(a,b,f)};b.N=null;return b}(c.bf);c.TM=e})(u||(u={}));(function(c){var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 33};b.prototype.V=function(a,b,f,e,k){return 1073741824===a?!c.Ed.bC(b,f,e,4,k):c.Ed.bC(b,f,e,a,k)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.Av=function(a){return c.Iu.az(a)};b.prototype.xo=function(a,b,f){return c.Iu.VE(a,
b,f)};b.N=null;return b}(c.bf);c.Jj=e})(u||(u={}));(function(c){var e=function(){function e(b,a,d,f){this.ie=f;this.VU=d;this.Ca=-1;if(null==b)throw c.g.F();this.bl=b;this.jk=a}e.prototype.next=function(){var b;return null!=(b=this.bl.next())?(this.Ca=this.bl.Ia(),this.FC(b)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.FC=function(b){if(null==b)throw c.g.F();return c.py.HK(b,this.jk,this.VU,this.ie)};e.prototype.Oe=function(){return!0};return e}();c.UM=e})(u||(u={}));(function(c){var e=
function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 26};b.prototype.V=function(a,b,f,e){return a instanceof c.T?(a=new c.gd(a),this.V(a,b,f,e).next()):new c.UM(a,b,f,e)};b.prototype.Wq=function(a,b,f,e,k){return 0<(void 0!==e?c.py.Wq(a,b,f,e,k):c.py.Wq(a,b,!1,null,f))};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(c.bf);c.Qm=e})(u||(u={}));(function(c){var e=function(){function a(){this.nr=0}a.prototype.MX=function(a){this.nr&=
-2;this.nr|=a?1:0};a.prototype.mn=function(){return 0!=(this.nr&1)};a.prototype.ZG=function(){return this.mn()?0:1};return a}();c.lZ=e;var g=function(){return function(){}}(),b=function(){return function(a,b,d,f){this.x=a;this.y=b;this.aj=d;this.rn=f}}(),a=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,d){a=a.ia(d);b=this.Ze.Kf.read(2*b);a=this.Ze.Kf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),d=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,d){b=this.Ze.ib[b];
a=this.Ze.ib[a.ia(d)];var f=b.mn(),c=a.mn();d=b.Ie.kf(this.Ze.Dp,0);var e=a.Ie.kf(this.Ze.Dp,0);d==e&&(d=Math.min(f?b.Ie.ra:b.Ie.oa,c?a.Ie.ra:a.Ie.oa),f=.5*(d-this.Ze.Dp)+this.Ze.Dp,f==this.Ze.Dp&&(f=d),d=b.Ie.kf(f,0),e=a.Ie.kf(f,0));return d<e?-1:d>e?1:0};return a}(),f=function(){function a(a,b){this.EJ=new c.b;this.parent=a;this.AT=b}a.prototype.gs=function(a,b,d){var f=this.parent,c=this.AT;d.Fd(a,b,function(a,b){return f.li(a,b,c)})};a.prototype.Qq=function(a){a=this.parent.Hi.get(a);this.parent.Kf.fc(2*
(a>>1),this.EJ);return this.EJ.y+(0!=(a&1)?this.parent.lk:-this.parent.lk)};return a}(),h=function(){function h(a,b,d,f,e){this.mI=a.description;this.Y=a;this.lh=b;this.lk=c.na.$g(this.lh,a,!1);this.vp=c.na.$g(this.lh,a,!0);this.gB=d;this.TU=this.mI.Ga;this.ib=[];this.jp=[];this.Ih=new c.cq;this.hb=new c.xk;this.se=new c.Yd;this.YH=this.Zl=e}h.prototype.DA=function(){this.YH=!0;return(!c.T.Hc(this.Y.G())||this.NF()&&this.MF(!1))&&this.MP()?c.T.Hc(this.Y.G())?this.PP()?1607==this.Y.G()?this.RP()?2:
0:this.SP()?this.TP():0:0:2:0};h.prototype.LC=function(a,b){var d=this.Kf.read(2*a);a=this.Kf.read(2*a+1);var f=this.Kf.read(2*b);b=this.Kf.read(2*b+1);var e=!c.Ku.pw(d,a,f,b,this.lk*this.lk);return e?e:0==this.Y.ub()?!1:d==f&&a==b};h.prototype.NF=function(){for(var a=this.Y,b=a.Yf?3:2,d=0,f=a.aa();d<f;d++)if(a.La(d)<b)return this.se=new c.Yd(1,d,0),!1;return!0};h.prototype.MF=function(a){for(var b=this.Y,d=b.Fa(),f=b.hasAttribute(1),b=f?c.na.GF(this.lh,b,!1):0;d.Ya();)for(;d.Ea();){var e=d.ba();
if(!(e.Rb()>this.lk)){if(a&&f){var h=e.bt(1,0),e=e.bt(1,0);if(Math.abs(e-h)>b)continue}this.se=new c.Yd(2,d.Db(),-1);return!1}}return!0};h.prototype.MP=function(){var b=this.Y,d=null;c.T.Hc(this.Y.G())&&(d=this.Y);var e=(this.YH||this.Zl)&&null!=d,h=b.D();this.Kf=b.Qa(0);this.Hi=new c.ha(0);this.Hi.zb(2*h);this.Gi=new c.ha(0);this.Gi.zb(2*h);e&&(null==this.nm&&(this.nm=new c.ha(0)),this.nm.zb(h));for(var k=b=0;k<h;k++)if(this.Hi.add(2*k),this.Hi.add(2*k+1),this.Gi.add(2*k),this.Gi.add(2*k+1),e){for(;k>=
d.Fc(b);)b++;this.nm.add(b)}(new c.Ju).sort(this.Gi,0,2*h,new f(this,e));this.hb.clear();this.hb.Lp(new a(this));this.hb.Ne(h);d=0;for(h*=2;d<h;d++)if(e=this.Gi.get(d),b=this.Hi.get(e),e=b>>1,0==(b&1)){b=this.hb.addElement(e,-1);k=this.hb.Se(b);if(-1!=k&&!this.LC(this.hb.ia(k),e))return this.se=new c.Yd(3,e,this.hb.ia(k)),!1;var g=this.hb.nb(b);if(-1!=g&&!this.LC(this.hb.ia(g),e))return this.se=new c.Yd(3,e,this.hb.ia(g)),!1}else if(b=this.hb.search(e,-1),k=this.hb.Se(b),g=this.hb.nb(b),this.hb.Jd(b,
-1),-1!=k&&-1!=g&&!this.LC(this.hb.ia(k),this.hb.ia(g)))return this.se=new c.Yd(3,this.hb.ia(k),this.hb.ia(g)),!1;return!0};h.prototype.PP=function(){return 10>this.Y.D()?this.NP():this.OP()};h.prototype.OP=function(){var a=new c.ed;a.Jb(this.Y);var b=new c.Yd;return c.Mu.hJ(!1,a,this.lk,b,this.ie)?(b.qm=a.Za(b.qm),b.rm=a.Za(b.rm),this.se.ls(b),!1):!0};h.prototype.NP=function(){for(var a=this.Y,b=a.Fa(),a=a.Fa();b.Ya();)for(;b.Ea();){var d=b.ba();if(!b.Oo()||!b.vU()){a.cX(b);do for(;a.Ea();){var f=
a.ba(),f=d.ws(f,this.lk,!0);if(0!=f)return this.se=new c.Yd(2==f?5:4,b.Db(),a.Db()),!1}while(a.Ya())}}return!0};h.prototype.SP=function(){var a=this.Y;this.ib.length=0;this.jp.length=0;this.tg=a.Fa();this.tg.mC();var b=new c.ha(0);b.zb(10);for(var d=NaN,f=0,e=0,a=2*a.D();e<a;e++){var h=this.Gi.get(e),h=this.Hi.get(h);if(0==(h&1)){var h=h>>1,k=this.Kf.read(2*h),g=this.Kf.read(2*h+1);if(0!=b.size&&(k!=d||g!=f)){if(!this.yJ(b))return!1;null!=b&&b.clear(!1)}b.add(h);d=k;f=g}}return this.yJ(b)?!0:!1};
h.prototype.RP=function(){for(var a=this.Y,b=Array(a.aa()),d=0,f=a.aa();d<f;d++)b[d]=a.Ko(d);var f=new g,e,h,k,p=new c.b,d=this.Gi.get(0),d=this.Hi.get(d),l=d>>1;this.Kf.fc(2*l,p);d=this.nm.get(l);e=b[d];h=a.wa(d);k=a.Fc(d)-1;f.Nl=l==h||l==k;f.Ry=this.Zl?!e&&f.Nl:f.Nl;f.aj=d;f.x=p.x;f.y=p.y;f.rn=l;for(var m=new g,n=1,u=this.Gi.size;n<u;n++)if(d=this.Gi.get(n),d=this.Hi.get(d),0==(d&1)){l=d>>1;this.Kf.fc(2*l,p);d=this.nm.get(l);d!=f.aj&&(e=b[d],h=a.wa(d),k=a.Fc(d)-1);var t,w=l==h||l==k;t=this.Zl?!e&&
f.Nl:f.Nl;m.x=p.x;m.y=p.y;m.aj=d;m.rn=l;m.Ry=t;m.Nl=w;if(m.x==f.x&&m.y==f.y)if(this.Zl){if(!m.Ry||!f.Ry)if(m.aj!=f.aj||!m.Nl&&!f.Nl)return this.se=new c.Yd(8,m.rn,f.rn),!1}else if(!m.Nl||!f.Nl)return this.se=new c.Yd(5,m.rn,f.rn),!1;d=f;f=m;m=d}return!0};h.prototype.PF=function(){for(var a=this.Y,d=[],f=-1,e=!1,h=0,k=a.aa();h<k;h++)a.rw(h)&&(e=!1,f++,h<k-1&&(a.rw(h+1)||(e=!0))),d[h]=e?f:-1;var e=new c.b,h=this.Gi.get(0),h=this.Hi.get(h),g=h>>1;this.Kf.fc(2*g,e);for(var h=this.nm.get(g),f=new b(e.x,
e.y,h,g,d[h]),a=[],p=1,k=this.Gi.size;p<k;p++)if(h=this.Gi.get(p),h=this.Hi.get(h),0==(h&1)){g=h>>1;this.Kf.fc(2*g,e);h=this.nm.get(g);h=new b(e.x,e.y,h,g,d[h]);if(h.x==f.x&&h.y==f.y){if(h.aj==f.aj)return this.se=new c.Yd(9,h.rn,f.rn),!1;0<=d[h.aj]&&d[h.aj]==d[f.aj]&&(0!=a.length&&a[a.length-1]==f||a.push(f),a.push(h))}f=h}if(0==a.length)return!0;h=new c.cq(!0);c.J.Ov(d,-1);e=-1;p=new c.b;p.Yc();f=0;for(k=a.length;f<k;f++){g=a[f];if(g.x!=p.x||g.y!=p.y)e=h.ni(0),p.x=g.x,p.y=g.y;var l=d[g.aj];-1==l&&
(l=h.ni(2),d[g.aj]=l);h.addElement(l,e);h.addElement(e,l)}k=new c.ha(0);k.zb(10);for(f=h.De;-1!=f;f=h.eA(f))if(a=h.SG(f),0==(a&1)&&0!=(a&2)){a=-1;k.add(f);for(k.add(-1);0<k.size;){e=k.Ec();k.Mf();p=k.Ec();k.Mf();g=h.SG(p);if(0!=(g&1)){a=0==(g&2)?e:p;break}h.EX(p,g|1);for(g=h.wc(p);-1!=g;g=h.nb(g))l=h.getData(g),l!=e&&(k.add(l),k.add(p))}if(-1!=a){h=-1;f=0;for(k=d.length;f<k;f++)if(d[f]==a){h=f;break}this.se=new c.Yd(10,h,-1);return!1}}return!0};h.prototype.TP=function(){var a=this.Y;if(0>=a.ef())return this.se=
new c.Yd(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Zl&&!this.PF()?0:2;this.np=c.ha.yd(a.aa(),0);this.sB=c.ha.yd(a.aa(),-1);for(var b=-1,f=0,e=0,h=a.aa();e<h;e++){var k=a.Ym(e);this.np.write(e,0>k?0:256);if(0<k)b=e,f=k;else{if(0==k)return this.se=new c.Yd(6,e,-1),0;if(0>b||f<Math.abs(k))if(this.se=new c.Yd(7,e,-1),this.Zl)return 0;this.sB.write(e,b)}}this.Yt=a.aa();this.Hn=new c.ha(0);this.Hn.zb(10);h=a.D();this.Dp=NaN;a=new c.ha(0);a.zb(10);this.Ir=c.ha.yd(h,-1);this.ux=c.ha.yd(h,-1);null!=
this.bk?this.bk.clear(!1):this.bk=new c.ha(0);this.bk.zb(10);this.hb.clear();this.hb.Lp(new d(this));b=0;for(h*=2;0<this.Yt&&b<h;b++)if(f=this.Gi.get(b),f=this.Hi.get(f),0==(f&1)){f>>=1;e=this.Kf.read(2*f+1);if(e!=this.Dp&&0!=a.size){if(!this.lu(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.Dp=e}return 0<this.Yt&&!this.lu(a)?0:this.Zl?0==this.se.Ji&&this.PF()?2:0:0==this.se.Ji?2:1};h.prototype.yJ=function(a){if(1==a.size)return!0;for(var b=0,d=a.size;b<d;b++){var f=a.get(b);this.tg.Tb(f);var e=this.tg.Mi();
this.ib.push(this.Kv(e,f,this.tg.Ta,!0));this.tg.ba();e=this.tg.ba();this.ib.push(this.Kv(e,f,this.tg.Ta,!1))}var h=this;this.ib.sort(function(a,b){return h.sR(a,b)});f=this.Ih.De;-1==f&&(f=this.Ih.ni(0));this.Ih.ao(this.ib.length);b=0;for(d=this.ib.length;b<d;b++)this.Ih.addElement(f,b);for(var b=!0,k=d=-1;b;){b=!1;e=this.Ih.wc(f);if(-1==e)break;for(var q=this.Ih.nb(e);-1!=q;){d=this.Ih.getData(e);k=this.Ih.getData(q);d=this.ib[d].Bp;k=this.ib[k].Bp;if(d==k)if(b=!0,this.Ih.jd(f,e),e=this.Ih.Se(q),
q=this.Ih.jd(f,q),-1==q||-1==e)break;else continue;e=q;q=this.Ih.nb(e)}}b=this.Ih.Zs(f);this.Ih.QF(f);if(0<b)return this.se=new c.Yd(5,d,k),!1;b=0;for(d=a.size;b<d;b++)this.YB(this.ib[b]);this.ib.length=0;return!0};h.prototype.lu=function(a){for(var b=0,d=a.size;b<d;b++){var f=a.get(b),e=this.Ir.read(f);if(-1!=e){var h=this.hb.ia(e);this.bk.add(h);this.hb.Jd(e,-1);this.YB(this.ib[h]);this.ib[h]=null;this.Ir.write(f,-1)}e=this.ux.read(f);-1!=e&&(h=this.hb.ia(e),this.bk.add(h),this.hb.Jd(e,-1),this.YB(this.ib[h]),
this.ib[h]=null,this.ux.write(f,-1))}b=0;for(d=a.size;b<d;b++){f=a.get(b);this.tg.Tb(f);e=this.tg.Mi();if(e.ra>e.oa){var k=this.tg.Db(),q=this.Kv(e,f,this.tg.Ta,!0);0<this.bk.size?(h=this.bk.Ec(),this.bk.Mf(),this.ib[h]=q):(h=this.ib.length,this.ib.push(q));e=this.hb.addElement(h,-1);-1==this.Ir.read(k)?this.Ir.write(k,e):this.ux.write(k,e);0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(e)}this.tg.ba();e=this.tg.ba();e.ra<e.oa&&(k=this.tg.Lk(),q=this.Kv(e,f,this.tg.Ta,!1),0<this.bk.size?(h=this.bk.Ec(),
this.bk.Mf(),this.ib[h]=q):(h=this.ib.length,this.ib.push(q)),e=this.hb.addElement(h,-1),-1==this.Ir.read(k)?this.Ir.write(k,e):this.ux.write(k,e),0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(e))}b=0;for(d=this.Hn.size;b<d&&0<this.Yt;b++)if(e=this.Hn.get(b),0==(this.np.read(this.ib[this.hb.ia(e)].rB)&3)){a=-1;for(var f=this.hb.Se(e),g=e,q=null,h=-1,p=0;-1!=f;){h=this.hb.ia(f);q=this.ib[h];h=q.rB;p=this.np.read(h);if(0!=(p&3))break;g=f;f=this.hb.Se(f)}-1==f?(k=1,f=g):(a=1==(p&3)?h:this.sB.read(h),
k=0!=q.ZG()?0:1,f=this.hb.nb(f));do{h=this.hb.ia(f);q=this.ib[h];h=q.rB;g=this.np.read(h);if(0==(g&3)){if(k!=q.ZG())return this.se=new c.Yd(6,h,-1),!1;p=0==k||q.mn()?2:1;g=g&252|p;this.np.write(h,p);if(2==p&&0==this.se.Ji&&this.sB.read(h)!=a&&(this.se=new c.Yd(7,h,-1),this.Zl))return!1;this.Yt--;if(0==this.Yt)return!0}1==(g&3)&&(a=h);g=f;f=this.hb.nb(f);k=0!=k?0:1}while(g!=e)}null!=this.Hn?this.Hn.clear(!1):this.Hn=new c.ha(0);return!0};h.prototype.Kv=function(a,b,d,f){if(322==a.G())a=this.OQ(a);
else throw c.g.za();a.Bp=b;a.rB=d;a.nr=0;a.MX(f);return a};h.prototype.OQ=function(a){var b;0<this.jp.length?(b=this.jp[this.jp.length-1],--this.jp.length,a.copyTo(b.Ie)):(b=new e,b.Ie=c.iE.me(a));return b};h.prototype.YB=function(a){322==a.Ie.G()&&this.jp.push(a)};h.prototype.EV=function(){for(var a=this.Y.D(),b=new c.ha(0),d=0;d<a;d++)b.add(d);var f=this;b.Fd(0,a,function(a,b){return f.Gv(a,b)});for(d=1;d<a;d++)if(0==this.Gv(b.get(d-1),b.get(d)))return this.se=new c.Yd(3,b.get(d-1),b.get(d)),0;
return 2};h.prototype.mW=function(){return this.NF()?this.MF(!0)?2:0:0};h.prototype.kW=function(){return this.DA()};h.prototype.FV=function(){for(var a=this.Y.D(),b=new c.ha(0),d=0;d<a;d++)b.add(d);var f=this;b.Fd(0,a,function(a,b){return f.oQ(a,b)});var e=Array(a);c.J.Ov(e,!1);e[b.get(0)]=!0;for(d=1;d<a;d++){var h=b.get(d-1),k=b.get(d);0==this.Gv(h,k)?e[k]=!1:e[k]=!0}for(var b=this.Y.Ka(),h=this.Y,k=0,g=1,d=0;d<a;d++)e[d]?g=d+1:(k<g&&b.Hd(h,k,g),k=d+1);k<g&&b.Hd(h,k,g);b.Xg(2,this.vp);return b};
h.prototype.nW=function(){var a=this.Y,b=a.Fa(),d=a.Fa(),f=this.Y.Ka(),e=this.Y,h=a.hasAttribute(1),k=h?c.na.GF(this.lh,a,!0):0,g=new c.ha(0),p=new c.ha(0);g.zb(c.J.truncate(a.D()/2+1));for(p.zb(c.J.truncate(a.D()/2+1));b.Ya();)if(d.Ya(),!(2>a.La(b.Ta))){d.eX();for(var l,m,n=!0;b.Ea();){var u=b.ba(),t=d.Mi();if(b.Db()>d.Db())break;n&&(g.add(b.Db()),p.add(d.Lk()),n=!1);m=g.Ec();var w=b.Lk();if(1<w-m){var x=new c.b;x.xc(a.Ba(m),a.Ba(w));l=x.length()}else l=u.Rb();m=p.Ec();w=d.Db();1<w-m?(x=new c.b,
x.xc(a.Ba(m),a.Ba(w)),m=x.length()):m=t.Rb();l>this.vp?g.add(b.Lk()):h&&(l=a.Wc(1,g.Ec(),0),u=u.Ms(1,0),Math.abs(u-l)>k&&g.add(b.Lk()));m>this.vp?p.add(d.Db()):h&&(l=a.Wc(1,p.Ec(),0),u=t.Ms(1,0),Math.abs(u-l)>k&&p.add(d.Db()))}g.Ec()<p.Ec()?g.size>p.size?g.Mf():p.Mf():(g.Ec()!=p.Ec()&&p.Mf(),p.Mf());if(2<=p.size+g.size){n=new c.Wa;t=0;for(u=g.size;t<u;t++)e.xe(g.get(t),n),0==t?f.Of(n):f.lineTo(n);for(t=p.size-1;0<t;t--)e.xe(p.get(t),n),f.lineTo(n);e.Qb(b.Ta)?f.sq():0<p.size&&(e.xe(p.get(0),n),f.lineTo(n))}null!=
g&&g.clear(!1);null!=p&&p.clear(!1)}f.Xg(2,this.vp);return f};h.prototype.lW=function(){return this.bY()};h.prototype.bY=function(){if(1736==this.Y.G()&&1==this.Y.Eo())return c.Cg.ql(this.Y,this.vp,!0,!1,this.ie);this.hj=new c.ed;this.hj.Jb(this.Y);0!=this.hj.ud&&(1!=this.gB&&c.vk.V(this.hj,this.vp,this.ie,!0),1736==this.Y.G()&&c.so.V(this.hj,this.hj.qd,this.gB,!1,this.ie));this.Y=this.hj.Pe(this.hj.qd);1736==this.Y.G()&&(this.Y.Fl(),this.Y.Op(0));this.Y.Xg(2,this.vp);return this.Y};h.dc=function(a,
b,d){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return d=new c.h,a.s(d),d.eh(c.na.$g(b,a,!1))?0:1;if(c.T.Nc(f))throw c.g.za();if(!c.T.fh(f))throw c.g.za();var f=c.na.$g(b,a,!1),e=a.Nk(f);d=d?-1:e;if(-1!=d)return d;1==d&&(f=0);d=(new h(a,b,d,0,!1)).DA();a.Xg(d,f);return d};h.Wq=function(a,b,d,f,e){null!=f&&(f.Ji=0,f.qm=-1,f.rm=-1);if(a.u())return 1;var k=a.G();if(33==k)return 1;var q=c.na.$g(b,a,!1);if(197==k)return b=new c.h,a.s(b),b.eh(q)?(null!=f&&(f.Ji=2,f.qm=-1,f.rm=-1),0):1;if(c.T.Nc(k))return q=
new c.Ua(a.description),q.cc(a,!0),h.Wq(q,b,d,f,e);e=a.Nk(q);d=d?-1:e;if(-1!=d)return d;b=new h(a,b,d,0,!1);if(550==k)d=b.EV();else if(1607==k)d=b.mW();else if(1736==k)d=b.kW();else throw c.g.za();a.Xg(d,q);null!=f&&0==d&&f.ls(b.se);return d};h.tb=function(a,b,d,f,e){null!=f&&(f.Ji=0,f.qm=-1,f.rm=-1);if(a.u())return 1;var k=a.G();if(33==k)return 1;var q=c.na.$g(b,a,!1);if(197==k)return b=new c.h,a.s(b),b.eh(q)?(null!=f&&(f.Ji=2,f.qm=-1,f.rm=-1),0):1;if(c.T.Nc(k))return k=new c.Ua(a.description),k.cc(a,
!0),h.Wq(k,b,d,f,e);a=new h(a,b,-1,0,!0);if(550==k||1607==k||1736==k)b=a.DA();else throw c.g.za();null!=f&&f.ls(a.se);return b};h.HK=function(a,b,d,f){if(a.u())return a;var e=a.G();if(33==e)return a;var k=c.na.$g(b,a,!1);if(197==e)return b=new c.h,a.s(b),b.eh(k)?a.Ka():a;if(c.T.Nc(e))return e=new c.Ua(a.description),e.cc(a,!0),h.HK(e,b,d,f);f=a.Nk(k);d=d?-1:f;if(2==d)return a;a=new h(a,b,d,0,!1);if(550==e)a=a.FV();else if(1607==e)a=a.nW();else if(1736==e)a=a.lW();else throw c.g.za();return a};h.GC=
function(a,b,d,f){if(a.u())return a;var e=a.G();if(33==e)return a;var k=c.na.$g(b,a,!1);if(197==e)return b=new c.h,a.s(b),b.eh(k)?a.Ka():a;if(c.T.Nc(e))return k=new c.Ua(a.description),k.cc(a,!0),h.GC(k,b,d,f);if(!c.T.fh(e))throw c.g.X("OGC simplify is not implemented for this geometry type "+e);return c.Cg.GC(a,k,!1,f)};h.prototype.li=function(a,b,d){if(a==b)return 0;a=this.Hi.get(a);var f=this.Hi.get(b);b=a>>1;var e=f>>1,h=new c.b,k=new c.b;this.Kf.fc(2*b,h);h.y+=0!=(a&1)?this.lk:-this.lk;this.Kf.fc(2*
e,k);k.y+=0!=(f&1)?this.lk:-this.lk;a=h.compare(k);return 0==a&&d?(d=this.nm.get(b)-this.nm.get(e),0>d?-1:0<d?1:0):a};h.prototype.Gv=function(a,b){if(a==b)return 0;var d=this.Y,f=d.Ba(a),e=d.Ba(b);if(f.x<e.x)return-1;if(f.x>e.x)return 1;if(f.y<e.y)return-1;if(f.y>e.y)return 1;for(f=1;f<this.TU;f++)for(var e=this.mI.pd(f),h=c.ma.Xa(e),k=0;k<h;k++){var q=d.Wc(e,a,k),r=d.Wc(e,b,k);if(q<r)return-1;if(q>r)return 1}return 0};h.prototype.oQ=function(a,b){var d=this.Gv(a,b);return 0==d?a<b?-1:1:d};h.prototype.sR=
function(a,b){if(a===b)return 0;var d=a.Ie.Dg(a.mn()?1:0);a.mn()&&d.Kr();a=b.Ie.Dg(b.mn()?1:0);b.mn()&&a.Kr();b=d.ev();var f=a.ev();return f==b?(b=d.Vi(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*d.y)+Math.abs(a.y*d.x))&&(b--,b++),0>b?1:0<b?-1:0):b<f?-1:1};return h}();c.py=h})(u||(u={}));(function(c){var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=function(){return 30};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=
function(a,b,f,e){return a instanceof c.T?(a=new c.gd(a),b=new c.gd(b),this.V(a,b,f,e).next()):new c.VM(a,b,f,e)};b.Wp=function(a,d,f,e){var h=a.ub(),q=d.ub();if(a.u()&&d.u())return h>q?a:d;if(a.u())return d;if(d.u())return a;var r=new c.h,g=new c.h,p=new c.h;a.s(r);d.s(g);p.I(r);p.Nb(g);r=c.na.$d(f,p,!0);g=a.G();p=d.G();return 33==g&&33==p?b.Om(a,d,r):g!=p?0<h||0<q?h>q?a:d:550==g?b.ye(a,d,r):b.ye(d,a,r):c.Cg.Wp(a,d,f,e)};b.Om=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var d=a.w(),e=b.w(),q=new c.Dd(a.description);
c.b.sc(d,e)>f&&(q.add(a),q.add(b));return q};b.ye=function(a,b,f){var d=a.Qa(0),e=a.D(),q=b.w(),r=a.Ka();f=f*Math.sqrt(2)*1.00001;var g=new c.h;a.s(g);g.P(f,f);if(g.contains(q)){f*=f;for(var g=!1,p=[],l=0;l<e;l++)p[l]=!1;for(l=0;l<e;l++){var m=d.read(2*l),n=d.read(2*l+1),m=m-q.x,n=n-q.y;m*m+n*n<=f&&(g=!0,p[l]=!0)}if(g)for(l=0;l<e;l++)p[l]||r.Hd(a,l,l+1);else r.Hd(a,0,e),r.add(b)}else r.Hd(a,0,e),r.add(b);return r};b.N=null;return b}(c.bf);c.qy=e})(u||(u={}));(function(c){var e=function(){function e(b,
a,d,f){this.qt=null==a;this.Ca=-1;this.ge=b;this.Pg=d;this.oV=a.next();this.mc=f}e.prototype.next=function(){if(this.qt)return null;var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),c.qy.Wp(b,this.oV,this.Pg,this.mc)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Oe=function(){return!0};return e}();c.VM=e})(u||(u={}));(function(c){var e=function(){function a(){}a.prototype.kw=function(){this.Kz=null;this.gy=-1;this.eL=!1};return a}(),g=function(){function a(){this.Cs=0;this.Tj=
[]}a.prototype.NO=function(a){this.Cs+=a.gy;this.Tj.push(a)};a.prototype.oW=function(){this.Cs-=this.Tj[this.Tj.length-1].gy;--this.Tj.length};a.prototype.Qy=function(){return this.Tj[this.Tj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,c){this.Ca=-1;this.Oc=!1;this.CI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.VA=!1;this.dl=-1;this.Yq=0;this.Xo=-1;this.xp=[];this.ge=a;this.Pg=b;this.mc=c}a.tb=function(a){var b=[],d=0;for(a=Object.keys(a);d<a.length;d++)b.push(Number(a[d]));
b.sort(function(a,b){return a-b});return b};a.prototype.iH=function(b){var d=this.xp[b],e=a.tb(d)[0],k=d[e],q=k.Qy().Kz,k=k.Qy().eL;delete d[e];k&&(q=c.Qm.local().V(q,this.Pg,!1,this.mc),0==b&&33==q.G()&&(b=new c.Dd(q.description),q.u()||b.add(q),q=b));return q};a.prototype.next=function(){if(this.Oc&&this.Xo==this.dl)return null;for(;!this.RK(););if(-1==this.dl)return null;if(this.VA){for(this.Xo++;;){if(this.Xo>this.dl||0>this.Xo)throw c.g.za();if(this.CI[this.Xo])break}this.Ca++;return this.iH(this.Xo)}this.Ca=
0;this.Xo=this.dl;return this.iH(this.dl)};a.prototype.Ia=function(){return this.Ca};a.prototype.RK=function(){if(this.Oc)return!0;var a=null;null!=this.ge&&(a=this.ge.next(),null==a&&(this.Oc=!0,this.ge=null));if(null!=a){var b=a.ub();this.CI[b]=!0;b>=this.dl&&!this.VA&&(this.eF(b,!1,a),b>this.dl&&!this.VA&&this.aX(b))}if(0<this.Yq)for(b=0;b<=this.dl;b++)for(;1<this.jr[b];)if(a=this.eQ(b),0!=a.length)a=c.Cg.nR(a,this.Pg,this.mc),this.eF(b,!0,a);else break;return this.Oc};a.prototype.eQ=function(b){for(var d=
[],c=[],e=this.xp[b],q=a.tb(e),r=0;r<q.length;r++){var g=q[r],p=e[g];if(this.Oc||1E4<p.Cs&&1<p.Tj.length){this.jr[b]-=p.Tj.length;for(this.Yq-=p.Tj.length;0<p.Tj.length;)d.push(p.Qy().Kz),p.oW();c.push(g)}}for(r=0;r<c.length;r++)delete e[c[r]];return d};a.prototype.aX=function(a){for(var b=0;b<a;b++)this.xp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.eF=function(b,f,c){var d=new e;d.kw();d.Kz=c;c=a.lf(c);d.gy=c;c=a.ye(c);if(b+1>this.xp.length)for(var h=0,r=Math.max(2,b+1);h<r;h++)this.xp.push([]);
h=this.xp[b][c];void 0===h&&(h=new g,this.xp[b][c]=h);d.eL=f;h.NO(d);this.jr[b]++;this.Yq++;this.dl=Math.max(this.dl,b)};a.ye=function(a){return 0<a?c.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.lf=function(a){var b=a.G();if(c.T.fh(b))return a.D();if(33==b)return 1;if(197==b)return 4;if(c.T.Nc(b))return 2;throw c.g.za();};a.prototype.Oe=function(){return this.RK()};return a}();c.XM=b})(u||(u={}));(function(c){var e=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}da(b,e);b.prototype.G=
function(){return 1};b.prototype.V=function(a,b,f,e){return void 0===e?new c.XM(a,b,f):this.xR(a,b,f,e)};b.prototype.xR=function(a,b,f,e){a=new c.gd([a,b]);return this.V(a,f,e).next()};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(c.bf);c.ei=e})(u||(u={}));(function(c){var e;(function(c){c[c.nextPath=0]="nextPath";c[c.nextSegment=1]="nextSegment";c[c.iterate=2]="iterate"})(e||(e={}));e=function(){function e(b,a,d,f){this.Qt=new c.h;this.hV=b;this.iV=a;this.br=f;this.op=
-1;this.$l=!1;var e=b.ob;null!=e&&(e=f?e.tp:e.Mb,null!=e&&(this.Oc=!1,this.ta=d,this.Mb=e,this.lx=this.Mb.jf(),this.cr=this.$l=!0,this.Zb=0,f?this.op=a.aa():this.Bd=a.Fa()));this.$l||(e=a.ob,null!=e&&(e=f?e.tp:e.Mb,null!=e&&(this.Oc=!1,this.ta=d,this.Mb=e,this.lx=this.Mb.jf(),this.$l=!0,this.cr=!1,this.Zb=0,f?this.op=b.aa():this.Bd=b.Fa())));this.$l||(this.Di=f?c.na.ES(b,a,d,1<=b.Nk(0),1<=a.Nk(0)):c.na.DS(b,a,d))}e.prototype.next=function(){if(this.$l){if(this.Oc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=
this.MV();break;case 1:b=this.NV();break;case 2:b=this.FA();break;default:throw c.g.X("internal error");}return this.Oc?!1:!0}return null==this.Di?!1:this.Di.next()};e.prototype.Vl=function(){return this.$l?this.cr?this.Mb.ia(this.Dt):this.br?this.op:this.Bd.Db():this.Di.Vl(this.Di.rg)};e.prototype.Rl=function(){return this.$l?this.cr?this.br?this.op:this.Bd.Db():this.Mb.ia(this.Dt):this.Di.Rl(this.Di.$f)};e.prototype.hA=function(){if(!this.br)throw c.g.X("internal error");return this.$l?this.cr?
this.Mb.JG(this.Dt):this.Qt:this.Di.hA(this.Di.rg)};e.prototype.Lz=function(){if(!this.br)throw c.g.X("internal error");return this.$l?this.cr?this.Qt:this.Mb.JG(this.Dt):this.Di.Lz(this.Di.$f)};e.prototype.MV=function(){if(!this.br){if(!this.Bd.Ya())return this.Oc=!0,!1;this.Zb=1;return!0}if(-1==--this.op)return this.Oc=!0,!1;this.cr?this.iV.nk(this.op,this.Qt):this.hV.nk(this.op,this.Qt);this.lx.Oi(this.Qt,this.ta);this.Zb=2;return!0};e.prototype.NV=function(){if(!this.Bd.Ea())return this.Zb=0,
!0;var b=this.Bd.ba();this.lx.bo(b,this.ta);this.Zb=2;return!0};e.prototype.FA=function(){this.Dt=this.lx.next();return-1==this.Dt?(this.Zb=this.br?0:1,!0):!1};return e}();c.Rm=e})(u||(u={}));(function(c){c=c.eN||(c.eN={});c[c.enumClosed=1]="enumClosed";c[c.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";c[c.enumOGCStartPolygon=4]="enumOGCStartPolygon";c[c.enumCalcMask=4]="enumCalcMask"})(u||(u={}));(function(c){var e=function(){function e(){}e.Cb=function(b,a,d,f,h,k,q,r,g){var v=[0,0,0],
p=[0,0,0],l=[0,0,0],m=[0,0,0,0],n=new c.da(0),u=new c.da(0),t=new c.da(0);if(null!=q||null!=r||null!=g)if(c.l.Ri(a))c.uh.Cb(b,d,f,h,k,q,r,g);else{h=c.C.ca(h);d=c.C.ca(d);var w=c.C.ca(h-d);if(c.l.W(f,k)&&(c.l.W(d,h)||c.l.W(c.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=r&&(r.j=0),null!=g&&(g.j=0);else{if(c.l.W(f,-k)){if(c.l.W(c.l.K(f),1.570796326794897)){null!=q&&(q.j=2*c.C.Wg(b,a));null!=r&&(r.j=0<f?c.C.ca(3.141592653589793-c.C.ca(h)):c.C.ca(h));null!=g&&(g.j=0<f?c.C.ca(h):c.C.ca(3.141592653589793-
c.C.ca(h)));return}c.l.W(c.l.K(w),3.141592653589793)&&(null!=q&&(q.j=2*c.C.Wg(b,a)),null!=r&&(r.j=0),null!=g&&(g.j=0))}else{if(c.l.W(c.l.K(f),1.570796326794897)||c.l.W(c.l.K(k),1.570796326794897)){c.Cl.Cb(b,a,d,f,h,k,q,r,g);return}if(c.l.W(d,h)||c.l.W(c.l.K(w),3.141592653589793)){c.Cl.Cb(b,a,d,f,h,k,q,r,g);return}if(c.l.wd(f)){c.Cl.Cb(b,a,d,f,h,k,q,r,g);return}}var x=Math.sqrt(1-a);h=c.C.ca(h-d);d=0;c.C.Fk(1,a,f,d,0,n,u,t);v[0]=n.j;v[1]=u.j;v[2]=t.j;c.C.Fk(1,a,k,h,0,n,u,t);p[0]=n.j;p[1]=u.j;p[2]=
t.j;l[0]=0;l[1]=0;l[2]=-1*a*c.C.n(1,a,f)*Math.sin(f);0>h?c.C.Nr(l,p,v,m,0):c.C.Nr(l,v,p,m,0);for(var u=[0,0,0],t=[0,0,0],y=[0,0,0],v=[0,0,0],n=[0,0,0],A=Math.acos(m[2]/1),B=1-a,z=Math.tan(A),C=1+z*z/B,D=2*l[2]*z/B,z=Math.sqrt(D*D-4*C*(l[2]*l[2]/B-1)),C=2*C,B=(-D+z)/C,D=(-D-z)/C,z=Math.tan(A),C=z*B+l[2],A=(B+D)/2,l=(C+(z*D+l[2]))/2,z=c.C.Zp(B-A,C-l),B=l/x*1.570796326794897,D=0;100>D;D++){C=c.C.Hm(a,B);C=C*C/Math.cos(B)*(Math.sin(B)-l*C/(1*(1-a)));if(c.l.wd(C))break;B-=C}var l=c.C.n(1,a,B)*Math.cos(B),
l=Math.sqrt((l-A)*(l+A)),z=1-z/l,z=z*(2-z),C=c.C.lo(u),A=c.C.lo(t),B=c.C.lo(y),P=c.C.Gu(y,u),D=c.C.Gu(y,t);c.C.fy(y,u,v);c.C.fy(y,t,n);u=Math.acos(P/(B*C));t=Math.acos(D/(B*A));t*=c.l.Bb(1,c.C.Gu(v,n));if(1.570796326794897<=c.l.K(u)&&1.570796326794897<=c.l.K(t)||3.141592653589793<c.l.K(u-t))u=(3.141592653589793-c.l.K(u))*c.l.Bb(1,u),t=(3.141592653589793-c.l.K(t))*c.l.Bb(1,t);v=c.C.mk(z,t);n=c.C.q(l,z,c.C.mk(z,u));v=c.C.q(l,z,v);v=c.l.K(v-n)*b;u=new c.da(0);t=new c.da(0);y=m[1]/1;y*=-c.l.Bb(1,w);n=
Math.acos(y)*c.l.Bb(1,w);e.Rf(b,a,d,f,v,n,u,t);c.l.W(h,u.j)&&c.l.W(k,t.j)||(z=c.C.Zp(c.C.ca(h-u.j),k-t.j),e.Rf(b,a,d,f,v,c.C.ca(n+3.141592653589793),u,t),C=c.C.Zp(c.C.ca(h-u.j),k-t.j),C<z&&(n=c.C.ca(n+3.141592653589793)));u=[0,0,0,0];t=[0,0,0,0];l=[0,0,0];z=[0,0,0];b=[0,0,0];d=[0,0,0];f=[0,0,0];y=[0,0,0];l[0]=0;l[1]=0;l[2]=x;z[0]=0;z[1]=0;z[2]=0;c.C.Nr(z,l,p,u,0);c.l.wd(k)?(b[0]=p[0],b[1]=p[1],b[2]=1,d[0]=1*Math.cos(h)-1*Math.sin(h),d[1]=1*Math.sin(h)+1*Math.cos(h)):(a=c.C.n(1,a,k)*Math.cos(k),b[0]=
0,b[1]=0,p[2]+=Math.tan(1.570796326794897-c.l.K(k))*a*c.l.Bb(1,k),d[0]=a*Math.cos(h)-a*Math.sin(h),d[1]=a*Math.sin(h)+a*Math.cos(h));d[2]=p[2];c.C.Nr(p,d,b,t,1);c.C.fy(t,u,f);c.C.fy(t,m,y);y=c.C.Gu(f,y)/(c.C.lo(f)*c.C.lo(y));y*=c.l.Bb(1,w);h=Math.acos(y)*-c.l.Bb(1,w);0<n&&0<h?h=c.C.ca(h+3.141592653589793):0>n&&0>h&&(h=c.C.ca(h+3.141592653589793));null!=q&&(q.j=v);null!=r&&(r.j=n);null!=g&&(g.j=h)}}};e.Rf=function(b,a,d,f,e,k,q,r){var h=[0,0,0],g=[0,0,0],p=[0,0,0],l=[0,0,0],m=[0,0,0],n=[0,0,0],u=[0,
0,0],t=[0,0,0,0],w=new c.da(0),x=new c.da(0),y=new c.da(0),A=new c.da(0),z=new c.da(0),B=new c.da(0);if(null!=q&&null!=r)if(c.l.Ri(a))c.uh.Rf(b,d,f,e,k,q,r);else if(c.l.wd(e))null!=q&&(q.j=d),null!=r&&(r.j=f);else if(k=c.C.ca(k),0>e&&(e=c.l.K(e),k=c.C.ca(k+3.141592653589793)),d=c.C.ca(d),f=c.C.ca(f),1.570796326794897<c.l.K(f)&&(d=c.C.ca(d+3.141592653589793),f=c.l.Bb(3.141592653589793,f)-f),c.l.W(c.l.K(f),1.570796326794897)||c.l.wd(f)||c.l.wd(k)||c.l.W(c.l.K(k),3.141592653589793))c.Cl.Rf(b,a,d,f,e,
k,q,r);else{var C=Math.sqrt(1-a);b=e/b;c.C.Fk(1,a,f,0,0,A,z,B);h[0]=A.j;h[1]=z.j;h[2]=z.j;u[0]=0;u[1]=0;u[2]=-1*a*c.C.n(1,a,f)*Math.sin(f);A=c.C.n(1,a,f);z=c.C.ca(1.570796326794897-k);B=Math.sin(z);e=Math.cos(f);f=Math.sin(f);m[0]=A*e-f*B;m[1]=Math.cos(z);m[2]=(1-a)*A*f+e*B;0>k?c.C.Nr(u,m,h,t,0):c.C.Nr(u,h,m,t,0);h=Math.acos(t[2]/1);t=Math.atan2(-t[1],-t[0]);f=1-a;m=Math.tan(h);z=1+m*m/f;A=2*u[2]*m/f;m=Math.sqrt(A*A-4*z*(u[2]*u[2]/f-1));z*=2;f=(-A+m)/z;A=(-A-m)/z;m=Math.tan(h);z=m*f+u[2];h=(f+A)/
2;u=(z+(m*A+u[2]))/2;m=c.C.Zp(f-h,z-u);C=u/C*1.570796326794897;for(f=0;100>f;f++){A=c.C.Hm(a,C);A=A*A/Math.cos(C)*(Math.sin(C)-u*A/(1*(1-a)));if(c.l.wd(A))break;C-=A}C=c.C.n(1,a,C)*Math.cos(C);C=Math.sqrt((C-h)*(C+h));u=1-m/C;u*=2-u;n=Math.acos(c.C.Gu(n,g)/(c.C.lo(n)*c.C.lo(g)));n*=c.l.Bb(1,g[0]);k=(c.C.q(C,u,c.C.mk(u,n))+b*c.l.Bb(1,k))/c.C.Wg(C,u);k=c.C.ca(1.570796326794897*k);k=c.C.Ep(u,k);c.C.n(C,u,k);m=c.C.ca(t+d);d=Math.cos(m);k=Math.sin(m);p[0]=l[0]*d+l[1]*-k;p[1]=l[0]*k+l[1]*d;p[2]=l[2];c.C.GP(a,
p[0],p[1],p[2],y,x,w);null!=q&&(q.j=x.j);null!=r&&(r.j=y.j)}};return e}();c.aE=e})(u||(u={}));(function(c){var e=function(){function a(a){this.ab=null;this.ou=new c.b;this.pu=new c.b;this.a=a}a.prototype.compare=function(a,b,d){this.a.Mc(b,this.ou);this.a.Mc(a.ia(d),this.pu);return this.ou.compare(this.pu)};return a}(),g=function(){function a(a){this.ag=new c.b;this.hl=new c.b;this.a=a}a.prototype.Zh=function(a){this.ag.L(a)};a.prototype.compare=function(a,b){this.a.Mc(a.ia(b),this.hl);return this.ag.compare(this.hl)};
return a}(),b=function(a){function b(b){var d=a.call(this,b.a,b.ta,!1)||this;d.bb=b;return d}da(b,a);b.prototype.compare=function(a,b,d){if(this.Lg)return-1;var f=this.bb.fe.Fo(this.bb.si(b));a=a.ia(d);var c=this.bb.fe.Fo(this.bb.si(a));this.xn=d;return this.XF(b,f,a,c)};return b}(c.lE),a=function(a){function b(b){var d=a.call(this,b.a,b.ta)||this;d.bb=b;return d}da(b,a);b.prototype.compare=function(a,b){if(this.Lg)return-1;a=this.bb.fe.Fo(this.bb.si(a.ia(b)));this.xn=b;return this.YF(b,a)};return b}(c.AN),
d=function(){function d(){this.Sc=this.Ef=this.cp=this.fe=this.Hh=this.Md=this.ib=this.a=null;this.hh=!1;this.Uh=this.Gn=this.Ce=this.jl=this.Jh=this.el=this.eg=this.te=null;this.Wh=this.zr=this.DB=this.ta=0;this.Kw=this.Ro=!1;this.sp=new c.b;this.pj=new c.b;this.ib=new c.Zc(8);this.Md=new c.Zc(5);this.Hh=new c.Nu;this.fe=new c.Nu;this.hh=!1;this.Uh=new c.b;this.Uh.ja(0,0);this.ta=0;this.Wh=-1;this.Ro=!1;this.a=null;this.Ef=new c.xk;this.Sc=new c.xk;this.Jh=new c.ha(0);this.jl=new c.jE;this.eg=new c.ha(0);
this.el=new c.ha(0);this.cp=new c.Wa}d.prototype.mY=function(a,b){var d=new c.Gd;d.AC();a.Vc(d);this.Xr(a);this.Ro=!1;this.ta=b;this.DB=b*b;b=this.JC();a.Vc(d);b||(this.JR(),b||this.JC());-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null;return this.Ro};d.prototype.qY=function(a,b){this.Xr(a);this.Ro=!1;this.ta=b;this.DB=b*b;this.hh=!1;this.JC();this.hh||(this.hh=1==a.zq(b,!0,!1));-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null};d.prototype.Ig=function(a,b){return this.ib.S(a,0+b)};
d.prototype.oC=function(a,b,d){this.ib.R(a,0+b,d)};d.prototype.si=function(a){return this.ib.S(a,2)};d.prototype.yX=function(a,b){this.ib.R(a,2,b)};d.prototype.UG=function(a,b){return this.ib.S(a,3+b)};d.prototype.Jq=function(a){return this.ib.S(a,7)};d.prototype.zm=function(a,b){this.ib.R(a,7,b)};d.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};d.prototype.Yr=function(a,b,d){this.ib.R(a,3+this.Iq(a,b),d)};d.prototype.gT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};d.prototype.$r=
function(a,b,d){this.ib.R(a,5+this.Iq(a,b),d)};d.prototype.Ls=function(a){return this.Md.S(a,0)};d.prototype.vX=function(a,b){this.Md.R(a,0,b)};d.prototype.Pz=function(a){return this.Md.S(a,4)};d.prototype.Ur=function(a,b){this.Md.R(a,4,b)};d.prototype.Sl=function(a){return this.Md.S(a,1)};d.prototype.io=function(a,b){this.Md.R(a,1,b)};d.prototype.Oz=function(a){return this.Md.S(a,3)};d.prototype.vu=function(a,b){this.Md.R(a,3,b)};d.prototype.Sn=function(a){var b=this.Md.Me(),d=this.Hh.ni();this.vX(b,
d);-1!=a?(this.Hh.addElement(d,a),this.a.Va(a,this.Wh,b),this.Ur(b,this.a.Za(a))):this.Ur(b,-1);return b};d.prototype.aR=function(a){this.Md.jd(a)};d.prototype.cF=function(a,b){this.Hh.addElement(this.Ls(a),b);this.a.Va(b,this.Wh,a)};d.prototype.eu=function(a){var b=this.ib.Me(),d=this.fe.ni();this.yX(b,d);-1!=a&&this.fe.addElement(d,a);return b};d.prototype.dF=function(a,b){this.fe.addElement(this.si(a),b)};d.prototype.Mv=function(a){this.ib.jd(a);a=this.Jh.Pv(a);0<=a&&this.Jh.vJ(a)};d.prototype.Nj=
function(a,b){if(-1==this.Ig(a,0))this.oC(a,0,b);else if(-1==this.Ig(a,1))this.oC(a,1,b);else throw c.g.za();this.Oy(a,b)};d.prototype.Oy=function(a,b){var d=this.Sl(b);if(-1!=d){var f=this.Kq(d,b);this.$r(f,b,a);this.Yr(a,b,f);this.Yr(d,b,a);this.$r(a,b,d)}else this.$r(a,b,a),this.Yr(a,b,a),this.io(b,a)};d.prototype.Iq=function(a,b){return this.Ig(a,0)==b?0:1};d.prototype.Rn=function(a,b){var d=this.Oz(b);-1!=d&&(this.Ef.Jd(d,-1),this.vu(b,-1));var f,d=this.Sl(b);if(-1!=d){var c=f=d,e;do{e=!1;var h=
this.Iq(f,b),k=this.UG(f,h);if(this.Ig(f,h+1&1)==a){this.Nv(f);this.fe.zh(this.si(f));this.Mv(f);if(f==k){d=-1;break}d==f&&(d=this.Sl(b),c=k,e=!0)}f=k}while(f!=c||e);if(-1!=d){do h=this.Iq(f,b),k=this.UG(f,h),this.oC(f,h,a),f=k;while(f!=c);f=this.Sl(a);-1!=f?(c=this.Kq(f,a),e=this.Kq(d,a),c==f?(this.io(a,d),this.Oy(f,a),this.io(a,f)):e==d&&this.Oy(d,a),this.Yr(d,a,c),this.$r(c,a,d),this.Yr(f,a,e),this.$r(e,a,f)):this.io(a,d)}}d=this.Ls(a);f=this.Ls(b);for(c=this.Hh.wc(f);-1!=c;c=this.Hh.nb(c))this.a.Va(this.Hh.ia(c),
this.Wh,a);this.Hh.kz(d,f);this.aR(b)};d.prototype.xV=function(a,b){var d=this.Ig(a,0),f=this.Ig(a,1),c=this.Ig(b,0),e=this.Ig(b,1);this.fe.kz(this.si(a),this.si(b));b==this.Sl(d)&&this.io(d,a);b==this.Sl(f)&&this.io(f,a);this.Nv(b);this.Mv(b);d==c&&f==e||f==c&&d==e||(this.Do(d,this.sp),this.Do(c,this.pj),this.sp.vb(this.pj)?(d!=c&&this.Rn(d,c),f!=e&&this.Rn(f,e)):(f!=c&&this.Rn(f,c),d!=e&&this.Rn(d,e)))};d.prototype.Nv=function(a){var b=this.Ig(a,1);this.jG(a,this.Ig(a,0));this.jG(a,b)};d.prototype.jG=
function(a,b){var d=this.Kq(a,b),f=this.gT(a,b),c=this.Sl(b);d!=a?(this.Yr(f,b,d),this.$r(d,b,f),c==a&&this.io(b,d)):this.io(b,-1)};d.prototype.kF=function(a,b,d){var f=this.fe.wc(a),c=this.fe.ia(f);a=this.ff(c);var e=this.ff(this.a.U(c));this.a.as(c,b,d,!0);for(f=this.fe.nb(f);-1!=f;f=this.fe.nb(f)){var c=this.fe.ia(f),h=this.ff(c)==a;this.a.as(c,b,d,h)}f=b.Mq(d,0).ec();b=b.Mq(d,b.Wl(d)-1).Ac();this.fL(a,f);this.fL(e,b)};d.prototype.dG=function(a,b,d){var f=this.si(a),c=this.Ig(a,0),e=this.Ig(a,
1),h=this.eu(-1);this.Jh.add(h);this.zm(h,-3);this.eg.add(h);this.Nj(h,c);a=1;for(b=b.Wl(d);a<b;a++)d=this.Sn(-1),this.el.add(d),this.eg.add(d),this.Nj(h,d),h=this.eu(-1),this.Jh.add(h),this.zm(h,-3),this.eg.add(h),this.Nj(h,d);this.Nj(h,e);for(f=this.fe.wc(f);-1!=f;f=this.fe.nb(f))if(e=this.fe.ia(f),this.ff(e)==c){a=0;do 0<a&&(h=this.eg.get(a-1),this.cF(h,e),-1==this.Pz(h)&&this.Ur(h,this.a.Za(e))),h=this.eg.get(a),a+=2,this.dF(h,e),e=this.a.U(e);while(a<this.eg.size)}else{a=this.eg.size-1;do a<
this.eg.size-2&&(h=this.eg.get(a+1),this.cF(h,e),0>this.Pz(h)&&this.Ur(h,this.a.Za(e))),h=this.eg.get(a),a-=2,this.dF(h,e),e=this.a.U(e);while(0<=a)}this.eg.clear(!1)};d.prototype.ff=function(a){return this.a.Sa(a,this.Wh)};d.prototype.zJ=function(a,b,d){var f=this.Ig(b,0),e=new c.b;this.Do(f,e);var h=new c.b,k=this.Ig(b,1);this.Do(k,h);var q=d.Wl(a),g=d.Mq(a,0),p=new c.b;g.Oq(p);if(!e.vb(p)){if(!this.hh){var l=e.compare(this.Uh),p=p.compare(this.Uh);0>l*p&&(this.hh=!0)}this.zG(f,this.eg);this.el.add(f)}!this.hh&&
1<q&&(l=e.compare(h),g=g.Ac(),e.compare(g)!=l||g.compare(h)!=l?this.hh=!0:0>g.compare(this.Uh)&&(this.hh=!0));g=d.Mq(a,q-1);a=g.Ac();h.vb(a)||(this.hh||(l=h.compare(this.Uh),p=a.compare(this.Uh),0>l*p&&(this.hh=!0)),this.zG(k,this.eg),this.el.add(k));this.eg.add(b);h=0;for(k=this.eg.size;h<k;h++)a=this.eg.get(h),d=this.Jq(a),c.Zc.EA(d)&&(this.Sc.Jd(d,-1),this.zm(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Jh.add(a),this.zm(a,-3));this.eg.clear(!1)};d.prototype.LP=function(a,b){this.te.compare(this.Sc,this.Sc.ia(a),
b);this.te.Lg&&(this.te.Es(),this.tG(a,b))};d.prototype.tG=function(a,b){this.Ro=!0;a=this.Sc.ia(a);b=this.Sc.ia(b);var d,f;f=this.fe.Fo(this.si(a));var e=this.fe.Fo(this.si(b));d=this.a.jc(f);null==d&&(null==this.Ce&&(this.Ce=new c.Hb),this.a.nd(f,this.Ce),d=this.Ce);f=this.a.jc(e);null==f&&(null==this.Gn&&(this.Gn=new c.Hb),this.a.nd(e,this.Gn),f=this.Gn);this.jl.Hp(d);this.jl.Hp(f);this.jl.Ma(this.ta,!0)&&(this.hh=!0);this.MK(a,b,-1,this.jl);this.jl.clear()};d.prototype.VR=function(a,b){this.Ro=
!0;b=this.Sc.ia(b);var d,f=this.fe.Fo(this.si(b));d=this.a.jc(f);null==d&&(null==this.Ce&&(this.Ce=new c.Hb),this.a.nd(f,this.Ce),d=this.Ce);f=this.FG(a);this.jl.Hp(d);this.a.xj(f,this.cp);this.jl.vA(this.ta,this.cp,!0);this.MK(b,-1,a,this.jl);this.jl.clear()};d.prototype.VT=function(){if(0!=this.Jh.size)for(;0!=this.Jh.size;){if(this.Jh.size>Math.max(100,this.a.ud)){this.Jh.clear(!1);this.hh=!0;break}var a=this.Jh.Ec();this.Jh.Mf();this.zm(a,-1);-1!=this.rU(a)&&this.UT(a);this.Qo=!1}};d.prototype.UT=
function(a){var b;this.Qo?(b=this.Sc.ov(this.NI,this.II,a,!0),this.Qo=!1):b=this.Sc.bF(a);-1==b?this.xV(this.Sc.ia(this.Sc.IG()),a):(this.zm(a,b),this.te.Lg&&(this.te.Es(),this.tG(this.te.xn,b)))};d.prototype.rU=function(a){var b=this.Ig(a,0);a=this.Ig(a,1);this.Do(b,this.sp);this.Do(a,this.pj);if(c.b.sc(this.sp,this.pj)<=this.DB)return this.hh=!0,-1;var d=this.sp.compare(this.Uh),f=this.pj.compare(this.Uh);return 0>=d&&0<f?a:0>=f&&0<d?b:-1};d.prototype.HR=function(){var a=new c.ha(0);a.zb(this.a.ud);
for(var b=this.a.Pr(),d=b.next();-1!=d;d=b.next())-1!=this.a.Sa(d,this.Wh)&&a.add(d);this.a.Xx(a,a.size);this.IR(a)};d.prototype.IR=function(a){this.Ef.clear();this.Ef.Ne(a.size);this.Ef.Lp(new e(this.a));var b=new c.b;b.Yc();for(var d=-1,f=new c.b,h=0,g=a.size;h<g;h++){var p=a.get(h);this.a.Mc(p,f);f.vb(b)?(p=this.a.Sa(p,this.Wh),this.Rn(d,p)):(d=this.ff(p),this.a.Mc(p,b),p=this.Ef.yo(p),this.vu(d,p))}};d.prototype.JR=function(){var a=new c.ha(0);a.zb(this.a.ud);for(var b=this.Ef.wc(-1);-1!=b;b=
this.Ef.nb(b))a.add(this.Ef.ia(b));this.Ef.clear();this.a.Xx(a,a.size);for(var b=0,d=a.size;b<d;b++){var f=a.get(b),e=this.ff(f),f=this.Ef.yo(f);this.vu(e,f)}};d.prototype.zG=function(a,b){var d=this.Sl(a);if(-1!=d){var f=d;do c.Zc.EA(this.Jq(f))&&b.add(f),f=this.Kq(f,a);while(f!=d)}};d.prototype.fL=function(a,b){for(a=this.Hh.wc(this.Ls(a));-1!=a;a=this.Hh.nb(a))this.a.Nf(this.Hh.ia(a),b)};d.prototype.MK=function(a,b,d,f){this.Nv(a);-1!=b&&this.Nv(b);this.zJ(0,a,f);-1!=b&&this.zJ(1,b,f);-1!=d&&(f.ag.w(this.sp),
this.Do(d,this.pj),this.pj.vb(this.sp)||this.el.add(d));d=0;for(var c=this.el.size;d<c;d++){var e=this.el.get(d),h=this.Oz(e);-1!=h&&(this.Ef.Jd(h,-1),this.vu(e,-1))}d=this.si(a);c=-1!=b?this.si(b):-1;this.kF(d,f,0);-1!=b&&this.kF(c,f,1);this.dG(a,f,0);-1!=b&&this.dG(b,f,1);this.fe.zh(d);this.Mv(a);-1!=b&&(this.fe.zh(c),this.Mv(b));d=0;for(c=this.el.size;d<c;d++)e=this.el.get(d),e==this.zr&&(this.Kw=!0),h=this.Oz(e),-1==h&&(h=this.Ef.bF(this.FG(e)),-1==h?(a=this.ff(this.Ef.ia(this.Ef.IG())),this.Rn(a,
e)):this.vu(e,h));this.el.clear(!1)};d.prototype.Do=function(a,b){this.a.gH(this.Pz(a),b)};d.prototype.FG=function(a){return this.Hh.Fo(this.Ls(a))};d.prototype.JC=function(){this.Kw=!1;this.zr=-1;null==this.te&&(this.Sc.Dw=!1,this.te=new b(this),this.Sc.Uo=this.te);var d=new c.ha(0),f=null,e=null,r=0;this.II=this.NI=-1;this.Qo=!1;for(var v=this.Ef.wc(-1);-1!=v;){r++;this.Qo=!1;var p=this.Ef.ia(v);this.zr=this.ff(p);this.a.Mc(p,this.Uh);this.te.EK(this.Uh.y,this.Uh.x);var l,m=this.Sl(this.zr);l=-1==
m;if(!l){p=m;do{var n=this.Jq(p);-1==n?(this.Jh.add(p),this.zm(p,-3)):-3!=n&&d.add(n);p=this.Kq(p,this.zr)}while(p!=m)}if(0<d.size){this.Qo=1==d.size&&1==this.Jh.size;l=0;for(m=d.size;l<m;l++)p=this.Sc.ia(d.get(l)),this.zm(p,-2);var u=-2,t=-2;l=0;for(m=d.size;l<m;l++){n=d.get(l);if(-2==u){var w=this.Sc.Se(n);-1!=w?(p=this.Sc.ia(w),p=this.Jq(p),-2!=p&&(u=w)):u=-1}-2==t&&(n=this.Sc.nb(n),-1!=n?(p=this.Sc.ia(n),p=this.Jq(p),-2!=p&&(t=n)):t=-1);if(-2!=u&&-2!=t)break}l=0;for(m=d.size;l<m;l++)n=d.get(l),
p=this.Sc.ia(n),this.Sc.Jd(n,-1),this.zm(p,-1);d.clear(!1);this.NI=-1!=u?u:-1;this.II=-1!=t?t:-1;-1!=u&&-1!=t?this.Qo||this.LP(u,t):-1==u&&-1==t&&(this.Qo=!1)}else l&&(null==f&&(f=new a(this)),f.Zh(this.Uh),this.Sc.$J(f),f.Lg&&(f.Es(),this.VR(this.zr,f.xn)));this.VT();this.Kw?(this.Kw=!1,null==e&&(e=new g(this.a)),e.Zh(this.Uh),v=this.Ef.$J(e)):v=this.Ef.nb(v)}return this.Ro};d.prototype.Xr=function(a){this.a=a;this.Wh=this.a.Sd();this.ib.Ne(a.ud+32);this.Md.Ne(a.ud);this.Hh.ru(a.ud);this.Hh.ao(a.ud);
this.fe.ru(a.ud+32);this.fe.ao(a.ud+32);for(a=this.a.qd;-1!=a;a=this.a.Re(a))if(c.T.Hc(this.a.ic(a)))for(p=this.a.Pb(a);-1!=p;p=this.a.Sb(p)){var b=this.a.La(p),d=this.a.cb(p),f=this.Sn(d),e=this.eu(d);this.Nj(e,f);l=this.a.U(d);d=0;for(b-=2;d<b;d++){var h=this.a.U(l),g=this.Sn(l);this.Nj(e,g);e=this.eu(l);this.Nj(e,g);l=h}this.a.Qb(p)?(g=this.Sn(l),this.Nj(e,g),e=this.eu(l),this.Nj(e,g),this.Nj(e,f)):(g=this.Sn(l),this.Nj(e,g))}else for(var p=this.a.Pb(a);-1!=p;p=this.a.Sb(p))for(var l=this.a.cb(p),
f=0,b=this.a.La(p);f<b;f++)this.Sn(l),l=this.a.U(l);this.HR()};return d}();c.bE=d})(u||(u={}));(function(c){var e=function(e){function b(a,d,f){var h=e.call(this)||this;if(void 0!==a)if(void 0!==f){h.description=c.we.Hg();var k=new c.od;k.I(a,d,f);h.EC(k)}else if(void 0!==d)h.description=c.we.Hg(),h.rb(a,d);else if(a instanceof c.ma)h.description=a;else if(a instanceof c.b)h.description=c.we.Hg(),h.rb(a);else if(a instanceof b)h.description=a.description,h.rb(a.Te(),a.Cf()),null!==a.ka&&(h.ka=a.ka.slice(0));
else throw c.g.F();else h.description=c.we.Hg();return h}da(b,e);b.prototype.w=function(a){if(void 0!==a){if(this.Gc())throw c.g.X("This operation should not be performed on an empty geometry.");a.ja(this.ka[0],this.ka[1])}else{if(this.Gc())throw c.g.X("This operation should not be performed on an empty geometry.");a=new c.b;a.ja(this.ka[0],this.ka[1]);return a}};b.prototype.rb=function(a,b){"number"===typeof a?(this.zc(),null==this.ka&&this.nq(),this.ka[0]=a,this.ka[1]=b):(this.zc(),this.rb(a.x,
a.y))};b.prototype.oA=function(){if(this.Gc())throw c.g.X("This operation should not be performed on an empty geometry.");var a=new c.od;a.x=this.ka[0];a.y=this.ka[1];a.z=this.description.kH()?this.ka[2]:c.ma.be(1);return a};b.prototype.EC=function(a){this.zc();var b=this.hasAttribute(1);b||c.ma.DH(1,a.z)||(this.Rd(1),b=!0);null==this.ka&&this.nq();this.ka[0]=a.x;this.ka[1]=a.y;b&&(this.ka[2]=a.z)};b.prototype.Te=function(){if(this.Gc())throw c.g.X("This operation should not be performed on an empty geometry.");
return this.ka[0]};b.prototype.DC=function(a){this.setAttribute(0,0,a)};b.prototype.Cf=function(){if(this.Gc())throw c.g.X("This operation should not be performed on an empty geometry.");return this.ka[1]};b.prototype.FK=function(a){this.setAttribute(0,1,a)};b.prototype.yT=function(){return this.Wc(1,0)};b.prototype.WX=function(a){this.setAttribute(1,0,a)};b.prototype.SS=function(){return this.Wc(2,0)};b.prototype.GX=function(a){this.setAttribute(2,0,a)};b.prototype.Bc=function(){return this.CG(3,
0)};b.prototype.pK=function(a){this.setAttribute(3,0,a)};b.prototype.Wc=function(a,b){var d=this.description.lg(a);return 0<=d?this.ka[this.description.zk(d)+b]:c.ma.be(a)};b.prototype.CG=function(a,b){var d=this.description.lg(a);return 0<=d?this.ka[this.description.zk(d)+b]:c.ma.be(a)};b.prototype.setAttribute=function(a,b,f){this.zc();var d=this.description.lg(a);0>d&&(this.Rd(a),d=this.description.lg(a));null==this.ka&&this.nq();this.ka[this.description.zk(d)+b]=f};b.prototype.G=function(){return 33};
b.prototype.ub=function(){return 0};b.prototype.Oa=function(){this.zc();null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)};b.prototype.to=function(a){if(null!=this.ka){for(var b=c.we.vx(a,this.description),f=[],e=0,k=0,q=a.Ga;k<q;k++){var r=a.pd(k),g=c.ma.Xa(r);if(-1==b[k])for(var p=c.ma.be(r),r=0;r<g;r++)f[e]=p,e++;else for(p=this.description.zk(b[k]),r=0;r<g;r++)f[e]=this.ka[p],e++,p++}this.ka=f}this.description=a};b.prototype.nq=function(){this.QJ(this.description.Ye.length);b.N(this.description.Ye,
this.ka,this.description.Ye.length);this.ka[0]=NaN;this.ka[1]=NaN};b.prototype.Vc=function(a){if(a instanceof c.Gd){if(!this.Gc()){var b=this.w();a.ai(b,b);this.rb(b)}}else this.Gc()||(this.Rd(1),b=this.oA(),this.EC(a.Yp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw c.g.F();a.zc();null==this.ka?(a.Oa(),a.ka=null,a.Eg(this.description)):(a.Eg(this.description),a.QJ(this.description.Ye.length),b.N(this.ka,a.ka,this.description.Ye.length))};b.prototype.Ka=function(){return new b(this.description)};
b.prototype.u=function(){return this.Gc()};b.prototype.Gc=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])};b.prototype.Wn=function(a){a.Oa();this.description!=a.description&&a.Eg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Gc()?a.Oa():(a.o=this.ka[0],a.A=this.ka[1],a.v=this.ka[0],a.B=this.ka[1])};b.prototype.Jp=function(a){if(this.Gc())a.Oa();else{var b=this.oA();a.o=b.x;a.A=b.y;a.xf=b.z;a.v=b.x;a.B=b.y;a.Zg=b.z}};b.prototype.hg=function(a,b){var d=new c.yc;
if(this.Gc())return d.Oa(),d;a=this.Wc(a,b);d.ga=a;d.la=a;return d};b.prototype.QJ=function(a){if(null==this.ka)this.ka=c.J.df(a);else if(this.ka.length<a){for(var b=this.ka.slice(0),f=this.ka.length;f<a;f++)b[f]=0;this.ka=b}};b.N=function(a,b,f){if(0<f)for(f=0;f<a.length;f++)b[f]=a[f]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Gc())return a.Gc()?!0:!1;for(var d=0,f=this.description.Ye.length;d<f;d++)if(this.ka[d]!=a.ka[d])return!1;
return!0};b.prototype.kc=function(){var a=this.description.kc();if(!this.Gc())for(var b=0,f=this.description.Ye.length;b<f;b++)var e=this.ka[b],e=c.J.truncate(e^e>>>32),a=c.J.bh(e,a);return a};b.prototype.Fg=function(){return null};return b}(c.T);c.Wa=e})(u||(u={}));(function(c){var e=function(){function c(b,a,d){void 0!==b&&(this.x=b,this.y=a,this.z=d)}c.pa=function(b,a,d){var f=new c;f.x=b;f.y=a;f.z=d;return f};c.prototype.I=function(b,a,d){this.x=b;this.y=a;this.z=d};c.prototype.Vx=function(){this.z=
this.y=this.x=0};c.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};c.prototype.sub=function(b){return new c(this.x-b.x,this.y-b.y,this.z-b.z)};c.prototype.Tg=function(b){return new c(this.x*b,this.y*b,this.z*b)};c.prototype.iv=function(){this.x=NaN};c.prototype.Dy=function(){return isNaN(this.x)};c.prototype.pi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return c}();
c.od=e})(u||(u={}));(function(c){var e=function(){function e(b,a,d){this.tx=this.dx=null;this.sg=a;this.gV=a.y-d;this.fV=a.y+d;this.Hr=0;this.PA=b;this.ta=d;this.sV=d*d;this.QA=0!=d;this.yw=!1}e.prototype.result=function(){return 0!=this.Hr?1:0};e.prototype.tO=function(b){b=b.hc(b.ne(this.sg,!1));return c.b.sc(b,this.sg)<=this.sV?!0:!1};e.prototype.mG=function(b){if(!this.QA&&(this.PA&&this.sg.vb(b.ec())||this.sg.vb(b.Ac())))this.yw=!0;else if(b.ra==this.sg.y&&b.ra==b.oa){if(this.PA&&!this.QA){var a=
Math.max(b.ua,b.sa);this.sg.x>Math.min(b.ua,b.sa)&&this.sg.x<a&&(this.yw=!0)}}else{var d=!1,a=Math.max(b.ua,b.sa);this.sg.x>a?d=!0:this.sg.x>=Math.min(b.ua,b.sa)&&(d=0<b.Tq(!0,this.sg.y,this.tx,null)&&this.tx[0]<=this.sg.x);if(d){if(this.sg.y==b.ec().y){if(this.sg.y<b.Ac().y)return}else if(this.sg.y==b.Ac().y&&this.sg.y<b.ec().y)return;this.Hr=this.PA?this.Hr^1:this.Hr+(b.ec().y>b.Ac().y?1:-1)}}};e.prototype.mu=function(b){var a=b.hg(0,1);if(a.ga>this.fV||a.la<this.gV)return!1;if(this.QA&&this.tO(b))return!0;
if(a.ga>this.sg.y||a.la<this.sg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.hH(this.dx);if(0<a)for(b=0;b<a;b++){var d=this.dx[b].get();this.mG(d);if(this.yw)return!0}else if(this.mG(b),this.yw)return!0;return!1};e.N=function(b,a,d){a=new e(0==b.Eo(),a,d);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(d=b.ba(),a.mu(d))return-1;return a.result()};e.dc=function(b,a,d,f){var h=new c.h;b.ac(h);h.P(f,f);var k=new e(0==b.Eo(),d,f);b=b.Fa();var q=new c.h;q.I(h);
q.v=d.x+f;q.A=d.y-f;q.B=d.y+f;d=a.$z(q,f);for(f=d.next();-1!=f;f=d.next())if(b.Tb(a.ia(f)),b.Ea()&&(f=b.ba(),k.mu(f)))return-1;return k.result()};e.qn=function(b,a,d){if(b.u())return 0;var f=new c.h;b.ac(f);f.P(d,d);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var h=f.Ii;if(null!=h){h=h.wm(a.x,a.y);if(1==h)return 1;if(0==h)return 0}f=f.Mb;if(null!=f)return e.dc(b,f,a,d)}return e.N(b,a,d)};e.yU=function(b,a,d,f){if(b.u())return 0;var h=new c.h;b.ac(h);h.P(f,f);if(!h.contains(a,d))return 0;h=b.ob;
if(null!=h&&(h=h.Ii,null!=h)){h=h.wm(a,d);if(1==h)return 1;if(0==h)return 0}return e.N(b,c.b.pa(a,d),f)};e.xU=function(b,a,d){return a.u()?0:e.qn(b,a.w(),d)};e.BA=function(b,a,d,f,h){var k=new c.h;b.ac(k);k.P(f,f);if(!k.contains(d))return 0;var q=new e(!0,d,f);if(null!=h){var r=new c.h;r.I(k);r.v=d.x+f;r.A=d.y-f;r.B=d.y+f;b=b.Fa();f=h.$z(r,f);for(r=f.next();-1!=r;r=f.next())if(b.Tb(h.ia(r),a),b.Ea()&&b.Ta==a&&(r=b.ba(),q.mu(r)))return-1}else if(b=b.Fa(),b.hC(a),b.Ya())for(;b.Ea();)if(r=b.ba(),q.mu(r))return-1;
return q.result()};e.AA=function(b,a,d){var f=new c.h;b.ac(f);f.P(d,d);if(!f.contains(a))return 0;a=new e(!1,a,d);for(d=b.Fa();d.Ya();)if(!(0>b.Ym(d.Ta))){for(a.Hr=0;d.Ea();)if(f=d.ba(),a.mu(f))return-1;if(0!=a.Hr)return 1}return a.result()};e.Ug=function(b,a,d,f,h){var k=b.Fa();k.hC(a);if(!k.Ya()||!k.Ea())throw c.g.X("corrupted geometry");for(a=2;2==a&&k.Ea();)a=k.ba().hc(.5),a=e.BA(b,d,a,f,h);if(2==a)throw c.g.X("internal error");return 1==a?!0:!1};e.vm=function(b,a){b=b.D();return 16>b?!1:2*b+
Math.log(b)/Math.log(2)*1*a<1*b*a};return e}();c.cf=e})(u||(u={}));(function(c){var e=function(c){function b(a){return c.call(this,!0,a)||this}da(b,c);b.prototype.Ka=function(){return new b(this.description)};b.prototype.ub=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.yH=function(a,b,f){this.gU(a,b,f)};b.prototype.HS=function(){this.ZS()};return b}(c.Bl);c.Ja=e})(u||(u={}));(function(c){(function(c){c[c.PiPOutside=0]="PiPOutside";c[c.PiPInside=1]="PiPInside";c[c.PiPBoundary=
2]="PiPBoundary"})(c.jN||(c.jN={}));var e=function(){function e(){}e.KH=function(b,a,d){b=c.cf.xU(b,a,d);return 0==b?0:1==b?1:2};e.ee=function(b,a,d){b=c.cf.qn(b,a,d);return 0==b?0:1==b?1:2};e.BN=function(b,a,d,f){b=c.cf.yU(b,a,d,f);return 0==b?0:1==b?1:2};e.o_=function(b,a,d,f){return 0==c.cf.BA(b,a,d,f,null)?0:1};e.AA=function(b,a,d){return 0==c.cf.AA(b,a,d)?0:1};e.YY=function(b,a,d,f,h){if(a.length<d||h.length<d)throw c.g.F();for(var k=0;k<d;k++)h[k]=e.ee(b,a[k],f)};e.$Y=function(b,a,d,f,h){if(a.length/
2<d||h.length<d)throw c.g.F();for(var k=0;k<d;k++)h[k]=e.BN(b,a[2*k],a[2*k+1],f)};e.UK=function(b,a,d,f,h){if(1736==b.G())e.YY(b,a,d,f,h);else if(197==b.G()){var k=new c.h;b.s(k);e.OV(k,a,d,f,h)}else throw c.g.X("invalid_call");};e.A_=function(b,a,d,f,h){if(1736==b.G())e.$Y(b,a,d,f,h);else if(197==b.G()){var k=new c.h;b.s(k);e.YV(k,a,d,f,h)}else throw c.g.Da();};e.OV=function(b,a,d,f,e){if(a.length<d||e.length<d)throw c.g.F();if(b.u())for(f=0;f<d;f++)e[f]=0;else for(b.P(.5*-f,.5*-f),b.P(.5*f,.5*f),
f=0;f<d;f++)b.contains(a[f])?e[f]=1:b.contains(a[f])?e[f]=2:e[f]=0};e.YV=function(b,a,d,f,e){if(a.length/2<d||e.length<d)throw c.g.F();if(b.u())for(f=0;f<d;f++)e[f]=0;else for(b.P(.5*-f,.5*-f),b.P(.5*f,.5*f),f=0;f<d;f++)b.contains(a[2*f],a[2*f+1])?e[f]=1:b.contains(a[2*f],a[2*f+1])?e[f]=2:e[f]=0};e.xL=function(b,a,d,f,c){for(var e=0;e<d;e++)c[e]=b.ot(a[e],f)?2:0};e.bZ=function(b,a,d,f,c){var e=b.ob,h=null;null!=e&&(h=e.Ii);for(var e=d,r=0;r<d;r++)if(c[r]=1,null!=h){var g=a[r];0==h.wm(g.x,g.y)&&(c[r]=
0,e--)}if(0!=e)for(b=b.Fa();b.Ya()&&0!=e;)for(;b.Ea()&&0!=e;)for(h=b.ba(),r=0;r<d&&0!=e;r++)1==c[r]&&h.ot(a[r],f)&&(c[r]=2,e--);for(r=0;r<d;r++)1==c[r]&&(c[r]=0)};e.VK=function(b,a,d,f,h){var k=b.G();if(1607==k)e.bZ(b,a,d,f,h);else if(c.T.Nc(k))e.xL(b,a,d,f,h);else throw c.g.X("Invalid call.");};return e}();c.fd=e})(u||(u={}));(function(c){var e=function(c){function b(a,b){var d;2==arguments.length?(d=c.call(this,!1,a.description)||this,d.Of(a),d.lineTo(b)):d=c.call(this,!1,a)||this;return d}da(b,
c);b.prototype.Ka=function(){return new b(this.description)};b.prototype.ub=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.yH=function(a,b,f,c){this.hU(a,b,f,c)};return b}(c.Bl);c.Ua=e})(u||(u={}));(function(c){var e=function(){function c(){}c.JZ=function(){};return c}();c.FZ=e})(u||(u={}));(function(c){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(c.RL||(c.RL={}));var e=function(){function a(){this.Ol=
3;this.sz=this.Cv=NaN}a.prototype.DT=function(){return this.gt(1)};a.prototype.ET=function(){return this.gt(2)};a.prototype.gt=function(a){return 0!=(this.Ol&a)};a.prototype.Sf=function(){var b=new a;b.Cv=this.Cv;b.sz=this.sz;b.Ol=this.Ol;return b};return a}();c.pZ=e;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(c.SL||(c.SL={}));var g=function(){function a(){this.Ol=0}a.prototype.gt=function(a){return 0!=
(this.Ol&a)};a.me=function(b){var d=new a;d.Ol=b.Ol;return d};a.prototype.ZN=function(a){this.Ol=a.Ol};return a}();c.qZ=g;var b=function(){function a(a,b,e){this.he=a;this.Ee=b;this.qg=new c.h;this.qg.I(e);this.bV=a.kc()+b.kc()+this.qg.kc().toString()}a.prototype.kc=function(){return this.bV};a.prototype.Eb=function(a){return this==a||this.he.Eb(a.he)&&this.Ee.Eb(a.Ee)&&this.qg.Eb(a.qg)};return a}();c.GZ=b;b=function(){function a(){this.Ee=this.he=null;this.qI=new e;this.rI=new g;this.xr=this.re=
null;this.sr=this.Yl=!0}a.Gs=function(b,f,c,e){var d;void 0===e&&(e=null);void 0===d&&(d=null);var h=new a;h.kq(b,f,c,e,d);return h};a.prototype.kq=function(a,b,e,k,q){if(null==a||null==b)throw c.g.X("invalidArgument");this.he=a;this.Ee=b;this.sr=this.Yl=!1;null!=k&&(this.qI=k.Sf());null!=q&&this.rI.ZN(q);q=!1;1==b.Fb()&&null!=k&&(k=k.Cv,isNaN(k)||0==k||(q=!0));if(a==b)this.Yl=!q,this.sr=!0;else{k=a.Fb();var d=b.Fb();if(0==k||0==d){if(null!=e)throw c.g.F();null!=a.Td()&&null!=b.Td()&&(this.Yl=a.Td().Eb(b.Td()))}else 3==
k||3==d?this.Yl=a.Eb(b):this.he.JT(this.Ee)?this.Yl=!q:this.Yl=!1,this.re=e,null!=this.re&&this.re.Tp(),this.sr=(null==this.re||0==this.re.count())&&this.he.lc().Eb(this.Ee.lc())}this.jL()};a.prototype.Wv=function(){var b=new a;b.he=this.Ee;b.Ee=this.he;null!=this.re&&(b.re=this.re.Wv());b.Yl=this.Yl;b.sr=this.sr;b.jL();return b};a.prototype.No=function(){return this.Yl};a.prototype.FS=function(){return this.qI.Sf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.he.Eb(b.he)&&this.Ee.Eb(b.Ee)?
this.re==b.re?!0:null!=this.re&&null!=b.re&&this.re.Eb(b.re)?!0:!1:!1};a.prototype.jL=function(){this.xr=new c.qo(this)};a.z_={};return a}();c.rs=b})(u||(u={}));(function(c){var e=function(){function b(){}b.uq=function(a){return a*b.$V};b.Wx=function(a,d){return b.PY(d-a)};b.SY=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=c.Ub.TL(a);0>a&&(a+=360);return a};b.PY=function(a){a=b.SY(a);180<a&&(a-=360);return a};b.SZ=.0174532925199433;b.$V=57.29577951308232;return b}();c.ks=e;
var g=function(){function b(){}b.Qj=function(a,b){var d=new c.h;a.s(d);var e=c.fb.Ch(b),k=new c.h;k.I(e);k.o=d.o;k.v=d.v;k.P(.01*k.ea(),0);e=c.na.$d(b,d,!1);return k.contains(d)?a:c.le.clip(a,k,e,0)};b.jt=function(a,d,f,e,k){if(!c.fb.Ic(d))throw c.g.F();var h=c.na.$g(d,a,!1),r=c.fb.Ch(d),g=c.fb.lc(d),l=g.Td().Bi,p=c.fb.hw(g),g=c.fb.Sv(g),p=p*(2-p),m=new c.yc;r.Yn(m);var n=[[0,0],[0,0]];2==c.ve.Fb(d)?e?(n[0][0]=b.Tn(k,m),n[0][1]=r.Cq(),c.fb.nu(),r=n[0][0]*l):(n[0][0]=r.Jk(),n[0][1]=k,c.fb.nu(),r=n[0][1]*
l):r=k*l;if(!e&&0!=r)throw c.g.F();var u=new c.da,t=new c.ed;a=t.Jb(a);for(var w=[0],x=new c.b,y=new c.b,A=new c.b,z=new c.b,B=new c.b,C=new c.b,D=t.Pb(a);-1!=D;D=t.Sb(D)){var P=t.cb(D);t.w(P,A);for(var F=!1,O=P=t.U(P);-1!=O;O=t.U(O)){if(O==P){if(F)break;F=!0}t.w(O,z);if(e&&h<k-A.x&&z.x-k>h||h<k-z.x&&A.x-k>h||!e&&h<-A.y&&z.y>h||h<-z.y&&A.y>h){do if(!(Math.abs(A.x-z.x)>=.5*m.O())){2==c.ve.Fb(d)?(n[0][0]=b.Tn(A.x,m),n[0][1]=A.y,n[1][0]=b.Tn(z.x,m),n[1][1]=z.y,c.fb.xW(),B.x=n[0][0]*l,B.y=n[0][1]*l,C.x=
n[1][0]*l,C.y=n[1][1]*l):(B.x=A.x*l,B.y=A.y*l,C.x=z.x*l,C.y=z.y*l);C.x=6.283185307179586*(z.x-A.x)/m.O()+B.x;if(e){if(y.x=r,y.y=b.sA(g,p,B,C,r,f),isNaN(y.y))break}else{y.x=b.pA(g,p,B,C,f);if(isNaN(y.x))break;y.y=0}c.mb.Kd(g,p,B.x,B.y,C.x,C.y,u,null,null,f);var L=u.j;c.mb.Kd(g,p,B.x,B.y,y.x,y.y,u,null,null,f);var Q=u.j;2==c.ve.Fb(d)?(n[0][0]=y.x/l,n[0][1]=y.y/l,c.fb.tS(),e?(x.y=n[0][1],x.x=k):(x.x=b.zl(n[0][0],A.x,z.x,m),x.y=k)):e?(x.x=k,x.y=y.y/l):(x.x=b.zl(y.x/l,A.x,z.x,m),x.y=k);w[0]=0<L?c.J.tk(Q/
L,0,1):.5;0!=w[0]&&1!=w[0]&&(L=t.Ra(O),t.Em(L,w,1),t.rb(t.U(L),x.x,x.y))}while(0)}A.L(z)}}return t.Pe(a)};b.cn=function(a,d,f,e,k){if(a.u())return a;var h=c.fb.ce(d);return b.Aq(a,f-180*h,360*h,d,e,k,!0)};b.sA=function(a,d,f,e,k,q){if(3.141592653589793<=Math.abs(f.x-e.x)||!b.Ug(f.x,e.x,k))return NaN;var h;f.x>e.x?h=e:(h=f,f=e);e=new c.da(0);var g=new c.da(0),l=new c.da(0);c.mb.Kd(a,d,h.x,h.y,f.x,f.y,g,e,null,q);var p=g.j,m=0,n=1,u=new c.b;for(u.L(h);p*(n-m)>1E-12*a;){var t=.5*(m+n);c.mb.Sj(a,d,h.x,
h.y,p*t,e.j,g,l,q);u.x=g.j;u.y=l.j;if(u.x==k)break;if(b.Ug(h.x,u.x,k))n=t;else if(b.Ug(f.x,u.x,k))m=t;else return NaN}return u.y};b.Ug=function(a,b,f){a=e.uq(a);b=e.Wx(a,e.uq(b));f=e.Wx(a,e.uq(f));return 0==f||0<b&&0<f&&f<=b||0>b&&0>f&&f>=b?!0:!1};b.Tn=function(a,b){var d=b.la-b.ga;return b.yu(a-Math.floor((a-b.ga)/d)*d)};b.zl=function(a,b,f,e){var d=new c.yc;d.I(b,f);f=e.O();a=Math.floor((a-b)/f)*f+a;for(d=d.Tf();Math.abs(a-d)>Math.abs(a+f-d);)a+=f;return a};b.pA=function(a,b,f,e,k){var d;f.y>e.y?
d=e:(d=f,f=e);e=new c.yc;e.I(d.y,f.y);if(!e.contains(0)||3.141592653589793<=Math.abs(d.x-f.x))return NaN;if(d.x==f.x)return d.x;var h=new c.da(0),g=new c.da(0),l=new c.da(0);c.mb.Kd(a,b,d.x,d.y,f.x,f.y,g,h,null,k);var p=g.j,m=0,n=1,u=new c.b;for(u.L(d);p*(n-m)>1E-12*a;){var t=.5*(m+n);c.mb.Sj(a,b,d.x,d.y,p*t,h.j,g,l,k);u.x=g.j;u.y=l.j;e.I(d.y,u.y);if(0==u.y)break;if(e.contains(0))n=t;else if(e.I(f.y,u.y),e.contains(0))m=t;else return NaN}return u.x};b.Aq=function(a,b,f,e,k,q,g){var d=new c.h;a.s(d);
if(d.u())return a;var h=new c.yc;d.Yn(h);var r=new c.yc;r.I(b,b+f);if(r.contains(h)&&r.la!=h.la)return a;var l=new c.h;l.I(d);var p=a.G();if(33==p){l=k?a:a.Sf();d=l.Te();if(d<r.ga||d>=r.la||g&&d==r.la)d+=Math.ceil((r.ga-d)/f)*f,d=r.yu(d),l.DC(d);return l}if(550==p){l=k?a:a.Sf();e=l.Qa(0);p=2*l.D();a=!1;for(k=0;k<p;k+=2)if(d=e.read(k),d<r.ga||d>=r.la||g&&d==r.la)a=!0,d+=Math.ceil((r.ga-d)/f)*f,d=r.yu(d),e.write(k,d);a&&l.Cc(1993);return l}if(r.contains(h))return a;if(197==p)return f=k?a:a.Sf(),d.Ma(l),
f.Np(d),f;var m=.1*Math.max(d.ea(),d.O());l.P(0,m);g=a;r=e.pe(0);a=c.ei.local();k=new c.Gd;for(var n=0;;){var u=Math.floor((h.ga-b)/f),t=Math.ceil((h.la-b)/f);if(3<t-u){u=Math.floor(.5*(t+u));l.o=d.o-m;l.v=b+f*u;var w=c.le.clip(g,l,r,q);l.o=l.v;l.v=d.v+m;var x=c.le.clip(g,l,r,q);k.zg((u-t)*f,0);x.Vc(k);1736==p?g=a.V(w,x,e,null):(g=w,g.add(x,!1));g.s(d);d.Yn(h);n++}else break}l.o=b;l.v=b+f;b=new c.h;b.I(l);b.P(r,0);b=Math.floor((d.o-l.o)/f)*f;0!=b?(l.move(b,0),k.zg(-b,0)):k.sC();b=1607==p?new c.Ua(g.description):
new c.Ja(g.description);q=new c.h;for(h=new c.h;d.v>l.o;){m=c.le.clip(g,l,r,0);m.s(h);if(1607==p?!m.u()&&(h.O()>r||h.ea()>r):!m.u()&&(1736!=p||h.O()>r))m.Vc(k),m.s(h),b.s(q),q.P(r,r),q.Yb(h)&&1736==p?b=a.V(b,m,e,null):b.add(m,!1);l.move(f,0);k.shift(-f,0)}return b};b.CJ=function(a,b,f,e,k){var d=new c.Dd(f.description);d.Hd(f,0,-1);k=c.fb.Vg(d,a,b,k);d=f.D();e.Oa();if(!c.fb.Ic(a)||d!=k.D())return!1;var h=new c.h;f.s(h);var g=new c.h;k.s(g);h=h.O();g=g.O();if(0!=h&&0!=g){if(g/=h,a=c.fb.Ch(b).O()/c.fb.Ch(a).O(),
1E-10<Math.abs(g/a-1))return!1}else if(0!=h||0!=g)return!1;e.add(f,!1);for(f=0;f<d;f++)a=k.Ba(f),e.rb(f,a);return!0};b.xA=function(){throw c.g.af();};return b}();c.gi=g})(u||(u={}));(function(c){var e;(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(e=c.Qi||(c.Qi={}));var g;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(g=
c.cM||(c.cM={}));var b=function(){function a(){}a.iw=function(a,b,e){if(e||0<b){a=a.toString(c.Uc.PE_STR_NAME_CANON|c.Uc.PE_STR_AUTH_NONE);b=[];for(e=0;e<a.length;e++)b[e]="a"<=a[e]&&"z">=a[e]?b[e]=a[e].toUpperCase():a[e];return b.join()}return a.toString(c.Uc.PE_STR_AUTH_TOP)};a.qs=function(a,b,e,k){var d=k.length,f=e.D();if(0!=f){var h=e.Qa(0),g=Math.min(f,d),l=0,p=a.Jg();isNaN(b)&&(b=0);var m=a.Ic();a=m?a.lc().oe().O():0;for(var n=179*a/360;0<f;){h.Hx(l<<1,g,k,0,!0);c.fi.projToGeogCenter(p,g,k,
b);if(m)for(var u=0;u<g;u++){var t=k[u][0]-b,w=c.Ub.sign(t),x=h.read(2*(l+u));0>w*c.Ub.sign(x)&&Math.abs(t)>n&&(k[u][0]+=-w*a)}h.hy(l<<1,g,k,0,!0);l+=g;f-=g;g=Math.min(f,d)}e.Cc(1993)}};a.rZ=function(a,b,e,k){var d=a.Jg();isNaN(b)&&(b=0);var f=e.Te();k[0][0]=f;k[0][1]=e.Cf();c.fi.projToGeogCenter(d,1,k,b);a.Ic()&&(b=c.Ub.sign(k[0][0]-b),0>b*c.Ub.sign(f)&&(a=a.lc().oe().O(),Math.abs(k[0][0])>179*a/360&&(k[0][0]-=b*a)));e.rb(k[0][0],k[0][1])};a.$M=function(a,b,e,k){var d=0,f=a.Jg();isNaN(d)&&(d=0);
var h=a.Ic(),g=a.ce();a=360*g;for(var g=179*g,l=k.length,p=0;p<e;){for(var m=p;m<e&&b[m].isNaN();++m)p++;var n=Math.min(l,e-p);if(0<n){for(var m=1,u=p+1;m<n;++m,++u)if(b[u].isNaN()){n=m;break}c.na.mz(k,b,p,n);c.fi.projToGeogCenter(f,n,k,d);if(h)for(m=0,u=p;m<n;++m,++u){var t=b[u].x,w=k[m][0]-d,x=c.Ub.sign(w);0>x*c.Ub.sign(t)&&Math.abs(w)>g&&(k[m][0]-=x*a)}c.na.lz(b,p,k,n);p+=n}}};a.ry=function(a,b,e){var d=e.length,f=b.D();if(!(1>f)){var h=b.Qa(0),g=Math.min(f,d),l=0,p=a.Jg(),m=a.Ic(),n=m?a.oe().O():
0,u=179*n/360,t=0;for(m&&(t=a.ri());0<f;){h.Hx(l<<1,g,e,0,!0);c.fi.geogToProj(p,g,e);if(m)for(a=0;a<g;a++){var w=e[a][0],x=c.Ub.sign(w),y=h.read(2*(l+a))-t;0>x*c.Ub.sign(y)&&Math.abs(w)>u&&(e[a][0]+=-x*n)}h.hy(l<<1,g,e,0,!0);l+=g;f-=g;g=Math.min(f,d)}b.Cc(1993)}};a.oZ=function(a,b,e){if(!b.u()){var d=a.Jg();e[0][0]=b.Te();e[0][1]=b.Cf();c.fi.geogToProj(d,1,e);if(a.Ic()){var d=c.Ub.sign(e[0][0]),f=a.ri();0>d*c.Ub.sign(b.Te()-f)&&(a=a.oe().O(),Math.abs(e[0][0])>179*a/360&&(e[0][0]-=d*a))}b.rb(e[0][0],
e[0][1])}};a.ZM=function(a,b,e,k){if(0!=e){var d=a.Jg(),f=a.Ic(),h=f?a.oe().O():0,g=179*h/360,l=0;f&&(l=a.ri());for(a=0;a<e;){for(var p=a;p<e&&b[p].isNaN();++p)a++;var m=Math.min(k.length,e-a);if(0<m){for(var p=1,n=a+1;p<m;++p,++n)if(b[n].isNaN()){m=p;break}c.na.mz(k,b,a,m);c.fi.geogToProj(d,m,k);if(f)for(p=0,n=a;p<m;p++){var u=k[p][0],t=c.Ub.sign(u);0>t*c.Ub.sign(b[n].x-l)&&Math.abs(u)>g&&(k[p][0]-=t*h)}c.na.lz(b,a,k,m);a+=m}}}};a.ps=function(a,b,e,k){var d=b.D();if(0!=d){var f=b.Qa(0),h=a.he,g=
a.Ee,l=h.lc().Zi(),p=g.lc().Zi(),m=h.ce(),n=g.ce();a=a.re;if(null==a||0==a.count()){e=l/p;k=(h.kn()-g.kn())*n;p=-90*m;a=90*m;l=!1;n=1;for(h=2*d;n<h;)m=f.get(n),g=c.J.tk(m,p,a),g!=m&&(f.set(n,g),l=!0),n+=2;if(0!=k||1!=e)for(l=!0,p=new c.b,n=0;n<d;n++)f.fc(2*n,p),p.x*=e,p.x+=k,p.y*=e,f.mo(2*n,p);l&&b.Cc(1993)}else{var h=k.length,g=Math.min(d,h),u=c.J.df(g),t=null,w=0,x=NaN,y=NaN,A=360*n,z=n/m;e&&(y=90*n,x=89.9*m,t=c.J.df(g));for(var B=!0,C=0;0!=d;){m=!1;f.Hx(w<<1,g,k,0,!0);for(n=0;n<g;n++)u[n]=k[n][0];
if(e)for(n=0;n<g;n++){var D=Math.abs(k[n][1])-x;0<D&&(m=k[n][1],k[n][1]=c.Ub.Kl(x,m),t[n]=c.Ub.Kl(D,m),m=!0)}n=k[0][0];a.transform(k,g,l,p);B&&(C=k[0][0]-z*n,B=!1);for(n=0;n<g;n++)D=k[n][0]-u[n]*z-C,200<Math.abs(D)&&(k[n][0]=0<D?k[n][0]-A:k[n][0]+A);if(m){for(n=0;n<g;n++)0!=t[n]&&(k[n][1]+=z*t[n],k[n][1]>y?k[n][1]=y:k[n][1]<-y&&(k[n][1]=-y));for(m=0;m<g;m++)t[m]=0}f.hy(w<<1,g,k,0,!0);w+=g;d-=g;g=Math.min(d,h)}b.Cc(1993)}}};a.iZ=function(a,b,e,k){if(b.u())return!1;var d=a.he,f=a.Ee,h=a.re,g=d.lc().Zi(),
l=f.lc().Zi();k[0][0]=b.Te();k[0][1]=b.Cf();if(null!=h&&0<h.count()){a=!0;var p=!1,m=NaN,n=0,u=1;e&&(e=d.ce(),m=f.ce(),u=m/e,m*=90,d=89.9*e,f=Math.abs(k[0][1])-d,0<f&&(p=k[0][1],k[0][1]=c.Ub.Kl(d,p),n=c.Ub.Kl(f,p),p=!0));h.transform(k,1,g,l);p&&0!=n&&(k[0][1]+=u*n,k[0][1]>m?k[0][1]=m:k[0][1]<-m&&(k[0][1]=-m));b.rb(k[0][0],k[0][1])}else{e=d.ce();a=c.J.tk(k[0][1],-90*e,90*e)!=k[0][1];m=f.ce();h=(d.kn()-f.kn())*m;g/=l;if(1!=g||0!=h)a=!0,k[0][0]*=g,k[0][0]+=h,k[0][1]*=g;a&&b.rb(k[0][0],k[0][1])}return a};
a.YM=function(a,b,e,k){var d;if(a.sr)k=90*a.he.ce(),c.na.JK(b,e,-k,k);else{var f=a.re,h=a.he,g=a.Ee;a=h.Vs();var l=g.Vs(),p=h.ce(),m=90*p,n=g.ce();if(null==f||0==f.count()){if(k=a/l,f=(h.kn()-g.kn())*n,c.na.JK(b,e,-m,m),0!=f||1!=k)for(n=0;n<e;n++)b[n].x*=k,b[n].x+=f,b[n].y*=k}else for(var h=Math.min(e,k.length),m=c.J.df(h),g=360*n,p=n/p,u=!0,t=0,w=0;0!=e;){for(n=0;n<h;n++)m[n]=b[n+w].x;n=b[0].x;c.na.mz(k,b,w,h);f.transform(k,h,a,l);c.na.lz(b,w,k,h);u&&(t=b[0].x-p*n,u=!1);for(n=0;n<h;n++)d=b[w+n].x-
m[n]*p-t,200<Math.abs(d)&&(b[w+n].x=0<d?b[w+n].x-g:b[w+n].x+g);w+=h;e-=h;h=Math.min(e,k.length)}}};a.YZ=function(b,c,e,k){return a.cn(b,c,isNaN(e)?0:e,!0,k,null)};a.Wu=function(a,b){a=a.Ch();isNaN(b)||a.Bv(b,0);return a};a.kS=function(b,f,e,k,q,g,v,l){for(var d=a.Wu(k,q),h=d.O(),r=h/360,p=a.ED*r,m=b.Qa(0),n=f.Ic(),u=n?h/f.oe().O():0,t=!1,w=new c.Ja(e.description),I=0,x=e.aa();I<x;++I){var y=n,A=new c.Ua(e.description);A.Ui(e,I,!0);if(0!=v){var z=a.yD(!0,A,d.B-l,d.B,v);(t=t||z)&&(y=!1)}var B=-1;y&&
(B=b.wa(I));var C=A.Qa(0),D=A.D(),P=0,F=C.read(0),O=0,z=3*k.pe(0),L=!1,Q=new c.b;Q.Yc();var S=new c.b;S.Yc();for(var G=!1,K=1;K<D;++K){var ca=c.b.pa(C.Lf(2*K),C.Lf(2*K+1)),M=ca.x,J=M+P,R=J-F;ca.x=J;if(Math.abs(R)>p){if(y){var V=B+(K+1<D?K:0),ba=m.read(2*(B+K-1)),V=(m.read(2*V)-ba)*u;Math.abs(R-V)>1*r&&(y=!1)}y||(P-=c.Ub.Kl(h,J-F),J=M+P,++O,G=0!=P,ca.x=J)}else L||c.na.BH(S,Q,ca,z)&&(L=!0);G&&C.write(2*K,J);F=J;S.L(Q);Q.L(ca)}0<O&&A.Cc(1993);y=A.Ba(0);D=A.Ba(D-1);A=c.b.Cb(y,D)<z?a.lM(A,k,q,g,L):a.pM(b,
I,A,k,q);w.add(A,!1)}q=k.pe(0);e=d.O()/180;a.zu(w,d,.1*q,!1);q=c.th.clip(w,d,q,e,g);w=w!=q;b=b.ef();l=q.ef();v=0;0<l&&0>b?v=1:0>=l&&0<b&&(0==l?(l=NaN,2==f.Fb()?l=f.Ok().ef():1==f.Fb()&&(l=f.oe().AG()),b>.99*l&&(v=-1)):v=-1);0!=v&&(f=new c.Ja(q.description),f.oq(d),f=c.Pm.local().V(f,e,g),f.add(q,!1),w=!0,q=f);w&&(q=c.Qm.local().V(q,k,!1,g));return q};a.pM=function(b,f,e,k,q){var d=e.D(),h=e.Ba(0),g=e.Ba(d-1);k=a.Wu(k,q);q=k.O();var h=c.Ub.sign(g.x-h.x),l=new c.h;e.ac(l);var p=k.Jk(),m,g=p-q,p=p+q;
if(0<=h){for(var n=Math.ceil((g-l.o)/q),n=n*q;g>l.o+n;)n+=q;for(;g<l.v+n;)n-=q;m=n;720<l.O()&&(p=g+360*Math.ceil(l.O()/360))}else{n=Math.ceil((p-l.v)/q);for(n*=q;p<l.v+n;)n-=q;for(;p>l.o+n;)n+=q;m=n;720<l.O()&&(g=p-360*Math.ceil(l.O()/360))}var n=h*q,u=c.h.pa(l.o,l.A,l.v,l.B);u.move(m,0);var t=new c.Gd;t.zg(m,0);e.Vc(t);l=new c.Ua(e.description);l.add(e,!1);m=e.Ba(d-1);q=0;for(var w=l.Ba(0).x,x=0;0<h?u.v<p:u.o>g;)1024<=x&&(x=0),u.move(n,0),t.Wb=n,e.Vc(t),w+=n,k.o<=w&&k.v>=w&&(q=l.D()-1),e.rb(0,m),
m=e.Ba(d-1),l.zs(e,0,0,d-1,!1);e=new c.Ja(l.description);d=0<b.Ym(f);e.add(l,!1);b=l.Ba(0);g=l.Ba(l.D()-1);f=e.aa()-1;(0>h?d:!d)?(h=c.b.pa(g.x,k.B),e.bj(h),h=c.b.pa(k.Jk(),k.B),e.bj(h),k=c.b.pa(b.x,k.B)):(h=c.b.pa(g.x,k.A),e.bj(h),h=c.b.pa(k.Jk(),k.A),e.bj(h),k=c.b.pa(b.x,k.A));e.bj(k);e.yH(0,f,0);e.KP(q);return e};a.lM=function(b,f,e,k,q){var d=new c.Ja(b.description);d.add(b,!1);d.fC(0,d.D()-1);var h=new c.h;d.ac(h);e=a.Wu(f,e);for(var g=e.O(),l=Math.ceil((e.o-h.o)/g),l=l*g;e.o>h.o+l;)l+=g;for(;e.o<
h.v+l;)l-=g;l+=g;if(0!=l){h.move(l,0);var p=new c.Gd;p.zg(l,0);d.Vc(p)}if(e.o<=h.o&&e.v>h.v)return q&&(q=d.ef(),d=c.Qm.local().V(d,f,!0,k),f=d.ef(),(f=c.Ub.sign(q)!=c.Ub.sign(f))&&d.TJ()),d;b=new c.Ja(b.description);b.add(d,!1);for(q=q||h.O()>g-f.pe(0);h.o<e.v;)h.move(g,0),p=new c.Gd,p.zg(g,0),d.Vc(p),b.add(d,!1);q&&(q=b.ef(),b.Op(1),b=c.Qm.local().V(b,f,!0,k),f=b.ef(),(f=c.Ub.sign(q)!=c.Ub.sign(f))&&b.TJ());return b};a.yD=function(a,b,e,k,q){for(var d=b.Qa(0),f=b.D(),h=!1,g=0;g<f;g++){var l=c.b.pa(d.Lf(2*
g),d.Lf(2*g+1));if(0!=(q&1)&&l.y>=e){h=!0;break}if(0!=(q&2)&&l.y<=-e){h=!0;break}}if(!h)return!1;d=!1;a&&(d=b.Ko(0));a=new c.ed;var f=a.Jb(b),h=a.Pb(f),p=-1,m=!0,n=new c.b;n.Yc();for(var g=new c.Wa,u=-1,t=a.cb(h);-1!=t;t=a.U(t)){var l=a.Ba(t),w=0!=(q&1)&&90<=l.y?1:0,w=w|(0!=(q&2)&&l.y<=-e?2:0);if(0<p&&p!=w){if(n.x!=l.x){n.x=l.x;a.xj(a.Ra(t),g);var x=a.$j(h,t,g);a.Nf(x,n)}if(d)for(u=-1!=u?a.U(u):a.cb(h),x=a.Ra(t);u!=x;)u=a.td(u,!1);u=-1}0<w&&(l.y=c.Ub.Kl(k,l.y),a.Nf(t,l),m||p==w||(l.x!=n.x?(a.xj(t,
g),x=a.$j(h,t,g),a.rb(x,n.x,l.y),u=x):u=t));p=w;n=l;m=!1}if(d){if(-1!=u)for(u=a.U(u);-1!=u;)u=a.td(u,!1);e=a.cb(h);a.Uq(e,a.Vj(h))||(a.xj(e,g),a.$j(h,-1,g))}a.Pe(f).copyTo(b);return!0};a.x_=function(a,b){var d=0,c=a.La(b);b+=1;for(var f=a.aa();b<f&&!(0<a.Ym(b));++b)d++;return 64<c&&3<=d};a.wA=function(b,f,h,k){var d=b;if(d.u()||h==e.DontClip)return d;var g=d.G();if(33==g)return k=d,d=[k.w()],a.zH(d,1,f,h),d[0].isNaN()?k.Oa():k.rb(d[0]),b;b=f.lc();var v=b.ce(),l=90*v,p=180*v,m=360*v,n=f.ri(),u=.5*
v,t=new c.h;d.s(t);var w=f.Ts(),x=f.dS(),y=197==w.G();f=new c.h;w.s(f);h==e.PannableFold&&(h=b.oe().O(),f.o=n-.5*h,f.v=f.o+h);if(t.A<-l||t.B>l){(new c.h).I(t.o-v,-l,t.v+v,l);d=c.th.rq(d,f,b,NaN,0,k);if(d.u())return d;d.s(t)}if(x&&(f.B<t.A||f.A>t.B))return d.Ka();t.O()>m&&(d=a.Aq(d,n-p,m,b,!0,0,!0,k),d.s(t));l=a.hX(t.o,t.v,f.o,f.v,m);0!=l&&t.move(l,0);if(t.v>f.v||t.o<f.o){if(t.v>f.v)for(;t.o>=f.v;)t.move(-m,0),l-=m;for(;t.o<f.v-m;)t.move(m,0),l+=m}h=c.na.zv(b,w);0!=l&&(v=new c.Gd,v.zg(l,0),d.Vc(v));
if(x){if(y&&f.contains(t))return d;x=[null,null];for(l=0;2>l;l++){y?v=c.T.Hc(g)?c.th.clip(d,f,h,u,k):c.th.clip(d,f,h,0,k):(v=c.wk.local().V(d,w,b,k),v==w&&(v=c.T.me(v)));if(f.o<=t.o&&f.v>=t.v||f.o>=t.o&&f.v<=t.v)return v;x[l]=v;0==l&&(t.move(-m,0),v=new c.Gd,v.zg(-m,0),d.Vc(v))}if(550==g)x[0].Hd(x[1],0,-1);else if(c.T.Hc(g))x[0].add(x[1],!1);else if(33==g)x[0].u()&&(x[0]=x[1]);else throw c.g.X("intersect_with_GCS_horizon: unexpected geometry type");return x[0]}if(f.B<t.A||f.A>t.B)return d;for(g=0;!d.u()&&
t.v>f.o;)0!=g&&(v=new c.Gd,v.zg(g,0),d.Vc(v)),c.Jj.local().V(4,d,w,b,k)||(d=c.eq.local().V(d,w,b,k),w==d&&(d=c.T.me(d))),0!=g&&(u=new c.Gd,u.zg(-g,0),d.Vc(u)),g-=m,t.move(-m,0);return d};a.zH=function(b,f,h,k){if(0!=f&&k!=e.DontClip)if(k==e.PannableFold){k=h.aT();for(var d=f,g=0;g<f;g++)if(b[g].y>k.B||b[g].y<k.A)b[g].Yc(),d--;0!=d&&a.Uu(b,f,k.o,k.O())}else{k=h.ce();var v=90*k,l=180*k;k*=360;d=f;for(g=0;g<f;g++)if(b[g].y>v||b[g].y<-v)b[g].Yc(),d--;if(0!=d){d=new c.h;d.Mx(b,f);var v=h.Ts(),p=h.Uv(),
g=197==v.G(),m=new c.h;v.s(m);if(!p||!(m.B<d.A||m.A>d.B))if(p)if(a.Uu(b,f,m.Jk()-l,k),d=f,g)for(g=0;g<f;g++)m.contains(b[g])||(b[g].Yc(),d--);else for(h=c.na.zv(h.lc(),v),g=0;g<f;g++)(l=0!=c.fd.ee(v,b[g],h))||(b[g].Yc(),d--);else for(a.Uu(b,f,-l,k),d=f,h=c.na.zv(h.lc(),v),g=0;g<f;g++)if(l=b[g],l.isNaN()&&d--,p=a.XD(l.x,m.o,m.v,k),l.x+=p,l=0!=c.fd.ee(v,l,h))b[g].Yc(),d--}}};a.a_=function(a,b,e){if(0<=b&&!a.Qb(b))return 0;var d=0;if(1==e.Fb())return b=90*e.ce(),b-=2*b/Math.PI*c.Uc.PE_HORIZON_DELTA,
e=new c.h,a.s(e),e.B>=b&&(d=1),e.A<=-b&&(d|=2),d;var f=e.Wj();if(null==f)return 0;var h=null;0<=b&&(h=a);for(var g=0;2>g;g++)if((0<g?f.getSouthPoleLocation():f.getNorthPoleLocation())!=c.Ag.PE_POLE_OUTSIDE_BOUNDARY){var l=e.gA(0<g);l.isNaN()||(l=0>b?c.cf.AA(a,l,0):c.cf.BA(h,b,l,0,null),d|=l<<g)}return d};a.Aq=function(a,b,e,k,q,g,v,l){var d=a.G(),f=b+e;if(33===d){k=q?a:a.Sf();var h=k.Te();if(h<b||h>=f||v&&h==f)h+=Math.ceil((b-h)/e)*e,h=c.J.tk(h,b,f),k.DC(h);return k}if(a.u())return a;h=new c.h;a.s(h);
if(h.u())return a;var r=new c.yc;h.Yn(r);var p=new c.yc;p.I(b,f);if(p.contains(r))return a;f=new c.h;f.I(h);if(550===d){k=q?a:a.Sf();l=k.Qa(0);d=2*k.D();f=!1;for(b=0;b<d;b+=2)if(h=l.read(b),h<p.ga||h>=p.la||v&&h==p.la)f=!0,h+=Math.ceil((p.ga-h)/e)*e,h=p.yu(h),l.write(b,h);f&&k.Cc(1993);return k}if(197==d)return e=q?a:a.Sf(),h.Ma(f),e.Np(h),e;var m=.1*Math.max(h.ea(),h.O());f.P(0,m);v=a;p=k.pe(0);a=c.ei.local();for(q=new c.Gd;;){var n=Math.floor((r.ga-b)/e),u=Math.ceil((r.la-b)/e);if(3<u-n){n=Math.floor(.5*
(u+n));f.o=h.o-m;f.v=b+e*n;var t=c.th.clip(v,f,p,g,l);f.o=f.v;f.v=h.v+m;var w=c.th.clip(v,f,p,g,l);q.zg((n-u)*e,0);w.Vc(q);1736==d?v=a.V(t,w,k,null):(v=t,v.add(w,!1));v.s(h);h.Yn(r)}else break}f.o=b;f.v=b+e;b=new c.h;b.I(f);b.P(p,0);b=Math.floor((h.o-f.o)/e)*e;0!=b?(f.move(b,0),q.zg(-b,0)):q.sC();b=1607==d?new c.Ua(v.description):new c.Ja(v.description);g=new c.h;for(r=new c.h;h.v>f.o;){m=c.th.clip(v,f,p,0,l);m.s(r);if(1607==d?!m.u()&&(r.O()>p||r.ea()>p):!m.u()&&(1736!=d||r.O()>p))m.Vc(q),m.s(r),
b.s(g),g.P(p,p),g.Yb(r)&&1736==d?b=a.V(b,m,k,null):b.add(m,!1);f.move(e,0);q.shift(-e,0)}return b};a.Uu=function(a,b,e,k){for(var d=e+k,f=0;f<b;f++){var h=a[f].x;e<=h&&h<d||!(h<e||h>d||h==d)||(h+=Math.ceil((e-h)/k)*k,h=c.J.tk(h,e,d),a[f].x=h)}};a.cn=function(b,f,e,k,q,g){if(!f.Ic())throw c.g.X("fold_into_360_degree_range");if(b.u())return b;var d;if(2==f.Fb())e=f.bw(),d=f.aw()-e;else{var h=f.ce();d=360*h;e-=180*h}return a.Aq(b,e,d,f,k,q,!0,g)};a.uG=function(b,c,e,k){if(2==e.Fb())k=e.bw(),e=e.aw()-
k;else{var d=e.ce();e=360*d;k-=180*d}a.Uu(b,c,k,e)};a.Qj=function(a,b){var d=b.oe();if(33==a.G()){var f=a.Cf();return d.A<=f&&f<=d.B?a:a.Ka()}f=new c.h;a.s(f);var e=new c.h;e.I(d);e.o=f.o;e.v=f.v;e.P(.01*e.ea(),0);d=c.na.Yy(b,f);return e.contains(f)?a:c.th.clip(a,e,d,0,null)};a.Hj=function(a,b,c){return a>b.v&&a-b.v<c?b.v:a<b.o&&b.o-a<c?b.o:a};a.dY=function(b,c,e,k){k.x=a.Hj(b.x,c,e);k.y=b.y};a.cY=function(b,c,e,k){for(var d=0;d<c;d++)b[d].y<e.A||b[d].y>e.B?b[d].Yc():b[d].x=a.Hj(b[d].x,e,k)};a.zu=
function(b,f,e,k){if(!b.u()){var d=b.G();if(!k||1736!=d)if(c.T.fh(d)){k=b.Qa(0);for(var d=0,h=b.D();d<h;d++){var g=k.read(2*d),l=a.Hj(g,f,e);l!=g&&k.write(2*d,l)}b.Cc(1993)}else if(197==d)k=new c.h,b.s(k),k.o=a.Hj(k.o,f,e),k.v=a.Hj(k.v,f,e),b.Np(k);else if(33==d)b.DC(a.Hj(b.Te(),f,e));else throw c.g.X("internal error");}};a.ST=function(b,f,e,k){var d=new c.ed,h=d.Jb(b);b=c.na.zv(f,b);a.jt(d,h,f,b,e,!0,k);return d.Pe(h)};a.jt=function(b,f,e,k,q,r,v){if(!e.Ic())throw c.g.F("invalid call");var d=e.oe(),
h=e.lc(),l=h.Jg().getDatum().getSpheroid(),h=h.Td().Bi,p=l.getFlattening(),l=l.getAxis(),p=p*(2-p),m=new c.yc;d.Yn(m);var n=null,u=[[0,0],[0,0]];2==e.Fb()?(n=e.Jg(),r?(u[0][0]=a.Tn(v,m),u[0][1]=d.Cq(),c.fi.projToGeog(n,1,u),d=u[0][0]*h):(u[0][0]=d.Jk(),u[0][1]=v,c.fi.projToGeog(n,1,u),d=u[0][1]*h)):d=v*h;if(!r&&0!=d&&q!=g.GreatElliptic)throw c.g.X("invalid argument");var t=new c.da,w=[0],x=new c.b,y=new c.b,A=new c.b,z=[null,null],B=new c.b,C=new c.b,D=new c.b,P=new c.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var F=
b.cb(f);b.w(F,B);for(var O=!1,L=F=b.U(F);-1!=L;L=b.U(L)){if(L==F){if(O)break;O=!0}b.w(L,C);if(r&&(k<v-B.x&&C.x-v>k||k<v-C.x&&B.x-v>k)||!r&&(0!=v||k<-B.y&&C.y>k||k<-C.y&&B.y>k)){do if(!(Math.abs(B.x-C.x)>=.5*m.O())){2==e.Fb()?(u[0][0]=a.Tn(B.x,m),u[0][1]=B.y,u[1][0]=a.Tn(C.x,m),u[1][1]=C.y,c.fi.projToGeogCenter(n,2,u,0),D.x=u[0][0]*h,D.y=u[0][1]*h,P.y=u[1][1]*h):(D.x=B.x*h,D.y=B.y*h,P.y=C.y*h);P.x=2*(C.x-B.x)*Math.PI/m.O()+D.x;var Q;if(r){y.x=d;y.y=a.sA(l,p,D,P,d,q);if(isNaN(y.y))break;z[0]=y;Q=1}else if(q==
g.GreatElliptic){var K=[0,0];Q=c.uy.xA(l,p,D,P,d,K);if(0==Q)break;y.x=K[0];y.y=d;z[0]=y;2==Q&&(A.x=K[1],A.y=d,z[1]=A)}else{y.x=a.pA(l,p,D,P,q);if(isNaN(y.x))break;y.y=0;z[0]=y;Q=1}for(var S=-1,K=0;K<Q;K++){c.mb.Kd(l,p,D.x,D.y,P.x,P.y,t,null,null,q);var G=t.j;c.mb.Kd(l,p,D.x,D.y,z[K].x,z[K].y,t,null,null,q);var ca=t.j;2==e.Fb()?(u[0][0]=z[K].x/h,u[0][1]=z[K].y/h,c.fi.geogToProj(n,1,u),r?(x.y=u[0][1],x.x=v):(x.x=a.zl(u[0][0],B.x,C.x,m),x.y=v)):r?(x.x=v,x.y=z[K].y/h):(x.x=a.zl(z[K].x/h,B.x,C.x,m),x.y=
v);w[0]=0<G?c.J.tk(ca/G,0,1):.5;if(0==w[0]||1==w[0])break;S>w[0]||(S=b.Ra(L),b.Em(S,w,1),b.rb(b.U(S),x.x,x.y),S=w[0])}}while(0)}B.L(C)}}};a.Tn=function(a,b){var d=b.la-b.ga;return b.yu(a-Math.floor((a-b.ga)/d)*d)};a.zl=function(a,b,e,k){var d=new c.yc;d.I(b,e);e=k.O();a=Math.floor((a-b)/e)*e+a;for(d=d.Tf();Math.abs(a-d)>Math.abs(a+e-d);)a+=e;return a};a.Ug=function(a,b,e){a=c.ks.uq(a);b=c.ks.Wx(a,c.ks.uq(b));e=c.ks.Wx(a,c.ks.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};a.sA=function(b,
f,e,k,q,r){if(r==g.GreatElliptic)return c.uy.oU(f,e,k,q);if(Math.abs(e.x-k.x)>=Math.PI||!a.Ug(e.x,k.x,q))return NaN;var d;e.x>k.x?d=k:(d=e,e=k);k=new c.da;var h=new c.da,l=new c.da;c.mb.Kd(b,f,d.x,d.y,e.x,e.y,h,k,null,r);var p=h.j,m=0,n=1,u=new c.b;for(u.L(d);p*(n-m)>1E-12*b;){var t=.5*(m+n);c.mb.Sj(b,f,d.x,d.y,p*t,k.j,h,l,r);u.x=h.j;u.y=l.j;if(u.x==q)break;if(a.Ug(d.x,u.x,q))n=t;else if(a.Ug(e.x,u.x,q))m=t;else return NaN}return u.y};a.pA=function(a,b,e,k,q){if(q==g.GreatElliptic)return q=[0,0],
c.uy.xA(a,b,e,k,0,q),q[0];var d;e.y>k.y?d=k:(d=e,e=k);k=new c.yc;k.I(d.y,e.y);if(!k.contains(0)||Math.abs(d.x-e.x)>=Math.PI)return NaN;if(d.x==e.x)return d.x;var f=new c.da,h=new c.da,l=new c.da;c.mb.Kd(a,b,d.x,d.y,e.x,e.y,h,f,null,q);var p=h.j,m=0,n=1,u=new c.b;for(u.L(d);p*(n-m)>1E-12*a;){var t=.5*(m+n);c.mb.Sj(a,b,d.x,d.y,p*t,f.j,h,l,q);u.x=h.j;u.y=l.j;k.I(d.y,u.y);if(0==u.y)break;if(k.contains(0))n=t;else if(k.I(e.y,u.y),k.contains(0))m=t;else return NaN}return u.x};a.E_=function(a,b,e,k,q,g){if(b==
q&&e!=g)throw c.g.F();if(0>=k)return 0;if(a.No()){g*=2;var d=2*e;a=2*k;for(e=0;e<a;e++)q[g+e]=b[d+e];return k}if(2>=k){g=[new c.b,new c.b];for(d=0;d<k;d++)g[d].ja(b[2*d],b[2*d+1]);b=c.ns.local().AY(a,g,k,g);for(d=0;d<k;d++)q[2*d]=g[d].x,q[2*d+1]=g[d].y;return b}var f=a.he,d=a.Ee,h=f.Fb(),r=d.Fb();if(0==h&&h==r)return a=f.Zi(),d=d.Zi(),d=a/d,a=new c.Gd,a.Vp(d,d),a.BY(b,e,q,g,k),k;h=new c.Dd;h.Rd(3);h.resize(k);for(var r=h.Qa(0),l=h.Qa(3),d=0,p=2*e,m=2*g;d<k;d++,m+=2){e=b[p++];var f=b[p++],n=m;if(isNaN(e)||
isNaN(f))f=e=0,n=-1;l.write(d,n);r.write(2*d,e);r.write(2*d+1,f)}h.Cc(1993);b=c.ns.local().V(h,a,null);d=0;for(g*=2;d<k;d++,g+=2)q[g]=NaN,q[g+1]=NaN;if(b.u())return 0;g=b.Qa(3);a=b.Qa(0);d=h=0;for(k=b.D();d<k;d++)b=g.read(d),-1!=b&&(e=a.read(2*d),f=a.read(2*d+1),q[b]=e,q[b+1]=f,h++);return h};a.CJ=function(a,b,e,k){if(!a.he.Ic())return!1;var d=new c.Dd(b.description);d.Hd(b,0,-1);k=c.ns.local().V(d,a,k);d=b.D();e.Oa();if(d!=k.D())return!1;var f=new c.h;b.s(f);var h=new c.h;k.s(h);f=f.O();h=h.O();
if(0!=f&&0!=h){if(h/=f,a=a.Ee.Ch().O()/a.he.Ch().O(),1E-10<Math.abs(h/a-1))return!1}else if(0!=f||0!=h)return!1;e.add(b,!1);b=new c.b;for(a=0;a<d;a++)k.w(a,b),e.rb(a,b);return!0};a.OO=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.AJ=function(b,f,h,k){if(h==e.Clip){var d=f.Ok();197==d.G()?(h=new c.h,d.s(h),d=c.na.Yy(f,h),b=c.th.clip(b,h,d,5E4*f.hn(),k)):c.Jj.local().V(1,d,b,f,k)||(b=c.wk.local().V(b,d,f,k),b==d&&(b=c.Bl.me(b)))}else f.Ic()&&(k=new c.h,b.ac(k),f.oe().contains(k)||(a.zu(b,
f.oe(),f.pe(0),!0),h==e.PannableFold&&(b=a.Qj(b,f)),b=a.cn(b,f,0,!0,1E5*f.hn(),null)));return b};a.lF=function(a,b,e){var d=b.Us();if(null==d)return a;b=b.lc();var f=b.oe().O(),h=new c.h;a.ac(h);var g=new c.yc;h.Yn(g);for(var h=d.Fa(),d=null,l=new c.Gd;h.Ya();)for(;h.Ea();){var p=h.ba(),m=p.hg(0,0),n=new c.yc;n.I(m.ga,m.la);for(m=0;n.la>g.ga;)n.move(-f),--m;for(;n.ga<=g.la;){if(n.Yb(g)){null==d&&(d=new c.Ua);var u=c.Hb.CQ(p.ec(),p.Ac());0!=m&&(l.zg(m*f,0),u.Vc(l));d.cc(u,!0)}n.move(f);++m}}return null!=
d?(b=c.na.DP(b,d),b=c.na.As(b),c.Mu.IQ(a,d,b,e)):a};a.hX=function(b,c,e,k,q){return b>=e&&c<=k?0:a.XD(.5*(c+b),e,k,q)};a.XD=function(a,b,e,k){return c.Ub.round((.5*(e+b)-a)/k)*k};a.lS=function(b,f,e,k,q,g,v,l){var d=a.Wu(k,q),h=d.O(),r=h/360,p=a.ED*r,m=b.Qa(0),n=f.Ic(),u=n?h/f.oe().O():0,t;f=b.Ka();for(var w=0,x=e.aa();w<x;++w){var y=n,I=new c.Ua(e.description);I.Ui(e,w,!0);t=e.Qb(w);0!=v&&(t=a.yD(t,I,d.B-l,d.B,v))&&(y=!1);var A=-1;t=I.D();var z=!1;y&&(A=b.wa(w),z=b.Qb(w));var B=I.Qa(0),C=0,D=B.read(0),
P=0,F=3*k.pe(0),O=!1,L=new c.b;L.Yc();var Q=new c.b;Q.Yc();for(var K=!1,S=1;S<t;++S){var G=c.b.pa(B.Lf(2*S),B.Lf(2*S+1)),ca=G.x,J=ca+C,M=J-D;G.x=J;if(Math.abs(M)>p){if(y){var R=A+S-1,V=A;if(!z||S+1<t)V+=S;R=m.read(2*R);V=(m.read(2*V)-R)*u;Math.abs(M-V)>1*r&&(n=!1)}y||(C-=c.Ub.Kl(h,J-D),J=ca+C,++P,K=0!=C,G.x=J)}else O||c.na.BH(L,Q,G,F)&&(O=!0);K&&B.write(2*S,J);D=J;L.L(Q);Q.L(G)}0!=P&&I.Cc(1993);y=I.Ba(0);t=I.Ba(t-1);c.b.Cb(y,t);I=a.sM(I,k,isNaN(q)?0:q,g);f.add(I,!1)}b=k.pe(0);e=d.O()/180;a.zu(f,d,
.1*b,!1);return c.th.clip(f,d,b,e,g)};a.sM=function(b,c,e,k){return a.cn(b,c,e,!0,0,k)};a.lU=function(a,b,e,k){var d=a.G();if(1736==d)for(b=null!=b?b.pe(0):0,d=0;d<k;d++)1!=c.fd.ee(a,e[d],b)&&e[d].Yc();else if(197==d)for(d=0;d<k;d++)a.DQ(e[d])||e[d].Yc();else throw c.g.F();};a.Il=function(a,b,e,k){if(32>e)for(var d=new c.Wa,f=0;f<e;f++)d.rb(b[f]),a.Il(d,k).w(b[f]);else{var h=new c.Dd;h.Rd(3);h.$E(b,e);d=h.Qa(3);for(f=0;f<e;f++)d.write(f,f);f=a.Il(h,k);a=f.Qa(0);d=f.Qa(3);k=c.b.pa(NaN,NaN);for(h=0;h<
e;h++)b[h]=k;e=f.D();for(f=0;f<e;f++)k=d.read(f),a.fc(2*f,b[k])}};a.Hl=function(a,b,e,k){if(32>e)for(var d=new c.Wa,f=0;f<e;f++)d.rb(b[f]),a.Hl(d,k).w(b[f]);else{var h=new c.Dd;h.Rd(3);h.$E(b,e);d=h.Qa(3);for(f=0;f<e;f++)d.write(f,f);f=a.Hl(h,k);a=f.Qa(0);d=f.Qa(3);k=c.b.pa(NaN,NaN);for(h=0;h<e;h++)b[h]=k;e=f.D();for(f=0;f<e;f++)k=d.read(f),a.fc(2*f,b[k])}};a.HZ="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.ED=210;return a}();c.Ib=b})(u||(u={}));(function(c){(function(c){c[c.rightSide=1]="rightSide"})(c.mN||(c.mN=
{}));var e=function(){function e(b,a,d){this.zt=new c.b;void 0===b?this.Bp=-1:(this.zt.L(b),this.Bp=a,this.Pa=d,this.$w=0)}e.prototype.BK=function(b){this.$w=b?this.$w|1:this.$w&-2};e.prototype.u=function(){return 0>this.Bp};e.prototype.Qz=function(){if(this.u())throw c.g.X("invalid call");return new c.Wa(this.zt.x,this.zt.y)};e.prototype.Za=function(){if(this.u())throw c.g.X("invalid call");return this.Bp};e.prototype.Tz=function(){if(this.u())throw c.g.X("invalid call");return this.Pa};e.prototype.CA=
function(){return 0!=(this.$w&1)};e.prototype.Hy=function(b,a,d,c){this.zt.x=b;this.zt.y=a;this.Bp=d;this.Pa=c};return e}();c.Sm=e})(u||(u={}));(function(c){var e=function(){function b(){}b.prototype.bo=function(a,b){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;a.ac(this.il);this.il.P(b,b);this.il.Yb(this.Mb.Ha)?((this.tt=c.T.Nc(a.G()))?(this.VI=a.ec(),this.UI=a.Ac(),this.ta=b):this.ta=NaN,this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf)):this.Nt=-1};b.prototype.Oi=
function(a,b){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;this.il.I(a);this.il.P(b,b);this.ta=NaN;this.il.Yb(this.Mb.Ha)?(this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf),this.tt=!1):this.Nt=-1};b.prototype.next=function(){if(0==this.Sh.size)return-1;this.Xk=this.Nt;var a=null,b=null,f,e=null,k=null;this.tt&&(a=new c.b,b=new c.b,e=new c.h);for(var q=!1;!q;){for(;-1!=this.Xk;){f=this.Mb.Mz(this.Mb.Tv(this.Xk));if(f.Yb(this.il))if(this.tt){if(a.L(this.VI),b.L(this.UI),
e.I(f),e.P(this.ta,this.ta),0<e.ez(a,b)){q=!0;break}}else{q=!0;break}this.Xk=this.Mb.$v(this.Xk)}if(-1==this.Xk){f=this.Sh.Ec();var r=this.ij[this.ij.length-1];null==k&&(k=[],k[0]=new c.h,k[1]=new c.h,k[2]=new c.h,k[3]=new c.h);g.iK(r,k);this.Sh.Mf();--this.ij.length;for(r=0;4>r;r++){var l=this.Mb.Eq(f,r);if(-1!=l&&0<this.Mb.qT(l)&&k[r].Yb(this.il))if(this.tt){if(a.L(this.VI),b.L(this.UI),e.I(k[r]),e.P(this.ta,this.ta),0<e.ez(a,b)){var p=new c.h;p.I(k[r]);this.Sh.add(l);this.ij.push(p)}}else p=new c.h,
p.I(k[r]),this.Sh.add(l),this.ij.push(p)}if(0==this.Sh.size)return-1;this.Xk=this.Mb.Ss(this.Sh.get(this.Sh.size-1))}}this.Nt=this.Mb.$v(this.Xk);return this.Xk};b.BQ=function(a,d,f){var e=new b;e.Mb=a;e.il=new c.h;e.Sh=new c.ha(0);e.ij=[];e.bo(d,f);return e};b.AQ=function(a,d,f){var e=new b;e.Mb=a;e.il=new c.h;e.Sh=new c.ha(0);e.ij=[];e.Oi(d,f);return e};b.zQ=function(a){var d=new b;d.Mb=a;d.il=new c.h;d.Sh=new c.ha(0);d.ij=[];return d};return b}();c.IZ=e;var g=function(){function b(a,b){this.If=
new c.Zc(11);this.zi=new c.Zc(5);this.ut=[];this.Ww=new c.ha(0);this.Ha=new c.h;this.sl(a,b)}b.prototype.reset=function(a,b){this.If.Wi(!1);this.zi.Wi(!1);this.ut.length=0;this.Ww.clear(!1);this.sl(a,b)};b.prototype.dh=function(a,b){return this.mw(a,b,0,this.Ha,this.Jf,!1,-1)};b.prototype.lw=function(a,b,c){c=-1==c?this.Jf:this.YG(c);var d=this.ea(c),f=this.GS(c);return this.mw(a,b,d,f,c,!1,-1)};b.prototype.ia=function(a){return this.BS(a)};b.prototype.JG=function(a){return this.Mz(this.Tv(a))};b.prototype.ea=
function(a){return this.Vv(a)};b.prototype.GS=function(a){var b=new c.h;b.I(this.Ha);var f=this.Vv(a);a=this.TG(a);for(var e=0;e<2*f;e+=2){var k=c.J.truncate(3&a>>e);0==k?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==k?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==k?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.qT=function(a){return this.nA(a)};b.prototype.PS=function(a,b){return e.BQ(this,a,b)};b.prototype.$z=function(a,b){return e.AQ(this,a,b)};b.prototype.jf=function(){return e.zQ(this)};
b.prototype.sl=function(a,b){if(0>b||32<2*b)throw c.g.F("invalid height");this.cV=b;this.Ha.I(a);this.Jf=this.If.Me();this.Ux(this.Jf,0);this.Ox(this.Jf,0);this.sK(this.Jf,0);this.oK(this.Jf,0)};b.prototype.mw=function(a,d,f,e,k,q,g){if(!e.contains(d))return 0==f?-1:this.mw(a,d,0,this.Ha,this.Jf,q,g);if(!q)for(var h=k;-1!=h;h=this.bT(h))this.Ux(h,this.nA(h)+1);h=new c.h;h.I(e);e=k;var r=[];r[0]=new c.h;r[1]=new c.h;r[2]=new c.h;for(r[3]=new c.h;f<this.cV&&this.FP(e);f++){b.iK(h,r);for(var l=!1,p=
0;4>p;p++)if(r[p].contains(d)){var l=!0,m=this.Eq(e,p);-1==m&&(m=this.NQ(e,p));this.Ux(m,this.nA(m)+1);e=m;h.I(r[p]);break}if(!l)break}return this.QT(a,d,f,h,e,q,k,g)};b.prototype.QT=function(a,b,c,e,k,q,g,l){var d=this.PG(k);if(q){if(k==g)return l;this.lR(l);q=l}else q=this.PQ(),this.qC(q,a),this.nX(this.Tv(q),b);this.LX(q,k);-1!=d?(this.Sx(q,d),this.Px(d,q)):this.kK(k,q);this.tC(k,q);this.Ox(k,this.Yv(k)+1);this.EP(k)&&this.aS(c,e,k);return q};b.prototype.lR=function(a){var b=this.YG(a),c=this.PG(b),
e=this.hT(a),k=this.$v(a);this.Ss(b)==a?(-1!=k?this.Sx(k,-1):this.tC(b,-1),this.kK(b,k)):c==a?(this.Px(e,-1),this.tC(b,e)):(this.Sx(k,e),this.Px(e,k));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.iK=function(a,b){var d=.5*(a.o+a.v),c=.5*(a.A+a.B);b[0].I(d,c,a.v,a.B);b[1].I(a.o,c,d,a.B);b[2].I(a.o,a.A,d,c);b[3].I(d,a.A,a.v,c)};b.prototype.EP=function(a){return 8==this.Yv(a)&&!this.jH(a)};b.prototype.aS=function(a,b,c){var d,f,e=this.Ss(c);do f=this.Tv(e),d=this.zi.S(e,0),f=this.Mz(f),this.mw(d,
f,a,b,c,!0,e),e=d=this.$v(e);while(-1!=e)};b.prototype.FP=function(a){return 8<=this.Yv(a)||this.jH(a)};b.prototype.jH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.NQ=function(a,b){var d=this.If.Me();this.rX(a,b,d);this.Ux(d,0);this.Ox(d,0);this.ul(d,a);this.oK(d,this.Vv(a)+1);this.sK(d,b<<2*this.Vv(a)|this.TG(a));return d};b.prototype.PQ=function(){var a=this.zi.Me(),b;0<this.Ww.size?(b=this.Ww.Ec(),this.Ww.Mf()):(b=this.ut.length,this.ut.push(new c.h));
this.oX(a,b);return a};b.prototype.Eq=function(a,b){return this.If.S(a,b)};b.prototype.rX=function(a,b,c){this.If.R(a,b,c)};b.prototype.Ss=function(a){return this.If.S(a,4)};b.prototype.kK=function(a,b){this.If.R(a,4,b)};b.prototype.PG=function(a){return this.If.S(a,5)};b.prototype.tC=function(a,b){this.If.R(a,5,b)};b.prototype.TG=function(a){return this.If.S(a,6)};b.prototype.sK=function(a,b){this.If.R(a,6,b)};b.prototype.Yv=function(a){return this.If.S(a,7)};b.prototype.nA=function(a){return this.If.S(a,
8)};b.prototype.Ox=function(a,b){this.If.R(a,7,b)};b.prototype.Ux=function(a,b){this.If.R(a,8,b)};b.prototype.bT=function(a){return this.If.S(a,9)};b.prototype.ul=function(a,b){this.If.R(a,9,b)};b.prototype.Vv=function(a){return this.If.S(a,10)};b.prototype.oK=function(a,b){this.If.R(a,10,b)};b.prototype.BS=function(a){return this.zi.S(a,0)};b.prototype.qC=function(a,b){this.zi.R(a,0,b)};b.prototype.hT=function(a){return this.zi.S(a,1)};b.prototype.$v=function(a){return this.zi.S(a,2)};b.prototype.Sx=
function(a,b){this.zi.R(a,1,b)};b.prototype.Px=function(a,b){this.zi.R(a,2,b)};b.prototype.YG=function(a){return this.zi.S(a,3)};b.prototype.LX=function(a,b){this.zi.R(a,3,b)};b.prototype.Tv=function(a){return this.zi.S(a,4)};b.prototype.oX=function(a,b){this.zi.R(a,4,b)};b.prototype.Mz=function(a){return this.ut[a]};b.prototype.nX=function(a,b){this.ut[a].I(b)};return b}();c.gq=g})(u||(u={}));(function(c){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(c.jM||
(c.jM={}));var e=function(){function b(a,b){this.Eh=null;this.qV=b;this.Eh=a}b.prototype.Kx=function(a,b){this.hI!=b&&a.flush();this.hI=b};b.prototype.nG=function(a,b){for(var d=0;d<b;)for(var c=a[d++],e=a[d++],q=a[d++]*this.qV;c<e;c++)this.Eh[q+(c>>4)]|=this.hI<<2*(c&15)};return b}();c.KZ=e;var g=function(){function b(a,b,c){this.Eh=null;this.BB=this.ll=this.dJ=this.bJ=this.Ct=this.pI=this.fg=this.Nn=0;this.rj=this.ml=this.em=null;this.kw(a,b,c)}b.create=function(a,d,f){if(!b.$y(a))throw c.g.F();
return b.ad(a,d,f)};b.Yg=function(a,d,f){if(!b.$y(a))throw c.g.F();return b.de(a,d,f)};b.PW=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw c.g.X("Internal Error");}return a};b.$y=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.KR=function(a,b){b=b.Fa();for(var d=new c.b,e=new c.b;b.Ya();)for(;b.Ea();){var k=b.ba();if(322!=k.G())throw c.g.X("Internal Error");a.ai(k.ec(),d);a.ai(k.Ac(),e);this.rj.Ny(d.x,d.y,e.x,e.y)}this.rj.MJ(c.vy.ly)};
b.prototype.LR=function(){throw c.g.X("Internal Error");};b.prototype.Cz=function(a,b){for(var d=1;4>d;d++)a.Ny(b[d-1].x,b[d-1].y,b[d].x,b[d].y);a.Ny(b[3].x,b[3].y,b[0].x,b[0].y);this.rj.MJ(c.vy.ly)};b.prototype.SK=function(a,b,f){for(var d=[null,null,null,null],e=0;e<d.length;e++)d[e]=new c.b;b=b.Fa();f=this.ml.CY(f)+1.5;for(var e=new c.b,q=new c.b,g=new c.b,l=new c.b,p=new c.b,m=new c.h,n=new c.b;b.Ya();){var u=!1,t=!0;for(n.ja(0,0);b.Ea();){var w=b.ba();l.x=w.ua;l.y=w.ra;p.x=w.sa;p.y=w.oa;m.Oa();
m.Nb(l.x,l.y);m.ol(p.x,p.y);if(this.em.HH(m)){this.ml.ai(p,p);t?(this.ml.ai(l,l),n.L(l),t=!1):l.L(n);e.xc(p,l);var w=e.length(),x=.5>w;0==w?e.ja(1,0):(x||n.L(p),e.scale(f/w),q.ja(-e.y,e.x),g.ja(e.y,-e.x),l.sub(e),p.add(e),d[0].add(l,q),d[1].add(l,g),d[2].add(p,g),d[3].add(p,q),x?u=!0:this.Cz(a,d))}else u&&(this.Cz(a,d),u=!1),t=!0}u&&this.Cz(a,d)}};b.prototype.XC=function(a){return c.J.truncate(a*this.pI+this.bJ)};b.prototype.YC=function(a){return c.J.truncate(a*this.Ct+this.dJ)};b.ad=function(a,d,
c){return new b(a,d,c)};b.de=function(a,d,c){return new b(a,d,c)};b.prototype.kw=function(a,b,f){this.fg=Math.max(c.J.truncate(2*Math.sqrt(f)+.5),64);this.Nn=c.J.truncate((2*this.fg+31)/32);this.em=new c.h;this.ll=b;f=0;for(var d=this.fg,k=this.Nn;8<=d;)f+=d*k,d=c.J.truncate(d/2),k=c.J.truncate((2*d+31)/32);this.Eh=c.J.df(f,0);this.rj=new c.vy;f=new e(this.Eh,this.Nn,this);this.rj.$X(this.fg,this.fg,f);a.s(this.em);this.em.P(b,b);var d=new c.h,k=c.h.pa(1,1,this.fg-2,this.fg-2),q=b*k.O();b*=k.ea();
d.I(this.em.Tf(),Math.max(q,this.em.O()),Math.max(b,this.em.ea()));this.BB=this.ll;this.ml=new c.Gd;this.ml.NT(d,k);new c.Gd;switch(a.G()){case 550:f.Kx(this.rj,2);this.LR();break;case 1607:f.Kx(this.rj,2);this.SK(this.rj,a,this.BB);break;case 1736:f.Kx(this.rj,1),this.KR(this.ml,a),f.Kx(this.rj,2),this.SK(this.rj,a,this.BB)}this.pI=this.ml.lb;this.Ct=this.ml.gb;this.bJ=this.ml.Wb;this.dJ=this.ml.bc;this.wP()};b.prototype.wP=function(){this.rj.flush();for(var a=0,b=this.fg*this.Nn,f=this.fg,e=c.J.truncate(this.fg/
2),k=this.Nn,q=c.J.truncate((2*e+31)/32);8<f;){for(f=0;f<e;f++)for(var g=2*f,l=2*f+1,p=0;p<e;p++){var m=2*p,n=2*p+1,u=m>>4,m=2*(m&15),t=n>>4,n=2*(n&15),w=this.Eh[a+k*g+u]>>m&3,w=w|this.Eh[a+k*g+t]>>n&3,w=w|this.Eh[a+k*l+u]>>m&3,w=w|this.Eh[a+k*l+t]>>n&3;this.Eh[b+q*f+(p>>4)]|=w<<2*(p&15)}f=e;k=q;a=b;e=c.J.truncate(f/2);q=c.J.truncate((2*e+31)/32);b=a+k*f}};b.prototype.wm=function(a,b){if(!this.em.contains(a,b))return 0;a=this.XC(a);b=this.YC(b);if(0>a||a>=this.fg||0>b||b>=this.fg)return 0;a=this.Eh[this.Nn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Xn=function(a){if(!a.Ma(this.em))return 0;var b=this.XC(a.o),f=this.XC(a.v),e=this.YC(a.A);a=this.YC(a.B);0>b&&(b=0);0>e&&(e=0);f>=this.fg&&(f=this.fg-1);a>=this.fg&&(a=this.fg-1);if(b>f||e>a)return 0;for(var k=Math.max(f-b,1)*Math.max(a-e,1),q=0,g=this.Nn,l=this.fg,p=0;;){if(32>k||16>l){for(k=e;k<=a;k++)for(var m=b;m<=f;m++)if(p=this.Eh[q+g*k+(m>>4)]>>2*(m&15)&3,1<p)return 2;if(0==p)return 0;if(1==p)return 1}q+=g*l;l=c.J.truncate(l/2);g=c.J.truncate((2*
l+31)/32);b=c.J.truncate(b/2);e=c.J.truncate(e/2);f=c.J.truncate(f/2);a=c.J.truncate(a/2);k=Math.max(f-b,1)*Math.max(a-e,1)}};b.prototype.kT=function(){return this.fg*this.Nn};return b}();c.ty=g})(u||(u={}));(function(c){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(c.rN||(c.rN={}));var e=
function(){function b(){}b.pa=function(a,d,c,e,k,q,g,l){var f=new b;f.bx=a;f.Fn=d;f.ik=c;f.sj=e;f.DI=k;f.l_=q;f.m_=g;f.n_=l;return f};return b}(),g=function(){function b(){}b.VE=function(a,d,f){if(!b.az(a))return!1;var e=c.na.$g(d,a,!1);d=!1;c.yl.KF(a)&&(d=d||a.bv(e,f));e=a.G();1736!=e&&1607!=e||!c.yl.IF(a)||0==f||(d=d||a.Kj(f));1736!=e&&1607!=e||!c.yl.JF(a)||0==f||(d=d||a.WN());return d};b.az=function(a){return c.yl.KF(a)||c.yl.IF(a)||c.yl.JF(a)};return b}();c.Iu=g;g=function(){function b(){this.Qh=
[]}b.bC=function(a,d,f,e,k){var h=a.G(),g=d.G();if(197==h){if(197==g)return b.IW(a,d,f,e);if(33==g)return 2==e?e=1:1==e&&(e=2),b.pE(d,a,f,e)}else if(33==h){if(197==g)return b.pE(a,d,f,e);if(33==g)return b.SW(a,d,f,e)}if(a.u()||d.u())return 4==e?!0:!1;var l=new c.h;a.s(l);var p=new c.h;d.s(p);var m=new c.h;m.I(l);m.Nb(p);f=c.na.$d(f,m,!1);if(b.Gk(l,p,f))return 4==e?!0:!1;l=!1;c.Bl.Nc(h)&&(h=new c.Ua(a.description),h.cc(a,!0),a=h,h=1607);c.Bl.Nc(g)&&(g=new c.Ua(d.description),g.cc(d,!0),d=g,g=1607);
if(197!=h&&197!=g){if(a.ub()<d.ub()||33==h&&550==g)2==e?e=1:1==e&&(e=2)}else 1736!=h&&197!=g&&(2==e?e=1:1==e&&(e=2));switch(h){case 1736:switch(g){case 1736:l=b.iu(a,d,f,e,k);break;case 1607:l=b.Un(a,d,f,e,k);break;case 33:l=b.hu(a,d,f,e,k);break;case 550:l=b.gu(a,d,f,e,k);break;case 197:l=b.TK(a,d,f,e,k)}break;case 1607:switch(g){case 1736:l=b.Un(d,a,f,e,k);break;case 1607:l=b.PB(a,d,f,e,k);break;case 33:l=b.ku(a,d,f,e,k);break;case 550:l=b.ju(a,d,f,e,k);break;case 197:l=b.rL(a,d,f,e)}break;case 33:switch(g){case 1736:l=
b.hu(d,a,f,e,k);break;case 1607:l=b.ku(d,a,f,e,k);break;case 550:l=b.cu(d,a,f,e,k)}break;case 550:switch(g){case 1736:l=b.gu(d,a,f,e,k);break;case 1607:l=b.ju(d,a,f,e,k);break;case 550:l=b.GB(a,d,f,e,k);break;case 33:l=b.cu(a,d,f,e,k);break;case 197:l=b.nH(a,d,f,e)}break;case 197:switch(g){case 1736:l=b.TK(d,a,f,e,k);break;case 1607:l=b.rL(d,a,f,e);break;case 550:l=b.nH(d,a,f,e)}}return l};b.IW=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;var h=new c.h,q=new c.h,g=new c.h;a.s(h);d.s(q);g.I(h);
g.Nb(q);a=c.na.$d(f,g,!1);switch(e){case 4:return b.Gk(h,q,a);case 2:return b.mE(q,h,a);case 1:return b.mE(h,q,a);case 3:return b.ye(h,q,a);case 8:return b.UL(h,q,a);case 32:return b.OL(h,q,a);case 16:return b.LL(h,q,a)}return!1};b.pE=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;a=a.w();var h=new c.h,q=new c.h;d.s(h);q.I(a);q.Nb(h);d=c.na.$d(f,q,!1);switch(e){case 4:return b.Dx(a,h,d);case 2:return b.KC(a,h,d);case 1:return b.vV(a,h,d);case 3:return b.MH(a,h,d);case 8:return b.jC(a,h,d)}return!1};
b.SW=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;a=a.w();d=d.w();var h=new c.h;h.I(a);h.Nb(d);f=c.na.$d(f,h,!1);switch(e){case 4:return b.HV(a,d,f);case 2:return b.LH(d,a,f);case 1:return b.LH(a,d,f);case 3:return b.NH(a,d,f)}return!1};b.iu=function(a,d,c,e,k){switch(e){case 4:return b.wL(a,d,c);case 2:return b.Ex(d,a,c,k);case 1:return b.Ex(a,d,c,k);case 3:return b.ML(a,d,c);case 8:return b.qM(a,d,c);case 32:return b.VL(a,d,c,k)}return!1};b.Un=function(a,d,c,e,k){switch(e){case 4:return b.CL(a,
d,c);case 1:return b.OB(a,d,c,k);case 8:return b.tM(a,d,c,k);case 16:return b.uY(a,d,c)}return!1};b.hu=function(a,d,c,e){switch(e){case 4:return b.TY(a,d,c);case 1:return b.HW(a,d,c);case 8:return b.mM(a,d,c)}return!1};b.gu=function(a,d,c,e){switch(e){case 4:return b.QY(a,d,c);case 1:return b.ZV(a,d,c);case 8:return b.iM(a,d,c);case 16:return b.jX(a,d,c)}return!1};b.TK=function(a,d,c,e,k){if(b.IY(a,d,c))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.vM(a,d,c);case 1:return b.PV(a,d,
c);case 3:return b.GL(a,d,c);case 8:return b.YL(a,d,c,k);case 32:return b.PL(a,d,c,k);case 16:return b.RW(a,d,c,k)}return!1};b.PB=function(a,d,c,e){switch(e){case 4:return b.FN(a,d,c);case 2:return b.oL(d,a,c);case 1:return b.oL(a,d,c);case 3:return b.KN(a,d,c);case 8:return b.dD(a,d,c);case 32:return b.PN(a,d,c);case 16:return b.qL(a,d,c)}return!1};b.ku=function(a,d,c,e){switch(e){case 4:return b.CN(a,d,c);case 1:return b.DM(a,d,c);case 8:return b.RO(a,d,c)}return!1};b.ju=function(a,d,c,e){switch(e){case 4:return b.vN(a,
d,c);case 1:return b.AM(a,d,c);case 8:return b.uL(a,d,c);case 16:return b.oN(a,d,c)}return!1};b.rL=function(a,d,c,e){if(b.qN(a,d,c))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.aP(a,d,c);case 1:return b.yM(a,d,c);case 3:return b.IN(a,d,c);case 8:return b.SN(a,d,c);case 32:return b.MN(a,d,c);case 16:return b.gN(a,d,c)}return!1};b.GB=function(a,d,c,e){switch(e){case 4:return b.$O(a,d,c);case 2:return b.sG(d,a,c);case 1:return b.sG(a,d,c);case 3:return b.YQ(a,d,c);case 32:return b.FR(a,
d,c)}return!1};b.cu=function(a,d,c,e){switch(e){case 4:return b.xG(a,d,c);case 2:return b.HU(a,d,c);case 1:return b.RN(a,d,c);case 3:return b.zx(a,d,c)}return!1};b.nH=function(a,d,c,e){switch(e){case 4:return b.xO(a,d,c);case 2:return b.HT(a,d,c);case 1:return b.ON(a,d,c);case 3:return b.IP(a,d,c);case 8:return b.eS(a,d,c);case 16:return b.tL(a,d,c)}return!1};b.ML=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.ye(e,k,f))return!1;e=b.uc(a,d,!1);if(4==e||1==e||2==e)return!1;if(b.oG(a,d,
f))return!0;e=a.Rb();k=d.Rb();return Math.abs(e-k)>4*Math.max(a.D(),d.D())*f?!1:b.IA(a,d,f,!0)};b.wL=function(a,d,c){var f=b.uc(a,d,!0);return 4==f?!0:1==f||2==f||1073741824==f?!1:b.LJ(a,d,c)};b.qM=function(a,d,c){var f=b.uc(a,d,!1);return 4==f||1==f||2==f?!1:b.lL(a,d,c,null)};b.VL=function(a,d,c,e){var f=b.uc(a,d,!1);return 4==f||1==f||2==f?!1:b.YJ(a,d,c,e)};b.Ex=function(a,d,f,e){var h=new c.h,q=new c.h;a.s(h);d.s(q);if(!b.Dc(h,q,f))return!1;h=b.uc(a,d,!1);return 4==h||2==h?!1:1==h?!0:b.oJ(a,d,
f,e)};b.CL=function(a,d,c){var f=b.uc(a,d,!0);return 4==f?!0:1==f||1073741824==f?!1:b.LJ(a,d,c)};b.tM=function(a,d,c,e){var f=b.uc(a,d,!1);return 4==f||1==f?!1:b.mL(a,d,c,e)};b.uY=function(a,d,c){var f=b.uc(a,d,!1);return 4==f||1==f?!1:b.FJ(a,d,c,null)};b.OB=function(a,d,f,e){var h=new c.h,q=new c.h;a.s(h);d.s(q);if(!b.Dc(h,q,f))return!1;h=b.uc(a,d,!1);return 4==h?!1:1==h?!0:b.qJ(a,d,f,e)};b.TY=function(a,b,f){return 0==c.fd.KH(a,b,f)?!0:!1};b.mM=function(a,d,c){d=d.w();return b.dL(a,d,c)};b.HW=function(a,
d,c){d=d.w();return b.gJ(a,d,c)};b.QY=function(a,d,f){var e=b.uc(a,d,!1);if(4==e)return!0;if(1==e)return!1;e=new c.h;a.s(e);e.P(f,f);for(var k=new c.b,q=0;q<d.D();q++)if(d.w(q,k),e.contains(k)){var g=c.fd.ee(a,k,f);if(1==g||2==g)return!1}return!0};b.iM=function(a,b,f){var d=this.uc(a,b,!1);if(4==d||1==d)return!1;d=new c.h;a.s(d);d.P(f,f);var e,q=!1,g;g=a;for(var l=!1,p=0;p<b.D();p++){e=b.Ba(p);if(d.contains(e))if(e=c.fd.ee(g,e,f),2==e)q=!0;else if(1==e)return!1;l||(!c.cf.vm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?g=a:(g=new c.Ja,a.copyTo(g),g.Kj(1)),l=!0)}return q?!0:!1};b.jX=function(a,b,f){var d=this.uc(a,b,!1);if(4==d||1==d)return!1;var e=new c.h,d=new c.h,q=new c.h;a.s(e);b.s(q);d.I(e);d.P(f,f);var q=e=!1,g,l;l=a;for(var p=!1,m=0;m<b.D();m++){g=b.Ba(m);d.contains(g)?(g=c.fd.ee(l,g,f),0==g?q=!0:1==g&&(e=!0)):q=!0;if(e&&q)return!0;p||(!c.cf.vm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new c.Ja,a.copyTo(l),l.Kj(1)),p=!0)}return!1};b.ZV=function(a,b,f){var d=new c.h,e=new c.h;a.s(d);b.s(e);
if(!this.Dc(d,e,f))return!1;e=this.uc(a,b,!1);if(4==e)return!1;if(1==e)return!0;var e=!1,q,g;g=a;for(var l=!1,p=0;p<b.D();p++){q=b.Ba(p);if(!d.contains(q))return!1;q=c.fd.ee(g,q,f);if(1==q)e=!0;else if(0==q)return!1;l||(!c.cf.vm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?g=a:(g=new c.Ja,a.copyTo(g),g.Kj(1)),l=!0)}return e};b.GL=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.ye(e,k,f))return!1;e=new c.Ja;e.hd(d,!1);return b.IA(a,e,f,!0)};b.IY=function(a,d,f){var e=b.uc(a,d,!1);if(4==e)return!0;
if(1==e||2==e)return!1;var k=new c.h,e=new c.h;a.s(k);d.s(e);if(b.Dc(e,k,f))return!1;k=new c.b;e.Zn(k);d=c.fd.ee(a,k,f);if(0!=d)return!1;e.HJ(k);d=c.fd.ee(a,k,f);if(0!=d)return!1;e.$n(k);d=c.fd.ee(a,k,f);if(0!=d)return!1;e.KJ(k);d=c.fd.ee(a,k,f);if(0!=d)return!1;d=a.Qa(0);k=new c.h;k.I(e);k.P(f,f);for(var q=0,g=a.D();q<g;q++){var l=d.read(2*q),p=d.read(2*q+1);if(k.contains(l,p))return!1}return!b.UE(a,e,f)};b.YL=function(a,d,f,e){var h=b.uc(a,d,!1);if(4==h||1==h||2==h)return!1;var h=new c.h,q=new c.h;
a.s(h);d.s(q);if(b.Dc(q,h,f))return!1;if(q.O()<=f&&q.ea()<=f)return d=d.Bq(),b.dL(a,d,f);if(q.O()<=f||q.ea()<=f)return h=new c.Ua,q=new c.Wa,d.gg(0,q),h.Of(q),d.gg(2,q),h.lineTo(q),b.mL(a,h,f,e);h=new c.Ja;h.hd(d,!1);return b.lL(a,h,f,e)};b.PL=function(a,d,f,e){var h=b.uc(a,d,!1);if(4==h||1==h||2==h)return!1;var h=new c.h,q=new c.h;a.s(h);d.s(q);if(b.Dc(q,h,f)||q.O()<=f||q.ea()<=f)return!1;h=new c.Ja;h.hd(d,!1);return b.YJ(a,h,f,e)};b.vM=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.Dc(k,
e,f)};b.PV=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.Dc(e,k,f))return!1;e=b.uc(a,d,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(k.O()<=f&&k.ea()<=f)return d=d.Bq(),b.gJ(a,d,f);if(k.O()<=f||k.ea()<=f)return k=new c.Ua,e=new c.Wa,d.gg(0,e),k.Of(e),d.gg(2,e),k.lineTo(e),b.qJ(a,k,f,null);k=new c.Ja;k.hd(d,!1);return b.oJ(a,k,f,null)};b.RW=function(a,d,f,e){var h=new c.h,q=new c.h;a.s(h);d.s(q);if(b.Dc(q,h,f)||q.ea()>f&&q.O()>f||q.ea()<=f&&q.O()<=f)return!1;h=new c.Ua;q=new c.Wa;d.gg(0,
q);h.Of(q);d.gg(2,q);h.lineTo(q);return b.FJ(a,h,f,e)};b.KN=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.ye(e,k,f)&&4!=b.uc(a,d,!1)?b.oG(a,d,f)?!0:b.IA(a,d,f,!1):!1};b.FN=function(a,b,f){return 4==this.uc(a,b,!1)?!0:(new c.Rm(a,b,f,!0)).next()?!this.TH(a,b,f):!1};b.dD=function(a,d,f){if(4==b.uc(a,d,!1))return!1;var e=new c.Pd(0);if(0!=b.FB(a,d,f,e))return!1;for(var k=new c.Dd,q=0;q<e.size;q+=2){var g=e.read(q),l=e.read(q+1);k.qv(g,l)}a=a.Fg();d=d.Fg();a.Hd(d,0,d.D());return b.yx(a,
k,f)};b.qL=function(a,d,f){if(4==b.uc(a,d,!1))return!1;var e=new c.Pd(0);if(0!=b.FB(a,d,f,e))return!1;for(var k=new c.Dd,q=0;q<e.size;q+=2){var g=e.read(q),l=e.read(q+1);k.qv(g,l)}a=a.Fg();d=d.Fg();a.Hd(d,0,d.D());return!b.yx(a,k,f)};b.PN=function(a,d,c){return 4==b.uc(a,d,!1)?!1:b.LF(a,d,c)};b.oL=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.Dc(e,k,f)&&4!=b.uc(a,d,!1)?b.lf(d,a,f,!1):!1};b.CN=function(a,d,c){if(4==b.uc(a,d,!1))return!0;d=d.w();return!b.KA(a,d,c)};b.RO=function(a,
d,c){if(4==b.uc(a,d,!1))return!1;d=d.w();return b.HB(a,d,c)};b.DM=function(a,d,c){if(4==b.uc(a,d,!1))return!1;d=d.w();return b.bD(a,d,c)};b.vN=function(a,d,c){return 4==b.uc(a,d,!1)?!0:!b.rF(a,d,c,!1)};b.uL=function(a,b,f){if(4==this.uc(a,b,!1))return!1;var d=a.Fa(),e=new c.h,q=new c.h,g=new c.h;a.s(e);b.s(q);e.P(f,f);q.P(f,f);g.I(e);g.Ma(q);var l,p,e=null;l=a.ob;null!=l?(p=l.Mb,e=l.tp,null==p&&(p=l=c.na.Pj(a,g))):p=l=c.na.Pj(a,g);var m=p.jf(),n=null;null!=e&&(n=e.jf());var u=new c.b,t=new c.b,w=
!1,x=f*f,e=new c.Km(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,u),g.contains(u))if(q.I(u.x,u.y,u.x,u.y),null==n||(n.Oi(q,f),-1!=n.next())){m.Oi(q,f);for(var y=m.next();-1!=y;y=m.next())if(d.Tb(p.ia(y)),y=d.ba(),y.hc(y.ne(u,!1),t),c.b.sc(u,t)<=x){e.write(l,1);w=!0;break}}if(!w)return!1;a=a.Fg();d=new c.Dd;q=new c.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,q),d.qv(q.x,q.y));return this.yx(a,d,f)};b.oN=function(a,b,f){if(4==this.uc(a,b,!1))return!1;var d=a.Fa(),e=new c.h,q=
new c.h,g=new c.h;a.s(e);b.s(q);e.P(f,f);q.P(f,f);g.I(e);g.Ma(q);var l,p,e=null;l=a.ob;null!=l?(p=l.Mb,e=l.tp,null==p&&(p=l=c.na.Pj(a,g))):p=l=c.na.Pj(a,g);var m=p.jf(),n=null;null!=e&&(n=e.jf());var u=new c.b,t=new c.b,w=!1,x=!1,y=f*f,e=new c.Km(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,u),g.contains(u))if(q.I(u.x,u.y,u.x,u.y),null!=n&&(n.Oi(q,f),-1==n.next()))x=!0;else{m.Oi(q,f);for(var A=!1,z=m.next();-1!=z;z=m.next())if(d.Tb(p.ia(z)),z=d.ba(),z.hc(z.ne(u,!1),t),c.b.sc(u,
t)<=y){e.write(l,1);A=w=!0;break}A||(x=!0)}else x=!0;if(!w||!x)return!1;a=a.Fg();d=new c.Dd;q=new c.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,q),d.qv(q.x,q.y));return!this.yx(a,d,f)};b.AM=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.Dc(e,k,f)||4==b.uc(a,d,!1)||!b.rF(a,d,f,!0))return!1;a=a.Fg();return!b.mH(a,d,f)};b.IN=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return k.ea()>f&&k.O()>f?!1:b.ye(e,k,f)};b.qN=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.Dc(k,
e,f)?!1:!b.UE(a,k,f)};b.SN=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(k.ea()<=f&&k.O()<=f)return k=d.Bq(),b.HB(a,k,f);if(k.ea()<=f||k.O()<=f)return k=new c.Ua,e=new c.Wa,d.gg(0,e),k.Of(e),d.gg(2,e),k.lineTo(e),b.dD(a,k,f);a=a.Fa();d=new c.h;e=new c.h;d.I(k);e.I(k);d.P(-f,-f);e.P(f,f);for(var k=!1,q=new c.h,g=new c.h;a.Ya();)for(;a.Ea();){a.ba().s(q);g.I(d);g.Ma(q);if(!g.u()&&(g.ea()>f||g.O()>f))return!1;g.I(e);g.Ma(q);g.u()||(k=!0)}return k};b.MN=function(a,d,f){var e=new c.h,k=new c.h;
a.s(e);d.s(k);if(b.Dc(e,k,f)||b.Dc(k,e,f)||b.Dc(k,e,f)||k.ea()>f&&k.O()>f||k.ea()<=f&&k.O()<=f)return!1;e=new c.Ua;k=new c.Wa;d.gg(0,k);e.Of(k);d.gg(2,k);e.lineTo(k);return b.LF(a,e,f)};b.aP=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.Dc(k,e,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f)return b.Dc(k,e,f);a=a.Fa();d=new c.h;d.I(k);d.P(-f,-f);for(var k=!1,e=new c.h,q=new c.h;a.Ya();)for(;a.Ea();)a.ba().s(e),d.Zm(e)?k=!0:(q.I(d),q.Ma(e),!q.u()&&(q.ea()>f||q.O()>f)&&(k=!0));
return k};b.yM=function(a,d,f){var e=new c.h,k=new c.h;d.s(k);a.s(e);if(!b.Dc(e,k,f)||k.ea()>f&&k.O()>f)return!1;if(k.ea()<=f&&k.O()<=f)return d=d.Bq(),b.bD(a,d,f);e=new c.Ua;k=new c.Wa;d.gg(0,k);e.Of(k);d.gg(2,k);e.lineTo(k);return b.lf(e,a,f,!1)};b.gN=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(b.Dc(k,e,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f)return e=new c.Ua,k=new c.Wa,d.gg(0,k),e.Of(k),d.gg(2,k),e.lineTo(k),b.qL(a,e,f);a=a.Fa();d=new c.h;e=new c.h;e.I(k);d.I(k);e.P(-f,
-f);d.P(f,f);for(var q=k=!1,g=new c.h,l=new c.h;a.Ya();)for(;a.Ea();)if(a.ba().s(g),q||d.contains(g)||(q=!0),k||(l.I(e),l.Ma(g),!l.u()&&(l.ea()>f||l.O()>f)&&(k=!0)),k&&q)return!0;return!1};b.YQ=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.ye(e,k,f)?b.rR(a,d,f)?!0:b.RB(a,d,f,!1,!0,!1):!1};b.$O=function(a,d,c){return!b.mH(a,d,c)};b.FR=function(a,d,c){return b.RB(a,d,c,!1,!1,!0)};b.sG=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.Dc(e,k,f)?b.RB(d,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var d=new c.b,e=new c.b,q=0;q<b.D();q++){b.w(q,e);for(var g=!1,l=0;l<a.D();l++)if(a.w(l,d),c.b.sc(d,e)<=f){g=!0;break}if(!g)return!1}return!0};b.zx=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return b.ye(e,k,f)};b.xG=function(a,d,c){d=d.w();return b.bu(a,d,c)};b.HU=function(a,d,c){return b.zx(a,d,c)};b.RN=function(a,d,c){return!b.xG(a,d,c)};b.IP=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);return k.ea()>f||k.O()>f?!1:b.ye(e,k,f)};b.xO=function(a,d,
f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(b.Dc(k,e,f))return!1;d=new c.h;d.I(k);d.P(f,f);f=new c.b;for(k=0;k<a.D();k++)if(a.w(k,f),d.contains(f))return!1;return!0};b.eS=function(a,b,f){var d=new c.h,e=new c.h,q=new c.h;b.s(d);if(d.ea()<=f&&d.O()<=f)return!1;if(d.ea()<=f||d.O()<=f){b=new c.b;var g=!1;e.I(d);q.I(d);e.P(f,f);d.ea()>f?q.P(0,-f):q.P(-f,0);for(var l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(d.ea()>f){if(b.y>q.A&&b.y<q.B)return!1}else if(b.x>q.o&&b.x<q.v)return!1;g=!0}return g}e.I(d);
q.I(d);e.P(f,f);q.P(-f,-f);b=new c.b;g=!1;for(l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(q.Zm(b))return!1;g=!0}return g};b.HT=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.Dc(k,e,f))return!1;if(k.ea()<=f&&k.O()<=f)return b.ye(e,k,f);if(k.ea()<=f||k.O()<=f){d=!1;var e=new c.h,q=new c.h;e.I(k);q.I(k);k.ea()>f?e.P(0,-f):e.P(-f,0);q.P(f,f);for(var g=new c.b,l=0;l<a.D();l++){a.w(l,g);if(!q.contains(g))return!1;k.ea()>f?g.y>e.A&&g.y<e.B&&(d=!0):g.x>e.o&&g.x<e.v&&(d=!0)}return d}d=!1;e=
new c.h;q=new c.h;e.I(k);q.I(k);e.P(-f,-f);q.P(f,f);g=new c.b;for(l=0;l<a.D();l++){a.w(l,g);if(!q.contains(g))return!1;e.Zm(g)&&(d=!0)}return d};b.ON=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(!b.Dc(e,k,f)||k.ea()>f||k.O()>f)return!1;d=d.Bq();return!b.bu(a,d,f)};b.tL=function(a,d,f){var e=new c.h,k=new c.h;a.s(e);d.s(k);if(b.Dc(k,e,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f){d=new c.h;e=new c.h;d.I(k);k.ea()>f?d.P(0,-f):d.P(-f,0);e.I(k);e.P(f,f);for(var q=new c.b,g=!1,l=
!1,p=0;p<a.D();p++)if(a.w(p,q),g||(k.ea()>f?q.y>d.A&&q.y<d.B&&(g=!0):q.x>d.o&&q.x<d.v&&(g=!0)),l||e.contains(q)||(l=!0),g&&l)return!0;return!1}d=new c.h;e=new c.h;d.I(k);d.P(-f,-f);e.I(k);e.P(f,f);q=new c.b;l=g=!1;for(p=0;p<a.D();p++)if(a.w(p,q),!g&&d.Zm(q)&&(g=!0),l||e.contains(q)||(l=!0),g&&l)return!0;return!1};b.NH=function(a,b,f){return c.b.sc(a,b)<=f*f?!0:!1};b.HV=function(a,b,f){return c.b.sc(a,b)>f*f?!0:!1};b.LH=function(a,d,c){return b.NH(a,d,c)};b.MH=function(a,d,f){var e=new c.h;e.I(a);
return b.ye(e,d,f)};b.Dx=function(a,b,f){var d=new c.h;d.I(b);d.P(f,f);return!d.contains(a)};b.jC=function(a,b,f){if(b.ea()<=f&&b.O()<=f)return!1;var d=new c.h,e=new c.h;d.I(b);d.P(f,f);if(!d.contains(a))return!1;if(b.ea()<=f||b.O()<=f){e.I(b);b.ea()>f?e.P(0,-f):e.P(-f,0);if(b.ea()>f){if(a.y>e.A&&a.y<e.B)return!1}else if(a.x>e.o&&a.x<e.v)return!1;return!0}e.I(b);e.P(-f,-f);return e.Zm(a)?!1:!0};b.KC=function(a,b,f){if(b.ea()<=f&&b.O()<=f)return!0;if(b.ea()<=f||b.O()<=f){var d=new c.h;d.I(b);b.ea()>
f?d.P(0,-f):d.P(-f,0);var e=!1;b.ea()>f?a.y>d.A&&a.y<d.B&&(e=!0):a.x>d.o&&a.x<d.v&&(e=!0);return e}d=new c.h;d.I(b);d.P(-f,-f);return d.Zm(a)};b.vV=function(a,d,c){return b.MH(a,d,c)};b.ye=function(a,d,c){return b.Dc(a,d,c)&&b.Dc(d,a,c)};b.Gk=function(a,b,f){var d=new c.h;d.I(b);d.P(f,f);return!a.Yb(d)};b.UL=function(a,d,f){if(a.ea()<=f&&a.O()<=f){var e=a.Tf();return b.jC(e,d,f)}if(d.ea()<=f&&d.O()<=f)return e=d.Tf(),b.jC(e,a,f);a.ea()>f&&a.O()>f&&(d.ea()<=f||d.O()<=f)?e=d:(e=a,a=d);if(e.ea()<=f||
e.O()<=f){if(a.ea()<=f||a.O()<=f){d=new c.Hb;var k=new c.Hb,q=[0,0],g=[0,0],l=new c.b;e.Zn(l);d.Lc(l);e.$n(l);d.Xc(l);a.Zn(l);k.Lc(l);a.$n(l);k.Xc(l);d.Ma(k,null,q,g,f);return 1!=d.Ma(k,null,null,null,f)?!1:0==q[0]||1==q[1]||0==g[0]||1==g[1]}d=new c.h;k=new c.h;d.I(a);d.P(-f,-f);k.I(d);k.Ma(e);return!k.u()&&(k.ea()>f||k.O()>f)?!1:!0}a.P(f,f);k=new c.h;k.I(e);k.Ma(a);return k.u()||!k.u()&&k.ea()>f&&k.O()>f?!1:!0};b.OL=function(a,d,f){if(b.Dc(a,d,f)||b.Dc(d,a,f)||a.ea()<=f&&a.O()<=f||d.ea()<=f&&d.O()<=
f)return!1;if(a.ea()<=f||a.O()<=f){if(d.ea()>f&&d.O()>f)return!1;var e=new c.Hb,k=new c.Hb,q=[0,0],g=[0,0],l=new c.b;a.Zn(l);e.Lc(l);a.$n(l);e.Xc(l);d.Zn(l);k.Lc(l);d.$n(l);k.Xc(l);e.Ma(k,null,q,g,f);return 2!=e.Ma(k,null,null,null,f)?!1:(0<q[0]||1>q[1])&&(0<g[0]||1>g[1])}if(d.ea()<=f||d.O()<=f)return!1;e=new c.h;e.I(a);e.Ma(d);return e.u()||e.ea()<=f||e.O()<=f?!1:!0};b.mE=function(a,d,f){if(!b.Dc(a,d,f))return!1;if(a.ea()<=f&&a.O()<=f)return a=a.Tf(),b.KC(a,d,f);if(d.ea()<=f&&d.O()<=f)return d=d.Tf(),
b.KC(d,a,f);if(a.ea()<=f||a.O()<=f)return b.Dc(a,d,f);if(d.ea()<=f||d.O()<=f){var e=new c.h;e.I(a);e.P(-f,-f);if(e.Zm(d))return!0;a=new c.h;a.I(e);a.Ma(d);return a.u()||a.ea()<=f&&a.O()<=f?!1:!0}return b.Dc(a,d,f)};b.LL=function(a,d,f){if(b.Dc(a,d,f)||b.Dc(d,a,f)||a.ea()<=f&&a.O()<=f||d.ea()<=f&&d.O()<=f||d.ea()>f&&d.O()>f&&a.ea()>f&&a.O()>f)return!1;var e;a.ea()>f&&a.O()>f?e=d:(e=a,a=d);if(a.ea()>f&&a.O()>f){d=new c.h;var k=new c.h;k.I(a);k.P(-f,-f);d.I(k);d.Ma(e);return d.u()||d.ea()<=f&&d.O()<=
f?!1:!0}d=new c.Hb;var k=new c.Hb,q=[0,0],g=[0,0],l=new c.b;e.Zn(l);d.Lc(l);e.$n(l);d.Xc(l);a.Zn(l);k.Lc(l);a.$n(l);k.Xc(l);d.Ma(k,null,q,g,f);return 1!=d.Ma(k,null,null,null,f)?!1:0<q[0]&&1>q[1]&&0<g[0]&&1>g[1]};b.LJ=function(a,b,f){var d,e,q=new c.h,g=new c.h,l=new c.Rm(a,b,f,!0);if(!l.next())return!0;if(this.TH(a,b,f))return!1;var p;p=a;var m;m=null;1736==b.G()&&(m=b);var n=!1,u=!1;do{d=l.Vl();e=l.Rl();e=b.Ba(b.wa(e));q.I(l.hA());q.P(f,f);if(q.contains(e)&&(e=c.fd.ee(p,e,0),0!=e)||1736==b.G()&&
(d=a.Ba(a.wa(d)),g.I(l.Lz()),g.P(f,f),g.contains(d)&&(e=c.fd.ee(m,d,0),0!=e)))return!1;n||(!c.cf.vm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?p=a:(p=new c.Ja,a.copyTo(p),p.Kj(1)),n=!0);1736!=b.G()||u||(u=b,!c.cf.vm(u,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?m=b:(m=new c.Ja,u.copyTo(m),m.Kj(1)),u=!0)}while(l.next());return!0};b.Dc=function(a,b,f){var d=new c.h;d.I(a);d.P(f,f);return d.contains(b)};b.xl=function(a,b,f){var d=new c.h;d.I(b);d.P(f,f);b=new c.b;a.Zn(b);if(!d.contains(b))return!0;a.HJ(b);if(!d.contains(b))return!0;
a.KJ(b);if(!d.contains(b))return!0;a.$n(b);return d.contains(b)?!1:!0};b.oG=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var d=new c.b,e=new c.b,q=!0;f*=f;for(var g=0;g<a.aa();g++){if(a.Fc(g)!=b.Fc(g)){q=!1;break}for(var l=a.wa(g);l<b.Fc(g);l++)if(a.w(l,d),b.w(l,e),c.b.sc(d,e)>f){q=!1;break}if(!q)break}return q?!0:!1};b.rR=function(a,b,f){if(a.D()!=b.D())return!1;var d=new c.b,e=new c.b,q=!0;f*=f;for(var g=0;g<a.D();g++)if(a.w(g,d),b.w(g,e),c.b.sc(d,e)>f){q=!1;break}return q?!0:!1};b.RB=
function(a,b,f,e,k,q){var d=!1,h;a.D()>b.D()?(e&&(e=!1,d=!0),h=b):(h=a,a=b);b=null;if(k||q||d){b=new c.Km(a.D());for(var g=0;g<a.D();g++)b.write(g,0)}var g=new c.h,l=new c.h,p=new c.h;h.s(g);a.s(l);g.P(f,f);l.P(f,f);p.I(g);p.Ma(l);for(var l=new c.b,m=new c.b,n=!0,u=c.na.CF(a,p),t=u.jf(),w=f*f,x=0;x<h.D();x++)if(h.w(x,l),p.contains(l)){var y=!1;g.I(l.x,l.y,l.x,l.y);t.Oi(g,f);for(var A=t.next();-1!=A&&!(A=u.ia(A),a.w(A,m),c.b.sc(l,m)<=w&&((k||q||d)&&b.write(A,1),y=!0,e));A=t.next());if(!y&&(n=!1,k||
e))return!1}else{if(k||e)return!1;n=!1}if(q&&n)return!1;if(e)return!0;for(g=0;g<a.D();g++)if(1==b.read(g)){if(q)return!0}else if(k||d)return!1;return q?!1:!0};b.mH=function(a,b,f){var d;a.D()>b.D()?d=b:(d=a,a=b);b=new c.h;var e=new c.h,g=new c.h;d.s(b);a.s(e);b.P(f,f);e.P(f,f);g.I(b);g.Ma(e);for(var e=new c.b,l=new c.b,p=f*f,m=c.na.CF(a,g),n=m.jf(),u=0;u<d.D();u++)if(d.w(u,e),g.contains(e)){b.I(e.x,e.y,e.x,e.y);n.Oi(b,f);for(var t=n.next();-1!=t;t=n.next())if(a.w(m.ia(t),l),c.b.sc(e,l)<=p)return!0}return!1};
b.IA=function(a,d,c,e){return b.lf(a,d,c,e)&&b.lf(d,a,c,e)};b.lf=function(a,d,f,h){function k(a,b){return u.WF(a,b)}var g=!0,l=[0,0],p=[0,0],m=0,n=new c.ha(0),u=new b,t,w=new c.h,x=new c.h,y=new c.h;a.s(w);d.s(x);w.P(f,f);x.P(f,f);y.I(w);y.Ma(x);a=a.Fa();var x=d.Fa(),A=null,z=A=null,B=d.ob;null!=B?(A=B.Mb,z=B.tp,null==A&&(A=c.na.Pj(d,y))):A=c.na.Pj(d,y);d=A.jf();B=null;for(null!=z&&(B=z.jf());a.Ya();)for(;a.Ea();){var C=!1,D=a.ba();D.s(w);if(!w.Yb(y))return!1;if(null!=B&&(B.Oi(w,f),-1==B.next()))return g=
!1;z=D.Rb();d.bo(D,f);for(t=d.next();-1!=t;t=d.next()){x.Tb(A.ia(t));t=x.ba();var P=D.Ma(t,null,l,p,f);if(2==P&&(!h||p[0]<=p[1])){var P=l[0],F=l[1],O=p[0],Q=p[1];if(P*z<=f&&(1-F)*z<=f){C=!0;m=0;n.resize(0);u.Qh.length=0;for(var L=a.Db(),O=!0;O;){if(a.Ea()){D=a.ba();z=D.Rb();P=D.Ma(t,null,l,p,f);if(2==P&&(!h||p[0]<=p[1])&&(P=l[0],F=l[1],P*z<=f&&(1-F)*z<=f)){L=a.Db();continue}if(x.Ea()&&(t=x.ba(),P=D.Ma(t,null,l,p,f),2==P&&(!h||p[0]<=p[1])&&(P=l[0],F=l[1],P*z<=f&&(1-F)*z<=f))){L=a.Db();continue}}O=
!1}L!=a.Db()&&(a.Tb(L),a.ba());break}else L=a.Db(),t=e.pa(L,a.Ta,P,F,x.Db(),x.Ta,O,Q),u.Qh.push(t),n.add(n.size)}}if(!C){if(m==u.Qh.length)return!1;1<n.size-m&&n.Fd(m,n.size,k);for(C=0;m<u.Qh.length;m++)if(t=u.Qh[n.get(m)],!(t.ik<C&&t.sj<C)){if(z*(t.ik-C)>f)return!1;C=t.sj;if(z*(1-C)<=f||1==C)break}if(z*(1-C)>f)return!1;m=0;n.resize(0);u.Qh.length=0}}return g};b.LF=function(a,d,f){if(1>b.FB(a,d,f,null))return!1;var e=new c.h,k=new c.h;a.s(e);d.s(k);var g=b.xl(e,k,f),e=b.xl(k,e,f);return g&&e?!0:g&&
!e?!b.lf(d,a,f,!1):e&&!g?!b.lf(a,d,f,!1):!b.lf(a,d,f,!1)&&!b.lf(d,a,f,!1)};b.FB=function(a,d,f,h){function k(a,b){return x.WF(a,b)}var g,l;a.lA()>d.lA()?(g=d,l=a):(g=a,l=d);a=g.Fa();d=l.Fa();var p=[0,0],m=[0,0],n=-1,u=0,t,w=new c.ha(0),x=new b,y,A=new c.h,z=new c.h,B=new c.h;g.s(A);l.s(z);A.P(f,f);z.P(f,f);B.I(A);B.Ma(z);g=null;null!=h&&(g=new c.b);t=z=z=null;var C=l.ob;null!=C?(z=C.Mb,t=C.tp,null==z&&(z=c.na.Pj(l,B))):z=c.na.Pj(l,B);l=z.jf();C=null;for(null!=t&&(C=t.jf());a.Ya();)for(t=0;a.Ea();){var D=
a.ba();D.s(A);if(A.Yb(B)&&(null==C||(C.Oi(A,f),-1!=C.next()))){var P=D.Rb();l.bo(D,f);for(var F=l.next();-1!=F;F=l.next()){var O=z.ia(F);d.Tb(O);y=d.ba();var L=y.Rb(),Q=D.Ma(y,null,p,m,f);if(0<Q){var F=p[0],n=m[0],K=2==Q?p[1]:NaN,S=2==Q?m[1]:NaN;if(2==Q){if(P*(K-F)>f)return n=1;var G=P*(K-F);if(d.Ea()){y=d.ba();Q=D.Ma(y,null,p,null,f);if(2==Q){var Q=p[0],ca=p[1],Q=P*(ca-Q);if(G+Q>f)return n=1}d.Tb(O);d.ba()}if(!d.pn()){d.Mi();y=d.Mi();Q=D.Ma(y,null,p,null,f);if(2==Q&&(Q=p[0],ca=p[1],Q=P*(ca-Q),G+
Q>f))return n=1;d.Tb(O);d.ba()}if(a.Ea()){O=a.Db();D=a.ba();Q=D.Ma(y,null,p,null,f);if(2==Q&&(Q=p[0],ca=p[1],Q=P*(ca-Q),G+Q>f))return n=1;a.Tb(O);a.ba()}if(!a.pn()){O=a.Db();a.Mi();D=a.Mi();Q=D.Ma(y,null,p,null,f);if(2==Q&&(Q=p[0],ca=p[1],Q=L*(ca-Q),G+Q>f))return n=1;a.Tb(O);a.ba()}y=e.pa(a.Db(),a.Ta,F,K,d.Db(),d.Ta,n,S);x.Qh.push(y);w.add(w.size)}n=0;null!=h&&(D.hc(F,g),h.add(g.x),h.add(g.y))}}if(u<x.Qh.length){w.Fd(u,w.size,k);D=0;for(F=x.Qh[w.get(u)].Fn;u<x.Qh.length;u++)if(y=x.Qh[w.get(u)],!(y.ik<
D&&y.sj<D))if(P*(y.ik-D)>f)t=P*(y.sj-y.ik),D=y.sj,F=y.Fn;else{y.Fn!=F?(t=P*(y.sj-y.ik),F=y.Fn):t+=P*(y.sj-y.ik);if(t>f)return n=1;D=y.sj;if(1==D)break}P*(1-D)>f&&(t=0);u=0;w.resize(0);x.Qh.length=0}}}return n};b.TH=function(a,b,f){var d=a.Fa(),e=b.Fa();for(a=new c.Rm(a,b,f,!1);a.next();){b=a.Vl();var g=a.Rl();d.Tb(b);e.Tb(g);b=d.ba();if(0<e.ba().Ma(b,null,null,null,f))return!0}return!1};b.rF=function(a,b,f,e){var d=a.Fa(),h=new c.h,g=new c.h,l=new c.h;a.s(h);b.s(g);h.P(f,f);h.contains(g);g.P(f,f);
l.I(h);l.Ma(g);h=a.ob;null!=h?(h=h.Mb,null==h&&(h=c.na.Pj(a,l))):h=c.na.Pj(a,l);a=h.jf();for(var p=new c.b,m=new c.b,n=f*f,u=0;u<b.D();u++)if(b.w(u,p),l.contains(p)){g.I(p.x,p.y,p.x,p.y);a.Oi(g,f);for(var t=!1,w=a.next();-1!=w;w=a.next())if(d.Tb(h.ia(w)),w=d.ba(),w.hc(w.ne(p,!1),m),c.b.sc(m,p)<=n){t=!0;break}if(e){if(!t)return!1}else if(t)return!0}return e?!0:!1};b.KA=function(a,b,f){var d=new c.b,e=f*f,g=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var l=new c.h;l.I(b);f=a.$z(l,f);for(l=f.next();-1!=
l;l=f.next())if(g.Tb(a.ia(l)),g.Ea()){var l=g.ba(),p=l.ne(b,!1);l.hc(p,d);if(c.b.sc(b,d)<=e)return!0}return!1}for(a=new c.h;g.Ya();)for(;g.Ea();)if(l=g.ba(),l.s(a),a.P(f,f),a.contains(b)&&(p=l.ne(b,!1),l.hc(p,d),c.b.sc(b,d)<=e))return!0;return!1};b.bD=function(a,d,c){return b.KA(a,d,c)&&!b.HB(a,d,c)};b.HB=function(a,d,c){a=a.Fg();return!b.bu(a,d,c)};b.UE=function(a,b,f){if(a.on()){var d=new c.Hb(b.o,b.A,b.o,b.B),e=new c.Hb(b.o,b.B,b.v,b.B),g=new c.Hb(b.v,b.B,b.v,b.A);b=new c.Hb(b.v,b.A,b.o,b.A);for(a=
a.Fa();a.Ya();)for(;a.Ea();){var l=a.ba();if(l.Yb(d,f)||l.Yb(e,f)||l.Yb(g,f)||l.Yb(b,f))return!0}}else{d=new c.h;d.I(b);d.P(f,f);f=a.Qa(0);e=new c.b;g=new c.b;b=new c.b;for(var l=new c.b,p=0,m=a.aa();p<m;p++)for(var n=!0,u=a.wa(p),t=a.Fc(p);u<t;u++)if(n)f.fc(2*u,g),n=!1;else{f.fc(2*u,e);b.L(g);l.L(e);if(0!=d.ez(b,l))return!0;g.L(e)}}return!1};b.uc=function(a,d,f){var e=a.G(),k=d.G();if(c.T.fh(e)){var g=a.ob;if(null!=g&&(g=g.Ii,null!=g))if(33==k){var l=d.w(),l=g.wm(l.x,l.y);if(1==l)return 1;if(0==
l)return 4}else{l=new c.h;d.s(l);l=g.Xn(l);if(1==l)return 1;if(0==l)return 4;if(f&&c.T.fh(k)&&b.gE(d,g))return 1073741824}}if(c.T.fh(k)&&(g=d.ob,null!=g&&(g=g.Ii,null!=g)))if(33==e){a=a.w();l=g.wm(a.x,a.y);if(1==l)return 2;if(0==l)return 4}else{d=new c.h;a.s(d);l=g.Xn(d);if(1==l)return 2;if(0==l)return 4;if(f&&c.T.fh(e)&&b.gE(a,g))return 1073741824}return 0};b.gE=function(a,b){for(var d=a.D(),e=new c.b,k=0;k<d;k++)if(a.w(k,e),1==b.wm(e.x,e.y))return!0;return!1};b.lL=function(a,b,f,e){for(var d=1<=
a.Nk(0)&&1<=b.Nk(0),h=a.Fa(),g=b.Fa(),l=[0,0],p=[0,0],m=new c.Rm(a,b,f,!1),n=!1;m.next();){var u=m.Vl(),t=m.Rl();h.Tb(u);g.Tb(t);u=h.ba();t=g.ba().Ma(u,null,p,l,f);if(2==t){n=l[0];t=l[1];u=u.Rb();if(d&&(t-n)*u>f)return!1;n=!0}else if(0!=t){n=l[0];u=p[0];if(0<n&&1>n&&0<u&&1>u)return!1;n=!0}}if(!n)return!1;h=new c.h;g=new c.h;d=new c.h;a.s(h);b.s(g);h.P(1E3*f,1E3*f);g.P(1E3*f,1E3*f);d.I(h);d.Ma(g);return 10<a.D()&&(a=c.le.clip(a,d,f,0),a.u())||10<b.D()&&(b=c.le.clip(b,d,f,0),b.u())?!1:c.Tm.iu(a,b,f,
"F********",e)};b.YJ=function(a,d,f,e){var h=1<=a.Nk(0)&&1<=d.Nk(0),g=new c.h,l=new c.h,p=new c.h;a.s(g);d.s(l);for(var m=!1,n=b.xl(g,l,f),u=b.xl(l,g,f),t=a.Fa(),w=d.Fa(),x=[0,0],y=[0,0],A=new c.Rm(a,d,f,!1);A.next();){var z=A.Vl(),B=A.Rl();t.Tb(z);w.Tb(B);B=t.ba();z=w.ba().Ma(B,null,y,x,f);if(2==z){var z=x[0],C=x[1],B=B.Rb();if(h&&(C-z)*B>f&&(m=!0,n&&u))return!0}else if(0!=z&&(z=x[0],B=y[0],0<z&&1>z&&0<B&&1>B))return!0}h=new c.h;t=new c.h;h.I(g);h.P(1E3*f,1E3*f);t.I(l);t.P(1E3*f,1E3*f);p.I(h);p.Ma(t);
g="";g=m?g+"**":g+"T*";if(n){if(10<d.D()&&(d=c.le.clip(d,p,f,0),d.u()))return!1;g+="****"}else g+="T***";if(u){if(10<a.D()&&(a=c.le.clip(a,p,f,0),a.u()))return!1;g+="***"}else g+="T**";return c.Tm.iu(a,d,f,g.toString(),e)};b.oJ=function(a,d,f,e){var h=[!1],g=b.eJ(a,d,f,h);if(h[0])return g;h=new c.h;d.s(h);h.P(1E3*f,1E3*f);return 10<a.D()&&(a=c.le.clip(a,h,f,0),a.u())?!1:c.Tm.Ex(a,d,f,e)};b.eJ=function(a,b,f,e){e[0]=!1;for(var d=a.Fa(),h=b.Fa(),g=[0,0],l=[0,0],p=new c.Rm(a,b,f,!1),m=!1;p.next();){var n=
p.Vl(),u=p.Rl();d.Tb(n,-1);h.Tb(u,-1);n=d.ba();n=h.ba().Ma(n,null,l,g,f);if(0!=n&&(m=!0,1==n&&(n=g[0],u=l[0],0<n&&1>n&&0<u&&1>u)))return e[0]=!0,!1}if(!m){e[0]=!0;g=new c.h;a.s(g);g.P(f,f);p=a;m=!1;l=new c.h;e=0;for(d=b.aa();e<d;e++)if(0<b.La(e)){b.nk(e,l);if(g.Yb(l)){if(h=b.Ba(b.wa(e)),h=c.cf.qn(p,h,0),0==h)return!1}else return!1;m||(!c.cf.vm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?p=a:(h=new c.Ja,a.copyTo(h),h.Kj(1),p=h),m=!0)}if(1==a.aa()||1607==b.G())return!0;g=new c.h;b.s(g);g.P(f,f);l=b;p=!1;
f=new c.h;e=0;for(d=a.aa();e<d;e++)if(0<a.La(e)){a.nk(e,f);if(g.Yb(f)&&(h=a.Ba(a.wa(e)),h=c.cf.qn(l,h,0),1==h))return!1;p||(!c.cf.vm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?l=b:(h=new c.Ja,b.copyTo(h),h.Kj(1),l=h),p=!0)}return!0}return!1};b.mL=function(a,b,f,e){for(var d=a.Fa(),h=b.Fa(),g=[0,0],l=[0,0],p=new c.Rm(a,b,f,!1),m=!1;p.next();){var n=p.Vl(),u=p.Rl();d.Tb(n);h.Tb(u);n=d.ba();n=h.ba().Ma(n,null,l,g,f);if(2==n)m=!0;else if(0!=n){m=g[0];n=l[0];if(0<m&&1>m&&0<n&&1>n)return!1;m=!0}}if(!m)return!1;
h=new c.h;g=new c.h;d=new c.h;a.s(h);b.s(g);h.P(1E3*f,1E3*f);g.P(1E3*f,1E3*f);d.I(h);d.Ma(g);return 10<a.D()&&(a=c.le.clip(a,d,f,0),a.u())||10<b.D()&&(b=c.le.clip(b,d,f,0),b.u())?!1:c.Tm.Un(a,b,f,"F********",e)};b.FJ=function(a,d,f,e){for(var h=a.Fa(),g=d.Fa(),l=[0,0],p=[0,0],m=new c.Rm(a,d,f,!1),n=!1;m.next();){var u=m.Vl(),t=m.Rl();h.Tb(u);g.Tb(t);u=h.ba();u=g.ba().Ma(u,null,p,l,f);if(2==u)n=!0;else if(0!=u){n=l[0];u=p[0];if(0<n&&1>n&&0<u&&1>u)return!0;n=!0}}if(!n)return!1;g=new c.h;l=new c.h;p=
new c.h;m=new c.h;h=new c.h;a.s(g);d.s(l);return b.xl(l,g,f)?(p.I(g),p.P(1E3*f,1E3*f),m.I(l),m.P(1E3*f,1E3*f),h.I(p),h.Ma(m),10<a.D()&&(a=c.le.clip(a,h,f,0),a.u())||10<d.D()&&(d=c.le.clip(d,h,f,0),d.u())?!1:f=c.Tm.Un(a,d,f,"T********",e)):f=c.Tm.Un(a,d,f,"T*****T**",e)};b.qJ=function(a,d,f,e){var h=[!1],g=b.eJ(a,d,f,h);if(h[0])return g;h=new c.h;d.s(h);h.P(1E3*f,1E3*f);return 10<a.D()&&(a=c.le.clip(a,h,f,0),a.u())?!1:c.Tm.OB(a,d,f,e)};b.gJ=function(a,b,f){return 1==c.fd.ee(a,b,f)?!0:!1};b.dL=function(a,
b,f){return 2==c.fd.ee(a,b,f)?!0:!1};b.bu=function(a,b,f){var d=new c.b;f*=f;for(var e=0;e<a.D();e++)if(a.w(e,d),c.b.sc(d,b)<=f)return!1;return!0};b.prototype.WF=function(a,b){a=this.Qh[a];b=this.Qh[b];return a.Fn<b.Fn||a.Fn==b.Fn&&(a.bx<b.bx||a.bx==b.bx&&(a.ik<b.ik||a.ik==b.ik&&(a.sj<b.sj||a.sj==b.sj&&a.DI<b.DI)))?-1:1};return b}();c.Ed=g})(u||(u={}));(function(c){var e;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";
b[b.BoundaryInterior=3]="BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=
4]="LinePointPredicates";b[b.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function b(){this.Fe=0;this.i=new c.Vu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Ln=this.jx=-1}b.aC=function(a,b,f,e,k){if(9!=e.length)throw c.g.X("relation string length has to be 9 characters");for(var d=0;9>d;d++){var h=e.charAt(d);if("*"!=h&&"T"!=h&&"F"!=h&&"0"!=h&&"1"!=h&&"2"!=h)throw c.g.X("relation string");}d=this.fT(e,a.ub(),b.ub());
if(0!=d)return c.Ed.bC(a,b,f,d,k);d=new c.h;a.s(d);h=new c.h;b.s(h);var g=new c.h;g.I(d);g.Nb(h);f=c.na.$d(f,g,!1);a=this.bG(a,f);b=this.bG(b,f);if(a.u()||b.u())return this.XW(a,b,e);d=b.G();h=!1;switch(a.G()){case 1736:switch(d){case 1736:h=this.iu(a,b,f,e,k);break;case 1607:h=this.Un(a,b,f,e,k);break;case 33:h=this.hu(a,b,f,e,k);break;case 550:h=this.gu(a,b,f,e,k)}break;case 1607:switch(d){case 1736:h=this.Un(b,a,f,this.Pq(e),k);break;case 1607:h=this.PB(a,b,f,e,k);break;case 33:h=this.ku(a,b,f,
e,k);break;case 550:h=this.ju(a,b,f,e,k)}break;case 33:switch(d){case 1736:h=this.hu(b,a,f,this.Pq(e),k);break;case 1607:h=this.ku(b,a,f,this.Pq(e),k);break;case 33:h=this.jW(a,b,f,e);break;case 550:h=this.cu(b,a,f,this.Pq(e),k)}break;case 550:switch(d){case 1736:h=this.gu(b,a,f,this.Pq(e),k);break;case 1607:h=this.ju(b,a,f,this.Pq(e),k);break;case 550:h=this.GB(a,b,f,e,k);break;case 33:h=this.cu(a,b,f,e,k)}break;default:h=!1}return h};b.iu=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.cK();var g=
new c.h,l=new c.h;a.s(g);d.s(l);e=!1;c.Ed.Gk(g,l,f)&&(h.rv(a,d),e=!0);e||(g=c.Ed.uc(a,d,!1),4==g?(h.rv(a,d),e=!0):1==g?(h.Py(d),e=!0):2==g&&(h.nF(a),e=!0));e||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.tq(a,d),h.i.ph());return b.yg(h.H,h.cd)};b.Ex=function(a,d,f,e){var h=new b;h.yj();h.Cj("T*****F**");h.cK();var g=new c.h,l=new c.h;a.s(g);d.s(l);var p=!1;c.Ed.Gk(g,l,f)&&(h.rv(a,d),p=!0);p||(g=c.Ed.uc(a,d,!1),4==g?(h.rv(a,d),p=!0):1==g?(h.Py(d),p=!0):2==g&&(h.nF(a),p=!0));if(p)return g=this.yg(h.H,
h.cd);p=new c.ed;a=p.Jb(a);g=p.Jb(d);c.vk.V(p,f,e,!1);f=p.Pe(g).Fg();p.zq(0,!0,!0);c.so.V(p,a,-1,!1,e);if(0==p.D(a))return!1;c.so.V(p,g,-1,!1,e);h.Xr(p,e);d=0==p.D(g);if(!d&&(h.tq(a,g),h.i.ph(),g=this.yg(h.H,h.cd),!g))return g;a=p.Pe(a);p=new c.ed;a=p.Jb(a);g=p.Jb(f);h.Xr(p,e);h.Fe=0;h.yj();h.Cj(d?"T*****F**":"******F**");h.kC();h.tq(a,g);h.i.ph();return g=this.yg(h.H,h.cd)};b.Un=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.kC();var g=new c.h,l=new c.h;a.s(g);d.s(l);e=!1;c.Ed.Gk(g,l,f)&&(h.sv(a,
d),e=!0);e||(g=c.Ed.uc(a,d,!1),4==g?(h.sv(a,d),e=!0):1==g&&(h.oF(d),e=!0));e||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.Gh=h.i.wq(),b.Zu(d,h.i,h.Gh),h.tq(a,d),h.i.xq(h.Gh),h.i.ph());return b.yg(h.H,h.cd)};b.OB=function(a,d,f,e){var h=new b;h.yj();h.Cj("T*****F**");h.kC();var g=new c.h,l=new c.h;a.s(g);d.s(l);var p=!1;c.Ed.Gk(g,l,f)&&(h.sv(a,d),p=!0);p||(g=c.Ed.uc(a,d,!1),4==g?(h.sv(a,d),p=!0):1==g&&(h.oF(d),p=!0));if(p)return f=this.yg(h.H,h.cd);p=new c.ed;a=p.Jb(a);d=p.Jb(d);h.Mp(p,f,e);if(0==
p.D(a))return!1;h.tq(a,d);h.i.ph();return f=this.yg(h.H,h.cd)};b.gu=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.dK();var g=new c.h,l=new c.h;a.s(g);d.s(l);e=!1;c.Ed.Gk(g,l,f)&&(h.tv(a),e=!0);e||(g=c.Ed.uc(a,d,!1),4==g?(h.tv(a),e=!0):1==g&&(h.YO(),e=!0));e||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.jz(a,d),h.i.ph());return b.yg(h.H,h.cd)};b.PB=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.DX();e=new c.h;var g=new c.h;a.s(e);d.s(g);var l=!1;c.Ed.Gk(e,g,f)&&(h.RH(a,d),l=!0);l||4!=c.Ed.uc(a,
d,!1)||(h.RH(a,d),l=!0);l||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.yi=h.i.wq(),h.Gh=h.i.wq(),b.Zu(a,h.i,h.yi),b.Zu(d,h.i,h.Gh),h.tq(a,d),h.i.xq(h.yi),h.i.xq(h.Gh),h.i.ph());return b.yg(h.H,h.cd)};b.ju=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.rK();e=new c.h;var g=new c.h;a.s(e);d.s(g);var l=!1;c.Ed.Gk(e,g,f)&&(h.JA(a),l=!0);l||4!=c.Ed.uc(a,d,!1)||(h.JA(a),l=!0);l||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.yi=h.i.wq(),b.Zu(a,h.i,h.yi),h.jz(a,d),h.i.xq(h.yi),h.i.ph());return b.yg(h.H,
h.cd)};b.GB=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.wK();e=new c.h;var g=new c.h;a.s(e);d.s(g);var l=!1;c.Ed.Gk(e,g,f)&&(h.uJ(),l=!0);l||(e=new c.ed,a=e.Jb(a),d=e.Jb(d),h.Mp(e,f,k),h.jz(a,d),h.i.ph());return b.yg(h.H,h.cd)};b.hu=function(a,d,f,e){var h=new b;h.yj();h.Cj(e);h.dK();var g=new c.h;a.s(g);d=d.w();var l=!1;c.Ed.Dx(d,g,f)&&(h.tv(a),l=!0);l||(f=c.fd.ee(a,d,f),1==f?(h.H[0]=0,h.H[2]=2,h.H[3]=-1,h.H[5]=1,h.H[6]=-1):2==f?(h.H[6]=-1,0!=a.ef()?(h.H[0]=-1,h.H[3]=0,h.H[2]=2,h.H[5]=1):(h.H[0]=
0,h.H[3]=-1,h.H[5]=-1,f=new c.h,a.s(f),h.H[2]=0==f.ea()&&0==f.O()?-1:1)):h.tv(a));return this.yg(h.H,e)};b.ku=function(a,d,f,e,k){var h=new b;h.yj();h.Cj(e);h.rK();var g=new c.h;a.s(g);e=d.w();var l=!1;c.Ed.Dx(e,g,f)&&(h.JA(a),l=!0);if(!l){var g=null,p=l=!1;if(h.fa[0]||h.fa[6])c.Ed.KA(a,e,f)?(h.fa[0]&&(g=c.Pi.Xm(a,k),p=!c.Ed.bu(g,e,f),l=!0,h.H[0]=p?-1:0),h.H[6]=-1):(h.H[0]=-1,h.H[6]=0);h.fa[3]&&(null!=g&&g.u()?h.H[3]=-1:(l||(null==g&&(g=c.Pi.Xm(a,k)),p=!c.Ed.bu(g,e,f),l=!0),h.H[3]=p?0:-1));h.fa[5]&&
(null!=g&&g.u()?h.H[5]=-1:l&&!p?h.H[5]=0:(null==g&&(g=c.Pi.Xm(a,k)),k=c.Ed.zx(g,d,f),h.H[5]=k?-1:0));h.fa[2]&&(0!=a.Rb()?h.H[2]=1:(k=new c.Dd(a.description),k.Hd(a,0,a.D()),a=c.Ed.zx(k,d,f),h.H[2]=a?-1:0))}return this.yg(h.H,h.cd)};b.cu=function(a,d,f,e){var h=new b;h.yj();h.Cj(e);h.wK();var g=new c.h;a.s(g);d=d.w();var l=!1;c.Ed.Dx(d,g,f)&&(h.uJ(),l=!0);if(!l){g=!1;l=!0;f*=f;for(var p=0;p<a.D();p++){var m=a.Ba(p);c.b.sc(m,d)<=f?g=!0:l=!1;if(g&&!l)break}g?(h.H[0]=0,h.H[2]=l?-1:0,h.H[6]=-1):(h.H[0]=
-1,h.H[2]=0,h.H[6]=0)}return b.yg(h.H,e)};b.jW=function(a,d,f,e){a=a.w();d=d.w();for(var h=[],g=0;9>g;g++)h[g]=-1;c.b.sc(a,d)<=f*f?h[0]=0:(h[2]=0,h[6]=0);h[8]=2;return b.yg(h,e)};b.yg=function(a,b){for(var d=0;9>d;d++)switch(b.charAt(d)){case "T":if(-1==a[d])return!1;break;case "F":if(-1!=a[d])return!1;break;case "0":if(0!=a[d])return!1;break;case "1":if(1!=a[d])return!1;break;case "2":if(2!=a[d])return!1}return!0};b.XW=function(a,b,f){var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var e=
0;9>e;e++)d[e]=-1;return this.yg(d,f)}e=!1;a.u()&&(a=b,e=!0);d[0]=-1;d[1]=-1;d[3]=-1;d[4]=-1;d[6]=-1;d[7]=-1;d[8]=2;b=a.G();c.T.Hc(b)?1736==b?0!=a.ef()?(d[2]=2,d[5]=1):(d[5]=-1,b=new c.h,a.s(b),d[2]=0==b.ea()&&0==b.O()?0:1):(b=0!=a.Rb(),d[2]=b?1:0,d[5]=c.Pi.Rq(a)?0:-1):(d[2]=0,d[5]=-1);e&&this.ZK(d);return this.yg(d,f)};b.fT=function(a,d,c){return b.XL(a)?3:b.BL(a)?4:b.DL(a,d,c)?8:b.ZY(a,d,c)?16:b.HY(a)?1:b.NU(a,d,c)?32:0};b.XL=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&
"*"==a.charAt(3)&&"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.BL=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.DL=function(a,b,c){if(0==b&&0==c)return!1;if(2!=b||2!=c)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&
"*"==a.charAt(8)||1==b&&1==c&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=c&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ZY=function(a,b,c){return b>c?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&
"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==c&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.HY=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.NU=function(a,b,c){if(b==c){if(1!=b)return"T"==a.charAt(0)&&
"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.Zu=function(a,b,c){a=b.Ia(a);for(var d=b.nf;-1!=d;d=b.ng(d))if(0!=(b.Ld(d)&a)){var f=b.gf(d);if(-1==f)b.ko(d,c,0);else{var e=f,g=0;do 0!=(b.Ah(e)&a)&&g++,e=b.qc(b.Aa(e));
while(e!=f);b.ko(d,c,g)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.yj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.ZK=function(a){var b=a[1],c=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=c;a[7]=e};b.prototype.Cj=function(a){this.cd=a;for(a=0;9>a;a++)"*"!=this.cd.charAt(a)?(this.fa[a]=!0,this.Fe++):this.fa[a]=!1};b.prototype.zK=function(){for(var a=
0;9>a;a++)this.fa[a]&&-2==this.H[a]&&(this.H[a]=-1,this.fa[a]=!1)};b.prototype.tc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.fa[a]=!1,this.Fe--,!0;if("T"!=this.cd.charAt(a)&&"F"!=this.cd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.fa[a]=!1;this.Fe--;return!0}this.fa[a]=!1;this.Fe--;return!0};b.prototype.cK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=
!1,this.Fe--)};b.prototype.kC=function(){this.jx=1;this.Ln=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.DX=function(){this.jx=2;this.Ln=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.dK=function(){this.Ln=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.rK=function(){this.Ln=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);
this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.wK=function(){this.Ln=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[3]&&(this.H[3]=-1,this.fa[3]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[5]&&(this.H[5]=-1,this.fa[5]=
!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.WO=function(a,b,c){var d=!0;this.fa[0]&&(this.$T(a,b,c),d=d&&this.tc(0));this.fa[1]&&(this.tH(a,b,1),d=d&&this.tc(1));this.fa[2]&&(this.uH(a,b,c,2),d=d&&this.tc(2));this.fa[3]&&(this.tH(a,c,3),d=d&&this.tc(3));this.fa[4]&&(this.bP(a,b,c),d=d&&this.tc(4));this.fa[5]&&(this.sF(a,c,5),d=d&&this.tc(5));this.fa[6]&&(this.uH(a,c,b,6),d=d&&this.tc(6));this.fa[7]&&(this.sF(a,b,7),
d=d&&this.tc(7));return d};b.prototype.rv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5));this.Bs(b,this.fa[6]?6:-1,this.cd.charAt(6),this.fa[7]?7:-1,this.cd.charAt(7))};b.prototype.Bs=function(a,b,f,e,k){if(-1!=b||-1!=e)("T"!=f&&"F"!=f&&-1!=b||"T"!=k&&"F"!=k&&-1!=e?0!=a.ef():1)?(-1!=b&&(this.H[b]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=b&&(f=new c.h,a.s(f),this.H[b]=0==f.ea()&&0==f.O()?0:
1))};b.prototype.Py=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Bs(a,this.fa[0]?0:-1,this.cd.charAt(0),this.fa[1]?1:-1,this.cd.charAt(1))};b.prototype.nF=function(a){this.Py(a);b.ZK(this.H)};b.prototype.sv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[6]){var d=this.cd.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.H[6]=d?1:0}this.fa[7]&&(d=c.Pi.Rq(b),this.H[7]=d?0:-1);this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?
5:-1,this.cd.charAt(5))};b.prototype.oF=function(a){if(this.fa[0]){var b=this.cd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.fa[1]&&(a=c.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.tv=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5))};b.prototype.YO=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.RH=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[2]){var d=this.cd.charAt(2),d="T"!=d&&"F"!=d?0!=a.Rb():!0;this.H[2]=d?1:0}this.fa[5]&&(d=c.Pi.Rq(a),this.H[5]=d?0:-1);this.fa[6]&&(d=this.cd.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0,this.H[6]=d?1:0);this.fa[7]&&(d=c.Pi.Rq(b),this.H[7]=d?0:-1)};b.prototype.JA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.fa[2]){var b=this.cd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.fa[5]&&(a=c.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.uJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.XO=function(a,b,c){var d=!0;this.fa[0]&&(this.aU(a,b),d=d&&this.tc(0));this.fa[1]&&(this.XT(a,b,c,this.Gh),d=d&&this.tc(1));this.fa[2]&&(this.YT(a,b),d=d&&this.tc(2));this.fa[3]&&(this.fP(a,b,c,this.Gh),d=d&&this.tc(3));this.fa[4]&&(this.cP(a,b,c,this.Gh),d=d&&this.tc(4));this.fa[5]&&(this.dP(a,b,c),d=d&&this.tc(5));this.fa[6]&&(this.BR(a,b),d=d&&this.tc(6));this.fa[7]&&(this.AR(a,b,c,this.Gh),d=d&&this.tc(7));
return d};b.prototype.RU=function(a,b,c){var d=!0;this.fa[0]&&(this.dU(a,b,c,this.yi,this.Gh),d=d&&this.tc(0));this.fa[1]&&(this.vH(a,b,c,this.yi,this.Gh,1),d=d&&this.tc(1));this.fa[2]&&(this.wH(a,b,c,2),d=d&&this.tc(2));this.fa[3]&&(this.vH(a,c,b,this.Gh,this.yi,3),d=d&&this.tc(3));this.fa[4]&&(this.hP(a,b,c,this.yi,this.Gh),d=d&&this.tc(4));this.fa[5]&&(this.tF(a,c,this.yi,5),d=d&&this.tc(5));this.fa[6]&&(this.wH(a,c,b,6),d=d&&this.tc(6));this.fa[7]&&(this.tF(a,b,this.Gh,7),d=d&&this.tc(7));return d};
b.prototype.pF=function(a,b,c){var d=!0;this.fa[0]&&(this.bU(a,b),d=d&&this.tc(0));this.fa[2]&&(this.ZT(a,b),d=d&&this.tc(2));this.fa[3]&&(this.gP(a,b,c),d=d&&this.tc(3));this.fa[5]&&(this.eP(a,b),d=d&&this.tc(5));this.fa[6]&&(this.CR(a,b),d=d&&this.tc(6));return d};b.prototype.SH=function(a,b,c){var d=!0;this.fa[0]&&(this.eU(a,b,c,this.yi),d=d&&this.tc(0));this.fa[2]&&(this.cU(a,c),d=d&&this.tc(2));this.fa[3]&&(this.jP(a,b,c,this.yi),d=d&&this.tc(3));this.fa[5]&&(this.iP(a,b,c,this.yi),d=d&&this.tc(5));
this.fa[6]&&(this.DR(a,b,c),d=d&&this.tc(6));return d};b.prototype.iW=function(a,b,c){var d=!0;this.fa[0]&&(this.fU(a,b,c),d=d&&this.tc(0));this.fa[2]&&(this.xH(a,b,c,2),d=d&&this.tc(2));this.fa[6]&&(this.xH(a,c,b,6),d=d&&this.tc(6));return d};b.prototype.$T=function(a,b,c){2!=this.H[0]&&(a=this.i.Bf(a),0!=(a&b)&&0!=(a&c)&&(this.H[0]=2))};b.prototype.tH=function(a,b,c){if(1!=this.H[c]){var d=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&b)&&0!=(d&b)&&(this.H[c]=1)}};b.prototype.uH=function(a,b,c,e){2!=
this.H[e]&&(a=this.i.Bf(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=2))};b.prototype.bP=function(a,b,c){if(1!=this.H[4]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Ld(this.i.Uf(a)),0!=(a&b)&&0!=(a&c)&&(this.H[4]=0))}};b.prototype.sF=function(a,b,c){if(1!=this.H[c]){var d=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&b)&&0==(d&b)&&(this.H[c]=1)}};b.prototype.aU=function(a,b){if(1!=this.H[0]){var d=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&
b)&&0!=(d&b)&&(this.H[0]=1)}};b.prototype.XT=function(a,b,c,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var d=this.i.Uf(a),f=this.i.Ld(d);0==(f&b)&&0!=(this.i.Bf(a)&b)&&(a=this.i.Gg(d,e),0!=(f&c)&&0!=a%2&&(this.H[1]=0))}};b.prototype.YT=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.fP=function(a,b,c,e){if(1!=this.H[3]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(d=this.i.Uf(a),
a=this.i.Ld(d),0!=(a&b)&&(b=this.i.Gg(d,e),0!=(a&c)&&0==b%2&&(this.H[3]=0)))}};b.prototype.cP=function(a,b,c,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var d=this.i.Uf(a);a=this.i.Ld(d);0!=(a&b)&&(b=this.i.Gg(d,e),0!=(a&c)&&0!=b%2&&(this.H[4]=0))}};b.prototype.dP=function(a,b,c){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&c)&&(this.H[5]=1))};b.prototype.BR=function(a,b){if(1!=this.H[6]){var d=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&b)&&0==(d&b)&&(this.H[6]=1)}};b.prototype.AR=
function(a,b,c,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var d=this.i.Uf(a),f=this.i.Ld(d);0==(f&b)&&0==(this.i.Bf(a)&b)&&(a=this.i.Gg(d,e),0!=(f&c)&&0!=a%2&&(this.H[7]=0))}};b.prototype.dU=function(a,b,c,e,k){if(1!=this.H[0]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),d=this.i.Ld(a),0!=(d&b)&&0!=(d&c)&&(b=this.i.Gg(a,e),k=this.i.Gg(a,k),0==b%2&&0==k%2&&(this.H[0]=0)))}};b.prototype.vH=function(a,
b,c,e,k,g){if(0!=this.H[g]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var d=this.i.Ld(a);0!=(d&b)&&0!=(d&c)&&(b=this.i.Gg(a,e),k=this.i.Gg(a,k),0==b%2&&0!=k%2&&(this.H[g]=0))}};b.prototype.wH=function(a,b,c,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=1))};b.prototype.hP=function(a,b,c,e,k){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var d=this.i.Ld(a);0!=(d&b)&&0!=(d&c)&&(b=this.i.Gg(a,e),k=this.i.Gg(a,k),0!=b%2&&0!=k%2&&(this.H[4]=
0))}};b.prototype.tF=function(a,b,c,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),0==(this.i.Ld(a)&b)&&0!=this.i.Gg(a,c)%2&&(this.H[e]=0))};b.prototype.bU=function(a,b){0!=this.H[0]&&0==(this.i.Ld(a)&b)&&0!=(this.i.Kk(this.i.Nz(a))&b)&&(this.H[0]=0)};b.prototype.ZT=function(a,b){2!=this.H[2]&&0!=(this.i.Ld(a)&b)&&(this.H[2]=2)};b.prototype.gP=function(a,b,c){0!=this.H[3]&&(a=this.i.Ld(a),0!=(a&b)&&0!=(a&c)&&(this.H[3]=0))};b.prototype.eP=function(a,b){1!=this.H[5]&&
0!=(this.i.Ld(a)&b)&&(this.H[5]=1)};b.prototype.CR=function(a,b){0!=this.H[6]&&0==(this.i.Ld(a)&b)&&0==(this.i.Kk(this.i.Nz(a))&b)&&(this.H[6]=0)};b.prototype.eU=function(a,b,c,e){if(0!=this.H[0]){var d=this.i.Ld(a);0!=(d&b)&&0!=(d&c)&&0==this.i.Gg(a,e)%2&&(this.H[0]=0)}};b.prototype.cU=function(a,b){1!=this.H[2]&&(-1!=this.i.gf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Ld(a)&b)&&(this.H[2]=0))};b.prototype.jP=function(a,b,c,e){if(0!=this.H[3]){var d=this.i.Ld(a);0!=(d&b)&&0!=(d&c)&&0!=this.i.Gg(a,
e)%2&&(this.H[3]=0)}};b.prototype.iP=function(a,b,c,e){if(0!=this.H[5]){var d=this.i.Ld(a);0!=(d&b)&&0==(d&c)&&0!=this.i.Gg(a,e)%2&&(this.H[5]=0)}};b.prototype.DR=function(a,b,c){0!=this.H[6]&&(a=this.i.Ld(a),0==(a&b)&&0!=(a&c)&&(this.H[6]=0))};b.prototype.fU=function(a,b,c){0!=this.H[0]&&(a=this.i.Ld(a),0!=(a&b)&&0!=(a&c)&&(this.H[0]=0))};b.prototype.xH=function(a,b,c,e){0!=this.H[e]&&(a=this.i.Ld(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=0))};b.prototype.tq=function(a,b){var d=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.wj=this.i.xh();for(var e=this.i.nf;-1!=e;e=this.i.ng(e)){var k=this.i.gf(e);if(-1==k){if(-1!=this.Ln)switch(this.Ln){case 3:d=this.pF(e,a,b);break;case 4:d=this.SH(e,a,b);break;default:throw c.g.X("internal error");}}else{var g=k;do{var l=g;if(1!=this.i.Kb(l,this.wj)){do{switch(this.jx){case 0:d=this.WO(l,a,b);break;case 1:d=this.XO(l,a,b);break;case 2:d=this.RU(l,a,b);break;default:throw c.g.X("internal error");}if(d)break;this.i.Ob(l,this.wj,1);l=this.i.qc(l)}while(l!=g&&!d)}if(d)break;g=this.i.qc(this.i.Aa(l))}while(g!=
k);if(d)break}}d||this.zK();this.i.oi(this.wj)};b.prototype.jz=function(a,b){var d=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var e=this.i.nf;-1!=e;e=this.i.ng(e)){switch(this.Ln){case 3:d=this.pF(e,a,b);break;case 4:d=this.SH(e,a,b);break;case 5:d=this.iW(e,a,b);break;default:throw c.g.za();}if(d)break}d||this.zK()};b.prototype.Xr=function(a,b){this.i.Vr(a,b)};b.prototype.Mp=function(a,b,c){this.tR(a,b,c);this.Xr(a,c)};b.prototype.tR=function(a,b,f){c.vk.V(a,b,f,!1);a.zq(0,!0,!0);for(b=a.qd;-1!=b;b=a.Re(b))1736==
a.ic(b)&&c.so.V(a,b,-1,!1,f)};b.bG=function(a,b){var d=a.G();if(c.T.Nc(d))return d=new c.Ua(a.description),d.cc(a,!0),d;if(197==d){d=new c.h;a.s(d);if(d.ea()<=b&&d.O()<=b)return d=new c.Wa(a.description),a.Tf(d),d;if(d.ea()<=b||d.O()<=b)return d=new c.Ua(a.description),b=new c.Wa,a.gg(0,b),d.Of(b),a.gg(2,b),d.lineTo(b),d;d=new c.Ja(a.description);d.hd(a,!1);return d}return a};return b}();c.Tm=e})(u||(u={}));(function(c){var e=function(){function a(a){this.yn=new c.ha(0);this.Rw=new c.ha(0);this.ou=
new c.b;this.pu=new c.b;this.a=a;this.Ft=-1}a.prototype.jc=function(a){return this.a.jc(this.mA(a))};a.prototype.ow=function(a){var b=this.Uz(a);a=this.KG(a);if(this.a.Ra(b)==a){var d=b,b=a;a=d}this.a.Mc(b,this.ou);this.a.Mc(a,this.pu);return this.ou.y<this.pu.y};a.prototype.mA=function(a){var b=this.Uz(a);a=this.KG(a);return this.a.U(b)==a?b:a};a.prototype.Uz=function(a){return this.yn.get(a)};a.prototype.KG=function(a){return this.Rw.get(a)};a.prototype.vG=function(a){this.yn.set(a,this.Ft);this.Ft=
a};a.prototype.kJ=function(a){if(-1!=this.Ft){var b=this.Ft;this.Ft=this.yn.get(b);this.yn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.yn&&(this.yn=new c.ha(0),this.Rw=new c.ha(0));b=this.yn.size;this.yn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.fA=function(a){return this.a.kd(this.Uz(a))};return a}();c.mZ=e;var g=function(){function a(a){this.Ze=a;this.Ce=new c.Hb;this.Gn=new c.Hb;this.EI=0;this.up=null;this.hB=-1}a.prototype.compare=function(a,b,c){c=a.ia(c);var d=this.Ze.ib,
f;this.hB==b?f=this.EI:(this.up=d.jc(b),null==this.up?(a=d.a,a.nd(d.mA(b),this.Ce),this.up=this.Ce,f=this.Ce.kf(this.Ze.Xh,0)):f=this.up.kf(this.Ze.Xh,0),this.EI=f,this.hB=b);a=d.jc(c);var e;null==a?(a=d.a,a.nd(d.mA(c),this.Gn),a=this.Gn,e=this.Gn.kf(this.Ze.Xh,0)):e=a.kf(this.Ze.Xh,0);f==e&&(b=d.ow(b),c=d.ow(c),c=Math.min(b?this.up.oa:this.up.ra,c?a.oa:a.ra),b=.5*(c+this.Ze.Xh),b==this.Ze.Xh&&(b=c),f=this.up.kf(b,0),e=a.kf(b,0));return f<e?-1:f>e?1:0};a.prototype.reset=function(){this.hB=-1};return a}(),
b=function(){function a(){this.Qn=this.om=null;this.hb=new c.xk;this.hb.kR();this.te=new g(this);this.hb.Lp(this.te)}a.prototype.WR=function(){var a=!1;this.Vw&&(a=this.XR());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.jA(b);this.a.rC(b,!0);return 0>a?(a=this.a.cb(b),this.a.UJ(a),this.a.rh(b,this.a.Ra(a)),!0):!1}this.mm=this.a.pz();this.qp=this.a.pz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.Zr(b,this.mm,0),this.a.Zr(b,this.qp,-1);b=new c.ha(0);this.Xh=NaN;var e=new c.b;this.Zt=
this.a.aa(this.Y);this.lp=this.a.Sd();this.Ot=this.a.Sd();for(var k=this.om.wc(this.om.De);-1!=k;k=this.om.nb(k)){var g=this.om.getData(k);this.a.Mc(g,e);e.y!=this.Xh&&0!=b.size&&(a=this.lu(b)||a,this.te.reset(),b.clear(!1));b.add(g);this.Xh=e.y;if(0==this.Zt)break}0<this.Zt&&(a=this.lu(b)||a,b.clear(!1));this.a.je(this.lp);this.a.je(this.Ot);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Xj(b,this.mm)){this.a.rC(b,!0);e=b;for(b=this.a.Xj(b,this.qp);-1!=b;)k=this.a.Xj(b,this.qp),this.a.BV(this.Y,this.a.Sb(e),
b),e=b,b=k;b=this.a.Sb(e)}else this.a.rC(b,!1),b=this.a.Sb(b);this.a.eC(this.mm);this.a.eC(this.qp);return a};a.prototype.lu=function(a){return this.vW(a)};a.prototype.vW=function(a){var b=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Qn?(this.Qn=new c.ha(0),this.Qn.zb(16)):this.Qn.clear(!1);this.uW(a);for(var d=0,k=a.size;d<k;d++){var g=a.get(d);-1!=g&&this.qH(g,-1)}for(d=0;d<this.Qn.size&&0<this.Zt;d++)if(a=this.Qn.get(d),g=this.ib.fA(this.hb.ia(a)),k=-1,0==this.a.Xj(g,this.mm)){for(var g=
this.hb.Se(a),l=a,p;-1!=g;){var m=this.hb.ia(g),n=this.ib.fA(m),u=this.a.Xj(n,this.mm);if(0!=u){k=n;break}l=g;g=this.hb.Se(g)}-1==g?(p=!0,g=l):(m=this.hb.ia(g),p=this.ib.ow(m),g=this.hb.nb(g),p=!p);do{m=this.hb.ia(g);n=this.ib.fA(m);u=this.a.Xj(n,this.mm);if(0==u&&(p!=this.ib.ow(m)&&(b=this.a.cb(n),this.a.UJ(b),this.a.rh(n,this.a.Ra(b)),b=!0),this.a.Zr(n,this.mm,p?3:2),p||(l=this.a.Xj(k,this.qp),this.a.Zr(k,this.qp,n),this.a.Zr(n,this.qp,l)),this.Zt--,0==this.Zt))return b;k=n;l=g;g=this.hb.nb(g);
p=!p}while(l!=a)}return b};a.prototype.uW=function(a){for(var b=0,d=a.size;b<d;b++){var c=a.get(b),e=this.a.Sa(c,this.lp),g=this.a.Sa(c,this.Ot);if(-1!=e){var l=this.hb.ia(e);this.ib.vG(l);this.a.Va(c,this.lp,-1)}-1!=g&&(l=this.hb.ia(g),this.ib.vG(l),this.a.Va(c,this.Ot,-1));l=-1;-1!=e&&-1!=g?(this.hb.Jd(e,-1),this.hb.Jd(g,-1),a.set(b,-1)):l=-1!=e?e:g;-1!=l&&(this.qH(c,l)||this.hb.Jd(l,-1),a.set(b,-1))}};a.prototype.qH=function(a,b){var d=new c.b,f=new c.b;this.a.Mc(a,d);var e=this.a.U(a);this.a.Mc(e,
f);var g=!1;if(d.y<f.y){var g=!0,l=this.ib.kJ(a),p;-1==b?p=this.hb.addElement(l,-1):(p=b,this.hb.pk(p,l));l=this.a.Sa(e,this.lp);-1==l?this.a.Va(e,this.lp,p):this.a.Va(e,this.Ot,p);e=this.a.kd(a);0==this.a.Xj(e,this.mm)&&this.Qn.add(p)}e=this.a.Ra(a);this.a.Mc(e,f);d.y<f.y&&(g=!0,l=this.ib.kJ(e),-1==b?p=this.hb.addElement(l,-1):(p=b,this.hb.pk(p,l)),l=this.a.Sa(e,this.lp),-1==l?this.a.Va(e,this.lp,p):this.a.Va(e,this.Ot,p),e=this.a.kd(a),0==this.a.Xj(e,this.mm)&&this.Qn.add(p));return g};a.V=function(b,
c,e,k){var d=new a;d.a=b;d.Y=c;d.om=e;d.Vw=k;return d.WR()};a.prototype.XR=function(){var a=new c.ha(0),b=new c.ha(0),e=-1,k=-1,g=new c.b;g.Yc();for(var l=-1,p=-1,m=-1,n=new c.b,u=this.om.wc(this.om.De);-1!=u;u=this.om.nb(u)){var t=this.om.getData(u);this.a.Mc(t,n);var w=this.a.kd(t);g.vb(n)&&p==w?(-1==k&&(e=this.a.pz(),k=this.a.Sd()),-1==m&&(m=b.size,this.a.Va(l,k,m),b.add(1),-1==this.a.Xj(w,e)&&(this.a.Zr(w,e,l),a.add(w))),this.a.Va(t,k,m),b.qK(b.Ec()+1)):(m=-1,g.L(n));l=t;p=w}if(0==a.size)return!1;
g=new c.ha(0);l=new c.ha(0);p=0;for(m=a.size;p<m;p++){var w=a.get(p),x=this.a.Xj(w,e),t=this.a.Sa(x,k);g.clear(!1);l.clear(!1);g.add(x);l.add(t);for(t=this.a.U(x);t!=x;t=this.a.U(t)){var y=t,n=this.a.Sa(y,k);if(-1!=n)if(0==l.size)l.add(n),g.add(y);else if(l.Ec()==n){var u=g.Ec(),z=this.a.U(u),x=this.a.U(y);this.a.Jc(u,x);this.a.Kc(x,u);this.a.Jc(y,z);this.a.Kc(z,y);y=[!1];z=this.a.pH(this.Y,z,this.a.cb(w),y);this.a.Va(t,k,-1);y[0]&&this.a.ig(w,x);t=this.a.La(w);x=this.a.La(z);t-=x;this.a.sk(w,t);
b.set(n,b.get(n)-1);1==b.get(n)&&(b.set(n,0),l.Mf(),g.Mf());t=x=u}else g.add(t),l.add(n)}}this.a.eC(e);this.a.je(k);return!0};return a}();c.sN=b})(u||(u={}));(function(c){var e=function(){function e(){}e.prototype.Bg=function(){this.xB=this.xb=null};e.prototype.get=function(){return this.xB};e.prototype.set=function(b){this.xB=b;if(null!=b)throw 322==b.G()&&(this.xb=b),c.g.za();};e.prototype.create=function(b){if(322==b)this.Hs();else throw c.g.X("Not Implemented");};e.prototype.Hs=function(){null==
this.xb&&(this.xb=new c.Hb);this.xB=this.xb};return e}();c.Bg=e})(u||(u={}));(function(c){c=c.wN||(c.wN={});c[c.enumLineSeg=1]="enumLineSeg";c[c.enumBezierSeg=2]="enumBezierSeg";c[c.enumArcSeg=4]="enumArcSeg";c[c.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";c[c.enumSegmentMask=7]="enumSegmentMask";c[c.enumDensified=8]="enumDensified"})(u||(u={}));(function(c){var e=function(){return function(b){this.Aj=b;this.VC=this.WC=1;this.WB=this.VB=this.XB=0}}(),g=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.fl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.ag=new c.Wa;this.ta=this.sx=0;this.gp=[];this.Wt=[];this.mx=[];this.yr=[];this.uB=[]}b.prototype.ZB=function(a){if(null!=a){for(var b=0,c=a.length;b<c;b++)this.VW(a[b]);a.length=0}};b.prototype.VW=function(a){a.Aj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.Aj=a,--this.yr.length;return b};b.prototype.lT=function(a,b){return 0==a?this.Wt[b]:this.mx[b]};
b.prototype.JB=function(){this.sx>=this.uB.length&&this.uB.push(new c.Bg);var a=this.uB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.ZB(this.gp);this.ZB(this.Wt);this.ZB(this.mx);this.sx=0};b.prototype.Hp=function(a){this.gp.push(this.Ax(a))};b.prototype.Wl=function(a){return 0==a?this.Wt.length:this.mx.length};b.prototype.Mq=function(a,b){return this.lT(a,b).Aj};b.prototype.Ma=function(a,b){if(2!=this.gp.length)throw c.g.za();this.ta=a;var d=c.Ub.Yx(.01*a),e=!1,k=this.gp[0],g=this.gp[1];
if(b||0!=(k.Aj.ws(g.Aj,a,!0)&5)){if(322==k.Aj.G()&&(b=k.Aj,322==g.Aj.G())){var l=g.Aj,p=c.Hb.Cy(b,l,null,this.vr,this.fl,a);if(0==p)throw c.Hb.Cy(b,l,null,this.vr,this.fl,a),c.g.za();a=Array(9);c.J.Ov(a,null);for(var m=0;m<p;m++){var n=this.vr[m],u=this.fl[m],t=k.WB,w=1;0==n?(t=k.XB,w=k.WC):1==n&&(t=k.VB,w=k.VC);var x=g.WB,y=1;0==u?(x=g.XB,y=g.WC):1==u&&(x=g.VB,y=g.VC);var z=new c.b;t==x?(t=new c.b,b.hc(n,t),n=new c.b,l.hc(u,n),u=w+y,y/=u,c.Ub.QH(t,n,y,z),c.b.sc(z,t)+c.b.sc(z,n)>d&&(e=!0)):t>x?(b.hc(n,
z),n=new c.b,l.hc(u,n),c.b.sc(z,n)>d&&(e=!0)):(l.hc(u,z),t=new c.b,b.hc(n,t),c.b.sc(z,t)>d&&(e=!0));a[m]=z}k=0;g=-1;for(m=0;m<=p;m++)y=m<p?this.vr[m]:1,y!=k&&(d=this.JB(),b.yh(k,y,d),-1!=g&&d.get().Lc(a[g]),m!=p&&d.get().Xc(a[m]),k=y,this.Wt.push(this.Ax(d.get()))),g=m;b=[0,0,0,0,0,0,0,0,0];for(m=0;m<p;m++)b[m]=m;1<p&&this.fl[0]>this.fl[1]&&(y=this.fl[0],this.fl[0]=this.fl[1],this.fl[1]=y,m=b[0],b[0]=b[1],b[1]=m);k=0;g=-1;for(m=0;m<=p;m++)y=m<p?this.fl[m]:1,y!=k&&(d=this.JB(),l.yh(k,y,d),-1!=g&&(k=
b[g],d.get().Lc(a[k])),m!=p&&(k=b[m],d.get().Xc(a[k])),k=y,this.mx.push(this.Ax(d.get()))),g=m;return e}throw c.g.za();}return!1};b.prototype.vA=function(a,b,f){b.copyTo(this.ag);if(1!=this.gp.length)throw c.g.za();this.ta=a;var d=this.gp[0];if(f||d.Aj.fv(b.w(),a,!0))if(322==d.Aj.G()){a=d.Aj;var e=a.ne(b.w(),!1);this.vr[0]=e;var g=d.WB;f=1;0==e?(g=d.XB,f=d.WC):1==e&&(g=d.VB,f=d.VC);d=new c.b;0==g?(g=new c.b,a.hc(e,g),b=b.w(),c.Ub.QH(g,b,1/(f+1),d)):0<g?(d=new c.b,a.hc(e,d)):d=b.w();f=0;e=-1;for(g=
0;1>=g;g++){b=1>g?this.vr[g]:1;if(b!=f){var l=this.JB();a.yh(f,b,l);-1!=e&&l.get().Lc(d);1!=g&&l.get().Xc(d);f=b;this.Wt.push(this.Ax(l.get()))}e=g}this.ag.rb(d)}else throw c.g.za();};return b}();c.jE=g})(u||(u={}));(function(c){var e=function(){function e(b){this.Bt=this.Vk=this.xb=null;this.lm=this.sf=this.bd=this.We=this.Ph=this.Ta=0;this.bb=null;this.Xl=this.sn=!1;this.We=-1;this.Ph=this.bd=0;this.Ta=-1;this.bb=b;this.sf=this.us(this.Ph);this.sn=!1;this.Vk=null;this.lm=-1;this.Xl=!1;this.Bt=new c.b}
e.Nm=function(b,a){if(0>a||a>=b.D())throw c.g.vd();var d=new e(b),f=b.cw(a);d.bd=a-b.wa(f);d.Ph=f+1;d.Ta=f;d.sf=d.us(d.Ta);d.lm=d.bb.wa(d.Ta);d.Xl=d.bb.Qb(d.Ta);return d};e.Mm=function(b,a,d){if(0>a||a>=b.aa()||0>d)throw c.g.vd();var f=b.Qb(a)?0:1;if(d>=b.La(a)-f)throw c.g.vd();b=new e(b);b.We=-1;b.bd=d;b.Ta=a;b.Ph=b.bd+1;b.sf=b.us(b.Ph);b.lm=b.bb.wa(b.Ta);b.Xl=b.bb.Qb(b.Ta);return b};e.prototype.cX=function(b){if(this.bb!=b.bb)throw c.g.Da();this.We=b.We;this.bd=b.bd;this.Ta=b.Ta;this.Ph=b.Ph;this.sf=
b.sf;this.sn=b.sn;this.lm=b.lm;this.Vk=null;this.Xl=b.Xl};e.prototype.ba=function(){this.We!=this.bd&&this.TE();if(this.sn)this.bd=(this.bd+1)%this.sf;else{if(this.bd==this.sf)throw c.g.vd();this.bd++}return this.Vk};e.prototype.Mi=function(){if(this.sn)this.bd=(this.sf+this.bd-1)%this.sf;else{if(0==this.bd)throw c.g.vd();this.bd--}this.bd!=this.We&&this.TE();return this.Vk};e.prototype.dX=function(){this.We=-1;this.bd=0};e.prototype.eX=function(){this.bd=this.sf;this.We=-1};e.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var d=this.jO();if(b>=d&&b<this.bb.Fc(this.Ta)){this.We=-1;this.bd=b-d;return}}d=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Fc(a)?a:this.bb.cw(b);this.Ph=d+1;this.Ta=d;this.We=-1;this.bd=b-this.bb.wa(d);this.sf=this.us(d);this.lm=this.bb.wa(this.Ta);this.Xl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Ph;if(this.Ta>=this.bb.aa())return!1;this.We=-1;this.bd=0;this.sf=this.us(this.Ta);this.lm=this.bb.wa(this.Ta);this.Xl=
this.bb.Qb(this.Ta);this.Ph++;return!0};e.prototype.zj=function(){this.sf=this.bd=this.We=-1;this.Ph=0;this.Ta=-1;this.Xl=!1;this.lm=-1};e.prototype.hC=function(b){if(0>b)throw c.g.vd();this.Ph=b;this.lm=this.sf=this.bd=this.We=this.Ta=-1;this.Xl=!1};e.prototype.us=function(b){if(this.bb.Gc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};e.prototype.Lo=function(){return this.We==this.sf-1&&this.bb.Qb(this.Ta)};e.prototype.mC=function(){this.sn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.We};e.prototype.jO=function(){return this.bb.wa(this.Ta)};e.prototype.Lk=function(){return this.Lo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.pn=function(){return 0==this.We};e.prototype.Oo=function(){return this.We==this.sf-1};e.prototype.Ea=function(){return this.bd<this.sf};e.prototype.rA=function(){return 0<this.bd};e.prototype.Sf=function(){var b=new e(this.bb);b.We=this.We;b.bd=this.bd;b.sf=this.sf;b.Ta=this.Ta;b.Ph=this.Ph;b.bb=this.bb;b.sn=this.sn;return b};e.prototype.TE=function(){if(0>
this.bd||this.bd>=this.sf)throw c.g.vd();this.We=this.bd;var b=this.Db();this.bb.vc();var a=this.bb.$e,d=1;null!=a&&(d=a.read(b)&7);a=this.bb.description;switch(d){case 1:null==this.xb&&(this.xb=new c.Hb);this.Vk=this.xb;break;case 2:throw c.g.X("internal error");case 4:throw c.g.za();default:throw c.g.za();}this.Vk.Eg(a);d=this.Lk();this.bb.Mc(b,this.Bt);this.Vk.Lc(this.Bt);this.bb.Mc(d,this.Bt);this.Vk.Xc(this.Bt);for(var e=1,h=a.Ga;e<h;e++)for(var k=a.pd(e),g=c.ma.Xa(k),l=0;l<g;l++){var p=this.bb.Wc(k,
b,l);this.Vk.Tx(k,l,p);p=this.bb.Wc(k,d,l);this.Vk.Lx(k,l,p)}};e.prototype.vU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Mo=function(){var b=this.bb.oT();return null!=b?1!=(b.read(this.We)&7):!1};return e}();c.xN=e})(u||(u={}));(function(c){var e=function(){function e(b){b instanceof c.T?(this.wI=b,this.Ca=-1,this.ej=1):(this.ZU=b.slice(0),this.Ca=-1,this.ej=b.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.ej-1?(this.Ca++,null!=this.wI?
this.wI:this.ZU[this.Ca]):null};e.prototype.Oe=function(){return!0};return e}();c.gd=e})(u||(u={}));(function(c){var e=function(){return function(){this.next=null}}(),g=function(){function b(){this.Lr=this.wx=this.xx=this.Sk=this.bi=0;this.rG=!1;this.LK=0;this.co=this.jg=this.Jm=this.ii=null;this.ym=0;this.Zy=null;this.Sk=this.bi=-1}b.prototype.$X=function(a,b,e){this.bi=a;this.Sk=b;this.ii=this.Jm=null;this.Lr=0;this.Zy=e;null==this.co&&(this.co=c.J.df(384,0));this.OK()};b.prototype.O=function(){return this.bi};
b.prototype.ea=function(){return this.Sk};b.prototype.flush=function(){0<this.ym&&(this.Zy.nG(this.co,this.ym),this.ym=0)};b.prototype.OK=function(){if(0<this.Lr){for(var a=0;a<this.Sk;a++){for(var b=this.Jm[a];null!=b;){var c=b,b=b.next;c.next=null}this.Jm[a]=null}this.ii=null}this.xx=this.Sk;this.wx=-1;this.Lr=0};b.prototype.MJ=function(a){this.rG=a==b.ly;for(a=this.xx;a<=this.wx;a++)this.QO(),this.HO(a),this.vR();this.OK()};b.prototype.Ny=function(a,b,f,h){if(b!=h){var d=1;b>h&&(d=a,a=f,f=d,d=
b,b=h,h=d,d=-1);if(!(0>h||b>=this.Sk)){0>a&&0>f?f=a=-1:a>=this.bi&&f>=this.bi&&(f=a=this.bi);var g=(f-a)/(h-b);h>this.Sk&&(h=this.Sk,f=g*(h-b)+a);0>b&&(a=g*(0-b)+a,b=0);var l=Math.max(this.bi+1,8388607);-8388607>a?(b=(0-a)/g+b,a=0):a>l&&(b=(this.bi-a)/g+b,a=this.bi);-8388607>f?h=(0-a)/g+b:f>l&&(h=(this.bi-a)/g+b);b=c.J.truncate(b);h=c.J.truncate(h);b!=h&&(f=new e,f.x=c.J.truncate(4294967296*a),f.y=b,f.B=h,f.oR=c.J.truncate(4294967296*g),f.dir=d,null==this.Jm&&(this.Jm=c.J.df(this.Sk,null)),f.next=
this.Jm[f.y],this.Jm[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Lr++)}}};b.prototype.QO=function(){if(null!=this.ii){for(var a=!1,b=null,c=this.ii;null!=c;)if(c.y++,c.y==c.B){var e=c,c=c.next;null!=b?b.next=c:this.ii=c;e.next=null}else c.x+=c.oR,null!=b&&b.x>c.x&&(a=!0),b=c,c=c.next;a&&(this.ii=this.KK(this.ii))}};b.prototype.HO=function(a){if(!(a>=this.Sk)){var b=this.Jm[a];if(null!=b){this.Jm[a]=null;b=this.KK(b);this.Lr-=this.LK;a=this.ii;for(var c=!0,e=b,k=null;null!=a&&
null!=e;)a.x>e.x?(c&&(this.ii=e),c=e.next,e.next=a,null!=k&&(k.next=e),k=e,e=c):(c=a.next,a.next=e,null!=k&&(k.next=a),k=a,a=c),c=!1;null==this.ii&&(this.ii=b)}}};b.tE=function(a,b){return 0>a?0:a>b?b:a};b.prototype.vR=function(){if(null!=this.ii)for(var a=0,d=this.ii,e=c.J.truncate(c.J.UH(d.x)),h=d.next;null!=h;h=h.next)if(a=this.rG?a^1:a+h.dir,h.x>d.x){var k=c.J.truncate(c.J.UH(h.x));0!=a&&(d=b.tE(e,this.bi),e=b.tE(k,this.bi),e>d&&d<this.bi&&(this.co[this.ym++]=d,this.co[this.ym++]=e,this.co[this.ym++]=
h.y,this.ym==this.co.length&&(this.Zy.nG(this.co,this.ym),this.ym=0)));d=h;e=k}};b.prototype.KK=function(a){for(var d=0,e=a;null!=e;e=e.next)d++;this.LK=d;if(1==d)return a;null==this.jg?this.jg=c.J.df(Math.max(d,16),null):this.jg.length<d&&(this.jg=c.J.df(Math.max(d,2*this.jg.length),null));for(var h=0,e=a;null!=e;e=e.next)this.jg[h++]=e;2==d?this.jg[0].x>this.jg[1].x&&(a=this.jg[0],this.jg[0]=this.jg[1],this.jg[1]=a):b.GW(this.jg,d,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.jg[0];
this.jg[0]=null;e=a;for(h=1;h<d;h++)e.next=this.jg[h],e=this.jg[h],this.jg[h]=null;e.next=null;return a};b.GW=function(a,b,c){if(b==a.length)a.sort(c);else{var d=a.slice(0,0),e=a.slice(b);b=a.slice(0,b).sort(c);a.length=0;a.push.apply(a,d.concat(b).concat(e))}};b.ly=0;b.vZ=1;return b}();c.vy=g})(u||(u={}));(function(c){var e=function(){function e(){}e.prototype.Si=function(b,a){var d=this.a.Sa(b,this.Fr);this.km==d&&(this.km=this.Je.nb(this.km));this.ap==d&&(this.ap=this.Je.nb(this.ap));this.Je.jd(this.zB,
d);this.Bk(b);if(a&&(d=this.a.kd(b),-1!=d&&this.a.cb(d)==b)){a=this.a.U(b);if(a!=b){var c=this.a.kd(a);if(c==d){this.a.ig(d,a);return}a=this.a.Ra(b);if(a!=b&&(c=this.a.kd(a),c==d)){this.a.ig(d,a);return}}this.a.ig(d,-1);this.a.rh(d,-1)}};e.prototype.JE=function(){for(var b=!1,a=0,d=new c.b;;){a++;null==this.wi?(this.wi=new c.ha(0),this.xt=new c.ha(0),this.Ue=new c.ha(0)):(this.wi.clear(!1),this.xt.clear(!1),this.Ue.clear(!1));for(var e=this.ap,h=0,k=!0;e!=this.km;){var g=this.Je.getData(e),l=new c.b;
this.a.Mc(g,l);k&&(this.a.Mc(g,d),k=!1);var l=this.a.Ra(g),p=this.a.U(g);-559038737!=this.a.Sa(l,this.Sg)&&(this.wi.add(l),this.a.Va(l,this.Sg,-559038737),this.xt.add(g),this.Ue.add(h++));-559038737!=this.a.Sa(p,this.Sg)&&(this.wi.add(p),this.a.Va(p,this.Sg,-559038737),this.xt.add(g),this.Ue.add(h++));e=this.Je.nb(e)}if(2>this.wi.size)break;var m=this;this.Ue.Fd(0,this.Ue.size,function(a,b){return m.bO(a,b)});e=0;for(h=this.Ue.size;e<h;e++)k=this.Ue.get(e),k=this.wi.get(k),this.a.Va(k,this.Sg,e),
l=new c.b,this.a.Mc(k,l);l=this.oO(d);e=0;for(h=this.Ue.size;e<h;e++)k=this.Ue.get(e),-1!=k&&(k=this.wi.get(k),this.a.Va(k,this.Sg,-1));if(l)b=!0;else break}return b};e.prototype.oO=function(b){for(var a=!1,d=!0;d;){var d=!1,c=0;-1==this.Ue.get(c)&&(c=this.Vm(c));for(var e=this.Vm(c),k=0,g=this.Ue.size;k<g&&-1!=c&&-1!=e&&c!=e;k++){var l=this.Ue.get(c),e=this.Ue.get(e),l=this.wi.get(l),e=this.wi.get(e),p=this.a.U(l);this.a.qw(p,b)||(p=this.a.Ra(l));var m=this.a.U(e);this.a.qw(m,b)||(m=this.a.Ra(e));
var n=this.dv(p,l),u=this.dv(m,e),t=n?this.a.Ra(p):this.a.U(p),w=u?this.a.Ra(m):this.a.U(m),x=!1;this.mq(p)?x=!0:this.mq(m)?x=!0:this.mq(l)?x=!0:this.mq(e)?x=!0:this.mq(t)?x=!0:this.mq(w)&&(x=!0);!x&&this.a.Uq(l,e)&&(x=!0,this.ME(n,u,p,l,m,e));!x&&this.a.Uq(t,w)&&(x=!0,this.ME(!n,!u,p,t,m,w));x&&(a=!0);d=d||x;c=this.Vm(c);e=this.Vm(c)}}if(!a)for(c=0,-1==this.Ue.get(c)&&(c=this.Vm(c)),e=this.Vm(c),k=0,g=this.Ue.size;k<g&&-1!=c&&-1!=e&&c!=e;k++)l=this.Ue.get(c),e=this.Ue.get(e),l=this.wi.get(l),e=this.wi.get(e),
p=this.a.U(l),this.a.qw(p,b)||(p=this.a.Ra(l)),m=this.a.U(e),this.a.qw(m,b)||(m=this.a.Ra(e)),n=this.dv(p,l),u=this.dv(m,e),t=n?this.a.Ra(p):this.a.U(p),w=u?this.a.Ra(m):this.a.U(m),this.fO(n,u,l,p,t,e,m,w)&&(a=!0),c=this.Vm(c),e=this.Vm(c);return a};e.prototype.rO=function(){1736==this.a.ic(this.Y)&&1==this.a.Eo(this.Y)&&(new c.Cg).cW(this.Vw,this.a,this.Y,this.ie);var b=!1,a=!0;this.Sg=this.Fr=-1;var d=this.a.D(this.Y),e=new c.ha(0);e.zb(d);for(var h=this.a.Pb(this.Y);-1!=h;h=this.a.Sb(h))for(var k=
this.a.cb(h),g=0,l=this.a.La(h);g<l;g++)e.add(k),k=this.a.U(k);var p=this.a.Cd.f,m=this.a.Cd.dd;this.a.yb.vc();var n=this.a.yb.ya[0].f;e.Fd(0,d,function(a,b){var d=p[m*a],c=p[m*b],e=n[2*d],d=n[2*d+1],f=n[2*c],c=n[2*c+1],e=d<c?-1:d>c?1:e<f?-1:e>f?1:0;0==e&&(e=p[m*a+3],c=p[m*b+3],e=e<c?-1:e==c?0:1);return e});this.Fr=this.a.Sd();this.Je=new c.cq;this.zB=this.Je.ni(0);this.Je.ao(d);for(h=0;h<d;h++)k=e.get(h),g=this.Je.addElement(this.zB,k),this.a.Va(k,this.Fr,g);this.Sg=this.a.Sd();this.km=-1;for(this.AE()&&
(b=!0);a;){a=!1;d=0;e=!1;do{e=!1;this.ap=-1;for(var l=0,h=new c.b,g=new c.b,u=this.Je.wc(this.zB);-1!=u;)k=this.Je.getData(u),-1!=this.ap?(this.a.Mc(k,g),h.vb(g))?l++:(h.L(g),this.km=u,0<l&&(k=this.JE())&&(e=!0,-1!=this.km&&(k=this.Je.getData(this.km),this.a.Mc(k,h))),this.ap=u=this.km,l=0):(this.ap=u,this.a.Mc(this.Je.getData(u),h),l=0),-1!=u&&(u=this.Je.nb(u));this.km=-1;0<l&&(k=this.JE())&&(e=!0);if(10<d++)throw c.g.za();e&&this.iO();this.AE()&&(e=!0);a=a||e&&!1;b=b||e}while(e)}this.a.je(this.Fr);
this.a.je(this.Sg);return b=c.sN.V(this.a,this.Y,this.Je,this.Vw)||b};e.prototype.dv=function(b,a){return this.a.U(a)==b?!1:!0};e.prototype.fO=function(b,a,d,c,e,k,g,l){if(c==g)return this.Bk(d),this.Bk(k),!1;var f=this.a.Sa(d,this.Sg),h=this.a.Sa(e,this.Sg),q=this.a.Sa(k,this.Sg),p=this.a.Sa(l,this.Sg);d=[0,0,0,0,0,0,0,0];var m=[0,0,0,0];d[0]=0;m[0]=f;d[1]=0;m[1]=h;d[2]=1;m[2]=q;d[3]=1;m[3]=p;for(f=1;4>f;f++){h=m[f];q=d[f];for(p=f-1;0<=p&&m[p]>h;)m[p+1]=m[p],d[p+1]=d[p],p--;m[p+1]=h;d[p+1]=q}m=0;
0!=d[0]&&(m|=1);0!=d[1]&&(m|=2);0!=d[2]&&(m|=4);0!=d[3]&&(m|=8);if(5!=m&&10!=m)return!1;b==a?b?(this.a.Jc(l,c),this.a.Kc(c,l),this.a.Jc(e,g),this.a.Kc(g,e)):(this.a.Kc(l,c),this.a.Jc(c,l),this.a.Kc(e,g),this.a.Jc(g,e)):b?(this.a.Kc(c,k),this.a.Jc(k,c),this.a.Kc(g,e),this.a.Jc(e,g)):(this.a.Jc(c,k),this.a.Kc(k,c),this.a.Jc(g,e),this.a.Kc(e,g));return!0};e.prototype.ME=function(b,a,d,c,e,k){this.h_?this.qO():this.pO(b,a,d,c,e,k)};e.prototype.qO=function(){throw c.g.X("not implemented.");};e.prototype.pO=
function(b,a,d,c,e,k){if(b!=a)b?(this.a.Jc(d,e),this.a.Kc(e,d),this.a.Jc(k,c),this.a.Kc(c,k),this.wo(e,d),this.Si(e,!0),this.a.Ni(e,!0),this.Bk(d),this.wo(k,c),this.Si(k,!0),this.a.Ni(k,!1)):(this.a.Jc(e,d),this.a.Kc(d,e),this.a.Jc(c,k),this.a.Kc(k,c),this.wo(e,d),this.Si(e,!0),this.a.Ni(e,!1),this.Bk(d),this.wo(k,c),this.Si(k,!0),this.a.Ni(k,!0)),this.Bk(c);else{var f=b?d:c,h=a?e:k;b=b?c:d;a=a?k:e;e=!1;this.a.Jc(f,h);this.a.Jc(h,f);this.a.Kc(b,a);this.a.Kc(a,b);for(k=a;k!=h;)d=this.a.Ra(k),c=this.a.U(k),
this.a.Kc(k,c),this.a.Jc(k,d),e=e||k==f,k=c;e||(d=this.a.Ra(h),c=this.a.U(h),this.a.Kc(h,c),this.a.Jc(h,d));this.wo(h,f);this.Si(h,!0);this.a.Ni(h,!1);this.Bk(f);this.wo(a,b);this.Si(a,!0);this.a.Ni(a,!1);this.Bk(b)}};e.prototype.AE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var d=this.a.cb(a),c=0,e=this.a.La(a);c<e&&1<e;){var k=this.a.Ra(d),g=this.a.U(d);this.a.Uq(k,g)?(b=!0,this.Si(d,!1),this.a.td(d,!0),this.Si(g,!1),this.a.td(g,!0),d=k,c=0,e=this.a.La(a)):(d=g,c++)}if(2>this.a.La(a)){b=
this.a.cb(a);c=0;for(e=this.a.La(a);c<e;c++)this.Si(b,!1),b=this.a.U(b);a=this.a.Qr(a);b=!0}else a=this.a.Sb(a)}return b};e.prototype.mq=function(b){for(var a=!1;;){var d=this.a.U(b),c=this.a.Ra(b);if(d==b)return this.Si(b,!0),this.a.Ni(b,!1),!0;if(!this.a.Uq(d,c))break;a=!0;this.Bk(c);this.Bk(d);this.Si(b,!0);this.a.Ni(b,!1);this.wo(d,c);this.Si(d,!0);this.a.Ni(d,!0);if(d==c)break;b=c}return a};e.prototype.iO=function(){for(var b=0,a=this.Je.wc(this.Je.De);-1!=a;a=this.Je.nb(a)){var d=this.Je.getData(a);
this.a.Bj(d,-1)}for(var c=0,e=this.a.Pb(this.Y);-1!=e;)if(a=this.a.cb(e),-1==a||-1!=this.a.kd(a))d=e,e=this.a.Sb(e),this.a.Rr(d);else{this.a.Bj(a,e);for(var k=1,d=this.a.U(a);d!=a;d=this.a.U(d))this.a.Bj(d,e),k++;this.a.Up(e,!1);this.a.sk(e,k);this.a.rh(e,this.a.Ra(a));c+=k;b++;e=this.a.Sb(e)}for(a=this.Je.wc(this.Je.De);-1!=a;a=this.Je.nb(a))d=this.Je.getData(a),-1==this.a.kd(d)&&(e=this.a.pH(this.Y,d,d,null),c+=this.a.La(e),b++);this.a.Bm(this.Y,b);this.a.qk(this.Y,c);b=0;for(c=this.a.qd;-1!=c;c=
this.a.Re(c))b+=this.a.D(c);this.a.CC(b)};e.prototype.Vm=function(b){for(var a=0,d=this.Ue.size-1;a<d;a++)if(b=(b+1)%this.Ue.size,-1!=this.Ue.get(b))return b;return-1};e.prototype.wo=function(b,a){var d=this.a.Sa(a,this.Fr),c=this.a.Sa(a,this.Sg);this.a.MC(b,a);this.a.Va(a,this.Fr,d);this.a.Va(a,this.Sg,c)};e.prototype.Bk=function(b){var a=this.a.Sa(b,this.Sg);-1!=a&&(this.Ue.set(a,-1),this.a.Va(b,this.Sg,-1))};e.V=function(b,a,d,c,h){var f=new e;f.a=b;f.Y=a;f.gB=d;f.Vw=c;f.ie=h;return f.rO()};e.prototype.bO=
function(b,a){var d=this.wi.get(b),e=new c.b;this.a.Mc(d,e);var d=new c.b,h=this.wi.get(a);this.a.Mc(h,d);if(e.vb(d))return 0;b=this.xt.get(b);h=new c.b;this.a.Mc(b,h);a=this.xt.get(a);b=new c.b;this.a.Mc(a,b);a=new c.b;a.xc(e,h);e=new c.b;e.xc(d,b);return c.b.ts(a,e)};return e}();c.so=e})(u||(u={}));(function(c){(function(c){c[c.Local=0]="Local";c[c.Geographic=1]="Geographic";c[c.Projected=2]="Projected";c[c.Image=3]="Image";c[c.Unknown=4]="Unknown"})(c.yN||(c.yN={}));(function(c){c[c.Integer32=
0]="Integer32";c[c.Integer64=1]="Integer64";c[c.FloatingPoint=2]="FloatingPoint"})(c.lN||(c.lN={}));var e=function(){function e(){this.jq="";this.gv=null;this.xg=0;this.$I=this.Ap=-1;this.Vh=null}e.prototype.Bc=function(){return this.xg};e.prototype.Ps=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Rs=function(){return 0};e.prototype.Os=function(){return 0};e.prototype.Wz=function(){return 5.7295779513082306E10};e.prototype.Xz=function(){return 1E3};e.prototype.Vz=function(){return 1E3};
e.prototype.$s=function(){return 1};e.prototype.pe=function(){var b=.001;0!=this.xg?b=c.ss.SR(this.xg):null!=this.Vh&&(b=c.uE.TR(this.Vh));return b};e.prototype.dH=function(){return this.Vh};e.prototype.Td=function(){if(0!=this.xg)return c.$c.vh(c.ss.Dz(this.xg));if(null!=this.Vh)return c.uE.UR(this.Vh)};e.Fb=function(b){if(0!=b.xg){if(!0===c.ss.uU(b.xg))return 1;if(!0===c.ss.wU(b.xg))return 2}return 4};e.prototype.Ys=function(){var b=this.Bc();if(-1!=this.Ap)return this.Ap;this.Ap=c.ss.nL(b);return-1!=
this.Ap?this.Ap:b};e.create=function(b){if(0>=b)throw c.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.xg=b;return a};e.MQ=function(b){if(null==b||0==b.length)throw c.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Vh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.xg!=b.xg||0==this.xg&&this.Vh!==b.Vh?!1:!0};e.pS=function(b,a){var d=Math.PI/180,e=new c.da;c.$L.sS(b.w().x*d,b.w().y*d,a.w().x*d,a.w().y*d,e);return e.j};
e.prototype.toString=function(){return"[ tol: "+this.Ho()+"; wkid: "+this.Bc()+"; wkt: "+this.dH()+"]"};e.prototype.kc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var d=0;d<b.length;d++)a=(a<<5)-a+b.charCodeAt(d),a&=a;return this.jq="S"+a};e.prototype.Ho=function(){return this.pe(0)};e.prototype.Bh=function(){return null!==
this.gv?this.gv:this.gv=c.Su.SQ(this)};e.r_=!0;e.xv=2147483645;e.yv=9007199254740990;return e}();c.ve=e})(u||(u={}));(function(c){var e=function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;a.jj=null;a.tV=null;a.rp=new c.kE;a.yp=null;a.Xw=null;return a}da(b,e);b.SQ=function(a){var d=new b;d.xg=a.xg;d.Ap=a.Ap;d.$I=a.$I;d.Vh=a.Vh;if(""!==d.Vh&&null!==d.Vh){a=b.Gj(d.Vh);var e=b.Ej(d.Vh);d.rp.Ay(a,e,c.Tu.Integer64);d.Gy(a);d.Jy(e);d.xg=a.Ys()}else a=b.Fj(d.xg),d.Gy(a),d.Jy(null),d.rp.Ay(a,
null,c.Tu.Integer64);return d};b.prototype.pe=function(a){return this.rp.Ho(a)};b.Ej=function(a){if(0>=a.length)throw c.g.F();var d=null;try{d=c.WD.fromString(a)}catch(f){d=null}return null==d?null:b.de(d,!0)};b.prototype.Gy=function(a){this.Nd=a;this.yp=this.Nd.Td()};b.prototype.Jy=function(a){this.LI=a;this.tV=null!=this.LI?this.LI.yp:null};b.prototype.Ic=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Nd.Ic()};b.prototype.IH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.jj.Ik().Ic():
this.Nd.Ic()};b.prototype.Jg=function(){return null!=this.Nd?this.Nd.rf:null};b.prototype.hn=function(){return this.Nd.hn()};b.prototype.ce=function(){return this.Nd.ce()};b.prototype.Dh=function(){return null!=this.Nd?this.Nd.fx:NaN};b.prototype.kn=function(){return this.Nd.kn()};b.prototype.Us=function(){return this.Nd.Us()};b.prototype.Wj=function(){return this.Nd.Wj()};b.prototype.JT=function(a){return c.ZD.zz(this.Nd,a.Nd)};b.prototype.Ok=function(){return this.Nd.Ok()};b.prototype.Ts=function(){return this.Nd.Ts()};
b.prototype.ri=function(){return 3==this.Fb()?this.jj.Ik().ri():this.Nd.ri()};b.prototype.Ch=function(){if(!this.Ic())throw c.g.F("!isPannable()");var a=new c.h;this.Nd.Ch(a);return a};b.prototype.oe=function(){if(!this.Ic())throw c.g.F("!isPannable()");return this.Nd.mp};b.prototype.aT=function(){if(!this.Ic())throw c.g.F("!isPannable()");var a=new c.h;this.Nd.$S(a);return a};b.prototype.bw=function(){if(!this.Ic())throw c.g.F("!isPannable()");return this.Nd.bw()};b.prototype.aw=function(){if(!this.Ic())throw c.g.F("!isPannable()");
return this.Nd.aw()};b.prototype.Vs=function(){return null!=this.jj?this.jj.Ik().Vs():this.Nd.Vs()};b.prototype.dS=function(){return this.Nd.Uv()};b.prototype.NW=function(a){a.assign(this.rp)};b.prototype.Zi=function(){return this.yp.getUnitFactor()};b.prototype.iA=function(a){return this.rp.iA(a)};b.prototype.lc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.jj.Ik().lc();if(0==a)throw c.g.X("invalid call");if(4===a)throw c.g.X("invalid call");if(null!==this.Xw)return this.Xw;
a=this.Jg().getGeogcs();if(null==a)throw c.g.za();return this.Xw=b.hG(a,this.rp.$s())};b.hG=function(a,d){if(null==a)throw c.g.F("null pointer.");var e=new b;a=b.dc(a,!0);e.rp.Ay(a,null,d);e.Gy(a);e.Jy(null);e.xg=a.Ys();return e};b.prototype.Fb=function(){var a=this.Jg();if(null!=a)switch(a.getType()){case c.Uc.PE_TYPE_GEOGCS:return 1;case c.Uc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.gA=function(a){var b=new c.b;this.Nd.gA(a,b);return b};b.prototype.Uv=function(){return this.Nd.Uv()};b.dc=function(a,
d){var e=a.getCode();if(0>=e&&(e=c.Qf.getCode(a),0<e)){var h=c.Qf.coordsys(e);if(null==h)throw c.g.F("Text to wkid mapping had failed: "+e);return b.dc(h,d)}if(d&&0<e&&(h=b.ad[e]))return h;h=c.Ib.iw(a,e,!1);if(d=b.Ug[h])return d;d=0>=e?a:c.Qf.coordsys(e);d=new c.ZD(d);b.Ug[h]=d;0<e&&(b.ad[e]=d);return d};b.Fj=function(a){if(0>=a)throw c.g.F("Invalid or unsupported wkid: "+a);var d=b.ad[a];if(null!=d)return d;d=c.Qf.coordsys(a);if(null==d)throw c.g.F("Invalid or unsupported wkid: "+a);d=b.dc(d,!1);
d.Ys()!=a&&(b.ad[a]=d);return d};b.Gj=function(a){if(null==a||void 0===a||0==a.length)throw c.g.F("Cannot create SpatialReference from null or empty text.");var d=null;try{d=c.Qf.fromString(c.Uc.PE_TYPE_COORDSYS,a)}catch(f){throw c.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===d)throw c.g.F("Cannot create SpatialReference from text. ");return b.dc(d,!0)};b.de=function(a,d){var e=a.getCode();if(0>=e&&(e=c.Qf.getCode(a),0<e)){e=c.Qf.vertcs(e);if(null===e)throw c.g.F();return b.de(e,
d)}if(d&&0<e&&(d=b.Xf[e]))return d;a=c.Ib.iw(a,e,!1);if(d=b.Yg[a])return d;var h;0>=e||(h=c.Qf.vertcs(e));if(null===h)throw c.g.F();d=new c.hN(h);b.Yg[a]=d;0<e&&(b.Xf[e]=d);return d};b.lf=function(a,b){var d;if(null===b||b.u())return null;var e=new c.h,k;null!==b&&1!=a.Fb()?(d=a.lc(),k=d.Jg(),d=c.rs.Gs(a,d,null,null),d=c.ns.local().V(b,d,null),d.s(e)):(k=a.Jg(),b.s(e));d=k.getPrimem().getLongitude();k=k.getUnit().getUnitFactor();return new c.UD(e.o,e.A,e.v,e.B,d,k)};b.IE=function(a){var b={name:"",
steps:[],_pt:null,_entry:null},c=0;for(a=a.getEntries();c<a.length;c++){var e=a[c],k={d_:!1,C_:"",B_:-1,geogtran:null};0===e.getDirection()?k.isInverse=!1:k.isInverse=!0;var g=e.getGeogtran().getCode();-1<g?k.wkid=g:k.wkt=e.getGeogtran().toString();b.steps.push(k)}return b};b.rT=function(a,d,e,h){void 0===e&&(e=null);e=b.lf(h,e);a=c.fq.getGTlist(a.Jg(),d.Jg(),2,c.fq.PE_GTLIST_OPTS_COMMON,e,1);d=null;a&&0<a.length&&(d=this.IE(a[0]),c.sy.destroy(a));null!==e&&e.destroy();return d};b.sT=function(a,d,
e,h){var f;void 0===e&&(e=null);void 0===h&&(h=null);void 0===f&&(f=30);e=b.lf(h,e);a=c.fq.getGTlist(a.Jg(),d.Jg(),2,c.fq.PE_GTLIST_OPTS_COMMON,e,f);d=[];if(a&&0<a.length){for(f=0;f<a.length;f++)d.push(this.IE(a[f]));c.sy.destroy(a)}null!==e&&e.destroy();return d};b.ad={};b.Ug={};b.Xf={};b.Yg={};return b}(c.ve);c.Su=e})(u||(u={}));(function(c){var e;(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(e=c.Tu||(c.Tu={}));var g=function(){function b(){this.kq()}
b.prototype.assign=function(a){this.bm=a.bm;this.cm=a.cm;this.vj=a.vj;this.Tw=a.Tw;this.Pn=a.Pn;this.Sw=a.Sw;this.rx=a.rx;this.ll=a.ll;this.Cr=a.Cr;this.Br=a.Br;this.Kn=a.Kn};b.prototype.Ps=function(){return this.bm};b.prototype.Qs=function(){return this.cm};b.prototype.Rs=function(){return this.Tw};b.prototype.Os=function(){return this.Sw};b.prototype.Wz=function(){return this.vj};b.prototype.Xz=function(){return this.Pn};b.prototype.Vz=function(){return this.rx};b.prototype.$s=function(){return this.Kn};
b.prototype.kq=function(){this.cm=this.bm=0;this.vj=1;this.Tw=0;this.Pn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.ll=2.220446049250313E-14;this.Kn=e.FloatingPoint};b.prototype.Ay=function(a,b,f){this.kq();this.Kn=f;if(f!=e.FloatingPoint){var d=new c.h;a.zS(d);this.bm=d.o;this.cm=d.A}else this.cm=this.bm=-1.7976931348623157E308;d=a.rf.getType();d==c.Uc.PE_TYPE_GEOGCS?(d=(f==e.Integer64?1E-9:1/18E5)*a.ce(),this.vj=1/d):d==c.Uc.PE_TYPE_PROJCS&&(d=(f==e.Integer64?1E-4:.001)*a.hn(),this.vj=1/d);null!=
b?(d=(f==e.Integer32?.001:1E-4)*b.JI,this.Pn=1/d):this.Pn=1E4;this.rx=1E4;this.sO();this.ll=a.fx;this.Cr=null!=b?.001*b.JI:.001;this.Br=2.220446049250313E-14};b.prototype.sO=function(){if(this.Kn!=e.FloatingPoint){var a=this.Kn==e.Integer64?c.ve.yv:c.ve.xv,b=a/this.vj,f=this.bm+b,h=c.J.truncate((f-this.bm)*this.vj);h>a&&(this.vj=a/(f-this.bm));b=this.cm+b;h=c.J.truncate((b-this.cm)*this.vj);h>a&&(this.vj=a/(b-this.cm))}};b.prototype.BC=function(a,b){switch(a){case 0:this.ll=b;case 1:this.Cr=b;case 2:this.Br=
b}};b.prototype.Ho=function(a){switch(a){case 0:return this.ll;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.xT=function(){var a=new c.h;switch(this.$s()){case e.Integer32:var b=c.ve.xv/this.Wz();a.I(this.Ps(),this.Qs(),this.Ps()+b,this.Qs()+b);break;case e.Integer64:b=c.ve.yv/this.Wz();a.I(this.Ps(),this.Qs(),this.Ps()+b,this.Qs()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw c.g.X("internal error");
}return a};b.prototype.zT=function(){var a=new c.yc;switch(this.$s()){case e.Integer32:var b=c.ve.xv/this.Xz();a.I(this.Rs(),this.Rs()+b);break;case e.Integer64:b=c.ve.yv/this.Xz();a.I(this.Rs(),this.Rs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw c.g.X("internal error");}return a};b.prototype.TS=function(){var a=new c.yc;switch(this.$s()){case e.Integer32:var b=c.ve.xv/this.Vz();a.I(this.Os(),this.Os()+b);break;case e.Integer64:b=c.ve.yv/
this.Vz();a.I(this.Os(),this.Os()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw c.g.X("internal error");}return a};b.prototype.iA=function(a){if(this.Kn==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.vj;case 1:return 1/this.Pn;case 2:return 1/this.Pn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.ll.toString();a=a+";m_falseX: "+this.bm.toString();a=a+";m_falseY: "+this.cm.toString();a=a+";m_unitsXY: "+
this.vj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Pn.toString();a=a+";m_falseM: "+this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.Kn.toString();return a+"] "};return b}();c.kE=g})(u||(u={}));(function(c){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,d){a=a/6378137*
57.29577951308232;return d?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var d=a.Sf();if(33===a.G()){var e=b(d.Te(),d.Cf());d.rb(e[0],e[1])}else if(197===a.G())e=b(a.dt(),a.ft(),!0),a=b(a.ct(),a.et(),!0),d.I(e[0],e[1],a[0],a[1]);else for(e=new c.b,a=0;a<d.D();a++){d.w(a,e);var f=b(e.x,e.y,!0);e.ja(f[0],f[1]);d.rb(a,e)}return d}function a(a){return b(a,
g)}function d(a){return b(a,e)}var f=Math.PI/180,h=function(){function a(){}a.os=function(a){var b=Math.sqrt(.006694379990197414),d=Math.sin(a.y*f);return c.b.pa(6378137*a.x*f,3167719.6636462314*(d/(1-.006694379990197414*d*d)-1/(2*b)*Math.log((1-b*d)/(1+b*d))))};a.xz=function(a,b,d,e){var h=1/298.257223563,k=Math.sin(d);d=Math.cos(d);var g=(1-h)*Math.tan(a);a=1/Math.sqrt(1+g*g);for(var l=g*a,q=Math.atan2(g,d),g=a*k,p=g*g,m=1-p,r=2.7233160610754688E11*m/4.040829998466145E13,n=1+r/16384*(4096+r*(-768+
r*(320-175*r))),v=r/1024*(256+r*(-128+r*(74-47*r))),r=e/(6356752.31424518*n),u=2*Math.PI,t,w,x,y;1E-12<Math.abs(r-u);)x=Math.cos(2*q+r),t=Math.sin(r),w=Math.cos(r),y=v*t*(x+v/4*(w*(-1+2*x*x)-v/6*x*(-3+4*t*t)*(-3+4*x*x))),u=r,r=e/(6356752.31424518*n)+y;e=l*t-a*w*d;m=h/16*m*(4+h*(4-3*m));return c.b.pa((b+(Math.atan2(t*k,a*w-l*t*d)-(1-m)*h*g*(r+m*t*(x+m*w*(-1+2*x*x)))))/f,Math.atan2(l*w+a*t*d,(1-h)*Math.sqrt(p+e*e))/f)};a.uV=function(a,b,d,c){var e=1/298.257223563,f=c-b,h=Math.atan((1-e)*Math.tan(a)),
k=Math.atan((1-e)*Math.tan(d)),g=Math.sin(h),h=Math.cos(h),l=Math.sin(k),k=Math.cos(k),q=f,p,m=1E3,r,n,v,u,t,w,x;do{v=Math.sin(q);u=Math.cos(q);n=Math.sqrt(k*v*k*v+(h*l-g*k*u)*(h*l-g*k*u));if(0===n)return 0;u=g*l+h*k*u;t=Math.atan2(n,u);w=h*k*v/n;r=1-w*w;v=u-2*g*l/r;isNaN(v)&&(v=0);x=e/16*r*(4+e*(4-3*r));p=q;q=f+(1-x)*e*w*(t+x*n*(v+x*u*(-1+2*v*v)))}while(1E-12<Math.abs(q-p)&&0<--m);if(0===m)return g=c-b,{azimuth:Math.atan2(Math.sin(g)*Math.cos(d),Math.cos(a)*Math.sin(d)-Math.sin(a)*Math.cos(d)*Math.cos(g)),
geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(d)+Math.cos(a)*Math.cos(d)*Math.cos(c-b))};a=2.7233160610754688E11*r/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(k*Math.sin(q),h*l-g*k*Math.cos(q)),oS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(t-b*n*(v+b/4*(u*(-1+2*v*v)-b/6*v*(-3+4*n*n)*(-3+4*v*v)))),u_:Math.atan2(h*Math.sin(q),h*l*Math.cos(q)-g*k)}};a.hM=function(a){var b=a.hasAttribute(1),d=a.hasAttribute(2),e=[],f=a.aa(),h=
null,k=null;b&&(h=a.Qa(1));d&&(k=a.Qa(2));for(var g=new c.b,l=0;l<f;l++){for(var q=a.wa(l),p=a.La(l),m=0,n=0,u=NaN,t=NaN,w=NaN,x=NaN,y=a.Qb(l),z=[],A=q;A<q+p;A++){a.w(A,g);var x=w=NaN,B=[g.x,g.y];b&&(w=h.get(A),B.push(w));d&&(f=k.get(A),B.push(x));A==q&&y&&(m=g.x,n=g.y,u=w,t=x);z.push(B)}!y||m==g.x&&n==g.y&&(!b||isNaN(u)&&isNaN(w)||u==w)&&(!d||isNaN(t)&&isNaN(x)||t==x)||z.push(z[0].slice(0));e.push(z)}return e};a.Hz=function(b,d){b=a.hM(b);637.100877141506>d&&(d=637.100877141506);for(var c=[],e,h=
0;h<b.length;h++){var k=b[h];c.push(e=[]);e.push([k[0][0],k[0][1]]);var g,l,q,p,m,n;g=k[0][0]*f;l=k[0][1]*f;for(m=0;m<k.length-1;m++)if(q=k[m+1][0]*f,p=k[m+1][1]*f,g!==q||l!==p){p=a.uV(l,g,p,q);q=p.azimuth;p=p.oS;var r=p/d;if(1<r){for(n=1;n<=r-1;n++){var u=a.xz(l,g,q,n*d);e.push([u.x,u.y])}n=a.xz(l,g,q,(p+Math.floor(r-1)*d)/2);e.push([n.x,n.y])}l=a.xz(l,g,q,p);e.push([l.x,l.y]);g=l.x*f;l=l.y*f}}return{VJ:c}};a.nS=function(b){for(var d=[],e=0;e<b.length;e++){var f=b[e],f=a.Hz(f,1E4);d.push(f)}b=[];
for(var h=0;h<d.length;h++){for(var f=d[h],k=0,e=0;e<f.VJ.length;e++){var g=f.VJ[e],l=a.os(c.b.pa(g[0][0],g[0][1])),q=a.os(c.b.pa(g[g.length-1][0],g[g.length-1][1])),p=q.x*l.y-l.x*q.y,m;for(m=0;m<g.length-1;m++)l=a.os(c.b.pa(g[m+1][0],g[m+1][1])),q=a.os(c.b.pa(g[m][0],g[m][1])),p+=q.x*l.y-l.x*q.y;k+=p}k/=1;b.push(k/-2)}return b};return a}();c.aM=h;h=function(){function b(){}b.$B=function(a,d,c,e,f,h,k){b.iD[a.kc()]=d;0==isNaN(c)&&(b.kD[a.kc()]=c);0==isNaN(e)&&(b.uD[a.kc()]=e);0==isNaN(f)&&(b.gD[a.kc()]=
f);b.nD[a.kc()]=h;null!==k&&(b.pD[a.kc()]=k)};b.Ix=function(a,d,c){b.sD[a.kc()+"-"+d.kc()]=c};b.lc=function(a){a=b.iD[a.kc()];if(void 0==a)throw c.g.af();return a};b.ce=function(a){a=b.kD[a.kc()];if(void 0==a)throw c.g.af();return a};b.hw=function(a){a=b.uD[a.kc()];if(void 0==a)throw c.g.af();return a};b.Sv=function(a){a=b.gD[a.kc()];if(void 0==a)throw c.g.af();return a};b.Ch=function(a){a=b.pD[a.kc()];if(void 0==a)throw c.g.af();return c.h.pa(a[0],a[1],a[2],a[3])};b.Ic=function(a){a=b.nD[a.kc()];
if(void 0==a)throw c.g.af();return a};b.Vg=function(a,d,e){if(d.Eb(e))return a;var f=b.sD[d.kc()+"-"+e.kc()];if(void 0!==f)return f(a,d,e);throw c.g.af();};b.nu=function(){throw c.g.af();};b.tS=function(){throw c.g.af();};b.xW=function(){throw c.g.af();};b.Ok=function(){throw c.g.af();};b.WW=function(){var b=c.ve.create(102100),e=c.ve.create(3857),f=c.ve.create(4326);c.fb.$B(b,f,NaN,NaN,NaN,!1,null);c.fb.$B(f,f,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);c.fb.$B(e,f,NaN,NaN,NaN,!1,null);
c.fb.Ix(b,f,a);c.fb.Ix(f,b,d);c.fb.Ix(e,f,a);c.fb.Ix(f,e,d)};b.iD=[];b.kD=[];b.uD=[];b.gD=[];b.nD=[];b.pD=[];b.sD=[];return b}();c.fb=h})(u||(u={}));u.fb.WW();(function(c){var e=function(){function e(b){this.f=null;this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=b}e.prototype.jd=function(b){b<this.Gf?(this.f[b*this.dd]=this.jh,this.jh=b):this.Gf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.dd+a]};e.prototype.R=function(b,a,d){this.f[b*this.dd+a]=d};e.prototype.Me=function(){var b=
this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?c.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw c.g.vd();this.Io(b)}b=this.Gf;this.Gf++}else this.jh=this.f[b*this.dd];this.size++;for(var a=b*this.dd+this.dd,d=b*this.dd;d<a;d++)this.f[d]=-1;return b};e.prototype.pl=function(b){var a=this.jh;if(-1==a){if(this.Gf==this.xd){a=0!=this.xd?c.J.truncate(3*(this.xd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.xd)throw c.g.vd();this.Io(a)}a=this.Gf;this.Gf++}else this.jh=
this.f[a*this.dd];this.size++;for(var d=a*this.dd,e=this.dd,h=0;h<e;h++)this.f[d+h]=b[h];return a};e.prototype.Wi=function(b){this.jh=-1;this.size=this.Gf=0;b&&(this.f=null,this.xd=0)};e.prototype.Ne=function(b){b>this.xd&&this.Io(b)};e.prototype.ay=function(b,a,d){var c=this.f[this.dd*a+d];this.f[this.dd*a+d]=this.f[this.dd*b+d];this.f[this.dd*b+d]=c};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(b){return 0<=b};e.prototype.Io=function(b){null==this.f&&(this.f=[]);this.xd=b};
return e}();c.Zc=e;e=function(){function e(b){this.f=new Int32Array(0);this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=b}e.prototype.jd=function(b){b<this.Gf?(this.f[b*this.dd]=this.jh,this.jh=b):this.Gf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.dd+a]};e.prototype.R=function(b,a,d){this.f[b*this.dd+a]=d};e.prototype.Me=function(){var b=this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?c.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw c.g.vd();
this.Io(b)}b=this.Gf;this.Gf++}else this.jh=this.f[b*this.dd];this.size++;for(var a=b*this.dd;a<b*this.dd+this.dd;a++)this.f[a]=-1;return b};e.prototype.pl=function(b){var a=this.jh;if(-1==a){if(this.Gf==this.xd){a=0!=this.xd?c.J.truncate(3*(this.xd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.xd)throw c.g.vd();this.Io(a)}a=this.Gf;this.Gf++}else this.jh=this.f[a*this.dd];this.size++;for(var d=a*this.dd,e=0;e<b.length;e++)this.f[d+e]=b[e];return a};e.prototype.Wi=function(b){this.jh=-1;this.size=
this.Gf=0;b&&(this.f=null,this.xd=0)};e.prototype.Ne=function(b){b>this.xd&&this.Io(b)};e.prototype.ay=function(b,a,d){var c=this.f[this.dd*a+d];this.f[this.dd*a+d]=this.f[this.dd*b+d];this.f[this.dd*b+d]=c};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(b){return 0<=b};e.prototype.Io=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.dd*b);a.set(this.f,0);this.f=a;this.xd=b};return e}();c.zN=e;!0===c.Yh.Gm&&(c.Zc=c.zN)})(u||(u={}));(function(c){var e;
(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var g=function(){function a(a){this.Ze=a;this.Xh=NaN;this.dI=new c.Bg;this.eI=new c.Bg;this.kt=new c.yc;this.lt=new c.yc}a.prototype.compare=function(a,b,c){a=a.ia(c);this.Ze.TB(b,this.dI);this.Ze.TB(a,this.eI);b=
this.dI.get();a=this.eI.get();this.kt.I(b.ua,b.sa);this.lt.I(a.ua,a.sa);if(this.kt.la<this.lt.ga)return-1;if(this.kt.ga>this.lt.la)return 1;c=b.ra==b.oa;var d=a.ra==a.oa;if(c||d){if(c&&d)return 0;if(b.ra==a.ra&&b.ua==a.ua)return c?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return c?-1:1}c=b.kf(this.Xh,this.kt.ga);d=a.kf(this.Xh,this.lt.ga);c==d&&(c=Math.min(b.oa,a.oa),d=.5*(c+this.Xh),d==this.Xh&&(d=c),c=b.kf(d,this.kt.ga),d=a.kf(d,this.lt.ga));return c<d?-1:c>d?1:0};a.prototype.FK=function(a){this.Xh=a};return a}(),
b=function(){function a(a){this.bb=a;this.YI=new c.Bg;this.ag=new c.b;this.fB=new c.yc}a.prototype.JX=function(a){this.ag.L(a)};a.prototype.compare=function(a,b){this.bb.TB(a.ia(b),this.YI);a=this.YI.get();this.fB.I(a.ua,a.sa);if(this.ag.x<this.fB.ga)return-1;if(this.ag.x>this.fB.la)return 1;a=a.kf(this.ag.y,this.ag.x);return this.ag.x<a?-1:this.ag.x>a?1:0};return a}();e=function(){function a(){this.gI=this.dj=this.gj=this.WA=this.To=this.Ve=this.Qc=this.Fh=this.Ae=null;this.zp=this.Rg=-1;this.fI=
!0;this.$A=!1;this.XA=NaN;this.nj=new c.Yd;this.zP=2147483647;this.yP=c.J.truncate(-2147483648);this.wg=this.ue=this.pm=this.rr=this.wn=this.qr=this.Lt=this.nf=-1;this.qa=0}a.prototype.cz=function(a){this.XA=a};a.prototype.Sn=function(){null==this.Ae&&(this.Ae=new c.Zc(8));var a=this.Ae.Me();this.Ae.R(a,1,0);return a};a.prototype.KV=function(){null==this.Qc&&(this.Qc=new c.Zc(8));var a=this.Qc.Me();this.Qc.R(a,2,0);this.Qc.R(a,3,0);var b=this.Qc.Me();this.Qc.R(b,2,0);this.Qc.R(b,3,0);this.nK(a,b);
this.nK(b,a);return a};a.prototype.jJ=function(){null==this.Ve&&(this.Ve=new c.Zc(8));var a=this.Ve.Me();this.Ve.R(a,2,0);return a};a.prototype.uX=function(a,b){this.Ae.R(a,7,b)};a.prototype.jo=function(a,b){this.Ae.R(a,2,b)};a.prototype.tX=function(a,b){this.Ae.R(a,1,b)};a.prototype.KX=function(a,b){this.Ae.R(a,3,b)};a.prototype.HX=function(a,b){this.Ae.R(a,4,b)};a.prototype.Ur=function(a,b){this.Ae.R(a,5,b)};a.prototype.wS=function(a){return this.Ae.S(a,5)};a.prototype.sX=function(a,b){this.Ae.R(a,
6,b)};a.prototype.yO=function(a,b){this.sX(b,a)};a.prototype.mK=function(a,b){this.Qc.R(a,1,b)};a.prototype.nK=function(a,b){this.Qc.R(a,4,b)};a.prototype.Dm=function(a,b){this.Qc.R(a,5,b)};a.prototype.Cm=function(a,b){this.Qc.R(a,6,b)};a.prototype.zX=function(a,b){this.Qc.R(a,2,b)};a.prototype.Nx=function(a,b){this.Qc.R(a,3,b)};a.prototype.OG=function(a){return this.Qc.S(a,3)};a.prototype.wu=function(a,b){this.Qc.R(a,7,b)};a.prototype.kL=function(a,b){if(-1!=this.fn(a))for(b=b?-1:a,a=this.fn(a);-1!=
a;a=this.it(a))this.a.Va(this.Yj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.kL(a,b),this.kL(this.Aa(a),b))};a.prototype.uu=function(a,b){this.Ve.R(a,1,b)};a.prototype.qh=function(a,b){this.Ve.R(a,2,b)};a.prototype.fo=function(a,b){this.Ve.R(a,3,b);this.qX(a,this.vS(b));this.pX(b,a)};a.prototype.pX=function(a,b){this.Ve.R(a,4,b)};a.prototype.qX=function(a,b){this.Ve.R(a,5,b)};a.prototype.hK=function(a,b){this.Ve.R(a,6,b)};a.prototype.fK=function(a,b){this.Ve.R(a,7,b)};a.prototype.eK=
function(a,b){this.To.write(a,b)};a.prototype.gK=function(a,b){this.WA.write(a,b)};a.prototype.MY=function(a){var b=0,d=0,e=this.EG(a),g=new c.b,l=new c.b,p=new c.b;this.Ws(e,g);l.L(g);var m=e;do this.en(m,p),d+=c.b.Cb(l,p),this.Af(this.Aa(m))!=a&&(b+=(p.x-g.x-(l.x-g.x))*(p.y-g.y+(l.y-g.y))*.5),l.L(p),m=this.qc(m);while(m!=e);this.To.write(a,b);this.WA.write(a,d)};a.prototype.fW=function(a){var d=new g(this),e=new c.xk;e.Ne(c.J.truncate(this.qa/2));e.Lp(d);for(var k=new c.ha(0),l=this.xh(),p=null,
m=0,n=new c.b,u=this.nf;-1!=u;u=this.ng(u)){m++;var t=this.gf(u);if(-1!=t){k.uf(0);if(!this.FY(e,l,k,t)){this.w(u,n);d.FK(n.y);var w=t;do{var x=this.Kb(w,l);-1!=x&&(e.Jd(x,-1),this.Ob(w,l,-2));w=this.qc(this.Aa(w))}while(t!=w);w=t;do x=this.Kb(w,l),-1==x&&(x=e.addElement(w,-1),k.add(x)),w=this.qc(this.Aa(w));while(t!=w)}for(t=k.size-1;0<=t;t--)x=k.get(t),w=e.ia(x),this.Ob(this.Aa(w),l,x),this.eW(e,x,a)}else-1==this.Nz(u)&&(null==p&&(p=new b(this)),this.w(u,n),p.JX(n),w=e.lX(p),t=this.pm,-1!=w&&(x=
e.ia(w),this.Af(x)==this.Af(this.Aa(x))&&(x=this.QG(e,w)),-1!=x&&(t=this.Af(x))),this.yO(t,u))}this.oi(l)};a.prototype.eW=function(a,b,c){var d=a.ia(b),e=this.Af(d);if(-1==this.Co(e)){var f=this.QG(a,b),h=this.Aa(d),g=this.Af(h);this.Dq(e);this.Dq(g);var l=this.Co(e),p=this.Co(g);-1==f&&-1==l&&(g==e?(this.fo(g,this.pm),l=p=this.pm):(-1==p&&(this.fo(g,this.pm),p=this.pm),this.fo(e,g),l=g));if(-1!=f){var m=this.Af(f);-1==p&&(0>=this.Dq(m)?(p=this.Co(m),this.fo(g,p)):(this.fo(g,m),p=m),g==e&&(l=p))}-1==
l&&this.GY(e,g);0==c?this.EW(a,b,d,f,e,g):5==c?this.FW(a,b,d,h,e,g):4==c&&this.DW(d,f,e,g)}};a.prototype.EW=function(a,b,c,e,g,l){var d=this.Kk(g);if(-1!=e){var f=this.Kk(l),h=this.Kk(this.Af(e));e=d&f&h;h^=h&this.Ah(c);h|=e;0!=h&&(this.qh(l,f|h),this.qh(g,h|d),d=d||h)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ia(b);c=this.Af(this.Aa(e));g=this.Kk(c);l=this.Ah(e);f=this.Af(e);h=this.Kk(f);e=g&h&d;d^=d&l;d|=e;if(0==d)break;this.qh(c,g|d);this.qh(f,h|d)}};a.prototype.FW=function(a,b,e,k,g,l){if(g!=l){e=this.Kb(e,
this.wg);e+=this.Kb(k,this.wg);k=0;var d=new c.ha(0),f=new c.ha(0);f.add(0);for(var h=a.wc(-1);h!=b;h=a.nb(h)){var q=a.ia(h),p=this.Aa(q),m=this.Af(q),n=this.Af(p);if(m!=n){q=this.Kb(q,this.wg);q+=this.Kb(p,this.wg);k+=q;p=!1;0!=d.size&&d.Ec()==n&&(f.Mf(),d.Mf(),p=!0);if(-1==this.Co(n))throw c.g.za();p&&this.Co(n)==m||(f.add(k),d.add(m))}}k+=e;0!=d.size&&d.Ec()==l&&(f.Mf(),d.Mf());0!=k?0==f.Ec()&&(a=this.a.qd,a=this.Ia(a),this.qh(g,a)):0!=f.Ec()&&(a=this.a.qd,a=this.Ia(a),this.qh(g,a))}};a.prototype.DW=
function(a,b,c,e){var d=this.Ia(this.a.qd);if(-1==b)this.qh(e,this.zp),a=this.Kb(a,this.Rg),0!=(a&1)?this.qh(c,d):this.qh(c,this.zp);else{var f=this.Kk(e);0==f&&(f=this.Kk(this.Af(b)),this.qh(e,f));a=this.Kb(a,this.Rg);0!=(a&1)?this.qh(c,f==d?this.zp:d):this.qh(c,f)}};a.prototype.FY=function(a,b,c,e){var d=e,f=-1,h=-1,k=0;do{if(2==k)return!1;var g=this.Kb(d,b);if(-1!=g){if(-1!=f)return!1;f=g}else{if(-1!=h)return!1;h=d}k++;d=this.qc(this.Aa(d))}while(e!=d);if(-1==h||-1==f)return!1;this.Ob(a.ia(f),
b,-2);a.pk(f,h);c.add(f);return!0};a.prototype.GY=function(a,b){var d=this.Dq(a);if(0!=d){var c=this.Dq(b);0<d&&0>c?this.fo(a,b):0>d&&0<c?this.fo(a,b):(d=this.Co(b),-1!=d&&this.fo(a,d))}};a.prototype.QQ=function(a,b){this.rr=this.a.Sd();for(var d=0,e=b.size;d<e;d++){var f=b.get(d),g=this.a.Sa(f,this.wn),l=this.a.mg(this.a.kd(f)),p=this.a.ic(l);if(c.T.Hc(p)){var m=this.a.U(f);if(-1!=m){var n=this.a.Sa(m,this.wn);if(g!=n){var u=this.KV(),t=this.Aa(u),w=this.Fh.Me();this.Fh.R(w,0,f);this.Fh.R(w,1,-1);
this.wu(u,w);this.mK(u,g);w=this.gf(g);-1==w?(this.jo(g,u),this.Dm(u,t),this.Cm(t,u)):(g=this.Qe(w),this.Dm(w,t),this.Cm(t,w),this.Cm(g,u),this.Dm(u,g));this.mK(t,n);g=this.gf(n);-1==g?(this.jo(n,t),this.Cm(u,t),this.Dm(t,u)):(n=this.Qe(g),this.Dm(g,u),this.Cm(u,g),this.Cm(n,t),this.Dm(t,n));l=this.Ia(l);0==a?(this.Ob(t,this.ue,0),this.Ob(u,this.ue,1736==p?l:0)):5==a?(n=new c.b,this.a.w(f,n),f=new c.b,this.a.w(m,f),g=m=0,0>n.compare(f)?m=1:g=-1,this.Ob(t,this.ue,0),this.Ob(u,this.ue,0),this.Ob(u,
this.wg,m),this.Ob(t,this.wg,g)):7==a?(this.Ob(t,this.ue,this.zp),this.Ob(u,this.ue,1736==p?l:0)):4==a&&(this.Ob(t,this.ue,0),this.Ob(u,this.ue,0),this.Ob(u,this.Rg,1),this.Ob(t,this.Rg,1));p=1736==p?this.yP:0;this.Nx(u,l|p);this.Nx(t,l|p)}}}}};a.prototype.yV=function(a,b){var d=this.fn(b);if(-1!=d){var c=this.fn(a);this.Fh.R(d,1,c);this.wu(a,d);this.wu(b,-1)}a=this.Aa(a);b=this.Aa(b);d=this.fn(b);-1!=d&&(c=this.fn(a),this.Fh.R(d,1,c),this.wu(a,d),this.wu(b,-1))};a.prototype.gY=function(a){function b(a,
b){return e.gQ(a,b)}var d=new c.ha(0);d.zb(10);for(var e=this,g=this.nf;-1!=g;g=this.ng(g)){d.clear(!1);var l=this.gf(g);if(-1!=l){var p=l;do d.add(p),p=this.qc(this.Aa(p));while(p!=l);if(1<d.size){p=!0;if(2<d.size)d.Fd(0,d.size,b),d.add(d.get(0));else if(0<this.fQ(d.get(0),d.get(1))){var m=d.get(0);d.set(0,d.get(1));d.set(1,m)}else p=!1;for(var n=m=d.get(0),u=this.Uf(n),t=this.Aa(n),w=-1,x=1,y=d.size;x<y;x++){var z=d.get(x),A=this.Aa(z),B=this.Mk(A);if(B==u&&z!=n){if(0==a)w=this.OG(n)|this.OG(z),
this.Nx(n,w),this.Nx(t,w),this.Ob(n,this.ue,this.Kb(n,this.ue)|this.Kb(z,this.ue)),this.Ob(t,this.ue,this.Kb(t,this.ue)|this.Kb(A,this.ue));else if(-1!=this.wg)w=this.Kb(n,this.wg)+this.Kb(z,this.wg),A=this.Kb(t,this.wg)+this.Kb(A,this.wg),this.Ob(n,this.wg,w),this.Ob(t,this.wg,A);else{if(7==a){this.nj=new c.Yd(5,g,-1);return}-1!=this.Rg&&(w=this.Kb(n,this.Rg)+this.Kb(z,this.Rg),A=this.Kb(t,this.Rg)+this.Kb(A,this.Rg),this.Ob(n,this.Rg,w),this.Ob(t,this.Rg,A))}this.yV(n,z);this.rz(z);w=n;d.set(x,
-1);z==m&&(d.set(0,-1),m=-1)}else this.ey(w,!1),w=-1,n=z,u=B,t=A}this.ey(w,!1);w=-1;if(p){m=-1;x=0;for(y=d.size;x<y;x++)if(z=d.get(x),-1!=z)if(-1==m)n=m=z,u=this.Uf(n),t=this.Aa(n);else if(z!=n&&(A=this.Aa(z),B=this.Mk(A),this.Cm(t,z),this.Dm(z,t),n=z,u=B,t=A,7==a&&(this.Kb(z,this.ue)|this.Kb(this.Qe(z),this.ue))==(this.zp|1))){this.nj=new c.Yd(5,g,-1);return}this.jo(g,m)}else{m=-1;x=0;for(y=d.size;x<y;x++)if(z=d.get(x),-1!=z){m=z;break}l!=m&&this.jo(g,m)}}}}};a.prototype.vP=function(){for(var a=
-1,b=this.xh(),e=this.nf;-1!=e;e=this.ng(e)){var k=this.gf(e);if(-1!=k){var g=k;do{if(1!=this.Kb(g,b)){var l=this.jJ();this.uu(l,g);this.fK(l,a);-1!=a&&this.hK(a,l);var a=l,p=0,m=g;do p|=this.Kb(m,this.ue),this.zX(m,l),this.Ob(m,b,1),m=this.qc(m);while(m!=g);this.qh(l,p)}g=this.qc(this.Aa(g))}while(g!=k)}}l=this.jJ();this.uu(l,-1);this.fK(l,a);-1!=a&&this.hK(a,l);this.pm=l;this.To=c.Pd.yd(this.Ve.size,NaN);this.WA=c.Pd.yd(this.Ve.size,NaN);this.eK(this.pm,Infinity);this.gK(this.pm,Infinity);this.oi(b)};
a.prototype.JS=function(a,b,c){b=-1!=b?b:this.gf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,c))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.$W=function(){for(var a=this.xh(),b=this.nf;-1!=b;b=this.ng(b))for(var c=-1;;){var e=this.JS(b,c,a);if(-1==e)break;for(var c=this.qc(this.Aa(e)),g=e;;){var l=this.qc(g),p=this.Qe(g),m=this.Aa(g);if(p==m){this.bR(g);if(c==g||c==m)c=-1;if(g==e||p==e){e=l;if(g==e||p==e)break;g=l;continue}}else this.Ob(g,a,1);g=l;if(g==e)break}}};a.prototype.pC=
function(a,b,e,k){this.ph();this.fI=k;this.a=a;this.qr=this.a.gG();a=new c.ha(0);a.zb(null!=e?this.a.D(e.get(0)):this.a.ud);var d=0,f=1,h=null!=e?e.get(0):this.a.qd;for(k=1;-1!=h;){this.a.lK(h,this.qr,f);for(var f=f<<1,g=this.a.Pb(h);-1!=g;g=this.a.Sb(g))for(var l=this.a.cb(g),p=0,m=this.a.La(g);p<m;p++)a.add(l),l=this.a.U(l);c.T.Po(this.a.ic(h))||(d+=this.a.aa(h));null!=e?(h=k<e.size?e.get(k):-1,k++):h=this.a.Re(h)}this.zp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Fh&&(this.Fh=new c.Zc(2),
this.Ae=new c.Zc(8),this.Qc=new c.Zc(8),this.Ve=new c.Zc(8));this.Fh.Ne(this.qa);this.Ae.Ne(this.qa+10);this.Qc.Ne(2*this.qa+32);this.Ve.Ne(Math.max(32,d));this.wn=this.a.Sd();e=new c.b;k=0;d=new c.b;e.Yc();for(f=0;f<=this.qa;f++)if(f<this.qa?(l=a.get(f),this.a.w(l,d)):d.Yc(),!e.vb(d)){if(k<f){l=this.Sn();for(m=p=-1;k<f;k++)m=a.get(k),this.a.Va(m,this.wn,l),h=this.Fh.Me(),this.Fh.R(h,0,m),this.Fh.R(h,1,p),p=h,g=this.a.kd(m),h=this.a.mg(g),h=this.Ia(h),this.tX(l,this.Ld(l)|h);this.uX(l,p);this.Ur(l,
this.a.Za(m));-1!=this.Lt&&this.HX(this.Lt,l);this.KX(l,this.Lt);this.Lt=l;-1==this.nf&&(this.nf=l)}k=f;e.L(d)}this.ue=this.xh();5==b&&(this.wg=this.xh());4==b&&(this.Rg=this.xh());this.QQ(b,a);0==this.nj.Ji&&(this.gY(b),0==this.nj.Ji&&(isNaN(this.XA)||this.XP()?(this.vP(),0==this.nj.Ji&&(this.oi(this.ue),this.ue=-1,this.fI&&this.fW(b))):this.$A=!0))};a.prototype.rz=function(a){var b=this.qc(a),d=this.Qe(a),c=this.Aa(a),e=this.qc(c),g=this.Qe(c);b!=c&&(this.Cm(g,b),this.Dm(b,g));d!=c&&(this.Cm(d,
e),this.Dm(e,d));d=this.Mk(a);this.gf(d)==a&&(e!=a?this.jo(d,e):this.jo(d,-1));e=this.Mk(c);this.gf(e)==c&&(b!=c?this.jo(e,b):this.jo(e,-1));this.Qc.jd(a);this.Qc.jd(c)};a.prototype.QG=function(a,b){for(;;)if(b=a.Se(b),-1!=b){var d=a.ia(b);if(this.Af(d)!=this.Af(this.Aa(d)))return d}else return-1};a.prototype.Vr=function(a,b,c){void 0===c&&(c=!0);this.pC(a,0,null,c)};a.prototype.aK=function(a,b){var d=new c.ha(0);d.add(b);this.pC(a,4,d,1736==a.ic(b))};a.prototype.bK=function(a,b){var d=new c.ha(0);
d.add(b);this.pC(a,5,d,!0)};a.prototype.ph=function(){null!=this.a&&(-1!=this.qr&&(this.a.ZW(this.qr),this.qr=-1),-1!=this.wn&&(this.a.je(this.wn),this.wn=-1),-1!=this.rr&&(this.a.je(this.rr),this.rr=-1),-1!=this.ue&&(this.oi(this.ue),this.ue=-1),-1!=this.wg&&(this.oi(this.wg),this.wg=-1),-1!=this.Rg&&(this.oi(this.Rg),this.Rg=-1),this.a=null,this.Ae.Wi(!0),this.Fh.Wi(!0),this.Lt=this.nf=-1,null!=this.Qc&&this.Qc.Wi(!0),null!=this.gj&&(this.gj.length=0),null!=this.dj&&(this.dj.length=0),null!=this.gI&&
(this.gI.length=0),null!=this.Ve&&this.Ve.Wi(!0),this.pm=-1,this.To=null)};a.prototype.gf=function(a){return this.Ae.S(a,2)};a.prototype.w=function(a,b){this.a.gH(this.wS(a),b)};a.prototype.Ld=function(a){return this.Ae.S(a,1)};a.prototype.ng=function(a){return this.Ae.S(a,4)};a.prototype.Nz=function(a){return this.Ae.S(a,6)};a.prototype.dn=function(a){return this.Ae.S(a,7)};a.prototype.it=function(a){return this.Fh.S(a,1)};a.prototype.Yj=function(a){return this.Fh.S(a,0)};a.prototype.Gg=function(a,
b){b=this.dj[b];return b.size<=a?-1:b.read(a)};a.prototype.ko=function(a,b,c){b=this.dj[b];b.size<=a&&b.resize(this.Ae.size,-1);b.write(a,c)};a.prototype.wq=function(){null==this.dj&&(this.dj=[]);for(var a=c.ha.yd(this.Ae.xd,-1),b=0,e=this.dj.length;b<e;b++)if(null==this.dj[b])return this.dj[b]=a,b;this.dj.push(a);return this.dj.length-1};a.prototype.xq=function(a){this.dj[a]=null};a.prototype.Mk=function(a){return this.Qc.S(a,1)};a.prototype.Uf=function(a){return this.Mk(this.Aa(a))};a.prototype.Aa=
function(a){return this.Qc.S(a,4)};a.prototype.Qe=function(a){return this.Qc.S(a,5)};a.prototype.qc=function(a){return this.Qc.S(a,6)};a.prototype.Af=function(a){return this.Qc.S(a,2)};a.prototype.Bf=function(a){return this.Kk(this.Qc.S(a,2))};a.prototype.fn=function(a){return this.Qc.S(a,7)};a.prototype.Ws=function(a,b){this.w(this.Mk(a),b)};a.prototype.en=function(a,b){this.w(this.Uf(a),b)};a.prototype.Ah=function(a){return this.Qc.S(a,3)&this.zP};a.prototype.Kb=function(a,b){b=this.gj[b];return b.size<=
a?-1:b.read(a)};a.prototype.Ob=function(a,b,c){b=this.gj[b];b.size<=a&&b.resize(this.Qc.size,-1);b.write(a,c)};a.prototype.xh=function(){null==this.gj&&(this.gj=[]);for(var a=c.ha.yd(this.Qc.xd,-1),b=0,e=this.gj.length;b<e;b++)if(null==this.gj[b])return this.gj[b]=a,b;this.gj.push(a);return this.gj.length-1};a.prototype.oi=function(a){this.gj[a]=null};a.prototype.bR=function(a){var b=this.Af(a),d=this.qc(a);d==this.Aa(a)&&(d=this.qc(d),d==a&&(d=-1));this.EG(b)==a&&this.uu(b,d);d=this.To.read(b);isNaN(d)||
(this.eK(b,NaN),this.gK(b,NaN));this.ey(a,!0);this.rz(a)};a.prototype.cR=function(a){for(var b=0,d=a.size;b<d;b++){var c=a.get(b),e=this.Af(this.Aa(c));this.uu(this.Af(c),-1);this.uu(e,-1);this.ey(c,!0);this.rz(c)}};a.prototype.EG=function(a){return this.Ve.S(a,1)};a.prototype.Kk=function(a){return this.Ve.S(a,2)};a.prototype.Co=function(a){return this.Ve.S(a,3)};a.prototype.vS=function(a){return this.Ve.S(a,4)};a.prototype.Dq=function(a){var b=this.To.read(a);isNaN(b)&&(this.MY(a),b=this.To.read(a));
return b};a.prototype.Ia=function(a){return this.a.NG(a,this.qr)};a.prototype.ff=function(a){return this.a.Sa(a,this.wn)};a.prototype.MS=function(a){return this.a.Sa(a,this.rr)};a.prototype.LS=function(a,b){var d=this.gf(a);if(-1==d)return-1;var c=d,e=-1,f=-1;do{if(this.Uf(c)==b)return c;if(-1==e){e=this.gf(b);if(-1==e)break;f=e}if(this.Uf(f)==a)return c=this.Aa(f);c=this.qc(this.Aa(c));f=this.qc(this.Aa(f))}while(c!=d&&f!=e);return-1};a.prototype.TB=function(a,b){b.Hs();b=b.get();var d=new c.b;this.Ws(a,
d);b.Lc(d);this.en(a,d);b.Xc(d)};a.prototype.gQ=function(a,b){if(a==b)return 0;var d=new c.b;this.en(a,d);var e=new c.b;this.en(b,e);if(d.vb(e))return 0;b=new c.b;this.Ws(a,b);a=new c.b;a.xc(d,b);d=new c.b;d.xc(e,b);return c.b.ts(a,d)};a.prototype.fQ=function(a,b){if(a==b)return 0;var d=new c.b;this.en(a,d);var e=new c.b;this.en(b,e);if(d.vb(e))return 0;b=new c.b;this.Ws(a,b);a=new c.b;a.xc(d,b);d=new c.b;d.xc(e,b);return 0<=d.y&&0<a.y?c.b.ts(a,d):0};a.prototype.XP=function(){for(var a=c.Ub.Yx(this.XA),
b=new c.b,e=new c.b,k=new c.b,g=new c.b,l=new c.b,p=this.nf;-1!=p;p=this.ng(p)){var m=this.gf(p);if(-1!=m){var n=m;this.Ws(n,b);this.en(n,e);l.xc(e,b);var u=l.uk();do{var t=n,n=this.qc(this.Aa(n));if(n!=t){this.en(n,k);g.xc(k,b);var t=g.uk(),w=g.Vi(l);if(w*w/(t*u)*Math.min(t,u)<=a)return!1;l.L(g);u=t;e.L(k)}}while(n!=m)}}return!0};return a}();c.Vu=e})(u||(u={}));(function(c){var e=function(){function e(){this.i=null;this.nI=new c.b;this.oI=new c.b;this.Nh=null;this.rt=!1;this.bp=-1}e.prototype.Df=
function(b){return b<this.Nh.length?this.Nh[b]:!1};e.prototype.Ml=function(b,a,d,e){var f=c.T.hf(this.i.a.ic(d));if(2==c.T.hf(this.i.a.ic(a))&&1==f)this.WQ(b,a,d,e);else throw c.g.za();};e.prototype.Vr=function(b,a){null==this.i&&(this.i=new c.Vu);this.i.Vr(b,a)};e.prototype.Wr=function(b,a,d){c.vk.V(b,a,d,!0);for(a=b.qd;-1!=a;a=b.Re(a))1736==b.ic(a)&&c.so.V(b,a,-1,this.rt,d);this.Vr(b,d)};e.prototype.SF=function(b,a,d,c,e){var f=this.i.a;if(1736==f.ic(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var h=f.cb(b);
this.i.ff(h);this.i.ff(f.U(h));var g=this.i.MS(h);if(-1!=g){var l=this.i.Kb(g,d);if(1!=l&&2!=l)if(this.Df(this.i.Bf(g))){this.i.Ob(g,d,1);var l=f.Vf(a,-1),p=g,m=this.i.ff(h),n=1;do{var u=this.nn(h,e);f.Oj(l,u);-1!=c&&this.i.ko(m,c,1);this.i.Ob(p,d,1);var p=this.i.qc(p),t;do u=1==n?f.U(h):f.Ra(h),t=-1!=u?this.i.ff(u):-1;while(t==m);var w=this.i.Mk(p);if(w!=t){do u=1==n?f.Ra(h):f.U(h),t=-1!=u?this.i.ff(u):-1;while(t==m);w!=t?(t=w,u=this.i.Yj(this.i.dn(t))):n=-n}m=t;h=u}while(p!=g);f.ho(l,!0)}else this.i.Ob(g,
d,2)}}};e.prototype.lG=function(){for(var b=this.i.xh(),a=new c.ha(0),d=this.i.nf;-1!=d;d=this.i.ng(d)){var e=this.i.gf(d),h=e;if(-1!=e){do{if(1!=this.i.Kb(h,b)){var k=this.i.Aa(h);this.i.Ob(k,b,1);this.i.Ob(h,b,1);this.Df(this.i.Bf(h))&&this.Df(this.i.Bf(k))&&a.add(h)}h=this.i.qc(this.i.Aa(h))}while(h!=e)}}this.i.oi(b);this.i.cR(a)};e.prototype.nn=function(b,a){return-1==a?b:this.wT(b,a)};e.prototype.wT=function(b,a){var d=this.i.a,c,e,k=this.i.dn(this.i.ff(b));do{c=this.i.Yj(k);e=d.mg(d.kd(c));
if(e==a)return c;k=this.i.it(k)}while(-1!=k);return b};e.prototype.ds=function(b,a,d){this.lG();var e=this.i.a,h=e.ah(1736),k=this.i.xh();this.WK(b,a,h,d,k,-1);this.i.oi(k);c.so.V(e,h,1,this.rt,null);return h};e.prototype.WK=function(b,a,d,c,e,k){this.SF(b,d,e,k,c);-1!=a&&this.SF(a,d,e,k,c);b=this.i.a;for(a=this.i.nf;-1!=a;a=this.i.ng(a)){var f=this.i.gf(a);if(-1!=f){var h=f;do{var g=this.i.Kb(h,e);if(1!=g&&2!=g)if(this.Df(this.i.Bf(h))){var g=b.Vf(d,-1),l=h;do{var p=this.i.fn(l);-1!=p?p=this.i.Yj(p):
(p=this.i.Yj(this.i.fn(this.i.Aa(l))),p=this.i.a.U(p));p=this.nn(p,c);b.Oj(g,p);this.i.Ob(l,e,1);-1!=k&&(p=this.i.ff(p),this.i.ko(p,k,1));l=this.i.qc(l)}while(l!=h);b.ho(g,!0)}else this.i.Ob(h,e,2);h=this.i.qc(this.i.Aa(h))}while(h!=f)}}};e.prototype.yY=function(b,a,d){var e=this.i.a,h=e.ah(1736),k=e.ah(1607),g=e.ah(550);this.lG();var l=-1,p=this.i.xh(),m=this.i.wq();this.WK(b,a,h,d,p,m);for(b=this.i.nf;-1!=b;b=this.i.ng(b))if(a=this.i.gf(b),-1!=a){var n=a;do{var u=this.i.Kb(n,p),t=this.i.Kb(this.i.Aa(n),
p),u=u|t;if(2==u)if(u=this.i.Ah(n),this.Df(u)){var w=e.Vf(k,-1),x=n,u=this.Jx(b,e),u=this.nn(u,d);e.Oj(w,u);this.i.ko(b,m,1);do{u=this.i.Uf(x);t=this.Jx(u,e);t=this.nn(t,d);e.Oj(w,t);this.i.Ob(x,p,1);this.i.Ob(this.i.Aa(x),p,1);this.i.ko(u,m,1);x=this.i.qc(x);u=this.i.Kb(x,p);t=this.i.Kb(this.i.Aa(x),p);u|=t;if(2!=u)break;u=this.i.Ah(x);if(!this.Df(u)){this.i.Ob(x,p,1);this.i.Ob(this.i.Aa(x),p,1);break}}while(x!=n)}else this.i.Ob(n,p,1),this.i.Ob(this.i.Aa(n),p,1);n=this.i.qc(this.i.Aa(n))}while(n!=
a)}for(b=this.i.nf;-1!=b;b=this.i.ng(b))u=this.i.Gg(b,m),1!=u&&(u=this.i.Ld(b),this.Df(u)&&(-1==l&&(l=e.Vf(g,-1)),a=this.i.dn(b),-1!=a&&(a=this.i.Yj(a),u=this.nn(a,d),e.Oj(l,u))));this.i.xq(m);this.i.oi(p);c.so.V(e,h,1,this.rt,null);d=[];d[0]=g;d[1]=k;d[2]=h;return d};e.prototype.Jx=function(b,a){var d=-1;for(b=this.i.dn(b);-1!=b;b=this.i.it(b)){var c=this.i.Yj(b);-1==d&&(d=c);var e=this.i.Ia(a.mg(a.kd(c)));if(this.Df(e)){d=c;break}}return d};e.prototype.QB=function(b,a){for(var d=this.i.Mk(a),e=
this.i.Uf(a),h=0,k=0,g=this.i.dn(d);-1!=g;g=this.i.it(g)){var l=this.i.Yj(g),p=b.kd(l),m=this.i.Ia(b.mg(p)),n=b.U(l),u=b.Ra(l),p=b.cb(p);p==l&&(this.bp=a);-1!=n&&this.i.ff(n)==e?(h++,this.Df(m)&&(p==n&&(this.bp=this.i.qc(a)),k++)):-1!=u&&this.i.ff(u)==e&&(h--,this.Df(m)&&(p==u&&(this.bp=this.i.qc(a)),k--))}this.i.w(d,this.nI);this.i.w(e,this.oI);d=c.b.Cb(this.nI,this.oI);return(0!=k?k:h)*d};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Bf(b)|this.i.Bf(this.i.Aa(b))};e.prototype.aL=function(b){for(var a=
this.i.Aa(this.i.Qe(b)),d=-1;a!=b;){if(this.Df(this.Fq(a))){if(-1!=d)return-1;d=a}a=this.i.Aa(this.i.Qe(a))}return-1!=d?this.i.Aa(d):-1};e.prototype.bL=function(b){for(var a=this.i.Aa(this.i.qc(b)),d=-1;a!=b;){if(this.Df(this.Fq(a))){if(-1!=d)return-1;d=a}a=this.i.Aa(this.i.qc(a))}return-1!=d?this.i.Aa(d):-1};e.prototype.RJ=function(b,a,d,e,h){var f=this.i.a,g=b,l=this.i.Aa(g);this.i.Ob(g,d,1);this.i.Ob(l,d,1);var p=this.QB(f,g);this.bp=-1;for(var m=g,n=-1,u=!1,t=1;;){var w=this.i.Qe(g);if(w==l)break;
l=this.i.qc(l);if(this.i.Aa(w)!=l)if(g=this.aL(g),-1==g)break;else u=!0,l=this.i.Aa(g);else g=w;if(g==b){n=b;break}w=this.Fq(g);if(!this.Df(w))break;this.i.Ob(g,d,1);this.i.Ob(l,d,1);m=g;p+=this.QB(f,g);t++}if(-1==n)for(g=b,l=this.i.Aa(g),n=g;;){b=this.i.qc(g);if(b==l)break;l=this.i.Qe(l);if(this.i.Aa(b)!=l)if(g=this.bL(g),-1==g){u=!0;break}else l=this.i.Aa(g);else g=b;w=this.Fq(g);if(!this.Df(w))break;this.i.Ob(g,d,1);this.i.Ob(l,d,1);n=g;p+=this.QB(f,g);t++}else if(-1!=this.bp&&(m=this.bp,n=this.i.Qe(this.bp),
this.i.Aa(n)!=this.i.qc(this.i.Aa(m))&&(n=this.aL(m),-1==n)))throw c.g.za();0<=p||(g=n,n=this.i.Aa(m),m=this.i.Aa(g));d=f.Vf(a,-1);g=m;m=this.i.Mk(m);u=this.i.Uf(n)==m&&u;p=this.Jx(m,f);p=this.nn(p,h);f.Oj(d,p);-1!=e&&this.i.ko(m,e,1);m=0;for(t=u?c.J.truncate((t+1)/2):-1;;){b=this.i.Uf(g);p=this.Jx(b,f);p=this.nn(p,h);f.Oj(d,p);m++;-1!=e&&this.i.ko(b,e,1);u&&m==t&&(d=f.Vf(a,-1),f.Oj(d,p));if(g==n)break;b=this.i.qc(g);if(this.i.Qe(this.i.Aa(g))!=this.i.Aa(b)){if(g=this.bL(g),-1==g)throw c.g.za();}else g=
b}};e.prototype.es=function(b){for(var a=this.i.a.ah(1607),d=this.i.xh(),c=this.i.nf;-1!=c;c=this.i.ng(c)){var e=this.i.gf(c),k=e;do 1!=this.i.Kb(k,d)&&this.Df(this.Fq(k))&&this.RJ(k,a,d,-1,b),k=this.i.qc(this.i.Aa(k));while(k!=e)}this.i.oi(d);return a};e.prototype.zY=function(b){for(var a=this.i.a,d=a.ah(1607),c=a.ah(550),e=this.i.xh(),k=this.i.wq(),g=-1,l=this.i.nf;-1!=l;l=this.i.ng(l)){var p=this.i.gf(l),m=p;do{var n=this.i.Kb(m,e);1!=n&&(n=this.Fq(m),this.Df(n)&&this.RJ(m,d,e,k,b));m=this.i.qc(this.i.Aa(m))}while(m!=
p)}for(l=this.i.nf;-1!=l;l=this.i.ng(l))n=this.i.Gg(l,k),1!=n&&(n=this.i.Ld(l),this.Df(n)&&(-1==g&&(g=a.Vf(c,-1)),p=this.i.dn(l),-1!=p&&(p=this.i.Yj(p),p=this.nn(p,b),a.Oj(g,p))));this.i.oi(e);this.i.xq(k);b=[];b[0]=c;b[1]=d;return b};e.prototype.Xp=function(){for(var b=this.i.a,a=b.ah(550),d=b.Vf(a,-1),c=this.i.nf;-1!=c;c=this.i.ng(c))if(this.Df(this.i.Ld(c))){for(var e=-1,k=this.i.dn(c);-1!=k;k=this.i.it(k)){var g=this.i.Yj(k);-1==e&&(e=g);var l=this.i.Ia(b.mg(b.kd(g)));if(this.Df(l)){e=g;break}}b.Oj(d,
e)}return a};e.prototype.Jo=function(b){this.Nh=[];for(var a=0;a<b;a++)this.Nh[a]=!1};e.fD=function(b,a,d,e){var f=b.Ka(),k=Array(1E3);c.J.Ov(k,null);var g=c.J.df(1E3,0),l=b.D(),p=!0,m=2==a.ub();if(1!=a.ub()&&2!=a.ub())throw c.g.za();for(var n=0;n<l;){var u=c.J.truncate(b.JW(k,n)-n);m?c.fd.UK(a,k,u,d,g):c.fd.VK(a,k,u,d,g);for(var t=0,w=0;w<u;w++){var x=0==g[w];e||(x=!x);x&&(p&&(p=!1,f.Hd(b,0,n)),t!=w&&f.Hd(b,n+t,n+w),t=w+1)}p||t==u||f.Hd(b,n+t,n+u);n+=u}return p?b:f};e.AH=function(b,a,d){return b instanceof
c.Dd?e.fD(b,a,d,!0):a instanceof c.Wa?b.u()||a.u()?b.Ka():c.vk.mJ(d,b,a)?c.vk.bQ(b,a):b.Ka():e.hD(b,a,d,!0)};e.nw=function(b,a,d,f){var h=new c.h;b.s(h);var k=new c.h;a.s(k);var g=new c.h;g.I(h);g.Nb(k);d=c.na.$d(d,g,!0);g=new c.h;g.I(k);k=c.na.As(d);g.P(k,k);if(!h.Yb(g)){if(b.ub()<=a.ub())return e.dc(e.N(b.Ka()),b,"\x26");if(b.ub()>a.ub())return e.dc(e.N(a.Ka()),b,"\x26")}k=new e;h=new c.ed;g=h.Jb(e.N(b));a=h.Jb(e.N(a));k.Wr(h,d,f);f=k.nw(g,a);b=e.dc(h.Pe(f),b,"\x26");c.T.Hc(b.G())&&(b.Xg(2,d),1736==
b.G()&&b.Fl());return b};e.hD=function(b,a,d,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],k=[0],g=2==a.ub();if(1!=a.ub()&&2!=a.ub())throw c.g.za();f[0]=b.w();g?c.fd.UK(a,f,1,d,k):c.fd.VK(a,f,1,d,k);a=0==k[0];e||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,d){return b instanceof c.Dd?e.fD(b,a,d,!1):a instanceof c.Wa?b.u()?b.Ka():a.u()?b:c.vk.mJ(d,b,a)?b.Ka():b:e.hD(b,a,d,!1)};e.prototype.rJ=function(b,a,d,e,h){if(b.u())return b;var f=new c.ed;b=f.Jb(b);return this.ql(f,b,a,d,
e,h)};e.prototype.dW=function(b,a,d,e,h,k){if(h&&550!=b.ic(a)){var f=new c.bE;f.qY(b,d);f.hh?(c.vk.V(b,d,k,!0),h=!1):this.i.cz(d)}else c.vk.V(b,d,k,!0),h=!1;e&&550!=b.ic(a)?this.i.bK(b,a):this.i.aK(b,a);if(this.i.$A)return this.i.ph(),this.i=null,this.ql(b,a,d,e,!1,k);this.i.cz(NaN);k=this.i.Ia(a);this.Jo(k+1);this.Nh[k]=!0;if(1736==b.ic(a)||e&&550!=b.ic(a))return b.Op(a,0),a=this.ds(a,-1,-1),b=b.Pe(a),b.Op(0),h?b.Xg(1,0):(b.Xg(2,d),b.Fl()),b;if(1607==b.ic(a))return a=this.es(-1),b=b.Pe(a),h||b.Xg(2,
d),b;if(550==b.ic(a))return a=this.Xp(),b=b.Pe(a),h||b.Xg(2,d),b;throw c.g.za();};e.prototype.ql=function(b,a,d,e,h,k){this.i=new c.Vu;try{return this.dW(b,a,d,e,h,k)}finally{this.i.ph()}};e.ql=function(b,a,d,c,h){return(new e).rJ(b,a,d,c,h)};e.prototype.cW=function(b,a,d){this.rt=b;this.i=new c.Vu;b=a.Eo(d);var e=a.ic(d);1!=b||550==e?this.i.aK(a,d):this.i.bK(a,d);if(!this.i.$A)if(this.i.cz(NaN),e=this.i.Ia(d),this.Jo(e+1),this.Nh[e]=!0,1736==a.ic(d)||1==b&&550!=a.ic(d))a.Op(d,0),b=this.ds(d,-1,-1),
a.HC(b,d),a.dC(b);else if(1607==a.ic(d))b=this.es(-1),a.HC(b,d),a.dC(b);else if(550==a.ic(d))b=this.Xp(),a.HC(b,d),a.dC(b);else throw c.g.X("internal error");};e.GC=function(b,a,d,c){var f=new e;f.rt=!0;return f.rJ(b,a,!1,d,c)};e.prototype.an=function(b,a){var d=c.T.hf(this.i.a.ic(b)),e=c.T.hf(this.i.a.ic(a));if(d>e)return b;var h=this.i.Ia(b),k=this.i.Ia(a);this.Jo((h|k)+1);this.Nh[this.i.Ia(b)]=!0;if(2==d&&2==e)return this.ds(b,a,-1);if(1==d&&2==e||1==d&&1==e)return this.es(-1);if(0==d)return this.Xp();
throw c.g.za();};e.prototype.kG=function(b,a){var d=c.T.hf(this.i.a.ic(b)),e=c.T.hf(this.i.a.ic(a));if(d>e)return b;if(d<e)return a;var h=this.i.Ia(b),k=this.i.Ia(a);this.Jo((h|k)+1);this.Nh[this.i.Ia(b)]=!0;this.Nh[this.i.Ia(a)]=!0;this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==d&&2==e)return this.ds(b,a,-1);if(1==d&&1==e)return this.es(-1);if(0==d&&0==e)return this.Xp();throw c.g.za();};e.prototype.nw=function(b,a){var d=c.T.hf(this.i.a.ic(b)),e=c.T.hf(this.i.a.ic(a)),h=this.i.Ia(b),k=this.i.Ia(a);
this.Jo((h|k)+1);this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;h=-1;1<this.i.a.Gr.Ga&&(h=b);if(2==d&&2==e)return this.ds(b,a,h);if(1==d&&0<e||1==e&&0<d)return this.es(h);if(0==d||0==e)return this.Xp();throw c.g.za();};e.prototype.yA=function(b,a){var d=c.T.hf(this.i.a.ic(b)),e=c.T.hf(this.i.a.ic(a)),h=this.i.Ia(b),k=this.i.Ia(a);this.Jo((h|k)+1);this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;h=-1;1<this.i.a.Gr.Ga&&(h=b);if(2==d&&2==e)return this.yY(b,a,h);if(1==d&&0<e||1==e&&0<d)return this.zY(h);if(0==d||0==e)return d=
[],d[0]=this.Xp(),d;throw c.g.za();};e.prototype.Wp=function(b,a){var d=c.T.hf(this.i.a.ic(b)),e=c.T.hf(this.i.a.ic(a)),h=this.i.Ia(b),k=this.i.Ia(a);this.Jo((h|k)+1);this.Nh[this.i.Ia(b)]=!0;this.Nh[this.i.Ia(a)]=!0;if(2==d&&2==e)return this.ds(b,a,-1);if(1==d&&1==e)return this.es(-1);if(0==d&&0==e)return this.Xp();throw c.g.za();};e.N=function(b){var a=b.G();return 197==a?(a=new c.Ja(b.description),b.u()||a.hd(b,!1),a):33==a?(a=new c.Dd(b.description),b.u()||a.add(b),a):322==a?(a=new c.Ua(b.description),
b.u()||a.cc(b,!0),a):b};e.dc=function(b,a,d){var e=b.G();return 197==e?(a=new c.Ja(b.description),b.u()||a.hd(b,!1),a):33!=e||"|"!=d&&"^"!=d?322==e?(a=new c.Ua(b.description),b.u()||a.cc(b,!0),a):33==e&&"-"==d&&33==a.G()||550==e&&"\x26"==d&&33==a.G()?(a=new c.Wa(b.description),b.u()||b.xe(0,a),a):b:(a=new c.Dd(b.description),b.u()||a.add(b),a)};e.an=function(b,a,d,f){if(b.u()||a.u()||b.ub()>a.ub())return e.dc(e.N(b),b,"-");var h=new c.h;b.s(h);var k=new c.h;a.s(k);if(!h.Yb(k))return e.dc(e.N(b),b,
"-");var g=new c.h;g.I(h);g.Nb(k);d=c.na.$d(d,g,!0);k=new e;h=new c.ed;g=h.Jb(e.N(b));a=h.Jb(e.N(a));k.Wr(h,d,f);f=k.an(g,a);f=h.Pe(f);b=e.dc(f,b,"-");c.T.Hc(b.G())&&(b.Xg(2,d),1736==b.G()&&b.Fl());return b};e.kG=function(b,a,d,f){if(b.ub()>a.ub())return e.dc(e.N(b),b,"|");if(b.ub()<a.ub()||b.u())return e.dc(e.N(a),b,"|");if(a.u())return e.dc(e.N(b),b,"|");var h=new c.h;b.s(h);var k=new c.h;a.s(k);var g=new c.h;g.I(h);g.Nb(k);d=c.na.$d(d,g,!0);if(!h.Yb(k.OS(d,d)))switch(b=e.N(b),a=e.N(a),b.G()){case 550:return b=
c.T.me(b),b.Hd(a,0,-1),b;case 1607:return b=c.T.me(b),b.add(a,!1),b;case 1736:return b=c.T.me(b),b.add(a,!1),b;default:throw c.g.za();}k=new e;h=new c.ed;g=h.Jb(e.N(b));a=h.Jb(e.N(a));k.Wr(h,d,f);a=k.kG(g,a);b=e.dc(h.Pe(a),b,"|");c.T.Hc(b.G())&&(b.Xg(2,d),1736==b.G()&&b.Fl());return b};e.nR=function(b,a,d){if(2>b.length)throw c.g.F("not enough geometries to dissolve");for(var f=0,h=0,k=b.length;h<k;h++)f=Math.max(b[h].ub(),f);var g=new c.h;g.Oa();for(var l=new c.ed,p=-1,m=0,n=-1,h=0,k=b.length;h<
k;h++)if(b[h].ub()==f)if(b[h].u())-1==n&&(n=h);else{n=h;-1==p?p=l.Jb(e.N(b[h])):l.TO(p,e.N(b[h]));var u=new c.h;b[h].ac(u);g.Nb(u);m++}if(2>m)return e.N(b[n]);b=2==f;a=c.na.$d(0==f?a:null,g,!0);return(new e).ql(l,p,a,b,!0,d)};e.yA=function(b,a,d,f){var h=[null,null,null],k=new c.h;b.s(k);var g=new c.h;a.s(g);var l=new c.h;l.I(k);l.Nb(g);d=c.na.$d(d,l,!0);l=new c.h;l.I(g);g=c.na.As(d);l.P(g,g);if(!k.Yb(l)){if(b.ub()<=a.ub())return b=e.dc(e.N(b.Ka()),b,"\x26"),h[b.ub()]=b,h;if(b.ub()>a.ub())return b=
e.dc(e.N(a.Ka()),b,"\x26"),h[b.ub()]=b,h}g=new e;k=new c.ed;l=k.Jb(e.N(b));a=k.Jb(e.N(a));g.Wr(k,d,f);f=g.yA(l,a);for(a=0;a<f.length;a++)g=e.dc(k.Pe(f[a]),b,"\x26"),c.T.Hc(g.G())&&(g.Xg(2,d),1736==g.G()&&g.Fl()),h[g.ub()]=g;return h};e.Wp=function(b,a,d,f){if(b.ub()>a.ub())return e.dc(e.N(b),b,"^");if(b.ub()<a.ub()||b.u())return e.dc(e.N(a),b,"^");if(a.u())return e.dc(e.N(b),b,"^");var h=new c.h;b.s(h);var k=new c.h;a.s(k);var g=new c.h;g.I(h);g.Nb(k);d=c.na.$d(d,g,!0);k=new e;h=new c.ed;g=h.Jb(e.N(b));
a=h.Jb(e.N(a));k.Wr(h,d,f);f=k.Wp(g,a);b=e.dc(h.Pe(f),b,"^");c.T.Hc(b.G())&&(b.Xg(2,d),1736==b.G()&&b.Fl());return b};e.wZ=function(b,a,d){a=a.G();d=d.G();return 550==b.G()&&(33==a||33==d)&&1>=b.D()?(d=new c.Wa(b.description),b.u()||b.xe(0,d),d):b};e.prototype.$R=function(b,a){var d=this.i.a;b=d.Vf(b,-1);for(var c=a.size,e=0;e<c;e++){var k=a.get(e);d.Oj(b,k)}d.ho(b,!0)};e.prototype.AX=function(b,a){for(var d=this.i.a,c=d.qd;-1!=c;c=d.Re(c))if(c==a)for(var e=d.Pb(c);-1!=e;e=d.Sb(e)){var k=d.cb(e);
if(-1!=k)for(var g=d.U(k);-1!=g;){var k=this.i.ff(k),l=this.i.ff(g),k=this.i.LS(k,l);-1!=k&&(l=this.i.Aa(k),this.i.Ob(k,b,1),this.i.Ob(l,b,2));k=g;g=d.U(k)}}};e.prototype.wW=function(b,a,d,e){d=this.i.Ia(d);e=this.i.Ia(e);var f=new c.ha(0);f.zb(256);for(var k=this.i.a,g=this.i.xh(),l=this.i.nf;-1!=l;l=this.i.ng(l)){var p=this.i.gf(l);if(-1!=p){var m=p;do{if(1!=this.i.Kb(m,g)){var n=m,u=m,t=!1,w=0;do{this.i.Ob(n,g,1);if(!t){var x=this.i.Ah(n);0!=(x&e)&&0!=(this.i.Bf(n)&d)&&(u=n,t=!0)}t&&(f.add(this.i.Yj(this.i.dn(this.i.Mk(n)))),
-1!=b&&(x=this.i.Ah(n),0!=(x&e)&&(x=this.i.Kb(n,b),w|=x)));n=this.i.qc(n)}while(n!=u);t&&0<this.i.Dq(this.i.Af(u))&&(n=k.ah(1736),this.$R(n,f),-1!=a&&k.lK(n,a,w));f.clear(!1)}m=this.i.qc(this.i.Aa(m))}while(m!=p)}}this.i.oi(g)};e.prototype.WQ=function(b,a,d,c){this.i.$W();var e=-1;-1!=b&&(e=this.i.xh(),this.AX(e,d));this.wW(e,b,a,d);var f=this.i.a;b=0;for(e=f.qd;-1!=e;e=f.Re(e))e!=a&&e!=d&&(c.add(e),b++);c.Fd(0,b,function(a,b){a=f.jA(f.Pb(a));b=f.jA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.ph=
function(){null!=this.i&&(this.i.ph(),this.i=null)};return e}();c.Cg=e})(u||(u={}));(function(c){var e=function(){function e(b){void 0!==b?this.Vp(b):this.sC()}e.prototype.Vx=function(){this.bc=this.Wb=this.Ab=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.Ab==b.Ab&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.kc=function(){c.J.$i();c.J.$i();c.J.$i();c.J.$i();c.J.$i();return c.J.$i()};e.prototype.ai=function(b,
a){var d=this.Ab*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=d};e.prototype.BY=function(b,a,d,c,e){var f=2*a;c*=2;for(a=2*(a+e);f<a;f+=2,c+=2){e=b[f];var h=b[f+1];d[c]=this.lb*e+this.sb*h+this.Wb;d[c+1]=this.Ab*e+this.gb*h+this.bc}};e.prototype.DY=function(b,a,d){for(var e=0;e<a;e++){var h=b[e].x,k=b[e].y,g=this.lb*h+this.sb*k+this.Wb,h=this.Ab*h+this.gb*k+this.bc;null!=d[e]?d[e].ja(g,h):d[e]=c.b.pa(g,h)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,
a,d){var c,e,k,g,l;c=b.lb*a.lb+b.Ab*a.sb;e=b.sb*a.lb+b.gb*a.sb;k=b.Wb*a.lb+b.bc*a.sb+a.Wb;g=b.lb*a.Ab+b.Ab*a.gb;l=b.sb*a.Ab+b.gb*a.gb;b=b.Wb*a.Ab+b.bc*a.gb+a.bc;d.lb=c;d.sb=e;d.Wb=k;d.Ab=g;d.gb=l;d.bc=b};e.prototype.Sf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.Ab=this.Ab;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.NC=function(b){if(!b.u()){for(var a=[],d=0;4>d;d++)a[d]=new c.b;b.SB(a);this.EY(a,a);b.Mx(a,4)}};e.prototype.EY=function(b,a){for(var d=0;d<b.length;d++){var e=
new c.b,h=b[d];e.x=this.lb*h.x+this.sb*h.y+this.Wb;e.y=this.Ab*h.x+this.gb*h.y+this.bc;a[d]=e}};e.prototype.NT=function(b,a){b.u()||a.u()||0==b.O()||0==b.ea()?this.Vx():(this.sb=this.Ab=0,this.lb=a.O()/b.O(),this.gb=a.ea()/b.ea(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.CY=function(b){var a=new c.b,d=new c.b;a.ja(this.lb,this.Ab);d.ja(this.sb,this.gb);a.sub(a);var e=.5*a.uk();a.ja(this.lb,this.Ab);d.ja(this.sb,this.gb);a.add(d);a=.5*a.uk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};
e.prototype.sC=function(){this.lb=1;this.Ab=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.No=function(b){if(void 0!==b){var a=c.b.pa(0,1);this.ai(a,a);a.sub(c.b.pa(0,1));if(a.uk()>b*b)return!1;a.ja(0,0);this.ai(a,a);if(a.uk()>b*b)return!1;a.ja(1,0);this.ai(a,a);a.sub(c.b.pa(1,0));return a.uk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.Ab&&0==this.bc};e.prototype.eh=function(b){return Math.abs(this.lb*this.gb-this.Ab*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.Ab*
this.sb))};e.prototype.zg=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.Ab=0;this.gb=1;this.bc=a};e.prototype.Vp=function(b,a){void 0!==a?(this.lb=b,this.Ab=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Vp(b,b)};e.prototype.AC=function(){this.lb=0;this.sb=1;this.Wb=0;this.Ab=1;this.bc=this.gb=0};e.prototype.OX=function(b){this.PX(Math.cos(b),Math.sin(b))};e.prototype.PX=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.Ab=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=
a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.Ab*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=new e;a.OX(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.Ab;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.Ab-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.Ab=-this.Ab*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();c.Gd=e})(u||(u={}));(function(c){var e=function(){function e(){}
e.prototype.Vx=function(){this.ci=this.bc=this.Wb=this.zf=this.wf=this.vf=this.yf=this.gb=this.sb=this.Pf=this.Ab=this.lb=0};e.prototype.Vp=function(b,a,d){this.lb=b;this.sb=this.Pf=this.Ab=0;this.gb=a;this.wf=this.vf=this.yf=0;this.zf=d;this.ci=this.bc=this.Wb=0};e.prototype.NC=function(b){if(b.u())return b;for(var a=new c.od[8],d=0;8>d;d++)a[d]=new c.od;b.SB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,d){for(var e=0;e<a;e++){var h=new c.od,k=b[e];h.x=this.lb*k.x+
this.sb*k.y+this.vf*k.z+this.Wb;h.y=this.Ab*k.x+this.gb*k.y+this.wf*k.z+this.bc;h.z=this.Pf*k.x+this.yf*k.y+this.zf*k.z+this.ci;d[e]=h}};e.prototype.Yp=function(b){var a=new c.od;a.x=this.lb*b.x+this.sb*b.y+this.vf*b.z+this.Wb;a.y=this.Ab*b.x+this.gb*b.y+this.wf*b.z+this.bc;a.z=this.Pf*b.x+this.yf*b.y+this.zf*b.z+this.ci;return a};e.prototype.Tg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,d){var c,e,k,g,l,p,m,n,u,t,w;c=b.lb*a.lb+b.Ab*a.sb+b.Pf*a.vf;e=b.lb*a.Ab+b.Ab*a.gb+b.Pf*a.wf;
k=b.lb*a.Pf+b.Ab*a.yf+b.Pf*a.zf;g=b.sb*a.lb+b.gb*a.sb+b.yf*a.vf;l=b.sb*a.Ab+b.gb*a.gb+b.yf*a.wf;p=b.sb*a.Pf+b.gb*a.yf+b.yf*a.zf;m=b.vf*a.lb+b.wf*a.sb+b.zf*a.vf;n=b.vf*a.Ab+b.wf*a.gb+b.zf*a.wf;u=b.vf*a.Pf+b.wf*a.yf+b.zf*a.zf;t=b.Wb*a.lb+b.bc*a.sb+b.ci*a.vf+a.Wb;w=b.Wb*a.Ab+b.bc*a.gb+b.ci*a.wf+a.bc;b=b.Wb*a.Pf+b.bc*a.yf+b.ci*a.zf+a.ci;d.lb=c;d.Ab=e;d.Pf=k;d.sb=g;d.gb=l;d.yf=p;d.vf=m;d.wf=n;d.zf=u;d.Wb=t;d.bc=w;d.ci=b};e.inverse=function(b,a){var d=b.lb*(b.gb*b.zf-b.yf*b.wf)-b.Ab*(b.sb*b.zf-b.yf*b.vf)+
b.Pf*(b.sb*b.wf-b.gb*b.vf);if(0!=d){var e,h,k,g,l,p,m,n,u,t;n=1/d;d=(b.gb*b.zf-b.yf*b.wf)*n;k=-(b.sb*b.zf-b.yf*b.vf)*n;p=(b.sb*b.wf-b.gb*b.vf)*n;e=-(b.Ab*b.zf-b.wf*b.Pf)*n;g=(b.lb*b.zf-b.Pf*b.vf)*n;m=-(b.lb*b.wf-b.Ab*b.vf)*n;h=(b.Ab*b.yf-b.Pf*b.gb)*n;l=-(b.lb*b.yf-b.Pf*b.sb)*n;n*=b.lb*b.gb-b.Ab*b.sb;u=-(b.Wb*d+b.bc*k+b.ci*p);t=-(b.Wb*e+b.bc*g+b.ci*m);b=-(b.Wb*h+b.bc*l+b.ci*n);a.lb=d;a.Ab=e;a.Pf=h;a.sb=k;a.gb=g;a.yf=l;a.vf=p;a.wf=m;a.zf=n;a.Wb=u;a.bc=t;a.ci=b}else throw c.g.X("math singularity");};
e.prototype.Sf=function(){var b=new e;b.lb=this.lb;b.Ab=this.Ab;b.Pf=this.Pf;b.sb=this.sb;b.gb=this.gb;b.yf=this.yf;b.vf=this.vf;b.wf=this.wf;b.zf=this.zf;b.Wb=this.Wb;b.bc=this.bc;b.ci=this.ci;return b};return e}();c.DN=e})(u||(u={}));(function(c){var e=function(b){function a(a){if(void 0!==a)a=b.call(this,a.kc(),a)||this;else{a=b.call(this)||this;a.vg=[];a.vg[0]=0;a.Ga=1;a.Th=[];for(var d=0;10>d;d++)a.Th[d]=-1;a.Th[a.vg[0]]=0}a.Zq=!0;return a}da(a,b);a.prototype.Rd=function(a){this.hasAttribute(a)||
(this.Th[a]=0,this.GE())};a.prototype.removeAttribute=function(a){if(0==a)throw c.g.F("Position attribue cannot be removed");this.hasAttribute(a)&&(this.Th[a]=-1,this.GE())};a.prototype.reset=function(){this.vg[0]=0;this.Ga=1;for(var a=0;a<this.Th.length;a++)this.Th[a]=-1;this.Th[this.vg[0]]=0;this.Zq=!0};a.prototype.Rz=function(){return g.Go().add(this)};a.Hg=function(){return g.Go().uT()};a.N=function(){return g.Go().vT()};a.prototype.eO=function(){var a=this.kc();return new c.ma(a,this)};a.prototype.GE=
function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Th[a]&&(this.vg[b]=a,this.Th[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.kc=function(){this.Zq&&(this.gm=this.Ck(),this.Zq=!1);return this.gm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var d=0;d<this.Ga;d++)if(this.vg[d]!=b.vg[d])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.GH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.vg[b]!=a.vg[b])return!1;
return!0};a.vx=function(a,b){for(var d=[],c=0;c<a.Ga;c++)d[c]=-1;for(var c=0,e=a.Ga;c<e;c++)d[c]=b.lg(a.pd(c));return d};a.VS=function(b,c){b=new a(b);b.Rd(c);return b.Rz()};a.WS=function(b,c){for(var d=null,e=0;10>e;e++)!b.hasAttribute(e)&&c.hasAttribute(e)&&(null==d&&(d=new a(b)),d.Rd(e));return null!=d?d.Rz():b};a.tb=function(b,c){b=new a(b);b.removeAttribute(c);return b.Rz()};return a}(c.ma);c.we=e;var g=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Rd(1);this.add(a)}b.Go=
function(){return b.QN};b.prototype.uT=function(){return b.Lm};b.prototype.vT=function(){return b.Mm};b.prototype.add=function(a){var d=a.kc();if(null!=b.Lm&&b.Lm.kc()==d&&a.GH(b.Lm))return b.Lm;if(null!=b.Mm&&b.Mm.kc()==d&&a.GH(b.Mm))return b.Mm;var c=null;void 0!==this.map[d]&&(c=this.map[d]);null==c&&(c=a.eO(),1==c.Ga?b.Lm=c:2==c.Ga&&1==c.pd(1)?b.Mm=c:this.map[d]=c);return c};b.QN=new b;return b}()})(u||(u={}));var va={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},
wa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},ua=new (function(){function c(){this.mO=50;this.hq=new Map;this.Lj=[]}c.prototype.clear=function(){this.Lj.length=0;this.hq.clear()};c.prototype["delete"]=function(c){return this.hq["delete"](c)?(this.Lj.splice(this.Lj.indexOf(c),1),!0):!1};c.prototype.get=function(c){var e=this.hq.get(c);if(void 0!==e)return this.Lj[0]!==c&&(this.Lj.splice(this.Lj.indexOf(c),
1),this.Lj.unshift(c)),e};c.prototype.has=function(c){return this.hq.has(c)};c.prototype.set=function(c,e){void 0!==this.get(c)&&this["delete"](c);this.Lj.unshift(c);this.hq.set(c,e);this.aO();return this};c.prototype.aO=function(){for(;this.Lj.length&&this.Lj.length>this.mO;){var c=this.Lj.pop();this.hq["delete"](c)}};return c}()),U=(la={},la.convertJSONToGeometry=function(c){return u.gc.EQ(c)},la.hasM=function(c){return c.hasAttribute(u.hi.M)},la.hasZ=function(c){return c.hasAttribute(u.hi.Z)},
la.getPointX=function(c){return c.Te()},la.getPointY=function(c){return c.Cf()},la.getPointZ=function(c){return c.yT()},la.getPointM=function(c){return c.SS()},la.getXMin=function(c){return c.dt()},la.getYMin=function(c){return c.ft()},la.getXMax=function(c){return c.ct()},la.getYMax=function(c){return c.et()},la.getZExtent=function(c){return c.hg(u.hi.Z,0)},la.getMExtent=function(c){return c.hg(u.hi.M,0)},la.exportPaths=function(c){var e=[],g=c.aa(),b=null,a=null,d=c.hasAttribute(u.hi.Z),f=c.hasAttribute(u.hi.M);
d&&(b=c.Qa(u.hi.Z));f&&(a=c.Qa(u.hi.M));for(var h=new u.b,k=0;k<g;k++){for(var l=c.wa(k),m=c.La(k),n=0,t=0,w=NaN,x=NaN,y=NaN,z=NaN,A=c.Qb(k),B=[],C=l;C<l+m;C++){c.w(C,h);var z=y=NaN,D=[h.x,h.y];d&&(y=b.get(C),D.push(y));f&&(z=a.get(C),D.push(z));C==l&&A&&(n=h.x,t=h.y,w=y,x=z);B.push(D)}!A||n==h.x&&t==h.y&&(!d||isNaN(w)&&isNaN(y)||w==y)&&(!f||isNaN(x)&&isNaN(z)||x==z)||B.push(B[0].slice(0));e.push(B)}return e},la.exportPathsFlat=function(){},la.exportPoints=function(c){var e=c.hasAttribute(u.hi.Z),
g=c.hasAttribute(u.hi.M),b=null,a=null;e&&(b=c.Qa(u.hi.Z));g&&(a=c.Qa(u.hi.M));for(var d=new u.b,f=c.D(),h=[],k=0;k<f;k++){c.w(k,d);var l=[d.x,d.y];e&&l.push(b.get(k));g&&l.push(a.get(k));h.push(l)}return h},la.exportPointsFlat=function(){},la);return function(){function c(){}c.buffer=S;c.clip=w;c.contains=z;c.convexHull=X;c.crosses=A;c.cut=l;c.densify=ka;c.difference=W;c.disjoint=t;c.distance=M;c.equals=D;c.extendedSpatialReferenceInfo=g;c.generalize=T;c.geodesicArea=oa;c.geodesicBuffer=ga;c.geodesicDensify=
P;c.geodesicLength=ba;c.intersect=O;c.intersects=x;c.isSimple=K;c.nearestCoordinate=ia;c.nearestVertex=ha;c.nearestVertices=fa;c.offset=Z;c.overlaps=B;c.planarArea=Q;c.planarLength=ca;c.relate=Y;c.simplify=V;c.symmetricDifference=R;c.touches=J;c.union=aa;c.within=F;c.rotate=u.my.rotate;c.flipHorizontal=u.my.YR;c.flipVertical=u.my.ZR;c._enableProjection=ta;c._project=ya;c._getTransformation=xa;c._getTransformationBySuitability=na;return c}()})},"esri/geometry/geometryAdapters/hydrated":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(G,c,n,y,C,m,g){Object.defineProperty(c,"__esModule",{value:!0});c.hydratedAdapter=void 0;c.hydratedAdapter={convertToGEGeometry:function(c,g){if(null==g)return null;var l="cache"in g?g.cache._geVersion:void 0;null==l&&(l=c.convertJSONToGeometry(g),"cache"in g&&(g.cache._geVersion=l));return l},exportPoint:function(c,g,m){var l=c.hasZ(g),n=c.hasM(g);m=new C({x:c.getPointX(g),y:c.getPointY(g),spatialReference:m});l&&(m.z=c.getPointZ(g));n&&(m.m=c.getPointM(g));m.cache._geVersion=g;return m},
exportPolygon:function(c,g,n){c=new m({rings:c.exportPaths(g),hasZ:c.hasZ(g),hasM:c.hasM(g),spatialReference:n});c.cache._geVersion=g;return c},exportPolyline:function(c,l,m){c=new g({paths:c.exportPaths(l),hasZ:c.hasZ(l),hasM:c.hasM(l),spatialReference:m});c.cache._geVersion=l;return c},exportMultipoint:function(c,g,m){c=new y({hasZ:c.hasZ(g),hasM:c.hasM(g),points:c.exportPoints(g),spatialReference:m});c.cache._geVersion=g;return c},exportExtent:function(c,g,m){var l=c.hasZ(g),w=c.hasM(g);m=new n({xmin:c.getXMin(g),
ymin:c.getYMin(g),xmax:c.getXMax(g),ymax:c.getYMax(g),spatialReference:m});l&&(l=c.getZExtent(g),m.zmin=l.vmin,m.zmax=l.vmax);w&&(c=c.getMExtent(g),m.mmin=c.vmin,m.mmax=c.vmax);m.cache._geVersion=g;return m}}})},"esri/views/interactive/InteractiveToolBase":function(){define("require exports tslib ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators ./interactiveToolUtils ./ManipulatorCollection".split(" "),function(G,c,n,y,C,m,g,w){Object.defineProperty(c,"__esModule",
{value:!0});c.InteractiveToolBase=void 0;G=function(c){function l(g){g=c.call(this,g)||this;g.attached=!1;g.created=!1;g.completed=!1;g.manipulators=new w.ManipulatorCollection;g.deferCreation=!1;g._editableFlags=[];g._creationResolver=C.createResolver();return g}n.__extends(l,c);Object.defineProperty(l.prototype,"active",{get:function(){return null!=this.view&&this.view.activeTool===this},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"isSupported",{get:function(){return!0},enumerable:!1,
configurable:!0});Object.defineProperty(l.prototype,"visible",{set:function(c){this._set("visible",c);c||g.setActive(this,!1);this.attached&&(c?this._show():this._hide())},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"editable",{get:function(){return this.hasEditableFlag(0)},set:function(c){this.setEditableFlag(0,c)},enumerable:!1,configurable:!0});l.prototype.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();
this._set("attached",!0)}};l.prototype.detach=function(){this.attached&&(this.onHide(),this.onDetach(),this.manipulators.detach(),this._set("attached",!1))};l.prototype.handleInputEvent=function(c){if(this.attached)this.onInputEvent(c)};l.prototype.handleInputEventAfter=function(c){if(this.attached)this.onInputEventAfter(c)};l.prototype.destroy=function(){this.manipulators.destroy();this._set("view",null)};l.prototype.setEditableFlag=function(c,g){this._editableFlags[c]=g;this.manipulators.isToolEditable=
this._editableFlags.every(function(c){return null==c||c});this._updateManipulatorAttachment();0===c&&this.notifyChange("editable");this.onEditableChange()};l.prototype.hasEditableFlag=function(c){c=this._editableFlags[c];return null==c?!0:c};l.prototype.when=function(){return this._creationResolver.promise};l.prototype.rejectCreation=function(c){this._creationResolver.reject(c)};l.prototype.initialize=function(){this.deferCreation||this.complete()};l.prototype.onAttach=function(){};l.prototype.onDetach=
function(){};l.prototype.onShow=function(){};l.prototype.onHide=function(){};l.prototype.onEditableChange=function(){};l.prototype.onInputEvent=function(c){};l.prototype.onInputEventAfter=function(c){};Object.defineProperty(l.prototype,"internallyEditable",{get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)},enumerable:!1,configurable:!0});l.prototype.create=function(){this.created||(this._set("created",!0),this._creationResolver(this))};l.prototype.complete=function(){this.create();
this._set("completed",!0)};l.prototype._show=function(){this._updateManipulatorAttachment();this.onShow()};l.prototype._hide=function(){this._updateManipulatorAttachment();this.onHide()};l.prototype._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};n.__decorate([m.property({constructOnly:!0})],l.prototype,"view",void 0);n.__decorate([m.property({dependsOn:["view.activeTool"],readOnly:!0})],l.prototype,"active",null);n.__decorate([m.property({value:!0})],
l.prototype,"visible",null);n.__decorate([m.property({value:!0})],l.prototype,"editable",null);n.__decorate([m.property({readOnly:!0})],l.prototype,"attached",void 0);n.__decorate([m.property({readOnly:!0})],l.prototype,"created",void 0);n.__decorate([m.property({readOnly:!0})],l.prototype,"completed",void 0);n.__decorate([m.property({readOnly:!0})],l.prototype,"manipulators",void 0);n.__decorate([m.property({constructOnly:!0})],l.prototype,"deferCreation",void 0);return l=n.__decorate([m.subclass("esri.views.interactive.InteractiveToolBase")],
l)}(y);c.InteractiveToolBase=G})},"esri/views/interactive/ManipulatorCollection":function(){define(["require","exports","../../core/Collection","../../core/maybe"],function(G,c,n,y){Object.defineProperty(c,"__esModule",{value:!0});c.ManipulatorCollection=void 0;G=function(){function c(){this._isToolEditable=!0;this._manipulators=new n;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}Object.defineProperty(c.prototype,"isToolEditable",{set:function(c){this._isToolEditable=
c},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"length",{get:function(){return this._manipulators.length},enumerable:!1,configurable:!0});c.prototype.add=function(c,g){void 0===g&&(g=0);return this.addMany([c],g)[0]};c.prototype.addMany=function(c,g){var m=this;void 0===g&&(g=0);return c.map(function(c){var l=m._nextManipulatorId++;c={id:l,manipulator:c,visibilityPredicate:g,attached:!1};m._manipulators.add(c);m._attached&&m._updateManipulatorAttachment(c);return l})};c.prototype.remove=
function(c){if("number"===typeof c){for(var g=0;g<this._manipulators.length;g++)if(this._manipulators.getItemAt(g).id===c)return c=this._manipulators.splice(g,1)[0],this._detachManipulator(c),c.id;return null}for(g=0;g<this._manipulators.length;g++)if(this._manipulators.getItemAt(g).manipulator===c)return c=this._manipulators.splice(g,1)[0],this._detachManipulator(c),c.id;return null};c.prototype.removeAll=function(){var c=this;this._manipulators.forEach(function(g){c._detachManipulator(g)});this._manipulators.removeAll()};
c.prototype.attach=function(){var c=this;this._manipulators.forEach(function(g){c._updateManipulatorAttachment(g)});this._attached=!0};c.prototype.detach=function(){var c=this;this._manipulators.forEach(function(g){c._detachManipulator(g)});this._attached=!1};c.prototype.destroy=function(){this._manipulators.forEach(function(c){c=c.manipulator;c.destroy&&c.destroy()});this._manipulators.destroy();this._resourceContexts=null};c.prototype.on=function(c,g){return this._manipulators.on(c,function(c){g(c)})};
c.prototype.forEach=function(c){for(var g=0,m=this._manipulators.items;g<m.length;g++)c(m[g])};c.prototype.some=function(c){return this._manipulators.items.some(c)};c.prototype.toArray=function(){var c=[];this.forEach(function(g){return c.push(g.manipulator)});return c};c.prototype.intersect=function(c,g){var m=null,l=Number.MAX_VALUE;this._manipulators.forEach(function(n){var w=n.id,z=n.manipulator;n.attached&&z.interactive&&(n=z.intersectionDistance(c,g),y.isSome(n)&&n<l&&(l=n,m=w))});return m};
c.prototype.findById=function(c){if(y.isNone(c))return null;for(var g=0,m=this._manipulators.items;g<m.length;g++){var l=m[g];if(c===l.id)return l.manipulator}return null};c.prototype._updateManipulatorAttachment=function(c){this._isManipulatorItemVisible(c)?this._attachManipulator(c):this._detachManipulator(c)};c.prototype._attachManipulator=function(c){c.attached||(c.manipulator.attach&&c.manipulator.attach(this._resourceContexts),c.attached=!0)};c.prototype._detachManipulator=function(c){if(c.attached){var g=
c.manipulator;g.grabbing=!1;g.dragging=!1;g.hovering=!1;g.selected=!1;g.detach&&g.detach(this._resourceContexts);c.attached=!1}};c.prototype._isManipulatorItemVisible=function(c){return 2===c.visibilityPredicate?!0:this._isToolEditable?0===c.visibilityPredicate:1===c.visibilityPredicate};return c}();c.ManipulatorCollection=G})},"esri/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool":function(){define("require exports tslib ../../../../../core/Collection ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./isSupportedGraphic ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicMoveTool=c.GraphicMoveStopEvent=c.GraphicMoveEvent=c.GraphicMoveStartEvent=void 0;var R=function(){return function(c){this.allGraphics=c;this.type="graphic-move-start"}}();c.GraphicMoveStartEvent=R;var O=function(){return function(c,g,l){this.dx=c;this.dy=g;this.allGraphics=l;this.type="graphic-move"}}();c.GraphicMoveEvent=O;var aa=function(){return function(c){this.allGraphics=c;this.type=
"graphic-move-stop"}}();c.GraphicMoveStopEvent=aa;G=function(c){function C(g){g=c.call(this,g)||this;g.graphics=new y;g.enableZ=!0;g.type="move-3d";g._toolHandles=new m;g._handles=new m;return g}n.__extends(C,c);C.prototype.initialize=function(){var c=this;this._toolHandles.add([this.graphics.on("change",function(){return c._refreshManipulators()})]);this._refreshManipulators()};C.prototype.destroy=function(){this._handles.destroy();this._handles=null;this._toolHandles.destroy();this._toolHandles=
null;this.graphics.removeAll();this._set("view",null)};C.prototype.reset=function(){};C.prototype._refreshManipulators=function(){var c=this;this._handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();this.manipulators.removeAll();var g=this.graphics.toArray().filter(function(c){return 0===Y.isSupportedGraphic(c)}).map(function(c){return new Z(c)});g.length&&(this.createManipulators(g),this.createVisualElements(g),this._handles.add(g.map(function(g){return c.view.trackGraphicState(g.state)})),
this.updateMoveManipulation(g))};C.prototype.createManipulators=function(c){for(var g=this,l=function(l){var t=l.state;l.manipulationXY=new B.MoveXYGraphicManipulation({tool:m,view:m.view,graphicState:t});l.manipulationXY.forEachManipulator(function(c){return g._handles.add(c.events.on("immediate-click",function(c){g.emit("immediate-click",n.__assign(n.__assign({},c),{graphic:t.graphic}));c.stopPropagation()}))});m._handles.add(l.manipulationXY.createDragPipeline(function(l,m,n){return g.buildDragEventPipeline(l,
m,n,c)}))},m=this,t=0;t<c.length;t++)l(c[t]);this.createMoveManipulation(c)};C.prototype.createMoveManipulation=function(c){var g=this,l=new F.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===c.length?F.MoveManipulation.radiusForSymbol(c[0].graphic.symbol):J.DISC_RADIUS});this._moveManipulation=l;l.elevationInfo={mode:"absolute-height",offset:0};l.forEachManipulator(function(c){g._handles.add(c.events.on("immediate-click",function(m){l.zManipulation.hasManipulator(c)||
1!==g.graphics.length||g.emit("immediate-click",n.__assign(n.__assign({},m),{graphic:g.graphics.getItemAt(0)}));m.stopPropagation()}))});for(var m=function(){return g.updateMoveManipulation(c)},t=0;t<c.length;t++){var x=c[t];this._handles.add([x.state.on("changed",m),x.state.watch("displaying",m)])}var y=c[c.length-1];this._handles.add(y.state.on("changed",function(){return g.updateMoveManipulationAngle(y)}));this._handles.add(l.createDragPipeline(function(l,m,n){g.buildDragEventPipeline(l,m,n,c)},
A.getGraphicEffectiveElevationInfo(y.graphic),w.unwrap(y.graphic.geometry).spatialReference));this.updateMoveManipulationAngle(y)};C.prototype.createVisualElements=function(c){for(var l=this,m=function(m){var t=x.createVisualElements({view:n.view,graphic:m.graphic,forEachManipulator:function(c){m.manipulationXY.forEachManipulator(c);l._moveManipulation.forEachManipulator(c)},onManipulatorsChanged:function(){return g.makeHandle()}});m.geometryRepresentation=t.visualElement;m.geometryRepresentation instanceof
K.OutlineVisualElement&&n._handles.add([m.geometryRepresentation.events.on("attachment-origin-changed",function(){m.state.isDraped||l.updateMoveManipulation(c)}),m.state.watch("isDraped",function(){return l.updateMoveManipulation(c)})]);n._handles.add(t)},n=this,t=0;t<c.length;t++)m(c[t])};C.prototype.updateMoveManipulationAngle=function(c){this._moveManipulation.angleDeferred=function(){return t.primaryShapeOrientation(c.graphic.geometry)}};C.prototype.updateMoveManipulation=function(c){for(var g=
z.makeDehydratedPoint(0,0,0,this.view.spatialReference),l=0,m=!1,n=this._moveManipulation,t=0;t<c.length;t++){var x=c[t];if(x.state.displaying){var y=x.state.graphic;this.enableZ&&D.canMoveZ(y)&&(m=!0);x=x.geometryRepresentation instanceof K.OutlineVisualElement&&!x.state.isDraped?x.geometryRepresentation.attachmentOrigin:M.getGraphicAttachmentOrigin(this.view,y);w.isSome(x)&&(g.x+=x.x,g.y+=x.y,g.z+=x.z,l++)}}0<l?(g.x/=l,g.y/=l,g.z/=l,n.location=g,n.xyManipulation.available=!0,n.xyAxisManipulation.available=
!0,n.zManipulation.available=m):n.available=!1};C.prototype.buildDragEventPipeline=function(c,g,l,m){var n=this,t=[],w=[],x=null,y=null,B=function(){for(var c=0;c<t.length;c++)t[c].dragging=!1;t.length=0;w.length=0;y=x=null;n._moveManipulation.interactive=!0};g.next(function(g){if("start"===g.action){t.length=0;for(var l=w.length=0;l<m.length;l++){var B=m[l];B.dragging||!B.manipulationXY.hasManipulator(c)&&B.manipulationXY.grabbing||(t.push(B),w.push(B.graphic),B.dragging=!0)}if(0!==w.length&&(n._moveManipulation.interactive=
!1,x=X.dragGraphicMany(w),y=X.resetGraphicMany(w),n.emit("graphic-move-start",new R(w)),n.destroyed))return null}return 0!==w.length?g:null}).next(function(c){return x(c)}).next(function(c){switch(c.action){case "start":case "update":if(c.translationX||c.translationY||c.translationZ){var g=n.view.toScreen(c.mapStart);c=n.view.toScreen(c.mapEnd);n.emit("graphic-move",new O(c.x-g.x,c.y-g.y,w));if(n.destroyed)return null}break;case "end":n.emit("graphic-move-stop",new aa(w));if(n.destroyed)return null;
B()}});l.next(function(c){return y(c)}).next(function(){n.emit("graphic-move-stop",new aa(w));if(n.destroyed)return null;B()})};n.__decorate([l.property({constructOnly:!0,nonNullable:!0})],C.prototype,"view",void 0);n.__decorate([l.property({readOnly:!0})],C.prototype,"graphics",void 0);n.__decorate([l.property({constructOnly:!0,nonNullable:!0})],C.prototype,"enableZ",void 0);n.__decorate([l.property({readOnly:!0})],C.prototype,"type",void 0);return C=n.__decorate([l.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],
C)}(C.EventedMixin(W.InteractiveToolBase));c.GraphicMoveTool=G;var Z=function(){function c(c){this.manipulationXY=this.geometryRepresentation=this.state=null;this.dragging=!1;this.state=new V.GraphicState({graphic:c})}Object.defineProperty(c.prototype,"graphic",{get:function(){return this.state.graphic},enumerable:!1,configurable:!0});return c}()})},"esri/views/3d/interactive/manipulatorUtils":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec4f64 ../../../layers/graphics/hydratedFeatures ./Manipulator3D ../layers/graphics/graphicUtils ../support/stack ../webgl-engine/lib/Geometry ../webgl-engine/lib/GeometryUtil ../webgl-engine/materials/ColorMaterial ../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x){function J(c,g){void 0===g&&(g=4);var l=m.vec4f64.fromValues(c[0],c[1],c[2],3<c.length?c[3]:1);c=new x.ShadedColorMaterial({color:l,transparent:1>c[3],writeDepth:!0,cullFace:2},"manipulator");c.renderOccluded=g;return c}function F(c,g,l,m){c=C.vec3.normalize(z.sv3d.get(),c);g=C.vec3.normalize(z.sv3d.get(),g);var n=C.vec3.cross(z.sv3d.get(),c,g);m[0]=c[0];m[1]=c[1];m[2]=c[2];m[3]=0;m[4]=g[0];m[5]=g[1];m[6]=g[2];m[7]=0;m[8]=n[0];m[9]=n[1];m[10]=n[2];m[11]=0;m[12]=
l[0];m[13]=l[1];m[14]=l[2];m[15]=1;return m}function t(c,g){var l=c.getViewForGraphic(g);return n.isSome(l)&&"computeAttachmentOrigin"in l?l.computeAttachmentOrigin(g,c.spatialReference):null}Object.defineProperty(c,"__esModule",{value:!0});c.placeAtGraphic=c.getGraphicAttachmentOrigin=c.calculateTranslateRotateFromBases=c.calculateInputRotationTransform=c.createSphereManipulator=c.createManipulatorOutlineMaterial=c.createManipulatorMaterial=void 0;c.createManipulatorMaterial=J;c.createManipulatorOutlineMaterial=
function(c,g){void 0===g&&(g=4);c=m.vec4f64.fromValues(c[0],c[1],c[2],4===c.length?c[3]:1);c=new D({color:c,transparent:!0,writeDepth:!0,cullFace:1},"manipulator-outline");c.renderOccluded=g;return c};c.createSphereManipulator=function(c,g,l){return new w.Manipulator3D({view:c,renderObjects:[{geometry:new A(M.createSphereGeometry(1,32,32),"manipulator"),material:J(m.vec4f64.fromValues(g[0],g[1],g[2],null!=l?l:1))}]})};c.calculateInputRotationTransform=function(c,g,l,m){c=C.vec3.subtract(z.sv3d.get(),
c,l);m=C.vec3.cross(z.sv3d.get(),m,c);l=F(c,m,l,z.sm4d.get());y.mat4.invert(l,l);g=C.vec3.transformMat4(z.sv3d.get(),g,l);return Math.atan2(g[1],g[0])};c.calculateTranslateRotateFromBases=F;c.getGraphicAttachmentOrigin=t;c.placeAtGraphic=function(c,m,w){c=t(c,w);n.isSome(c)?m.elevationAlignedLocation=c:(w=w.geometry,n.isNone(w)||(w=l.computeCentroid(w),n.isNone(w)||(m.location=g.hydrateGeometry(w))))}})},"esri/views/3d/interactive/Manipulator3D":function(){define("require exports ../../../geometry ../../../core/compilerUtils ../../../core/Evented ../../../core/maybe ../../../core/screenUtils ../../../core/accessorSupport/utils ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/vec2 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../geometry/support/aaBoundingRect ../../../layers/graphics/hydratedFeatures ../../3d/support/ElevationProvider ../../3d/support/geometryUtils ../../3d/support/projectionUtils ../../3d/support/stack ../support/pointUtils ../../3d/webgl-engine/lib/Camera ../../3d/webgl-engine/lib/Layer ../../3d/webgl-engine/lib/Object3D".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W,R,O,aa){function Z(c){return 0!==c[12]||0!==c[13]||0!==c[14]}Object.defineProperty(c,"__esModule",{value:!0});c.Manipulator3D=void 0;G=function(){function c(c){this.camera=new R.default;this._elevation={offset:0,override:null};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=
2.5;this.worldOriented=!1;this._modelTransform=M.mat4f64.create();this._worldFrame=null;this._renderLocation=J.vec3f64.create();this._renderLocationDirty=!0;this._location=new n.Point({x:0,y:0,z:0});this._elevationAlignedLocation=new n.Point;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.grabbable=!0;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=0;this._focused=!1;this.events=new C.EventEmitter;this._screenLocation={screenPointArray:g.createScreenPointArray(),
renderScreenPointArray:g.createRenderScreenPointArray3(),pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayerId=null;this._location.spatialReference=c.view.spatialReference;for(var l in c)this[l]=c[l];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}c.prototype.destroy=function(){this._removeResourcesFromStage();this.camera=
this.view=this._engineResources=null};Object.defineProperty(c.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(c){this._elevationInfo=c;this._renderLocationDirty=this._elevationAlignedLocationDirty=!0;this._updateEngineObject()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"renderObjects",{get:function(){return this._renderObjects},set:function(c){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=c.slice();this._updateEngineObject()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"available",{get:function(){return this._available},set:function(c){c!==this._available&&(this._available=c,this._updateEngineObject())},enumerable:!1,configurable:!0});c.prototype.disableDisplay=function(){var c=this;this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:w.once(function(){c._noDisplayCount--;0===c._noDisplayCount&&c._updateEngineObject()})}};Object.defineProperty(c.prototype,"radius",
{get:function(){return this._radius},set:function(c){c!==this._radius&&(this._radius=c,this._updateEngineObject())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"worldSized",{get:function(){return this._worldSized},set:function(c){c!==this._worldSized&&(this._worldSized=c,this._updateEngineObject())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"modelTransform",{get:function(){return this._modelTransform},set:function(c){Z(c)&&(this._screenLocationDirty=!0);
A.mat4.copy(this._modelTransform,c);this._updateEngineObject()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"renderLocation",{get:function(){this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=M.mat4f64.create()),V.computeLinearTransformation(this.view.renderSpatialReference,this._renderLocation,this._worldFrame,this.view.renderSpatialReference),
this._worldFrame[12]=0,this._worldFrame[13]=0,this._worldFrame[14]=0):this._worldFrame&&(this._worldFrame=null));return this._renderLocation},set:function(c){this.view.renderCoordsHelper.fromRenderCoords(c,this._location);this.elevationAlignedLocation=this._location},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"location",{get:function(){return this._location},set:function(c){B.clonePoint(c,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=
!0;this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"elevationAlignedLocation",{get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;this._evaluateElevationAlignment();this._updateElevationAlignedLocation();return this._elevationAlignedLocation},set:function(c){B.clonePoint(c,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;
this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!1,configurable:!0});c.prototype._updateElevationAlignedLocation=function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;var c=m.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=c+this._elevation.offset;this._elevationAlignedLocation.spatialReference=
this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};Object.defineProperty(c.prototype,"grabbing",{get:function(){return this._grabbing},set:function(c){c!==this._grabbing&&(this._grabbing=c,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hovering",{get:function(){return this._hovering},set:function(c){c!==this._hovering&&(this._hovering=
c,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"selected",{get:function(){return this._selected},set:function(c){c!==this._selected&&(this._selected=c,this._updateEngineObject(),this.events.emit("select-changed",{action:c?"select":"deselect"}))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){return this._state},set:function(c){c!==this._state&&(this._state=
c,this._updateEngineObject())},enumerable:!1,configurable:!0});c.prototype.updateStateEnabled=function(c,g){this.state=g?this.state|c:this.state&~c};c.prototype._setFocused=function(c){c!==this._focused&&(this._focused=c,this.events.emit("focus-changed",{action:!0===c?"focus":"unfocus"}))};Object.defineProperty(c.prototype,"focused",{get:function(){return this._focused},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"screenLocation",{get:function(){this.ensureScreenLocation();return this._screenLocation},
enumerable:!1,configurable:!0});c.prototype.ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation);this._screenLocationDirty=!1;var c;Z(this._modelTransform)?(c=this._calculateModelTransformOffset(ba),c=x.vec3.add(c,c,this.renderLocation)):c=this.renderLocation;this.camera.projectPoint(c,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,
this._screenLocation.screenPointArray)}};Object.defineProperty(c.prototype,"applyObjectTransform",{get:function(){return this._applyObjectTransform},set:function(c){this._applyObjectTransform=c;this._screenLocationDirty=!0;this._updateEngineObject()},enumerable:!1,configurable:!0});c.prototype.intersectionDistance=function(c,m){var n;if(!this.available)return null;var t=g.screenPointObjectToArray(c,S);c=this._getCollisionRadius(m);m=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(D.vec2.squaredDistance(this.screenLocation.screenPointArray,
t)<c*c)return this.screenLocation.renderScreenPointArray[2]+m;break;case "line":var w=this.collisionType.paths;n=this._getWorldToScreenObjectScale();n=this._calculateObjectTransform(n,fa);c*=this.screenLocation.pixelSize;for(var t=K.ray.fromScreen(this.camera,t,ea),u=0,A=w;u<A.length;u++)if(w=A[u],0!==w.length)for(var z=x.vec3.transformMat4(ka,w[0],n),B=1;B<w.length;B++){var C=x.vec3.transformMat4(P,w[B],n),O=K.lineSegment.closestRayDistance2(K.lineSegment.fromPoints(z,C,ga),t);if(null!=O&&O<c*c)return n=
x.vec3.add(X.sv3d.get(),z,C),x.vec3.scale(n,n,.5),c=g.castRenderScreenPointArray(X.sv3d.get()),this.camera.projectPoint(n,c),c[2]+m;x.vec3.copy(z,C)}break;case "disc":z=this.collisionType.direction;w=null!==(n=this.collisionType.offset)&&void 0!==n?n:F.ZEROS;n=this._getWorldToScreenObjectScale();n=this._calculateObjectTransform(n,fa);c*=this.screenLocation.pixelSize;t=K.ray.fromScreen(this.camera,t,ea);B=l.mat3.fromMat4(ia,n);z=x.vec3.transformMat3(ca,z,B);B=x.vec3.transformMat4(oa,w,n);K.plane.fromPositionAndNormal(B,
z,T);u=Q;if(K.plane.intersectRay(T,t,u)&&x.vec3.squaredDistance(u,B)<c*c)return this.screenLocation.renderScreenPointArray[2]+m;break;case "ribbon":n=this.collisionType;w=n.paths;z=n.direction;n=this._getWorldToScreenObjectScale();n=this._calculateObjectTransform(n,fa);c*=this.camera.computeScreenPixelSizeAt(this.renderLocation);t=K.ray.fromScreen(this.camera,t,ea);B=l.mat3.fromMat4(ia,n);z=x.vec3.transformMat3(ca,z,B);B=this._calculateModelTransformPosition(oa);K.plane.fromPositionAndNormal(B,z,
T);u=Q;if(!K.plane.intersectRay(T,t,u))break;t=0;for(A=w;t<A.length;t++)if(w=A[t],0!==w.length)for(z=x.vec3.transformMat4(ka,w[0],n),B=1;B<w.length;B++){C=x.vec3.transformMat4(P,w[B],n);O=K.lineSegment.distance2(K.lineSegment.fromPoints(z,C,ga),u);if(null!=O&&O<c*c)return n=x.vec3.add(X.sv3d.get(),z,C),x.vec3.scale(n,n,.5),c=g.castRenderScreenPointArray(X.sv3d.get()),this.camera.projectPoint(n,c),c[2]+m;x.vec3.copy(z,C)}break;default:y.neverReached(this.collisionType)}return null};c.prototype.attach=
function(c){void 0===c&&(c={manipulator3D:{}});if(this.view._stage){c=c.manipulator3D;this._engineLayerId=c.engineLayerId;if(m.isNone(this._engineLayerId)){var g=new O("manipulator-3d",{isPickable:!1});this.view._stage.add(0,g);this.view._stage.addToViewContent([g.id]);this._engineLayerId=g.id;c.engineLayerId=g.id}c.engineLayerReferences=(c.engineLayerReferences||0)+1;this._materialIdReferences=c.materialIdReferences;m.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,c.materialIdReferences=
this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();V.canProject(this._location.spatialReference,this.view.spatialReference)||(this.location=new n.Point({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}};c.prototype.detach=function(c){void 0===c&&(c={manipulator3D:{}});c=c.manipulator3D;c.engineLayerReferences--;var g=0===c.engineLayerReferences;g&&(c.engineLayerId=null);this._removeResourcesFromStage(g);this._materialIdReferences=
this._engineLayerId=this._engineResources=null;this._attached=!1};c.prototype.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};c.prototype.onElevationChange=function(c){W.pointToPoint(this.location,ta,c.spatialReference);t.containsPointObject(c.extent,ta)&&(this.location=this._location)};c.prototype._evaluateElevationAlignment=function(c){void 0===c&&(c=this.location);if(m.isNone(this.elevationInfo))return!1;var g=null,l=
0,n=m.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":g=Y.getElevationAtPoint(this.view.elevationProvider,c,"ground")||0;break;case "relative-to-ground":l=(Y.getElevationAtPoint(this.view.elevationProvider,c,"ground")||0)+n;break;case "relative-to-scene":l=(Y.getElevationAtPoint(this.view.elevationProvider,c,"scene")||0)+n;break;case "absolute-height":l=n}return l!==this._elevation.offset||g!==this._elevation.override?(this._elevation.offset=l,this._elevation.override=
g,!0):!1};c.prototype._updateEngineObject=function(){if(this._attached)if(this.available){var c=this._getWorldToScreenObjectScale(),g=fa;!0===this.autoScaleRenderObjects&&(c*=this._getFocusedSize(this._radius,this.focused));this._calculateObjectTransform(c,g);for(var c=this._ensureEngineResources().objectsByState,l=(this.focused?2:1)|(this.selected?8:4),m=0<this._noDisplayCount,n=0;n<c.length;n++){var u=c[n],t=u.stateMask,u=u.objects;if(m)for(var t=0,w=u;t<w.length;t++)u=w[t],u.setVisible(!1);else if(w=
0===(t&65520)||(this.state&t)===(t&65520),0!==(t&15)&&(l&t)!==(t&15)||!w)for(t=0,w=u;t<w.length;t++)u=w[t],u.setVisible(!1);else for(t=0,w=u;t<w.length;t++)u=w[t],u.setVisible(!0),u.objectTransformation=g}}else this._removeResourcesFromStage()};c.prototype._ensureEngineResources=function(){if(m.isNone(this._engineResources)){var c=this.view._stage.getContent(0,m.unwrap(this._engineLayerId)),g=[],l=new Set;this.renderObjects.forEach(function(c){c=c.material;l.has(c)||(g.push(c),l.add(c))});var n=function(c,
g){var l=g.geometry,m=g.material,n=g.transform;Array.isArray(l)?l.forEach(function(g){return c.addGeometry(g,m,n)}):c.addGeometry(l,m,n)},t=new Map;this.renderObjects.forEach(function(c){var g=new aa({idHint:"manipulator",castShadow:!1});n(g,c);c=c.stateMask||0;var l=t.get(c)||[];l.push(g);t.set(c,l)});var u=[];t.forEach(function(c,g){u.push({stateMask:g,objects:c})});this._engineResources={objectsByState:u,layer:c,materials:g}}this._addResourcesToStage();return this._engineResources};c.prototype._addResourcesToStage=
function(){var c=this;if(!this._engineResourcesAddedToStage&&!m.isNone(this._engineResources)){var g=this._engineResources,l=g.objectsByState,n=g.layer;g.materials.forEach(function(g){var l=m.unwrap(c._materialIdReferences),n=l.get(g.id)||0;0===n&&c.view._stage.add(3,g);l.set(g.id,n+1)});l.forEach(function(g){g.objects.forEach(function(g){n.addObject(g);c.view._stage.add(1,g)})});this._engineResourcesAddedToStage=!0}};c.prototype._removeResourcesFromStage=function(c){var g=this;void 0===c&&(c=!1);
if(this._engineResourcesAddedToStage&&!m.isNone(this._engineResources)){var l=this._engineResources,n=l.layer,t=l.materials;l.objectsByState.forEach(function(c){c.objects.forEach(function(c){n.removeObject(c);g.view._stage.remove(1,c.id)})});t.forEach(function(c){var l=m.unwrap(g._materialIdReferences),n=l.get(c.id);1===n?(g.view._stage.remove(3,c.id),l.delete(c.id)):l.set(c.id,n-1)});c&&this.view._stage.remove(0,n.id);this._engineResourcesAddedToStage=!1}};c.prototype._getCollisionRadius=function(c){return this._getFocusedSize(this.radius,
!0)*("touch"===c?this.touchMultiplier:1)};c.prototype._getFocusedSize=function(c,g){return c*(g?this.focusMultiplier:1)};c.prototype._getWorldToScreenObjectScale=function(){return this._worldSized?1:this.screenLocation.pixelSize};c.prototype._calculateModelTransformPosition=function(c){var g=this._getWorldToScreenObjectScale(),g=this._calculateObjectTransform(g,ha);return x.vec3.set(c,g[12],g[13],g[14])};c.prototype._calculateModelTransformOffset=function(c){var g=this._calculateModelTransformPosition(c);
return x.vec3.subtract(c,g,this.renderLocation)};c.prototype._calculateObjectTransform=function(c,g){A.mat4.set(g,c,0,0,0,0,c,0,0,0,0,c,0,0,0,0,1);this._worldFrame&&A.mat4.multiply(g,g,this._worldFrame);A.mat4.multiply(g,g,this._modelTransform);g[12]+=this.renderLocation[0];g[13]+=this.renderLocation[1];g[14]+=this.renderLocation[2];g[15]=1;m.isSome(this._applyObjectTransform)&&this._applyObjectTransform(g);return g};Object.defineProperty(c.prototype,"test",{get:function(){var c=!1;if(m.isSome(this._engineResources))for(var g in this._engineResources.objectsByState){for(var l=
0,n=this._engineResources.objectsByState[g].objects;l<n.length;l++)if(n[l].isVisible){c=!0;break}if(c)break}return{areAnyResourcesVisible:c}},enumerable:!1,configurable:!0});return c}();c.Manipulator3D=G;var S=g.createScreenPointArray(),ga=K.lineSegment.create(),ea=K.ray.create(),ia=z.mat3f64.create(),ha=M.mat4f64.create(),fa=M.mat4f64.create(),T=K.plane.create(),ka=J.vec3f64.create(),P=J.vec3f64.create(),Q=J.vec3f64.create(),ca=J.vec3f64.create(),oa=J.vec3f64.create(),ba=J.vec3f64.create(),ta=new n.Point({x:0,
y:0,z:0,spatialReference:null})})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["require","exports","../../../../core/maybe","../../../../support/elevationInfoUtils"],function(G,c,n,y){Object.defineProperty(c,"__esModule",{value:!0});c.disableDisplayOnGrab=c.canMoveZ=void 0;c.canMoveZ=function(c,m){void 0===m&&(m=y.getGraphicEffectiveElevationInfo(c));return"on-the-ground"===m.mode||n.isNone(c.geometry)||!c.geometry.hasZ?!1:!0};c.disableDisplayOnGrab=function(c,m){var g=
null,w=c.events.on("grab-changed",function(l){n.isSome(g)&&(g.remove(),g=null);"start"===l.action&&(g=c.disableDisplay());m&&m(l)});return{remove:function(){n.isSome(g)&&g.remove();w.remove()}}}})},"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["require","exports","../../../../core/maybe","./lineGraphicVisualElementUtils","./pointGraphicVisualElementUtils"],function(G,c,n,y,C){Object.defineProperty(c,"__esModule",{value:!0});c.createVisualElements=void 0;c.createVisualElements=
function(c){switch(n.unwrap(c.graphic.geometry).type){case "point":return C.createVisualElements(c);case "polygon":case "polyline":return y.createVisualElements(c);default:return null}}})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("require exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../support/elevationInfoUtils ../Manipulator3D ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J){function F(c,g,l){var m=c.graphic,t=new x.OutlineVisualElement({view:c.view,geometry:Y(m)?m.geometry:null,elevationInfo:w.getGraphicEffectiveElevationInfo(m),attached:!1});A.settings.visualElements.lineGraphics.shadowStyle.apply(t);c=function(){t.attached=g.displaying};A.settings.visualElements.lineGraphics.outline.apply(t);l.push(g.watch("displaying",c),g.watch("isDraped",function(c){return t.isDraped=c}),g.on("changed",function(){return t.geometry=Y(m)?m.geometry:
null}),n.destroyHandle(t));c();return t}function t(c,g,l,m){var t=c.graphic,x=c.view,F=w.getGraphicEffectiveElevationInfo(t),G="on-the-ground"===F.mode||!F.offset&&"absolute-height"!==F.mode,K=new z.ManipulatorState,J=new D.LineVisualElement({view:x,infinite:A.settings.visualElements.zVerticalLine.infiniteType,attached:!1});A.settings.visualElements.pointGraphics.shadowStyle.apply(J);var F=y.deg2rad(A.settings.visualElements.heightPlaneAngleCutoff),R=new M.LaserlineVisualElement({view:x,attached:!1,
angleCutoff:F});A.settings.visualElements.heightPlane.apply(R);var V=1,X=1,T=function(){K.update(c);if(l.displaying&&(!G||!l.isDraped&&Y(t)&&t.geometry.hasZ)){g.laserlineEnabled=!0;var m=K.grabbingState&4?A.settings.visualElements.laserlineAlphaMultiplier:1;m!==V&&(V=m,A.settings.visualElements.lineGraphics.shadowStyle.apply(g,m),A.settings.visualElements.pointGraphics.shadowStyle.apply(J,m));m=K.grabbingState&2?A.settings.visualElements.laserlineAlphaMultiplier:1;m!==X&&(X=m,A.settings.visualElements.heightPlane.apply(R,
m));m=1===K.numSelected?K.firstSelected:1<K.numSelected&&C.isSome(K.firstGrabbedXY)?K.firstGrabbedXY:null;C.isSome(m)?(A.settings.visualElements.zVerticalLine.infinite&&(J.worldDownAtLocation=m.renderLocation),J.attached=!0):J.attached=!1;B(c,g,R,K)}else g.laserlineEnabled=!1,J.attached=!1,R.attached=!1};A.settings.visualElements.zVerticalLine.apply(J);m.push(l.on("changed",T),l.watch("displaying",T),g.events.on("attachment-origin-changed",T),n.destroyHandle(J),n.destroyHandle(R));var W=[],x=function(){n.handlesGroup(W).remove();
W.length=0;c.forEachManipulator(function(c){return W.push(c.events.on("grab-changed",T))});c.forEachManipulator(function(c){return W.push(c.events.on("select-changed",T))});T()};x();m.push(c.onManipulatorsChanged(x),n.refHandle(function(){return n.handlesGroup(W)}))}function B(c,g,n,t){if(0<t.numSelected){m.vec3.set(K,0,0,0);var w=0;c.forEachManipulator(function(c,g){1===g&&c.selected&&c instanceof l.Manipulator3D&&(m.vec3.add(K,K,c.renderLocation),w++)});0<w?(n.heightManifoldTarget=m.vec3.scale(K,
K,1/w),n.attached=!0):n.attached=!1}else g=g.attachmentOrigin,C.isSome(g)&&c.view.renderCoordsHelper.toRenderCoords(g,K)?(n.heightManifoldTarget=K,n.attached=!0):n.attached=!1}function Y(c){return C.isSome(c.geometry)&&("polygon"===c.geometry.type||"polyline"===c.geometry.type)}Object.defineProperty(c,"__esModule",{value:!0});c.createVisualElements=void 0;c.createVisualElements=function(c){var g=c.view,l=c.graphic,m=new J.GraphicState({graphic:l}),w=[],x=F(c,m,w);t(c,x,m,w);w.push(g.maskOccludee(l));
w.push(g.trackGraphicState(m));return{visualElement:x,remove:function(){n.handlesGroup(w).remove()}}};var K=g.vec3f64.create()})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["require","exports","../../../../core/maybe","../Manipulator3D"],function(G,c,n,y){Object.defineProperty(c,"__esModule",{value:!0});c.ManipulatorState=void 0;G=function(){function c(){this.grabbingState=0;this.firstSelected=this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=null}c.prototype.update=
function(c){var g=this;this.grabbingState=0;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;c.forEachManipulator(function(c,l){0===l&&(g.zManipulator=c);c instanceof y.Manipulator3D&&(c.selected&&(0===g.numSelected&&(g.firstSelected=c),g.numSelected++),n.isNone(g.firstGrabbedXY)&&c.grabbing&&1===l&&(g.firstGrabbedXY=c));if(c.grabbing)switch(g.grabbingState|=1,l){case 0:g.grabbingState|=2;break;case 1:g.grabbingState|=4}})};return c}();c.ManipulatorState=G})},
"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("require exports ../../../../core/maybe ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ./LaserlineVisualElement ./VisualElementResources ../../support/geometryUtils ../../support/geometryUtils/clipRay ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F){Object.defineProperty(c,"__esModule",{value:!0});c.LineVisualElement=void 0;G=function(){function c(c){var g=this;this.view=null;this._ray=A.ray.create();this._isWorldDown=!1;this._start=m.vec3f64.create();this._end=m.vec3f64.fromValues(1,0,0);this._width=1;this._color=w.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=w.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._infinite=this._falloff=0;this._laserlineStyle=
null;this._laserlineEnabled=!1;this._occludedMode=4;this.resources=new z.VisualElementResources({view:c.view,cameraChanged:function(){return g.updateGeometry()},createResources:function(c){return g.createResources(c)}});this._laserline=new l.LaserlineVisualElement({view:c.view});var n=!0,t;for(t in c)t in this?"attached"===t?n=c[t]:this[t]=c[t]:console.error("Cannot set unknown property",t);this.attached=n}c.prototype.destroy=function(){this.resources.destroy();this._laserline.destroy()};Object.defineProperty(c.prototype,
"laserlineAttached",{get:function(){return this.attached&&!this.hidden&&this._laserlineEnabled&&n.isSome(this._laserlineStyle)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(c){this.resources.hidden=c;this._laserline.attached=this.laserlineAttached},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this.resources.attached},set:function(c){this.resources.attached=
c;this._laserline.attached=this.laserlineAttached},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"worldDownAtLocation",{set:function(c){this._isWorldDown=!0;C.vec3.copy(this._start,c);this.view.renderCoordsHelper.worldUpAtPosition(c,this._end);C.vec3.subtract(this._end,c,this._end);A.ray.fromPoints(this._start,this._end,this._ray);this.updateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"start",{get:function(){return this._start},set:function(c){this._isWorldDown=
!1;C.vec3.exactEquals(this._start,c)||(C.vec3.copy(this._start,c),A.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"end",{get:function(){return this._end},set:function(c){this._isWorldDown=!1;C.vec3.exactEquals(this._end,c)||(C.vec3.copy(this._end,c),A.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this._width},
set:function(c){c!==this._width&&(this._width=c,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"color",{get:function(){return this._color},set:function(c){g.vec4.exactEquals(c,this._color)||(g.vec4.copy(this._color,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(c){c!==this._innerWidth&&(this._innerWidth=c,this.updateMaterial())},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"innerColor",{get:function(){return this._innerColor},set:function(c){g.vec4.exactEquals(c,this._innerColor)||(g.vec4.copy(this._innerColor,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(c){var g=n.isSome(c)!==n.isSome(this._stipplePattern);this._stipplePattern=c;g?this.resources.recreate():this.updateMaterial()},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(c){if(n.isNone(c)||n.isNone(this._stippleOffColor)||!g.vec4.exactEquals(c,this._stippleOffColor))this._stippleOffColor=n.isSome(c)?w.vec4f32.clone(c):null,this.updateMaterial()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"falloff",{get:function(){return this._falloff},set:function(c){c!==this._falloff&&(this._falloff=c,this.updateMaterial())},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"infinite",{get:function(){return this._infinite},set:function(c){c!==this._infinite&&(this._infinite=c,this.updateGeometry())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(c){this._laserlineStyle=c;this._laserline.attached=this.laserlineAttached;n.isSome(c)&&(this._laserline.style=c)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"laserlineEnabled",{get:function(){return this._laserlineEnabled},set:function(c){this._laserlineEnabled!==c&&(this._laserlineEnabled=c,this._laserline.attached=this.laserlineAttached)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"occludedMode",{get:function(){return this._occludedMode},set:function(c){c!==this._occludedMode&&(this._occludedMode=c,n.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=c))},enumerable:!1,configurable:!0});c.prototype.updateMaterial=
function(){var c=this.resources.resources;n.isNone(c)||c.material.setParameterValues(this.materialParameters)};Object.defineProperty(c.prototype,"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff}},enumerable:!1,configurable:!0});c.prototype.updateGeometry=function(){var c=this.resources.object;n.isNone(c)||this.updateVertices(c)};
c.prototype.updateVertices=function(c){if(this._infinite){var g=this.view.state.camera;M.fromRay(this._ray,t);switch(this._infinite){case 2:t.c0=-Number.MAX_VALUE;break;case 1:case 3:var l=this._ray.origin,m=this.view.elevationProvider.getElevation(l[0],l[1],l[2],this.view.renderCoordsHelper.spatialReference,"ground"),l=this.view.renderCoordsHelper.getAltitude(l);this._isWorldDown&&l<m&&C.vec3.negate(t.ray.direction,t.ray.direction);3===this._infinite&&null!=m&&(t.c1=Math.abs(l-m))}A.frustum.intersectClipRay(g.frustum.planes,
t)?(g=M.getStart(t,B),m=M.getEnd(t,Y),this.updateVertexAttributes(c,g,m),this._laserline.intersectsLine=A.lineSegment.fromPoints(g,m,K)):this.updateVertexAttributes(c,this._start,this._end)}else this.updateVertexAttributes(c,this._start,this._end),this._laserline.intersectsLine=A.lineSegment.fromPoints(this._start,this._end,K)};c.prototype.updateVertexAttributes=function(c,g,l){var m=c.geometryRecords[0].geometry.data.getVertexAttr()[F.RibbonVertexAttributeConstants.POSITION].data;m[0]=g[0];m[1]=
g[1];m[2]=g[2];m[3]=l[0];m[4]=l[1];m[5]=l[2];c.geometryVertexAttrsUpdated(0)};c.prototype.createResources=function(c){var g=[m.vec3f64.create(),m.vec3f64.create()],l=new D(x.createPolylineGeometry(g),"lineVisualElement"),n=new J(this.materialParameters,"lineVisualElement");n.renderOccluded=this._occludedMode;c.addGeometry(l,n,y.mat4f64.IDENTITY);this.updateVertices(c);return{material:n,geometry:l,forEach:function(c){return c(n),c(l)}}};return c}();c.LineVisualElement=G;var t=M.create(),B=m.vec3f64.create(),
Y=m.vec3f64.create(),K=A.lineSegment.create()})},"esri/views/3d/layers/graphics/GraphicState":function(){define(["require","exports","tslib","../../../../core/Evented","../../../../core/accessorSupport/decorators"],function(G,c,n,y,C){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicState=void 0;G=function(c){function g(g){g=c.call(this,g)||this;g.tracking=!1;g.displaying=!1;g.isDraped=!1;return g}n.__extends(g,c);n.__decorate([C.property({constructOnly:!0})],g.prototype,"graphic",void 0);
n.__decorate([C.property()],g.prototype,"tracking",void 0);n.__decorate([C.property()],g.prototype,"displaying",void 0);n.__decorate([C.property()],g.prototype,"isDraped",void 0);return g=n.__decorate([C.subclass("esri.views.3d.layers.graphics.GraphicState")],g)}(y.EventedAccessor);c.GraphicState=G})},"esri/views/3d/interactive/editingTools/pointGraphicVisualElementUtils":function(){define("require exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/watchUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../support/elevationInfoUtils ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/PointVisualElement ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/GraphicState ../../support/pointUtils ../../support/projectionUtils".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V){function X(c,m,w,z){var C=c.view,F=c.graphic,P=new J.LineVisualElement({view:C,infinite:D.settings.visualElements.zVerticalLine.infiniteType,attached:!1});D.settings.visualElements.zVerticalLine.apply(P);var Q=new x.LaserlineVisualElement({view:C,intersectsLineInfinite:!0,attached:!1});D.settings.visualElements.pointGraphics.shadowStyle.apply(Q);var O=y.deg2rad(D.settings.visualElements.heightPlaneAngleCutoff),G=new x.LaserlineVisualElement({view:C,
attached:!1,angleCutoff:O});D.settings.visualElements.heightPlane.apply(G);var O=A.getGraphicEffectiveElevationInfo(c.graphic),K=B.ElevationContext.fromElevationInfo(O),R="on-the-ground"===O.mode||!O.offset&&"absolute-height"!==O.mode,aa=new M.ManipulatorState,ea=1,ia=1,W=function(){aa.update(c);var n=R&&(m.isDraped||!Z(F)||!F.geometry.hasZ),w=!0;if(!n&&Z(F)){var u=F.geometry,x=t.evaluateElevationAlignmentAtPoint(F.geometry,C.elevationProvider,K,C.renderCoordsHelper);g.vec3.set(S,u.x,u.y,x);V.vectorToVector(S,
u.spatialReference,S,C.renderCoordsHelper.spatialReference);P.worldDownAtLocation=S;Q.intersectsWorldUpAtLocation=S}else w=!1;u=aa.grabbingState&2?D.settings.visualElements.laserlineAlphaMultiplier:1;u!==ea&&(ea=u,D.settings.visualElements.heightPlane.apply(G,u));u=l.empty(ga);!n&&m.displaying&&z.calculateMapBounds(u)&&V.vectorToVector(l.getMin(u,S),C.spatialReference,S,C.renderCoordsHelper.spatialReference)?(G.heightManifoldTarget=S,G.attached=!0):G.attached=!1;u=aa.grabbingState&4?D.settings.visualElements.laserlineAlphaMultiplier:
1;u!==ia&&(ia=u,D.settings.visualElements.pointGraphics.shadowStyle.apply(Q,u));n=w&&m.displaying&&!n;Q.attached=n;P.attached=n};w.push(m.watch(["displaying","isDraped"],W),m.on("changed",W));c.forEachManipulator(function(c){w.push(c.events.on("grab-changed",W))});w.push(n.destroyHandle(Q));w.push(n.destroyHandle(P));w.push(n.destroyHandle(G));W()}function W(c,g,l){var m=c.graphic,m=new F.PointVisualElement({view:c.view,geometry:Z(m)?m.geometry:null,elevationInfo:A.getGraphicEffectiveElevationInfo(m),
attached:!1});R(c,m,g,l);l.push(n.destroyHandle(m));return m}function R(c,g,l,n){O(c,g,l,n);D.settings.visualElements.pointGraphics.outline.apply(g);n.push(m.init(l,"displaying",function(){return g.attached=l.displaying}))}function O(c,g,l,m){var t=c.view,w=c.graphic,x=null,y=function(){C.isSome(x)&&(x.remove(),x=null);l.isDraped&&Z(w)&&(x=aa(t,w.geometry,function(){g.geometry=w.geometry}))};c=function(){y();g.geometry=Z(w)?w.geometry:null};m.push(l.on("changed",c),n.refHandle(function(){return x}));
c()}function aa(c,g,l){K.pointToVector(g,S,c.elevationProvider.spatialReference);var m=S[0],n=S[1];return c.elevationProvider.on("elevation-change",function(c){z.containsXY(c.extent,m,n)&&l()})}function Z(c){return C.isSome(c.geometry)&&"point"===c.geometry.type}Object.defineProperty(c,"__esModule",{value:!0});c.createVisualElements=void 0;c.createVisualElements=function(c){var g=c.view,l=new Y.GraphicState({graphic:c.graphic}),m=[],t=W(c,l,m);X(c,l,m,t);m.push(g.trackGraphicState(l));return{visualElement:t,
remove:function(){n.handlesGroup(m).remove()}}};var S=w.vec3f64.create(),ga=l.create()})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("require exports ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/aaBoundingBox ./VisualElementResources ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../support/projectionUtils ../../support/stack ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Texture ../../webgl-engine/lib/Util ../../webgl-engine/materials/HUDMaterial".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K){Object.defineProperty(c,"__esModule",{value:!0});c.PointVisualElement=void 0;G=function(){function c(c){var g=this;this._geometry=this.view=null;this._size=3;this._color=w.vec4f64.fromValues(1,0,1,1);this._primitive="square";this._outlineSize=1;this._outlineColor=w.vec4f64.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new z.VisualElementResources({view:c.view,createResources:function(c){return g.createResources(c)},recreateGeometry:function(c,
l){c.geometry=g.recreateGeometry(l,c.material);return y.isSome(c.geometry)?[c.geometry]:[]}});var l=!0,m;for(m in c)m in this?"attached"===m?l=c[m]:this[m]=c[m]:console.error("Cannot set unknown property",m);this.attached=l}c.prototype.destroy=function(){this.resources.destroy()};Object.defineProperty(c.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(c){this.resources.hidden=c},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"attached",{get:function(){return this.resources.attached},
set:function(c){this.resources.attached=c},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"geometry",{get:function(){return this._geometry},set:function(c){this._geometry=c;this.resources.recreateGeometry()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this._size},set:function(c){if(c!==this._size){var g=this.preferredTextureSize;this._size=c;g<this.preferredTextureSize?y.isSome(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"color",{get:function(){return this._color},set:function(c){g.vec4.exactEquals(c,this._color)||(g.vec4.copy(this._color,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"primitive",{get:function(){return this._primitive},set:function(c){this._primitive!==c&&(this._primitive=c,y.isSome(this.resources)&&this.resources.recreate())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"outlineSize",{get:function(){return this._outlineSize},set:function(c){c!==this._outlineSize&&(this._outlineSize=c,this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(c){g.vec4.exactEquals(c,this._outlineColor)||(g.vec4.copy(this._outlineColor,c),this.updateMaterial())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"elevationInfo",{get:function(){return this._elevationInfo},
set:function(c){this._elevationInfo=c;this.resources&&this.resources.recreateGeometry()},enumerable:!1,configurable:!0});c.prototype.updateMaterial=function(){var c=this.resources.resources;y.isNone(c)||c.material.setParameterValues(this.materialParameters(c.texture.id))};c.prototype.updateSizeAttribute=function(){var c=this.resources.resources,g=this.resources.object;if(!y.isNone(c)&&!y.isNone(g)&&(c=c.geometry,!y.isNone(c))){var c=c.data.getVertexAttr()[Y.VertexAttrConstants.SIZE].data,l=this.geometrySize;
c[0]=l;c[1]=l;g.geometryVertexAttrsUpdated(0)}};c.prototype.materialParameters=function(c){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:X,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:c,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1}};Object.defineProperty(c.prototype,"geometrySize",{get:function(){return this._size/V},enumerable:!1,configurable:!0});c.prototype.recreateGeometry=function(c,
g){var l=this.createRenderGeometry();y.isSome(l)&&c.addGeometry(l,g);return l};c.prototype.createResources=function(c){var g=this.createTexture(),l=new K.default(this.materialParameters(g.id),"pointVisualElement");l.renderOccluded=8;c=this.recreateGeometry(c,l);return{material:l,texture:g,geometry:c,forEach:function(c){c(g);c(l);y.isSome(this.geometry)&&c(this.geometry)}}};Object.defineProperty(c.prototype,"preferredTextureSize",{get:function(){return n.clamp(n.nextHighestPowerOfTwo(2*this.geometrySize),
16,128)},enumerable:!1,configurable:!0});c.prototype.createTexture=function(){var c=this.preferredTextureSize;return new B(D.createType(this._primitive,c,c*V),"pointVisualElement",{mipmap:!1,wrap:{s:33071,t:33071},width:c,height:c,components:4,noUnpackFlip:!0})};c.prototype.calculateMapBounds=function(c){if(y.isNone(this.resources.resources)||y.isNone(this.resources.resources.geometry))return!1;var g=this.resources.resources.geometry.data.getAttribute("position");x.vectorToVector(g.data,this.view.renderCoordsHelper.spatialReference,
W,this.view.spatialReference);l.expandWithBuffer(c,W);return!0};c.prototype.createRenderGeometry=function(){var c=this.geometry;if(y.isNone(c))return null;var g=this.view.renderCoordsHelper,l=A.evaluateElevationAlignmentAtPoint(c,this.view.elevationProvider,M.ElevationContext.fromElevationInfo(this.elevationInfo),g),m=C.vec3.set(J.sv3d.get(),c.x,c.y,l),l=J.sv3d.get();x.vectorToVector(m,c.spatialReference,l,g.spatialReference);c=this.geometrySize;c=t.createPointGeometry(null,l,null,[c,c],[0,0,0,1]);
return new F(c)};return c}();c.PointVisualElement=G;var V=.5,X=[V/2,V/2,1-V/2,1-V/2],W=m.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["require","exports"],function(G,c){Object.defineProperty(c,"__esModule",{value:!0});c.ALIGN_ARROWS_SCALE_THRESHOLD=c.RING_RESET_ANIMATION_SPEED_FACTOR=c.RING_INDICATOR_DELAY_MS=c.ROTATE_INDICATOR_DIRECTION_BUFFER=c.SCALE_INDICATOR_DIRECTION_BUFFER=c.SCALE_INDICATOR_OFFSET2=c.SCALE_INDICATOR_OFFSET1=c.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=
c.DRAG_THRESHOLD_PX=c.SCALE_INDICATOR_ARC_LENGTH=c.ROTATE_INDICATOR_ARC_LENGTH=c.ROTATE_INDICATOR_ARROW_TIP_RADIUS=c.ROTATE_INDICATOR_ARROW_TIP_LENGTH=c.OUTER_INDICATOR_RADIUS=c.INNER_INDICATOR_RADIUS=c.INDICATOR_THICKNESS=c.RING_THICKNESS=c.RING_HEIGHT=c.RING_RADIUS=c.DISC_RADIUS_SMALL=c.DISC_TRANSLATE_ARROW_OFFSET=c.DISC_TRANSLATE_ARROW_SIZE=c.DISC_HEIGHT=c.DISC_COLLISION_RADIUS=c.DISC_RADIUS=c.GEOMETRY_SEGMENTS=c.HANDLE_COLOR=void 0;c.HANDLE_COLOR=[1,.5,0];c.GEOMETRY_SEGMENTS=128;c.DISC_RADIUS=
70;c.DISC_COLLISION_RADIUS=80;c.DISC_HEIGHT=.02;c.DISC_TRANSLATE_ARROW_SIZE=54;c.DISC_TRANSLATE_ARROW_OFFSET=100;c.DISC_RADIUS_SMALL=Math.ceil(c.DISC_RADIUS/3*2);c.RING_RADIUS=160;c.RING_HEIGHT=.5;c.RING_THICKNESS=24;c.INDICATOR_THICKNESS=9;c.INNER_INDICATOR_RADIUS=c.RING_RADIUS+30;c.OUTER_INDICATOR_RADIUS=c.RING_RADIUS+53;c.ROTATE_INDICATOR_ARROW_TIP_LENGTH=60;c.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;c.ROTATE_INDICATOR_ARC_LENGTH=5*Math.PI/12;c.SCALE_INDICATOR_ARC_LENGTH=1*Math.PI/3;c.DRAG_THRESHOLD_PX=
10;c.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=.2;c.SCALE_INDICATOR_OFFSET1=30;c.SCALE_INDICATOR_OFFSET2=53;c.SCALE_INDICATOR_DIRECTION_BUFFER=.2;c.ROTATE_INDICATOR_DIRECTION_BUFFER=.3;c.RING_INDICATOR_DELAY_MS=200;c.RING_RESET_ANIMATION_SPEED_FACTOR=3;c.ALIGN_ARROWS_SCALE_THRESHOLD=1E6})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("require exports tslib ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/has ../../../../../core/maybe ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M){Object.defineProperty(c,"__esModule",{value:!0});c.MoveManipulation=void 0;G=function(c){function l(g){var l=c.call(this)||this;l._handles=new y;l._angleDeferred=null;l._interactive=!0;var m=g.tool,n=g.view,w=g.snapToScene,x=g.radius;l._view=n;l.xyManipulation=new A.MoveXYDiscManipulation({tool:m,view:n,snapToScene:w,radius:x});l.xyAxisManipulation=new z.MoveXYAxisManipulation({tool:m,view:n,radius:x});l.zManipulation=new M.MoveZManipulation({tool:m,view:n,radius:x});
l.xyManipulation.available=g.xyAvailable;l.xyAxisManipulation.available=g.xyAxisAvailable;l.zManipulation.available=g.zAvailable;l.autoHideXYAxis();l.forEachManipulator(function(c){l._handles.add(c.events.on("grab-changed",function(){return l.updateManipulatorInteractivity()}))});return l}n.__extends(l,c);l.prototype.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};l.prototype.createGraphicDragPipeline=function(c,
g){return C.handlesGroup([this.xyManipulation.createGraphicDragPipeline(c,g),this.xyAxisManipulation.createGraphicDragPipeline(c,g),this.zManipulation.createGraphicDragPipeline(c,g)])};l.prototype.createDragPipeline=function(c,g,l){return C.handlesGroup([this.xyManipulation.createDragPipeline(c,g,l),this.xyAxisManipulation.createDragPipeline(c,g,l),this.zManipulation.createDragPipeline(c,l)])};Object.defineProperty(l.prototype,"snapToScene",{set:function(c){this.xyManipulation.snapToScene=c},enumerable:!1,
configurable:!0});Object.defineProperty(l.prototype,"angle",{set:function(c){this._angleDeferred=null;this.xyAxisManipulation.angle=c},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"angleDeferred",{set:function(c){this.xyAxisVisible?this.angle=c():this._angleDeferred=c},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"interactive",{set:function(c){this._interactive!==c&&(this._interactive=c,this.updateManipulatorInteractivity())},enumerable:!1,configurable:!0});
Object.defineProperty(l.prototype,"radius",{set:function(c){this.xyAxisManipulation.radius=c;this.xyManipulation.radius=c;this.zManipulation.radius=c},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"displayScale",{set:function(c){this.xyManipulation.displayScale=c;this.xyAxisManipulation.displayScale=c},enumerable:!1,configurable:!0});l.prototype.forEachManipulator=function(c){this.xyManipulation.forEachManipulator(function(g){return c(g,1)});this.xyAxisManipulation.forEachManipulator(function(g){return c(g,
1)});this.zManipulation.forEachManipulator(function(g){return c(g,0)})};Object.defineProperty(l.prototype,"xyAxisVisible",{get:function(){var c=this.xyManipulation.someManipulator(function(c){return c.focused})||this.xyAxisManipulation.someManipulator(function(c){return c.focused});return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||c},enumerable:!1,configurable:!0});l.prototype.autoHideXYAxis=function(){var c=this,l=this.xyAxisManipulation,n=this.xyManipulation;if(!m("esri-mobile")){var w=
[];n.forEachManipulator(function(c){return w.push(c)});l.forEachManipulator(function(c){return w.push(c)});for(var n=function(){var m=[];c.xyAxisVisible?g.isSome(c._angleDeferred)&&(c.angle=c._angleDeferred()):l.forEachManipulator(function(c){return m.push(c.disableDisplay())});c._handles.remove(D);c._handles.add(m,D)},x=0;x<w.length;x++)this._handles.add(w[x].events.on("focus-changed",n));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",n));n()}};l.prototype.updateManipulatorInteractivity=
function(){var c=this,g=this.grabbing;this.forEachManipulator(function(l){l.interactive=!g&&c._interactive||l.grabbing})};l.radiusForSymbol=function(c){return(c=g.isSome(c)&&"point-3d"===c.type&&c.symbolLayers)&&0<c.length&&c.some(function(c){return"icon"===c.type})?w.DISC_RADIUS_SMALL:w.DISC_RADIUS};return l}(l.Manipulation);c.MoveManipulation=G;var D="disable-xy-axis-display"})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["require","exports","../../Manipulator3D"],
function(G,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.Manipulation=void 0;G=function(){function c(){this._available=!0}Object.defineProperty(c.prototype,"location",{set:function(c){this.forEachManipulator3D(function(m){return m.location=c})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"elevationAlignedLocation",{set:function(c){this.forEachManipulator3D(function(m){return m.elevationAlignedLocation=c})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"elevationInfo",{set:function(c){this.forEachManipulator3D(function(m){return m.elevationInfo=c})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"available",{get:function(){return this._available},set:function(c){this._available=c;this.forEachManipulator3D(function(m){return m.available=c})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"grabbing",{get:function(){return this.someManipulator(function(c){return c.grabbing})},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"dragging",{get:function(){return this.someManipulator(function(c){return c.dragging})},enumerable:!1,configurable:!0});c.prototype.hasManipulator=function(c){return this.someManipulator(function(m){return m===c})};c.prototype.someManipulator=function(c){var m=!1;this.forEachManipulator(function(g){!m&&c(g)&&(m=!0)});return m};c.prototype.forEachManipulator3D=function(c){this.forEachManipulator(function(m,g){m instanceof n.Manipulator3D&&c(m,g)})};return c}();c.Manipulation=G})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("require exports tslib ../../../../../Color ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W,R){Object.defineProperty(c,"__esModule",{value:!0});c.MoveXYAxisManipulation=void 0;G=function(c){function B(g){var l=c.call(this)||this;l._handles=new m;l._arrowManipulatorInfos=[];l._opaqueMaterial=l.createMaterial();l._transparentMaterial=l.createMaterial(.5);l._angle=0;l._scale=1;l._radius=t.DISC_RADIUS;l._updateAfterDrag=!1;l.events=new C;l._tool=g.tool;l._view=g.view;null!=g.radius&&(l._radius=g.radius);l._createManipulators();l.forEachManipulator(function(c){return l._tool.manipulators.add(c)});
return l}n.__extends(B,c);Object.defineProperty(B.prototype,"orthogonalAvailable",{set:function(c){this._arrowManipulatorInfos[1].manipulator.available=c;this._arrowManipulatorInfos[3].manipulator.available=c},enumerable:!1,configurable:!0});B.prototype.destroy=function(){var c=this;this.forEachManipulator(function(g){c._tool.manipulators.remove(g);g.destroy()});this._handles.removeAll();this._view=this._tool=null;this._arrowManipulatorInfos.length=0};B.prototype.forEachManipulator=function(c){this._arrowManipulatorInfos.map(function(g){return c(g.manipulator,
1)})};B.prototype.createGraphicDragPipeline=function(c,g){var l=this,m=c.graphic,n=D.getGraphicEffectiveElevationInfo(m),t=w.unwrap(m.geometry).spatialReference;return Y.createGraphicMoveDragPipeline(c,g,function(c){return l.createDragPipeline(c,n,t)})};B.prototype.createDragPipeline=function(c,l,m){var n=this;return g.handlesGroup(this._arrowManipulatorInfos.map(function(g,t){return R.createManipulatorDragEventPipeline(g.manipulator,function(g,w,x,y){w=w.next(J.screenToMapXYAtLocation(n._view,g.elevationAlignedLocation,
l,m)).next(R.constrainToMapAxis(g.location,n.angle+(t+1)*Math.PI*.5)).next(R.addScreenDelta());c(g,w,x,y)})}))};Object.defineProperty(B.prototype,"angle",{get:function(){return this._angle},set:function(c){this._angle=c;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()},enumerable:!1,configurable:!0});Object.defineProperty(B.prototype,"displayScale",{get:function(){return this._scale},set:function(c){this._scale=c;this._updateManipulatorTransform()},enumerable:!1,configurable:!0});
Object.defineProperty(B.prototype,"radius",{get:function(){return this._radius},set:function(c){this._radius!==c&&(this._radius=c,this._updateManipulators())},enumerable:!1,configurable:!0});B.prototype._updateManipulators=function(){for(var c=0;c<this._arrowManipulatorInfos.length;c++)this._updateArrowManipulator(this._arrowManipulatorInfos[c],c);this._updateManipulatorTransform()};B.prototype._updateArrowManipulator=function(c,g){var m=c.manipulator;c=c.transform;var n=this._radius/t.DISC_RADIUS,
w=t.DISC_TRANSLATE_ARROW_SIZE*n,x=Math.sqrt(w*w*3/4),w=X.createExtrudedTriangle(x,w/2,w/2,t.DISC_HEIGHT);X.transformInPlace(w,l.mat4.fromTranslation(K.sm4d.get(),A.vec3.set(K.sv3d.get(),0,-x/3,0)));w=new V(w,"move-xy-axis-arrow");m.renderObjects=[{geometry:w,material:this._opaqueMaterial,stateMask:2},{geometry:w,material:this._transparentMaterial,stateMask:1}];m.radius=x/3*2.4;m=l.mat4.identity(K.sm4d.get());l.mat4.fromZRotation(m,g*Math.PI/2);g=l.mat4.identity(K.sm4d.get());l.mat4.fromTranslation(g,
A.vec3.set(K.sv3d.get(),0,t.DISC_TRANSLATE_ARROW_OFFSET*n,0));l.mat4.multiply(c,m,g)};B.prototype._createManipulators=function(){for(var c=0;4>c;c++){var g=this._createArrowManipulator(c);this._arrowManipulatorInfos.push(g)}this._updateManipulatorTransform()};B.prototype._updateManipulatorTransform=function(){var c=this.angle,g=l.mat4.identity(K.sm4d.get());l.mat4.rotate(g,g,c,M.vec3f64.fromValues(0,0,1));var m=l.mat4.fromScaling(K.sm4d.get(),A.vec3.set(K.sv3d.get(),this.displayScale,this.displayScale,
this.displayScale)),c=l.mat4.identity(K.sm4d.get());l.mat4.multiply(c,m,g);g=0;for(m=this._arrowManipulatorInfos;g<m.length;g++){var n=m[g],t=l.mat4.multiply(K.sm4d.get(),c,n.transform);n.manipulator.modelTransform=t}};B.prototype._createArrowManipulator=function(c){var g=this,l=new x.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:M.vec3f64.fromValues(0,0,1)}}),m={manipulator:l,transform:z.mat4f64.create()};
this._updateArrowManipulator(m,c);this._handles.add(l.events.on("drag",function(c){g._updateAfterDrag&&"end"===c.action&&!g.dragging&&(g._updateManipulatorTransform(),g._updateAfterDrag=!1)}));return m};B.prototype.createMaterial=function(c){void 0===c&&(c=1);var g=y.toUnitRGBA(F.colors.main);g[3]*=c;c=new W({color:g,transparent:1!==c,cullFace:2},"graphic-transform");c.renderOccluded=2;return c};Object.defineProperty(B.prototype,"test",{get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(function(c){return c.manipulator})}},
enumerable:!1,configurable:!0});return B}(B.Manipulation);c.MoveXYAxisManipulation=G})},"esri/views/3d/interactive/editingTools/dragEventPipeline3D":function(){define("require exports tslib ../../../../geometry ../../../../core/mathUtils ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../support/elevationInfoUtils ../../support/geometryUtils ../../support/geometryUtils ../../support/pointUtils ../../support/stack ../../webgl-engine/lib/Intersector ../../webgl-engine/lib/intersectorUtils ../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t){function B(c,m){var t=l.vec3f64.create(),w=l.vec3f64.create(),y=!1;return function(l){if("start"===l.action){var z=g.screenPointObjectToArray(l.screenStart,g.castScreenPointArray(x.sv2d.get())),z=M.ray.fromScreen(c.state.camera,z,Z);y=M.plane.intersectRay(m,z,t)}if(!y)return null;z=g.screenPointObjectToArray(l.screenEnd,g.castScreenPointArray(x.sv2d.get()));z=M.ray.fromScreen(c.state.camera,z,Z);return M.plane.intersectRay(m,z,w)?n.__assign(n.__assign({},
l),{renderStart:t,renderEnd:w,plane:m,ray:z}):null}}function Y(c,l,t,w){void 0===w&&(w=null);var x=null;return function(y){if("start"===y.action&&(x=c.sceneIntersectionHelper.intersectElevationFromScreen(g.createScreenPointArray(y.screenStart.x,y.screenStart.y),l,t),m.isSome(x)&&m.isSome(w)&&!D.pointToPoint(x,x,w))||m.isNone(x))return null;var z=c.sceneIntersectionHelper.intersectElevationFromScreen(g.createScreenPointArray(y.screenEnd.x,y.screenEnd.y),l,t);return m.isSome(z)?m.isSome(w)&&!D.pointToPoint(z,
z,w)?null:n.__assign(n.__assign({},y),{mapStart:x,mapEnd:z}):null}}function K(c,g,l,m){void 0===m&&(m=null);g=z.getZForElevationMode(g,c,l);return Y(c,l,g,m)}function V(c,g,l,m){void 0===m&&(m=null);return K(c,l,z.getGraphicEffectiveElevationInfo(g),m)}function X(c,g){var l=O,m=aa,n=M.plane.create();c.renderCoordsHelper.worldUpAtPosition(g,l);c=w.vec3.cross(n,l,w.vec3.subtract(m,g,c.state.camera.eye));w.vec3.cross(c,c,l);return M.plane.fromPositionAndNormal(g,c,n)}function W(c,g){var m=l.vec3f64.create(),
n=w.vec3.length(g);c.renderCoordsHelper.worldUpAtPosition(g,m);var t=l.vec3f64.create(),x=l.vec3f64.create(),y=function(l){w.vec3.subtract(l,l,g);A.vector.projectPoint(m,l,l);"global"===c.viewingMode&&w.vec3.length(l)*C.sign(w.vec3.dot(m,l))<-n+.001&&w.vec3.subtract(l,w.vec3.scale(l,m,.001),g);w.vec3.add(l,l,g);return l};return function(c){c.renderStart=y(w.vec3.copy(t,c.renderStart));c.renderEnd=y(w.vec3.copy(x,c.renderEnd));return c}}function R(c,g){var l=c.renderCoordsHelper;return function(c){var t=
l.fromRenderCoords(c.renderStart,new y.Point,g),w=l.fromRenderCoords(c.renderEnd,new y.Point,g);return m.isSome(t)&&m.isSome(w)?n.__assign(n.__assign({},c),{mapStart:t,mapEnd:w}):null}}Object.defineProperty(c,"__esModule",{value:!0});c.screenToMap3D=c.hideManipulatorWhileDragging=c.convertToMapCoordinates=c.projectToWorldUp=c.screenToZConstrained=c.screenToMapXYForGraphic=c.screenToMapXYForGraphicAtLocation=c.screenToMapXYAtLocation=c.screenToMapXY=c.screenToRenderPlane=void 0;c.screenToRenderPlane=
B;c.screenToMapXY=Y;c.screenToMapXYAtLocation=K;c.screenToMapXYForGraphicAtLocation=V;c.screenToMapXYForGraphic=function(c,g,l,n){c=g.toMap(c.screenStart,{include:[l]});return m.isSome(c)?V(g,l,c,n):null};c.screenToZConstrained=function(c,g,l){var m=null,n=new t.EventPipeline;n.next(B(c,X(c,g))).next(W(c,g)).next(R(c,l)).next(function(c){c.mapEnd.x=c.mapStart.x;c.mapEnd.y=c.mapStart.y;m=c});return function(c){m=null;n.execute(c);return m}};c.projectToWorldUp=W;c.convertToMapCoordinates=R;c.hideManipulatorWhileDragging=
function(c){var g=null;return function(l){switch(l.action){case "start":g=c.disableDisplay();break;case "end":case "cancel":m.isSome(g)&&(g.remove(),g=null)}return l}};c.screenToMap3D=function(c,t){void 0===t&&(t=null);var w=null,x=new J.Intersector(c.state.mode);x.options.selectionMode=!0;x.options.store=0;var z=g.createScreenPointArray(),A={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},B=l.vec3f64.create(),C=m.unwrapOr(t,c.spatialReference),D=function(l){c.map.ground&&1>c.map.ground.opacity?
A.exclude.add(F.TERRAIN_ID):A.exclude.delete(F.TERRAIN_ID);c.sceneIntersectionHelper.intersectIntersectorScreen(g.screenPointObjectToArray(l,z),x,A);l=x.results.min;if(l.getIntersectionPoint(B))l="TerrainRenderer"===l.intersector?0:1;else if(x.results.ground.getIntersectionPoint(B))l=0;else return null;var m=new y.Point({spatialReference:C});c.renderCoordsHelper.fromRenderCoords(B,m);return{location:m,surfaceType:l}};return function(c){if("start"===c.action){var g=D(c.screenStart);w=m.isSome(g)?g.location:
null}if(m.isNone(w))return null;g=D(c.screenEnd);return m.isSome(g)?n.__assign(n.__assign({},c),{mapStart:w,mapEnd:g.location,surfaceType:g.surfaceType}):null}};var O=l.vec3f64.create(),aa=l.vec3f64.create(),Z=M.ray.create()})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define("require exports ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat2 ../../../../../core/libs/gl-matrix-2/mat2f64 ../../../../../core/libs/gl-matrix-2/vec2 ../../../../../core/libs/gl-matrix-2/vec2f64 ../../../../../geometry/geometryEngine ../../../../../geometry/support/aaBoundingRect ../../../support/mathUtils ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A){function M(c){for(var g=0,l=0,m=0;m<c.length;m++)var n=c[m],g=g+n[0],l=l+n[1];g/=c.length;l/=c.length;for(m=0;m<c.length;m++)n=c[m],n[0]-=g,n[1]-=l}Object.defineProperty(c,"__esModule",{value:!0});c.primaryShapeOrientation=c.createGraphicMoveDragPipeline=void 0;c.createGraphicMoveDragPipeline=function(c,g,l){var m=c.graphic,n=function(c,l){return g({action:c,graphic:m,dxScreen:l.screenDeltaX,dyScreen:l.screenDeltaY})};return l(function(c,g,l){g.next(function(c){"start"===
c.action&&n("start",c);return c}).next(A.dragGraphic(m)).next(function(c){switch(c.action){case "start":case "update":(c.translationX||c.translationY||c.translationZ)&&n("update",c);break;case "end":n("end",c)}return c});l.next(A.resetGraphic(m)).next(function(){n("end",{screenDeltaX:0,screenDeltaY:0})})})};c.primaryShapeOrientation=function(c){if(n.isNone(c)||"polyline"!==c.type&&"polygon"!==c.type)return 0;c=(c=w.convexHull(c))&&c.rings&&c.rings[0];if(!c)return 0;M(c);for(var g=[],A=0;A<c.length-
1;A++){var C=Math.atan2(c[A+1][1]-c[A][1],c[A+1][0]-c[A][0]),C=z.cyclical2PI.normalize(C)%(Math.PI/2);g.push(C)}for(var g=g.sort(function(c,g){return c-g}),A=null,G=0,F=Number.POSITIVE_INFINITY,X=0,W=0;W<g.length;W++)if(C=g[W],C!==A){A=C;y.mat2.fromRotation(D,C);l.empty(x);for(var R=0,O=c;R<O.length;R++)m.vec2.transformMat2(J,O[R],D),l.expandPointInPlace(x,J);R=l.area(x);if(.99<=(R>F?F/R:R/F)&&C<G||R<F)G=C,F=R;X=Math.max(X,R)}return.95<=F/X?0:G};var D=C.mat2f64.create(),x=l.create(),J=g.vec2f64.create()})},
"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("require exports tslib ../../../../../Color ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W){Object.defineProperty(c,"__esModule",{value:!0});c.MoveXYDiscManipulation=void 0;G=function(c){function F(g){var l=c.call(this)||this;l._handles=new C;l._snapToScene=new B.SnapToScene;l._discMaterial=l._createMaterial();l._discMaterialTransparent=l._createMaterial(.5);l._scale=1;l._radius=J.DISC_RADIUS;l._view=g.view;l._tool=g.tool;null!=g.snapToScene&&(l.snapToScene=g.snapToScene);null!=g.radius&&(l._radius=g.radius);l._createManipulator();
l.forEachManipulator(function(c){return l._tool.manipulators.add(c)});return l}n.__extends(F,c);F.prototype.destroy=function(){var c=this;this._handles.destroy();this.forEachManipulator(function(g){c._tool.manipulators.remove(g);g.destroy()});this._manipulator=this._view=this._tool=null};F.prototype.forEachManipulator=function(c){c(this._manipulator,1)};Object.defineProperty(F.prototype,"displayScale",{get:function(){return this._scale},set:function(c){this._scale=c;this._updateManipulatorTransform()},
enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"snapToScene",{get:function(){return this._snapToScene.enabled},set:function(c){this._snapToScene.enabled=c},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"radius",{get:function(){return this._radius},set:function(c){c!==this._radius&&(this._radius=c,this._updateManipulator())},enumerable:!1,configurable:!0});F.prototype.createGraphicDragPipeline=function(c,g){var l=this,n=c.graphic,w=A.getGraphicEffectiveElevationInfo(n),
x=m.unwrap(n.geometry).spatialReference;return t.createGraphicMoveDragPipeline(c,g,function(c){return l.createDragPipeline(c,w,x)})};F.prototype.createDragPipeline=function(c,g,l){var m=this,n=this._view;return W.createManipulatorDragEventPipeline(this._manipulator,function(t,w,x,y){w=w.next(W.dragAtLocation(n,t.elevationAlignedLocation)).next(D.screenToMapXYAtLocation(n,t.elevationAlignedLocation,g,l)).next(m._snapToScene.createDragEventPipelineStep(n,g),m._snapToScene.next).next(W.addScreenDelta());
c(t,w,x,y)})};F.prototype._updateManipulatorTransform=function(){var c=g.mat4.fromScaling(Y.sm4d.get(),l.vec3.set(Y.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=c};F.prototype._createManipulator=function(){this._manipulator=new M.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:z.vec3f64.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};
F.prototype._updateManipulator=function(){var c=new K(V.createCylinderGeometry(J.DISC_HEIGHT,1,J.GEOMETRY_SEGMENTS,z.vec3f64.fromValues(0,0,1),z.vec3f64.fromValues(0,0,0)),"graphic-transform-disc"),l=g.mat4.fromScaling(w.mat4f64.create(),z.vec3f64.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:c,material:this._discMaterial,transform:l,stateMask:2},{geometry:c,material:this._discMaterialTransparent,transform:l,stateMask:1}];this._manipulator.radius=this._radius/
J.DISC_RADIUS*J.DISC_COLLISION_RADIUS};F.prototype._createMaterial=function(c){void 0===c&&(c=1);var g=y.toUnitRGBA(x.colors.main);g[3]*=c;c=new X({color:g,transparent:1!==c,cullFace:2},"move-xy-disc");c.renderOccluded=2;return c};Object.defineProperty(F.prototype,"test",{get:function(){return{discManipulator:this._manipulator}},enumerable:!1,configurable:!0});return F}(F.Manipulation);c.MoveXYDiscManipulation=G})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define("require exports tslib ../../../../../core/maybe ../../../../../support/elevationInfoUtils ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m){Object.defineProperty(c,"__esModule",{value:!0});c.SnapToScene=void 0;G=function(){function c(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new m.EventPipeline;this._enabled=!1}Object.defineProperty(c.prototype,"enabled",{get:function(){return this._enabled},set:function(c){if(this._enabled!==c&&y.isSome(this.lastDragEvent)){var g=this.lastDragEvent.mapEnd,m=this.snap(this.lastDragEvent.screenEnd);y.isSome(m)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,
mapEnd:!0===c?m:g,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=c},enumerable:!1,configurable:!0});c.prototype.snap=function(c){c=y.isSome(this.view)?this.view.toMap(c,{exclude:[]}):null;y.isSome(c)&&y.isSome(this.view)&&(c.z=C.getZForElevationMode(c,this.view,this.elevationInfo));return c};c.prototype.createDragEventPipelineStep=function(c,g){var l=this;this.view=c;this.elevationInfo=g;this.lastDragEvent=null;return function(c){l.lastDragEvent="end"!==
c.action?n.__assign({},c):null;if(l._enabled){var g=l.snap(c.screenEnd);return y.isSome(g)?{action:c.action,mapStart:c.mapStart,mapEnd:g,screenStart:c.screenStart,screenEnd:c.screenEnd}:null}return{action:c.action,mapStart:c.mapStart,mapEnd:c.mapEnd,screenStart:c.screenStart,screenEnd:c.screenEnd}}};return c}();c.SnapToScene=G})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("require exports tslib ../../../../../core/colorUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X){Object.defineProperty(c,"__esModule",{value:!0});c.MoveZManipulation=void 0;G=function(c){function B(g){var l=c.call(this)||this;l._handles=new m;l._radius=t.DISC_RADIUS;l.events=new C;l._tool=g.tool;l._view=g.view;null!=g.radius&&(l._radius=g.radius);l.createManipulator();l.forEachManipulator(function(c){return l._tool.manipulators.add(c)});return l}n.__extends(B,c);B.prototype.destroy=function(){var c=this;this._handles.destroy();this.forEachManipulator(function(g){c._tool.manipulators.remove(g);
g.destroy()})};B.prototype.forEachManipulator=function(c){c(this._manipulator,0)};B.prototype.createGraphicDragPipeline=function(c,g){var l=this,m=w.unwrap(c.graphic.geometry).spatialReference;return Y.createGraphicMoveDragPipeline(c,g,function(c){return l.createDragPipeline(c,m)})};B.prototype.createDragPipeline=function(c,g){var l=this._view;return X.createManipulatorDragEventPipeline(this._manipulator,function(m,n,t,w){n=n.next(J.screenToZConstrained(l,m.renderLocation,g)).next(X.addScreenDelta());
c(m,n,t,w)})};Object.defineProperty(B.prototype,"radius",{get:function(){return this._radius},set:function(c){c!==this._radius&&(this._radius=c,this.updateManipulator())},enumerable:!1,configurable:!0});B.prototype.updateManipulator=function(){var c=this._radius/t.DISC_RADIUS,g=F.settings.zManipulator.height*c,m=F.settings.zManipulator.coneHeight*c,n=F.settings.zManipulator.coneWidth*c,c=F.settings.zManipulator.width*c,w=[M.vec3f64.fromValues(0,0,0),M.vec3f64.fromValues(0,0,g)],w=new K(V.createTubeGeometry(w,
c/2,16,!1),"move-z"),A=V.createConeGeometry(m,n/2,16,!1),A=new K(A),m=[M.vec3f64.fromValues(0,0,0),M.vec3f64.fromValues(0,0,g+m)],B=function(c){var m=z.mat4f64.create();l.mat4.translate(m,m,[0,0,g]);l.mat4.rotateX(m,m,Math.PI/2);c&&(c=1+2*c/n,l.mat4.scale(m,m,[c,c,c]));return m}(0),C=function(c,g){g=y.darken(F.settings.zManipulator.color,g);return[g.r/255,g.g/255,g.b/255,F.settings.zManipulator.color.a*c]},D=x.createManipulatorMaterial(C(1,.25),1),G=x.createManipulatorMaterial(C(1,0),1),J=x.createManipulatorMaterial(C(.7,
0),F.settings.zManipulator.occludedFlag),C=x.createManipulatorMaterial(C(.85,0),F.settings.zManipulator.occludedFlag);this._manipulator.renderObjects=[{geometry:A,transform:B,material:D,stateMask:1},{geometry:w,material:D,stateMask:1},{geometry:A,transform:B,material:G,stateMask:2},{geometry:w,material:G,stateMask:2},{geometry:A,transform:B,material:J,stateMask:1},{geometry:w,material:J,stateMask:1},{geometry:A,transform:B,material:C,stateMask:2},{geometry:w,material:C,stateMask:2}];this._manipulator.radius=
c/2+2;this._manipulator.collisionType={type:"line",paths:[m]}};B.prototype.createManipulator=function(){var c=this,l=new D.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});l.applyObjectTransform=function(l){var m=c._view.state.camera,n=W;c._view.renderCoordsHelper.toRenderCoords(c._manipulator.elevationAlignedLocation,n);var w=A.vec3.dist(m.eye,n),x=m.computeRenderPixelSizeAtDist(w),
y=A.vec3.subtract(R,n,m.eye);A.vec3.normalize(y,y);var z=O;c._view.renderCoordsHelper.worldUpAtPosition(W,z);n=Math.abs(A.vec3.dot(y,z));y=A.vec3.cross(R,y,z);z=A.vec3.cross(R,y,z);n=g.clamp(n,.01,1);m=1-Math.sqrt(1-n*n)/n/m.fullWidth;n=c._radius/t.DISC_RADIUS*F.settings.zManipulator.width;A.vec3.scale(z,A.vec3.normalize(z,z),(1/m-1)*w+x*n);l[12]-=R[0];l[13]-=R[1];l[14]-=R[2]};this._manipulator=l;this.updateManipulator()};return B}(B.Manipulation);c.MoveZManipulation=G;var W=M.vec3f64.create(),R=
M.vec3f64.create(),O=M.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("require exports tslib ../../../../../core/Handles ../../../../../core/maybe ../dragEventPipeline3D ./Manipulation ./moveUtils ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator".split(" "),function(G,c,n,y,C,m,g,w,l,z){Object.defineProperty(c,"__esModule",{value:!0});c.MoveXYGraphicManipulation=void 0;G=function(c){function g(g){var l=
c.call(this)||this;l._handles=new y;l._view=g.view;l._tool=g.tool;l._graphicState=g.graphicState;l._createManipulator();l.forEachManipulator(function(c){return l._tool.manipulators.add(c)});return l}n.__extends(g,c);g.prototype.destroy=function(){var c=this;this._handles.destroy();this.forEachManipulator(function(g){c._tool.manipulators.remove(g);g.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};g.prototype.forEachManipulator=function(c){c(this._manipulator,1)};g.prototype.createGraphicDragPipeline=
function(c){var g=this;return w.createGraphicMoveDragPipeline(this._graphicState,c,function(c){return g.createDragPipeline(c)})};g.prototype.createDragPipeline=function(c){var g=this._view,n=this._graphicState.graphic,w=C.isSome(n.geometry)?n.geometry.spatialReference:null;return l.createManipulatorDragEventPipeline(this._manipulator,function(t,x,y,z){x=x.next(m.screenToMapXYForGraphic(z,g,n,w)).next(l.addMapDelta()).next(l.addScreenDelta());c(t,x,y,z)})};g.prototype._createManipulator=function(){this._manipulator=
new z.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return g}(g.Manipulation);c.MoveXYGraphicManipulation=G})},"esri/views/interactive/GraphicManipulator":function(){define("require exports tslib ../../core/Accessor ../../core/Evented ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../../core/libs/gl-matrix-2/vec2 ../../core/libs/gl-matrix-2/vec3 ../../core/libs/gl-matrix-2/vec3f64 ../../geometry/support/webMercatorUtils ../../support/elevationInfoUtils ../../symbols/support/defaults ../../symbols/support/ElevationInfo ../support/drapedUtils".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicManipulator=void 0;var B=m.getLogger("esri.views.interactive.GraphicManipulator");G=function(c){function m(g){g=c.call(this,g)||this;g.layer=null;g.interactive=!0;g.selectable=!1;g.grabbable=!0;g.dragging=!1;g.cursor=null;g.events=new C.EventEmitter;g._circleCollisionCache=null;g._graphicSymbolChangedHandle=null;g._originalSymbol=null;return g}n.__extends(m,c);Object.defineProperty(m.prototype,"graphic",
{set:function(c){"mesh"===g.get(c.geometry,"type")?B.error("Mesh geometries are not supported"):(this._circleCollisionCache=null,this._originalSymbol=c.symbol,this._set("graphic",c),this.attachSymbolChanged())},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"elevationInfo",{get:function(){var c="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,g=x.getGraphicEffectiveElevationMode(this.graphic);return new F({mode:g,offset:c?c.offset:0})},enumerable:!1,configurable:!0});
Object.defineProperty(m.prototype,"focusedSymbol",{set:function(c){c!==this._get("focusedSymbol")&&(this._set("focusedSymbol",c),this._updateGraphicSymbol(),this._circleCollisionCache=null)},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"grabbing",{set:function(c){c!==this._get("grabbing")&&(this._set("grabbing",c),this._updateGraphicSymbol())},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"hovering",{set:function(c){c!==this._get("hovering")&&(this._set("hovering",
c),this._updateGraphicSymbol())},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"selected",{set:function(c){c!==this._get("selected")&&(this._set("selected",c),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:c?"select":"deselect"}))},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"_focused",{get:function(){return this._get("hovering")||this._get("grabbing")},enumerable:!1,configurable:!0});m.prototype.destroy=function(){this.detachSymbolChanged();
this._resetGraphicSymbol();this._set("view",null)};m.prototype.intersectionDistance=function(c){var l=this._get("graphic");if(!1===l.visible)return null;var m=this._get("focusedSymbol"),m=g.isSome(m)?m:l.symbol,n=l.geometry;if(g.isNone(n))return null;var t=this._get("view");return"2d"===t.type?this._intersectDistance2D(c,t,n,m):this._intersectDistance3D(c,t,l)};m.prototype.attach=function(){this.attachSymbolChanged();g.isSome(this.layer)&&this.layer.add(this.graphic)};m.prototype.detach=function(){this.detachSymbolChanged();
this._resetGraphicSymbol();g.isSome(this.layer)&&this.layer.remove(this.graphic)};m.prototype.attachSymbolChanged=function(){var c=this;this.detachSymbolChanged();this._graphicSymbolChangedHandle=this.graphic.watch("symbol",function(l){g.isSome(l)&&l!==c.focusedSymbol&&l!==c._originalSymbol&&(c._originalSymbol=l,c._focused&&g.isSome(c.focusedSymbol)&&(c.graphic.symbol=c.focusedSymbol))},!0)};m.prototype.detachSymbolChanged=function(){g.isSome(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),
this._graphicSymbolChangedHandle=null)};m.prototype._updateGraphicSymbol=function(){this.graphic.symbol=this._focused&&g.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};m.prototype._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};m.prototype._intersectDistance2D=function(c,l,m,n){n=n||J.getDefaultSymbol2D(m);if(g.isNone(n))return null;var x=this._circleCollisionCache;if("point"!==m.type||"simple-marker"!==n.type)return x=t.intersectsDrapedGeometry(c,m,l),
g.isSome(x)?1:null;if(g.isNone(x)||!x.originalPoint.equals(m)){var y=l.spatialReference;D.canProject(m,y)&&(x=D.project(m,y),this._circleCollisionCache=x={originalPoint:m.clone(),mapPoint:x,radiusPx:w.pt2px(n.size)})}return g.isSome(x)?(c=w.screenPointObjectToArray(c,K),l=l.state.toScreen(V,x.mapPoint.x,x.mapPoint.y),x=x.radiusPx,z.vec2.squaredDistance(c,l)<x*x?1:null):null};m.prototype._intersectDistance3D=function(c,g,l){c=g.toMap(c,{include:[l]});if(!c)return null;l=Y;return g.renderCoordsHelper.toRenderCoords(c,
l)?A.vec3.distance(l,g.state.camera.eye):null};n.__decorate([l.property({constructOnly:!0,nonNullable:!0})],m.prototype,"graphic",null);n.__decorate([l.property({readOnly:!0,dependsOn:["graphic"]})],m.prototype,"elevationInfo",null);n.__decorate([l.property({constructOnly:!0,nonNullable:!0})],m.prototype,"view",void 0);n.__decorate([l.property({value:null})],m.prototype,"focusedSymbol",null);n.__decorate([l.property({constructOnly:!0})],m.prototype,"layer",void 0);n.__decorate([l.property()],m.prototype,
"interactive",void 0);n.__decorate([l.property()],m.prototype,"selectable",void 0);n.__decorate([l.property()],m.prototype,"grabbable",void 0);n.__decorate([l.property({value:!1})],m.prototype,"grabbing",null);n.__decorate([l.property()],m.prototype,"dragging",void 0);n.__decorate([l.property()],m.prototype,"hovering",null);n.__decorate([l.property({value:!1})],m.prototype,"selected",null);n.__decorate([l.property()],m.prototype,"cursor",void 0);return m=n.__decorate([l.subclass("esri.views.interactive.GraphicManipulator")],
m)}(y);c.GraphicManipulator=G;var Y=M.vec3f64.create(),K=w.createScreenPointArray(),V=w.createScreenPointArray()})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(G,c,n,y,C,m){function g(c,g,m,w){void 0===w&&(w=new n.Extent);var l;if("2d"===m.type)l=g*m.resolution;else if("3d"===m.type){var x=m.basemapTerrain,y=x.overlayManager,y=y?y.overlayPixelSizeInMapUnits(c):
1;l=x&&!x.spatialReference.equals(m.spatialReference)?C.getMetersPerUnitForSR(x.spatialReference)/C.getMetersPerUnitForSR(m.spatialReference):g*y}g=c.x-l;x=c.y-l;y=c.x+l;c=c.y+l;m=m.spatialReference;w.xmin=Math.min(g,y);w.ymin=Math.min(x,c);w.xmax=Math.max(g,y);w.ymax=Math.max(x,c);w.spatialReference=m;return w}Object.defineProperty(c,"__esModule",{value:!0});c.intersectsDrapedGeometry=c.createQueryGeometry=void 0;c.createQueryGeometry=g;c.intersectsDrapedGeometry=function(c,n,A){c=A.toMap(c);if(y.isNone(c))return null;
var l=m.calculateTolerance();return g(c,l,A,w).intersects(n)?c:null};var w=new n.Extent})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(G,c){function n(c,g){return g?"xoffset"in g&&g.xoffset?Math.max(c,Math.abs(g.xoffset)):"yoffset"in g&&g.yoffset?Math.max(c,Math.abs(g.yoffset||0)):c:c}function y(c,g){if("number"===typeof c)return c;if(c&&c.stops&&c.stops.length){c=c.stops;for(var m=g=0,l=0;l<c.length;l++){var n=c[l].size;"number"===typeof n&&(g+=n,
m++)}return g/m}return g}function C(c,g){if(!g)return c;g=g.filter(function(c){return"size"===c.type}).map(function(g){var l=g.minSize;return(y(g.maxSize,c)+y(l,c))/2});var m=0,l=g.length;if(0===l)return c;for(var n=0;n<l;n++)m+=g[n];return Math.max(Math.floor(m/l),c)}Object.defineProperty(c,"__esModule",{value:!0});c.calculateTolerance=void 0;c.calculateTolerance=function(c){var g=c&&c.renderer;c="touch"===(c&&c.event&&c.event.pointerType)?9:6;if(!g)return c;c="visualVariables"in g?C(c,g.visualVariables):
c;if("simple"===g.type)return n(c,g.symbol);if("unique-value"===g.type){var m=c;g.uniqueValueInfos.forEach(function(c){m=n(m,c.symbol)});return m}if("class-breaks"===g.type){var l=c;g.classBreakInfos.forEach(function(c){l=n(l,c.symbol)});return l}return c}})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(G,c,n,y,C){Object.defineProperty(c,
"__esModule",{value:!0});c.isSupportedGraphic=void 0;c.isSupportedGraphic=function(c){if("graphics"!==c.layer.type)return 1;if(y.isNone(c.geometry))return 2;var g=c.geometry.type;switch(g){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return n.neverReached(g),3}return"on-the-ground"!==C.getGraphicEffectiveElevationMode(c)&&C.hasGraphicFeatureExpressionInfo(c)?4:0}})},"esri/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ./isSupportedGraphic ./ReshapeOperation ../../../../interactive/InteractiveToolBase".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicReshapeTool=void 0;G=function(c){function y(g){g=c.call(this,g)||this;g._handles=new C;g._reshapeOperation=null;g._internalGeometryUpdate=!1;g.type="reshape-3d";return g}n.__extends(y,c);y.prototype.destroy=function(){this._handles.removeAll();this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(y.prototype,
"selectionManagementDisabled",{get:function(){return!0},enumerable:!1,configurable:!0});y.prototype._updateGeometry=function(){var c=this.graphic.geometry;0!==l.isSupportedGraphic(this.graphic)||!m.isSome(c)||"polygon"!==c.type&&"polyline"!==c.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=c.clone()};y.prototype._updateGraphic=function(){var c=this;this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(0===l.isSupportedGraphic(this.graphic)){var g=
this.watch("graphic.geometry",function(){!1===c._internalGeometryUpdate&&c._updateGeometry()},!0);this._handles.add(g,"onGraphicGeometryChange")}};y.prototype.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};y.prototype._onReshapeGeometryChanged=function(){m.isNone(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)};y.prototype.initialize=
function(){var c=this;this._reshapeOperation=new z.ReshapeOperation({tool:this});this._handles.add([this._reshapeOperation.on("reshape",function(g){"reshape"===g.type&&c._onReshapeGeometryChanged();c.emit("reshape",g)}),this._reshapeOperation.on("move",function(g){"move"===g.type&&c._onReshapeGeometryChanged();c.emit("move",g)}),this._reshapeOperation.on("vertex-add",function(g){c._onReshapeGeometryChanged();c.emit("vertex-add",g)}),this._reshapeOperation.on("vertex-remove",function(g){c._onReshapeGeometryChanged();
c.emit("vertex-remove",g)}),this._reshapeOperation.on("immediate-click",function(){return c.emit("immediate-click")}),g.init(this,"graphic",function(){c._updateGraphic()},!0)])};y.prototype.onInputEvent=function(c){"key-down"!==c.type||"Delete"!==c.key&&"Backspace"!==c.key||this._reshapeOperation.removeSelectedVertices()};y.prototype.reset=function(){};n.__decorate([w.property({constructOnly:!0,nonNullable:!0})],y.prototype,"view",void 0);n.__decorate([w.property({constructOnly:!0})],y.prototype,
"graphic",void 0);n.__decorate([w.property({constructOnly:!0,nonNullable:!0,value:!0})],y.prototype,"enableZ",void 0);n.__decorate([w.property({readOnly:!0})],y.prototype,"type",void 0);return y=n.__decorate([w.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],y)}(y.EventedMixin(A.InteractiveToolBase));c.GraphicReshapeTool=G})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils".split(" "),
function(G,c,n,y,C,m){Object.defineProperty(c,"__esModule",{value:!0});c.isSupportedGraphic=void 0;c.isSupportedGraphic=function(c){if("graphics"!==c.layer.type)return 1;var g=c.geometry;if(y.isNone(g))return 2;var l=g.type;switch(l){case "polygon":if(g instanceof C)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return n.neverReached(l),3}return"on-the-ground"!==m.getGraphicEffectiveElevationMode(c)&&m.hasGraphicFeatureExpressionInfo(c)?
4:0}})},"esri/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation":function(){define("require exports tslib ../../../../../core/compilerUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../manipulatorUtils ../settings ../visualElementUtils ../editGeometry/EditGeometryHelper ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W,R,O,aa,Z,S,ga,ea){Object.defineProperty(c,"__esModule",{value:!0});c.ReshapeGeometryHelper=c.ReshapeOperation=void 0;G=function(c){function C(g){g=c.call(this,g)||this;g._vertexManipulatorMaterial=J.createManipulatorMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.vertex.color),B.settings.reshapeManipulators.vertex.renderOccludedFlag);g._vertexManipulatorOutlineMaterial=J.createManipulatorOutlineMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.vertex.outlineColor),
B.settings.reshapeManipulators.vertex.renderOccludedFlag);g._vertexManipulatorHoverOutlineMaterial=J.createManipulatorOutlineMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.vertex.hoverOutlineColor),B.settings.reshapeManipulators.vertex.renderOccludedFlag);g._edgeManipulatorMaterial=J.createManipulatorMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.edge.color),B.settings.reshapeManipulators.edge.renderOccludedFlag);g._edgeManipulatorOutlineMaterial=J.createManipulatorOutlineMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.edge.outlineColor),
B.settings.reshapeManipulators.edge.renderOccludedFlag);g._selectedManipulatorMaterial=J.createManipulatorMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.selected.color),B.settings.reshapeManipulators.selected.renderOccludedFlag);g._selectedManipulatorOutlineMaterial=J.createManipulatorOutlineMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.selected.outlineColor),B.settings.reshapeManipulators.selected.renderOccludedFlag);g._selectedManipulatorHoverOutlineMaterial=J.createManipulatorOutlineMaterial(B.settings.colorToVec4(B.settings.reshapeManipulators.selected.hoverOutlineColor),
B.settings.reshapeManipulators.selected.renderOccludedFlag);g._selectedIndex=0;g._vertexManipulatorGeometry=null;g._vertexManipulatorOutlineGeometry=null;g._edgeManipulatorGeometry=null;g._edgeManipulatorOutlineGeometry=null;g._handles=new m;g._manipulatorHandles=new m;g._manipulatorInfos=[];g._reshapeHelper=null;g._graphicMoveManipulation=null;g._moveManipulation=null;g._numGrabbing=0;g._numDragging=0;g._reshapeEventState=0;g._outlineVisualElement=null;g.tool=null;g.outputGeometry=null;g._vertexLaserLineVisualElement=
null;return g}n.__extends(C,c);C.prototype.initialize=function(){var c=this,g=new aa.GraphicState({graphic:this.graphic});this._graphicState=g;this._handles.add([g.watch("displaying",function(g){for(var l=0,m=c._manipulatorInfos;l<m.length;l++)m[l].manipulator.available=g}),this.view.trackGraphicState(g)])};C.prototype.destroy=function(){this._clear();this._handles.destroy()};Object.defineProperty(C.prototype,"inputGeometry",{get:function(){return w.isSome(this._reshapeHelper)?this._reshapeHelper.geometry:
null},set:function(c){this._recreateManipulators(c)},enumerable:!1,configurable:!0});Object.defineProperty(C.prototype,"manipulators",{get:function(){return this.tool.manipulators},enumerable:!1,configurable:!0});Object.defineProperty(C.prototype,"view",{get:function(){return this.tool.view},enumerable:!1,configurable:!0});Object.defineProperty(C.prototype,"graphic",{get:function(){return this.tool.graphic},enumerable:!1,configurable:!0});Object.defineProperty(C.prototype,"enableZ",{get:function(){return this.tool.enableZ},
enumerable:!1,configurable:!0});C.prototype.removeSelectedVertices=function(){var c=this._manipulatorInfos.filter(function(c){return c.manipulator.selected&&"vertex"===c.handle.type});this._removeVertices(c)};C.prototype.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};C.prototype._clear=function(){this._moveManipulation&&this._moveManipulation.destroy();this._graphicMoveManipulation&&this._graphicMoveManipulation.destroy();this._manipulatorHandles.removeAll();this.manipulators.removeAll();
this._manipulatorInfos=[];this._reshapeHelper=this._moveManipulation=this._graphicMoveManipulation=null;this._numDragging=this._numGrabbing=0};C.prototype._recreateManipulators=function(c){void 0===c&&(c=this.inputGeometry);this._clear();if(!w.isNone(c)){this._reshapeHelper=new fa(K.EditGeometry.fromGeometry(c,this.view.viewingMode),c.type);c=D.getGraphicEffectiveElevationInfo(this.graphic);for(var g=0,l=this._reshapeHelper.data.components;g<l.length;g++){for(var m=l[g],n=0,t=m.vertices;n<t.length;n++)this._createPerVertexManipulator(t[n],
c);n=0;for(m=m.edges;n<m.length;n++)this._createPerVertexManipulator(m[n],c)}this._createGraphicMoveManipulators(c)}};C.prototype._perGraphicManipulatorDragAction=function(c,g){if("end"!==g.action){var l=[],m=this._manipulatorInfos.some(function(c){return"vertex"===c.handle.type&&c.manipulator.selected}),n=1===c&&m;c=w.unwrap(this._reshapeHelper);for(var t=0,x=this._manipulatorInfos;t<x.length;t++)m=x[t],"vertex"!==m.handle.type||m.manipulator.grabbing||n&&!m.manipulator.selected||(w.unwrap(c).moveVertices([m.handle],
g.mapDeltaX,g.mapDeltaY,g.mapDeltaZ),l.push(m.handle.pos),this._updateManipulatorPosition(m));if(0!==l.length){t=n=0;for(x=this._manipulatorInfos;t<x.length;t++)m=x[t],"vertex"===m.handle.type&&n++;this.outputGeometry=c.geometry;l.length===n?(this._updateEventState(1),this.destroyed||this.emit("move",{type:"move",dx:g.screenDeltaX,dy:g.screenDeltaY,mover:this.graphic})):(this._updateEventState(2),this.destroyed||this.emit("reshape",{type:"reshape",mover:this.graphic}))}}};C.prototype._perVertexManipulatorDragAction=
function(c,g){this._updateEventState(2);if(!this.destroyed){var l=g.mapDeltaX,m=g.mapDeltaY,n=g.mapDeltaZ;if(l||m||n){g=[];for(var t=0,x=this._manipulatorInfos;t<x.length;t++){var y=x[t];"vertex"===y.handle.type&&(y.manipulator.selected&&!y.manipulator.grabbing||y===c)&&g.push(y)}t=w.unwrap(this._reshapeHelper);for(x=0;x<g.length;x++)c=g[x],t.moveVertices([c.handle],l,m,n);this.outputGeometry=t.geometry;for(l=0;l<g.length;l++)c=g[l],this._updateManipulatorPosition(c);this.emit("reshape",{type:"reshape",
mover:this.graphic})}}};C.prototype._updateEventState=function(c){if(c===this._reshapeEventState)return!1;switch(c){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",
{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;var g=this._reshapeEventState!==c;this._reshapeEventState=c;return g};C.prototype._createGraphicMoveManipulators=
function(c){var g=this;this._graphicMoveManipulation=new R.MoveXYGraphicManipulation({tool:this.tool,view:this.view,graphicState:this._graphicState});this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(function(c,l,m){l.next(function(c){return g._trackNumDragging(c)}).next(function(c){g._perGraphicManipulatorDragAction(0,c)});m.next(g._cancelDragOperation())}));this._graphicMoveManipulation.forEachManipulator(function(c){return g._manipulatorHandles.add([g._watchAndUpdateGrabState(c,
!1),c.events.on("immediate-click",function(c){g._manipulatorInfos.some(function(c){return c.manipulator.selected})?g._clearSelection():g.emit("immediate-click");c.stopPropagation()})])});this._moveManipulation=new X.MoveManipulation({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&t.canMoveZ(this.graphic),snapToScene:!1,radius:X.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this._moveManipulation.forEachManipulator(function(c){g._handles.add([g._watchAndUpdateGrabState(c,
!1),c.events.on("immediate-click",function(l){g._moveManipulation.zManipulation.hasManipulator(c)||g._manipulatorInfos.some(function(c){return c.manipulator.selected})||g.emit("immediate-click");l.stopPropagation()})])});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var m=w.unwrap(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(function(c,l,m){l.next(function(c){return g._trackNumDragging(c)}).next(ea.addMapDelta()).next(function(c){g._perGraphicManipulatorDragAction(1,
c)});m.next(g._cancelDragOperation())},c,m),l.init(this._graphicState,"displaying",function(c){g._moveManipulation.xyManipulation.available=c;g._moveManipulation.xyAxisManipulation.available=!0;g._moveManipulation.zManipulation.available=c&&g.enableZ&&t.canMoveZ(g.graphic);g._updateMoveManipulationPosition()}),this._graphicState.on("changed",function(){return g._updateMoveManipulationPosition()})]);this._updateMoveManipulationPosition();c=Y.createVisualElements({view:this.view,graphic:this.graphic,
forEachManipulator:function(c){if(!g.destroyed){g._graphicMoveManipulation.forEachManipulator(c);for(var l=0,m=g._manipulatorInfos;l<m.length;l++)c(m[l].manipulator,1);g._moveManipulation.forEachManipulator(c)}},onManipulatorsChanged:function(c){return g.on("manipulators-changed",c)}});this._outlineVisualElement=c.visualElement instanceof O.OutlineVisualElement?c.visualElement:null;w.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",
function(){g._graphicState.isDraped||g._updateMoveManipulationPosition()}),this._graphicState.watch("isDraped",function(){return g._updateMoveManipulationPosition()})]);this._manipulatorHandles.add(c)};C.prototype._createPerVertexManipulator=function(c,l){var m=this;void 0===l&&(l=D.getGraphicEffectiveElevationInfo(this.graphic));if(w.isNone(this._vertexManipulatorGeometry)||w.isNone(this._vertexManipulatorOutlineGeometry)){var n=B.settings.reshapeManipulators.vertex,t=n.size/2,y=t+n.collisionPadding;
this._vertexManipulatorGeometry=new S(ga.createSphereGeometry(t/y,16,16),"reshape-manipulator");t=(t+n.outlineSize)/y;this._vertexManipulatorOutlineGeometry=new S(ga.createSphereGeometry(t,16,16),"reshape-manipulator-outline")}if(w.isNone(this._edgeManipulatorGeometry)||w.isNone(this._edgeManipulatorOutlineGeometry))n=B.settings.reshapeManipulators.edge,t=n.size/2,y=t+n.collisionPadding,this._edgeManipulatorGeometry=new S(ga.createSphereGeometry(t/y,16,16),"reshape-manipulator"),t=(t+n.outlineSize)/
y,this._edgeManipulatorOutlineGeometry=new S(ga.createSphereGeometry(t,16,16),"reshape-manipulator-outline");t=new x.Manipulator3D({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ha.Vertex|4},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:ha.Vertex|5},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ha.Vertex|
6},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ha.Edge|6},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ha.Edge|6},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:ha.Edge|5},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:ha.Edge|5},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,
stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:l,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(t,c,l);var z="edge"===c.type?{manipulator:t,handle:c,locationUpdateHandle:null,type:"edge",selectedIndex:0}:
{manipulator:t,handle:c,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(z);this.manipulators.add(t);this._updateManipulatorPosition(z);"edge"===z.type&&(c=this._getManipulatorInfoFromHandle(z.handle.left).manipulator.events.on("location-update",function(){return m._updateManipulatorPosition(z)}),l=this._getManipulatorInfoFromHandle(z.handle.right).manipulator.events.on("location-update",function(){return m._updateManipulatorPosition(z)}),z.locationUpdateHandle=g.handlesGroup([c,l]),this._manipulatorHandles.add(z.locationUpdateHandle,
t));this._manipulatorHandles.add(this._watchAndUpdateGrabState(t,!0),t);c=ea.createManipulatorDragEventPipeline(t,function(c,g,l){g.next(function(c){return m._trackNumDragging(c)}).next(function(c){"edge"===z.handle.type&&m._splitEdgeManipulator(z);return c}).next(F.screenToMapXYForGraphicAtLocation(m.view,m.graphic,c.elevationAlignedLocation,c.location.spatialReference)).next(ea.addMapDelta()).next(function(c){"vertex"===z.type?m._perVertexManipulatorDragAction(z,c):console.error("drag operation on non-vertex manipulator not allowed")});
l.next(m._cancelDragOperation())});this._manipulatorHandles.add(c,t);this._manipulatorHandles.add([t.events.on("immediate-click",function(c){return m._manipulatorClickCallback(c,z)}),t.events.on("select-changed",function(){z.selectedIndex=++m._selectedIndex;m._updateMoveManipulationPosition()})]);this.emit("manipulators-changed");return t};C.prototype._trackNumDragging=function(c){switch(c.action){case "start":this._numDragging++;break;case "end":this._numDragging--}return c};C.prototype._cancelDragOperation=
function(){var c=this,g=w.isSome(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return function(){c._numDragging--;c.inputGeometry=g;c.outputGeometry=g;switch(c._reshapeEventState){case 1:c.emit("move",{type:"move",dx:0,dy:0,mover:c.graphic});break;case 2:c.emit("reshape",{type:"reshape",mover:c.graphic})}c.destroyed||c._updateEventState(0)}};C.prototype._setTypeSpecificManipulatorSettings=function(c,g,l){switch(g.type){case "vertex":c.state=ha.Vertex;c.selectable=!0;c.cursor="move";
c.collisionPriority=2;c.radius=B.settings.reshapeManipulators.vertex.size/2+B.settings.reshapeManipulators.vertex.collisionPadding;c.elevationInfo=l;break;case "edge":c.state=ha.Edge;c.selectable=!1;c.cursor="copy";c.collisionPriority=-1;c.radius=B.settings.reshapeManipulators.edge.size/2+B.settings.reshapeManipulators.edge.collisionPadding;c.elevationInfo={mode:"absolute-height",offset:0};break;default:y.neverReached(g)}};C.prototype._watchAndUpdateGrabState=function(c,g){var l=this;return c.events.on("grab-changed",
function(m){if("start"===m.action)g&&l._updateSelection(c),l._numGrabbing++;else if(l._numGrabbing--,l._updateEventState(0),l.destroyed)return;l._moveManipulation.interactive=!l._numGrabbing})};C.prototype._clearSelection=function(){for(var c=0,g=this._manipulatorInfos;c<g.length;c++){var l=g[c];l.manipulator.grabbing||(l.manipulator.selected=!1)}};C.prototype._updateSelection=function(c){c.grabbing&&!c.selected&&c.selectable&&(this._clearSelection(),c.selected=!0,this.emit("manipulators-changed"))};
C.prototype._removeManipulator=function(c){c&&(this._manipulatorHandles.remove(c.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(c),1),this.manipulators.remove(c.manipulator),this.emit("manipulators-changed"))};C.prototype._getManipulatorInfoFromHandle=function(c){if(c)for(var g=0,l=this._manipulatorInfos;g<l.length;g++){var m=l[g];if(c===m.handle)return m}return null};C.prototype._updateManipulatorPosition=function(c){if(c){var g=w.unwrap(this._reshapeHelper);if("vertex"===
c.handle.type)c.manipulator.location=g.data.coordinateHelper.toPoint(c.handle.pos,ia),c.manipulator.grabbing&&w.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=c.manipulator.renderLocation);else if("edge"===c.handle.type){var l=this._getManipulatorInfoFromHandle(c.handle.left).manipulator.elevationAlignedLocation,m=this._getManipulatorInfoFromHandle(c.handle.right).manipulator.elevationAlignedLocation;c.manipulator.elevationAlignedLocation=
M.makeDehydratedPoint(l.x+.5*(m.x-l.x),l.y+.5*(m.y-l.y),l.hasZ&&m.hasZ?l.z+.5*(m.z-l.z):void 0,g.geometry.spatialReference)}}};C.prototype._splitEdgeManipulator=function(c){var g=w.unwrap(this._reshapeHelper),l=w.unwrap(g.splitEdge(c.handle,.5).createdVertex);c.locationUpdateHandle.remove();c.locationUpdateHandle=void 0;c.handle=l;c.type="vertex";var m=D.getGraphicEffectiveElevationInfo(this.graphic);this._setTypeSpecificManipulatorSettings(c.manipulator,c.handle,m);l.left&&this._createPerVertexManipulator(l.left);
l.right&&this._createPerVertexManipulator(l.right);this.outputGeometry=g.geometry;this._updateManipulatorPosition(c);this._updateSelection(c.manipulator);c=g.data.coordinateHelper.toArray(c.handle.pos);g=g.data.components.indexOf(l.component);this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:c,componentIndex:g,vertexIndex:w.unwrap(l.index)}],added:c})};C.prototype._updateMoveManipulationPosition=function(){var c=this,g=Z.sv3d.get();A.vec3.set(g,0,0,0);for(var l=0,m=!1,n=null,t=null,
x=0,y=this._manipulatorInfos;x<y.length;x++){var z=y[x];if("vertex"===z.handle.type)if(z.manipulator.selected)if(l++,A.vec3.add(g,g,z.manipulator.renderLocation),w.isNone(n)||z.selectedIndex>n.selectedIndex)t=n,n=z;else{if(w.isNone(t)||z.selectedIndex>t.selectedIndex)t=z}else m=!0}this._moveManipulation.xyAxisManipulation.orthogonalAvailable=!0;this._moveManipulation.xyAxisManipulation.available=!0;0!==l?(x=0,w.isSome(n)&&(y=n.handle.pos,z=w.isSome(t)?t.handle.pos:n.handle.left&&n.handle.left.left?
n.handle.left.left.pos:null,n=!w.isSome(t)&&n.handle.right&&n.handle.right.right?n.handle.right.right.pos:null,z&&n?this._moveManipulation.xyAxisManipulation.available=!1:z?x=Math.atan2(y[1]-z[1],y[0]-z[0])+Math.PI/2:n&&(x=Math.atan2(n[1]-y[1],n[0]-y[0])+Math.PI/2)),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=1!==l,this._moveManipulation.angle=x,this._moveManipulation.radius=V.DISC_RADIUS_SMALL):(this._moveManipulation.angleDeferred=function(){return W.primaryShapeOrientation(w.unwrap(c.graphic.geometry))},
this._moveManipulation.radius=X.MoveManipulation.radiusForSymbol(this.graphic.symbol));0!==l&&m?(A.vec3.scale(g,g,1/l),ia.spatialReference=w.unwrap(this._reshapeHelper).geometry.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(g,ia),this._moveManipulation.elevationAlignedLocation=ia):w.isSome(this._outlineVisualElement)&&!this._graphicState.isDraped&&w.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:
J.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};C.prototype._removeVertices=function(c){for(var g=[],l=w.unwrap(this._reshapeHelper),m=0;m<c.length;m++){var n=c[m];"vertex"===n.handle.type&&l.canRemoveVertex()&&(g.push(n.handle),this._removeManipulator(n),this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.right)),(n=w.unwrap(l.removeVertices([n.handle]).removedVertices[0].createdEdge))&&this._createPerVertexManipulator(n))}if(0<
g.length&&(c=g.map(function(c){var g=l.data.components.indexOf(c.component);return{coordinates:l.data.coordinateHelper.toArray(c.pos),componentIndex:g,vertexIndex:w.unwrap(c.index)}}),this.outputGeometry=l.geometry,g=this._updateEventState(2),!this.destroyed&&(this.emit("vertex-remove",{type:"vertex-remove",removed:c.map(function(c){return c.coordinates}),vertices:c}),!this.destroyed))){if(g&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}};C.prototype._manipulatorClickCallback=
function(c,g){c.shiftKey||this._clearSelection();"vertex"===g.handle.type&&(g.manipulator.selected=!g.manipulator.selected);"vertex"===g.handle.type&&2===c.button&&this._removeVertices([g]);"edge"===g.handle.type&&0===c.button&&this._splitEdgeManipulator(g);c.stopPropagation()};n.__decorate([z.property({constructOnly:!0})],C.prototype,"tool",void 0);n.__decorate([z.property()],C.prototype,"inputGeometry",null);n.__decorate([z.property()],C.prototype,"outputGeometry",void 0);return C=n.__decorate([z.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation")],
C)}(C.EventedAccessor);c.ReshapeOperation=G;var ia=M.makeDehydratedPoint(0,0,null,null),ha;(function(c){c.Vertex=16;c.Edge=32})(ha||(ha={}));var fa=function(c){function g(g,l){g=c.call(this,g,l)||this;g.type=l;g._geometry=null;return g}n.__extends(g,c);Object.defineProperty(g.prototype,"geometry",{get:function(){if(this._dirty){switch(this.type){case "polyline":this._geometry=this.data.toPolyline();break;case "polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry},enumerable:!1,
configurable:!0});return g}(K.EditGeometryHelper);c.ReshapeGeometryHelper=fa})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ./GraphicScaleRotateTransform ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B){Object.defineProperty(c,"__esModule",{value:!0});c.GraphicTransformTool=void 0;G=function(c){function y(g){g=c.call(this,g)||this;g.enableZ=!0;g.enableRotation=!0;g.enableScaling=!0;g.type="transform-3d";g.handles=new C;g.scaleRotate=null;return g}n.__extends(y,c);y.prototype.initialize=function(){var c=this;this.graphicState=new t.GraphicState({graphic:this.graphic});this.moveManipulation=new J.MoveManipulation({tool:this,view:this.view,snapToScene:this.snapToScene,
xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&M.canMoveZ(this.graphic),radius:J.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this.moveManipulation.forEachManipulator(function(g){return c.handles.add(g.events.on("immediate-click",function(c){return c.stopPropagation()}))});this.moveManipulation.elevationInfo=z.getGraphicEffectiveElevationInfo(this.graphic);this.moveManipulation.createGraphicDragPipeline(this.graphicState,function(g){var l={graphic:g.graphic,dxScreen:g.dxScreen,
dyScreen:g.dyScreen};switch(g.action){case "start":c.emit("graphic-translate-start",l);break;case "update":c.emit("graphic-translate",l);break;case "end":c.emit("graphic-translate-stop",l)}});this.moveManipulation.angle=this.symbolRotationAngle;if(this.enableScaling||this.enableRotation)this.scaleRotate=new F.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate"}),this.handles.add(this.scaleRotate.events.on("scale-changed",function(){return c.onScaleChanged()}));
this.handles.add([D.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:function(g){return c.forEachManipulator(g)},onManipulatorsChanged:function(){return m.makeHandle()}}),this.graphic.watch("symbol",function(){return c.updateMoveAngle()}),this.graphicState.on("changed",function(){return c.onGeometryChanged()}),this.hideManipulatorsForGraphicState(),this.view.watch("scale",function(){return c.updateMoveAngle()})]);this.handles.add(this.view.trackGraphicState(this.graphicState));
this.onGeometryChanged()};y.prototype.forEachManipulator=function(c){this.moveManipulation.forEachManipulator(c);g.isSome(this.scaleRotate)&&this.scaleRotate.forEachManipulator(c)};y.prototype.hideManipulatorsForGraphicState=function(){var c=this;return this.graphicState.watch("displaying",function(g){c.forEachManipulator(function(c){return c.available=g});c.moveManipulation.zManipulation.available=g&&c.enableZ&&M.canMoveZ(c.graphic)})};y.prototype.destroy=function(){this.handles.destroy();this.moveManipulation.destroy();
g.isSome(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(y.prototype,"snapToScene",{set:function(c){this.moveManipulation&&(this.moveManipulation.snapToScene=c);this._set("snapToScene",c)},enumerable:!1,configurable:!0});Object.defineProperty(y.prototype,"symbolRotationAngle",{get:function(){var c=this.graphic.symbol;return c?(c=c.symbolLayers.find(function(c){return"object"===c.type}),l.toRadian(-(c&&c.heading||
0))):0},enumerable:!1,configurable:!0});y.prototype.reset=function(){};y.prototype.onDetach=function(){g.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};y.prototype.onHide=function(){g.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};y.prototype.onScaleChanged=function(){if(!g.isNone(this.scaleRotate)){var c=this.scaleRotate.getScale();this.moveManipulation.displayScale=c}};y.prototype.updateMoveAngle=function(){this.moveManipulation.angle="local"===this.view.viewingMode||
this.view.scale<x.ALIGN_ARROWS_SCALE_THRESHOLD?this.symbolRotationAngle:0};y.prototype.onGeometryChanged=function(){A.placeAtGraphic(this.view,this.moveManipulation,this.graphic)};Object.defineProperty(y.prototype,"test",{get:function(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:g.isSome(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}},enumerable:!1,
configurable:!0});n.__decorate([w.property({constructOnly:!0,nonNullable:!0})],y.prototype,"view",void 0);n.__decorate([w.property({constructOnly:!0,nonNullable:!0})],y.prototype,"graphic",void 0);n.__decorate([w.property({constructOnly:!0,nonNullable:!0})],y.prototype,"enableZ",void 0);n.__decorate([w.property()],y.prototype,"enableRotation",void 0);n.__decorate([w.property()],y.prototype,"enableScaling",void 0);n.__decorate([w.property({value:!1})],y.prototype,"snapToScene",null);n.__decorate([w.property({readOnly:!0})],
y.prototype,"type",void 0);return y=n.__decorate([w.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],y)}(y.EventedMixin(B.InteractiveToolBase));c.GraphicTransformTool=G})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/scheduling ../../../../../core/screenUtils ../../../../../core/watchUtils ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../manipulations/config ../../../support/geometryUtils ../../../support/mathUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(G,c,n,y,C,m,g,w,l,z,A,M,D,x,J,F,t,B,Y,K,V,X,W,R,O,aa,Z){function S(c,g){var l=D.vec3.subtract(W.sv3d.get(),g.renderStart,c.origin);c=D.vec3.subtract(W.sv3d.get(),g.renderEnd,c.origin);l=D.vec3.length(l);c=D.vec3.length(c);return 0===l?0:c/l}function ga(c,l){var m=c.allLayerViews.find(function(c){return c.layer===l.layer});if(g.isNone(l.symbol))return null;var n=l.symbol;return{symbolLayers:n.symbolLayers.map(function(c){var g=null,l=null;"object"===c.type&&(g=c.heading);l=m.getSymbolLayerSize(n,
c);return{heading:g,size:l}}).toArray()}}function ea(c,g,l,m){var n=c.renderStart;c=c.renderEnd;var t=ia(n,m,W.sv3d.get());c=ia(c,m,W.sv3d.get());if(D.vec3.squaredDistance(t,c)<K.DRAG_THRESHOLD_PX*K.DRAG_THRESHOLD_PX)return null;var w=D.vec3.subtract(W.sv3d.get(),n,l);g=D.vec3.cross(W.sv3d.get(),w,g);n=D.vec3.add(W.sv3d.get(),n,g);l=ia(l,m,W.sv3d.get());m=ia(n,m,W.sv3d.get());n=D.vec3.subtract(W.sv3d.get(),m,t);m=D.vec3.subtract(W.sv3d.get(),t,l);t=V.ray.wrap(t,n);m=V.ray.wrap(l,m);return V.ray.distance2(t,
c)<V.ray.distance2(m,c)?"rotate":"scale"}function ia(c,g,m){c=g.projectPoint(c,l.castRenderScreenPointArray(ka));g=g.renderToScreen(c,P);return D.vec3.set(m,g[0],g[1],0)}function ha(c,g){var l=null,m=1,n=function(){return m};return{start:function(){m=c.getScale();l=c.getScale;c.getScale=n;g()},update:function(c){m+=((m+1)/2-m)*Math.min(c*K.RING_RESET_ANIMATION_SPEED_FACTOR,1);g();return.01>Math.abs(m-1)?1:0},destroy:function(){c.getScale=l;g()}}}function fa(c,g){var l=0,m=null,n=function(){return!1};
return{start:function(){m=c.getFocused;c.getFocused=n;l=0;g()},update:function(c){l+=c;return!m()||l>K.RING_INDICATOR_DELAY_MS?1:0},destroy:function(){c.getFocused=m;g()}}}Object.defineProperty(c,"__esModule",{value:!0});c.GraphicScaleRotateTransform=void 0;var T;(function(c){c.ScaleIn=32;c.ScaleOut=64;c.RotateLeft=128;c.RotateRight=256;c.Unlocked=1024;c.DelayedFocused=2048;c.TouchInput=32768})(T||(T={}));G=function(){function c(c){var l=this;this.mode=null;this._handles=new C;this._activeAnimation=
this._scaleRotateDragData=null;this.events=new y;this.getFocused=function(){return l.ringManipulator.focused};this.getScale=function(){return g.isSome(l._scaleRotateDragData)&&"scale"===l._scaleRotateDragData.mode?l._scaleRotateDragData.scale:1};this.tool=c.tool;this.mode=c.mode;this.createManipulator();this.updateDragState();this.updateManipulatorTransform()}c.prototype.destroy=function(){g.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null);this._handles.removeAll();
this.tool.manipulators.remove(this.ringManipulator);this.ringManipulator=null};c.prototype.startAnimation=function(c){var g=this;this.cancelActiveAnimation();c.start();var l=w.addFrameTask({update:function(l){c.update(l.deltaTime)&&g.cancelActiveAnimation()}});this._activeAnimation=n.__assign(n.__assign({},c),{frameTask:l})};c.prototype.cancelActiveAnimation=function(){g.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=
null)};c.prototype.forEachManipulator=function(c){c(this.ringManipulator,2)};c.prototype.createManipulator=function(){var c=this;this.ringManipulator=this.createRingManipulator();this.tool.manipulators.add(this.ringManipulator);var l=this.tool.graphicState.graphic,n=Z.createManipulatorDragEventPipeline(this.ringManipulator,function(n,t,w){c._scaleRotateDragData=null;var y=ga(c.tool.view,l);if(g.isNone(y))return c.updateDragState(),null;var z={mode:"none",origin:x.vec3f64.clone(n.renderLocation),angle:0,
startAngle:c.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:y};c._scaleRotateDragData=z;c.updateDragState();y=W.sv3d.get();c.tool.view.renderCoordsHelper.worldUpAtPosition(n.renderLocation,y);t.next(Y.screenToRenderPlane(c.tool.view,V.plane.fromPositionAndNormal(n.renderLocation,y))).next(function(n){var t=V.plane.normal(n.plane),t=B.calculateInputRotationTransform(n.renderStart,n.renderEnd,z.origin,t),u=X.cyclicalPI.shortestSignedDiff(z.angle,t);z.angleDir=m.clamp(z.angleDir+
u,-K.ROTATE_INDICATOR_DIRECTION_BUFFER,K.ROTATE_INDICATOR_DIRECTION_BUFFER);z.angle=t;t=S(z,n);z.scaleDir=m.clamp(z.scaleDir+(t-z.scale),-K.SCALE_INDICATOR_DIRECTION_BUFFER,K.SCALE_INDICATOR_DIRECTION_BUFFER);z.scale=t;c.onScaleChanged();if("none"===z.mode&&(t=c.mode||ea(n,n.plane,z.origin,c.tool.view.state.camera),g.isSome(t))){switch(t){case "rotate":c.tool.emit("graphic-rotate-start",{graphic:l,angle:z.angle});break;case "scale":c.tool.emit("graphic-scale-start",{graphic:l,scale:z.scale})}z.mode=
t}c.updateDragState();if(g.isSome(l.symbol)){var t=l.symbol.clone(),u=0,w=1;switch(z.mode){default:case "none":break;case "scale":w=z.scale;break;case "rotate":u=z.angle}c.applySymbolData(t,z.startSymbolData,u,w);l.symbol=t;c.updateManipulatorTransform()}switch(n.action){case "start":case "update":switch(z.mode){case "rotate":c.tool.emit("graphic-rotate",{graphic:l,angle:z.angle});break;case "scale":c.tool.emit("graphic-scale",{graphic:l,scale:z.scale})}break;case "end":switch(z.mode){case "rotate":c.tool.emit("graphic-rotate-stop",
{graphic:l,angle:z.angle});break;case "scale":c.tool.emit("graphic-scale-stop",{graphic:l,scale:z.scale})}}"end"===n.action&&(c.startAnimation(ha(c,function(){return c.onScaleChanged()})),c._scaleRotateDragData=null,c.updateDragState())});w.next(Z.resetSymbol(l)).next(function(){if(g.isSome(c._scaleRotateDragData)){switch(c._scaleRotateDragData.mode){case "rotate":c.tool.emit("graphic-rotate-stop",{graphic:l,angle:c._scaleRotateDragData.startAngle});break;case "scale":c.tool.emit("graphic-scale-stop",
{graphic:l,scale:1})}c.startAnimation(ha(c,function(){return c.onScaleChanged()}));c._scaleRotateDragData=null}})});this._handles.add(n);this._handles.add([this.ringManipulator.events.on("focus-changed",function(g){"focus"===g.action?c.startAnimation(fa(c,function(){return c.updateDelayedFocusedState()})):c.updateDelayedFocusedState()}),this.ringManipulator.events.on("immediate-click",function(c){c.stopPropagation()}),z.init(this.tool.graphicState,"displaying",function(g){return c.ringManipulator.available=
g}),this.tool.graphicState.on("changed",function(){return B.placeAtGraphic(c.tool.view,c.ringManipulator,l)})]);B.placeAtGraphic(this.tool.view,this.ringManipulator,l)};c.prototype.onScaleChanged=function(){this.events.emit("scale-changed");this.updateManipulatorTransform()};c.prototype.updateDelayedFocusedState=function(){this.ringManipulator.updateStateEnabled(T.DelayedFocused,this.getFocused())};c.prototype.updateDragState=function(){this.ringManipulator.updateStateEnabled(T.Unlocked,!(g.isSome(this._scaleRotateDragData)&&
"none"!==this._scaleRotateDragData.mode));if(g.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this.ringManipulator.updateStateEnabled(T.ScaleIn|T.ScaleOut,!1);this.ringManipulator.updateStateEnabled(T.RotateLeft,0>this._scaleRotateDragData.angleDir);this.ringManipulator.updateStateEnabled(T.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this.ringManipulator.updateStateEnabled(T.RotateLeft|T.RotateRight,!1),this.ringManipulator.updateStateEnabled(T.ScaleIn,
0>this._scaleRotateDragData.scaleDir),this.ringManipulator.updateStateEnabled(T.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this.ringManipulator.updateStateEnabled(T.ScaleIn|T.ScaleOut|T.RotateLeft|T.RotateRight,!1)};c.prototype.updateManipulatorTransform=function(){var c=A.mat4.identity(W.sm4d.get());A.mat4.rotate(c,c,this.tool.symbolRotationAngle,x.vec3f64.fromValues(0,0,1));var g=this.getScale(),g=A.mat4.fromScaling(W.sm4d.get(),D.vec3.set(W.sv3d.get(),g,g,g)),l=A.mat4.identity(W.sm4d.get());
A.mat4.multiply(l,g,c);this.ringManipulator.modelTransform=l};c.prototype.createRingManipulator=function(){for(var c=function(c,g,l){for(var m=[],e=Math.ceil(K.GEOMETRY_SEGMENTS*(g-c)/(2*Math.PI)),n=0;n<e+1;n++){var p=c+n*(g-c)/e;m.push(x.vec3f64.fromValues(l*Math.cos(p),l*Math.sin(p),0))}return m},g=function(g){return c(0,2*Math.PI,g)},l=function(c,g){return new R(O.createPathExtrusionGeometry([[-g/2,0],[g/2,0],[g/2,K.RING_HEIGHT/2],[-g/2,K.RING_HEIGHT/2]],c,[],[],!1),"graphic-transform-ring")},
m=g(K.RING_RADIUS),w=l(m,K.RING_THICKNESS),y=[],z=[],B=[],C=0;2>C;C++){var D=C*Math.PI-Math.PI/4,u=Math.PI/2-K.ROTATE_INDICATOR_ARC_LENGTH,G=D+u,D=D+Math.PI/2-u,u=c(G,D,K.INNER_INDICATOR_RADIUS),J=l(u,K.INDICATOR_THICKNESS);B.push(u);B.push(c(G,D,K.OUTER_INDICATOR_RADIUS-K.RING_THICKNESS/2));y.push(J);z.push(J);for(J=0;2>J;J++){var P=0===J,Q=M.mat4f64.create();if(P){A.mat4.scale(Q,Q,[1,-1,1]);A.mat4.rotate(Q,Q,-G,[0,0,1]);var S=Math.round(K.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*(u.length-1))}else A.mat4.rotate(Q,
Q,D,[0,0,1]),S=Math.round((1-K.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(u.length-1));Q[12]=u[S][0];Q[13]=u[S][1];Q[14]=u[S][2];S=O.createExtrudedTriangle(K.ROTATE_INDICATOR_ARROW_TIP_LENGTH,0,K.ROTATE_INDICATOR_ARROW_TIP_RADIUS,K.RING_HEIGHT);O.transformInPlace(S,Q);Q=new R(S,"graphic-transform-ring-rotate");(P?y:z).push(Q)}}J=[];for(C=0;2>C;C++)D=C*Math.PI-Math.PI/4,u=Math.PI/2-K.SCALE_INDICATOR_ARC_LENGTH,G=D+u,D=D+Math.PI/2-u,u=c(G,D,K.OUTER_INDICATOR_RADIUS),J.push(l(u,K.INDICATOR_THICKNESS));
C=g(K.RING_RADIUS+K.SCALE_INDICATOR_OFFSET1);G=g(K.RING_RADIUS+K.SCALE_INDICATOR_OFFSET2);C=l(C,K.INDICATOR_THICKNESS);G=l(G,K.INDICATOR_THICKNESS);D=g(K.RING_RADIUS-K.SCALE_INDICATOR_OFFSET1);u=g(K.RING_RADIUS-K.SCALE_INDICATOR_OFFSET2);g=l(D,K.INDICATOR_THICKNESS);l=l(u,K.INDICATOR_THICKNESS);D=this.createMaterial();u=this.createMaterial(.66);Q=this.createMaterial(.5);P=this.createMaterial(.33);w=[{geometry:w,material:D,stateMask:T.DelayedFocused},{geometry:w,material:Q,stateMask:0}];this.mode&&
"scale"!==this.mode||(w=w.concat([{geometry:J,material:D,stateMask:T.DelayedFocused|T.Unlocked},{geometry:C,material:u,stateMask:T.DelayedFocused|T.ScaleIn},{geometry:G,material:P,stateMask:T.DelayedFocused|T.ScaleIn},{geometry:g,material:u,stateMask:T.DelayedFocused|T.ScaleOut},{geometry:l,material:P,stateMask:T.DelayedFocused|T.ScaleOut}]));this.mode&&"rotate"!==this.mode||(w=w.concat([{geometry:z,material:D,stateMask:T.DelayedFocused|T.Unlocked},{geometry:y,material:D,stateMask:T.DelayedFocused|
T.RotateLeft},{geometry:z,material:D,stateMask:T.DelayedFocused|T.RotateRight}]));m=n.__spreadArrays([m],B);return new t.Manipulator3D({view:this.tool.view,renderObjects:w,autoScaleRenderObjects:!1,worldOriented:!0,radius:K.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:F.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:m,direction:x.vec3f64.fromValues(0,0,1)}})};c.prototype.createMaterial=function(c){void 0===c&&(c=1);var g=n.__spreadArrays(K.HANDLE_COLOR,
[c]);c=new aa({color:g,transparent:1!==c,cullFace:2},"graphic-transform");c.renderOccluded=2;return c};c.prototype.applySymbolData=function(c,l,m,n){var t=this;c.symbolLayers.forEach(function(c,w){var x=l.symbolLayers[w];w=x.heading;x=x.size;"object"===c.type&&(c.heading=(g.isSome(w)?w:0)-J.toDegree(m),g.isSome(x)&&"width"in x&&(x.width=t.enforceNonZeroSize(x.width),x.height=t.enforceNonZeroSize(x.height),x.depth=t.enforceNonZeroSize(x.depth),c.width=x.width*n,c.depth=x.depth*n,c.height=x.height*
n))})};c.prototype.enforceNonZeroSize=function(c){return c||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)};Object.defineProperty(c.prototype,"test",{get:function(){return{ringManipulator:this.ringManipulator}},enumerable:!1,configurable:!0});return c}();c.GraphicScaleRotateTransform=G;var ka=x.vec3f64.create(),P=l.createScreenPointArray()})},"*noref":1}});
define("require exports ./editingTools/draw/DrawGraphicTool ./editingTools/draw/DrawOperation ./editingTools/moveGraphic/GraphicMoveTool ./editingTools/reshapeGraphic/GraphicReshapeTool ./editingTools/transformGraphic/GraphicTransformTool".split(" "),function(G,c,n,y,C,m,g){Object.defineProperty(c,"__esModule",{value:!0});Object.defineProperty(c,"DrawGraphicTool",{enumerable:!0,get:function(){return n.DrawGraphicTool}});Object.defineProperty(c,"DrawOperation",{enumerable:!0,get:function(){return y.DrawOperation}});
Object.defineProperty(c,"GraphicMoveTool",{enumerable:!0,get:function(){return C.GraphicMoveTool}});Object.defineProperty(c,"GraphicReshapeTool",{enumerable:!0,get:function(){return m.GraphicReshapeTool}});Object.defineProperty(c,"GraphicTransformTool",{enumerable:!0,get:function(){return g.GraphicTransformTool}})});