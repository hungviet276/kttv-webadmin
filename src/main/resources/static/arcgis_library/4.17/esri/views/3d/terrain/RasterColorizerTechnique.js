// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../core/maybe ../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl ../webgl-engine/core/shaderTechnique/ReloadableShaderModule ../webgl-engine/core/shaderTechnique/ShaderTechnique ../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration ../webgl-engine/lib/DefaultVertexAttributeLocations ../../webgl/Program ../../webgl/rasterUtils ../../webgl/renderState @dojo/framework/shim/Promise".split(" "),function(n,e,f,l,p,q,g,h,r,t,d,k){Object.defineProperty(e,
"__esModule",{value:!0});e.RasterColorizerTechniqueConfiguration=e.RasterColorizerTechnique=void 0;g=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}f.__extends(a,c);Object.defineProperty(a.prototype,"uniformLocationInfos",{get:function(){this._uniformLocationInfos||(this._uniformLocationInfos=d.getUniformLocationInfos(this._context,this.program));return this._uniformLocationInfos},enumerable:!1,configurable:!0});a.prototype.initializeProgram=function(m){var b=a.shader.get(),
c=this.configuration,b=b.build({output:c.colorizerType,applyColormap:c.applyColormap});this._context=m.rctx;return new t(m.rctx,b.generateSource("vertex"),b.generateSource("fragment"),r.Default3D)};a.prototype.initializePipeline=function(){var a=2===this.configuration.mode?k.simpleBlendingParams(1,771):1===this.configuration.mode?k.simpleBlendingParams(0,770):null;return k.makePipelineState({blending:a,colorWrite:k.defaultColorWriteParams})};a.prototype.bindPass=function(a,b){d.setUniforms(this.program,
this.uniformLocationInfos,b.basic);d.setUniforms(this.program,this.uniformLocationInfos,b.common);l.isSome(b.colormap)&&d.setUniforms(this.program,this.uniformLocationInfos,b.colormap);0===this.configuration.colorizerType&&l.isSome(b.stretch)?d.setUniforms(this.program,this.uniformLocationInfos,b.stretch):2===this.configuration.colorizerType&&l.isSome(b.hillshade)&&d.setUniforms(this.program,this.uniformLocationInfos,b.hillshade)};a.shader=new q.ReloadableShaderModule(p,function(){return new Promise(function(a,
b){n(["../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl"],a,b)})});return a}(g.ShaderTechnique);e.RasterColorizerTechnique=g;g=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.mode=2;a.colorizerType=0;a.applyColormap=!0;return a}f.__extends(a,c);f.__decorate([h.parameter({count:3})],a.prototype,"mode",void 0);f.__decorate([h.parameter({count:3})],a.prototype,"colorizerType",void 0);f.__decorate([h.parameter()],a.prototype,"applyColormap",void 0);return a}(h.ShaderTechniqueConfiguration);
e.RasterColorizerTechniqueConfiguration=g});