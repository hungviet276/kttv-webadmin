// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../core/mathUtils ../../../geometry/support/aaBoundingBox ../support/geometryUtils ./PatchGeometryFactory ./Tile".split(" "),function(b,c,f,e,g,h,k,l){Object.defineProperty(c,"__esModule",{value:!0});c.PlanarPatch=void 0;b=function(c){function a(d,m,n){var b=c.call(this,a.NumSubdivisionsAtLevel)||this;void 0!==d&&b.init(d,m,n);return b}f.__extends(a,c);a.prototype.init=function(d,a,b){c.prototype.init.call(this,d,a,b);this._edgeLen=this.extent[2]-this.extent[0];
this._edgeLen2=this._edgeLen*this._edgeLen;this.centerAtSeaLevel[0]=e.lerp(this.extent[0],this.extent[2],.5);this.centerAtSeaLevel[1]=e.lerp(this.extent[1],this.extent[3],.5);this.centerAtSeaLevel[2]=0;this.updateRadiusAndCenter()};a.prototype.updateRadiusAndCenter=function(){this._updateCenter();var a=(this.extent[2]-this.extent[0])*Math.SQRT1_2,b=.5*(this.elevationBounds[0]-this.elevationBounds[1]);this._radius=Math.sqrt(a*a+b*b)};a.prototype._isVisible=function(){return this.intersectsClippingArea&&
h.frustum.intersectsAABB(this.surface.frustum.planes,g.wrap(this.extent[0],this.extent[1],this.elevationBounds[0],this.extent[2],this.extent[3],this.elevationBounds[1]))};a.prototype.createGeometry=function(a,b){k.createPlanarGlobePatch(a,this.extent,b,this.renderData);this.setMemoryDirty()};a.NumSubdivisionsAtLevel=[2,2,2,2,2,2,2,2];return a}(l.Tile);c.PlanarPatch=b});