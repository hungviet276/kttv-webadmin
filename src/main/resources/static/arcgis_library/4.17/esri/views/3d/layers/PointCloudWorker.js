// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.quat=void 0;a.quat=f})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(w,a,f,k,v,t,n,q){function x(b,c,d){d*=.5;var a=Math.sin(d);b[0]=a*c[0];b[1]=a*c[1];b[2]=a*c[2];b[3]=Math.cos(d);return b}function b(b,
c,d){var a=c[0],e=c[1],m=c[2];c=c[3];var r=d[0],p=d[1],g=d[2];d=d[3];b[0]=a*d+c*r+e*g-m*p;b[1]=e*d+c*p+m*r-a*g;b[2]=m*d+c*g+a*p-e*r;b[3]=c*d-a*r-e*p-m*g;return b}function c(b,c,d,a){var e=c[0],m=c[1],r=c[2];c=c[3];var p=d[0],g=d[1],M=d[2];d=d[3];var h,y,u;y=e*p+m*g+r*M+c*d;0>y&&(y=-y,p=-p,g=-g,M=-M,d=-d);1-y>t.EPSILON?(h=Math.acos(y),u=Math.sin(h),y=Math.sin((1-a)*h)/u,a=Math.sin(a*h)/u):y=1-a;b[0]=y*e+a*p;b[1]=y*m+a*g;b[2]=y*r+a*M;b[3]=y*c+a*d;return b}function d(b,c){var d=c[0]+c[4]+c[8];if(0<d)d=
Math.sqrt(d+1),b[3]=.5*d,d=.5/d,b[0]=(c[5]-c[7])*d,b[1]=(c[6]-c[2])*d,b[2]=(c[1]-c[3])*d;else{var a=0;c[4]>c[0]&&(a=1);c[8]>c[3*a+a]&&(a=2);var e=(a+1)%3,m=(a+2)%3,d=Math.sqrt(c[3*a+a]-c[3*e+e]-c[3*m+m]+1);b[a]=.5*d;d=.5/d;b[3]=(c[3*e+m]-c[3*m+e])*d;b[e]=(c[3*e+a]+c[3*a+e])*d;b[m]=(c[3*m+a]+c[3*a+m])*d}return b}Object.defineProperty(a,"__esModule",{value:!0});a.setAxes=a.sqlerp=a.rotationTo=a.equals=a.exactEquals=a.normalize=a.sqrLen=a.squaredLength=a.len=a.length=a.lerp=a.dot=a.scale=a.mul=a.add=
a.set=a.copy=a.str=a.fromEuler=a.fromMat3=a.conjugate=a.invert=a.random=a.slerp=a.calculateW=a.rotateZ=a.rotateY=a.rotateX=a.multiply=a.getAxisAngle=a.setAxisAngle=a.identity=void 0;a.identity=function(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b};a.setAxisAngle=x;a.getAxisAngle=function(b,c){var d=2*Math.acos(c[3]),a=Math.sin(d/2);a>t.EPSILON?(b[0]=c[0]/a,b[1]=c[1]/a,b[2]=c[2]/a):(b[0]=1,b[1]=0,b[2]=0);return d};a.multiply=b;a.rotateX=function(b,c,d){d*=.5;var a=c[0],e=c[1],m=c[2];c=c[3];var r=Math.sin(d);
d=Math.cos(d);b[0]=a*d+c*r;b[1]=e*d+m*r;b[2]=m*d-e*r;b[3]=c*d-a*r;return b};a.rotateY=function(b,c,d){d*=.5;var a=c[0],e=c[1],r=c[2];c=c[3];var m=Math.sin(d);d=Math.cos(d);b[0]=a*d-r*m;b[1]=e*d+c*m;b[2]=r*d+a*m;b[3]=c*d-e*m;return b};a.rotateZ=function(b,c,d){d*=.5;var a=c[0],e=c[1],r=c[2];c=c[3];var m=Math.sin(d);d=Math.cos(d);b[0]=a*d+e*m;b[1]=e*d-a*m;b[2]=r*d+c*m;b[3]=c*d-r*m;return b};a.calculateW=function(b,c){var d=c[0],a=c[1];c=c[2];b[0]=d;b[1]=a;b[2]=c;b[3]=Math.sqrt(Math.abs(1-d*d-a*a-c*
c));return b};a.slerp=c;a.random=function(b){var c=t.RANDOM(),d=t.RANDOM(),a=t.RANDOM(),e=Math.sqrt(1-c),c=Math.sqrt(c);b[0]=e*Math.sin(2*Math.PI*d);b[1]=e*Math.cos(2*Math.PI*d);b[2]=c*Math.sin(2*Math.PI*a);b[3]=c*Math.cos(2*Math.PI*a);return b};a.invert=function(b,c){var d=c[0],a=c[1],e=c[2];c=c[3];var r=d*d+a*a+e*e+c*c,r=r?1/r:0;b[0]=-d*r;b[1]=-a*r;b[2]=-e*r;b[3]=c*r;return b};a.conjugate=function(b,c){b[0]=-c[0];b[1]=-c[1];b[2]=-c[2];b[3]=c[3];return b};a.fromMat3=d;a.fromEuler=function(b,c,d,
a){var e=.5*Math.PI/180;c*=e;d*=e;a*=e;e=Math.sin(c);c=Math.cos(c);var r=Math.sin(d);d=Math.cos(d);var p=Math.sin(a);a=Math.cos(a);b[0]=e*d*a-c*r*p;b[1]=c*r*a+e*d*p;b[2]=c*d*p-e*r*a;b[3]=c*d*a+e*r*p;return b};a.str=function(b){return"quat("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};a.copy=q.copy;a.set=q.set;a.add=q.add;a.mul=b;a.scale=q.scale;a.dot=q.dot;a.lerp=q.lerp;a.length=q.length;a.len=a.length;a.squaredLength=q.squaredLength;a.sqrLen=a.squaredLength;a.normalize=q.normalize;a.exactEquals=q.exactEquals;
a.equals=q.equals;a.rotationTo=function(b,c,d){var r=n.dot(c,d);if(-.999999>r)return n.cross(e,g,c),1E-6>n.len(e)&&n.cross(e,l,c),n.normalize(e,e),x(b,e,Math.PI),b;if(.999999<r)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;n.cross(e,c,d);b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=1+r;return a.normalize(b,b)};var e=v.create(),g=v.fromValues(1,0,0),l=v.fromValues(0,1,0);a.sqlerp=function(b,d,a,e,p,g){c(h,d,p,g);c(r,a,e,g);c(b,h,r,2*g*(1-g));return b};var h=k.create(),r=k.create();a.setAxes=function(b,c,e,r){var g=p;
g[0]=e[0];g[3]=e[1];g[6]=e[2];g[1]=r[0];g[4]=r[1];g[7]=r[2];g[2]=-c[0];g[5]=-c[1];g[8]=-c[2];return a.normalize(b,d(b,g))};var p=f.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(w,a){Object.defineProperty(a,"__esModule",{value:!0});a.createView=a.fromValues=a.clone=a.create=void 0;a.create=function(){return[1,0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,k,v,t,n,q,x,b,
c){return[a,k,v,t,n,q,x,b,c]};a.createView=function(a,k){return new Float64Array(a,k,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(w,a){function f(){return[0,0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.IDENTITY=a.createView=a.fromValues=a.clone=a.create=void 0;a.create=f;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,f,t,n){return[a,f,t,n]};a.createView=function(a,f){return new Float64Array(a,f,4)};a.IDENTITY=
f()})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(w,a){function f(){return[0,0,0]}function k(){return[1,1,1]}function v(){return[1,0,0]}function t(){return[0,1,0]}function n(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_Z=a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitZ=a.unitY=a.unitX=a.ones=a.zeros=a.createView=a.fromArray=a.fromValues=a.clone=a.create=void 0;a.create=f;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=
function(a,f,b){return[a,f,b]};a.fromArray=function(a){for(var q=f(),b=Math.min(3,a.length),c=0;c<b;++c)q[c]=a[c];return q};a.createView=function(a,f){return new Float64Array(a,f,3)};a.zeros=function(){return f()};a.ones=k;a.unitX=v;a.unitY=t;a.unitZ=n;a.ZEROS=f();a.ONES=k();a.UNIT_X=v();a.UNIT_Y=t();a.UNIT_Z=n()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(w,a){Object.defineProperty(a,"__esModule",{value:!0});a.equals=a.toDegree=a.toRadian=a.RANDOM=
a.EPSILON=void 0;a.EPSILON=1E-6;a.RANDOM=Math.random;var f=Math.PI/180,k=180/Math.PI;a.toRadian=function(a){return a*f};a.toDegree=function(a){return a*k};a.equals=function(f,k){return Math.abs(f-k)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(k))}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(w,a,f,k){function v(b){var c=b[0],d=b[1];b=b[2];return Math.sqrt(c*c+d*d+b*b)}function t(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];return b}
function n(b,c,d){b[0]=c[0]-d[0];b[1]=c[1]-d[1];b[2]=c[2]-d[2];return b}function q(b,c,d){b[0]=c[0]*d[0];b[1]=c[1]*d[1];b[2]=c[2]*d[2];return b}function x(b,c,d){b[0]=c[0]/d[0];b[1]=c[1]/d[1];b[2]=c[2]/d[2];return b}function b(b,c){var d=c[0]-b[0],a=c[1]-b[1];b=c[2]-b[2];return Math.sqrt(d*d+a*a+b*b)}function c(b,c){var d=c[0]-b[0],a=c[1]-b[1];b=c[2]-b[2];return d*d+a*a+b*b}function d(b){var c=b[0],d=b[1];b=b[2];return c*c+d*d+b*b}function e(b,c){var d=c[0],a=c[1],e=c[2],d=d*d+a*a+e*e;0<d&&(d=1/Math.sqrt(d),
b[0]=c[0]*d,b[1]=c[1]*d,b[2]=c[2]*d);return b}function g(b,c){return b[0]*c[0]+b[1]*c[1]+b[2]*c[2]}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=a.str=a.angle=a.rotateZ=a.rotateY=a.rotateX=a.transformQuat=a.transformMat3=a.transformMat4=a.random=a.bezier=a.hermite=a.lerp=a.cross=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=
a.multiply=a.subtract=a.add=a.set=a.copy=a.length=void 0;a.length=v;a.copy=t;a.set=function(b,c,d,a){b[0]=c;b[1]=d;b[2]=a;return b};a.add=function(b,c,d){b[0]=c[0]+d[0];b[1]=c[1]+d[1];b[2]=c[2]+d[2];return b};a.subtract=n;a.multiply=q;a.divide=x;a.ceil=function(b,c){b[0]=Math.ceil(c[0]);b[1]=Math.ceil(c[1]);b[2]=Math.ceil(c[2]);return b};a.floor=function(b,c){b[0]=Math.floor(c[0]);b[1]=Math.floor(c[1]);b[2]=Math.floor(c[2]);return b};a.min=function(b,c,d){b[0]=Math.min(c[0],d[0]);b[1]=Math.min(c[1],
d[1]);b[2]=Math.min(c[2],d[2]);return b};a.max=function(b,c,d){b[0]=Math.max(c[0],d[0]);b[1]=Math.max(c[1],d[1]);b[2]=Math.max(c[2],d[2]);return b};a.round=function(b,c){b[0]=Math.round(c[0]);b[1]=Math.round(c[1]);b[2]=Math.round(c[2]);return b};a.scale=function(b,c,d){b[0]=c[0]*d;b[1]=c[1]*d;b[2]=c[2]*d;return b};a.scaleAndAdd=function(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;return b};a.distance=b;a.squaredDistance=c;a.squaredLength=d;a.negate=function(b,c){b[0]=-c[0];b[1]=-c[1];
b[2]=-c[2];return b};a.inverse=function(b,c){b[0]=1/c[0];b[1]=1/c[1];b[2]=1/c[2];return b};a.normalize=e;a.dot=g;a.cross=function(b,c,d){var a=c[0],e=c[1];c=c[2];var g=d[0],h=d[1];d=d[2];b[0]=e*d-c*h;b[1]=c*g-a*d;b[2]=a*h-e*g;return b};a.lerp=function(b,c,d,a){var e=c[0],g=c[1];c=c[2];b[0]=e+a*(d[0]-e);b[1]=g+a*(d[1]-g);b[2]=c+a*(d[2]-c);return b};a.hermite=function(b,c,d,a,e,g){var h=g*g,r=h*(2*g-3)+1,p=h*(g-2)+g,m=h*(g-1);g=h*(3-2*g);b[0]=c[0]*r+d[0]*p+a[0]*m+e[0]*g;b[1]=c[1]*r+d[1]*p+a[1]*m+e[1]*
g;b[2]=c[2]*r+d[2]*p+a[2]*m+e[2]*g;return b};a.bezier=function(b,c,d,a,e,g){var h=1-g,r=h*h,p=g*g,m=r*h,r=3*g*r,h=3*p*h;g*=p;b[0]=c[0]*m+d[0]*r+a[0]*h+e[0]*g;b[1]=c[1]*m+d[1]*r+a[1]*h+e[1]*g;b[2]=c[2]*m+d[2]*r+a[2]*h+e[2]*g;return b};a.random=function(b,c){c=c||1;var d=2*k.RANDOM()*Math.PI,a=2*k.RANDOM()-1,e=Math.sqrt(1-a*a)*c;b[0]=Math.cos(d)*e;b[1]=Math.sin(d)*e;b[2]=a*c;return b};a.transformMat4=function(b,c,d){var a=c[0],e=c[1];c=c[2];b[0]=d[0]*a+d[4]*e+d[8]*c+d[12];b[1]=d[1]*a+d[5]*e+d[9]*c+
d[13];b[2]=d[2]*a+d[6]*e+d[10]*c+d[14];return b};a.transformMat3=function(b,c,d){var a=c[0],e=c[1];c=c[2];b[0]=a*d[0]+e*d[3]+c*d[6];b[1]=a*d[1]+e*d[4]+c*d[7];b[2]=a*d[2]+e*d[5]+c*d[8];return b};a.transformQuat=function(b,c,d){var a=d[0],e=d[1],g=d[2],h=c[0],r=c[1];c=c[2];var l=e*c-g*r,p=g*h-a*c,m=a*r-e*h;d=2*d[3];b[0]=h+l*d+2*(e*m-g*p);b[1]=r+p*d+2*(g*l-a*m);b[2]=c+m*d+2*(a*p-e*l);return b};a.rotateX=function(b,c,d,a){var e=[],g=[];e[0]=c[0]-d[0];e[1]=c[1]-d[1];e[2]=c[2]-d[2];g[0]=e[0];g[1]=e[1]*
Math.cos(a)-e[2]*Math.sin(a);g[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a);b[0]=g[0]+d[0];b[1]=g[1]+d[1];b[2]=g[2]+d[2];return b};a.rotateY=function(b,c,d,a){var e=[],g=[];e[0]=c[0]-d[0];e[1]=c[1]-d[1];e[2]=c[2]-d[2];g[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a);g[1]=e[1];g[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a);b[0]=g[0]+d[0];b[1]=g[1]+d[1];b[2]=g[2]+d[2];return b};a.rotateZ=function(b,c,d,a){var e=[],g=[];e[0]=c[0]-d[0];e[1]=c[1]-d[1];e[2]=c[2]-d[2];g[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a);g[1]=e[0]*Math.sin(a)+
e[1]*Math.cos(a);g[2]=e[2];b[0]=g[0]+d[0];b[1]=g[1]+d[1];b[2]=g[2]+d[2];return b};a.angle=function(b,c){t(l,b);t(h,c);e(l,l);e(h,h);b=g(l,h);return 1<b?0:-1>b?Math.PI:Math.acos(b)};var l=f.create(),h=f.create();a.str=function(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"};a.exactEquals=function(b,c){return b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]};a.equals=function(b,c){var d=b[0],a=b[1];b=b[2];var e=c[0],g=c[1];c=c[2];return Math.abs(d-e)<=k.EPSILON*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(a-g)<=
k.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(b-c)<=k.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))};a.sub=n;a.mul=q;a.div=x;a.dist=b;a.sqrDist=c;a.len=v;a.sqrLen=d})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(w,a,f){function k(b,d,a){b[0]=d[0]-a[0];b[1]=d[1]-a[1];b[2]=d[2]-a[2];b[3]=d[3]-a[3];return b}function v(b,d,a){b[0]=d[0]*a[0];b[1]=d[1]*a[1];b[2]=d[2]*a[2];b[3]=d[3]*a[3];return b}function t(b,d,a){b[0]=d[0]/a[0];b[1]=d[1]/a[1];
b[2]=d[2]/a[2];b[3]=d[3]/a[3];return b}function n(b,d){var c=d[0]-b[0],a=d[1]-b[1],l=d[2]-b[2];b=d[3]-b[3];return Math.sqrt(c*c+a*a+l*l+b*b)}function q(b,d){var c=d[0]-b[0],a=d[1]-b[1],l=d[2]-b[2];b=d[3]-b[3];return c*c+a*a+l*l+b*b}function x(b){var c=b[0],a=b[1],g=b[2];b=b[3];return Math.sqrt(c*c+a*a+g*g+b*b)}function b(b){var c=b[0],a=b[1],g=b[2];b=b[3];return c*c+a*a+g*g+b*b}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=
a.str=a.transformQuat=a.transformMat4=a.random=a.lerp=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.length=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=void 0;a.copy=function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];return b};a.set=function(b,d,a,g,l){b[0]=d;b[1]=a;b[2]=g;b[3]=l;return b};a.add=function(b,d,a){b[0]=d[0]+a[0];b[1]=d[1]+a[1];b[2]=d[2]+a[2];b[3]=d[3]+a[3];return b};a.subtract=k;a.multiply=
v;a.divide=t;a.ceil=function(b,d){b[0]=Math.ceil(d[0]);b[1]=Math.ceil(d[1]);b[2]=Math.ceil(d[2]);b[3]=Math.ceil(d[3]);return b};a.floor=function(b,d){b[0]=Math.floor(d[0]);b[1]=Math.floor(d[1]);b[2]=Math.floor(d[2]);b[3]=Math.floor(d[3]);return b};a.min=function(b,d,a){b[0]=Math.min(d[0],a[0]);b[1]=Math.min(d[1],a[1]);b[2]=Math.min(d[2],a[2]);b[3]=Math.min(d[3],a[3]);return b};a.max=function(b,d,a){b[0]=Math.max(d[0],a[0]);b[1]=Math.max(d[1],a[1]);b[2]=Math.max(d[2],a[2]);b[3]=Math.max(d[3],a[3]);
return b};a.round=function(b,d){b[0]=Math.round(d[0]);b[1]=Math.round(d[1]);b[2]=Math.round(d[2]);b[3]=Math.round(d[3]);return b};a.scale=function(b,d,a){b[0]=d[0]*a;b[1]=d[1]*a;b[2]=d[2]*a;b[3]=d[3]*a;return b};a.scaleAndAdd=function(b,d,a,g){b[0]=d[0]+a[0]*g;b[1]=d[1]+a[1]*g;b[2]=d[2]+a[2]*g;b[3]=d[3]+a[3]*g;return b};a.distance=n;a.squaredDistance=q;a.length=x;a.squaredLength=b;a.negate=function(b,d){b[0]=-d[0];b[1]=-d[1];b[2]=-d[2];b[3]=-d[3];return b};a.inverse=function(b,d){b[0]=1/d[0];b[1]=
1/d[1];b[2]=1/d[2];b[3]=1/d[3];return b};a.normalize=function(b,d){var c=d[0],a=d[1],l=d[2];d=d[3];var h=c*c+a*a+l*l+d*d;0<h&&(h=1/Math.sqrt(h),b[0]=c*h,b[1]=a*h,b[2]=l*h,b[3]=d*h);return b};a.dot=function(b,d){return b[0]*d[0]+b[1]*d[1]+b[2]*d[2]+b[3]*d[3]};a.lerp=function(b,d,a,g){var c=d[0],e=d[1],r=d[2];d=d[3];b[0]=c+g*(a[0]-c);b[1]=e+g*(a[1]-e);b[2]=r+g*(a[2]-r);b[3]=d+g*(a[3]-d);return b};a.random=function(b,d){d=d||1;var c,a,l,h,r,p;do c=2*f.RANDOM()-1,a=2*f.RANDOM()-1,r=c*c+a*a;while(1<=r);
do l=2*f.RANDOM()-1,h=2*f.RANDOM()-1,p=l*l+h*h;while(1<=p);r=Math.sqrt((1-r)/p);b[0]=d*c;b[1]=d*a;b[2]=d*l*r;b[3]=d*h*r;return b};a.transformMat4=function(b,d,a){var c=d[0],e=d[1],h=d[2];d=d[3];b[0]=a[0]*c+a[4]*e+a[8]*h+a[12]*d;b[1]=a[1]*c+a[5]*e+a[9]*h+a[13]*d;b[2]=a[2]*c+a[6]*e+a[10]*h+a[14]*d;b[3]=a[3]*c+a[7]*e+a[11]*h+a[15]*d;return b};a.transformQuat=function(b,d,a){var c=d[0],e=d[1],h=d[2],r=a[0],p=a[1],m=a[2];a=a[3];var f=a*c+p*h-m*e,u=a*e+m*c-r*h,y=a*h+r*e-p*c,c=-r*c-p*e-m*h;b[0]=f*a+c*-r+
u*-m-y*-p;b[1]=u*a+c*-p+y*-r-f*-m;b[2]=y*a+c*-m+f*-p-u*-r;b[3]=d[3];return b};a.str=function(b){return"vec4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};a.exactEquals=function(b,a){return b[0]===a[0]&&b[1]===a[1]&&b[2]===a[2]&&b[3]===a[3]};a.equals=function(b,a){var d=b[0],c=b[1],l=b[2];b=b[3];var h=a[0],r=a[1],p=a[2];a=a[3];return Math.abs(d-h)<=f.EPSILON*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(c-r)<=f.EPSILON*Math.max(1,Math.abs(c),Math.abs(r))&&Math.abs(l-p)<=f.EPSILON*Math.max(1,Math.abs(l),
Math.abs(p))&&Math.abs(b-a)<=f.EPSILON*Math.max(1,Math.abs(b),Math.abs(a))};a.sub=k;a.mul=v;a.div=t;a.dist=n;a.sqrDist=q;a.len=x;a.sqrLen=b})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.quatf32=void 0;a.quatf32=f})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(w,a){Object.defineProperty(a,"__esModule",{value:!0});a.createView=
a.fromValues=a.clone=a.create=void 0;a.create=function(){var a=new Float32Array(4);a[3]=1;return a};a.clone=function(a){var f=new Float32Array(4);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=a[3];return f};a.fromValues=function(a,k,v,t){var f=new Float32Array(4);f[0]=a;f[1]=k;f[2]=v;f[3]=t;return f};a.createView=function(a,k){return new Float32Array(a,k,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});
a.vec3=void 0;a.vec3=f})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f32=void 0;a.vec3f32=f})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(w,a){function f(){return new Float32Array(3)}function k(a,b,c){var d=new Float32Array(3);d[0]=a;d[1]=b;d[2]=c;return d}function v(){return k(1,1,1)}function t(){return k(1,0,0)}function n(){return k(0,
1,0)}function q(){return k(0,0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_Z=a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitZ=a.unitY=a.unitX=a.ones=a.zeros=a.createView=a.fromValues=a.clone=a.create=void 0;a.create=f;a.clone=function(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};a.fromValues=k;a.createView=function(a,b){return new Float32Array(a,b,3)};a.zeros=function(){return f()};a.ones=v;a.unitX=t;a.unitY=n;a.unitZ=q;a.ZEROS=f();a.ONES=v();a.UNIT_X=t();a.UNIT_Y=n();
a.UNIT_Z=q()})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("require exports ../../../../core/maybe ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),function(w,a,f,k,v,t,n,q){function x(b,a){for(var d=new Float64Array(a),c=0;c<a;c++)d[c]=b[3*c+2];return d}function b(b){return null==b||"none"===b?null:"low-four-bit"===b?function(b){return b&
15}:"high-four-bit"===b?function(b){return(b&240)>>4}:"absolute-value"===b?function(b){return Math.abs(b)}:"modulo-ten"===b?function(b){return b%10}:null}function c(b){var a=0,c=0;for(b=b?b:[];c<b.length;c++)a|=1<<b[c];return a}Object.defineProperty(a,"__esModule",{value:!0});a.filterInPlace=a.elevationFromPositions=a.getAttributeValues=a.readGeometry=a.evaluateRenderer=void 0;a.evaluateRenderer=function(a,c,g,l){var d=a.rendererJSON,e=a.isRGBRenderer,p=a=null;if(c&&e)a=c;else if(c&&"pointCloudUniqueValueRenderer"===
d.type){var p=t.fromJSON(d),m=p.colorUniqueValueInfos;a=new Uint8Array(3*l);e=b(p.fieldTransformType);for(d=0;d<l;d++)for(var f=e?e(c[d]):c[d],f=f+"",u=0;u<m.length;u++)if(0<=m[u].values.indexOf(f)){a[3*d]=m[u].color.r;a[3*d+1]=m[u].color.g;a[3*d+2]=m[u].color.b;break}}else if(c&&"pointCloudStretchRenderer"===d.type)for(p=v.fromJSON(d),m=p.stops,a=new Uint8Array(3*l),e=b(p.fieldTransformType),d=0;d<l;d++)if(f=e?e(c[d]):c[d],u=m.length-1,f<m[0].value)a[3*d]=m[0].color.r,a[3*d+1]=m[0].color.g,a[3*d+
2]=m[0].color.b;else if(f>=m[u].value)a[3*d]=m[u].color.r,a[3*d+1]=m[u].color.g,a[3*d+2]=m[u].color.b;else for(u=1;u<m.length;u++){if(f<m[u].value){f=(f-m[u-1].value)/(m[u].value-m[u-1].value);a[3*d]=m[u].color.r*f+m[u-1].color.r*(1-f);a[3*d+1]=m[u].color.g*f+m[u-1].color.g*(1-f);a[3*d+2]=m[u].color.b*f+m[u-1].color.b*(1-f);break}}else if(c&&"pointCloudClassBreaksRenderer"===d.type)for(p=k.fromJSON(d),m=p.colorClassBreakInfos,a=new Uint8Array(3*l),e=b(p.fieldTransformType),d=0;d<l;d++)for(f=e?e(c[d]):
c[d],u=0;u<m.length;u++){if(f>=m[u].minValue&&f<=m[u].maxValue){a[3*d]=m[u].color.r;a[3*d+1]=m[u].color.g;a[3*d+2]=m[u].color.b;break}}else for(a=new Uint8Array(3*l),d=0;d<a.length;d++)a[d]=255;if(g&&p&&p.colorModulation)for(c=p.colorModulation.minValue,p=p.colorModulation.maxValue,d=0;d<l;d++)f=g[d],e=f>=p?1:f<=c?.3:.3+.7*(f-c)/(p-c),a[3*d]*=e,a[3*d+1]*=e,a[3*d+2]*=e;return a};a.readGeometry=function(b,a){if(null==b.encoding||""===b.encoding){b=n.createGeometryIndexFromSchema(a,b);if(f.isNone(b.vertexAttributes.position))return;
a=n.createTypedView(a,b.vertexAttributes.position);var c=b.header.fields;b=[c.offsetX,c.offsetY,c.offsetZ];for(var c=[c.scaleX,c.scaleY,c.scaleZ],d=a.length/3,e=new Float64Array(3*d),r=0;r<d;r++)e[3*r]=a[3*r]*c[0]+b[0],e[3*r+1]=a[3*r+1]*c[1]+b[1],e[3*r+2]=a[3*r+2]*c[2]+b[2];return e}if("lepcc-xyz"===b.encoding)return q.decodeXYZ(a).result};a.getAttributeValues=function(b,a,c){return f.isSome(b)&&b.attributeInfo.useElevation?x(a,c):f.isSome(b)?n.readBinaryAttribute(b.attributeInfo.storageInfo,b.buffer,
c):null};a.elevationFromPositions=x;a.filterInPlace=function(b,a,g,l,h){for(var d=b.length/3,e=0,m=0;m<d;m++){for(var f=!0,u=0;u<l.length&&f;u++){var y=l[u].filterJSON,C=h[u].values[m];switch(y.type){case "pointCloudValueFilter":var q="exclude"===y.mode;-1!==y.values.indexOf(C)===q&&(f=!1);break;case "pointCloudBitfieldFilter":q=c(y.requiredSetBits);y=c(y.requiredClearBits);if((C&q)!==q||0!==(C&y))f=!1;break;case "pointCloudReturnFilter":for(var k=C&15,n=C>>>4&15,C=1<n,q=1===k,k=k===n,n=!1,x=0,y=
y.includedReturns;x<y.length;x++){var P=y[x];if("last"===P&&k||"firstOfMany"===P&&q&&C||"lastOfMany"===P&&k&&C||"single"===P&&!C){n=!0;break}}n||(f=!1)}}f&&(g[e]=m,b[3*e]=b[3*m],b[3*e+1]=b[3*m+1],b[3*e+2]=b[3*m+2],a[3*e]=a[3*m],a[3*e+1]=a[3*m+1],a[3*e+2]=a[3*m+2],e++)}return e}})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(w,a,f,k,v,t,n,q){return function(a){function b(b){b=a.call(this,b)||this;b.type="point-cloud-class-breaks";b.field=null;b.legendOptions=null;b.fieldTransformType=null;b.colorClassBreakInfos=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c(f.__assign(f.__assign({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:k.clone(this.colorClassBreakInfos),legendOptions:k.clone(this.legendOptions)}))};var c;f.__decorate([v.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
b.prototype,"type",void 0);f.__decorate([v.property({json:{write:!0},type:String})],b.prototype,"field",void 0);f.__decorate([v.property({type:n.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);f.__decorate([v.property({type:t.fieldTransformTypeKebabDict.apiValues,json:{type:t.fieldTransformTypeKebabDict.jsonValues,read:t.fieldTransformTypeKebabDict.read,write:t.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);f.__decorate([v.property({type:[q.default],
json:{write:!0}})],b.prototype,"colorClassBreakInfos",void 0);return b=c=f.__decorate([v.subclass("esri.renderers.PointCloudClassBreaksRenderer")],b)}(t)})},"esri/renderers/PointCloudRenderer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(w,a,f,k,v,t,n,q,x){var b=k.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",
pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});w=function(a){function c(b){b=a.call(this,b)||this;b.type=void 0;b.pointSizeAlgorithm=null;b.colorModulation=null;b.pointsPerInch=10;return b}f.__extends(c,a);c.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};c.prototype.cloneProperties=function(){return{pointSizeAlgorithm:t.clone(this.pointSizeAlgorithm),
colorModulation:t.clone(this.colorModulation),pointsPerInch:t.clone(this.pointsPerInch)}};f.__decorate([n.property({type:b.apiValues,readOnly:!0,nonNullable:!0,json:{type:b.jsonValues,read:!1,write:b.write}})],c.prototype,"type",void 0);f.__decorate([n.property({types:x.pointSizeAlgorithmTypes,json:{write:!0}})],c.prototype,"pointSizeAlgorithm",void 0);f.__decorate([n.property({type:q.default,json:{write:!0}})],c.prototype,"colorModulation",void 0);f.__decorate([n.property({json:{write:!0},nonNullable:!0,
type:Number})],c.prototype,"pointsPerInch",void 0);return c=f.__decorate([n.subclass("esri.renderers.PointCloudRenderer")],c)}(v.JSONSupport);(w||(w={})).fieldTransformTypeKebabDict=new k.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return w})},"esri/renderers/support/pointCloud/ColorModulation":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],
function(w,a,f,k,v){Object.defineProperty(a,"__esModule",{value:!0});a.ColorModulation=void 0;w=function(a){function k(){var f=null!==a&&a.apply(this,arguments)||this;f.field=null;f.minValue=0;f.maxValue=255;return f}f.__extends(k,a);q=k;k.prototype.clone=function(){return new q({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};var q;f.__decorate([v.property({type:String,json:{write:!0}})],k.prototype,"field",void 0);f.__decorate([v.property({type:Number,nonNullable:!0,json:{write:!0}})],
k.prototype,"minValue",void 0);f.__decorate([v.property({type:Number,nonNullable:!0,json:{write:!0}})],k.prototype,"maxValue",void 0);return k=q=f.__decorate([v.subclass("esri.renderers.support.pointCloud.ColorModulation")],k)}(k.JSONSupport);a.ColorModulation=w;a.default=w})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["require","exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(w,a,f,k,v){Object.defineProperty(a,
"__esModule",{value:!0});a.pointSizeAlgorithmTypes=void 0;a.pointSizeAlgorithmTypes={key:"type",base:f.default,typeMap:{"fixed-size":k.default,splat:v.default}}})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("require exports tslib ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(w,a,f,k,v,t){Object.defineProperty(a,"__esModule",{value:!0});a.PointSizeAlgorithm=a.typeKebabDictionary=void 0;a.typeKebabDictionary=
new k.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});w=function(k){function q(){return null!==k&&k.apply(this,arguments)||this}f.__extends(q,k);f.__decorate([t.property({type:a.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:a.typeKebabDictionary.jsonValues,read:!1,write:a.typeKebabDictionary.write}})],q.prototype,"type",void 0);return q=f.__decorate([t.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],q)}(v.JSONSupport);a.PointSizeAlgorithm=
w;a.default=w})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./PointSizeAlgorithm"],function(w,a,f,k,v){Object.defineProperty(a,"__esModule",{value:!0});a.PointSizeFixedSizeAlgorithm=void 0;w=function(a){function n(){var f=null!==a&&a.apply(this,arguments)||this;f.type="fixed-size";f.size=0;f.useRealWorldSymbolSizes=null;return f}f.__extends(n,a);q=n;n.prototype.clone=function(){return new q({size:this.size,
useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};var q;f.__decorate([k.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],n.prototype,"type",void 0);f.__decorate([k.property({type:Number,nonNullable:!0,json:{write:!0}})],n.prototype,"size",void 0);f.__decorate([k.property({type:Boolean,json:{write:!0}})],n.prototype,"useRealWorldSymbolSizes",void 0);return n=q=f.__decorate([k.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],n)}(v.default);a.PointSizeFixedSizeAlgorithm=
w;a.default=w})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./PointSizeAlgorithm"],function(w,a,f,k,v){Object.defineProperty(a,"__esModule",{value:!0});a.PointSizeSplatAlgorithm=void 0;w=function(a){function n(){var f=null!==a&&a.apply(this,arguments)||this;f.type="splat";f.scaleFactor=1;return f}f.__extends(n,a);q=n;n.prototype.clone=function(){return new q({scaleFactor:this.scaleFactor})};
var q;f.__decorate([k.enumeration({pointCloudSplatAlgorithm:"splat"})],n.prototype,"type",void 0);f.__decorate([k.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],n.prototype,"scaleFactor",void 0);return n=q=f.__decorate([k.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],n)}(v.default);a.PointSizeSplatAlgorithm=w;a.default=w})},"esri/renderers/support/LegendOptions":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(w,a,f,k,v){Object.defineProperty(a,"__esModule",{value:!0});a.LegendOptions=void 0;w=function(a){function k(){var f=null!==a&&a.apply(this,arguments)||this;f.title=null;return f}f.__extends(k,a);q=k;k.prototype.clone=function(){return new q({title:this.title})};var q;f.__decorate([v.property({type:String,json:{write:!0}})],k.prototype,"title",void 0);return k=q=f.__decorate([v.subclass("esri.renderers.support.LegendOptions")],k)}(k.JSONSupport);a.LegendOptions=w;a.default=w})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(w,a,f,k,v,t,n,q){Object.defineProperty(a,"__esModule",{value:!0});a.ColorClassBreakInfo=void 0;w=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.description=null;b.label=null;b.minValue=0;b.maxValue=0;b.color=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:t.clone(this.color)})};var c;f.__decorate([n.property({type:String,json:{write:!0}})],
b.prototype,"description",void 0);f.__decorate([n.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);f.__decorate([n.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);f.__decorate([n.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);f.__decorate([n.property({type:k,json:{type:[q.Integer],write:!0}})],b.prototype,"color",void 0);return b=
c=f.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],b)}(v.JSONSupport);a.ColorClassBreakInfo=w;a.default=w})},"esri/renderers/PointCloudStretchRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/StopInfo".split(" "),function(w,a,f,k,v,t,n,q){return function(a){function b(b){b=a.call(this,b)||this;b.type="point-cloud-stretch";b.field=null;b.legendOptions=
null;b.fieldTransformType=null;b.stops=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c(f.__assign(f.__assign({},this.cloneProperties()),{field:k.clone(this.field),fieldTransformType:k.clone(this.fieldTransformType),stops:k.clone(this.stops),legendOptions:k.clone(this.legendOptions)}))};var c;f.__decorate([v.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0);f.__decorate([v.property({json:{write:!0},type:String})],b.prototype,"field",
void 0);f.__decorate([v.property({type:n.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);f.__decorate([v.property({type:t.fieldTransformTypeKebabDict.apiValues,json:{type:t.fieldTransformTypeKebabDict.jsonValues,read:t.fieldTransformTypeKebabDict.read,write:t.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);f.__decorate([v.property({type:[q.default],json:{write:!0}})],b.prototype,"stops",void 0);return b=c=f.__decorate([v.subclass("esri.renderers.PointCloudStretchRenderer")],
b)}(t)})},"esri/renderers/support/pointCloud/StopInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(w,a,f,k,v,t,n,q){Object.defineProperty(a,"__esModule",{value:!0});a.StopInfo=void 0;w=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.label=null;b.value=0;b.color=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c({label:this.label,
value:this.value,color:t.clone(this.color)})};var c;f.__decorate([n.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);f.__decorate([n.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"value",void 0);f.__decorate([n.property({type:k,json:{type:[q.Integer],write:!0}})],b.prototype,"color",void 0);return b=c=f.__decorate([n.subclass("esri.renderers.support.pointCloud.StopInfo")],b)}(v.JSONSupport);a.StopInfo=w;a.default=w})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(w,a,f,k,v,t,n,q){return function(a){function b(b){b=a.call(this,b)||this;b.type="point-cloud-unique-value";b.field=null;b.fieldTransformType=null;b.colorUniqueValueInfos=null;b.legendOptions=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c(f.__assign(f.__assign({},this.cloneProperties()),{field:k.clone(this.field),fieldTransformType:k.clone(this.fieldTransformType),colorUniqueValueInfos:k.clone(this.colorUniqueValueInfos),legendOptions:k.clone(this.legendOptions)}))};
var c;f.__decorate([v.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],b.prototype,"type",void 0);f.__decorate([v.property({json:{write:!0},type:String})],b.prototype,"field",void 0);f.__decorate([v.property({type:t.fieldTransformTypeKebabDict.apiValues,json:{type:t.fieldTransformTypeKebabDict.jsonValues,read:t.fieldTransformTypeKebabDict.read,write:t.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);f.__decorate([v.property({type:[q.default],json:{write:!0}})],
b.prototype,"colorUniqueValueInfos",void 0);f.__decorate([v.property({type:n.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);return b=c=f.__decorate([v.subclass("esri.renderers.PointCloudUniqueValueRenderer")],b)}(t)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(w,a,f,
k,v,t,n,q){Object.defineProperty(a,"__esModule",{value:!0});a.ColorUniqueValueInfo=void 0;w=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.description=null;b.label=null;b.values=null;b.color=null;return b}f.__extends(b,a);c=b;b.prototype.clone=function(){return new c({description:this.description,label:this.label,values:t.clone(this.values),color:t.clone(this.color)})};var c;f.__decorate([n.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);f.__decorate([n.property({type:String,
json:{write:!0}})],b.prototype,"label",void 0);f.__decorate([n.property({type:[String],json:{write:!0}})],b.prototype,"values",void 0);f.__decorate([n.property({type:k,json:{type:[q.Integer],write:!0}})],b.prototype,"color",void 0);return b=c=f.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],b)}(v.JSONSupport);a.ColorUniqueValueInfo=w;a.default=w})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports tslib ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),
function(w,a,f,k,v,t,n){function q(b,a,c){for(var d="",e=0;e<c;){var g=b[a+e];if(128>g)d+=String.fromCharCode(g),e++;else if(192<=g&&224>g){if(e+1>=c)throw new k("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var h=b[a+e+1],g=(g&31)<<6|h&63,d=d+String.fromCharCode(g),e=e+2}else if(224<=g&&240>g){if(e+2>=c)throw new k("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var h=b[a+e+1],l=b[a+e+2],g=(g&15)<<12|(h&63)<<6|l&63,d=d+String.fromCharCode(g),
e=e+3}else if(240<=g&&248>g){if(e+3>=c)throw new k("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");h=b[a+e+1];l=b[a+e+2];g=(g&7)<<18|(h&63)<<12|(l&63)<<6|b[a+e+3]&63;d=65536<=g?d+String.fromCharCode((g-65536>>10)+55296,(g&1023)+56320):d+String.fromCharCode(g);e+=4}else throw new k("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return d}function x(b,c){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},e=0,g=0;g<c.length;g++){var h=
c[g],l=h.valueType||h.type;d.fields[h.property]=(0,a.valueType2ArrayBufferReader[l])(b,e);e+=a.valueType2TypedArrayClassMap[l].BYTES_PER_ELEMENT}d.byteCount=e;return d}function b(b,a,c){var d=[],e,g=0,h;for(h=0;h<b;h+=1){e=a[h];if(0<e){if(d.push(q(c,g,e-1)),0!==c[g+e-1])throw new k("string-array-error","Invalid string array: missing null termination.");}else d.push(null);g+=e}return d}function c(b,c){return new a.valueType2TypedArrayClassMap[c.valueType](b,c.byteOffset,c.count*c.valuesPerElement)}
function d(b,a){return new Uint8Array(b,a.byteOffset,a.byteCount)}function e(b,a,c){b=null!=a.header?x(b,a.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:b,byteOffset:b.byteCount,byteCount:0,entries:Object.create(null)};for(var d=b.byteCount,e=0;e<a.ordering.length;e++){var g=a.ordering[e],h=v.clone(a[g]);h.count=b.fields.count;if("String"===h.valueType){if(h.byteOffset=d,h.byteCount=b.fields[g+"ByteCount"],"UTF-8"!==h.encoding)throw new k("unsupported-encoding","Unsupported String encoding.",
{encoding:h.encoding});}else if(p(h.valueType)){var l=m(h.valueType),d=d+(0!==d%l?l-d%l:0);h.byteOffset=d;h.byteCount=l*h.valuesPerElement*h.count}else throw new k("unsupported-value-type","Unsupported binary valueType",{valueType:h.valueType});d+=h.byteCount;c.entries[g]=h}c.byteCount=d-c.byteOffset;return c}function g(b,a,c){a!==b&&M.error("Invalid "+c+" buffer size\n expected: "+b+", actual: "+a+")");if(a<b)throw new k("buffer-too-small","Binary buffer is too small",{expectedSize:b,actualSize:a});
}function l(b){return{isDraco:!1,isLegacy:!1,color:null!=b.color,normal:null!=b.normal,uv0:null!=b.uv0,uvRegion:null!=b.uvRegion,featureIndex:null!=b.faceRange&&null!=b.featureId}}function h(b){for(var a={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},c=0,d=b.ordering;c<d.length;c++){var e=d[c];if(b.vertexAttributes[e])switch(e){case "normal":a.normal=!0;break;case "color":a.color=!0;break;case "uv0":a.uv0=!0;break;case "region":a.uvRegion=!0}}b.featureAttributes&&b.featureAttributeOrder&&
(a.featureIndex=!0);return a}function r(b){for(var a={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},c=0;c<b.length;c++)switch(b[c]){case "normal":a.normal=!0;break;case "uv0":a.uv0=!0;break;case "color":a.color=!0;break;case "uv-region":a.uvRegion=!0;break;case "feature-index":a.featureIndex=!0}return a}function p(b){return a.valueType2TypedArrayClassMap.hasOwnProperty(b)}function m(b){return p(b)?a.valueType2TypedArrayClassMap[b].BYTES_PER_ELEMENT:0}Object.defineProperty(a,
"__esModule",{value:!0});a.getBytesPerValue=a.isValueType=a.valueType2ArrayBufferReader=a.valueType2TypedArrayClassMap=a.readBinaryAttribute=a.createGeometryDescriptorForDraco=a.createGeometryDescriptorFromSchema=a.createGeometryDescriptor=a.createGeometryIndexFromSchema=a.createGeometryDescriptorFromDefinition=a.createAttributeDataIndex=a.createRawView=a.createTypedView=a.readStringArray=a.readHeader=void 0;var M=t.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");a.readHeader=x;a.readStringArray=
b;a.createTypedView=c;a.createRawView=d;a.createAttributeDataIndex=e;a.createGeometryDescriptorFromDefinition=l;a.createGeometryIndexFromSchema=function(b,a){for(var c=x(b,a&&a.header),d=c.byteCount,e={isDraco:!1,header:c,byteOffset:c.byteCount,byteCount:0,vertexAttributes:{}},h=c.fields,l=null!=h.vertexCount?h.vertexCount:h.count,r=0,p=a.ordering;r<p.length;r++){var k=p[r];a.vertexAttributes[k]&&(c=f.__assign(f.__assign({},a.vertexAttributes[k]),{byteOffset:d,count:l}),e.vertexAttributes[u[k]?u[k]:
"_"+k]=c,d+=m(c.valueType)*c.valuesPerElement*l)}l=h.faceCount;if(a.faces&&l)for(e.faces={},r=0,p=a.ordering;r<p.length;r++)k=p[r],a.faces[k]&&(c=f.__assign(f.__assign({},a.faces[k]),{byteOffset:d,count:l}),e.faces[k]=c,d+=m(c.valueType)*c.valuesPerElement*l);h=h.featureCount;if(a.featureAttributes&&a.featureAttributeOrder&&h)for(e.featureAttributes={},l=0,r=a.featureAttributeOrder;l<r.length;l++)p=r[l],a.featureAttributes[p]&&(c=f.__assign(f.__assign({},a.featureAttributes[p]),{byteOffset:d,count:h}),
e.featureAttributes[p]=c,p="UInt64"===c.valueType?8:m(c.valueType),d+=p*c.valuesPerElement*h);g(d,b.byteLength,"geometry");e.byteCount=d-e.byteOffset;return e};a.createGeometryDescriptor=function(b,a){return b&&b.compressedAttributes&&"draco"===b.compressedAttributes.encoding?r(b.compressedAttributes.attributes):b?l(b):h(a)};a.createGeometryDescriptorFromSchema=h;a.createGeometryDescriptorForDraco=r;var u={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};a.readBinaryAttribute=
function(a,h,l){if("lepcc-rgb"===a.encoding)return n.decodeRGB(h);if("lepcc-intensity"===a.encoding)return n.decodeIntensity(h);if(null!=a.encoding&&""!==a.encoding)throw new k("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(M.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(M.warn("Warning: Case error in objectIds"),
a.ordering[0]="objectIds");l=e(h,a,l);g(l.byteOffset+l.byteCount,h.byteLength,"attribute");if(a=l.entries.attributeValues||l.entries.objectIds){if("String"===a.valueType){l=l.entries.attributeByteCounts;var r=c(h,l);h=d(h,a);return b(l.count,r,h)}return c(h,a)}throw new k("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};a.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,
Int32:Int32Array};a.valueType2ArrayBufferReader={Float32:function(b,a){return(new DataView(b,0)).getFloat32(a,!0)},Float64:function(b,a){return(new DataView(b,0)).getFloat64(a,!0)},UInt8:function(b,a){return(new DataView(b,0)).getUint8(a)},Int8:function(b,a){return(new DataView(b,0)).getInt8(a)},UInt16:function(b,a){return(new DataView(b,0)).getUint16(a,!0)},Int16:function(b,a){return(new DataView(b,0)).getInt16(a,!0)},UInt32:function(b,a){return(new DataView(b,0)).getUint32(a,!0)},Int32:function(b,
a){return(new DataView(b,0)).getInt32(a,!0)}};a.isValueType=p;a.getBytesPerValue=m})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(w,a,f){function k(a,f,b){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,b+n.identifierOffset,n.identifierLength)),version:f.getUint16(b+n.versionOffset,!0),checksum:f.getUint32(b+n.checksumOffset,!0)}}function v(a,f,b){var c=[];f=t(a,f,c);for(var d=[],e=0;e<c.length;e++){d.length=0;f=t(a,
f,d);for(var g=0;g<d.length;g++)b.push(d[g]+c[e])}return f}function t(a,k,b){var c=new DataView(a,k),d=c.getUint8(0),e=d&31,g=!!(d&32),l=(d&192)>>6,d=0;if(0===l)d=c.getUint32(1,!0),k+=5;else if(1===l)d=c.getUint16(1,!0),k+=3;else if(2===l)d=c.getUint8(1),k+=2;else throw new f("lepcc-decode-error","Bad count type");if(g)throw new f("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,k,Math.ceil(d*e/8));for(var l=g=c=0,h=-1>>>32-e,r=0;r<d;r++){for(;g<e;)c|=a[l]<<g,g+=8,l+=1;b[r]=c&h;c>>>=
e;g-=e;32<g+e&&(c|=a[l-1]>>8-g)}return k+l}Object.defineProperty(a,"__esModule",{value:!0});a.decodeIntensity=a.decodeRGB=a.decodeXYZ=void 0;var n={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};a.decodeXYZ=function(a){var q,b,c,d,e,g,l,h,r,p,m,M,u=new DataView(a,0),y=0;d=k(a,u,y);c=d.identifier;d=d.version;y+=n.byteCount;if("LEPCC     "!==c)throw new f("lepcc-decode-error","Bad identifier");if(1<d)throw new f("lepcc-decode-error","Unknown version");var C=
y;q=u.getUint32(C+0,!0);b=u.getUint32(C+4,!0);c=u.getFloat64(C+8,!0);d=u.getFloat64(C+16,!0);e=u.getFloat64(C+24,!0);g=u.getFloat64(C+32,!0);l=u.getFloat64(C+40,!0);h=u.getFloat64(C+48,!0);r=u.getFloat64(C+56,!0);p=u.getFloat64(C+64,!0);m=u.getFloat64(C+72,!0);M=u.getUint32(C+80,!0);u.getUint32(C+84,!0);y+=88;if(b*Math.pow(2,32)+q!==a.byteLength)throw new f("lepcc-decode-error","Bad size");u=new Float64Array(3*M);q=[];b=[];M=[];C=[];y=v(a,y,q);y=v(a,y,b);y=v(a,y,M);y=v(a,y,C);if(y!==a.byteLength)throw new f("lepcc-decode-error",
"Bad length");for(var t=y=a=0;t<q.length;t++)for(var y=y+q[t],w=0,O=0;O<b[t];O++){var w=w+M[a],N=C[a];u[3*a]=Math.min(g,c+2*r*w);u[3*a+1]=Math.min(l,d+2*p*y);u[3*a+2]=Math.min(h,e+2*m*N);a++}return{errorX:r,errorY:p,errorZ:m,result:u}};a.decodeRGB=function(a){var q,b,c,d,e,g,l=new DataView(a,0),h=0;d=k(a,l,h);c=d.identifier;d=d.version;h+=n.byteCount;if("ClusterRGB"!==c)throw new f("lepcc-decode-error","Bad identifier");if(1<d)throw new f("lepcc-decode-error","Unknown version");g=h;q=l.getUint32(g+
0,!0);b=l.getUint32(g+4,!0);c=l.getUint32(g+8,!0);d=l.getUint16(g+12,!0);e=l.getUint8(g+14);g=l.getUint8(g+15);h+=16;if(b*Math.pow(2,32)+q!==a.byteLength)throw new f("lepcc-decode-error","Bad size");if((2===e||1===e)&&0===g){if(3*d+c+h!==a.byteLength||256<d)throw new f("lepcc-decode-error","Bad count");l=new Uint8Array(a,h,3*d);d=new Uint8Array(a,h+3*d,c);h=new Uint8Array(3*c);for(a=0;a<c;a++)q=d[a],h[3*a]=l[3*q],h[3*a+1]=l[3*q+1],h[3*a+2]=l[3*q+2];return h}if(0===e&&0===g){if(3*c+h!==a.byteLength||
0!==d)throw new f("lepcc-decode-error","Bad count");return(new Uint8Array(a,h)).slice()}if(2>=e&&1===g){if(h+3!==a.byteLength||1!==d)throw new f("lepcc-decode-error","Bad count");d=l.getUint8(h);q=l.getUint8(h+1);l=l.getUint8(h+2);h=new Uint8Array(3*c);for(a=0;a<c;a++)h[3*a]=d,h[3*a+1]=q,h[3*a+2]=l;return h}throw new f("lepcc-decode-error","Bad method "+e+","+g);};a.decodeIntensity=function(a){var q,b,c,d,e,g=new DataView(a,0),l=0;d=k(a,g,l);c=d.identifier;d=d.version;l+=n.byteCount;if("Intensity "!==
c)throw new f("lepcc-decode-error","Bad identifier");if(1<d)throw new f("lepcc-decode-error","Unknown version");var h=l;q=g.getUint32(h+0,!0);b=g.getUint32(h+4,!0);c=g.getUint32(h+8,!0);d=g.getUint16(h+12,!0);e=g.getUint8(h+14);g.getUint8(h+15);l+=16;if(b*Math.pow(2,32)+q!==a.byteLength)throw new f("lepcc-decode-error","Bad size");g=new Uint16Array(c);if(8===e){if(c+l!==a.byteLength)throw new f("lepcc-decode-error","Bad size");e=new Uint8Array(a,l,c)}else if(16===e){if(2*c+l!==a.byteLength)throw new f("lepcc-decode-error",
"Bad size");e=new Uint16Array(a,l,c)}else if(e=[],t(a,l,e)!==a.byteLength)throw new f("lepcc-decode-error","Bad size");for(a=0;a<c;a++)g[a]=e[a]*d;return g}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../geometry/support/geodesicConstants ../webgl-engine/lib/BufferVectorMath".split(" "),
function(w,a,f,k,v,t,n,q,x,b,c,d){function e(b,a,c,d){if(2>b.length)return!1;2===b.length&&(E[0]=b[0],E[1]=b[1],E[2]=0,b=E);return g(b,a,0,c,d,0,1)}function g(b,a,c,d,e,g,l){void 0===l&&(l=1);a=z(a,e,aa);if(k.isNone(a))return!1;if(a===h){if(b===d&&c===g)return!0;for(a=c+3*l;c<a;c++,g++)d[g]=b[c];return!0}for(l=c+3*l;c<l;c+=3,g+=3)a(b,c,d,g);return!0}function l(b,c){if(c.spatialReference===b)return c.spatialReferenceId;c.spatialReference=b;"metersPerUnit"in c&&(c.metersPerUnit=v.getMetersPerUnitForSR(b,
1));return b.wkt===a.SphericalECEFSpatialReference.wkt?c.spatialReferenceId=1:b.isWGS84?c.spatialReferenceId=2:b.isWebMercator?c.spatialReferenceId=3:b.wkt===a.WGS84ECEFSpatialReference.wkt?c.spatialReferenceId=4:4490===b.wkid?c.spatialReferenceId=5:c.spatialReferenceId=0}function h(b,a,c,d){b!==c&&(c[d++]=b[a++],c[d++]=b[a++],c[d]=b[a])}function r(b,a,d,e){d[e++]=V*(b[a++]/c.earthRadius);d[e++]=V*(Math.PI/2-2*Math.atan(Math.exp(-1*b[a++]/c.earthRadius)));d[e]=b[a]}function p(b,a,c,d){r(b,a,c,d);
u(c,d,c,d)}function m(b,a,c,d){r(b,a,c,d);T(c,d,c,d)}function M(b,a,d,e){var g=.4999999*Math.PI,g=f.clamp(Q*b[a+1],-g,g),g=Math.sin(g);d[e++]=Q*b[a]*c.earthRadius;d[e++]=c.halfEarthRadius*Math.log((1+g)/(1-g));d[e]=b[a+2]}function u(b,a,d,e){var g=c.earthRadius+b[a+2],h=Q*b[a+1];b=Q*b[a];a=Math.cos(h);d[e++]=Math.cos(b)*a*g;d[e++]=Math.sin(b)*a*g;d[e]=Math.sin(h)*g}function y(b,a,e,g){var h=d.Vec3Compact.length(b,a),l=f.asinClamped(b[a+2]/(0===h?1:h));b=Math.atan2(b[a+1],b[a]);e[g++]=V*b;e[g++]=V*
l;e[g]=h-c.earthRadius}function C(b,a,c,d){y(b,a,c,d);M(c,d,c,d)}function X(b,a,c,d){y(b,a,c,d);T(c,d,c,d)}function T(b,a,d,e){var g=c.earthEllipsoidConstants,h=Q*b[a],l=Q*b[a+1];b=b[a+2];a=Math.sin(l);var l=Math.cos(l),r=g.a/Math.sqrt(1-g.e2*a*a);d[e++]=(r+b)*l*Math.cos(h);d[e++]=(r+b)*l*Math.sin(h);d[e++]=(r*(1-g.e2)+b)*a}function O(b,a,d,e){var g=c.earthEllipsoidConstants,h=b[a],l=b[a+1];b=b[a+2];var r,f,p,m,k,u;a=Math.abs(b);r=h*h+l*l;f=Math.sqrt(r);p=r+b*b;m=Math.sqrt(p);h=Math.atan2(l,h);k=
b*b/p;p=r/p;l=g.a2/m;r=g.a3-g.a4/m;.3<p?(k=a/m*(1+p*(g.a1+l+k*r)/m),m=Math.asin(k),l=k*k,p=Math.sqrt(1-l)):(p=f/m*(1-k*(g.a5-l-p*r)/m),m=Math.acos(p),l=1-p*p,k=Math.sqrt(l));u=1-g.e2*l;l=g.a/Math.sqrt(u);g=g.a6*l;l=f-l*p;r=a-g*k;a=p*l+k*r;f=p*r-k*l;g=f/(g/u+a);m+=g;0>b&&(m=-m);d[e++]=V*h;d[e++]=V*m;d[e]=a+f*g/2}function N(b,a,c,d){O(b,a,c,d);u(c,d,c,d)}function P(b,a,c,d){O(b,a,c,d);M(c,d,c,d)}function z(b,a,c){void 0===c&&(c=A());return B(b,a,c).projector}function B(b,a,c){if(c.source.spatialReference===
b&&c.dest.spatialReference===a)return c;var d=l(b,c.source),e=l(a,c.dest);0===d&&0===e?b.equals(a)?c.projector=h:c.projector=null:c.projector=R[d][e];return c}function A(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:h}}var F,G,H,I,J,K,L,D;Object.defineProperty(a,"__esModule",{value:!0});a.getProjector=a.wgs84ComparableLonLatToECEF=a.vectorToWGS84ComparableLonLat=a.canProjectToWGS84ComparableLonLat=
a.webMercator=a.boundingRectToBoundingRect=a.mbsToMbs=a.transformDirection=a.computeLinearTransformation=a.localLinearScaleFactors=a.bufferToBuffer=a.xyzToVector=a.pathsToPaths=a.vectorToVector=a.getProjectorName=a.canProject=a.WGS84ECEFSpatialReference=a.SphericalECEFSpatialReference=void 0;a.SphericalECEFSpatialReference=new x({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",'+c.earthRadius+',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});
a.WGS84ECEFSpatialReference=new x({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});a.canProject=function(b,a){return!!z(b,a,aa)};a.getProjectorName=function(b,a){b=
z(b,a,aa);return b===h?"copy3":b===u?"wgs84ToSphericalECEF":b===M?"wgs84ToWebMercator":b===T?"wgs84ToWGS84ECEF":b===r?"webMercatorToWGS84":b===p?"webMercatorToSphericalECEF":b===m?"webMercatorToWGS84ECEF":b===O?"wgs84ECEFToWGS84":b===N?"wgs84ECEFToSphericalECEF":b===P?"wgs84ECEFToWebMercator":b===y?"sphericalECEFToWGS84":b===C?"sphericalECEFToWebMercator":b===X?"sphericalECEFToWGS84ECEF":null};a.vectorToVector=e;a.pathsToPaths=function(b,a,c,d,e,h,l){void 0===l&&(l=0);for(var r=[],p=0;p<b.length;p++)for(var f=
b[p],m=0,k=f;m<k.length;m++)f=k[m],r.push(f[0],f[1],a?f[2]:l);if(!g(r,d,0,r,h,0,r.length/3))return!1;d=0;for(h=e.length=0;h<b.length;h++){f=b[h];l=[];p=0;for(m=f;p<m.length;p++)f=m[p],a&&c?l.push([r[d++],r[d++],r[d++],f[3]]):a?l.push([r[d++],r[d++],r[d++]]):(c?l.push([r[d++],r[d++],f[2]]):l.push([r[d++],r[d++]]),d++);e.push(l)}return!0};a.xyzToVector=function(b,a,c,d,e,h){E[0]=b;E[1]=a;E[2]=c;return g(E,d,0,e,h,0,1)};a.bufferToBuffer=g;a.localLinearScaleFactors=function(b,a,d,e){var g=l(a,U),h=l(e,
ba);if(g===h&&0!==g||a.equals(e))return d[0]=1,d[1]=1,d[2]=1,!0;if(1===g){a=n.vec3.length(b);b=a/Math.sqrt(b[0]*b[0]+b[1]*b[1]);a/=c.earthRadius;if(3===h)return d[0]=b*a,d[1]=b*a,d[2]=1,!0;if(2===h||5===h)return h=180/(c.earthRadius*Math.PI),d[0]=h*b*a,d[1]=h*a,d[2]=1,!0}return!1};a.computeLinearTransformation=function(b,a,c,d){var e=l(b,U),g=l(d,ba);if(e===g&&1!==g&&(0!==e||b.equals(d)))return t.mat4.identity(c),t.mat4.translate(c,c,a),!0;if(1===g){b=R[e][6];g=R[6][g];if(k.isNone(b)||k.isNone(g))return!1;
b(a,0,S,0);g(S,0,W,0);b=Q*S[0];g=Q*S[1];a=Math.sin(b);b=Math.cos(b);d=Math.sin(g);g=Math.cos(g);c[0]=-a;c[4]=-d*b;c[8]=g*b;c[12]=W[0];c[1]=b;c[5]=-d*a;c[9]=g*a;c[13]=W[1];c[2]=0;c[6]=g;c[10]=d;c[14]=W[2];c[3]=0;c[7]=0;c[11]=0;c[15]=1;return!0}if(3===g&&(2===e||1===e)){b=R[e][6];if(k.isNone(b))return!1;b(a,0,S,0);a=Q*S[1];M(S,0,W,0);t.mat4.identity(c);t.mat4.translate(c,c,W);a=1/Math.cos(a);t.mat4.scale(c,c,[a,a,1]);return!0}return!1};a.transformDirection=function(b,a,c,d,g){n.vec3.copy(Y,b);n.vec3.add(Z,
b,a);e(Y,c,Y,g);e(Z,c,Z,g);n.vec3.subtract(d,Z,Y);n.vec3.normalize(d,d)};a.mbsToMbs=function(b,a,d,e){a=B(a,e,ca);if(a.projector===h)return d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3],!0;if(k.isNone(a.projector))return!1;e=a.source;var g=a.dest;if(3===g.spatialReferenceId){a=R[e.spatialReferenceId][2];if(k.isNone(a))return!1;a(b,0,S,0);a=Math.abs(Q*S[1])+Math.asin(b[3]/(c.earthRadius+b[2]));M(S,0,d,0);d[3]=a>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(a)*b[3];return!0}a.projector(b,0,d,0);d[3]=b[3]*e.metersPerUnit/
g.metersPerUnit;return!0};a.boundingRectToBoundingRect=function(a,c,d,e){if(null==a)return!1;if(c.equals(e))return b.set(d,a),!0;E[0]=a[0];E[1]=a[1];E[2]=0;if(!g(E,c,0,E,e,0,1))return!1;d[0]=E[0];d[1]=E[1];E[0]=a[2];E[1]=a[3];E[2]=0;if(!g(E,c,0,E,e,0,1))return!1;d[2]=E[0];d[3]=E[1];return!0};(function(b){b.x2lon=function(b){return b/c.earthRadius};b.y2lat=function(b){return Math.PI/2-2*Math.atan(Math.exp(-1*b/c.earthRadius))};b.lon2x=function(b){return b*c.earthRadius};b.lat2y=function(b){b=Math.sin(b);
return c.earthRadius/2*Math.log((1+b)/(1-b))}})(a.webMercator||(a.webMercator={}));a.canProjectToWGS84ComparableLonLat=function(b){b=l(b,U);return!!R[b][6]};a.vectorToWGS84ComparableLonLat=function(b,a,c){a=l(a,U);a=R[a][6];if(k.isNone(a))return!1;a(b,0,E,0);c!==E&&(c[0]=E[0],c[1]=E[1],2<c.length&&(c[2]=E[2]));return!0};a.wgs84ComparableLonLatToECEF=function(b,a,d,e){void 0===e&&(e=0);e=c.earthRadius+e;var g=Math.cos(d);b[0]=Math.cos(a)*g*e;b[1]=Math.sin(a)*g*e;b[2]=Math.sin(d)*e};var R=(F={},F[2]=
(G={},G[5]=null,G[6]=h,G[1]=u,G[0]=null,G[3]=M,G[2]=h,G[4]=T,G),F[5]=(H={},H[5]=h,H[6]=h,H[1]=u,H[0]=null,H[3]=null,H[2]=null,H[4]=T,H),F[3]=(I={},I[5]=null,I[6]=r,I[1]=p,I[0]=null,I[3]=h,I[2]=r,I[4]=m,I),F[4]=(J={},J[5]=O,J[6]=O,J[1]=N,J[0]=null,J[3]=P,J[2]=O,J[4]=h,J),F[1]=(K={},K[5]=y,K[6]=y,K[1]=h,K[0]=null,K[3]=C,K[2]=y,K[4]=X,K),F[0]=(L={},L[5]=null,L[6]=null,L[1]=null,L[0]=h,L[3]=null,L[2]=null,L[4]=null,L),F[6]=(D={},D[5]=null,D[6]=h,D[1]=u,D[0]=null,D[3]=null,D[2]=h,D[4]=T,D),F);a.getProjector=
z;var U={spatialReference:null,spatialReferenceId:0},ba={spatialReference:null,spatialReferenceId:0},aa=A(),ca=A(),Q=f.deg2rad(1),V=f.rad2deg(1),E=q.vec3f64.create(),S=q.vec3f64.create(),W=q.vec3f64.create(),Y=q.vec3f64.create(),Z=q.vec3f64.create()})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ../geometry/support/geodesicConstants ../geometry/support/WKIDUnitConversion".split(" "),function(w,a,f,k,v,t,n){function q(b){if(b=N[b])return b;throw Error("unknown measure");
}function x(b){return O[b].baseUnit}function b(b,a){void 0===a&&(a=null);a=a||q(b);return O[a].baseUnit===b}function c(a,c,d){if(c===d)return a;var e=q(c);if(e!==q(d))throw Error("incompatible units");a=b(c,e)?a:a*O[e].units[c].inBaseUnits;return b(d,e)?a:a/O[e].units[d].inBaseUnits}function d(b,a){return 3E3>c(b,a,"meters")?"meters":"kilometers"}function e(b,a){return 1E5>c(b,a,"meters")?"meters":"kilometers"}function g(b,a){return 1E3>c(b,a,"feet")?"feet":"miles"}function l(b,a){return 1E5>c(b,
a,"feet")?"feet":"miles"}function h(b){return T.fromJSON(b.toLowerCase())||null}function r(b,a){void 0===a&&(a=M);return p(b,!0)||a}function p(b,a){void 0===a&&(a=!1);var c,d,e;null!=b&&("object"===typeof b?(c=b.wkid,d=b.wkt):"number"===typeof b?c=b:"string"===typeof b&&(d=b));c?(e=C.values[C[c]],!e&&a&&X.has(c)&&(e=u)):d&&-1!==d.search(/^PROJCS/i)&&(b=y.exec(d))&&b[1]&&(e=parseFloat(b[1].split(",")[1]));return e}function m(b){var a,c,d;null!=b&&("object"===typeof b?(a=b.wkid,c=b.wkt):"number"===
typeof b?a=b:"string"===typeof b&&(c=b));a?d=C.units[C[a]]:c&&-1!==c.search(/^PROJCS/i)&&(b=y.exec(c))&&b[1]&&(d=(b=/[\\"\\']{1}([^\\"\\']+)/.exec(b[1]))&&b[1]);return d?h(d):null}Object.defineProperty(a,"__esModule",{value:!0});a.getDefaultUnitSystem=a.getUnitString=a.getMetersPerUnit=a.getMetersPerUnitForSR=a.getVerticalUnitStringForSR=a.getMetersPerVerticalUnitForSR=a.unitToRESTJSON=a.unitFromRESTJSON=a.lengthToDegrees=a.preferredImperialAreaUnit=a.preferredMetricAreaUnit=a.preferredImperialVerticalLengthUnit=
a.preferredImperialLengthUnit=a.preferredMetricVerticalLengthUnit=a.preferredMetricLengthUnit=a.preferredVerticalLengthUnit=a.preferredLengthUnit=a.convertUnit=a.isBaseUnit=a.baseUnitForUnit=a.baseUnitForMeasure=a.measureForUnit=a.measurementLengthUnits=a.measurementAreaUnits=a.inchesPerMeter=void 0;a.inchesPerMeter=39.37;var M=t.metersPerDegree,u=t.earthRadius*Math.PI/200,y=/UNIT\[([^\]]+)\]\]$/i,C=n,X=v.SetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),
T=k.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});w={millimeters:{inBaseUnits:.001},
centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};k={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},
"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(b){return b*b}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var O={length:{baseUnit:"meters",units:w},area:{baseUnit:"square-meters",units:k},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},
"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},N=function(){var b={},a;for(a in O)for(var c in O[a].units)b[c]=a;return b}();a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.measureForUnit=q;a.baseUnitForMeasure=x;a.baseUnitForUnit=function(b){return x(q(b))};a.isBaseUnit=b;a.convertUnit=c;a.preferredLengthUnit=function(b,a,c){switch(c){case "metric":return d(b,a);case "imperial":return g(b,a);default:return c}};a.preferredVerticalLengthUnit=function(b,a,c){switch(c){case "metric":return e(b,a);case "imperial":return l(b,a);default:return c}};a.preferredMetricLengthUnit=
d;a.preferredMetricVerticalLengthUnit=e;a.preferredImperialLengthUnit=g;a.preferredImperialVerticalLengthUnit=l;a.preferredMetricAreaUnit=function(b,a){return 3E6>c(b,a,"square-meters")?"square-meters":"square-kilometers"};a.preferredImperialAreaUnit=function(b,a){return 1E6>c(b,a,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(b,a,d){void 0===d&&(d=t.earthRadius);return c(b,a,"meters")/(d*Math.PI/180)};a.unitFromRESTJSON=h;a.unitToRESTJSON=function(b){return T.toJSON(b)||
null};a.getMetersPerVerticalUnitForSR=function(b){b=r(b);return 1E5<b?1:b};a.getVerticalUnitStringForSR=function(b){return 1E5<r(b)?"meters":m(b)};a.getMetersPerUnitForSR=r;a.getMetersPerUnit=p;a.getUnitString=m;a.getDefaultUnitSystem=function(b){if(!b)return null;b=m(b);switch(b){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:f.neverReached(b)}return null}})},"esri/core/SetUtils":function(){define(["require","exports","./maybe"],function(w,a,f){function k(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function v(a){if(0===a.size)throw Error("Set is empty");var k=void 0,n=!1;a.forEach(function(b){n||(k=b,n=!0)});return f.assumeNonNull(k)}Object.defineProperty(a,"__esModule",{value:!0});
a.reduceSet=a.firstOfSet=a.SetFromValues=a.valuesOfSet=a.someSet=void 0;a.someSet=Set.prototype.entries?function(a,f){a=a.entries();for(var k=a.next();!k.done;k=a.next())if(f(k.value[0]))return!0;return!1}:function(a,f){var k=!0;a.forEach(function(b){k&&(k=!f(b))});return!k};w=!!Set.prototype.values;var t=!!Array.from;a.valuesOfSet=w&&t?function(a){return Array.from(a.values())}:function(a){var f=Array(a.size),k=0;a.forEach(function(b){return f[k++]=b});return f};a.SetFromValues=w?function(a){return new Set(a)}:
function(a){for(var f=new Set,k=0;k<a.length;k++)f.add(a[k]);return f};a.firstOfSet=w?k:v;a.reduceSet=function(a,f,k){var b=k;a.forEach(function(a){return b=f(a,b)});return b}})},"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.mat4=void 0;a.mat4=f})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(w,a,f,k){function v(b){b[0]=
1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function t(b,a,d){var c=a[0],g=a[1],l=a[2],h=a[3],r=a[4],f=a[5],m=a[6],k=a[7],u=a[8],y=a[9],n=a[10],q=a[11],v=a[12],t=a[13],w=a[14];a=a[15];var x=d[0],z=d[1],B=d[2],A=d[3];b[0]=x*c+z*r+B*u+A*v;b[1]=x*g+z*f+B*y+A*t;b[2]=x*l+z*m+B*n+A*w;b[3]=x*h+z*k+B*q+A*a;x=d[4];z=d[5];B=d[6];A=d[7];b[4]=x*c+z*r+B*u+A*v;b[5]=x*g+z*f+B*y+A*t;b[6]=x*l+z*m+B*n+A*w;b[7]=x*h+z*k+B*q+A*a;x=d[8];z=d[9];
B=d[10];A=d[11];b[8]=x*c+z*r+B*u+A*v;b[9]=x*g+z*f+B*y+A*t;b[10]=x*l+z*m+B*n+A*w;b[11]=x*h+z*k+B*q+A*a;x=d[12];z=d[13];B=d[14];A=d[15];b[12]=x*c+z*r+B*u+A*v;b[13]=x*g+z*f+B*y+A*t;b[14]=x*l+z*m+B*n+A*w;b[15]=x*h+z*k+B*q+A*a;return b}function n(b,a,d){var c=a[0],g=a[1],l=a[2],h=a[3],r=c+c,f=g+g,m=l+l;a=c*r;var k=c*f,c=c*m,u=g*f,g=g*m,l=l*m,r=h*r,f=h*f,h=h*m;b[0]=1-(u+l);b[1]=k+h;b[2]=c-f;b[3]=0;b[4]=k-h;b[5]=1-(a+l);b[6]=g+r;b[7]=0;b[8]=c+f;b[9]=g-r;b[10]=1-(a+u);b[11]=0;b[12]=d[0];b[13]=d[1];b[14]=
d[2];b[15]=1;return b}function q(b,a,d){b[0]=a[0]-d[0];b[1]=a[1]-d[1];b[2]=a[2]-d[2];b[3]=a[3]-d[3];b[4]=a[4]-d[4];b[5]=a[5]-d[5];b[6]=a[6]-d[6];b[7]=a[7]-d[7];b[8]=a[8]-d[8];b[9]=a[9]-d[9];b[10]=a[10]-d[10];b[11]=a[11]-d[11];b[12]=a[12]-d[12];b[13]=a[13]-d[13];b[14]=a[14]-d[14];b[15]=a[15]-d[15];return b}Object.defineProperty(a,"__esModule",{value:!0});a.sub=a.mul=a.equals=a.exactEquals=a.multiplyScalarAndAdd=a.multiplyScalar=a.subtract=a.add=a.frob=a.str=a.targetTo=a.lookAt=a.ortho=a.perspectiveFromFieldOfView=
a.perspective=a.frustum=a.fromQuat=a.fromRotationTranslationScaleOrigin=a.fromRotationTranslationScale=a.getRotation=a.getScaling=a.getTranslation=a.fromQuat2=a.fromRotationTranslation=a.fromZRotation=a.fromYRotation=a.fromXRotation=a.fromRotation=a.fromScaling=a.fromTranslation=a.rotateZ=a.rotateY=a.rotateX=a.rotate=a.scale=a.translate=a.multiply=a.determinant=a.adjoint=a.invert=a.transpose=a.identity=a.set=a.copy=void 0;a.copy=function(b,a){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=
a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};a.set=function(b,a,d,e,g,l,h,r,f,m,k,u,y,n,q,v,t){b[0]=a;b[1]=d;b[2]=e;b[3]=g;b[4]=l;b[5]=h;b[6]=r;b[7]=f;b[8]=m;b[9]=k;b[10]=u;b[11]=y;b[12]=n;b[13]=q;b[14]=v;b[15]=t;return b};a.identity=v;a.transpose=function(b,a){if(b===a){var c=a[1],e=a[2],g=a[3],l=a[6],h=a[7],f=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=e;b[9]=l;b[11]=a[14];b[12]=g;b[13]=h;
b[14]=f}else b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b};a.invert=function(b,a){var c=a[0],e=a[1],g=a[2],l=a[3],h=a[4],f=a[5],p=a[6],m=a[7],k=a[8],u=a[9],y=a[10],n=a[11],q=a[12],v=a[13],t=a[14];a=a[15];var w=c*f-e*h,x=c*p-g*h,z=c*m-l*h,B=e*p-g*f,A=e*m-l*f,F=g*m-l*p,G=k*v-u*q,H=k*t-y*q,I=k*a-n*q,J=u*t-y*v,K=u*a-n*v,L=y*a-n*t,D=w*L-x*K+z*J+B*I-A*H+F*G;if(!D)return null;
D=1/D;b[0]=(f*L-p*K+m*J)*D;b[1]=(g*K-e*L-l*J)*D;b[2]=(v*F-t*A+a*B)*D;b[3]=(y*A-u*F-n*B)*D;b[4]=(p*I-h*L-m*H)*D;b[5]=(c*L-g*I+l*H)*D;b[6]=(t*z-q*F-a*x)*D;b[7]=(k*F-y*z+n*x)*D;b[8]=(h*K-f*I+m*G)*D;b[9]=(e*I-c*K-l*G)*D;b[10]=(q*A-v*z+a*w)*D;b[11]=(u*z-k*A-n*w)*D;b[12]=(f*H-h*J-p*G)*D;b[13]=(c*J-e*H+g*G)*D;b[14]=(v*x-q*B-t*w)*D;b[15]=(k*B-u*x+y*w)*D;return b};a.adjoint=function(b,a){var d=a[0],c=a[1],g=a[2],l=a[3],h=a[4],f=a[5],p=a[6],m=a[7],k=a[8],u=a[9],y=a[10],n=a[11],q=a[12],v=a[13],t=a[14];a=a[15];
b[0]=f*(y*a-n*t)-u*(p*a-m*t)+v*(p*n-m*y);b[1]=-(c*(y*a-n*t)-u*(g*a-l*t)+v*(g*n-l*y));b[2]=c*(p*a-m*t)-f*(g*a-l*t)+v*(g*m-l*p);b[3]=-(c*(p*n-m*y)-f*(g*n-l*y)+u*(g*m-l*p));b[4]=-(h*(y*a-n*t)-k*(p*a-m*t)+q*(p*n-m*y));b[5]=d*(y*a-n*t)-k*(g*a-l*t)+q*(g*n-l*y);b[6]=-(d*(p*a-m*t)-h*(g*a-l*t)+q*(g*m-l*p));b[7]=d*(p*n-m*y)-h*(g*n-l*y)+k*(g*m-l*p);b[8]=h*(u*a-n*v)-k*(f*a-m*v)+q*(f*n-m*u);b[9]=-(d*(u*a-n*v)-k*(c*a-l*v)+q*(c*n-l*u));b[10]=d*(f*a-m*v)-h*(c*a-l*v)+q*(c*m-l*f);b[11]=-(d*(f*n-m*u)-h*(c*n-l*u)+k*
(c*m-l*f));b[12]=-(h*(u*t-y*v)-k*(f*t-p*v)+q*(f*y-p*u));b[13]=d*(u*t-y*v)-k*(c*t-g*v)+q*(c*y-g*u);b[14]=-(d*(f*t-p*v)-h*(c*t-g*v)+q*(c*p-g*f));b[15]=d*(f*y-p*u)-h*(c*y-g*u)+k*(c*p-g*f);return b};a.determinant=function(b){var a=b[0],d=b[1],e=b[2],g=b[3],l=b[4],h=b[5],f=b[6],p=b[7],m=b[8],k=b[9],u=b[10],n=b[11],v=b[12],q=b[13],t=b[14];b=b[15];return(a*h-d*l)*(u*b-n*t)-(a*f-e*l)*(k*b-n*q)+(a*p-g*l)*(k*t-u*q)+(d*f-e*h)*(m*b-n*v)-(d*p-g*h)*(m*t-u*v)+(e*p-g*f)*(m*q-k*v)};a.multiply=t;a.translate=function(b,
a,d){var c=d[0],g=d[1];d=d[2];var l=void 0,h=void 0,f=void 0,k=void 0,m=void 0,n=void 0,u=void 0,v=void 0,q=void 0,t=void 0,w=void 0,x=void 0;a===b?(b[12]=a[0]*c+a[4]*g+a[8]*d+a[12],b[13]=a[1]*c+a[5]*g+a[9]*d+a[13],b[14]=a[2]*c+a[6]*g+a[10]*d+a[14],b[15]=a[3]*c+a[7]*g+a[11]*d+a[15]):(l=a[0],h=a[1],f=a[2],k=a[3],m=a[4],n=a[5],u=a[6],v=a[7],q=a[8],t=a[9],w=a[10],x=a[11],b[0]=l,b[1]=h,b[2]=f,b[3]=k,b[4]=m,b[5]=n,b[6]=u,b[7]=v,b[8]=q,b[9]=t,b[10]=w,b[11]=x,b[12]=l*c+m*g+q*d+a[12],b[13]=h*c+n*g+t*d+a[13],
b[14]=f*c+u*g+w*d+a[14],b[15]=k*c+v*g+x*d+a[15]);return b};a.scale=function(b,a,d){var c=d[0],g=d[1];d=d[2];b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c;b[3]=a[3]*c;b[4]=a[4]*g;b[5]=a[5]*g;b[6]=a[6]*g;b[7]=a[7]*g;b[8]=a[8]*d;b[9]=a[9]*d;b[10]=a[10]*d;b[11]=a[11]*d;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};a.rotate=function(b,a,d,e){var c=e[0],l=e[1];e=e[2];var h=Math.sqrt(c*c+l*l+e*e),f=void 0,p=void 0,m=void 0,n=void 0,u=void 0,v=void 0,q=void 0,t=void 0,w=void 0,x=void 0,N=void 0,P=void 0,
z=void 0,B=void 0,A=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,p=f=void 0;if(h<k.EPSILON)return null;h=1/h;c*=h;l*=h;e*=h;f=Math.sin(d);p=Math.cos(d);m=1-p;n=a[0];u=a[1];v=a[2];q=a[3];t=a[4];w=a[5];x=a[6];N=a[7];P=a[8];z=a[9];B=a[10];A=a[11];F=c*c*m+p;G=l*c*m+e*f;H=e*c*m-l*f;I=c*l*m-e*f;J=l*l*m+p;K=e*l*m+c*f;L=c*e*m+l*f;f=l*e*m-c*f;p=e*e*m+p;b[0]=n*F+t*G+P*H;b[1]=u*F+w*G+z*H;b[2]=v*F+x*G+B*H;b[3]=q*F+N*G+A*H;b[4]=n*I+t*J+P*K;b[5]=u*I+w*J+z*K;b[6]=v*I+x*J+B*K;b[7]=q*I+N*
J+A*K;b[8]=n*L+t*f+P*p;b[9]=u*L+w*f+z*p;b[10]=v*L+x*f+B*p;b[11]=q*L+N*f+A*p;a!==b&&(b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b};a.rotateX=function(b,a,d){var c=Math.sin(d);d=Math.cos(d);var g=a[4],l=a[5],h=a[6],f=a[7],k=a[8],m=a[9],n=a[10],u=a[11];a!==b&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);b[4]=g*d+k*c;b[5]=l*d+m*c;b[6]=h*d+n*c;b[7]=f*d+u*c;b[8]=k*d-g*c;b[9]=m*d-l*c;b[10]=n*d-h*c;b[11]=u*d-f*c;return b};a.rotateY=function(b,a,d){var c=
Math.sin(d);d=Math.cos(d);var g=a[0],f=a[1],h=a[2],k=a[3],p=a[8],m=a[9],n=a[10],u=a[11];a!==b&&(b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);b[0]=g*d-p*c;b[1]=f*d-m*c;b[2]=h*d-n*c;b[3]=k*d-u*c;b[8]=g*c+p*d;b[9]=f*c+m*d;b[10]=h*c+n*d;b[11]=k*c+u*d;return b};a.rotateZ=function(b,a,d){var c=Math.sin(d);d=Math.cos(d);var g=a[0],f=a[1],h=a[2],k=a[3],p=a[4],m=a[5],n=a[6],u=a[7];a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=
a[14],b[15]=a[15]);b[0]=g*d+p*c;b[1]=f*d+m*c;b[2]=h*d+n*c;b[3]=k*d+u*c;b[4]=p*d-g*c;b[5]=m*d-f*c;b[6]=n*d-h*c;b[7]=u*d-k*c;return b};a.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};a.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotation=function(a,c,d){var b=
d[0],g=d[1];d=d[2];var f=Math.sqrt(b*b+g*g+d*d),h=void 0,r=void 0,p=void 0;if(f<k.EPSILON)return null;f=1/f;b*=f;g*=f;d*=f;h=Math.sin(c);r=Math.cos(c);p=1-r;a[0]=b*b*p+r;a[1]=g*b*p+d*h;a[2]=d*b*p-g*h;a[3]=0;a[4]=b*g*p-d*h;a[5]=g*g*p+r;a[6]=d*g*p+b*h;a[7]=0;a[8]=b*d*p+g*h;a[9]=g*d*p-b*h;a[10]=d*d*p+r;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromXRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=b;a[7]=0;a[8]=0;a[9]=-b;a[10]=c;a[11]=0;a[12]=
0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromYRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-b;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=b;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromZRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=b;a[2]=0;a[3]=0;a[4]=-b;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotationTranslation=n;a.fromQuat2=function(a,c){var b=x,e=-c[0],g=-c[1],f=-c[2],
h=c[3],k=c[4],p=c[5],m=c[6],v=c[7],u=e*e+g*g+f*f+h*h;0<u?(b[0]=2*(k*h+v*e+p*f-m*g)/u,b[1]=2*(p*h+v*g+m*e-k*f)/u,b[2]=2*(m*h+v*f+k*g-p*e)/u):(b[0]=2*(k*h+v*e+p*f-m*g),b[1]=2*(p*h+v*g+m*e-k*f),b[2]=2*(m*h+v*f+k*g-p*e));n(a,c,b);return a};var x=f.create();a.getTranslation=function(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};a.getScaling=function(a,c){var b=c[0],e=c[1],g=c[2],f=c[4],h=c[5],k=c[6],p=c[8],m=c[9];c=c[10];a[0]=Math.sqrt(b*b+e*e+g*g);a[1]=Math.sqrt(f*f+h*h+k*k);a[2]=Math.sqrt(p*p+m*m+
c*c);return a};a.getRotation=function(a,c){var b=c[0]+c[5]+c[10],e=0;0<b?(e=2*Math.sqrt(b+1),a[3]=.25*e,a[0]=(c[6]-c[9])/e,a[1]=(c[8]-c[2])/e,a[2]=(c[1]-c[4])/e):c[0]>c[5]&&c[0]>c[10]?(e=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-c[9])/e,a[0]=.25*e,a[1]=(c[1]+c[4])/e,a[2]=(c[8]+c[2])/e):c[5]>c[10]?(e=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/e,a[0]=(c[1]+c[4])/e,a[1]=.25*e,a[2]=(c[6]+c[9])/e):(e=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/e,a[0]=(c[8]+c[2])/e,a[1]=(c[6]+c[9])/e,a[2]=.25*
e);return a};a.fromRotationTranslationScale=function(a,c,d,e){var b=c[0],f=c[1],h=c[2],k=c[3],p=b+b,m=f+f,n=h+h;c=b*p;var u=b*m,b=b*n,v=f*m,f=f*n,h=h*n,p=k*p,m=k*m,k=k*n,n=e[0],q=e[1];e=e[2];a[0]=(1-(v+h))*n;a[1]=(u+k)*n;a[2]=(b-m)*n;a[3]=0;a[4]=(u-k)*q;a[5]=(1-(c+h))*q;a[6]=(f+p)*q;a[7]=0;a[8]=(b+m)*e;a[9]=(f-p)*e;a[10]=(1-(c+v))*e;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};a.fromRotationTranslationScaleOrigin=function(a,c,d,e,g){var b=c[0],h=c[1],f=c[2],k=c[3],m=b+b,n=h+h,u=f+f;
c=b*m;var v=b*n,q=b*u,b=h*n,h=h*u,t=f*u,f=k*m,n=k*n,w=k*u,x=e[0],N=e[1],u=e[2];e=g[0];k=g[1];g=g[2];var m=(1-(b+t))*x,P=(v+w)*x,x=(q-n)*x,v=(v-w)*N,t=(1-(c+t))*N,N=(h+f)*N,q=(q+n)*u,h=(h-f)*u;c=(1-(c+b))*u;a[0]=m;a[1]=P;a[2]=x;a[3]=0;a[4]=v;a[5]=t;a[6]=N;a[7]=0;a[8]=q;a[9]=h;a[10]=c;a[11]=0;a[12]=d[0]+e-(m*e+v*k+q*g);a[13]=d[1]+k-(P*e+t*k+h*g);a[14]=d[2]+g-(x*e+N*k+c*g);a[15]=1;return a};a.fromQuat=function(a,c){var b=c[0],e=c[1],g=c[2];c=c[3];var f=b+b,h=e+e,k=g+g,b=b*f,p=e*f,e=e*h,m=g*f,n=g*h,g=
g*k,f=c*f,h=c*h;c*=k;a[0]=1-e-g;a[1]=p+c;a[2]=m-h;a[3]=0;a[4]=p-c;a[5]=1-b-g;a[6]=n+f;a[7]=0;a[8]=m+h;a[9]=n-f;a[10]=1-b-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.frustum=function(a,c,d,e,g,f,h){var b=1/(d-c),k=1/(g-e),l=1/(f-h);a[0]=2*f*b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(d+c)*b;a[9]=(g+e)*k;a[10]=(h+f)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=h*f*2*l;a[15]=0;return a};a.perspective=function(a,c,d,e,g){c=1/Math.tan(c/2);var b=void 0;a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=
0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=g&&Infinity!==g?(b=1/(e-g),a[10]=(g+e)*b,a[14]=2*g*e*b):(a[10]=-1,a[14]=-2*e);return a};a.perspectiveFromFieldOfView=function(a,c,d,e){var b=Math.tan(c.upDegrees*Math.PI/180),f=Math.tan(c.downDegrees*Math.PI/180),h=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);var k=2/(h+c),p=2/(b+f);a[0]=k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=p;a[6]=0;a[7]=0;a[8]=-((h-c)*k*.5);a[9]=(b-f)*p*.5;a[10]=e/(d-e);a[11]=
-1;a[12]=0;a[13]=0;a[14]=e*d/(d-e);a[15]=0;return a};a.ortho=function(a,c,d,e,g,f,h){var b=1/(c-d),k=1/(e-g),l=1/(f-h);a[0]=-2*b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(c+d)*b;a[13]=(g+e)*k;a[14]=(h+f)*l;a[15]=1;return a};a.lookAt=function(a,c,d,e){var b=void 0,f=void 0,h=void 0,r=void 0,p=void 0,m=void 0,n=void 0,u=void 0,q=void 0,t=void 0,w=c[0],x=c[1];c=c[2];h=e[0];r=e[1];e=e[2];n=d[0];u=d[1];d=d[2];if(Math.abs(w-n)<k.EPSILON&&Math.abs(x-u)<k.EPSILON&&
Math.abs(c-d)<k.EPSILON)return v(a);n=w-n;u=x-u;q=c-d;t=1/Math.sqrt(n*n+u*u+q*q);n*=t;u*=t;q*=t;b=r*q-e*u;f=e*n-h*q;h=h*u-r*n;(t=Math.sqrt(b*b+f*f+h*h))?(t=1/t,b*=t,f*=t,h*=t):h=f=b=0;r=u*h-q*f;p=q*b-n*h;m=n*f-u*b;(t=Math.sqrt(r*r+p*p+m*m))?(t=1/t,r*=t,p*=t,m*=t):m=p=r=0;a[0]=b;a[1]=r;a[2]=n;a[3]=0;a[4]=f;a[5]=p;a[6]=u;a[7]=0;a[8]=h;a[9]=m;a[10]=q;a[11]=0;a[12]=-(b*w+f*x+h*c);a[13]=-(r*w+p*x+m*c);a[14]=-(n*w+u*x+q*c);a[15]=1;return a};a.targetTo=function(a,c,d,e){var b=c[0],f=c[1];c=c[2];var h=e[0],
k=e[1],p=e[2];e=b-d[0];var m=f-d[1];d=c-d[2];var n=e*e+m*m+d*d;0<n&&(n=1/Math.sqrt(n),e*=n,m*=n,d*=n);var u=k*d-p*m,p=p*e-h*d,h=h*m-k*e,n=u*u+p*p+h*h;0<n&&(n=1/Math.sqrt(n),u*=n,p*=n,h*=n);a[0]=u;a[1]=p;a[2]=h;a[3]=0;a[4]=m*h-d*p;a[5]=d*u-e*h;a[6]=e*p-m*u;a[7]=0;a[8]=e;a[9]=m;a[10]=d;a[11]=0;a[12]=b;a[13]=f;a[14]=c;a[15]=1;return a};a.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+
", "+a[14]+", "+a[15]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};a.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];a[3]=c[3]+d[3];a[4]=c[4]+d[4];a[5]=c[5]+d[5];a[6]=c[6]+d[6];a[7]=c[7]+d[7];a[8]=c[8]+d[8];a[9]=
c[9]+d[9];a[10]=c[10]+d[10];a[11]=c[11]+d[11];a[12]=c[12]+d[12];a[13]=c[13]+d[13];a[14]=c[14]+d[14];a[15]=c[15]+d[15];return a};a.subtract=q;a.multiplyScalar=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=c[7]*d;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12]*d;a[13]=c[13]*d;a[14]=c[14]*d;a[15]=c[15]*d;return a};a.multiplyScalarAndAdd=function(a,c,d,e){a[0]=c[0]+d[0]*e;a[1]=c[1]+d[1]*e;a[2]=c[2]+d[2]*e;a[3]=c[3]+d[3]*e;a[4]=
c[4]+d[4]*e;a[5]=c[5]+d[5]*e;a[6]=c[6]+d[6]*e;a[7]=c[7]+d[7]*e;a[8]=c[8]+d[8]*e;a[9]=c[9]+d[9]*e;a[10]=c[10]+d[10]*e;a[11]=c[11]+d[11]*e;a[12]=c[12]+d[12]*e;a[13]=c[13]+d[13]*e;a[14]=c[14]+d[14]*e;a[15]=c[15]+d[15]*e;return a};a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]};a.equals=function(a,
c){var b=a[0],e=a[1],g=a[2],f=a[3],h=a[4],n=a[5],p=a[6],m=a[7],q=a[8],u=a[9],t=a[10],v=a[11],w=a[12],x=a[13],O=a[14];a=a[15];var N=c[0],P=c[1],z=c[2],B=c[3],A=c[4],F=c[5],G=c[6],H=c[7],I=c[8],J=c[9],K=c[10],L=c[11],D=c[12],R=c[13],U=c[14];c=c[15];return Math.abs(b-N)<=k.EPSILON*Math.max(1,Math.abs(b),Math.abs(N))&&Math.abs(e-P)<=k.EPSILON*Math.max(1,Math.abs(e),Math.abs(P))&&Math.abs(g-z)<=k.EPSILON*Math.max(1,Math.abs(g),Math.abs(z))&&Math.abs(f-B)<=k.EPSILON*Math.max(1,Math.abs(f),Math.abs(B))&&
Math.abs(h-A)<=k.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(n-F)<=k.EPSILON*Math.max(1,Math.abs(n),Math.abs(F))&&Math.abs(p-G)<=k.EPSILON*Math.max(1,Math.abs(p),Math.abs(G))&&Math.abs(m-H)<=k.EPSILON*Math.max(1,Math.abs(m),Math.abs(H))&&Math.abs(q-I)<=k.EPSILON*Math.max(1,Math.abs(q),Math.abs(I))&&Math.abs(u-J)<=k.EPSILON*Math.max(1,Math.abs(u),Math.abs(J))&&Math.abs(t-K)<=k.EPSILON*Math.max(1,Math.abs(t),Math.abs(K))&&Math.abs(v-L)<=k.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(w-
D)<=k.EPSILON*Math.max(1,Math.abs(w),Math.abs(D))&&Math.abs(x-R)<=k.EPSILON*Math.max(1,Math.abs(x),Math.abs(R))&&Math.abs(O-U)<=k.EPSILON*Math.max(1,Math.abs(O),Math.abs(U))&&Math.abs(a-c)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};a.mul=t;a.sub=q})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(w,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=void 0;a.vec3f64=f})},"esri/geometry/support/aaBoundingRect":function(){define(["require",
"exports","../../core/compilerUtils","../Extent"],function(w,a,f,k){function v(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3]]}function t(a){return a[0]>=a[2]?0:a[2]-a[0]}function n(a){return a[1]>=a[3]?0:a[3]-a[1]}function q(a,b,c){return b>=a[0]&&c>=a[1]&&b<=a[2]&&c<=a[3]}function x(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function b(a){return 4===a.length}function c(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT=a.ZERO=a.NEGATIVE_INFINITY=
a.POSITIVE_INFINITY=a.equals=a.isPoint=a.is=a.empty=a.set=a.setMax=a.setMin=a.pad=a.offset=a.size=a.distance=a.intersection=a.contains=a.intersects=a.containsPointWithMargin=a.containsXY=a.containsPointObject=a.containsPoint=a.center=a.area=a.diameter=a.height=a.width=a.allFinite=a.expandWithNestedArray=a.expand=a.expandPointInPlace=a.toExtent=a.fromExtent=a.fromValues=a.clone=a.create=void 0;a.create=v;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,c,f,h){void 0===h&&
(h=v());h[0]=a;h[1]=b;h[2]=c;h[3]=f;return h};a.fromExtent=function(a,b){void 0===b&&(b=v());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};a.toExtent=function(a,b){return new k({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};a.expand=function(a,c,g){void 0===g&&(g=a);if("length"in c)if(b(c))g[0]=Math.min(a[0],c[0]),g[1]=Math.min(a[1],c[1]),g[2]=
Math.max(a[2],c[2]),g[3]=Math.max(a[3],c[3]);else{if(2===c.length||3===c.length)g[0]=Math.min(a[0],c[0]),g[1]=Math.min(a[1],c[1]),g[2]=Math.max(a[2],c[0]),g[3]=Math.max(a[3],c[1])}else switch(c.type){case "extent":g[0]=Math.min(a[0],c.xmin);g[1]=Math.min(a[1],c.ymin);g[2]=Math.max(a[2],c.xmax);g[3]=Math.max(a[3],c.ymax);break;case "point":g[0]=Math.min(a[0],c.x);g[1]=Math.min(a[1],c.y);g[2]=Math.max(a[2],c.x);g[3]=Math.max(a[3],c.y);break;default:f.neverReached(c)}return g};a.expandWithNestedArray=
function(a,b,c){void 0===c&&(c=a);var d=b.length,e=a[0],g=a[1],f=a[2];a=a[3];for(var k=0;k<d;k++){var n=b[k],e=Math.min(e,n[0]),g=Math.min(g,n[1]),f=Math.max(f,n[0]);a=Math.max(a,n[1])}c[0]=e;c[1]=g;c[2]=f;c[3]=a;return c};a.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=t;a.height=n;a.diameter=function(a){var b=t(a);a=n(a);return Math.sqrt(b*b+a*a)};a.area=function(a){return t(a)*n(a)};a.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=(a[0]+a[2])/2;b[1]=(a[1]+
a[3])/2;return b};a.containsPoint=function(a,b){return q(a,b[0],b[1])};a.containsPointObject=function(a,b){return q(a,b.x,b.y)};a.containsXY=q;a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};a.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};a.intersection=function(a,b,g){void 0===g&&(g=a);var d=
b[0],e=b[1],f=b[2];b=b[3];g[0]=c(a[0],d,f);g[1]=c(a[1],e,b);g[2]=c(a[2],d,f);g[3]=c(a[3],e,b);return g};a.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-t(a)/2,0);a=Math.max(Math.abs(b[1]-c)-n(a)/2,0);return Math.sqrt(d*d+a*a)};a.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};a.offset=function(a,b,c,f){void 0===f&&(f=a);f[0]=a[0]+b;f[1]=a[1]+c;f[2]=a[2]+b;f[3]=a[3]+c;return f};a.pad=function(a,b,c){void 0===c&&(c=a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+
b;return c};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};a.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};a.set=x;a.empty=function(b){return b?x(b,a.NEGATIVE_INFINITY):v(a.NEGATIVE_INFINITY)};a.is=b;a.isPoint=function(a){return(0===t(a)||!isFinite(a[0]))&&(0===n(a)||!isFinite(a[1]))};a.equals=function(a,c,f){if(null==a||null==c)return a===c;if(!b(a)||!b(c))return!1;if(f)for(var d=0;d<a.length;d++){if(!f(a[d],
c[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==c[d])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0];a.UNIT=[0,0,1,1]})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(w,a){Object.defineProperty(a,"__esModule",{value:!0});a.Vec3Compact=void 0;(function(a){a.length=function(a,f){var k=a[f],n=a[f+1];a=a[f+2];return Math.sqrt(k*k+n*n+a*a)};
a.normalize=function(a,f){var k=a[f],n=a[f+1],q=a[f+2],k=1/Math.sqrt(k*k+n*n+q*q);a[f]*=k;a[f+1]*=k;a[f+2]*=k};a.scale=function(a,f,t){a[f]*=t;a[f+1]*=t;a[f+2]*=t};a.add=function(a,f,t,n,q,w){void 0===w&&(w=f);q=q||a;q[w]=a[f]+t[n];q[w+1]=a[f+1]+t[n+1];q[w+2]=a[f+2]+t[n+2]};a.subtract=function(a,f,t,n,q,w){void 0===w&&(w=f);q=q||a;q[w]=a[f]-t[n];q[w+1]=a[f+1]-t[n+1];q[w+2]=a[f+2]-t[n+2]}})(a.Vec3Compact||(a.Vec3Compact={}))})},"*noref":1}});
define("require exports ../../../core/maybe ../../../core/promiseUtils ../../../core/typedArrayUtil ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../geometry/SpatialReference ./i3s/PointCloudWorkerUtil ../support/projectionUtils".split(" "),function(w,a,f,k,v,t,n,q,x,b,c,d){Object.defineProperty(a,"__esModule",{value:!0});var e=function(){function a(){}a.prototype.transform=function(a){a=
this._transform(a);var b=[a.points.buffer,a.rgb.buffer];f.isSome(a.pointIdFilterMap)&&b.push(a.pointIdFilterMap.buffer);for(var c=0,d=a.attributes;c<d.length;c++){var e=d[c];"buffer"in e.values&&v.isArrayBuffer(e.values.buffer)&&e.values.buffer!==a.rgb.buffer&&b.push(e.values.buffer)}return k.resolve({result:a,transferList:b})};a.prototype._transform=function(a){var d=c.readGeometry(a.schema,a.geometryBuffer),e=d.length/3,g=null,h=[],k=c.getAttributeValues(a.primaryAttributeData,d,e);f.isSome(a.primaryAttributeData)&&
k&&h.push({attributeInfo:a.primaryAttributeData.attributeInfo,values:k});var l=c.getAttributeValues(a.modulationAttributeData,d,e);f.isSome(a.modulationAttributeData)&&l&&h.push({attributeInfo:a.modulationAttributeData.attributeInfo,values:l});k=c.evaluateRenderer(a.rendererInfo,k,l,e);a.filterInfo&&0<a.filterInfo.length&&f.isSome(a.filterAttributesData)&&(l=a.filterAttributesData.map(function(a){var b=c.getAttributeValues(a,d,e);a={attributeInfo:a.attributeInfo,values:b};h.push(a);return a}),g=new Uint32Array(e),
e=c.filterInPlace(d,k,g,a.filterInfo,l));for(var l=0,n=a.userAttributesData;l<n.length;l++){var q=n[l],t=c.getAttributeValues(q,d,e);h.push({attributeInfo:q.attributeInfo,values:t})}3*e<k.length&&(k=new Uint8Array(k.buffer.slice(0,3*e)));this._applyElevationOffsetInPlace(d,e,a.elevationOffset);l=this._transformCoordinates(d,e,a.obb,b.fromJSON(a.inSR),b.fromJSON(a.outSR));return{obb:a.obb,points:l,rgb:k,attributes:h,pointIdFilterMap:g}};a.prototype._transformCoordinates=function(a,b,c,e,f){if(!d.bufferToBuffer(a,
e,0,a,f,0,b))throw Error("Can't reproject");e=x.vec3f32.fromValues(c.center[0],c.center[1],c.center[2]);f=x.vec3f32.create();var h=x.vec3f32.create();t.quat.conjugate(g,c.quaternion);for(var k=new Float32Array(3*b),l=0;l<b;l++)f[0]=a[3*l]-e[0],f[1]=a[3*l+1]-e[1],f[2]=a[3*l+2]-e[2],q.vec3.transformQuat(h,f,g),c.halfSize[0]=Math.max(c.halfSize[0],Math.abs(h[0])),c.halfSize[1]=Math.max(c.halfSize[1],Math.abs(h[1])),c.halfSize[2]=Math.max(c.halfSize[2],Math.abs(h[2])),k[3*l]=f[0],k[3*l+1]=f[1],k[3*l+
2]=f[2];return k};a.prototype._applyElevationOffsetInPlace=function(a,b,c){if(0!==c)for(var d=0;d<b;d++)a[3*d+2]+=c};return a}(),g=n.quatf32.create();a.default=function(){return new e}});