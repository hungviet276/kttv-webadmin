// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../core/mathUtils ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./Laserlines.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),function(m,f,c,n,p,g,e,q,h,r,t,k){Object.defineProperty(f,"__esModule",{value:!0});f.LaserlineTechniqueConfiguration=f.LaserlineTechnique=
void 0;g=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}c.__extends(b,d);b.prototype.initializeProgram=function(a){var l=b.shader.get().build(this.configuration);return new r(a.rctx,l.generateSource("vertex"),l.generateSource("fragment"),q.Default3D)};b.prototype.bind=function(a,b){this.program.setUniform3fv("innerColor",a.innerColor);this.program.setUniform1f("innerWidth",a.innerWidth*b.pixelRatio);this.program.setUniform3fv("glowColor",a.glowColor);this.program.setUniform1f("glowWidth",
a.glowWidth*b.pixelRatio);this.program.setUniform1f("glowFalloff",a.glowFalloff);this.program.setUniform1f("globalAlpha",a.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=a.globalAlphaContrastBoost?a.globalAlphaContrastBoost:1);a=null!=a.angleCutoff?a.angleCutoff:h.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",Math.cos(a),Math.cos(Math.max(0,a-n.deg2rad(2))));this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",
b.perScreenPixelRatio)};b.prototype.initializePipeline=function(){return k.makePipelineState({blending:t.simpleBlendingParams(1,771),colorWrite:k.defaultColorWriteParams})};b.shader=new p.ReloadableShaderModule(h,function(){return new Promise(function(a,b){m(["./Laserlines.glsl"],a,b)})});return b}(g.ShaderTechnique);f.LaserlineTechnique=g;g=function(d){function b(){var a=null!==d&&d.apply(this,arguments)||this;a.heightManifoldEnabled=!1;a.pointDistanceEnabled=!1;a.lineVerticalPlaneEnabled=!1;a.intersectsLineEnabled=
!1;a.contrastControlEnabled=!1;return a}c.__extends(b,d);c.__decorate([e.parameter()],b.prototype,"heightManifoldEnabled",void 0);c.__decorate([e.parameter()],b.prototype,"pointDistanceEnabled",void 0);c.__decorate([e.parameter()],b.prototype,"lineVerticalPlaneEnabled",void 0);c.__decorate([e.parameter()],b.prototype,"intersectsLineEnabled",void 0);c.__decorate([e.parameter()],b.prototype,"contrastControlEnabled",void 0);return b}(e.ShaderTechniqueConfiguration);f.LaserlineTechniqueConfiguration=
g});