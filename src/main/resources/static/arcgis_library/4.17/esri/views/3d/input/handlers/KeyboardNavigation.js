// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../../state/controllers/GamepadKeyboardController","../../../input/InputHandler"],function(g,e,h,k,l){Object.defineProperty(e,"__esModule",{value:!0});e.KeyboardNavigation=void 0;g=function(e){function f(c,a){var b,d=e.call(this,!0)||this;d.view=c;d.disableMovements={pan:!0,zoom:!1,ascend:!0,rotate:!1,mode:2};d.keyToNumber=(b={},b[a.left]=0,b[a.right]=1,b[a.forward]=2,b[a.backward]=3,b[a.up]=4,b[a.down]=5,b[a.headingLeft]=6,b[a.headingRight]=7,b[a.tiltUp]=8,b[a.tiltDown]=
9,b[a.zoomIn]=10,b[a.zoomOut]=11,b);d.registerIncoming("key-down",null,function(a){return d.handleKeyDown(a)});d.registerIncoming("key-up",null,function(a){return d.handleKeyUp(a)});d.registerIncoming("blur",null,function(){return d.handleBlur()});return d}h.__extends(f,e);f.prototype.handleKeyDown=function(c){if(!c.data.native.ctrlKey&&!c.data.native.metaKey){var a=this.keyToNumber[c.data.key];null!=a&&(this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active||(this.cameraControllerKeyboard=
new k.GamepadKeyboardController({view:this.view,disableMovements:this.disableMovements}),this.view.state.switchCameraController(this.cameraControllerKeyboard)),this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.activateDirection(a),c.stopPropagation()))}};f.prototype.handleBlur=function(){this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.finishController(),this.cameraControllerKeyboard=null)};f.prototype.handleKeyUp=function(c){if(!c.data.native.ctrlKey&&
!c.data.native.metaKey){var a=this.keyToNumber[c.data.key];null!=a&&this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.deactivateDirection(a),c.stopPropagation())}};return f}(l.InputHandler);e.KeyboardNavigation=g});