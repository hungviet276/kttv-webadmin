// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../core/Evented ../../../core/accessorSupport/decorators ../../../webscene/Lighting".split(" "),function(h,e,c,m,f,n){function k(c){return Math.round(c.hours+c.minutes/60+c.seconds/3600)}Object.defineProperty(e,"__esModule",{value:!0});e.calculateTimezoneOffset=e.SceneViewLighting=void 0;h=function(e){function d(a){a=e.call(this,a)||this;a.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};a.cameraTrackingEnabled=!0;a.ambientOcclusionEnabled=!1;a.waterReflectionEnabled=
!1;var b=(new Date).getFullYear(),b=new Date("March 15, "+b+" 12:00:00 UTC");a._set("defaultDate",b);a._set("date",b);return a}c.__extends(d,e);g=d;d.fromWebsceneLighting=function(a){return new g(c.__assign({},a.cloneConstructProperties()))};Object.defineProperty(d.prototype,"defaultDate",{get:function(){return new Date(this._get("defaultDate").getTime())},set:function(a){var b=this._get("date")===this._get("defaultDate");a=new Date(a.getTime());this._set("defaultDate",a);b&&this._set("date",a)},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"date",{set:function(a){null!=a&&(this.positionTimezoneInfo.autoUpdated=!1,this._set("date",new Date(a.getTime())))},enumerable:!1,configurable:!0});d.prototype.autoUpdate=function(a,b){var d=k(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=b.hours;this.positionTimezoneInfo.minutes=b.minutes;this.positionTimezoneInfo.seconds=b.seconds;b=null;null!=a&&(this.positionTimezoneInfo.autoUpdated=!0,b=this.date&&this.date.getTime(),
this._set("date",new Date(a.getTime())));var c=k(this.positionTimezoneInfo);d!==c&&(l.target=this,l.timezoneOffset=c,this.emit("timezone-will-change",l));if(null!=a)return b!==a.getTime()};d.prototype.clone=function(){var a=this._get("date")===this._get("defaultDate"),b=new g(c.__assign(c.__assign({},this.cloneConstructProperties()),{defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled,ambientOcclusionEnabled:this.ambientOcclusionEnabled,waterReflectionEnabled:this.waterReflectionEnabled}));
a&&b._set("date",b._get("defaultDate"));b.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated;b.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours;b.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes;b.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds;return b};d.prototype.cloneWithWebsceneLighting=function(a){var b=this.clone();null!=a.date&&(b.date=a.date);b.directShadowsEnabled=a.directShadowsEnabled;b.displayUTCOffset=a.displayUTCOffset;return b};
var g;c.__decorate([f.property({type:Boolean})],d.prototype,"cameraTrackingEnabled",void 0);c.__decorate([f.property({type:Boolean})],d.prototype,"ambientOcclusionEnabled",void 0);c.__decorate([f.property({type:Boolean})],d.prototype,"waterReflectionEnabled",void 0);c.__decorate([f.property({type:Date})],d.prototype,"defaultDate",null);c.__decorate([f.property({type:Date})],d.prototype,"date",null);return d=g=c.__decorate([f.subclass("esri.views.3d.environment.SceneViewLighting")],d)}(m.EventedMixin(n));
e.SceneViewLighting=h;e.calculateTimezoneOffset=k;var l={target:null,timezoneOffset:0};e.default=h});