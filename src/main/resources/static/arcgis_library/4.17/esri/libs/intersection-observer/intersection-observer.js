// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define([],function(){(function(){function k(a){try{return a.defaultView&&a.defaultView.frameElement||null}catch(b){return null}}function v(a){this.time=a.time;this.target=a.target;this.rootBounds=u(a.rootBounds);this.boundingClientRect=u(a.boundingClientRect);this.intersectionRect=u(a.intersectionRect||p());this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect,b=b.width*b.height;this.intersectionRatio=a?Number((b/a).toFixed(4)):this.isIntersecting?
1:0}function c(a,b){b=b||{};if("function"!=typeof a)throw Error("callback must be a function");if(b.root&&1!=b.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=A(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=a;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(b.rootMargin);this.thresholds=this._initThresholds(b.threshold);this.root=b.root||null;this.rootMargin=this._rootMarginValues.map(function(a){return a.value+
a.unit}).join(" ");this._monitoringDocuments=[];this._monitoringUnsubscribes=[]}function A(a,b){var d=null;return function(){d||(d=setTimeout(function(){a();d=null},b))}}function w(a,b,d,e){"function"==typeof a.addEventListener?a.addEventListener(b,d,e||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+b,d)}function x(a,b,d,e){"function"==typeof a.removeEventListener?a.removeEventListener(b,d,e||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+b,d)}function q(a){var b;try{b=a.getBoundingClientRect()}catch(d){}if(!b)return p();
b.width&&b.height||(b={top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.right-b.left,height:b.bottom-b.top});return b}function p(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(a){return!a||"x"in a?a:{top:a.top,y:a.top,bottom:a.bottom,left:a.left,x:a.left,right:a.right,width:a.width,height:a.height}}function y(a,b){var d=b.top-a.top;a=b.left-a.left;return{top:d,left:a,height:b.height,width:b.width,bottom:d+b.height,right:a+b.width}}function z(a,b){for(;b;){if(b==a)return!0;
b=r(b)}return!1}function r(a){var b=a.parentNode;return 9==a.nodeType&&a!=h?k(a):b&&11==b.nodeType&&b.host?b.host:b&&b.assignedSlot?b.assignedSlot.parentNode:b}if("object"===typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});
else{var h=function(a){for(var b=k(a);b;)a=b.ownerDocument,b=k(a);return a}(window.document),l=[],m=null,n=null;c.prototype.THROTTLE_TIMEOUT=100;c.prototype.POLL_INTERVAL=null;c.prototype.USE_MUTATION_OBSERVER=!0;c._setupCrossOriginUpdater=function(){m||(m=function(a,b){n=a&&b?y(a,b):p();l.forEach(function(a){a._checkForIntersections()})});return m};c._resetCrossOriginUpdater=function(){n=m=null};c.prototype.observe=function(a){if(!this._observationTargets.some(function(b){return b.element==a})){if(!a||
1!=a.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:a,entry:null});this._monitorIntersections(a.ownerDocument);this._checkForIntersections()}};c.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(b){return b.element!=a});this._unmonitorIntersections(a.ownerDocument);0==this._observationTargets.length&&this._unregisterInstance()};c.prototype.disconnect=function(){this._observationTargets=
[];this._unmonitorAllIntersections();this._unregisterInstance()};c.prototype.takeRecords=function(){var a=this._queuedEntries.slice();this._queuedEntries=[];return a};c.prototype._initThresholds=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,d,e){if("number"!=typeof a||isNaN(a)||0>a||1<a)throw Error("threshold must be a number between 0 and 1 inclusively");return a!==e[d-1]})};c.prototype._parseRootMargin=function(a){a=(a||"0px").split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);
if(!a)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};c.prototype._monitorIntersections=function(a){var b=a.defaultView;if(b&&-1==this._monitoringDocuments.indexOf(a)){var d=this._checkForIntersections,e=null,t=null;this.POLL_INTERVAL?e=b.setInterval(d,this.POLL_INTERVAL):(w(b,"resize",d,!0),w(a,"scroll",d,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in b&&(t=new b.MutationObserver(d),
t.observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!0})));this._monitoringDocuments.push(a);this._monitoringUnsubscribes.push(function(){var b=a.defaultView;b&&(e&&b.clearInterval(e),x(b,"resize",d,!0));x(a,"scroll",d,!0);t&&t.disconnect()});a!=(this.root&&this.root.ownerDocument||h)&&(b=k(a))&&this._monitorIntersections(b.ownerDocument)}};c.prototype._unmonitorIntersections=function(a){var b=this._monitoringDocuments.indexOf(a);if(-1!=b){var d=this.root&&this.root.ownerDocument||h;
if(!this._observationTargets.some(function(b){b=b.element.ownerDocument;if(b==a)return!0;for(;b&&b!=d;)if(b=(b=k(b))&&b.ownerDocument,b==a)return!0;return!1})){var e=this._monitoringUnsubscribes[b];this._monitoringDocuments.splice(b,1);this._monitoringUnsubscribes.splice(b,1);e();a!=d&&(b=k(a))&&this._unmonitorIntersections(b.ownerDocument)}}};c.prototype._unmonitorAllIntersections=function(){var a=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var b=this._monitoringUnsubscribes.length=
0;b<a.length;b++)a[b]()};c.prototype._checkForIntersections=function(){if(this.root||!m||n){var a=this._rootIsInDom(),b=a?this._getRootRect():p();this._observationTargets.forEach(function(d){var e=d.element,c=q(e),g=this._rootContainsTarget(e),f=d.entry,h=a&&g&&this._computeTargetAndRootIntersection(e,c,b);d=d.entry=new v({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:c,rootBounds:m&&!this.root?null:b,intersectionRect:h});f?a&&g?this._hasCrossedThreshold(f,
d)&&this._queuedEntries.push(d):f&&f.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)}};c.prototype._computeTargetAndRootIntersection=function(a,b,d){if("none"!=window.getComputedStyle(a).display){var e=b;b=r(a);for(a=!1;!a&&b;){var c=null,g=1==b.nodeType?window.getComputedStyle(b):{};if("none"==g.display)return null;if(b==this.root||9==b.nodeType)if(a=!0,b==this.root||b==h)m&&!this.root?!n||0==n.width&&
0==n.height?e=c=b=null:c=n:c=d;else{var g=(b=r(b))&&q(b),f=b&&this._computeTargetAndRootIntersection(b,g,d);g&&f?c=y(g,f):e=b=null}else f=b.ownerDocument,b!=f.body&&b!=f.documentElement&&"visible"!=g.overflow&&(c=q(b));if(c)var g=Math.max(c.top,e.top),f=Math.min(c.bottom,e.bottom),k=Math.max(c.left,e.left),e=Math.min(c.right,e.right),c=e-k,l=f-g,e=0<=c&&0<=l&&{top:g,bottom:f,left:k,right:e,width:c,height:l}||null;if(!e)break;b=b&&r(b)}return e}};c.prototype._getRootRect=function(){var a;if(this.root)a=
q(this.root);else{a=h.documentElement;var b=h.body;a={top:0,left:0,right:a.clientWidth||b.clientWidth,width:a.clientWidth||b.clientWidth,bottom:a.clientHeight||b.clientHeight,height:a.clientHeight||b.clientHeight}}return this._expandRectByRootMargin(a)};c.prototype._expandRectByRootMargin=function(a){var b=this._rootMarginValues.map(function(b,c){return"px"==b.unit?b.value:b.value*(c%2?a.width:a.height)/100}),b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3]};b.width=b.right-
b.left;b.height=b.bottom-b.top;return b};c.prototype._hasCrossedThreshold=function(a,b){a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a!==b)for(var c=0;c<this.thresholds.length;c++){var e=this.thresholds[c];if(e==a||e==b||e<a!==e<b)return!0}};c.prototype._rootIsInDom=function(){return!this.root||z(h,this.root)};c.prototype._rootContainsTarget=function(a){return z(this.root||h,a)&&(!this.root||this.root.ownerDocument==a.ownerDocument)};c.prototype._registerInstance=
function(){0>l.indexOf(this)&&l.push(this)};c.prototype._unregisterInstance=function(){var a=l.indexOf(this);-1!=a&&l.splice(a,1)};window.IntersectionObserver=c;window.IntersectionObserverEntry=v}})()});