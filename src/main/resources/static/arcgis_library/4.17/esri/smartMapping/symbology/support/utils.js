// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/arrayUtils","../../../core/screenUtils","../../support/utils"],function(p,b,l,e,m){function f(a,c){return a.r===c.r&&a.g===c.g&&a.b===c.b}function g(a){var c=a.width,b=a.height,d=a.pixelSizeAt(a.toMap(e.createScreenPoint(.5*c,.5*b),{exclude:[]}));0>=d&&(d=a.pixelSizeAt(a.toMap(e.createScreenPoint(.5*c,.95*b),{exclude:[]})),0>=d&&(c=a.camera.position.clone(),c.z=0,d=2*a.pixelSizeAt(c)));return d}Object.defineProperty(b,"__esModule",{value:!0});b.getTagsFromSchemes=
b.getBasemapTheme=b.getStorageType=b.toWorldScale=b.getPixelSize=b.hasIdenticalColors=void 0;var h="streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),k=["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"],n=[].concat(h).concat(k);b.hasIdenticalColors=function(a,c){var b=0;if(a.length===c.length){var d=a.every(function(a,b){return f(a,c[b])});d?b=1:(d=a.slice(0).reverse().every(function(a,
b){return f(a,c[b])}))&&(b=-1)}return b};b.getPixelSize=g;b.toWorldScale=function(a,b){return Math.ceil(g(b)*e.pt2px(e.toPt(a)))};b.getStorageType=function(a){return"multipoint"===a?"point":"mesh"===a?"polygon":a};b.getBasemapTheme=function(a){a=m.getBasemapId(a,n,!1);if(!a)return null;if(-1<h.indexOf(a))return"light";if(-1<k.indexOf(a))return"dark"};b.getTagsFromSchemes=function(a){if(!a)return[];var b=new Set,e=[a.primaryScheme];a.secondarySchemes&&e.push.apply(e,a.secondarySchemes);for(a=0;a<e.length;a++){var d=
e[a];d&&"tags"in d&&d.tags&&d.tags.forEach(function(a){return b.add(a)})}return l.keysOfSet(b)}});