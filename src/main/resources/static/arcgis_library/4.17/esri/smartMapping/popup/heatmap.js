// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../PopupTemplate ../../core/Error ../../core/promiseUtils ../../intl/messages ./support/utils".split(" "),function(w,d,a,l,r,t,u,m){function v(g){return a.__awaiter(this,void 0,void 0,function(){var b,e,c;return a.__generator(this,function(f){switch(f.label){case 0:return b=g.layer,e=g.renderer,[4,b.load()];case 1:f.sent();c=e||b.renderer;if("heatmap"!==c.type)throw new r("heatmap-popup:invalid-parameters","renderer.type must be 'heatmap'");return[2,{layer:b,renderer:c}]}})})}
Object.defineProperty(d,"__esModule",{value:!0});d.getTemplates=void 0;d.getTemplates=function(g){return a.__awaiter(this,void 0,void 0,function(){var b,e,c,f,d,k,n,p,h,q;return a.__generator(this,function(a){switch(a.label){case 0:return[4,t.all([v(g),u.loadMessageBundle("esri/smartMapping/t9n/smartMapping")])];case 1:return b=a.sent(),e=b[0],c=e.renderer,f=e.layer,d=b[1],c.field?[4,m.getFieldAndExpressionInfos({renderer:c,layer:f})]:[2,null];case 2:return k=a.sent().fieldInfos,p=l.bind,h={},[4,
m.getContentFromFieldInfos(f,{fieldInfos:k})];case 3:return n=new (p.apply(l,[void 0,(h.content=a.sent(),h.fieldInfos=k,h)])),q={name:"heatmap",title:d.heatmap,value:n},[2,{primaryTemplate:q,secondaryTemplates:[]}]}})})}});