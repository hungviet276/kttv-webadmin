// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties @dojo/framework/shim/Promise".split(" "),function(n,f,c,g,d,h,k,l,m){Object.defineProperty(f,"__esModule",{value:!0});f.OperationalLayer=void 0;f.OperationalLayer=function(f){return function(f){function a(){var a=null!==f&&f.apply(this,arguments)||this;a.title="Layer";return a}c.__extends(a,f);a.prototype.writeListMode=
function(a,b,c,e){e&&"ground"===e.layerContainerType?b[c]=a:a&&k.willPropertyWrite(this,c,{},e)&&(b[c]=a)};a.prototype.writeOperationalLayerType=function(a,b,c,e){!a||e&&"tables"===e.layerContainerType||(b.layerType=a)};a.prototype.writeTitle=function(a,b){b.title=a||"Layer"};a.prototype.read=function(a,b){var c=this;b&&(b.layer=this);h.readLoadable(this,a,function(b){return f.prototype.read.call(c,a,b)},b)};a.prototype.write=function(a,b){if(b&&b.origin){var d=b.origin+"/"+(b.layerContainerType||
"operational-layers"),e=l.supportedTypes[d],e=e&&e[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===d&&(e=!1);if(!e)return b.messages&&b.messages.push(new g("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+d+"'",{layer:this})),null}a=f.prototype.write.call(this,a,c.__assign(c.__assign({},b),{layer:this}));b=!!b&&!!b.messages&&!!b.messages.filter(function(a){return a instanceof
g&&"web-document-write:property-required"===a.name}).length;return!this.url&&b?null:a};a.prototype.beforeSave=function(){};c.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],a.prototype,"id",void 0);c.__decorate([d.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],a.prototype,"listMode",void 0);c.__decorate([d.writer("listMode")],a.prototype,"writeListMode",
null);c.__decorate([d.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],a.prototype,"operationalLayerType",void 0);c.__decorate([d.writer("operationalLayerType")],a.prototype,"writeOperationalLayerType",null);c.__decorate([d.property(m.opacity)],a.prototype,"opacity",void 0);c.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},
"portal-item":{write:!1}}}})],a.prototype,"title",void 0);c.__decorate([d.writer("title")],a.prototype,"writeTitle",null);c.__decorate([d.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],a.prototype,"visible",void 0);return a=c.__decorate([d.subclass("esri.layers.mixins.OperationalLayer")],a)}(f)}});