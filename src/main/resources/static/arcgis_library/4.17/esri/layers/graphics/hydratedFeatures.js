// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/support/jsonUtils ./dehydratedFeatures".split(" "),function(z,c,n,t,h,u,f,v,w){function k(a){return"declaredClass"in a}function g(a){return"declaredClass"in a}function l(a){return"declaredClass"in a}function m(a){return u.isNone(a)?null:k(a)?a:v.fromJSON(x(a))}function x(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,
spatialReference:b};case "polygon":var c=a.hasZ,d=a.hasM;return{rings:p(a.rings),hasZ:c,hasM:d,spatialReference:b};case "polyline":var e=a.paths,c=a.hasZ,d=a.hasM;return{paths:p(e),hasZ:c,hasM:d,spatialReference:b};case "extent":var e=a.xmin,f=a.xmax,g=a.ymin,h=a.ymax,k=a.zmin,l=a.zmax,m=a.mmin,n=a.mmax,c=a.hasZ,d=a.hasM;return{xmin:e,xmax:f,ymin:g,ymax:h,zmin:k,zmax:l,mmin:m,mmax:n,hasZ:c,hasM:d,spatialReference:b};case "multipoint":return e=a.points,c=a.hasZ,d=a.hasM,{points:q(e)?r(e):e,hasZ:c,
hasM:d,spatialReference:b};default:t.neverReached(a)}}function p(a){return y(a)?a.map(function(a){return r(a)}):a}function r(a){return a.map(function(a){return f.toArray(a)})}function y(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==c.length)return q(c)}return!1}function q(a){return a.length&&(f.isFloat32Array(a[0])||f.isFloat64Array(a[0]))}Object.defineProperty(c,"__esModule",{value:!0});c.clonePoint=c.hydrateGeometry=c.hydrateGraphic=c.isHydratedGraphic=c.isHydratedPoint=c.isHydratedGeometry=
void 0;c.isHydratedGeometry=k;c.isHydratedPoint=g;c.isHydratedGraphic=l;c.hydrateGraphic=function(a,b){if(!a)return null;if(l(a))return a;b=new n({layer:b,sourceLayer:b});b.visible=a.visible;b.symbol=h.clone(a.symbol);b.attributes=h.clone(a.attributes);b.geometry=m(a.geometry);return b};c.hydrateGeometry=m;c.clonePoint=function(a,b){if(!a)return null;if(g(a)){if(null==b)return a.clone();if(g(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=
a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=w.makeDehydratedPoint(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b}});