// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/support/PixelBlock":function(){define("require exports tslib ../../core/compilerUtils ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l,e,d,g,n){var c=d.getLogger("esri.layers.support.PixelBlock");return function(k){function f(a){a=k.call(this,a)||this;a.width=null;a.height=null;a.pixelType="f32";a.validPixelCount=null;a.mask=null;a.maskIsAlpha=!1;a.pixels=null;
a.statistics=null;return a}a.__extends(f,k);d=f;f.createEmptyBand=function(a,c){return new (d.getPixelArrayConstructor(a))(c)};f.getPixelArrayConstructor=function(a){var c;switch(a){case "u1":case "u2":case "u4":case "u8":c=Uint8Array;break;case "u16":c=Uint16Array;break;case "u32":c=Uint32Array;break;case "s8":c=Int8Array;break;case "s16":c=Int16Array;break;case "s32":c=Int32Array;break;case "u32":c=Uint32Array;break;case "f32":c=Float32Array;break;case "f64":c=Float64Array;break;case "c64":case "c128":case "unknown":c=
Float32Array;break;default:m.neverReached(a)}return c};f.prototype.castPixelType=function(a){if(!a)return"f32";a=a.toLowerCase();-1<["u1","u2","u4"].indexOf(a)?a="u8":-1==="unknown u8 s8 u16 s16 u32 s32 f32 f64".split(" ").indexOf(a)&&(a="f32");return a};f.prototype.getPlaneCount=function(){return this.pixels&&this.pixels.length};f.prototype.addData=function(a){if(!a.pixels||a.pixels.length!==this.width*this.height)throw new h("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");
this.pixels||(this.pixels=[]);this.statistics||(this.statistics=[]);this.pixels.push(a.pixels);this.statistics.push(a.statistics||{minValue:null,maxValue:null})};f.prototype.getAsRGBA=function(){var a=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case "s8":case "s16":case "u16":case "s32":case "u32":case "f32":case "f64":this._fillFromNon8Bit(a);break;default:this._fillFrom8Bit(a)}return new Uint8ClampedArray(a)};f.prototype.getAsRGBAFloat=function(){var a=new Float32Array(this.width*
this.height*4);this._fillFrom32Bit(a);return a};f.prototype.updateStatistics=function(){var a=this;this.statistics=this.pixels.map(function(c){return a._calculateBandStatistics(c,a.mask)});var c=this.mask,f=0;if(c)for(var k=0;k<c.length;k++)c[k]&&f++;else f=this.width*this.height;this.validPixelCount=f};f.prototype.clamp=function(a){if(a&&"f64"!==a&&"f32"!==a){var c;switch(a){case "u8":c=[0,255];break;case "u16":c=[0,65535];break;case "u32":c=[0,4294967295];break;case "s8":c=[-128,127];break;case "s16":c=
[-32768,32767];break;case "s32":c=[-2147483648,2147483647];break;default:c=[-3.4*1E39,3.4*1E39]}var f=c[0];c=c[1];for(var k=this.pixels,g=this.width*this.height,n=k.length,e,b,r,t=[],u=0;u<n;u++){r=d.createEmptyBand(a,g);e=k[u];for(var h=0;h<g;h++)b=e[h],r[h]=b>c?c:b<f?f:b;t.push(r)}this.pixels=t;this.pixelType=a}};f.prototype.extractBands=function(a){var c=this;if(g.isNone(a)||0===a.length||null==this.pixels||0===this.pixels.length)return this;var f=this.pixels.length,k=a.some(function(a){return a>=
c.pixels.length}),f=f===a.length&&!a.some(function(a,c){return a!==c});return k||f?this:new d({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:a.map(function(a){return c.pixels[a]}),statistics:this.statistics&&a.map(function(a){return c.statistics[a]})})};f.prototype.clone=function(){var a=new d({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});
this.mask&&(a.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));var c,f=d.getPixelArrayConstructor(this.pixelType);if(this.pixels&&0<this.pixels.length){a.pixels=[];var k=this.pixels[0].slice;for(c=0;c<this.pixels.length;c++)a.pixels[c]=k?this.pixels[c].slice(0,this.pixels[c].length):new f(this.pixels[c])}if(this.statistics)for(a.statistics=[],c=0;c<this.statistics.length;c++)a.statistics[c]=e.clone(this.statistics[c]);return a};f.prototype._fillFrom8Bit=function(a){var f=
this.mask,k=this.maskIsAlpha,g=this.pixels;if(a&&g&&g.length){var d,n,e;d=n=e=g[0];3<=g.length?(n=g[1],e=g[2]):2===g.length&&(n=g[1]);a=new Uint32Array(a);g=this.width*this.height;if(d.length!==g)c.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");else if(f&&f.length===g)if(k)for(k=0;k<g;k++)f[k]&&(a[k]=f[k]<<24|e[k]<<16|n[k]<<8|d[k]);else for(k=0;k<g;k++)f[k]&&(a[k]=-16777216|e[k]<<16|n[k]<<8|d[k]);else for(k=0;k<g;k++)a[k]=-16777216|e[k]<<16|n[k]<<8|d[k]}else c.error("getAsRGBA()",
"Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFromNon8Bit=function(a){var f=this.pixels,k=this.mask,g=this.statistics;if(a&&f&&f.length){var d=this.pixelType,n=1,e=0,n=1;g&&0<g.length?(e=g.map(function(a){return a.minValue}).reduce(function(a,c){return Math.min(a,c)}),n=g.map(function(a){return a.maxValue-a.minValue}).reduce(function(a,c){return Math.max(a,c)}),n=255/n):(n=255,"s8"===d?(e=-128,n=127):"u16"===d?n=65535:"s16"===d?(e=-32768,n=32767):"u32"===d?n=4294967295:
"s32"===d?(e=-2147483648,n=2147483647):"f32"===d?(e=-3.4*1E39,n=3.4*1E39):"f64"===d&&(e=-Number.MAX_VALUE,n=Number.MAX_VALUE),n=255/(n-e));a=new Uint32Array(a);var d=this.width*this.height,b,t,g=b=t=f[0];if(g.length!==d)return c.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(2<=f.length)if(b=f[1],3<=f.length&&(t=f[2]),k&&k.length===d)for(f=0;f<d;f++)k[f]&&(a[f]=-16777216|(t[f]-e)*n<<16|(b[f]-e)*n<<8|(g[f]-e)*n);else for(f=0;f<d;f++)a[f]=-16777216|(t[f]-e)*n<<16|(b[f]-
e)*n<<8|(g[f]-e)*n;else if(k&&k.length===d)for(f=0;f<d;f++)b=(g[f]-e)*n,k[f]&&(a[f]=-16777216|b<<16|b<<8|b);else for(f=0;f<d;f++)b=(g[f]-e)*n,a[f]=-16777216|b<<16|b<<8|b}else c.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFrom32Bit=function(a){var f=this.pixels,k=this.mask;if(!a||!f||!f.length)return c.error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");var g,d,n;g=d=n=f[0];3<=f.length?(d=f[1],n=f[2]):2===f.length&&
(d=f[1]);var e=this.width*this.height;if(g.length!==e)return c.error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");var b=0;if(k&&k.length===e)for(f=0;f<e;f++)a[b++]=g[f],a[b++]=d[f],a[b++]=n[f],a[b++]=k[f]&1;else for(f=0;f<e;f++)a[b++]=g[f],a[b++]=d[f],a[b++]=n[f],a[b++]=1};f.prototype._calculateBandStatistics=function(a,c){var f=Infinity,k=-Infinity,g=a.length,d,n=0;if(c)for(d=0;d<g;d++)c[d]&&(n=a[d],f=n<f?n:f,k=n>k?n:k);else for(d=0;d<g;d++)n=a[d],f=n<f?n:f,k=n>k?n:
k;return{minValue:f,maxValue:k}};var d;a.__decorate([n.property({json:{write:!0}})],f.prototype,"width",void 0);a.__decorate([n.property({json:{write:!0}})],f.prototype,"height",void 0);a.__decorate([n.property({json:{write:!0}})],f.prototype,"pixelType",void 0);a.__decorate([n.cast("pixelType")],f.prototype,"castPixelType",null);a.__decorate([n.property({json:{write:!0}})],f.prototype,"validPixelCount",void 0);a.__decorate([n.property({json:{write:!0}})],f.prototype,"mask",void 0);a.__decorate([n.property({json:{write:!0}})],
f.prototype,"maskIsAlpha",void 0);a.__decorate([n.property({json:{write:!0}})],f.prototype,"pixels",void 0);a.__decorate([n.property({json:{write:!0}})],f.prototype,"statistics",void 0);return f=d=a.__decorate([n.subclass("esri.layers.support.PixelBlock")],f)}(l.JSONSupport)})},"esri/layers/support/rasterFormats/RasterCodec":function(){define("require exports tslib ../../../core/Error ../../../core/SetUtils ../PixelBlock ./ImageCanvasDecoder ./JpgPlus ./Lerc2Codec ./LercCodec ./Png ./Raw ./TiffDecoder".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f){function t(a,c){if(!z)throw new m("rasterCoded:decode","lerc decoder is not supported on big endian platform");var f=c.width,k=c.height,g=c.pixelType,d=v(g),e=d.pixelTypeCtor;c=null==c.noDataValue?d.noDataValue:c.noDataValue;for(var d=0,b,p=0,t,r=a.byteLength-10;p<r;){var h=n.decode(a,{inputOffset:p,encodedMaskData:b,returnMask:0===d?!0:!1,returnEncodedMask:0===d?!0:!1,returnFileInfo:!0,pixelType:e,noDataValue:c});if(f&&k&&(h.width!==f||h.height!==k))throw new m("rasterCoded:decode",
"lerc decoded result has width or height different from specified in options");p=h.fileInfo.eofOffset;0===d&&(b=h.encodedMaskData,t=new l({width:h.width,height:h.height,pixels:[],pixelType:g,mask:h.maskData,statistics:[]}));d++;t.addData({pixels:h.pixelData,statistics:{minValue:h.minValue,maxValue:h.maxValue,noDataValue:h.noDataValue}});10<r-p&&(h=String.fromCharCode.apply(null,new Uint8Array(a,p,10)),p=-1<p+h.indexOf("CntZ")?h.indexOf("CntZ"):0)}return t}function r(a,c){if(!z)throw new m("rasterCoded:decode",
"lerc decoder is not supported on big endian platform");var f=0,k=0,d=0,n,e,b,p=a.byteLength-10,t=[],r=c.width;for(c=c.height;k<p;){e=g.decode(a,{inputOffset:k,maskData:n,returnFileInfo:!0});if(r&&c&&(e.width!==r||e.height!==c))throw new m("rasterCoded:decode","lerc2 decoded result has width or height different from what's specified in options");k=e.fileInfo.eofOffset;0===f&&(d=e.fileInfo.numValidPixel,n=e.maskData,b=new l({width:e.width,height:e.height,pixels:[],pixelType:e.fileInfo.pixelType,mask:e.maskData,
statistics:[]}));e.fileInfo.mask&&0<e.fileInfo.mask.numBytes&&t.push(e.maskData);f++;b.addData({pixels:e.pixelData,statistics:{minValue:e.minValue,maxValue:e.maxValue}});10<p-k&&(e=String.fromCharCode.apply(null,new Uint8Array(a,k,10)),k+=-1<e.indexOf("Lerc")?e.indexOf("Lerc"):0)}k=f=a=0;if(1<t.length){k=b.width*b.height;n=new Uint8Array(k);n.set(t[0]);for(a=1;a<t.length;a++)for(d=t[a],f=0;f<k;f++)n[f]&=d[f];for(f=d=0;f<k;f++)d+=n[f];b.mask=n}b.validPixelCount=d;return b}function p(a){a=f.decode(a);
a=new l({width:a.width,height:a.height,pixels:a.pixels,pixelType:a.pixelType.toLowerCase(),mask:a.mask,statistics:null});a.updateStatistics();return a}function D(a){a=d.decode(a);a=new l({width:a.width,height:a.height,pixels:a.pixels,pixelType:"U8",mask:a.mask,statistics:null});a.updateStatistics();return a}function A(a,f){a=new Uint8Array(a);var k=new c(a);a=f.width;var d=f.height;f=a*d;for(var k=k.decode(),g=0,n=0,n=new Uint8Array(f),g=0;g<f;g++)n[g]=k[4*g+3];d=new l({width:a,height:d,pixels:[],
pixelType:"U8",mask:n,statistics:[]});for(g=0;3>g;g++){a=new Uint8Array(f);for(n=0;n<f;n++)a[n]=k[4*n+g];d.addData({pixels:a})}d.updateStatistics();return d}function y(f,c,k,g){return a.__awaiter(this,void 0,void 0,function(){var d,n,b,p;return a.__generator(this,function(t){switch(t.label){case 0:return d=new e,n=a.__assign({applyJpegMask:!1,format:c},k),[4,d.decode(f,n,g)];case 1:return b=t.sent(),p=new l(b),p.updateStatistics(),[2,p]}})})}function w(a){if(null==a)throw new m("rasterCodec:decode",
"parameter encodeddata is required.");a=new Uint8Array(a,0,10);var f="";255===a[0]&&216===a[1]?f="jpg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]?f="png":67===a[0]&&110===a[1]&&116===a[2]&&90===a[3]&&73===a[4]&&109===a[5]&&97===a[6]&&103===a[7]&&101===a[8]&&32===a[9]?f="lerc":76===a[0]&&101===a[1]&&114===a[2]&&99===a[3]&&50===a[4]&&32===a[5]?f="lerc2":73===a[0]&&73===a[1]&&42===a[2]&&0===a[3]||77===a[0]&&77===a[1]&&0===a[2]&&42===a[3]?f="tiff":71===a[0]&&73===a[1]&&70===a[2]?f="gif":66===a[0]&&77===
a[1]?f="bmp":-1<String.fromCharCode.apply(null,a).toLowerCase().indexOf("error")&&(f="error");return f}function x(a){var f=null;switch(a){case "lerc":f=t;break;case "lerc2":f=r;break;case "jpg":f=D;break;case "png":f=A;break;case "bsq":case "bip":f=function(f,c){var g=v(c.pixelType).pixelTypeCtor,d=k.decode;f=d(f,{width:c.width,height:c.height,pixelType:g,format:a});c=new l({width:c.width,height:c.height,pixels:f.pixels,pixelType:c.pixelType,mask:f.mask,statistics:null});c.updateStatistics();return c};
break;case "tiff":f=p;break;case "error":f=function(){throw new m("rasterCodec:decode","input data contains error");};break;default:f=function(){throw new m("rasterCodec:decode","unsupported raster format");}}return f}function v(a){var f=null,c=null;switch(a?a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":c=Math.pow(2,8)-1;f=Uint8Array;break;case "u16":c=c||Math.pow(2,16)-1;f=Uint16Array;break;case "u32":c=c||Math.pow(2,32)-1;f=Uint32Array;break;case "s8":c=c||0-Math.pow(2,7);f=Int8Array;
break;case "s16":c=c||0-Math.pow(2,15);f=Int16Array;break;case "s32":c=c||0-Math.pow(2,31);f=Int32Array;break;default:f=Float32Array}return{pixelTypeCtor:f,noDataValue:c}}Object.defineProperty(b,"__esModule",{value:!0});b.decode=b.getFormat=void 0;var C=h.SetFromValues(["jpg","png","bmp","gif"]),z=function(){var a=new ArrayBuffer(4),f=new Uint8Array(a);(new Uint32Array(a))[0]=1;return 1===f[0]}();b.getFormat=function(a){a=w(a);"lerc2"===a?a="lerc":"error"===a&&(a="");return a};b.decode=function(c,
k,g){return a.__awaiter(this,void 0,void 0,function(){var d,n,e;return a.__generator(this,function(b){switch(b.label){case 0:if(null==c)throw new m("rasterCodec:decode","missing encodeddata parameter.");if(null==k||null==k.width||null==k.height)throw new m("rasterCodec:decode","requires width and height in options parameter.");d=k.format&&k.format.toLowerCase();if("tiff"===d&&k.customOptions)return b=f.decodeTileOrStrip(c,k.customOptions),b=new l({width:b.width,height:b.height,pixels:b.pixels,pixelType:b.pixelType.toLowerCase(),
mask:b.mask,statistics:null}),b.updateStatistics(),[2,b];if(!d||"bsq"!==d&&"bip"!==d)d=w(c);return k.useCanvas&&C.has(d)?[4,y(c,d,k,g)]:[3,2];case 1:return e=b.sent(),[3,3];case 2:n=x(d);k.isPoint&&(k=a.__assign({},k),k.width++,k.height++);e=n(c,k);if(k.isPoint){var p=e,t=void 0;void 0===t&&(t=1);if(p){var r=p.pixels,h=p.width,u=p.mask;if(r&&0!==r.length){var D=r.length,F=h-1,v=p.height-1,A=[],G,B,z,K,E,J,q=l.getPixelArrayConstructor(p.pixelType);if(0===t){for(t=0;t<D;t++){K=r[t];E=new q(F*v);for(G=
0;G<v;G++)for(z=G*h,B=0;B<F;B++)E[G*F+B]=K[z+B];A.push(E)}if(u)for(J=new Uint8Array(F*v),G=0;G<v;G++)for(z=G*h,B=0;B<F;B++)J[G*F+B]=u[z+B]}else{for(t=0;t<D;t++){K=r[t];E=new q(F*v);for(G=0;G<v;G++)for(z=G*h,B=0;B<F;B++)E[G*F+B]=(K[z+B]+K[z+B+1]+K[z+h+B]+K[z+h+B+1])/4;A.push(E)}if(u)for(J=new Uint8Array(F*v),G=0;G<v;G++)for(z=G*h,B=0;B<F;B++)J[G*F+B]=Math.min.apply(null,[u[z+B],u[z+B+1],u[z+h+B],u[z+h+B+1]])}p.width=F;p.height=v;p.mask=J;p.pixels=A}}}b.label=3;case 3:return[2,e]}})})}})},"esri/core/SetUtils":function(){define(["require",
"exports","./maybe"],function(q,b,a){function m(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function h(e){if(0===e.size)throw Error("Set is empty");var d=void 0,g=!1;e.forEach(function(a){g||(d=a,g=!0)});return a.assumeNonNull(d)}Object.defineProperty(b,"__esModule",{value:!0});b.reduceSet=b.firstOfSet=b.SetFromValues=b.valuesOfSet=b.someSet=void 0;b.someSet=Set.prototype.entries?function(a,d){a=a.entries();for(var g=a.next();!g.done;g=a.next())if(d(g.value[0]))return!0;
return!1}:function(a,d){var g=!0;a.forEach(function(a){g&&(g=!d(a))});return!g};q=!!Set.prototype.values;var l=!!Array.from;b.valuesOfSet=q&&l?function(a){return Array.from(a.values())}:function(a){var d=Array(a.size),g=0;a.forEach(function(a){return d[g++]=a});return d};b.SetFromValues=q?function(a){return new Set(a)}:function(a){for(var d=new Set,g=0;g<a.length;g++)d.add(a[g]);return d};b.firstOfSet=q?m:h;b.reduceSet=function(a,d,g){var n=g;a.forEach(function(a){return n=d(a,n)});return n}})},"esri/layers/support/rasterFormats/ImageCanvasDecoder":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../core/promiseUtils ./Zlib".split(" "),
function(q,b,a,m,h,l){return function(){function b(a){a&&(this.canvas=a.canvas,this.ctx=a.ctx||a.canvas&&a.canvas.getContext("2d"))}b.prototype.decode=function(d,g,n){var c=this;if(!d||10>d.byteLength)throw new a("imagecanvasdecoder: decode","required a valid encoded data as input.");var k=g.width,f=g.height,e=g.format,r=g.applyJpegMask;if(r&&(!k||!f))throw new a("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return m.create(function(a,t){var p=
null;"jpg"===e&&r&&(p=b.getMask(d,g));var l=new Blob([new Uint8Array(d)],{type:"jpg"==="image/"+e?"jpeg":e}),D=URL.createObjectURL(l),x=new Image,v;x.src=D;x.onload=function(){URL.revokeObjectURL(D);if(m.isAborted(n))t(h.createAbortError());else{k=x.width;f=x.height;if(c.canvas){if(c.canvas.width!==k||c.canvas.height!==f)c.canvas.width=k,c.canvas.height=f;c.ctx.clearRect(0,0,k,f)}else c.canvas=document.createElement("canvas"),c.canvas.width=k,c.canvas.height=f,c.ctx=c.canvas.getContext("2d");c.ctx.drawImage(x,
0,0);var d=c.ctx.getImageData(0,0,k,f);v=d.data;var b;if(g.renderOnCanvas){if(p)for(b=0;b<p.length;b++)v[4*b+3]=p[b]?255:0;c.ctx.putImageData(d,0,0);a(null)}else{var d=k*f,e=new Uint8Array(d),r=new Uint8Array(d),l=new Uint8Array(d);if(p)for(b=0;b<d;b++)e[b]=v[4*b],r[b]=v[4*b+1],l[b]=v[4*b+2];else for(p=new Uint8Array(d),b=0;b<d;b++)e[b]=v[4*b],r[b]=v[4*b+1],l[b]=v[4*b+2],p[b]=v[4*b+3];a({width:k,height:f,pixels:[e,r,l],mask:p,pixelType:"u8"})}}};x.onerror=function(){URL.revokeObjectURL(D);t("cannot load image")}})};
b.getMask=function(a,g){var d=null;try{var c=new Uint8Array(a);a=0;var k=c.length-2;for(a=Math.ceil(c.length/2);a<k&&(255!==c[a]||217!==c[a+1]);a++);a+=2;if(a<c.length-1)for(var f=(new l(c.subarray(a))).getBytes(),d=new Uint8Array(g.width*g.height),c=g=0;c<f.length;c++)for(k=7;0<=k;k--)d[g++]=f[c]>>k&1}catch(t){}return d};return b}()})},"esri/layers/support/rasterFormats/Zlib":function(){define([],function(){var q=function(){function b(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}b.prototype=
{ensureBuffer:function(a){var b=this.buffer,h=b?b.byteLength:0;if(a<h)return b;for(var l=512;l<a;)l<<=1;a=new Uint8Array(l);for(l=0;l<h;++l)a[l]=b[l];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+a);for(a=b+a;!this.eof&&this.bufferLength<a;)this.readBlock();var h=this.bufferLength;a>h&&(a=h)}else{for(;!this.eof;)this.readBlock();
a=this.bufferLength}this.pos=a;return this.buffer.subarray(b,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,b,h){for(var l=a+b;this.bufferLength<=l&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,
h)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}};return b}();return function(){function b(a){throw Error(a);}function a(a){var d=0,c=a[d++],k=a[d++];-1!=c&&-1!=k||b("Invalid header in flate stream");8!=(c&15)&&b("Unknown compression method in flate stream");0!=((c<<8)+k)%31&&b("Bad FCHECK in flate stream");k&32&&b("FDICT bit set in flate stream");this.bytes=a;this.bytesPos=d;this.codeBuf=this.codeSize=0;q.call(this)}if(!self||!self.Uint32Array)return null;var m=new Uint32Array([16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),l=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),e=[new Uint32Array([459008,524368,524304,524568,459024,524400,
524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,
524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,
524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,
524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,
524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,
524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,
524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,
524367,590079]),9],d=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];a.prototype=Object.create(q.prototype);a.prototype.getBits=function(a){for(var d=this.codeSize,c=this.codeBuf,k=this.bytes,f=this.bytesPos,g;d<a;)"undefined"==typeof(g=k[f++])&&b("Bad encoding in flate stream"),c|=g<<d,d+=8;this.codeBuf=c>>a;this.codeSize=
d-=a;this.bytesPos=f;return c&(1<<a)-1};a.prototype.getCode=function(a){var d=a[0],c=a[1];a=this.codeSize;for(var k=this.codeBuf,f=this.bytes,g=this.bytesPos;a<c;){var e;"undefined"==typeof(e=f[g++])&&b("Bad encoding in flate stream");k|=e<<a;a+=8}c=d[k&(1<<c)-1];d=c>>16;c&=65535;(0==a||a<d||0==d)&&b("Bad encoding in flate stream");this.codeBuf=k>>d;this.codeSize=a-d;this.bytesPos=g;return c};a.prototype.generateHuffmanTable=function(a){for(var d=a.length,c=0,k=0;k<d;++k)a[k]>c&&(c=a[k]);for(var f=
1<<c,g=new Uint32Array(f),b=1,e=0,h=2;b<=c;++b,e<<=1,h<<=1)for(var l=0;l<d;++l)if(a[l]==b){for(var m=0,w=e,k=0;k<b;++k)m=m<<1|w&1,w>>=1;for(k=m;k<f;k+=h)g[k]=b<<16|l;++e}return[g,c]};a.prototype.readBlock=function(){function a(a,f,c,k,d){for(a=a.getBits(c)+k;0<a--;)f[p++]=d}var n=this.getBits(3);n&1&&(this.eof=!0);n>>=1;if(0==n){var c=this.bytes,k=this.bytesPos,f;"undefined"==typeof(f=c[k++])&&b("Bad block header in flate stream");var t=f;"undefined"==typeof(f=c[k++])&&b("Bad block header in flate stream");
t|=f<<8;"undefined"==typeof(f=c[k++])&&b("Bad block header in flate stream");n=f;"undefined"==typeof(f=c[k++])&&b("Bad block header in flate stream");(n|f<<8)!=(~t&65535)&&b("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;f=this.bufferLength;n=this.ensureBuffer(f+t);this.bufferLength=t=f+t;for(var r=f;r<t;++r){if("undefined"==typeof(f=c[k++])){this.eof=!0;break}n[r]=f}this.bytesPos=k}else{if(1==n)k=e,f=d;else if(2==n){n=this.getBits(5)+257;f=this.getBits(5)+1;for(var c=
this.getBits(4)+4,k=Array(m.length),p=0;p<c;)k[m[p++]]=this.getBits(3);k=this.generateHuffmanTable(k);p=c=0;f=n+f;for(t=Array(f);p<f;)r=this.getCode(k),16==r?a(this,t,2,3,c):17==r?a(this,t,3,3,c=0):18==r?a(this,t,7,11,c=0):t[p++]=c=r;k=this.generateHuffmanTable(t.slice(0,n));f=this.generateHuffmanTable(t.slice(n,f))}else b("Unknown block type in flate stream");t=(n=this.buffer)?n.length:0;for(r=this.bufferLength;;){var D=this.getCode(k);if(256>D)r+1>=t&&(n=this.ensureBuffer(r+1),t=n.length),n[r++]=
D;else{if(256==D){this.bufferLength=r;break}var D=D-257,D=h[D],A=D>>16;0<A&&(A=this.getBits(A));c=(D&65535)+A;D=this.getCode(f);D=l[D];A=D>>16;0<A&&(A=this.getBits(A));D=(D&65535)+A;r+c>=t&&(n=this.ensureBuffer(r+c),t=n.length);for(A=0;A<c;++A,++r)n[r]=n[r-D]}}}};return a}()})},"esri/layers/support/rasterFormats/JpgPlus":function(){define(["require","exports","./Jpg","./Zlib"],function(q,b,a,m){return function(){function b(){}b.decode=function(b){var e=new Uint8Array(b),d=new a;d.parse(e);b=d.width;
var g=d.height,n=d.numComponents,c=d.eof,d=d.getData(b,g,!0),k,f=b*g,t=0,r=0,p=0;if(c<e.length-1)for(e=(new m(e.subarray(c))).getBytes(),k=new Uint8Array(f),t=c=0;t<e.length;t++)for(p=7;0<=p;p--)k[c++]=e[t]>>p&1;e=null;if(1===n)e=[d,d,d];else{e=[];for(t=0;3>t;t++)n=new Uint8Array(f),e.push(n);for(r=p=0;r<f;r++)for(t=0;3>t;t++)e[t][r]=d[p++]}return{width:b,height:g,pixels:e,mask:k}};return b}()})},"esri/layers/support/rasterFormats/Jpg":function(){define([],function(){var q=function(){function b(a){this.message=
"JPEG error: "+a}b.prototype=Error();b.prototype.name="JpegError";return b.constructor=b}();return function(){function b(){this.decodeTransform=null;this.colorTransform=-1}function a(a,g){for(var d=0,c=[],k,f,b=16;0<b&&!a[b-1];)b--;c.push({children:[],index:0});var e=c[0],p;for(k=0;k<b;k++){for(f=0;f<a[k];f++){e=c.pop();for(e.children[e.index]=g[d];0<e.index;)e=c.pop();e.index++;for(c.push(e);c.length<=k;)c.push(p={children:[],index:0}),e.children[e.index]=p.children,e=p;d++}k+1<b&&(c.push(p={children:[],
index:0}),e.children[e.index]=p.children,e=p)}return c[0].children}function m(a,g,b,c,k,f,t,h,p){function d(){if(0<G)return G--,F>>G&1;F=a[g++];if(255===F){var f=a[g++];if(f)throw new q("unexpected marker "+(F<<8|f).toString(16));}G=7;return F>>>7}function n(a){for(;;){a=a[d()];if("number"===typeof a)return a;if("object"!==typeof a)throw new q("invalid huffman sequence");}}function r(a){for(var f=0;0<a;)f=f<<1|d(),a--;return f}function m(a){if(1===a)return 1===d()?1:-1;var f=r(a);return f>=1<<a-1?
f:f+(-1<<a)+1}function x(a,f){var c=n(a.huffmanTableDC),c=0===c?0:m(c);a.blockData[f]=a.pred+=c;for(c=1;64>c;){var k=n(a.huffmanTableAC),d=k&15,k=k>>4;if(0===d){if(15>k)break;c+=16}else c+=k,a.blockData[f+e[c]]=m(d),c++}}function v(a,f){var c=n(a.huffmanTableDC),c=0===c?0:m(c)<<p;a.blockData[f]=a.pred+=c}function C(a,f){a.blockData[f]|=d()<<p}function z(a,c){if(0<J)J--;else for(var k=f;k<=t;){var d=n(a.huffmanTableAC),g=d&15,d=d>>4;if(0===g){if(15>d){J=r(d)+(1<<d)-1;break}k+=16}else k+=d,a.blockData[c+
e[k]]=m(g)*(1<<p),k++}}function u(a,c){for(var k=f,g=0,b;k<=t;){b=e[k];switch(K){case 0:g=n(a.huffmanTableAC);b=g&15;g>>=4;if(0===b)15>g?(J=r(g)+(1<<g),K=4):(g=16,K=1);else{if(1!==b)throw new q("invalid ACn encoding");I=m(b);K=g?2:3}continue;case 1:case 2:a.blockData[c+b]?a.blockData[c+b]+=d()<<p:(g--,0===g&&(K=2===K?3:0));break;case 3:a.blockData[c+b]?a.blockData[c+b]+=d()<<p:(a.blockData[c+b]=I<<p,K=0);break;case 4:a.blockData[c+b]&&(a.blockData[c+b]+=d()<<p)}k++}4===K&&(J--,0===J&&(K=0))}var B=
b.mcusPerLine,E=g,F=0,G=0,J=0,K=0,I,H=c.length,M,Q,V,W,X;h=b.progressive?0===f?0===h?v:C:0===h?z:u:x;var P=0;b=1===H?c[0].blocksPerLine*c[0].blocksPerColumn:B*b.mcusPerColumn;for(var R,O;P<b;){var N=k?Math.min(b-P,k):b;for(Q=0;Q<H;Q++)c[Q].pred=0;J=0;if(1===H)for(M=c[0],X=0;X<N;X++)h(M,64*((M.blocksPerLine+1)*(P/M.blocksPerLine|0)+P%M.blocksPerLine)),P++;else for(X=0;X<N;X++){for(Q=0;Q<H;Q++)for(M=c[Q],R=M.h,O=M.v,V=0;V<O;V++)for(W=0;W<R;W++)h(M,64*((M.blocksPerLine+1)*((P/B|0)*M.v+V)+(P%B*M.h+W)));
P++}G=0;(M=l(a,g))&&M.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+M.invalid),g=M.offset);M=M&&M.marker;if(!M||65280>=M)throw new q("marker was not found");if(65488<=M&&65495>=M)g+=2;else break}(M=l(a,g))&&M.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+M.invalid),g=M.offset);return g-E}function h(a,g){a=g.blocksPerLine;for(var d=g.blocksPerColumn,c=new Int16Array(64),k=0;k<d;k++)for(var f=0;f<a;f++){var b=64*((g.blocksPerLine+1)*k+f),e=
c,p=g.quantizationTable,h=g.blockData,l=void 0,m=void 0,w=void 0,x=void 0,v=void 0,C=void 0,z=void 0,u=void 0,B=void 0,E=u=void 0,F=z=m=C=void 0,G=void 0,B=void 0;if(!p)throw new q("missing required Quantization Table.");for(var J=0;64>J;J+=8)B=h[b+J],u=h[b+J+1],E=h[b+J+2],C=h[b+J+3],m=h[b+J+4],z=h[b+J+5],F=h[b+J+6],G=h[b+J+7],B*=p[J],0===(u|E|C|m|z|F|G)?(B=5793*B+512>>10,e[J]=B,e[J+1]=B,e[J+2]=B,e[J+3]=B,e[J+4]=B,e[J+5]=B,e[J+6]=B,e[J+7]=B):(u*=p[J+1],E*=p[J+2],C*=p[J+3],m*=p[J+4],z*=p[J+5],F*=p[J+
6],G*=p[J+7],l=5793*B+128>>8,m=5793*m+128>>8,w=E,x=F,v=2896*(u-G)+128>>8,u=2896*(u+G)+128>>8,C<<=4,z<<=4,l=l+m+1>>1,m=l-m,B=3784*w+1567*x+128>>8,w=1567*w-3784*x+128>>8,x=B,v=v+z+1>>1,z=v-z,u=u+C+1>>1,C=u-C,l=l+x+1>>1,x=l-x,m=m+w+1>>1,w=m-w,B=2276*v+3406*u+2048>>12,v=3406*v-2276*u+2048>>12,u=B,B=799*C+4017*z+2048>>12,C=4017*C-799*z+2048>>12,z=B,e[J]=l+u,e[J+7]=l-u,e[J+1]=m+z,e[J+6]=m-z,e[J+2]=w+C,e[J+5]=w-C,e[J+3]=x+v,e[J+4]=x-v);for(p=0;8>p;++p)B=e[p],u=e[p+8],E=e[p+16],C=e[p+24],m=e[p+32],z=e[p+
40],F=e[p+48],G=e[p+56],0===(u|E|C|m|z|F|G)?(B=5793*B+8192>>14,B=-2040>B?0:2024<=B?255:B+2056>>4,h[b+p]=B,h[b+p+8]=B,h[b+p+16]=B,h[b+p+24]=B,h[b+p+32]=B,h[b+p+40]=B,h[b+p+48]=B,h[b+p+56]=B):(l=5793*B+2048>>12,m=5793*m+2048>>12,w=E,x=F,v=2896*(u-G)+2048>>12,u=2896*(u+G)+2048>>12,l=(l+m+1>>1)+4112,m=l-m,B=3784*w+1567*x+2048>>12,w=1567*w-3784*x+2048>>12,x=B,v=v+z+1>>1,z=v-z,u=u+C+1>>1,C=u-C,l=l+x+1>>1,x=l-x,m=m+w+1>>1,w=m-w,B=2276*v+3406*u+2048>>12,v=3406*v-2276*u+2048>>12,u=B,B=799*C+4017*z+2048>>12,
C=4017*C-799*z+2048>>12,z=B,B=l+u,G=l-u,u=m+z,F=m-z,E=w+C,z=w-C,C=x+v,m=x-v,B=16>B?0:4080<=B?255:B>>4,u=16>u?0:4080<=u?255:u>>4,E=16>E?0:4080<=E?255:E>>4,C=16>C?0:4080<=C?255:C>>4,m=16>m?0:4080<=m?255:m>>4,z=16>z?0:4080<=z?255:z>>4,F=16>F?0:4080<=F?255:F>>4,G=16>G?0:4080<=G?255:G>>4,h[b+p]=B,h[b+p+8]=u,h[b+p+16]=E,h[b+p+24]=C,h[b+p+32]=m,h[b+p+40]=z,h[b+p+48]=F,h[b+p+56]=G)}return g.blockData}function l(a,g,b){var c=a.length-1;b=b<g?b:g;if(g>=c)return null;var k=a[g]<<8|a[g+1];if(65472<=k&&65534>=
k)return{invalid:null,marker:k,offset:g};for(g=a[b]<<8|a[b+1];!(65472<=g&&65534>=g);){if(++b>=c)return null;g=a[b]<<8|a[b+1]}return{invalid:k.toString(16),marker:g,offset:b}}if(!self||!self.Uint8ClampedArray)return null;var e=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);b.prototype={parse:function(d){function b(){var a=d[k]<<8|d[k+1];k+=2;return a}
function n(){var a=b(),a=k+a-2,f=l(d,a,k);f&&f.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+f.invalid),a=f.offset);a=d.subarray(k,a);k+=a.length;return a}function c(a){for(var f=Math.ceil(a.samplesPerLine/8/a.maxH),c=Math.ceil(a.scanLines/8/a.maxV),k=0;k<a.components.length;k++){E=a.components[k];var d=Math.ceil(Math.ceil(a.samplesPerLine/8)*E.h/a.maxH),b=Math.ceil(Math.ceil(a.scanLines/8)*E.v/a.maxV);E.blockData=new Int16Array(64*c*E.v*(f*E.h+1));E.blocksPerLine=d;E.blocksPerColumn=
b}a.mcusPerLine=f;a.mcusPerColumn=c}var k=0,f=null,t=null,r,p,D=[],A=[],y=[],w=b();if(65496!==w)throw new q("SOI not found");for(w=b();65497!==w;){var x,v;switch(w){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:x=n();65504===w&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(f={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<
8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])});65518===w&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&(t={version:x[5]<<8|x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var w=b()+k-2,C;k<w;){var z=d[k++],u=new Uint16Array(64);if(0===z>>4)for(x=0;64>x;x++)C=e[x],u[C]=d[k++];else if(1===z>>4)for(x=0;64>x;x++)C=e[x],u[C]=b();else throw new q("DQT - invalid table spec");D[z&15]=u}break;case 65472:case 65473:case 65474:if(r)throw new q("Only single frame JPEGs supported");
b();r={};r.extended=65473===w;r.progressive=65474===w;r.precision=d[k++];r.scanLines=b();r.samplesPerLine=b();r.components=[];r.componentIds={};x=d[k++];for(w=u=z=0;w<x;w++){C=d[k];v=d[k+1]>>4;var B=d[k+1]&15;z<v&&(z=v);u<B&&(u=B);v=r.components.push({h:v,v:B,quantizationId:d[k+2],quantizationTable:null});r.componentIds[C]=v-1;k+=3}r.maxH=z;r.maxV=u;c(r);break;case 65476:C=b();for(w=2;w<C;){z=d[k++];u=new Uint8Array(16);for(x=v=0;16>x;x++,k++)v+=u[x]=d[k];B=new Uint8Array(v);for(x=0;x<v;x++,k++)B[x]=
d[k];w+=17+v;(0===z>>4?y:A)[z&15]=a(u,B)}break;case 65501:b();p=b();break;case 65498:b();C=d[k++];x=[];for(var E,w=0;w<C;w++)z=r.componentIds[d[k++]],E=r.components[z],z=d[k++],E.huffmanTableDC=y[z>>4],E.huffmanTableAC=A[z&15],x.push(E);w=d[k++];C=d[k++];z=d[k++];w=m(d,k,r,x,p,w,C,z>>4,z&15);k+=w;break;case 65535:255!==d[k]&&k--;break;default:if(255===d[k-3]&&192<=d[k-2]&&254>=d[k-2])k-=3;else throw new q("unknown marker "+w.toString(16));}w=b()}this.width=r.samplesPerLine;this.height=r.scanLines;
this.jfif=f;this.eof=k;this.adobe=t;this.components=[];for(w=0;w<r.components.length;w++){E=r.components[w];if(f=D[E.quantizationId])E.quantizationTable=f;this.components.push({output:h(r,E),scaleX:E.h/r.maxH,scaleY:E.v/r.maxV,blocksPerLine:E.blocksPerLine,blocksPerColumn:E.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(a,b){var d=this.width/a,c=this.height/b,k,f,g,e,p,h,l=0,m,w=this.components.length,x=a*b*w,v=new Uint8ClampedArray(x),C=new Uint32Array(a);
for(h=0;h<w;h++){k=this.components[h];f=k.scaleX*d;g=k.scaleY*c;l=h;m=k.output;e=k.blocksPerLine+1<<3;for(p=0;p<a;p++)k=0|p*f,C[p]=(k&4294967288)<<3|k&7;for(f=0;f<b;f++)for(k=0|f*g,k=e*(k&4294967288)|(k&7)<<3,p=0;p<a;p++)v[l]=m[k+C[p]],l+=w}if(b=this.decodeTransform)for(h=0;h<x;)for(a=k=0;k<w;k++,h++,a+=2)v[h]=(v[h]*b[a]>>8)+b[a+1];return v},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0===this.colorTransform?!1:!0:1===this.colorTransform?
!0:!1},_convertYccToRgb:function(a){for(var b,d,c,k=0,f=a.length;k<f;k+=3)b=a[k],d=a[k+1],c=a[k+2],a[k]=b-179.456+1.402*c,a[k+1]=b+135.459-.344*d-.714*c,a[k+2]=b-226.816+1.772*d;return a},_convertYcckToRgb:function(a){for(var b,d,c,k,f=0,e=0,h=a.length;e<h;e+=4)b=a[e],d=a[e+1],c=a[e+2],k=a[e+3],a[f++]=-122.67195406894+d*(-6.60635669420364E-5*d+4.37130475926232E-4*c-5.4080610064599E-5*b+4.8449797120281E-4*k-.154362151871126)+c*(-9.57964378445773E-4*c+8.17076911346625E-4*b-.00477271405408747*k+1.53380253221734)+
b*(9.61250184130688E-4*b-.00266257332283933*k+.48357088451265)+k*(-3.36197177618394E-4*k+.484791561490776),a[f++]=107.268039397724+d*(2.19927104525741E-5*d-6.40992018297945E-4*c+6.59397001245577E-4*b+4.26105652938837E-4*k-.176491792462875)+c*(-7.78269941513683E-4*c+.00130872261408275*b+7.70482631801132E-4*k-.151051492775562)+b*(.00126935368114843*b-.00265090189010898*k+.25802910206845)+k*(-3.18913117588328E-4*k-.213742400323665),a[f++]=-20.810012546947+d*(-5.70115196973677E-4*d-2.63409051004589E-5*
c+.0020741088115012*b-.00288260236853442*k+.814272968359295)+c*(-1.53496057440975E-5*c-1.32689043961446E-4*b+5.60833691242812E-4*k-.195152027534049)+b*(.00174418132927582*b-.00255243321439347*k+.116935020465145)+k*(-3.43531996510555E-4*k+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var b,d,c,k=0,f=a.length;k<f;k+=4)b=a[k],d=a[k+1],c=a[k+2],a[k]=434.456-b-1.402*c,a[k+1]=119.541-b+.344*d+.714*c,a[k+2]=481.816-b-1.772*d;return a},_convertCmykToRgb:function(a){for(var b,d,c,k,f=0,e=1/
255,h=0,p=a.length;h<p;h+=4)b=a[h]*e,d=a[h+1]*e,c=a[h+2]*e,k=a[h+3]*e,a[f++]=255+b*(-4.387332384609988*b+54.48615194189176*d+18.82290502165302*c+212.25662451639585*k-285.2331026137004)+d*(1.7149763477362134*d-5.6096736904047315*c-17.873870861415444*k-5.497006427196366)+c*(-2.5217340131683033*c-21.248923337353073*k+17.5119270841813)-k*(21.86122147463605*k+189.48180835922747),a[f++]=255+b*(8.841041422036149*b+60.118027045597366*d+6.871425592049007*c+31.159100130055922*k-79.2970844816548)+d*(-15.310361306967817*
d+17.575251261109482*c+131.35250912493976*k-190.9453302588951)+c*(4.444339102852739*c+9.8632861493405*k-24.86741582555878)-k*(20.737325471181034*k+187.80453709719578),a[f++]=255+b*(.8842522430003296*b+8.078677503112928*d+30.89978309703729*c-.23883238689178934*k-14.183576799673286)+d*(10.49593273432072*d+63.02378494754052*c+50.606957656360734*k-112.23884253719248)+c*(.03296041114873217*c+115.60384449646641*k-193.58209356861505)-k*(22.33816807309886*k+180.12613974708367);return a},getData:function(a,
b,e){if(4<this.numComponents)throw new q("Unsupported color mode");a=this._getLinearizedBlockData(a,b);if(1===this.numComponents&&e){e=a.length;b=new Uint8ClampedArray(3*e);for(var c=0,k=0;k<e;k++){var f=a[k];b[c++]=f;b[c++]=f;b[c++]=f}return b}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(a);if(4===this.numComponents){if(this._isColorConversionNeeded())return e?this._convertYcckToRgb(a):this._convertYcckToCmyk(a);if(e)return this._convertCmykToRgb(a)}return a}};
return b}()})},"esri/layers/support/rasterFormats/Lerc2Codec":function(){define([],function(){var q={unstuff:function(a,b,l,e,d,g,n,c){var k=(1<<l)-1,f=0,h,r=0,p,m;a[a.length-1]<<=8*(4*a.length-Math.ceil(l*e/8));if(d)for(h=0;h<e;h++)0===r&&(m=a[f++],r=32),r>=l?(p=m>>>r-l&k,r-=l):(r=l-r,p=(m&k)<<r&k,m=a[f++],r=32-r,p+=m>>>r),b[h]=d[p];else for(d=Math.ceil((c-g)/n),h=0;h<e;h++)0===r&&(m=a[f++],r=32),r>=l?(p=m>>>r-l&k,r-=l):(r=l-r,p=(m&k)<<r&k,m=a[f++],r=32-r,p+=m>>>r),b[h]=p<d?g+p*n:c},unstuffLUT:function(a,
b,l,e,d,g){var n=(1<<b)-1,c=0,k=0,f=0,h=f=0,r,p=[];a[a.length-1]<<=8*(4*a.length-Math.ceil(b*l/8));for(var m=Math.ceil((g-e)/d),k=0;k<l;k++)0===f&&(r=a[c++],f=32),f>=b?(h=r>>>f-b&n,f-=b):(f=b-f,h=(r&n)<<f&n,r=a[c++],f=32-f,h+=r>>>f),p[k]=h<m?e+h*d:g;p.unshift(e);return p},unstuff2:function(a,b,l,e,d,g,n,c){var k=(1<<l)-1,f=0,h,r=0,p=0,m,A,y;if(d)for(h=0;h<e;h++)0===r&&(A=a[f++],r=32,p=0),r>=l?(m=A>>>p&k,r-=l,p+=l):(y=l-r,m=A>>>p&k,A=a[f++],r=32-y,m|=(A&(1<<y)-1)<<l-y,p=y),b[h]=d[m];else for(d=Math.ceil((c-
g)/n),h=0;h<e;h++)0===r&&(A=a[f++],r=32,p=0),r>=l?(m=A>>>p&k,r-=l,p+=l):(y=l-r,m=A>>>p&k,A=a[f++],r=32-y,m|=(A&(1<<y)-1)<<l-y,p=y),b[h]=m<d?g+m*n:c;return b},unstuffLUT2:function(a,b,l,e,d,g){for(var n=(1<<b)-1,c=0,k=0,f=0,h=0,r=0,p=0,m,A=[],y=Math.ceil((g-e)/d),k=0;k<l;k++)0===h&&(m=a[c++],h=32,p=0),h>=b?(r=m>>>p&n,h-=b,p+=b):(f=b-h,r=m>>>p&n,m=a[c++],h=32-f,r|=(m&(1<<f)-1)<<b-f,p=f),A[k]=r<y?e+r*d:g;A.unshift(e);return A},originalUnstuff:function(a,b,l,e){var d=(1<<l)-1,g=0,n,c=0,k,f;a[a.length-
1]<<=8*(4*a.length-Math.ceil(l*e/8));for(n=0;n<e;n++)0===c&&(f=a[g++],c=32),c>=l?(k=f>>>c-l&d,c-=l):(c=l-c,k=(f&d)<<c&d,f=a[g++],c=32-c,k+=f>>>c),b[n]=k;return b},originalUnstuff2:function(a,b,l,e){var d=(1<<l)-1,g=0,n,c=0,k=0,f,h,r;for(n=0;n<e;n++)0===c&&(h=a[g++],c=32,k=0),c>=l?(f=h>>>k&d,c-=l,k+=l):(r=l-c,f=h>>>k&d,h=a[g++],c=32-r,f|=(h&(1<<r)-1)<<l-r,k=r),b[n]=f;return b}},b={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(a){for(var b=65535,l=65535,e=a.length,d=Math.floor(e/2),g=0;d;){var n=
359<=d?359:d,d=d-n;do b+=a[g++]<<8,l+=b+=a[g++];while(--n);b=(b&65535)+(b>>>16);l=(l&65535)+(l>>>16)}e&1&&(l+=b+=a[g]<<8);return((l&65535)+(l>>>16)<<16|(b&65535)+(b>>>16))>>>0},readHeaderInfo:function(a,b){var h=b.ptr,e=new Uint8Array(a,h,6),d={};d.fileIdentifierString=String.fromCharCode.apply(null,e);if(0!==d.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+d.fileIdentifierString;var h=h+6,e=new DataView(a,h,8),g=e.getInt32(0,!0);d.fileVersion=
g;h+=4;3<=g&&(d.checksum=e.getUint32(4,!0),h+=4);e=new DataView(a,h,12);d.height=e.getUint32(0,!0);d.width=e.getUint32(4,!0);h+=8;4<=g?(d.numDims=e.getUint32(8,!0),h+=4):d.numDims=1;e=new DataView(a,h,40);d.numValidPixel=e.getUint32(0,!0);d.microBlockSize=e.getInt32(4,!0);d.blobSize=e.getInt32(8,!0);d.imageType=e.getInt32(12,!0);d.maxZError=e.getFloat64(16,!0);d.zMin=e.getFloat64(24,!0);d.zMax=e.getFloat64(32,!0);h+=40;b.headerInfo=d;b.ptr=h;if(3<=g&&(a=this.computeChecksumFletcher32(new Uint8Array(a,
h-(4<=g?52:48),d.blobSize-14)),a!==d.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(a,b){var h=b.headerInfo,e=this.getDataTypeArray(h.imageType),d=h.numDims*this.getDataTypeSize(h.imageType),g=this.readSubArray(a,b.ptr,e,d);a=this.readSubArray(a,b.ptr+d,e,d);b.ptr+=2*d;d=!0;for(b=0;b<h.numDims;b++)if(g[b]!==a[b]){d=!1;break}h.minValues=g;h.maxValues=a;return d},readSubArray:function(a,b,l,e){if(l===Uint8Array)a=new Uint8Array(a,b,e);else{var d=new ArrayBuffer(e);(new Uint8Array(d)).set(new Uint8Array(a,
b,e));a=new l(d)}return a},readMask:function(a,b){var h=b.ptr,e=b.headerInfo,d=e.width*e.height,g=e.numValidPixel,n=new DataView(a,h,4),e={};e.numBytes=n.getUint32(0,!0);h+=4;if((0===g||d===g)&&0!==e.numBytes)throw"invalid mask";if(0===g)g=new Uint8Array(Math.ceil(d/8)),e.bitset=g,n=new Uint8Array(d),b.pixels.resultMask=n,h+=e.numBytes;else if(0<e.numBytes){g=new Uint8Array(Math.ceil(d/8));n=new DataView(a,h,e.numBytes);a=n.getInt16(0,!0);var c=2,k=0,f=0;do{if(0<a)for(;a--;)g[k++]=n.getUint8(c++);
else for(f=n.getUint8(c++),a=-a;a--;)g[k++]=f;a=n.getInt16(c,!0);c+=2}while(c<e.numBytes);if(-32768!==a||k<g.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(d);for(c=c=a=0;c<d;c++)c&7?(a=g[c>>3],a<<=c&7):a=g[c>>3],a&128&&(n[c]=1);b.pixels.resultMask=n;e.bitset=g;h+=e.numBytes}b.ptr=h;b.mask=e;return!0},readDataOneSweep:function(a,h,l){var e=h.ptr,d=h.headerInfo,g=d.numDims,n=d.width*d.height,d=d.numValidPixel*b.getDataTypeSize(d.imageType)*g,c=h.pixels.resultMask;if(l===Uint8Array)a=
new Uint8Array(a,e,d);else{var k=new ArrayBuffer(d);(new Uint8Array(k)).set(new Uint8Array(a,e,d));a=new l(k)}if(a.length===n*g)h.pixels.resultPixels=a;else{h.pixels.resultPixels=new l(n*g);var f=k=l=0,t=0;if(1<g)for(f=0;f<g;f++)for(t=f*n,k=0;k<n;k++)c[k]&&(h.pixels.resultPixels[t+k]=a[l++]);else for(k=0;k<n;k++)c[k]&&(h.pixels.resultPixels[k]=a[l++])}h.ptr=e+d;return!0},readHuffmanTree:function(m,h){var l=this.HUFFMAN_LUT_BITS_MAX,e=new DataView(m,h.ptr,16);h.ptr+=16;if(2>e.getInt32(0,!0))throw"unsupported Huffman version";
var d=e.getInt32(4,!0),g=e.getInt32(8,!0),e=e.getInt32(12,!0);if(g>=e)return!1;var n=new Uint32Array(e-g);b.decodeBits(m,h,n);var c=[],k,f,t;for(k=g;k<e;k++)f=k-(k<d?0:d),c[f]={first:n[k-g],second:null};k=m.byteLength-h.ptr;n=new ArrayBuffer(4*Math.ceil(k/4));(new Uint8Array(n)).set(new Uint8Array(m,h.ptr,k));m=new Uint32Array(n);h=0;var r,n=0;r=m[0];for(k=g;k<e;k++)f=k-(k<d?0:d),t=c[f].first,0<t&&(c[f].second=r<<h>>>32-t,32-h>=t?(h+=t,32===h&&(h=0,n++,r=m[n])):(h+=t-32,n++,r=m[n],c[f].second|=r>>>
32-h));var p=r=0,D=new a;for(k=0;k<c.length;k++)void 0!==c[k]&&(r=Math.max(r,c[k].first));var p=r>=l?l:r,l=[],A,y;for(k=g;k<e;k++)if(f=k-(k<d?0:d),t=c[f].first,0<t)if(g=[t,f],t<=p)for(f=c[f].second<<p-t,A=1<<p-t,t=0;t<A;t++)l[f|t]=g;else for(f=c[f].second,A=D,--t;0<=t;t--)(y=f>>>t&1)?(A.right||(A.right=new a),A=A.right):(A.left||(A.left=new a),A=A.left),0!==t||A.val||(A.val=g[1]);return{decodeLut:l,numBitsLUTQick:p,numBitsLUT:r,tree:D,stuffedData:m,srcPtr:n,bitPos:h}},readHuffman:function(a,b,l){var e=
b.headerInfo,d=e.numDims,g=b.headerInfo.height,n=b.headerInfo.width,c=n*g,k=this.readHuffmanTree(a,b);a=k.decodeLut;var f=k.tree,h=k.stuffedData,r=k.srcPtr,p=k.bitPos,m=k.numBitsLUTQick,k=k.numBitsLUT,A=0===b.headerInfo.imageType?128:0,y,w,x=b.pixels.resultMask,v,C,z,u,B,E,F=0;0<p&&(r++,p=0);var G=h[r],J=1===b.encodeMode,K=new l(c*d),I=K,H;for(H=0;H<e.numDims;H++){1<d&&(I=new l(K.buffer,c*H,c),F=0);if(b.headerInfo.numValidPixel===n*g)for(z=B=0;z<g;z++)for(u=0;u<n;u++,B++){w=0;y=v=G<<p>>>32-m;32-p<
m&&(y=v|=h[r+1]>>>64-p-m);if(a[y])w=a[y][1],p+=a[y][0];else for(y=v=G<<p>>>32-k,32-p<k&&(y=v|=h[r+1]>>>64-p-k),y=f,E=0;E<k;E++)if(y=(C=v>>>k-E-1&1)?y.right:y.left,!y.left&&!y.right){w=y.val;p=p+E+1;break}32<=p&&(p-=32,r++,G=h[r]);w-=A;J?(w=0<u?w+F:0<z?w+I[B-n]:w+F,w&=255,F=I[B]=w):I[B]=w}else for(z=B=0;z<g;z++)for(u=0;u<n;u++,B++)if(x[B]){w=0;y=v=G<<p>>>32-m;32-p<m&&(y=v|=h[r+1]>>>64-p-m);if(a[y])w=a[y][1],p+=a[y][0];else for(y=v=G<<p>>>32-k,32-p<k&&(y=v|=h[r+1]>>>64-p-k),y=f,E=0;E<k;E++)if(y=(C=
v>>>k-E-1&1)?y.right:y.left,!y.left&&!y.right){w=y.val;p=p+E+1;break}32<=p&&(p-=32,r++,G=h[r]);w-=A;J?(w=0<u&&x[B-1]?w+F:0<z&&x[B-n]?w+I[B-n]:w+F,w&=255,F=I[B]=w):I[B]=w}b.ptr=b.ptr+4*(r+1)+(0<p?4:0)}b.pixels.resultPixels=K},decodeBits:function(a,b,l,e,d){var g=b.headerInfo,n=g.fileVersion,c=0,k=new DataView(a,b.ptr,5<=a.byteLength-b.ptr?5:a.byteLength-b.ptr),f=k.getUint8(0);c++;var h=f>>6,r=0===h?4:3-h,p=0<(f&32)?!0:!1,h=f&31,f=0;if(1===r)f=k.getUint8(c),c++;else if(2===r)f=k.getUint16(c,!0),c+=
2;else if(4===r)f=k.getUint32(c,!0),c+=4;else throw"Invalid valid pixel count type";var r=2*g.maxZError,m,A;d=1<g.numDims?g.maxValues[d]:g.zMax;if(p){b.counter.lut++;p=k.getUint8(c);c++;g=Math.ceil((p-1)*h/8);m=Math.ceil(g/4);m=new ArrayBuffer(4*m);A=new Uint8Array(m);b.ptr+=c;A.set(new Uint8Array(a,b.ptr,g));c=new Uint32Array(m);b.ptr+=g;for(k=0;p-1>>>k;)k++;g=Math.ceil(f*k/8);m=Math.ceil(g/4);m=new ArrayBuffer(4*m);A=new Uint8Array(m);A.set(new Uint8Array(a,b.ptr,g));a=new Uint32Array(m);b.ptr+=
g;b=3<=n?q.unstuffLUT2(c,h,p-1,e,r,d):q.unstuffLUT(c,h,p-1,e,r,d);3<=n?q.unstuff2(a,l,k,f,b):q.unstuff(a,l,k,f,b)}else b.counter.bitstuffer++,k=h,b.ptr+=c,0<k&&(g=Math.ceil(f*k/8),m=Math.ceil(g/4),m=new ArrayBuffer(4*m),A=new Uint8Array(m),A.set(new Uint8Array(a,b.ptr,g)),a=new Uint32Array(m),b.ptr+=g,3<=n?null==e?q.originalUnstuff2(a,l,k,f):q.unstuff2(a,l,k,f,!1,e,r,d):null==e?q.originalUnstuff(a,l,k,f):q.unstuff(a,l,k,f,!1,e,r,d))},readTiles:function(a,h,l){var e=h.headerInfo,d=e.width,g=e.height,
n=e.microBlockSize,c=e.imageType,k=b.getDataTypeSize(c),f=Math.ceil(d/n),t=Math.ceil(g/n);h.pixels.numBlocksY=t;h.pixels.numBlocksX=f;for(var r=h.pixels.ptr=0,p=0,m=0,A=0,y=0,w=0,x=0,v=0,C=0,z=0,u=0,B=0,E=0,x=E=x=0,F,G=new l(n*n),J=g%n||n,K=d%n||n,I=e.numDims,H,M=h.pixels.resultMask,q=h.pixels.resultPixels,V=5<=e.fileVersion?14:15,W=e.zMax,m=0;m<t;m++)for(y=m!==t-1?n:J,A=0;A<f;A++)for(w=A!==f-1?n:K,u=m*d*n+A*n,B=d-w,H=0;H<I;H++){1<I?(E=q,u=m*d*n+A*n,q=new l(h.pixels.resultPixels.buffer,d*g*H*k,d*
g),W=e.maxValues[H]):E=null;x=a.byteLength-h.ptr;r=new DataView(a,h.ptr,Math.min(10,x));p={};x=0;v=r.getUint8(0);x++;F=5<=e.fileVersion?v&4:0;C=v>>6&255;z=v>>2&V;if(z!==(A*n>>3&V))throw"integrity issue";if(F&&0===H)throw"integrity issue";v&=3;if(3<v)throw h.ptr+=x,"Invalid block encoding ("+v+")";if(2===v){if(F)if(M)for(r=0;r<y;r++)for(p=0;p<w;p++)M[u]&&(q[u]=E[u]),u++;else for(r=0;r<y;r++)for(p=0;p<w;p++)q[u]=E[u],u++;h.counter.constant++;h.ptr+=x}else if(0===v){if(F)throw"integrity issue";h.counter.uncompressed++;
h.ptr+=x;E=y*w*k;x=a.byteLength-h.ptr;E=E<x?E:x;x=new ArrayBuffer(0===E%k?E:E+k-E%k);F=new Uint8Array(x);F.set(new Uint8Array(a,h.ptr,E));x=new l(x);E=0;if(M)for(r=0;r<y;r++){for(p=0;p<w;p++)M[u]&&(q[u]=x[E++]),u++;u+=B}else for(r=0;r<y;r++){for(p=0;p<w;p++)q[u++]=x[E++];u+=B}h.ptr+=E*k}else if(C=b.getDataTypeUsed(F&&6>c?4:c,C),z=b.getOnePixel(p,x,C,r),x+=b.getDataTypeSize(C),3===v)if(h.ptr+=x,h.counter.constantoffset++,M)for(r=0;r<y;r++){for(p=0;p<w;p++)M[u]&&(q[u]=F?Math.min(W,E[u]+z):z),u++;u+=
B}else for(r=0;r<y;r++){for(p=0;p<w;p++)q[u]=F?Math.min(W,E[u]+z):z,u++;u+=B}else if(h.ptr+=x,b.decodeBits(a,h,G,z,H),x=0,F)if(M)for(r=0;r<y;r++){for(p=0;p<w;p++)M[u]&&(q[u]=G[x++]+E[u]),u++;u+=B}else for(r=0;r<y;r++){for(p=0;p<w;p++)q[u]=G[x++]+E[u],u++;u+=B}else if(M)for(r=0;r<y;r++){for(p=0;p<w;p++)M[u]&&(q[u]=G[x++]),u++;u+=B}else for(r=0;r<y;r++){for(p=0;p<w;p++)q[u++]=G[x++];u+=B}}},formatFileInfo:function(a){return{fileIdentifierString:a.headerInfo.fileIdentifierString,fileVersion:a.headerInfo.fileVersion,
imageType:a.headerInfo.imageType,height:a.headerInfo.height,width:a.headerInfo.width,numValidPixel:a.headerInfo.numValidPixel,microBlockSize:a.headerInfo.microBlockSize,blobSize:a.headerInfo.blobSize,maxZError:a.headerInfo.maxZError,pixelType:b.getPixelType(a.headerInfo.imageType),eofOffset:a.eofOffset,mask:a.mask?{numBytes:a.mask.numBytes}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,maxValue:a.headerInfo.zMax,minValue:a.headerInfo.zMin,noDataValue:a.noDataValue}}},
constructConstantSurface:function(a){var b=a.headerInfo.zMax,l=a.headerInfo.numDims,e=a.headerInfo.height*a.headerInfo.width,d=0,g=0,n=0,c=a.pixels.resultMask,k=a.pixels.resultPixels;if(c)if(1<l)for(d=0;d<l;d++)for(n=d*e,b=a.headerInfo.maxValues[d],g=0;g<e;g++)c[g]&&(k[n+g]=b);else for(g=0;g<e;g++)c[g]&&(k[g]=b);else if(1<l)for(d=0;d<l;d++)for(n=d*e,b=a.headerInfo.maxValues[d],g=0;g<e;g++)k[n+g]=b;else for(g=0;g<e;g++)k[g]=b},getDataTypeArray:function(a){switch(a){case 0:a=Int8Array;break;case 1:a=
Uint8Array;break;case 2:a=Int16Array;break;case 3:a=Uint16Array;break;case 4:a=Int32Array;break;case 5:a=Uint32Array;break;case 6:a=Float32Array;break;case 7:a=Float64Array;break;default:a=Float32Array}return a},getPixelType:function(a){switch(a){case 0:a="S8";break;case 1:a="U8";break;case 2:a="S16";break;case 3:a="U16";break;case 4:a="S32";break;case 5:a="U32";break;case 6:a="F32";break;case 7:a="F64";break;default:a="F32"}return a},isValidPixelValue:function(a,b){if(null==b)return!1;switch(a){case 0:a=
-128<=b&&127>=b;break;case 1:a=0<=b&&255>=b;break;case 2:a=-32768<=b&&32767>=b;break;case 3:a=0<=b&&65536>=b;break;case 4:a=-2147483648<=b&&2147483647>=b;break;case 5:a=0<=b&&4294967296>=b;break;case 6:a=-3.4027999387901484E38<=b&&3.4027999387901484E38>=b;break;case 7:a=4.9E-324<=b&&1.7976931348623157E308>=b;break;default:a=!1}return a},getDataTypeSize:function(a){var b=0;switch(a){case 0:case 1:b=1;break;case 2:case 3:b=2;break;case 4:case 5:case 6:b=4;break;case 7:b=8;break;default:b=a}return b},
getDataTypeUsed:function(a,b){var h=a;switch(a){case 2:case 4:h=a-b;break;case 3:case 5:h=a-2*b;break;case 6:h=0===b?a:1===b?2:1;break;case 7:h=0===b?a:a-2*b+1;break;default:h=a}return h},getOnePixel:function(a,b,l,e){a=0;switch(l){case 0:a=e.getInt8(b);break;case 1:a=e.getUint8(b);break;case 2:a=e.getInt16(b,!0);break;case 3:a=e.getUint16(b,!0);break;case 4:a=e.getInt32(b,!0);break;case 5:a=e.getUInt32(b,!0);break;case 6:a=e.getFloat32(b,!0);break;case 7:a=e.getFloat64(b,!0);break;default:throw"the decoder does not understand this pixel type";
}return a}},a=function(a,b,l){this.val=a;this.left=b;this.right=l};return{decode:function(a,h){h=h||{};var l=h.noDataValue,e=0,d={};d.ptr=h.inputOffset||0;d.pixels={};if(b.readHeaderInfo(a,d)){var e=d.headerInfo,g=e.fileVersion,n=b.getDataTypeArray(e.imageType);if(5<g)throw"unsupported lerc version 2."+g;b.readMask(a,d);e.numValidPixel===e.width*e.height||d.pixels.resultMask||(d.pixels.resultMask=h.maskData);var c=e.width*e.height;d.pixels.resultPixels=new n(c*e.numDims);d.counter={onesweep:0,uncompressed:0,
lut:0,bitstuffer:0,constant:0,constantoffset:0};if(0!==e.numValidPixel)if(e.zMax===e.zMin)b.constructConstantSurface(d);else if(4<=g&&b.checkMinMaxRanges(a,d))b.constructConstantSurface(d);else{var k=new DataView(a,d.ptr,2),f=k.getUint8(0);d.ptr++;if(f)b.readDataOneSweep(a,d,n);else if(1<g&&1>=e.imageType&&1E-5>Math.abs(e.maxZError-.5)){k=k.getUint8(1);d.ptr++;d.encodeMode=k;if(2<k||4>g&&1<k)throw"Invalid Huffman flag "+k;k?b.readHuffman(a,d,n):b.readTiles(a,d,n)}else b.readTiles(a,d,n)}d.eofOffset=
d.ptr;h.inputOffset?(a=d.headerInfo.blobSize+h.inputOffset-d.ptr,1<=Math.abs(a)&&(d.eofOffset=h.inputOffset+d.headerInfo.blobSize)):(a=d.headerInfo.blobSize-d.ptr,1<=Math.abs(a)&&(d.eofOffset=d.headerInfo.blobSize));a={width:e.width,height:e.height,pixelData:d.pixels.resultPixels,minValue:e.zMin,maxValue:e.zMax,validPixelCount:e.numValidPixel,dimCount:e.numDims,dimStats:{minValues:e.minValues,maxValues:e.maxValues},maskData:d.pixels.resultMask};if(d.pixels.resultMask&&b.isValidPixelValue(e.imageType,
l)){g=d.pixels.resultMask;for(e=0;e<c;e++)g[e]||(a.pixelData[e]=l);a.noDataValue=l}d.noDataValue=l;h.returnFileInfo&&(a.fileInfo=b.formatFileInfo(d));return a}},getBandCount:function(a){for(var h=0,l=0,e={ptr:0,pixels:{}};l<a.byteLength-58;)b.readHeaderInfo(a,e),l+=e.headerInfo.blobSize,h++,e.ptr=l;return h}}})},"esri/layers/support/rasterFormats/LercCodec":function(){define(["../../../core/mathUtils"],function(q){var b={};b.defaultNoDataValue=q.clampFloat32(-Infinity);b.decode=function(m,h){var l;
h=h||{};var e=h.inputOffset||0,d=h.encodedMaskData||null===h.encodedMaskData,g={},n=new Uint8Array(m,e,10);g.fileIdentifierString=String.fromCharCode.apply(null,n);if("CntZImage"!=g.fileIdentifierString.trim())throw"Unexpected file identifier string: "+g.fileIdentifierString;e+=10;n=new DataView(m,e,24);g.fileVersion=n.getInt32(0,!0);g.imageType=n.getInt32(4,!0);g.height=n.getUint32(8,!0);g.width=n.getUint32(12,!0);g.maxZError=n.getFloat64(16,!0);e+=24;if(!d)if(n=new DataView(m,e,16),g.mask={},g.mask.numBlocksY=
n.getUint32(0,!0),g.mask.numBlocksX=n.getUint32(4,!0),g.mask.numBytes=n.getUint32(8,!0),g.mask.maxValue=n.getFloat32(12,!0),e+=16,0<g.mask.numBytes){var d=new Uint8Array(Math.ceil(g.width*g.height/8)),n=new DataView(m,e,g.mask.numBytes),c=n.getInt16(0,!0),k=2,f=0;do{if(0<c)for(;c--;)d[f++]=n.getUint8(k++);else for(var t=n.getUint8(k++),c=-c;c--;)d[f++]=t;c=n.getInt16(k,!0);k+=2}while(k<g.mask.numBytes);if(-32768!==c||f<d.length)throw"Unexpected end of mask RLE encoding";g.mask.bitset=d;e+=g.mask.numBytes}else 0===
(g.mask.numBytes|g.mask.numBlocksY|g.mask.maxValue)&&(d=new Uint8Array(Math.ceil(g.width*g.height/8)),g.mask.bitset=d);n=new DataView(m,e,16);g.pixels={};g.pixels.numBlocksY=n.getUint32(0,!0);g.pixels.numBlocksX=n.getUint32(4,!0);g.pixels.numBytes=n.getUint32(8,!0);g.pixels.maxValue=n.getFloat32(12,!0);e+=16;d=g.pixels.numBlocksX;n=g.pixels.numBlocksY;d+=0<g.width%d?1:0;c=n+(0<g.height%n?1:0);g.pixels.blocks=Array(d*c);k=1E9;for(t=f=0;t<c;t++)for(var r=0;r<d;r++){var p=0,n=new DataView(m,e,Math.min(10,
m.byteLength-e)),D={};g.pixels.blocks[f++]=D;var A=n.getUint8(0);p++;D.encoding=A&63;if(3<D.encoding)throw"Invalid block encoding ("+D.encoding+")";if(2===D.encoding)e++,k=Math.min(k,0);else{if(0!==A&&2!==A){A>>=6;D.offsetType=A;if(2===A)D.offset=n.getInt8(1),p++;else if(1===A)D.offset=n.getInt16(1,!0),p+=2;else if(0===A)D.offset=n.getFloat32(1,!0),p+=4;else throw"Invalid block offset type";k=Math.min(D.offset,k);if(1===D.encoding)if(A=n.getUint8(p),p++,D.bitsPerPixel=A&63,A>>=6,D.numValidPixelsType=
A,2===A)D.numValidPixels=n.getUint8(p),p++;else if(1===A)D.numValidPixels=n.getUint16(p,!0),p+=2;else if(0===A)D.numValidPixels=n.getUint32(p,!0),p+=4;else throw"Invalid valid pixel count type";}e+=p;if(3!=D.encoding)if(0===D.encoding){n=(g.pixels.numBytes-1)/4;if(n!==Math.floor(n))throw"uncompressed block has invalid length";p=new ArrayBuffer(4*n);A=new Uint8Array(p);A.set(new Uint8Array(m,e,4*n));p=new Float32Array(p);for(A=0;A<p.length;A++)k=Math.min(k,p[A]);D.rawData=p;e+=4*n}else 1===D.encoding&&
(n=Math.ceil(D.numValidPixels*D.bitsPerPixel/8),p=new ArrayBuffer(4*Math.ceil(n/4)),A=new Uint8Array(p),A.set(new Uint8Array(m,e,n)),D.stuffedData=new Uint32Array(p),e+=n)}}g.pixels.minValue=k;g.eofOffset=e;m=null!=h.noDataValue?q.clampFloat32(h.noDataValue):b.defaultNoDataValue;var d=h.encodedMaskData,D=h.returnMask,n=0,c=g.pixels.numBlocksX,k=g.pixels.numBlocksY,f=Math.floor(g.width/c),t=Math.floor(g.height/k),r=2*g.maxZError,d=d||(g.mask?g.mask.bitset:null),y,e=new (h.pixelType||Float32Array)(g.width*
g.height);D&&d&&(y=new Uint8Array(g.width*g.height));for(var D=new Float32Array(f*t),w,x,p=0;p<=k;p++)if(A=p!==k?t:g.height%k,0!==A)for(var v=0;v<=c;v++){var C=v!==c?f:g.width%c;if(0!==C){var z=p*g.width*t+v*f,u=g.width-C,B=g.pixels.blocks[n],E,F;if(2>B.encoding){if(0===B.encoding)E=B.rawData;else{E=B.stuffedData;F=B.bitsPerPixel;w=B.numValidPixels;x=B.offset;var G=r,J=D,K=g.pixels.maxValue,I=(1<<F)-1,H=0,M=void 0,Q=0,V=void 0,W=void 0,X=Math.ceil((K-x)/G);E[E.length-1]<<=8*(4*E.length-Math.ceil(F*
w/8));for(M=0;M<w;M++)0===Q&&(W=E[H++],Q=32),Q>=F?(V=W>>>Q-F&I,Q-=F):(Q=F-Q,V=(W&I)<<Q&I,W=E[H++],Q=32-Q,V+=W>>>Q),J[M]=V<X?x+V*G:K;E=D}F=0}else l=2===B.encoding?0:B.offset;var P;if(d)for(x=0;x<A;x++){z&7&&(P=d[z>>3],P<<=z&7);for(w=0;w<C;w++)z&7||(P=d[z>>3]),P&128?(y&&(y[z]=1),e[z++]=2>B.encoding?E[F++]:l):(y&&(y[z]=0),e[z++]=m),P<<=1;z+=u}else if(2>B.encoding)for(x=0;x<A;x++){for(w=0;w<C;w++)e[z++]=E[F++];z+=u}else for(x=0;x<A;x++)if(e.fill)e.fill(l,z,z+C),z+=C+u;else{for(w=0;w<C;w++)e[z++]=l;z+=
u}if(1===B.encoding&&F!==B.numValidPixels)throw"Block and Mask do not match";n++}}l=y;y={width:g.width,height:g.height,pixelData:e,minValue:g.pixels.minValue,maxValue:g.pixels.maxValue,noDataValue:m};l&&(y.maskData=l);h.returnEncodedMask&&g.mask&&(y.encodedMaskData=g.mask.bitset?g.mask.bitset:null);if(h.returnFileInfo&&(y.fileInfo=a(g),h.computeUsedBitDepths)){h=y.fileInfo;l=g.pixels.numBlocksX*g.pixels.numBlocksY;P={};for(E=0;E<l;E++)F=g.pixels.blocks[E],0===F.encoding?P.float32=!0:1===F.encoding?
P[F.bitsPerPixel]=!0:P[0]=!0;g=Object.keys(P);h.bitDepths=g}return y};var a=function(a){return{fileIdentifierString:a.fileIdentifierString,fileVersion:a.fileVersion,imageType:a.imageType,height:a.height,width:a.width,maxZError:a.maxZError,eofOffset:a.eofOffset,mask:a.mask?{numBlocksX:a.mask.numBlocksX,numBlocksY:a.mask.numBlocksY,numBytes:a.mask.numBytes,maxValue:a.mask.maxValue}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,numBytes:a.pixels.numBytes,maxValue:a.pixels.maxValue,
minValue:a.pixels.minValue,noDataValue:this.noDataValue}}};return b})},"esri/layers/support/rasterFormats/Png":function(){define(["./Zlib"],function(q){return function(b){function a(a){var b,g,e,c;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){b=this.readUInt32();c=a=void 0;c=[];for(a=0;4>a;++a)c.push(String.fromCharCode(this.data[this.pos++]));a=c.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();
this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(b);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};
a=this.readUInt16();b=this.readUInt16()||100;e.delay=1E3*a/b;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,b-=4);a=(null!=e?e.data:void 0)||this.imgData;for(c=0;0<=b?c<b:c>b;0<=b?++c:--c)a.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read(b);b=255-this.transparency.indexed.length;if(0<b)for(a=0;0<=b?a<b:a>b;0<=b?++a:--a)this.transparency.indexed.push(255);
break;case 0:this.transparency.grayscale=this.read(b)[0];break;case 2:this.transparency.rgb=this.read(b)}break;case "tEXt":c=this.read(b);b=c.indexOf(0);a=String.fromCharCode.apply(String,c.slice(0,b));this.text[a]=String.fromCharCode.apply(String,c.slice(b+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:e=1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(g=this.colorType)||6===g;g=this.colors+(this.hasAlphaChannel?
1:0);this.pixelBitlength=this.bits*g;a:{switch(this.colors){case 1:g="DeviceGray";break a;case 3:g="DeviceRGB";break a}g=void 0}this.colorSpace=g;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=b}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var m,h,l;a.load=function(b,d,g){var e;"function"===typeof d&&(g=d);e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.onload=function(){var b;b=new Uint8Array(e.response||e.mozResponseArrayBuffer);
b=new a(b);"function"===typeof(null!=d?d.getContext:void 0)&&b.render(d);return"function"===typeof g?g(b):void 0};return e.send(null)};a.prototype.read=function(a){var b,e;e=[];for(b=0;0<=a?b<a:b>a;0<=a?++b:--b)e.push(this.data[this.pos++]);return e};a.prototype.readUInt32=function(){var a,b,g,n;a=this.data[this.pos++]<<24;b=this.data[this.pos++]<<16;g=this.data[this.pos++]<<8;n=this.data[this.pos++];return a|b|g|n};a.prototype.readUInt16=function(){var a,b;a=this.data[this.pos++]<<8;b=this.data[this.pos++];
return a|b};a.prototype.decodePixels=function(a){var b,g,e,c,k,f,h,r,p,l,m,y,w,x,v;null==a&&(a=this.imgData);if(0===a.length)return new Uint8Array(0);a=new q(a);a=a.getBytes();r=this.pixelBitlength/8;y=r*this.width;p=new Uint8Array(y*this.height);f=a.length;for(g=l=m=0;l<f;){switch(a[l++]){case 0:for(c=b=0;b<y;c=b+=1)p[g++]=a[l++];break;case 1:for(c=w=0;w<y;c=w+=1)b=a[l++],k=c<r?0:p[g-r],p[g++]=(b+k)%256;break;case 2:for(c=k=0;k<y;c=k+=1)b=a[l++],e=(c-c%r)/r,w=m&&p[(m-1)*y+e*r+c%r],p[g++]=(w+b)%256;
break;case 3:for(c=v=0;v<y;c=v+=1)b=a[l++],e=(c-c%r)/r,k=c<r?0:p[g-r],w=m&&p[(m-1)*y+e*r+c%r],p[g++]=(b+Math.floor((k+w)/2))%256;break;case 4:for(c=v=0;v<y;c=v+=1)b=a[l++],e=(c-c%r)/r,k=c<r?0:p[g-r],0===m?w=x=0:(w=p[(m-1)*y+e*r+c%r],x=e&&p[(m-1)*y+(e-1)*r+c%r]),h=k+w-x,c=Math.abs(h-k),e=Math.abs(h-w),h=Math.abs(h-x),k=c<=e&&c<=h?k:e<=h?w:x,p[g++]=(b+k)%256;break;default:throw Error("Invalid filter algorithm: "+a[l-1]);}m++}return p};a.prototype.decodePalette=function(){var a,b,g,n,c,k,f,h,r;g=this.palette;
k=this.transparency.indexed||[];c=new Uint8Array((k.length||0)+g.length);b=f=a=n=0;for(h=g.length;f<h;b=f+=3)c[n++]=g[b],c[n++]=g[b+1],c[n++]=g[b+2],c[n++]=null!=(r=k[a++])?r:255;return c};a.prototype.copyToImageData=function(a,b){var d,e,c,k,f,h,r;e=this.colors;r=null;d=this.hasAlphaChannel;this.palette.length&&(r=null!=(c=this._decodedPalette)?c:this._decodedPalette=this.decodePalette(),e=4,d=!0);a=a.data||a;h=a.length;k=r||b;c=f=0;if(1===e)for(;c<h;)e=r?4*b[c/4]:f,f=k[e++],a[c++]=f,a[c++]=f,a[c++]=
f,a[c++]=d?k[e++]:this.transparency.grayscale&&this.transparency.grayscale===f?0:255,f=e;else for(;c<h;)e=r?4*b[c/4]:f,a[c++]=k[e++],a[c++]=k[e++],a[c++]=k[e++],a[c++]=d?k[e++]:this.transparency.rgb&&this.transparency.rgb[1]===k[e-3]&&this.transparency.rgb[3]===k[e-2]&&this.transparency.rgb[5]===k[e-1]?0:255,f=e};a.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};l=(h=b.document&&b.document.createElement("canvas"))&&
h.getContext("2d");m=function(a){l.width=a.width;l.height=a.height;l.clearRect(0,0,a.width,a.height);l.putImageData(a,0,0);a=new Image;a.src=h.toDataURL();return a};a.prototype.decodeFrames=function(a){var b,g,e,c,k,f,h;if(this.animation){f=this.animation.frames;h=[];b=c=0;for(k=f.length;c<k;b=++c)b=f[b],g=a.createImageData(b.width,b.height),e=this.decodePixels(new Uint8Array(b.data)),this.copyToImageData(g,e),b.imageData=g,h.push(b.image=m(g));return h}};a.prototype.renderFrame=function(a,b){var d,
e;e=this.animation.frames;d=e[b];e=e[b-1];0===b&&a.clearRect(0,0,this.width,this.height);1===(null!=e?e.disposeOp:void 0)?a.clearRect(e.xOffset,e.yOffset,e.width,e.height):2===(null!=e?e.disposeOp:void 0)&&a.putImageData(e.imageData,e.xOffset,e.yOffset);0===d.blendOp&&a.clearRect(d.xOffset,d.yOffset,d.width,d.height);return a.drawImage(d.image,d.xOffset,d.yOffset)};a.prototype.animate=function(a){var b,e,h,c,k,f,t=this;e=0;f=this.animation;c=f.numFrames;h=f.frames;k=f.numPlays;return(b=function(){var f,
d;f=e++%c;d=h[f];t.renderFrame(a,f);if(1<c&&e/c<k)return t.animation._timeout=setTimeout(b,d.delay)})()};a.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)};a.prototype.render=function(a){var b;a._png&&a._png.stopAnimation();a._png=this;a.width=this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);b=a.createImageData(this.width,this.height);this.copyToImageData(b,this.decodePixels());
return a.putImageData(b,0,0)};return a}(this)})},"esri/layers/support/rasterFormats/Raw":function(){define(["require","exports"],function(q,b){var a=function(a){var b=1;switch(a){case Uint8Array:case Int8Array:b=1;break;case Uint16Array:case Int16Array:b=2;break;case Uint32Array:case Int32Array:case Float32Array:b=4;break;case Float64Array:b=8}return b};return function(){function b(){}b.decode=function(b,l){var e=l.pixelType,d=[],g=l.width*l.height,n=Math.floor(b.byteLength/(l.width*l.height*a(l.pixelType))),
c=l.bandIds,k=l.format;l=c&&c.length||Math.floor(b.byteLength/(l.width*l.height*a(l.pixelType)));var f=b.byteLength-b.byteLength%(g*a(e)),h=new e(b,0,g*n),r,p,m,A;if("bip"===k)for(k=0;k<l;k++){m=new e(g);A=c?c[k]:k;for(r=0;r<g;r++)m[r]=h[r*n+A];d.push(m)}else if("bsq"===k)for(k=0;k<l;k++)A=c?c[k]:k,d.push(h.subarray(A*g,(A+1)*g));if(f<b.byteLength-1)if(b=b.slice(f),8*b.byteLength<g)p=null;else{b=new Uint8Array(b,0,Math.ceil(g/8));e=new Uint8Array(g);for(p=l=p=c=n=0;p<b.length-1;p++)for(c=b[p],l=7;0<=
l;l--)e[n++]=c>>l&1;for(l=7;n<g-1;)c=b[b.length-1],e[n++]=c>>l&1,l--;p=e}return{pixels:d,mask:p}};return b}()})},"esri/layers/support/rasterFormats/TiffDecoder":function(){define("require exports tslib ../rasterDatasets/byteStreamUtils ./Jpg ./TiffTags ./Zlib".split(" "),function(q,b,a,m,h,l,e){function d(a,b){var f="unknown";3===a?f="f32":1===a?1===b?f="u1":2===b?f="u2":4===b?f="u4":8>=b?f="u8":16>=b?f="u16":32>=b&&(f="u32"):2===a&&(8>=b?f="s8":16>=b?f="s16":32>=b&&(f="s32"));return f}function g(a){var b=
null;switch(a?a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":b=Uint8Array;break;case "u16":b=Uint16Array;break;case "u32":b=Uint32Array;break;case "s8":b=Int8Array;break;case "s16":b=Int16Array;break;case "s32":b=Int32Array;break;default:b=Float32Array}return b}function n(a,b){return{x:b[0]*a.x+b[1]*a.y+b[2],y:b[3]*a.x+b[4]*a.y+b[5]}}function c(a,b){return(a=a.get(b))&&a.values}function k(a,b){return(a=a.get(b))&&a.values[0]}function f(a,b,f,c,k,d){void 0===c&&(c=0);void 0===k&&(k=
l.TIFF_TAGS);void 0===d&&(d=4);var e=(new DataView(a,f,2)).getUint16(0,b),g=4+2*d,p=2+e*g;if(f+p>a.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:p};var n=f+p+4<=a.byteLength?(new DataView(a,f+p,4)).getUint32(0,b):null;f+=2;for(var h=new Map,r,u,C,v,w,F,y=0;y<e;y++){r=new DataView(a,f+g*y,g);u=r.getUint16(0,b);v=r.getUint16(2,b);C=l.getTagName(u,k);if(2===d)w=r.getUint16(4,b),F=r.getUint16(6,b);else if(4===d)w=r.getUint32(4,b),F=r.getUint32(8,b);else if(8===d)if(F=w=0,b)for(var m=
0;8>m;m++)w+=r.getUint8(4+m)*Math.pow(2,8*m),F+=r.getUint8(12+m)*Math.pow(2,8*m);else for(m=0;8>m;m++)w+=r.getUint8(4+m)*Math.pow(2,8*(7-m)),F+=r.getUint8(12+m)*Math.pow(2,8*(7-m));r={id:u,type:v,valueCount:w,valueOffset:F,values:null};t(a,b,r,c);h.set(C,r)}return{success:!0,ifd:h,nextIFD:n,requiredBufferSize:p}}function t(a,b,f,c,k){void 0===c&&(c=0);if(f.values)return!0;var d=f.type,e=f.valueCount,g=f.valueOffset,p=[],h=y[d],n=8*h,r=e*h,t=e*y[d]*8;if(32<t&&r>(k?a.byteLength:a?a.byteLength-g+c:0))return f.offlineOffsetSize=
[g,r],f.values=null,!1;if(32>=t)if(b||(g>>>=32-t),1===e)p=[g];else for(a=0;a<e;a++)p.push(g<<n*a>>>32-n);else for(g-=c,k&&(g=0),n=g;n<g+r;n+=h){switch(d){case 1:e=(new DataView(a,n,1)).getUint8(0);break;case 2:e=(new DataView(a,n,1)).getUint8(0);break;case 3:e=(new DataView(a,n,2)).getUint16(0,b);break;case 4:e=(new DataView(a,n,4)).getUint32(0,b);break;case 5:e=(new DataView(a,n,4)).getUint32(0,b)/(new DataView(a,n+4,4)).getUint32(0,b);break;case 6:e=(new DataView(a,n,1)).getInt8(0);break;case 7:e=
(new DataView(a,n,1)).getUint8(0);break;case 8:e=(new DataView(a,n,2)).getInt16(0,b);break;case 9:e=(new DataView(a,n,4)).getInt32(0,b);break;case 10:e=(new DataView(a,n,4)).getInt32(0,b)/(new DataView(a,n+4,4)).getInt32(0,b);break;case 11:e=(new DataView(a,n,4)).getFloat32(0,b);break;case 12:e=(new DataView(a,n,8)).getFloat64(0,b);break;default:e=null}p.push(e)}if(2===d){d="";g=p;p=[];for(a=0;a<g.length;a++)0===g[a]&&""!==d?(p.push(d),d=""):d+=String.fromCharCode(g[a]);""===d&&0!==p.length||p.push(d)}f.values=
p;return!0}function r(a){var b=a[0],f=k(b,"TILEWIDTH"),e=k(b,"TILELENGTH"),g=k(b,"IMAGEWIDTH"),p=k(b,"IMAGELENGTH"),h=k(b,"BITSPERSAMPLE"),r=k(b,"SAMPLESPERPIXEL"),t=k(b,"SAMPLEFORMAT")||1,l=d(t,h),C=c(b,"PLANARCONFIGURATION")?2===c(b,"PLANARCONFIGURATION")[0]:!1,w=c(b,"GDAL_NODATA"),m;null!=w&&("string"===typeof w[0]?(m=w.map(function(a){return parseFloat(a)}),m.some(function(a){return isNaN(a)})&&(m=null)):"number"===typeof w[0]&&(m=w));var y=k(b,"COMPRESSION")||1;switch(y){case 1:w="NONE";break;
case 2:case 3:case 4:case 32771:w="CCITT";break;case 5:w="LZW";break;case 6:case 7:w="JPEG";break;case 32773:w="PACKBITS";break;case 8:case 32946:w="DEFLATE";break;case 34712:w="JPEG2000";break;default:w=String(y)}var D=!0,A="";1!==y&&6!==y&&8!==y&&32946!==y&&(D=!1,A+="unsupported tag compression "+y);3<t&&(D=!1,A+="unsupported tag sampleFormat "+t);0!==h%8&&(D=!1,A+="unsupported tag bitsPerSample "+h);var h=k(b,"GEOASCIIPARAMS"),x;h&&(x=(x=h.split("|").filter(function(a){return-1<a.indexOf("ESRI PE String \x3d ")})[0])?
x.replace("ESRI PE String \x3d ",""):"",x=0===x.indexOf("PROJCS")||0===x.indexOf("GEOGCS")?{wkid:null,wkt:x}:null);var h=c(b,"GEOTIEPOINTS"),t=c(b,"GEOPIXELSCALE"),y=c(b,"GEOTRANSMATRIX"),q=b.has("GEOKEYDIRECTORY")?b.get("GEOKEYDIRECTORY").data:null,b=!1;if(q){var b=2===k(q,"GTRasterTypeGeoKey"),O=k(q,"GTModelTypeGeoKey");2===O?(q=k(q,"GeographicTypeGeoKey"),1024<q&&32766>q&&(x={wkid:q})):1===O&&(q=k(q,"ProjectedCSTypeGeoKey"),1024<q&&32766>q&&(x={wkid:q}))}var N,S;t&&h&&6<=h.length?(N=[t[0],0,h[3]-
h[0]*t[0],0,-Math.abs(t[1]),h[4]-h[1]*t[1]],b&&(N[2]-=.5*N[0]+.5*N[1],N[5]-=.5*N[3]+.5*N[4])):y&&16===y.length&&(N=[y[0],y[1],y[3],y[4],y[5],y[7]]);if(N){S=[{x:0,y:p},{x:0,y:0},{x:g,y:p},{x:g,y:0}];b=void 0;t=h=Number.POSITIVE_INFINITY;q=y=Number.NEGATIVE_INFINITY;for(O=0;O<S.length;O++)b=n(S[O],N),h=b.x>h?h:b.x,y=b.x<y?y:b.x,t=b.y>t?t:b.y,q=b.y<q?q:b.y;S={xmin:h,xmax:y,ymin:t,ymax:q,spatialReference:x}}N=a.filter(function(a){return 1===k(a,"NEWSUBFILETYPE")});var L,U,T,Y;0<N.length&&(L=Math.round(Math.log(g/
k(N[0],"IMAGEWIDTH"))/Math.LN2),U=Math.round(Math.log(g/k(N[N.length-1],"IMAGEWIDTH"))/Math.LN2),T=k(N[N.length-1],"TILEWIDTH"),Y=k(N[N.length-1],"TILEHEIGHT"));T=0<U?T||f:null;Y=0<U?Y||e:null;var aa;f&&(aa=[{maxCol:Math.ceil(g/f)-1,maxRow:Math.ceil(p/e)-1,minRow:0,minCol:0}],N.forEach(function(a){aa.push({maxCol:Math.ceil(k(a,"IMAGEWIDTH")/k(a,"TILEWIDTH"))-1,maxRow:Math.ceil(k(a,"IMAGELENGTH")/k(a,"TILELENGTH"))-1,minRow:0,minCol:0})}));a=k(a[0],"GDAL_METADATA");a=v(a);return{width:g,height:p,tileWidth:f,
tileHeight:e,planes:r,isBSQ:C,pixelType:l,compression:w,noData:m,isSupported:D,message:A,extent:S,firstPyramidLevel:L,maximumPyramidLevel:U,pyramidBlockWidth:T,pyramidBlockHeight:Y,tileBoundary:aa,metadata:a}}function p(b){var f=new DataView(b,0,8),c=f.getUint16(0,!1),k=null;if(18761===c)k=!0;else if(19789===c)k=!1;else throw"unexpected endianess byte";if(42!==f.getUint16(2,k))throw"unexpected tiff identifier";c=f.getUint32(4,k);f=[];do if(c=D(b,k,c),c.success)f.push(c.ifd),c=c.nextIFD;else break;
while(0<c);b=r(f);return a.__assign(a.__assign({},b),{littleEndian:k,ifds:f})}function D(a,b,c,k,d,e){void 0===k&&(k=0);void 0===d&&(d=l.TIFF_TAGS);void 0===e&&(e=4);c=f(a,b,c,k,d,e);var g,p=c.ifd;p&&(l.ifdTags.forEach(function(c,d){p.has(d)&&(g=p.get(d),g.data=f(a,b,g.valueOffset-k,k,c).ifd)}),p.has("GEOKEYDIRECTORY")&&(g=p.get("GEOKEYDIRECTORY"),(d=g.values)&&4<d.length&&(d=d[0]+"."+d[1]+"."+d[2],g.data=f(a,b,g.valueOffset+6-k,k,l.GEO_KEYS,2).ifd,g.data&&g.data.set("GEOTIFFVersion",{id:0,type:2,
valueCount:1,valueOffset:null,values:[d]}))),p.has("XMP")&&(g=p.get("XMP"),d=g.values,"number"===typeof d[0]&&7===g.type&&(g.values=[m.bytesToUTF8(new Uint8Array(d))])));return c}Object.defineProperty(b,"__esModule",{value:!0});b.decode=b.decodeTileOrStrip=b.parseIFD=b.parseSignature=b.parseHeader=b.getImageInfo=b.parseFieldValues=void 0;var A=function(){var a=new ArrayBuffer(4),b=new Uint8Array(a);(new Uint32Array(a))[0]=1;return 1===b[0]}(),y=[0,1,1,2,4,8,1,1,2,4,8,4,8],w=function(a,b,f,c,p){b=
A===b;var n=k(f,"BITSPERSAMPLE"),r=k(f,"SAMPLEFORMAT")||1,n=d(r,n),r=k(f,"COMPRESSION")[0]||1;f=g(n);var t,u;1===r?(t=a.slice(c,c+p),u=new Uint8Array(t)):8===r||32946===r?(u=new Uint8Array(a,c,p),u=new e(u),a=u.getBytes(),t=new ArrayBuffer(a.length),u=new Uint8Array(t),u.set(a)):6===r&&(u=new Uint8Array(a,c,p),t=new h,t.parse(u),a=t.getData(t.width,t.height,!0),t=new ArrayBuffer(a.length),u=new Uint8Array(t),u.set(a));if("u8"!==n&&"s8"!==n&&!b)switch(t=new ArrayBuffer(u.length),b=new Uint8Array(t),
n){case "u16":case "s16":for(n=0;n<u.length;n+=2)b[n]=u[n+1],b[n+1]=u[n];break;case "u32":case "s32":case "f32":for(n=0;n<u.length;n+=4)b[n]=u[n+3],b[n+1]=u[n+2],b[n+2]=u[n+1],b[n+3]=u[n]}return new f(t)},x=function(a,b,f){if(!(a&&0<a.length&&b&&f))return null;for(var c,k,d,g=a[0].length,e=a.length,p=new Uint8Array(g),n=0;n<e;n++)if(c=a[n],k=b[n],d=f[n],0===n)for(var h=0;h<g;h++)p[h]=c[h]<k||c[h]>d?0:1;else for(h=0;h<g;h++)p[h]&&(p[h]=c[h]<k||c[h]>d?0:1);return p},v=function(a){if(!a)return null;
var b=a.match(/<Item(.*?)Item>/gi);if(!b||0===b.length)return null;a=new Map;for(var f,c,k,d,g=0;g<b.length;g++)f=b[g],c=f.slice(6,f.indexOf("\x3e")),k=f.indexOf("sample\x3d"),-1<k&&(d=f.slice(k+8,f.indexOf('"',k+8))),k=f.indexOf("name\x3d"),-1<k&&(c=f.slice(k+6,f.indexOf('"',k+6))),c&&(f=f.slice(f.indexOf("\x3e")+1,f.indexOf("\x3c/Item\x3e")).trim(),null!=d?a.has(c)?a.get(c)[d]=f:a.set(c,[f]):a.set(c,f)),d=null;b=a.get("STATISTICS_MINIMUM");c=a.get("STATISTICS_MAXIMUM");f=a.get("STATISTICS_MEAN");
k=a.get("STATISTICS_STDDEV");d=null;if(b&&c)for(d=[],g=0;g<b.length;g++)d.push({min:parseFloat(b[g]),max:parseFloat(c[g]),avg:f&&parseFloat(f[g]),stddev:k&&parseFloat(k[g])});c=a.get("BandName");f=a.get("WavelengthMin");k=a.get("WavelengthMax");b=null;if(c)for(b=[],g=0;g<c.length;g++)b.push({BandName:c[g],WavelengthMin:f&&parseFloat(f[g]),WavelengthMax:k&&parseFloat(k[g])});g=a.get("DataType");return{statistics:d,bandProperties:b,dataType:g,rawMetadata:a}};b.parseFieldValues=t;b.getImageInfo=r;b.parseHeader=
p;b.parseSignature=function(a){var b=new DataView(a,0,8),f=b.getUint16(0,!1);a=null;if(18761===f)a=!0;else if(19789===f)a=!1;else throw"unexpected endianess byte";if(42!==b.getUint16(2,a))throw"unexpected tiff identifier";b=b.getUint32(4,a);return{littleEndian:a,firstIFD:b}};b.parseIFD=D;b.decodeTileOrStrip=function(a,b){var f=b.headerInfo,c=b.ifd,d=w(a,f.littleEndian,c,b.offset||0,b.size||a.byteLength);a=f.pixelType;for(var e=f.isBSQ,p=f.planes,n=g(a),h=d.length/p,r,t=[],l=0;l<p;l++){r=new n(h);
if(e)r=d.slice(h*l,h*(l+1));else for(var C=0;C<h;C++)r[C]=d[C*p+l];t.push(r)}var d=k(c,"TILEWIDTH"),c=k(c,"TILELENGTH"),e=f.noData?f.noData[0]:null,f=(p=f.metadata?f.metadata.statistics:null)?p.map(function(a){return a.min}):null,p=p?p.map(function(a){return a.max}):null,y;if(null!=e)if(y=new Uint8Array(h),1E24<Math.abs(e))for(b=0;b<h;b++)y[b]=1E-6>Math.abs((t[0][b]-e)/e)?0:1;else for(b=0;b<h;b++)y[b]=t[0][b]===e?0:1;else f&&p&&b.applyMinMaxConstraint&&(y=x(t,f,p));return{pixelType:a,width:d,height:c,
pixels:t,mask:y,noDataValue:e}};b.decode=function(a,b){b=b||p(a);var f=b.ifds,k=b.noData;if(0===f.length)throw"no valid image file directory";f=f[0];k=k?k[0]:null;if(b.tileWidth){var d=c(f,"TILEOFFSETS");if(void 0===d)f=null;else{for(var n=c(f,"TILEBYTECOUNTS"),r=b.tileWidth,t=b.tileHeight,l=b.width,y=b.height,C=b.pixelType,v=b.isBSQ,m=b.planes,D=l*y,x=c(f,"BITSPERSAMPLE")[0],z=g(C),q=[],R=0;R<m;R++)q.push(new z(D));var O,N,S,L,U,T,Y,aa,D=Math.ceil(l/r);if(0===x%8)for(x=0;x<d.length;x++)for(O=Math.floor(x/
D)*t,L=x%D*r,R=O*l+L,z=w(a,b.littleEndian,f,d[x],n[x]),T=0,U=R,L=Math.min(r,l-L),Y=Math.min(t,y-O),O=0;O<m;O++)if(aa=q[O],v)for(N=0;N<Y;N++)for(U=R+N*l,T=r*t*O+N*r,S=0;S<L;S++,U++,T++)aa[U]=z[T];else for(N=0;N<Y;N++)for(U=R+N*l,T=N*r*m+O,S=0;S<L;S++,U++,T+=m)aa[U]=z[T];f={width:l,height:y,pixelType:C,pixels:q}}}else if(t=b,q=A===t.littleEndian,D=c(f,"STRIPOFFSETS"),void 0===D)f=null;else{b=t.width;d=t.height;n=t.pixelType;t=t.planes;l=b*d;x=c(f,"BITSPERSAMPLE")[0];y=g(n);C=new y(l*t);z=c(f,"STRIPBYTECOUNTS");
R=c(f,"ROWSPERSTRIP")[0];U=c(f,"COMPRESSION")?c(f,"COMPRESSION")[0]:1;L=R;if(0===x%8)for(f=0;f<D.length;f++){T=f*R*b*t;L=(f+1)*R>d?d-f*R:R;if("u8"===n||"s8"===n||q)8===U||32946===U?(v=new Uint8Array(a,D[f],z[f]),v=new e(v),O=v.getBytes(),m=new ArrayBuffer(O.length),v=new Uint8Array(m),v.set(O),v.length!==L*b*t*x/8&&console.log("strip byte counts is different than expected")):6===U?(v=new Uint8Array(a,D[f],z[f]),m=new h,m.parse(v),L=m.getData(m.width,m.height,!0),m=new ArrayBuffer(L.length),v=new Uint8Array(m),
v.set(L)):1===U&&(z[f]!==L*b*t*x/8&&console.log("strip byte counts is different than expected"),m=a.slice(D[f],D[f]+z[f]));else switch(6===U||8===U||32946===U?(v=new Uint8Array(a,D[f],z[f]),v=new e(v),v=v.getBytes(),m=new ArrayBuffer(v.length),r=new Uint8Array(m),v.length!==L*b*t*x/8&&console.log("strip byte counts is different than expected")):1===U&&(z[f]!==L*b*t*x/8&&console.log("strip byte counts is different than expected"),m=new ArrayBuffer(z[f]),v=new Uint8Array(a,D[f],z[f]),r=new Uint8Array(m)),
n){case "u16":case "s16":for(L=0;L<v.length;L+=2)r[L]=v[L+1],r[L+1]=v[L];break;case "u32":case "s32":case "f32":for(L=0;L<v.length;L+=4)r[L]=v[L+3],r[L+1]=v[L+2],r[L+2]=v[L+1],r[L+3]=v[L]}L=new y(m);C.set(L,T)}v=[];if(1===t)v.push(C);else for(f=0;f<t;f++){r=new y(l);for(a=0;a<l;a++)r[a]=C[a*t+f];v.push(r)}f={width:b,height:d,pixelType:n,pixels:v}}if(null!==k){f.mask=new Uint8Array(f.width*f.height);if(1E24<Math.abs(k))for(a=0;a<f.width*f.height;a++)f.mask[a]=1E-6>Math.abs((f.pixels[0][a]-k)/k)?0:
1;else for(a=0;a<f.width*f.height;a++)f.mask[a]=f.pixels[0][a]===k?0:1;f.noDataValue=k}return f}})},"esri/layers/support/rasterDatasets/byteStreamUtils":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bytesToUTF8=void 0;b.bytesToUTF8=function(a,b){for(var h=0,l="",e=0,d=0,g=a.length;h<g;)if(d=a[h++],e=d>>4,8>e?e=1:15===e?(e=4,d=(d&7)<<18|(a[h++]&63)<<12|(a[h++]&63)<<6|a[h++]&63):14===e?(e=3,d=(d&15)<<12|(a[h++]&63)<<6|a[h++]&63):(e=2,d=(d&31)<<
6|a[h++]&63),0!==d||b)l+=String.fromCharCode(d);return l}})},"esri/layers/support/rasterFormats/TiffTags":function(){define(["require","exports"],function(q,b){var a=function(){var a=[];a[254]="NEWSUBFILETYPE";a[255]="SUBFILETYPE";a[256]="IMAGEWIDTH";a[257]="IMAGELENGTH";a[258]="BITSPERSAMPLE";a[259]="COMPRESSION";a[262]="PHOTOMETRICINTERPRETATION";a[263]="THRESHHOLDING";a[264]="CELLWIDTH";a[265]="CELLLENGTH";a[266]="FILLORDER";a[269]="DOCUMENTNAME";a[270]="IMAGEDESCRIPTION";a[271]="MAKE";a[272]=
"MODEL";a[273]="STRIPOFFSETS";a[274]="ORIENTATION";a[277]="SAMPLESPERPIXEL";a[278]="ROWSPERSTRIP";a[279]="STRIPBYTECOUNTS";a[280]="MINSAMPLEVALUE";a[281]="MAXSAMPLEVALUE";a[282]="XRESOLUTION";a[283]="YRESOLUTION";a[284]="PLANARCONFIGURATION";a[285]="PAGENAME";a[286]="XPOSITION";a[287]="YPOSITION";a[288]="FREEOFFSETS";a[289]="FREEBYTECOUNTS";a[290]="GRAYRESPONSEUNIT";a[291]="GRAYRESPONSECURVE";a[292]="T4OPTIONS";a[293]="T6OPTIONS";a[296]="RESOLUTIONUNIT";a[297]="PAGENUMBER";a[300]="COLORRESPONSEUNIT";
a[301]="TRANSFERFUNCTION";a[305]="SOFTWARE";a[306]="DATETIME";a[315]="ARTIST";a[316]="HOSTCOMPUTER";a[317]="PREDICTOR";a[318]="WHITEPOINT";a[319]="PRIMARYCHROMATICITIES";a[320]="COLORMAP";a[321]="HALFTONEHINTS";a[322]="TILEWIDTH";a[323]="TILELENGTH";a[324]="TILEOFFSETS";a[325]="TILEBYTECOUNTS";a[326]="BADFAXLINES";a[327]="CLEANFAXDATA";a[328]="CONSECUTIVEBADFAXLINES";a[330]="SUBIFD";a[332]="INKSET";a[333]="INKNAMES";a[334]="NUMBEROFINKS";a[336]="DOTRANGE";a[337]="TARGETPRINTER";a[338]="EXTRASAMPLES";
a[339]="SAMPLEFORMAT";a[340]="SMINSAMPLEVALUE";a[341]="SMAXSAMPLEVALUE";a[342]="TRANSFERRANGE";a[347]="JPEGTABLES";a[512]="JPEGPROC";a[513]="JPEGIFOFFSET";a[514]="JPEGIFBYTECOUNT";a[515]="JPEGRESTARTINTERVAL";a[517]="JPEGLOSSLESSPREDICTORS";a[518]="JPEGPOINTTRANSFORM";a[519]="JPEGQTABLES";a[520]="JPEGDCTABLES";a[521]="JPEGACTABLES";a[529]="YCBCRCOEFFICIENTS";a[530]="YCBCRSUBSAMPLING";a[531]="YCBCRPOSITIONING";a[532]="REFERENCEBLACKWHITE";a[700]="XMP";a[33550]="GEOPIXELSCALE";a[33922]="GEOTIEPOINTS";
a[33432]="COPYRIGHT";a[42112]="GDAL_METADATA";a[42113]="GDAL_NODATA";a[50844]="RPCCOEFFICIENT";a[34264]="GEOTRANSMATRIX";a[34735]="GEOKEYDIRECTORY";a[34736]="GEODOUBLEPARAMS";a[34737]="GEOASCIIPARAMS";a[34665]="EXIFIFD";a[34853]="GPSIFD";a[40965]="INTEROPERABILITYIFD";return a}();q=function(){var b=[].concat(a);b[36864]="ExifVersion";b[40960]="FlashpixVersion";b[40961]="ColorSpace";b[42240]="Gamma";b[37121]="ComponentsConfiguration";b[37122]="CompressedBitsPerPixel";b[40962]="PixelXDimension";b[40963]=
"PixelYDimension";b[37500]="MakerNote";b[37510]="UserComment";b[40964]="RelatedSoundFile";b[36867]="DateTimeOriginal";b[36868]="DateTimeDigitized";b[36880]="OffsetTime";b[36881]="OffsetTimeOriginal";b[36882]="OffsetTimeDigitized";b[37520]="SubSecTime";b[37521]="SubSecTimeOriginal";b[37522]="SubSecTimeDigitized";b[37888]="Temperature";b[37889]="Humidity";b[37890]="Pressure";b[37891]="WaterDepth";b[37892]="Acceleration";b[37893]="CameraElevationAngle";b[42016]="ImageUniqueID";b[42032]="CameraOwnerName";
b[42033]="BodySerialNumber";b[42034]="LensSpecification";b[42035]="LensMake";b[42036]="LensModel";b[42037]="LensSerialNumber";b[33434]="ExposureTime";b[33437]="FNumber";b[34850]="ExposureProgram";b[34852]="SpectralSensitivity";b[34855]="PhotographicSensitivity";b[34856]="OECF";b[34864]="SensitivityType";b[34865]="StandardOutputSensitivity";b[34866]="RecommendedExposureIndex";b[34867]="ISOSpeed";b[34868]="ISOSpeedLatitudeyyy";b[34869]="ISOSpeedLatitudezzz";b[37377]="ShutterSpeedValue";b[37378]="ApertureValue";
b[37379]="BrightnessValue";b[37380]="ExposureBiasValue";b[37381]="MaxApertureValue";b[37382]="SubjectDistance";b[37383]="MeteringMode";b[37384]="LightSource";b[37385]="Flash";b[37386]="FocalLength";b[37396]="SubjectArea";b[41483]="FlashEnergy";b[41484]="SpatialFrequencyResponse";b[41486]="FocalPlaneXResolution";b[41487]="FocalPlaneYResolution";b[41488]="FocalPlaneResolutionUnit";b[41492]="SubjectLocation";b[41493]="ExposureIndex";b[41495]="SensingMethod";b[41728]="FileSource";b[41729]="SceneType";
b[41730]="CFAPattern";b[41985]="CustomRendered";b[41986]="ExposureMode";b[41987]="WhiteBalance";b[41988]="DigitalZoomRatio";b[41989]="FocalLengthIn35mmFilm";b[41990]="SceneCaptureType";b[41991]="GainControl";b[41992]="Contrast";b[41993]="Saturation";b[41994]="Sharpness";b[41995]="DeviceSettingDescription";b[41996]="SubjectDistanceRange";return b}();b=function(){var a=[];a[1024]="GTModelTypeGeoKey";a[1025]="GTRasterTypeGeoKey";a[1026]="GTCitationGeoKey";a[2048]="GeographicTypeGeoKey";a[2049]="GeogCitationGeoKey";
a[2050]="GeogGeodeticDatumGeoKey";a[2051]="GeogPrimeMeridianGeoKey";a[2052]="GeogLinearUnitsGeoKey";a[2053]="GeogLinearUnitSizeGeoKey";a[2054]="GeogAngularUnitsGeoKey";a[2055]="GeogAngularUnitSizeGeoKey";a[2056]="GeogEllipsoidGeoKey";a[2057]="GeogSemiMajorAxisGeoKey";a[2058]="GeogSemiMinorAxisGeoKey";a[2059]="GeogInvFlatteningGeoKey";a[2061]="GeogPrimeMeridianLongGeoKey";a[2060]="GeogAzimuthUnitsGeoKey";a[3072]="ProjectedCSTypeGeoKey";a[3073]="PCSCitationGeoKey";a[3074]="ProjectionGeoKey";a[3075]=
"ProjCoordTransGeoKey";a[3076]="ProjLinearUnitsGeoKey";a[3077]="ProjLinearUnitSizeGeoKey";a[3078]="ProjStdParallel1GeoKey";a[3079]="ProjStdParallel2GeoKey";a[3080]="ProjNatOriginLongGeoKey";a[3081]="ProjNatOriginLatGeoKey";a[3082]="ProjFalseEastingGeoKey";a[3083]="ProjFalseNorthingGeoKey";a[3084]="ProjFalseOriginLongGeoKey";a[3085]="ProjFalseOriginLatGeoKey";a[3086]="ProjFalseOriginEastingGeoKey";a[3087]="ProjFalseOriginNorthingGeoKey";a[3088]="ProjCenterLongGeoKey";a[3090]="ProjCenterEastingGeoKey";
a[3091]="ProjCenterNorthingGeoKey";a[3092]="ProjScaleAtNatOriginGeoKey";a[3093]="ProjScaleAtCenterGeoKey";a[3094]="ProjAzimuthAngleGeoKey";a[3095]="ProjStraightVertPoleLongGeoKey";a[4096]="VerticalCSTypeGeoKey";a[4097]="VerticalCitationGeoKey";a[4098]="VerticalDatumGeoKey";a[4099]="VerticalUnitsGeoKey";return a}();var m=new Map;m.set("EXIFIFD",q);m.set("GPSIFD","GPSVersionID GPSLatitudeRef GPSLatitude GPSLongitudeRef GPSLongitude GPSAltitudeRef GPSAltitude GPSTimeStamp GPSSatellites GPSStatus GPSMeasureMode GPSDOP GPSSpeedRef GPSSpeed GPSTrackRef GPSTrack GPSImgDirectionRef GPSImgDirection GPSMapDatum GPSDestLatitudeRef GPSDestLatitude GPSDestLongitudeRef GPSDestLongitude GPSDestBearingRef GPSDestBearing GPSDestDistanceRef GPSDestDistance GPSProcessingMethod GPSAreaInformation GPSDateStamp GPSDifferential GPSHPositioningError".split(" "));
return{TIFF_TAGS:a,ifdTags:m,GEO_KEYS:b,getTagName:function(b,l){l=(l||a)[b];void 0===l&&(l="unknown"+String(b));return l}}})},"esri/layers/support/rasterFunctions/pixelUtils":function(){define(["require","exports","../PixelBlock"],function(q,b,a){function m(a,b){a=Math.min(Math.max(a,-100),100);b=Math.min(Math.max(b,-100),100);var f,c,k=new Uint8Array(256);for(f=0;256>f;f++)0<a&&100>a?c=(200*f-25500+510*b)/(2*(100-a))+128:0>=a&&-100<a?c=(200*f-25500+510*b)*(100+a)/2E4+128:100===a?(c=200*f-25500+
256*(100-a)+510*b,c=0<c?255:0):-100===a&&(c=128),k[f]=255<c?255:0>c?0:c;return k}function h(a,b,c,d,g,e,n,l){return{xmin:g<=c*a?0:g<c*a+a?g-c*a:a,ymin:e<=d*b?0:e<d*b+b?e-d*b:b,xmax:g+n<=c*a?0:g+n<c*a+a?g+n-c*a:a,ymax:e+l<=d*b?0:e+l<d*b+b?e+l-d*b:b}}function l(b,f,d,g){var k=b.filter(function(a){return c(a)})[0];if(null==k)return null;var e=g?g.width:f.width;g=g?g.height:f.height;var n=k.width,r=k.height,t=f.width/n;f=f.height/r;var l=d?d.x:0;d=d?d.y:0;var v=k.pixelType,m=a.getPixelArrayConstructor(v),
z=k.pixels.length,k=[],u,B,E,F,G,J,K,I,H,q;for(G=0;G<z;G++){B=new m(e*g);for(J=0;J<f;J++)for(K=0;K<t;K++)if(E=b[J*t+K])for(u=E.pixels[G],q=h(n,r,K,J,l,d,e,g),I=q.ymin;I<q.ymax;I++)for(E=(J*r+I-d)*e+(K*n-l),F=I*n,H=q.xmin;H<q.xmax;H++)B[E+H]=u[F+H];k.push(B)}var Q;if(b.some(function(a){return null==a||a.mask&&0<a.mask.length}))for(Q=new Uint8Array(e*g),J=0;J<f;J++)for(K=0;K<t;K++)if(m=(E=b[J*t+K])?E.mask:null,q=h(n,r,K,J,l,d,e,g),m)for(I=q.ymin;I<q.ymax;I++)for(E=(J*r+I-d)*e+(K*n-l),F=I*n,H=q.xmin;H<
q.xmax;H++)Q[E+H]=m[F+H];else if(E)for(I=q.ymin;I<q.ymax;I++)for(E=(J*r+I-d)*e+(K*n-l),F=I*n,H=q.xmin;H<q.xmax;H++)Q[E+H]=1;else for(I=q.ymin;I<q.ymax;I++)for(E=(J*r+I-d)*e+(K*n-l),F=I*n,H=q.xmin;H<q.xmax;H++)Q[E+H]=0;b=new a({width:e,height:g,pixels:k,pixelType:v,mask:Q});b.updateStatistics();return b}function e(a){if(!c(a))return null;var b=a.clone(),k=a.width,e=a.height,p=a.mask;a=a.pixels[0];for(var l=b.pixels[0],h=2;h<e-1;h++){for(var m=new Map,w=h-2;w<h+2;w++)for(var x=0;4>x;x++){var v=w*k+
x;n(m,a[v],p?p[v]:1)}l[h*k]=d(m);l[h*k+1]=l[h*k+2]=l[h*k];for(w=3;w<k-1;w++)v=(h-2)*k+w+1,n(m,a[v],p?p[v]:1),v=(h-1)*k+w+1,n(m,a[v],p?p[v]:1),v=h*k+w+1,n(m,a[v],p?p[v]:1),v=(h+1)*k+w+1,n(m,a[v],p?p[v]:1),v=(h-2)*k+w-3,g(m,a[v],p?p[v]:1),v=(h-1)*k+w-3,g(m,a[v],p?p[v]:1),v=h*k+w-3,g(m,a[v],p?p[v]:1),v=(h+1)*k+w-3,g(m,a[v],p?p[v]:1),l[h*k+w]=d(m);l[h*k+w+1]=l[h*k+w]}for(w=0;w<k;w++)l[w]=l[k+w]=l[2*k+w],l[(e-1)*k+w]=l[(e-2)*k+w];b.updateStatistics();return b}function d(a){if(0===a.size)return 0;for(var b=
0,c=-1,k=0,d=a.keys(),g=d.next();!g.done;)k=a.get(g.value),k>b&&(c=g.value,b=k),g=d.next();return c}function g(a,b,c){0!==c&&(c=a.get(b),1===c?a.delete(b):a.set(b,c-1))}function n(a,b,c){0!==c&&a.set(b,a.has(b)?a.get(b)+1:1)}Object.defineProperty(b,"__esModule",{value:!0});b.approximateTransform=b.clip=b.resampleByMajority=b.setValidBoundary=b.mosaic=b.mosaicPixelData=b.getClipBounds=b.remapColor=b.lookupPixels=b.stretch=b.createContrastBrightnessLUT=b.createStretchLUT=b.estimateStatisticsFromHistograms=
b.estimateStatisticsHistograms=b.colorize=b.createColormapLUT=b.extractBands=void 0;var c=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};b.extractBands=function(b,f){if(!f||!c(b))return b;var k=b.pixels.length;return f&&f.some(function(a){return a>=k})||1===k&&1===f.length&&0===f[0]||k===f.length&&!f.some(function(a,b){return a!==b})?b:new a({pixelType:b.pixelType,width:b.width,height:b.height,mask:b.mask,validPixelCount:b.validPixelCount,maskIsAlpha:b.maskIsAlpha,
pixels:f.map(function(a){return b.pixels[a]}),statistics:b.statistics&&f.map(function(a){return b.statistics[a]})})};b.createColormapLUT=function(a){if(a){var b=a.colormap;if(b&&0!==b.length){var b=b.sort(function(a,b){return a[0]-b[0]}),c=0;0>b[0][0]&&(c=b[0][0]);var k=Math.max(256,b[b.length-1][0]-c+1),d=new Uint8Array(4*k),g=[],e=0,n=0,l=5===b[0].length;if(65536<k)return b.forEach(function(a){g[a[0]-c]=l?a.slice(1):a.slice(1).concat([255])}),{indexed2DColormap:g,offset:c,alphaSpecified:l};if(a.fillUnspecified)for(a=
b[n],e=a[0]-c;e<k;e++)d[4*e]=a[1],d[4*e+1]=a[2],d[4*e+2]=a[3],d[4*e+3]=l?a[4]:255,e===a[0]-c&&(a=n===b.length-1?a:b[++n]);else for(e=0;e<b.length;e++)a=b[e],n=4*(a[0]-c),d[n]=a[1],d[n+1]=a[2],d[n+2]=a[3],d[n+3]=l?a[4]:255;return{indexedColormap:d,offset:c,alphaSpecified:l}}}};b.colorize=function(a,b){if(!c(a)||!b&&(b.indexedColormap||b.indexed2DColormap))return a;var f=a.clone(),k=f.pixels,d=f.mask,g=f.width*f.height;if(1!==k.length)return a;var e=b.indexedColormap;a=b.indexed2DColormap;var n=b.offset;
b=b.alphaSpecified;var l=e.length-1,h=0,k=k[0],v=new Uint8Array(k.length),m=new Uint8Array(k.length),z=new Uint8Array(k.length),u=0;if(e)if(d)for(h=0;h<g;h++)d[h]&&(u=4*(k[h]-n),u<n||u>l?d[h]=0:(v[h]=e[u],m[h]=e[u+1],z[h]=e[u+2],d[h]=e[u+3]));else{d=new Uint8Array(g);for(h=0;h<g;h++)u=4*(k[h]-n),u<n||u>l?d[h]=0:(v[h]=e[u],m[h]=e[u+1],z[h]=e[u+2],d[h]=e[u+3]);f.mask=d}else if(d)for(h=0;h<g;h++)d[h]&&(e=a[k[h]],v[h]=e[0],m[h]=e[1],z[h]=e[2],d[h]=e[3]);else{d=new Uint8Array(g);for(h=0;h<g;h++)e=a[k[h]],
v[h]=e[0],m[h]=e[1],z[h]=e[2],d[h]=e[3];f.mask=d}f.pixels=[v,m,z];f.statistics=null;f.pixelType="u8";f.maskIsAlpha=b;return f};b.estimateStatisticsHistograms=function(a){if(!c(a))return null;a.statistics||a.updateStatistics();var b=a.pixels,k=a.mask,d=a.pixelType,e=a.statistics;a=a.width*a.height;var g=b.length,n,h,l,m,v,C=[],z=[],u,B,E;for(m=0;m<g;m++){u=new Uint32Array(256);E=b[m];if("u8"===d)if(n=-.5,h=255.5,k)for(v=0;v<a;v++)k[v]&&u[E[v]]++;else for(v=0;v<a;v++)u[E[v]]++;else{n=e[m].minValue;
h=e[m].maxValue;l=(h-n)/256;B=new Uint32Array(257);if(k)for(v=0;v<a;v++)k[v]&&B[Math.floor((E[v]-n)/l)]++;else for(v=0;v<a;v++)B[Math.floor((E[v]-n)/l)]++;for(v=0;255>v;v++)u[v]=B[v];u[255]=B[255]+B[256]}C.push({min:n,max:h,size:256,counts:u});for(v=E=B=l=0;256>v;v++)l+=u[v],B+=v*u[v];B/=l;for(v=0;256>v;v++)E+=u[v]*Math.pow(v-B,2);u=Math.sqrt(E/(l-1));l=(h-n)/256;v=(B+.5)*l+n;u*=l;z.push({min:n,max:h,avg:v,stddev:u})}return{statistics:z,histograms:C}};b.estimateStatisticsFromHistograms=function(a){for(var b=
[],c=0;c<a.length;c++){for(var k=a[c],d=k.min,e=k.max,g=k.size,n=k.counts,l=k=0,h=0;h<g;h++)k+=n[h],l+=h*n[h];for(var l=l/k,m=0,h=0;h<g;h++)m+=n[h]*Math.pow(h-l,2);g=(e-d)/g;b.push({min:d,max:e,avg:(l+.5)*g+d,stddev:Math.sqrt(m/(k-1))*g})}return b};b.createStretchLUT=function(a){var b=a.minCutOff,c=a.maxCutOff,k=a.gamma,d=a.pixelType,e=a.outMin||0,g=a.outMax||255;if(-1===["u8","u16","s8","s16"].indexOf(d))return null;var n=b.length,h,l=0;"s8"===d?l=-127:"s16"===d&&(l=-32767);var v=256;-1<["u16","s16"].indexOf(d)&&
(v=65536);for(var C=[],z=g-e,d=0;d<n;d++)C[d]=c[d]-b[d];h=k&&k.length>=n;var u=[];if(h)for(d=0;d<n;d++)u[d]=1<k[d]?2<k[d]?6.5+Math.pow(k[d]-2,2.5):6.5+100*Math.pow(2-k[d],4):1;var B,E=[],F,G,q;if(h)for(d=0;d<n;d++){q=[];for(h=0;h<v;h++)F=h+l,B=(F-b[d])/C[d],G=1,1<k[d]&&(G-=Math.pow(1/z,B*u[d])),q[h]=F<c[d]&&F>b[d]?Math.floor(G*z*Math.pow(B,1/k[d]))+e:F>=c[d]?g:e;E[d]=q}else for(d=0;d<n;d++){q=[];for(h=0;h<v;h++)F=h+l,q[h]=F<=b[d]?e:F>=c[d]?g:Math.floor((F-b[d])/C[d]*z)+e;E[d]=q}if(null!=a.contrastOffset)for(a=
m(a.contrastOffset,a.brightnessOffset),d=0;d<n;d++)for(q=E[d],h=0;h<v;h++)q[h]=a[q[h]];return{lut:E,offset:l}};b.createContrastBrightnessLUT=m;b.stretch=function(a,b){if(!c(a))return null;a=a.clone();var f=a.pixels,k=a.mask,d=b.minCutOff,e=b.maxCutOff,g=b.gamma,n=b.outMin||0;b=b.outMax||255;var h=a.width*a.height,l=f.length,m,C,z,u,B,E=b-n,F=[];for(m=0;m<l;m++)F[m]=e[m]-d[m];C=g&&g.length>=l;var G=[];if(C)for(m=0;m<l;m++)G[m]=1<g[m]?2<g[m]?6.5+Math.pow(g[m]-2,2.5):6.5+100*Math.pow(2-g[m],4):1;if(C)if(null!=
k)for(C=0;C<h;C++){if(k[C])for(m=0;m<l;m++)z=f[m][C],B=(z-d[m])/F[m],u=1,1<g[m]&&(u-=Math.pow(1/E,B*G[m])),f[m][C]=z<e[m]&&z>d[m]?Math.floor(u*E*Math.pow(B,1/g[m]))+n:z>=e[m]?b:n}else for(C=0;C<h;C++)for(m=0;m<l;m++)z=f[m][C],B=(z-d[m])/F[m],u=1,1<g[m]&&(u-=Math.pow(1/E,B*G[m])),f[m][C]=z<e[m]&&z>d[m]?Math.floor(u*E*Math.pow(B,1/g[m]))+n:z>=e[m]?b:n;else if(null!=k)for(C=0;C<h;C++){if(k[C])for(m=0;m<l;m++)z=f[m][C],f[m][C]=z<e[m]&&z>d[m]?Math.floor((z-d[m])/F[m]*E)+n:z>=e[m]?b:n}else for(C=0;C<h;C++)for(m=
0;m<l;m++)z=f[m][C],f[m][C]=z<e[m]&&z>d[m]?Math.floor((z-d[m])/F[m]*E)+n:z>=e[m]?b:n;a.pixelType="u8";a.updateStatistics();return a};b.lookupPixels=function(b,f){if(!c(b))return null;var d=b.pixels,k=b.mask,e=b.width*b.height,g=d.length,n=f.lut;f=f.offset;var h,l;n&&1===n[0].length&&(n=d.map(function(){return n}));var m=[],v,C,z;if(f)if(null==k)for(h=0;h<g;h++){v=d[h];C=n[h];z=new Uint8Array(e);for(l=0;l<e;l++)z[l]=C[v[l]-f];m.push(z)}else for(h=0;h<g;h++){v=d[h];C=n[h];z=new Uint8Array(e);for(l=
0;l<e;l++)k[l]&&(z[l]=C[v[l]-f]);m.push(z)}else if(null==k)for(h=0;h<g;h++){v=d[h];C=n[h];z=new Uint8Array(e);for(l=0;l<e;l++)z[l]=C[v[l]];m.push(z)}else for(h=0;h<g;h++){v=d[h];C=n[h];z=new Uint8Array(e);for(l=0;l<e;l++)k[l]&&(z[l]=C[v[l]]);m.push(z)}b=new a({width:b.width,height:b.height,pixels:m,mask:k,pixelType:"u8"});b.updateStatistics();return b};b.remapColor=function(a,b){if(!c(a))return null;a=a.clone();var f=a.width*a.height,d=b.length,k=Math.floor(d/2),e=b[Math.floor(k)],g=a.pixels[0],n,
h,l,m,C,z,u=!1,B=new Uint8Array(f),E=new Uint8Array(f),F=new Uint8Array(f),G=a.mask,q=4===b[0].mappedColor.length;G||(G=new Uint8Array(f),G.fill(q?255:1),a.mask=G);for(C=0;C<f;C++)if(G[C]){n=g[C];u=!1;z=k;h=e;l=0;for(m=d-1;1<m-l;){if(n===h.value){u=!0;break}n>h.value?l=z:m=z;z=Math.floor((l+m)/2);h=b[Math.floor(z)]}u||(n===b[l].value?(h=b[l],u=!0):n===b[m].value?(h=b[m],u=!0):n<b[l].value?(u=!1,h=null):n>b[l].value&&(n<b[m].value?(h=b[l],u=!0):m===d-1?(u=!1,h=null):(h=b[m],u=!0)));u?(B[C]=h.mappedColor[0],
E[C]=h.mappedColor[1],F[C]=h.mappedColor[2],G[C]=h.mappedColor[3]):B[C]=E[C]=F[C]=G[C]=0}a.pixels=[B,E,F];a.mask=G;a.pixelType="u8";a.maskIsAlpha=q;return a};b.getClipBounds=h;b.mosaicPixelData=function(a,b){if(!a||0===a.length)return null;var c=a.filter(function(a){return a.pixelBlock})[0];if(!c)return null;var f=(c.extent.xmax-c.extent.xmin)/c.pixelBlock.width,d=(c.extent.ymax-c.extent.ymin)/c.pixelBlock.height,k=.01*Math.min(f,d),e=a.sort(function(a,b){return Math.abs(a.extent.ymax-b.extent.ymax)>
k?b.extent.ymax-a.extent.ymax:Math.abs(a.extent.xmin-b.extent.xmin)>k?a.extent.xmin-b.extent.xmin:0}),g=Math.min.apply(null,e.map(function(a){return a.extent.xmin})),n=Math.min.apply(null,e.map(function(a){return a.extent.ymin})),h=Math.max.apply(null,e.map(function(a){return a.extent.xmax})),m=Math.max.apply(null,e.map(function(a){return a.extent.ymax}));a={x:Math.round((b.xmin-g)/f),y:Math.round((m-b.ymax)/d)};g={width:Math.round((h-g)/f),height:Math.round((m-n)/d)};f={width:Math.round((b.xmax-
b.xmin)/f),height:Math.round((b.ymax-b.ymin)/d)};if(Math.round(g.width/c.pixelBlock.width)*Math.round(g.height/c.pixelBlock.height)!==e.length||0>a.x||0>a.y||g.width<f.width||g.height<f.height)return null;c=e.map(function(a){return a.pixelBlock});c=l(c,g,a,f);return{extent:b,pixelBlock:c}};b.mosaic=l;b.setValidBoundary=function(a,b,d){if(!c(a))return null;var f=a.width,k=a.height,e=b.x;b=b.y;var g=d.width+e;d=d.height+b;if(0>e||0>b||g>f||d>k||0===e&&0===b&&g===f&&d===k)return a;a.mask||(a.mask=new Uint8Array(f*
k));for(var n=a.mask,h=0;h<k;h++)for(var l=h*f,t=0;t<f;t++)n[l+t]=h<b||h>=d||t<e||t>=g?0:1;a.updateStatistics();return a};b.resampleByMajority=e;b.clip=function(b,f,d){var k=f.x;f=f.y;var e=d.width,g=d.height;if(0===k&&0===f&&g===b.height&&e===b.width)return b;var n=b.width,h=Math.max(0,f),l=Math.max(0,k),t=Math.min(k+e,n),m=Math.min(f+g,b.height);if(0>t||0>m||!c(b))return null;k=Math.max(0,-k);f=Math.max(0,-f);for(var C=b.pixels,z=b.mask,u=e*g,B=C.length,g=[],E=0;E<B;E++){for(var F=C[E],G=a.createEmptyBand(b.pixelType,
u),q=h;q<m;q++)for(var K=q*n,I=(q+f)*e+k,H=l;H<t;H++)G[I++]=F[K+H];g.push(G)}b=new Uint8Array(u);for(q=h;q<m;q++)for(K=q*n,I=(q+f)*e+k,H=l;H<t;H++)b[I++]=z?z[K+H]:1;d=new a({width:d.width,height:d.height,pixels:g,mask:b});d.updateStatistics();return d};b.approximateTransform=function(b,f,d,g,n){void 0===n&&(n="nearest");if(!c(b))return null;"majority"===n&&(b=e(b));var k=b.pixels,p=b.mask,h=b.pixelType,l=b.width,r=b.height;b=a.getPixelArrayConstructor(h);var t=k.length,m=f.width,z=f.height;f=g.cols;
var u=g.rows,B=Math.ceil(m/f),E=Math.ceil(z/u);g=!1;for(var F=0;F<d.length;F+=3)-1===d[F]&&-1===d[F+1]&&-1===d[F+2]&&(g=!0);for(var G,q,K,I,H,M,Q=new Float32Array(m*z),V=new Float32Array(m*z),W=0,X,P,R="majority"===n?0:.5,F=0;F<E;F++)for(var O=0;O<B;O++){G=12*(F*B+O);n=d[G];q=d[G+1];K=d[G+2];I=d[G+3];H=d[G+4];M=d[G+5];for(var N=0;N<u;N++){W=(F*u+N)*m+O*f;P=(N+.5)/u;for(var S=0;S<N;S++)X=(S+.5)/f,Q[W+S]=Math.round((n*X+q*P+K)*l-R),V[W+S]=Math.round((I*X+H*P+M)*r-R)}G+=6;n=d[G];q=d[G+1];K=d[G+2];I=
d[G+3];H=d[G+4];M=d[G+5];for(N=0;N<u;N++)for(W=(F*u+N)*m+O*f,P=(N+.5)/u,S=N;S<f;S++)X=(S+.5)/f,Q[W+S]=Math.round((n*X+q*P+K)*l-R),V[W+S]=Math.round((I*X+H*P+M)*r-R)}d=function(a,b){for(var c=0;c<z;c++){G=c*m;for(var f=0;f<m;f++)a[G]=0>Q[G]||0>V[G]?0:b[Q[G]+V[G]*l],G++}};r=[];for(F=0;F<t;F++)f=new b(m*z),d(f,k[F]),r.push(f);k=new a({width:m,height:z,pixelType:h,pixels:r});if(p)k.mask=new Uint8Array(m*z),d(k.mask,p);else if(g)for(k.mask=new Uint8Array(m*z),F=0;F<m*z;F++)k.mask[F]=0>Q[F]||0>V[F]?0:1;
k.updateStatistics();return k}})},"esri/renderers/support/RasterSymbolizer":function(){define("require exports tslib ../../rasterRenderers ../../core/colorUtils ../../core/JSONSupport ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators ../../layers/support/imageryRendererUtils ../../layers/support/RasterInfo ../../layers/support/rasterFunctions/pixelUtils ../../layers/support/rasterFunctions/surfaceUtils ../support/colorRampUtils ./rasterRendererHelper".split(" "),function(q,
b,a,m,h,l,e,d,g,n,c,k,f,t,r){var p=e.getLogger("esri.renderers.support.RasterSymbolizer");return function(b){function e(a){return b.call(this,a)||this}a.__extends(e,b);e.prototype.readRenderer=function(a,b,c){return m.read(a,c)};e.prototype.bind=function(){if(!this.renderer)return!1;this.lookup={rendererJson:{}};var a;switch(this.renderer.type){case "unique-value":a=this._updateUVRenderer(this.renderer);break;case "raster-colormap":a=this._updateColormapRenderer(this.renderer);break;case "raster-stretch":a=
this._updateStretchRenderer(this.renderer);break;case "class-breaks":a=this._updateClassBreaksRenderer(this.renderer);break;case "raster-shaded-relief":a=this._updateShadedReliefRenderer(this.renderer)}return a};e.prototype.symbolize=function(a){var b=a&&a.pixelBlock;if(!this.isValidPixelBlock(b))return b;if(a.simpleStretchParams&&"raster-stretch"===this.renderer.type)return this.simpleStretch(b,a.simpleStretchParams);try{3<b.pixels.length&&(b=k.extractBands(b,[0,1,2]));var c=void 0;switch(this.renderer.type){case "unique-value":case "raster-colormap":c=
this._symbolize_colormap(b);break;case "class-breaks":c=this._symbolize_classBreaks(b);break;case "raster-stretch":c=this._symbolize_stretch(b,a.bandIds);break;case "raster-shaded-relief":var f=a.extent,c=this._symbolize_shadedRelief(b,{isGCS:f.spatialReference.isGeographic,resolution:{x:(f.xmax-f.xmin)/b.width,y:(f.ymax-f.ymin)/b.height}})}return c}catch(C){return p.error("symbolize",C.message),b}};e.prototype.simpleStretch=function(a,b){if(!this.isValidPixelBlock(a))return a;try{return 3<a.pixels.length&&
(a=k.extractBands(a,[0,1,2])),k.stretch(a,b)}catch(x){return p.error("symbolize",x.message),a}};e.prototype.generateWebGLParameters=function(a){if(-1<["unique-value","raster-colormap","class-breaks"].indexOf(this.renderer.type)){var b=this.lookup.colormapLut;return{colormap:b.indexedColormap,colormapOffset:b.offset,type:"lut"}}var b=a.pixelBlock,c=a.isGCS,f=a.resolution;a=a.bandIds;return"raster-stretch"===this.renderer.type?this.generateStretchWebGLParams(b,this.renderer,a):"raster-shaded-relief"===
this.renderer.type?this.generateShadedReliefWebGLParams(this.renderer,c,f):null};e.prototype._isLUTChanged=function(b){if(!this.lookup||!this.lookup.rendererJson)return!0;if("colorRamp"in this.renderer){var c=this.renderer.colorRamp;if(b)return JSON.stringify(c.toJSON())!==JSON.stringify(this.lookup.rendererJson.colorRamp);b=a.__assign({},this.renderer.toJSON());c=a.__assign({},this.lookup.rendererJson);b.colorRamp=null;c.colorRamp=null}return JSON.stringify(this.renderer.toJSON())!==JSON.stringify(this.lookup.rendererJson)};
e.prototype._symbolize_colormap=function(a){return this._isLUTChanged()&&!this.bind()?a:k.colorize(a,this.lookup.colormapLut)};e.prototype._symbolize_classBreaks=function(a){var b=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType);return this._isLUTChanged()&&!this.bind()?a:b?k.colorize(a,this.lookup.colormapLut):k.remapColor(a,this.lookup.remapLut)};e.prototype._symbolize_stretch=function(b,c){var f=this.rasterInfo,d=f.pixelType,e=f.bandCount,f=this.renderer,g=-1<["u8","u16","s8","s16"].indexOf(d),
n,p=f.gamma,h=f.useGamma;if(g){if(f.dynamicRangeAdjustment)g=this.getStretchCutoff(f,b,c),n=k.createStretchLUT(a.__assign(a.__assign({pixelType:d},g),{gamma:h?p:null}));else{if(this._isLUTChanged()&&(d=this.bind(),!d))return b;n=this.lookup?this.lookup.stretchLut:null}if(!n)return b;1<e&&(null===c||void 0===c?void 0:c.length)===b.pixels.length&&(null===n||void 0===n?void 0:n.lut.length)===e&&(n={lut:c.map(function(a){return n.lut[a]}),offset:n.offset});c=k.lookupPixels(b,n)}else g=this.getStretchCutoff(f,
b,c),c=k.stretch(b,a.__assign(a.__assign({},g),{gamma:h?p:null}));if(f.colorRamp){if(this._isLUTChanged(!0)&&(d=this.bind(),!d))return b;c=k.colorize(c,this.lookup.colormapLut)}return c};e.prototype._symbolize_shadedRelief=function(b,c){var e,k,g=this.renderer;c=a.__assign(a.__assign({},g.toJSON()),c);c=f.hillshade(b,c);if(!g.colorRamp||this._isLUTChanged(!0)&&!this.bind())return c;g=this.lookup?this.lookup.hsvMap:null;if(!g)return c;var n=null!==(k=null===(e=d.unwrap(this.rasterInfo.statistics))||
void 0===e?void 0:e[0])&&void 0!==k?k:{min:0,max:8E3};f.tintHillshade(c,b,g,n);return c};e.prototype._updateUVRenderer=function(a){var b=this.rasterInfo,c=b.bandCount,f=b.attributeTable,d=b.statistics,e=a.field;if(!e)return!1;b=-1<["u8","s8"].indexOf(b.pixelType)&&d&&null!=d[0].min&&null!=d[0].max;if(!(r.isUVRendererSupported(this.rasterInfo,e)||1===c&&b))return!1;var g=[];if(f){var n=f.fields.filter(function(a){return"value"===a.name.toLowerCase()})[0];if(!n)return!1;f.features.forEach(function(b){var c=
a.uniqueValueInfos.filter(function(a){return String(a.value)===String(b.attributes[e])})[0];(c=c&&c.symbol&&c.symbol.color)&&g.push([b.attributes[n.name],c.r,c.g,c.b,1<c.a?c.a:Math.round(255*c.a)])})}else{if("value"!==e.toLowerCase())return!1;a.uniqueValueInfos.forEach(function(a){var b=a&&a.symbol&&a.symbol.color;b&&g.push([parseInt(""+a.value,10),b.r,b.g,b.b,1<b.a?b.a:Math.round(255*b.a)])})}if(0===g.length)return!1;c=k.createColormapLUT({colormap:g});this.lookup={rendererJson:a.toJSON(),colormapLut:c};
return this.canRenderInWebGL=!0};e.prototype._updateColormapRenderer=function(a){var b=a.extractColormap();if(!b||0===b.length)return!1;b=k.createColormapLUT({colormap:b});this.lookup={rendererJson:a.toJSON(),colormapLut:b};return this.canRenderInWebGL=!0};e.prototype._updateShadedReliefRenderer=function(a){if(!r.isShadedReliefRendererSupported(this.rasterInfo))return!1;if(a.colorRamp){for(var b=t.convertColorRampToColormap(a.colorRamp,256,!0),b=k.createColormapLUT({colormap:b}),c=[],f=b.indexedColormap,
d=0;d<f.length;d+=4){var e=h.toHSV({r:f[d],g:f[d+1],b:f[d+2]});c.push([e.h/60,e.s/100,255*e.v/100])}this.lookup={rendererJson:a.toJSON(),colormapLut:b,hsvMap:c}}else this.lookup=null;return this.canRenderInWebGL=!0};e.prototype._updateClassBreaksRenderer=function(a){var b=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType),c=a.classBreakInfos;if(!c||0===c.length)return!1;var f=c.sort(function(a,b){return a.minValue-b.minValue}),c=f[f.length-1];if(!b)return b=f.map(function(a){return{value:a.minValue,
mappedColor:[a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)]}}),b.push({value:c.maxValue,mappedColor:[c.symbol.color.g,c.symbol.color.b,1<c.symbol.color.a?c.symbol.color.a:Math.round(255*c.symbol.color.a)]}),this.lookup={rendererJson:a.toJSON(),remapLut:b},this.canRenderInWebGL=!1,!0;var d=[],e,g=0;f.forEach(function(a){e=Math.ceil(a.minValue);g=Math.floor(a.maxValue);for(var b=e;b<g;b++)d.push([b,a.symbol.color.r,a.symbol.color.g,
a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)])});d.push([c.maxValue,c.symbol.color.r,c.symbol.color.g,c.symbol.color.b,1<c.symbol.color.a?c.symbol.color.a:Math.round(255*c.symbol.color.a)]);b=k.createColormapLUT({colormap:d,fillUnspecified:!1});this.lookup={rendererJson:a.toJSON(),colormapLut:b};return this.canRenderInWebGL=!0};e.prototype._updateStretchRenderer=function(b){if(!(b.statistics||this.rasterInfo.statistics||b.dynamicRangeAdjustment))return!1;var c=
b.histograms||this.rasterInfo.histograms;if(!b.dynamicRangeAdjustment&&"percent-clip"===b.stretchType&&!c)return!1;var f=b.gamma,d=b.useGamma,c=b.colorRamp,e=this.rasterInfo.pixelType;if(!b.dynamicRangeAdjustment&&-1<["u8","u16","s8","s16"].indexOf(e)){var g=this.getStretchCutoff(b),f=k.createStretchLUT(a.__assign(a.__assign({pixelType:e},g),{gamma:d?f:null}));this.lookup={rendererJson:b.toJSON(),stretchLut:f}}c&&(c=t.convertColorRampToColormap(c,256,!0),this.lookup||(this.lookup={rendererJson:b.toJSON()}),
this.lookup.colormapLut=k.createColormapLUT({colormap:c}),this.lookup.rendererJson=b.toJSON());return this.canRenderInWebGL=!0};e.prototype.getStretchCutoff=function(a,b,c){var f,e,g,p=a.stretchType;a.dynamicRangeAdjustment?"min-max"===p&&b.statistics?e=b.statistics.map(function(a){return[a.minValue,a.maxValue,0,0]}):(g=k.estimateStatisticsHistograms(b),e=g.statistics,g=g.histograms):(e=0<(null===(f=a.statistics)||void 0===f?void 0:f.length)?a.statistics:d.unwrap(this.rasterInfo.statistics),g=a.histograms||
d.unwrap(this.rasterInfo.histograms));var h=e||g?(e||g).length:this.rasterInfo.bandCount;f=[];b=[];var l,r,t,m,D;e&&!Array.isArray(e[0])&&(e=e.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));switch(p){case "none":g=n.pixelTypeRanges[this.rasterInfo.pixelType]||n.pixelTypeRanges.f32;for(p=0;p<h;p++)f[p]=g[0],b[p]=g[1];break;case "min-max":for(p=0;p<h;p++)f[p]=e[p][0],b[p]=e[p][1];break;case "standard-deviation":for(p=0;p<h;p++)f[p]=e[p][2]-a.numberOfStandardDeviations*e[p][3],b[p]=e[p][2]+a.numberOfStandardDeviations*
e[p][3],f[p]<e[p][0]&&(f[p]=e[p][0]),b[p]>e[p][1]&&(b[p]=e[p][1]);break;case "percent-clip":for(p=0;p<g.length;p++){e=g[p];t=new Uint32Array(e.size);r=e.counts;l=0;h=(e.max-e.min)/e.size;m=-.5===e.min&&1===h?.5:0;for(D=0;D<e.size;D++)l+=r[D],t[D]=l;r=a.minPercent*l/100;for(D=0;D<e.size;D++)if(t[D]>r){f[p]=e.min+h*(D+m);break}r=(1-a.maxPercent/100)*l;for(D=e.size-2;0<=D;D--)if(t[D]<r){b[p]=e.min+h*(D+2-m);break}}break;default:for(p=0;p<h;p++)f[p]=e[p][0],b[p]=e[p][1]}return this.getSelectedBandCutoffs({minCutOff:f,
maxCutOff:b,outMax:a.outputMax||255,outMin:a.outputMin||0},c)};e.prototype.getSelectedBandCutoffs=function(a,b){if(null==b||0===b.length)return a;var c=Math.max.apply(null,b),f=a.minCutOff,d=a.maxCutOff,e=a.outMin,g=a.outMax;return f.length===b.length||f.length<=c?a:{minCutOff:b.map(function(a){return f[a]}),maxCutOff:b.map(function(a){return d[a]}),outMin:e,outMax:g}};e.prototype.generateStretchWebGLParams=function(a,b,c){var f=null,d=null,e=this.lookup&&this.lookup.colormapLut;b.colorRamp&&e&&(f=
e.indexedColormap,d=e.offset);var e=b.gamma,g=!!(b.useGamma&&e&&e.some(function(a){return 1!==a})),k=this.getStretchCutoff(b,a,c);b=k.minCutOff;var n=k.maxCutOff,p=k.outMin,k=k.outMax;a&&a.pixels&&2===a.pixels.length&&(a=a.clone(),a.statistics=[a.statistics[0]],a.pixels=[a.pixels[0]]);a=Math.min(3,c&&c.length||a&&a.getPlaneCount()||this.rasterInfo.bandCount);c=new Float32Array(a);var h=f||g?1:255,l;for(l=0;l<a;l++)c[l]=(k-p)/(n[l]-b[l])/h;var r=new Float32Array(a);if(g)for(l=0;l<a;l++)r[l]=1<e[l]?
2<e[l]?6.5+Math.pow(e[l]-2,2.5):6.5+100*Math.pow(2-e[l],4):1;return{bandCount:a,outMin:p/h,outMax:k/h,minCutOff:b,maxCutOff:n,factor:c,useGamma:g,gamma:g?e:[1,1,1],gammaCorrection:g?r:[1,1,1],colormap:f,colormapOffset:d,type:"stretch"}};e.prototype.generateShadedReliefWebGLParams=function(b,c,e){var g,k,n,p=null,h=null,l=this.lookup&&this.lookup.colormapLut;b.colorRamp&&l&&(p=l.indexedColormap,h=l.offset);c=a.__assign(a.__assign({},b.toJSON()),{isGCS:c,resolution:e});c=f.calculateHillshadeParams(c);
e=null===(g=d.unwrap(this.rasterInfo.statistics))||void 0===g?void 0:g[0];return a.__assign(a.__assign({},c),{minValue:null!==(k=e.min)&&void 0!==k?k:0,maxValue:null!==(n=e.max)&&void 0!==n?n:8E3,hillshadeType:"traditional"===b.hillshadeType?0:1,type:"hillshade",colormap:p,colormapOffset:h})};e.prototype.isValidPixelBlock=function(a){return!!(a&&a.pixels&&0<a.pixels.length&&0!==a.validPixelCount)};a.__decorate([g.property({types:m.rasterRendererTypes,json:{write:!0}})],e.prototype,"renderer",void 0);
a.__decorate([g.reader("renderer")],e.prototype,"readRenderer",null);a.__decorate([g.property({type:c,json:{write:!0}})],e.prototype,"rasterInfo",void 0);a.__decorate([g.property({json:{write:!0}})],e.prototype,"lookup",void 0);a.__decorate([g.property({})],e.prototype,"canRenderInWebGL",void 0);return e=a.__decorate([g.subclass("esri.renderers.support.RasterSymbolizer")],e)}(l.JSONSupport)})},"esri/rasterRenderers":function(){define("require exports ./core/Warning ./renderers/ClassBreaksRenderer ./renderers/RasterColormapRenderer ./renderers/RasterShadedReliefRenderer ./renderers/RasterStretchRenderer ./renderers/UniqueValueRenderer ./renderers/VectorFieldRenderer".split(" "),
function(q,b,a,m,h,l,e,d,g){function n(b,f){if(!b)return null;var d;d=b?c[b.type]||null:null;if(d)return d=new d,d.read(b,f),d;f&&f.messages&&b&&f.messages.push(new a("renderer:unsupported","Renderers of type '"+(b.type||"unknown")+"' are not supported",{definition:b,context:f}));return null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJSON=b.read=b.rasterRendererTypes=b.VectorFieldRenderer=b.RasterShadedReliefRenderer=b.UniqueValueRenderer=b.RasterStretchRenderer=b.RasterColormapRenderer=
b.ClassBreaksRenderer=void 0;b.ClassBreaksRenderer=m;b.RasterColormapRenderer=h;b.RasterShadedReliefRenderer=l;b.RasterStretchRenderer=e;b.UniqueValueRenderer=d;b.VectorFieldRenderer=g;b.rasterRendererTypes={key:"type",base:null,typeMap:{"unique-value":d,"class-breaks":m,"raster-colormap":h,"raster-stretch":e,"vector-field":g,"raster-shaded-relief":l}};var c={uniqueValue:d,classBreaks:m,rasterStretch:e,rasterColormap:h,vectorField:g,rasterShadedRelief:l};b.read=n;b.fromJSON=function(a,b){return n(a,
b)}})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports tslib ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A){var y=e.getLogger("esri.renderers.ClassBreaksRenderer"),
w=new h.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),x=c.ensureType(r);return function(b){function f(a){a=b.call(this,a)||this;a.backgroundFillSymbol=null;a.classBreakInfos=null;a.defaultLabel=null;a.defaultSymbol=null;a.field=null;a.isMaxInclusive=!0;a.legendOptions=null;a.normalizationField=null;a.normalizationTotal=null;a.type="class-breaks";a.valueExpression=null;a.valueExpressionTitle=null;a._set("classBreakInfos",[]);return a}
a.__extends(f,b);e=f;Object.defineProperty(f.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!1,configurable:!0});f.prototype.readClassBreakInfos=function(a,b,c){if(Array.isArray(a)){var f=b.minValue;return a.map(function(a){var b=new r;b.read(a,c);null==b.minValue&&(b.minValue=f);null==b.maxValue&&(b.maxValue=b.minValue);f=b.maxValue;return b})}};f.prototype.writeClassBreakInfos=function(a,b,c,f){a=a.map(function(a){return a.write({},f)});this._areClassBreaksConsecutive()&&
a.forEach(function(a){return delete a.classMinValue});b[c]=a};f.prototype.castField=function(a){return null==a?a:"function"===typeof a?(y.error(".field: field must be a string value"),null):c.ensureString(a)};Object.defineProperty(f.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),b=
!!this.normalizationField,c=null!=this.normalizationTotal;if(b||c)a=b&&"field"||c&&"percent-of-total"||null,b&&c&&y.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!1,configurable:!0});f.prototype.addClassBreakInfo=function(a,b,c){var f=null,f="number"===typeof a?new r({minValue:a,maxValue:b,symbol:m.ensureType(c)}):x(l.clone(a));this.classBreakInfos.push(f);
1===this.classBreakInfos.length&&this.notifyChange("minValue")};f.prototype.removeClassBreakInfo=function(a,b){for(var c=this.classBreakInfos.length,f=0;f<c;f++){var d=[this.classBreakInfos[f].minValue,this.classBreakInfos[f].maxValue];if(d[0]===a&&d[1]===b){this.classBreakInfos.splice(f,1);break}}};f.prototype.getBreakIndex=function(a,b){this.valueExpression&&(d.isNone(b)||d.isNone(b.arcade))&&y.warn("");return this.valueExpression?this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};
f.prototype.getClassBreakInfo=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,e,g,k;return a.__generator(this,function(n){switch(n.label){case 0:f=c;if(!this.valueExpression||!d.isNone(c)&&!d.isNone(c.arcade))return[3,2];e=[a.__assign({},f)];g={};return[4,A.loadArcade()];case 1:f=a.__assign.apply(void 0,e.concat([(g.arcade=n.sent(),g)])),n.label=2;case 2:return k=this.getBreakIndex(b,f),[2,-1!==k?this.classBreakInfos[k]:null]}})})};f.prototype.getSymbol=function(a,b){if(this.valueExpression&&
(d.isNone(b)||d.isNone(b.arcade)))y.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol};f.prototype.getSymbolAsync=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,e,g,k;return a.__generator(this,function(n){switch(n.label){case 0:f=c;if(!this.valueExpression||!d.isNone(c)&&!d.isNone(c.arcade))return[3,2];e=[a.__assign({},f)];g={};return[4,A.loadArcade()];case 1:f=
a.__assign.apply(void 0,e.concat([(g.arcade=n.sent(),g)])),n.label=2;case 2:return k=this.getBreakIndex(b,f),[2,-1<k?this.classBreakInfos[k].symbol:this.defaultSymbol]}})})};f.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&a.push(b.symbol)});this.defaultSymbol&&a.push(this.defaultSymbol);return a};f.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};f.prototype.getMeshHash=
function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,f=this.classBreakInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+f+"."+c+"."+this.field+"."+this.valueExpression};Object.defineProperty(f.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!1,configurable:!0});f.prototype.clone=
function(){return new e({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:l.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,
visualVariables:l.clone(this.visualVariables),legendOptions:l.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};f.prototype.collectRequiredFields=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var f;return a.__generator(this,function(a){switch(a.label){case 0:return f=[this.collectVVRequiredFields(b,c),this.collectSymbolFields(b,c)],[4,g.all(f)];case 1:return a.sent(),[2]}})})};f.prototype.collectSymbolFields=function(b,c){return a.__awaiter(this,
void 0,void 0,function(){var f;return a.__generator(this,function(d){switch(d.label){case 0:return f=a.__spreadArrays(this.getSymbols().map(function(a){return a.collectRequiredFields(b,c)}),[k.collectArcadeFieldNames(b,c,this.valueExpression)]),k.collectField(b,c,this.field),k.collectField(b,c,this.normalizationField),[4,g.all(f)];case 1:return d.sent(),[2]}})})};f.prototype._getBreakIndexForExpression=function(a,b){var c=d.unwrapOr(b,{});b=c.viewingMode;var f=c.scale,e=c.spatialReference,g=this._cache.compiledFunc,
c=d.unwrap(c.arcade).arcadeUtils;g||(g=c.createSyntaxTree(this.valueExpression),g=c.createFunction(g),this._cache.compiledFunc=g);a=c.executeFunction(g,c.createExecContext(a,c.getViewInfo({viewingMode:b,scale:f,spatialReference:e})));return this._getBreakIndexfromInfos(a)};f.prototype._getBreakIndexForField=function(a){var b=a.attributes;a=this.normalizationType;var c=parseFloat(b[this.field]);if(a){var f=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);if("log"===a)c=Math.log(c)*
Math.LOG10E;else if("percent-of-total"===a&&!isNaN(f))c=c/f*100;else if("field"===a&&!isNaN(b)){if(isNaN(c)||isNaN(b))return-1;c/=b}}return this._getBreakIndexfromInfos(c)};f.prototype._getBreakIndexfromInfos=function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var c=0;c<this.classBreakInfos.length;c++){var f=[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(f[0]<=a&&(b?a<=f[1]:a<f[1]))return c}return-1};f.prototype._areClassBreaksConsecutive=function(){for(var a=
this.classBreakInfos,b=a.length,c=1;c<b;c++)if(a[c-1].maxValue!==a[c].minValue)return!1;return!0};var e;a.__decorate([n.property({readOnly:!0,dependsOn:["valueExpression"]})],f.prototype,"_cache",null);a.__decorate([n.property(p.rendererBackgroundFillSymbolProperty)],f.prototype,"backgroundFillSymbol",void 0);a.__decorate([n.property({type:[r]})],f.prototype,"classBreakInfos",void 0);a.__decorate([n.reader("classBreakInfos")],f.prototype,"readClassBreakInfos",null);a.__decorate([n.writer("classBreakInfos")],
f.prototype,"writeClassBreakInfos",null);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"defaultLabel",void 0);a.__decorate([n.property(p.rendererSymbolProperty)],f.prototype,"defaultSymbol",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);a.__decorate([n.cast("field")],f.prototype,"castField",null);a.__decorate([n.property({type:Boolean})],f.prototype,"isMaxInclusive",void 0);a.__decorate([n.property({type:D.default,json:{write:!0}})],
f.prototype,"legendOptions",void 0);a.__decorate([n.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],f.prototype,"minValue",null);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);a.__decorate([n.property({type:Number,cast:function(a){return c.ensureNumber(a)},json:{write:!0}})],
f.prototype,"normalizationTotal",void 0);a.__decorate([n.property({type:w.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:w.jsonValues,read:w.read,write:w.write}})],f.prototype,"normalizationType",null);a.__decorate([n.enumeration({classBreaks:"class-breaks"})],f.prototype,"type",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",
void 0);return f=e=a.__decorate([n.subclass("esri.renderers.ClassBreaksRenderer")],f)}(t.VisualVariablesMixin(f))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y,w,x,v,C,z,u,B,E,F,G,J,K,I,H,M,Q){Object.defineProperty(b,"__esModule",{value:!0});b.ensureType=b.symbolTypesLabel3D=b.symbolTypesRenderer3D=b.symbolTypes3D=b.symbolTypesLabel=b.symbolTypesRenderer=b.readSymbol=b.symbolTypes=b.isSymbol3D=b.isSymbol2D=b.isSymbol=b.WebStyleSymbol=b.WaterSymbol3DLayer=b.TextSymbol3DLayer=b.TextSymbol=b.SimpleMarkerSymbol=b.SimpleLineSymbol=b.SimpleFillSymbol=b.PolygonSymbol3D=b.PointSymbol3D=b.PictureMarkerSymbol=b.PictureFillSymbol=
b.PathSymbol3DLayer=b.ObjectSymbol3DLayer=b.MeshSymbol3D=b.LineSymbol3DLayer=b.LineSymbol3D=b.LineCallout3DBorder=b.LineCallout3D=b.LabelSymbol3D=b.IconSymbol3DLayer=b.Font=b.FillSymbol3DLayer=b.ExtrudeSymbol3DLayer=b.CIMSymbol=b.BaseSymbol3DLayer=b.BaseSymbol3D=b.BaseSymbol=b.BaseMarkerSymbol=b.BaseFillSymbol=void 0;b.CIMSymbol=h;b.ExtrudeSymbol3DLayer=l;b.BaseFillSymbol=e;b.FillSymbol3DLayer=d;b.Font=g;b.IconSymbol3DLayer=n;b.LabelSymbol3D=c;b.LineSymbol3D=k;b.LineSymbol3DLayer=f;b.BaseMarkerSymbol=
t;b.MeshSymbol3D=r;b.ObjectSymbol3DLayer=p;b.PathSymbol3DLayer=D;b.PictureFillSymbol=A;b.PictureMarkerSymbol=y;b.PointSymbol3D=w;b.PolygonSymbol3D=x;b.SimpleFillSymbol=v;b.SimpleLineSymbol=C;b.SimpleMarkerSymbol=z;b.BaseSymbol=u;b.BaseSymbol3D=B;b.BaseSymbol3DLayer=E;b.TextSymbol=F;b.TextSymbol3DLayer=G;b.WaterSymbol3DLayer=J;b.WebStyleSymbol=K;b.LineCallout3D=I;b.LineCallout3DBorder=H;Object.defineProperty(b,"Symbol3DVerticalOffset",{enumerable:!0,get:function(){return M.Symbol3DVerticalOffset}});
Object.defineProperty(b,"fromJSON",{enumerable:!0,get:function(){return Q.fromJSON}});b.isSymbol=function(a){return a instanceof u};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};
b.symbolTypes={base:u,key:"type",typeMap:{"simple-fill":v,"picture-fill":A,"picture-marker":y,"simple-line":C,"simple-marker":z,text:F,"label-3d":c,"line-3d":k,"mesh-3d":r,"point-3d":w,"polygon-3d":x,"web-style":K,cim:h},errorContext:"symbol"};b.readSymbol=m.createTypeReader({types:b.symbolTypes});b.symbolTypesRenderer={base:u,key:"type",typeMap:{"simple-fill":v,"picture-fill":A,"picture-marker":y,"simple-line":C,"simple-marker":z,text:F,"line-3d":k,"mesh-3d":r,"point-3d":w,"polygon-3d":x,"web-style":K,
cim:h},errorContext:"symbol"};b.symbolTypesLabel={base:u,key:"type",typeMap:{text:F,"label-3d":c},errorContext:"symbol"};b.symbolTypes3D={base:u,key:"type",typeMap:{"label-3d":c,"line-3d":k,"mesh-3d":r,"point-3d":w,"polygon-3d":x,"web-style":K},errorContext:"symbol"};b.symbolTypesRenderer3D={base:u,key:"type",typeMap:{"line-3d":k,"mesh-3d":r,"point-3d":w,"polygon-3d":x,"web-style":K},errorContext:"symbol"};b.symbolTypesLabel3D={base:u,key:"type",typeMap:{"label-3d":c},errorContext:"symbol"};b.ensureType=
a.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports tslib ../core/lang ../core/promiseUtils ../core/string ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Symbol".split(" "),function(q,b,a,m,h,l,e,d,g){return function(b){function c(a){a=b.call(this,a)||this;a.data=null;a.type="cim";return a}a.__extends(c,b);g=c;c.prototype.readData=function(a,b){return b};c.prototype.writeData=function(a,b){if(a)for(var c in a)b[c]=a[c]};c.prototype.collectRequiredFields=
function(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,e,g;return a.__generator(this,function(a){switch(a.label){case 0:if("CIMSymbolReference"!==this.data.type)return[3,2];f=this.data;e=f.primitiveOverrides;if(!e)return[3,2];g=e.map(function(a){return d.collectArcadeFieldNames(b,c,a.valueExpressionInfo.expression)});return[4,h.all(g)];case 1:a.sent(),a.label=2;case 2:return[2]}})})};c.prototype.clone=function(){return new g({data:m.clone(this.data)})};c.prototype.hash=function(){return l.numericHash(JSON.stringify(this.data)).toString()};
var g;a.__decorate([e.property({json:{write:!1}})],c.prototype,"color",void 0);a.__decorate([e.property({json:{write:!0}})],c.prototype,"data",void 0);a.__decorate([e.reader("data",["symbol"])],c.prototype,"readData",null);a.__decorate([e.writer("data")],c.prototype,"writeData",null);a.__decorate([e.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],c.prototype,"type",void 0);return c=g=a.__decorate([e.subclass("esri.symbols.CIMSymbol")],c)}(g)})},"esri/layers/support/fieldUtils":function(){define("require exports tslib @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand @dojo/framework/shim/Promise".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c){function k(a,b,c){if(a)for(var f=0;f<a.length;f++){var d=a[f],g=e.getDeepValue(d,b);(g=g&&"function"!==typeof g&&p(c,g))&&e.setDeepValue(d,g.name,b)}}function f(a,b){if(!a||!b)return[];Q.clear();t(Q,a,b);return g.valuesOfSet(Q).sort()}function t(a,b,c){if(c)if(b&&b.length)if(m.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var f=0;f<c.length;f++)d=c[f],r(a,b,d);else if(m.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var d=c[b];
a.add(d)}}function r(a,b,c){b&&b.length?(b=p(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function p(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var f=a[c];if(f&&f.name.toLowerCase()===b)return f}}return null}function D(b,f,d){return a.__awaiter(this,void 0,void 0,function(){var e,g,k,n,p;return a.__generator(this,function(a){switch(a.label){case 0:return d?[4,c.loadArcade()]:[2];case 1:e=a.sent().arcadeUtils;g=e.extractFieldNames(d);k=0;
for(n=g;k<n.length;k++)p=n[k],r(b,f,p);return[2]}})})}function A(a,b){for(var c=0;c<a.length;c++){var f=a[c];if(f&&f.valueType&&f.valueType===b)return f.name}return null}function y(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,d;return a.__generator(this,function(a){if(!c)return[2];f=c.fields;return(d=e.getDeepValue("elevationInfo.featureExpressionInfo",c))?[2,d.collectRequiredFields(b,f)]:[2]})})}function w(b,c,f){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,
function(a){f.outStatistic.onStatisticValueExpression?D(b,c,f.outStatistic.onStatisticValueExpression):b.add(f.outStatistic.onStatisticField);return[2]})})}function x(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,e;return a.__generator(this,function(a){switch(a.label){case 0:return f=c.labelingInfo,e=c.fields,f&&f.length?[4,d.all(f.map(function(a){return v(b,e,a)}))]:[2];case 1:return a.sent(),[2]}})})}function v(b,c,f){return a.__awaiter(this,void 0,void 0,function(){var d,e,g,k,n;
return a.__generator(this,function(a){switch(a.label){case 0:if(!f)return[2];d=f.getLabelExpression();e=f.where;return"arcade"!==d.type?[3,2]:[4,D(b,c,d.expression)];case 1:return a.sent(),[3,3];case 2:(g=d.expression.match(/{[^}]*}/g))&&g.forEach(function(a){r(b,c,a.slice(1,-1))}),a.label=3;case 3:return k=/['"]+/g,e&&(n=e.split(" "),3===n.length&&r(b,c,n[0].replace(k,"")),7===n.length&&(r(b,c,n[0].replace(k,"")),r(b,c,n[4].replace(k,"")))),[2]}})})}function C(a){return"number"===typeof a&&!isNaN(a)&&
isFinite(a)}function z(a){return null===a||C(a)}function u(a){return null===a||V(a)}function B(a){return null!=a&&"string"===typeof a}function E(a){return null===a||B(a)}function F(){return!0}function G(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?u:V;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?z:C;break;case "string":case "esriFieldTypeString":c=a.nullable?E:B;break;default:c=F}return 1===arguments.length?c:c(b)}function J(a){return null!=a&&W.has(a.type)}function K(a,b){return a.nullable&&null===b?null:J(a)&&!I(a.type,Number(b))?X.OUT_OF_RANGE:G(a,b)?a.domain?n.validateDomainValue(a.domain,b):null:P.INVALID_TYPE}function I(a,b){return(a="string"===typeof a?H(a):a)?a.isInteger?V(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function H(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}function M(a,b,c){if(!b||!b.attributes||!a){if(l.isSome(c))for(var f=0;f<a.length;f++)b=a[f],c.add(b);return!0}for(var f=b.attributes,d=!1,e=0;e<a.length;e++)if(b=a[e],!(b in f))if(d=!0,l.isSome(c))c.add(b);else break;return d}Object.defineProperty(b,"__esModule",{value:!0});b.getExpressionFields=b.populateMissingFields=
b.featureHasFields=b.validationErrorToString=b.doubleRange=b.singleRange=b.integerRange=b.smallIntegerRange=b.getNumericTypeForValue=b.getFieldRange=b.isNumberInRange=b.validateFieldValue=b.sanitizeNullFieldValue=b.TypeValidationError=b.NumericRangeValidationError=b.isValidFieldValue=b.isDateField=b.isStringField=b.isNumericField=b.numericTypes=b.isValueMatchingFieldType=b.getFieldDefaultValue=b.collectLabelingFields=b.getLabelingFields=b.getFeatureGeometryFields=b.getFeatureEditFields=b.getTimeFields=
b.collectFilterFields=b.collectFeatureReductionFields=b.collectElevationFields=b.getElevationFields=b.getDisplayFieldName=b.collectArcadeFieldNames=b.hasField=b.getField=b.packFields=b.unpackFieldNames=b.collectField=b.collectFields=b.fixFields=b.fixTimeInfoFields=b.fixRendererFields=b.visualVariableFields=b.rendererFields=void 0;b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=function(a,c){if(null!=a&&null!=c){var f=0;for(a=Array.isArray(a)?a:[a];f<a.length;f++){var d=a[f];k(b.rendererFields,d,c);if("visualVariables"in d&&d.visualVariables)for(var e=0,d=d.visualVariables;e<d.length;e++)k(b.visualVariableFields,d[e],c)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=p(b,a.startField);b=p(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=
p(b,a.startTimeField),b=p(b,a.endTimeField),a.startTimeField=c&&c.name||null,a.endTimeField=b&&b.name||null};var Q=new Set;b.fixFields=f;b.collectFields=t;b.collectField=r;b.unpackFieldNames=function(a,b){return b&&a?m.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(m.includes(b,"*"))return["*"];b=f(a,b);return b.length/a.length>=c?["*"]:b};b.getField=p;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var c=0;c<a.length;c++){var f=a[c];if(f&&f.name.toLowerCase()===b)return!0}return!1};b.collectArcadeFieldNames=D;b.getDisplayFieldName=function(a){var b=a.displayField;a=a.fields;if(b)return b;if(!a||!a.length)return null;if(!(b=A(a,"name-or-title")||A(a,"unique-identifier")||A(a,"type-or-category")))a:{for(b=0;b<a.length;b++){var c=a[b];if(c&&c.name){var f=c.name.toLowerCase();if(-1<f.indexOf("name")||-1<f.indexOf("title")){b=c.name;break a}}}b=null}return b};b.getElevationFields=function(b){return a.__awaiter(this,
void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:if(!b)return[2,[]];c=new Set;return[4,y(c,b)];case 1:return a.sent(),[2,g.valuesOfSet(c).sort()]}})})};b.collectElevationFields=y;b.collectFeatureReductionFields=function(b,c,f){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return c&&f&&"cluster"===f.type&&f.fields?[4,d.all(f.fields.map(function(a){return w(b,c.fields,a)}))]:[2];case 1:return a.sent(),
[2]}})})};b.collectFilterFields=function(b,c,f){return a.__awaiter(this,void 0,void 0,function(){var d,e;return a.__generator(this,function(a){switch(a.label){case 0:if(!c||!f||!(f.where&&"1\x3d1"!==f.where||f.timeExtent))return[2];c.timeInfo&&f.timeExtent&&t(b,c.fields,[c.timeInfo.startField,c.timeInfo.endField]);return f.where?[4,new Promise(function(a,b){q(["../../core/sql/WhereClause"],a,b)})]:[3,2];case 1:d=a.sent();e=d.WhereClause.create(f.where,c.fieldsIndex);if(!e.isStandardized)throw new h("fieldUtils:collectFilterFields",
"Where clause is not standardized");t(b,c.fields,e.fieldNames);a.label=2;case 2:return[2]}})})};b.getTimeFields=function(b){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){return b?(c="timeInfo"in b&&b.timeInfo)?[2,f(b.fields,[b.trackIdField,c.startField,c.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?f(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,
b&&b.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?f(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=function(b){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:if(!b)return[2,[]];c=new Set;return[4,x(c,b)];case 1:return a.sent(),[2,g.valuesOfSet(c).sort()]}})})};b.collectLabelingFields=x;b.getFieldDefaultValue=
function(a){var b=a.defaultValue;if(void 0!==b&&G(a,b))return b;if(a.nullable)return null};var V=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=G;b.numericTypes=["integer","small-integer","single","double"];var W=g.SetFromValues(a.__spreadArrays(b.numericTypes,["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=J;b.isStringField=
function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,b){return null===K(a,b)};var X;(X=b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var P;(P=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==
a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=K;b.isNumberInRange=I;b.getFieldRange=function(a){var b=n.getDomainRange(a.domain);if(b)return b;if(J(a))return H(a.type)};b.getNumericTypeForValue=function(a){if(!C(a))return null;if(V(a)){if(a>=b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};
b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,b,c){switch(a){case n.DomainValidationError.INVALID_CODED_VALUE:return"Value "+c+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case n.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+
c+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case P.INVALID_TYPE:return"Value "+c+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case X.OUT_OF_RANGE:return a=H(b.type),"Value "+c+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,b){return!M(a,b,null)};b.populateMissingFields=M;b.getExpressionFields=
function(b,c){return a.__awaiter(this,void 0,void 0,function(){var f,d,e,k;return a.__generator(this,function(a){switch(a.label){case 0:f=new Set,d=0,e=c,a.label=1;case 1:if(!(d<e.length))return[3,4];k=e[d];return[4,D(f,b.fields,k)];case 2:a.sent(),a.label=3;case 3:return d++,[3,1];case 4:return[2,g.valuesOfSet(f).sort()]}})})}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(q,
b,a,m,h,l,e){function d(a,b){switch(a.type){case "range":var c="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return g.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return g.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJSON=b.getDomainRange=b.types=b.validateDomainValue=b.isValidDomainValue=b.DomainValidationError=b.RangeDomain=
b.InheritedDomain=b.DomainBase=b.CodedValueDomain=void 0;b.CodedValueDomain=m;b.DomainBase=h;b.InheritedDomain=l;b.RangeDomain=e;var g;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(g=b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===d(a,b)};b.validateDomainValue=d;b.types={key:"type",base:h,typeMap:{range:e,"coded-value":m,inherited:l}};b.getDomainRange=
function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(b){if(!b||!b.type)return null;switch(b.type){case "range":return e.fromJSON(b);case "codedValue":return m.fromJSON(b);case "inherited":return l.fromJSON(b);default:a.neverReached(b)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),
function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}a.__extends(d,b);e=d;d.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};d.prototype.clone=function(){return new e({codedValues:m.clone(this.codedValues),name:this.name})};var e;a.__decorate([h.property({type:[l.default],json:{write:!0}})],d.prototype,"codedValues",
void 0);a.__decorate([h.enumeration({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=e=a.__decorate([h.subclass("esri.layers.support.CodedValueDomain")],d)}(e)})},"esri/layers/support/CodedValue":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.CodedValue=void 0;q=function(b){function e(a){a=b.call(this,a)||this;a.name=null;a.code=null;return a}a.__extends(e,
b);d=e;e.prototype.clone=function(){return new d({name:this.name,code:this.code})};var d;a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);a.__decorate([h.property({type:[String,Number],json:{write:!0}})],e.prototype,"code",void 0);return e=d=a.__decorate([h.subclass("esri.layers.support.CodedValue")],e)}(m.JSONSupport);b.CodedValue=q;b.default=q})},"esri/layers/support/Domain":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(q,b,a,m,h,l){var e=new m.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(b){function d(a){a=b.call(this,a)||this;a.name=null;a.type=null;return a}a.__extends(d,b);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a.__decorate([l.enumeration(e)],d.prototype,"type",void 0);return d=a.__decorate([l.subclass("esri.layers.support.Domain")],d)}(h.JSONSupport)})},"esri/layers/support/InheritedDomain":function(){define(["require",
"exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.type="inherited";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d};var d;a.__decorate([m.enumeration({inherited:"inherited"})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.layers.support.InheritedDomain")],e)}(h)})},"esri/layers/support/RangeDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators",
"./Domain"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.maxValue=null;a.minValue=null;a.type="range";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var d;a.__decorate([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer:function(a,b,c){b[c]=[this.minValue||0,a]}}}})],e.prototype,"maxValue",void 0);a.__decorate([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,c){b[c]=[a,this.maxValue||0]}}}})],e.prototype,"minValue",void 0);a.__decorate([m.enumeration({range:"range"})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.layers.support.RangeDomain")],e)}(h)})},"esri/support/arcadeOnDemand":function(){define("require exports tslib ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(q,b,a,m,h,l){function e(){return a.__awaiter(this,void 0,void 0,function(){var b=this;return a.__generator(this,function(c){d||(d=function(){return a.__awaiter(b,void 0,void 0,function(){var b;return a.__generator(this,function(a){switch(a.label){case 0:return[4,new Promise(function(a,b){q(["./arcadeUtils"],a,b)})];case 1:return b=a.sent(),[4,b.arcade.load()];case 2:return a.sent(),[2,{arcade:b.arcade,arcadeUtils:b,Dictionary:b.Dictionary,Feature:b.arcadeFeature}]}})})}());return[2,d]})})}
Object.defineProperty(b,"__esModule",{value:!0});b.ArcadeExpression=b.createDictionaryExpression=b.createVVExpression=b.createRendererExpression=b.createLabelExpression=b.loadArcade=void 0;var d;b.loadArcade=e;b.createLabelExpression=function(a,b,d){return g.create(a,b,d,null,["$feature"])};b.createRendererExpression=function(a,b,d){return g.create(a,b,d,null,["$feature","$view"])};b.createVVExpression=b.createRendererExpression;b.createDictionaryExpression=function(a,b,d,f){return g.create(a,b,d,
f,["$feature","$view"])};var g=function(){function b(a,b,f,d,e,g,n,h){this.script=a;this.evaluate=e;this.fields=n;this._syntaxTree=d;this._arcade=b;this._arcadeDictionary=f;this._arcadeFeature=g;this._spatialReference=h;this._referencesGeometry=b.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}b.create=function(c,d,f,g,n,p){return a.__awaiter(this,void 0,void 0,function(){var k,r,t,w,x,v,C,z,u,B,E,F,G,q,K;return a.__generator(this,
function(D){switch(D.label){case 0:return[4,e()];case 1:return k=D.sent(),r=k.arcade,t=k.Feature,w=k.Dictionary,x=m.SpatialReference.fromJSON(d),v=r.parseScript(c,p),C=n.reduce(function(b,c){var f;return a.__assign(a.__assign({},b),(f={},f[c]=null,f))},{}),z=null,h.isSome(g)&&(z=new w(g),z.immutable=!0,C.$config=null),u=r.scriptUsesGeometryEngine(v)&&r.enableGeometrySupport(),B=r.scriptUsesFeatureSet(v)&&r.enableFeatureSetSupport(),E=r.scriptIsAsync(v)&&r.enableAsyncSupport(),F={vars:C,spatialReference:x,
useAsync:!!E},G=new w,G.immutable=!1,G.setField("scale",0),q=r.compileScript(v,F),K=function(a){"$view"in a&&a.$view&&(G.setField("scale",a.$view.scale),a.$view=G);z&&(a.$config=z);return q({vars:a,spatialReference:x})},[4,l.all([u,B,E])];case 2:return D.sent(),[2,new b(c,r,w,v,K,new t,f,x)]}})})};b.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,
{fields:this.fields});return this._arcadeFeature};b.prototype.repurposeAdapter=function(a){this._arcadeFeature.repurposeFromAdapter(a,{fields:this.fields});return this._arcadeFeature};b.prototype.createDictionary=function(){return new this._arcadeDictionary};b.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};b.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};b.prototype.referencesGeometry=function(){return this._referencesGeometry};
b.prototype.referencesScale=function(){return this._referencesScale};b.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return b}();b.ArcadeExpression=g;b.default=g})},"esri/symbols/Symbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l,e){var d=new h.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",
esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),g=0;return function(b){function c(a){a=b.call(this,a)||this;a.id="sym"+g++;a.type=null;return a}a.__extends(c,b);Object.defineProperty(c.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!1,configurable:!0});c.prototype.readColor=function(a){return a&&
null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};c.prototype.collectRequiredFields=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){return[2]})})};c.prototype.hash=function(){return JSON.stringify(this.toJSON())};c.prototype.clone=function(){};a.__decorate([e.property({type:d.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],c.prototype,"type",void 0);a.__decorate([e.property({type:m,value:new m([0,0,0,1]),json:{write:{allowNull:!0}}})],
c.prototype,"color",null);a.__decorate([e.reader("color")],c.prototype,"readColor",null);return c=a.__decorate([e.subclass("esri.symbols.Symbol")],c)}(l.JSONSupport)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(q,b,a,m,h,l,e,d){return function(b){function g(a){a=b.call(this,a)||this;a.type="extrude";a.size=1;a.material=null;a.castShadows=
!0;a.edges=null;return a}a.__extends(g,b);c=g;g.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;a.__decorate([h.enumeration({Extrude:"extrude"},{readOnly:!0})],g.prototype,"type",void 0);a.__decorate([h.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],g.prototype,"size",void 0);a.__decorate([h.property({type:d.default,
json:{write:!0}})],g.prototype,"material",void 0);a.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0);a.__decorate([h.property(e.symbol3dEdgesProperty)],g.prototype,"edges",void 0);return g=c=a.__decorate([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],g)}(l)})},"esri/symbols/Symbol3DLayer":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=
b.call(this,a)||this;a.enabled=!0;a.type=null;return a}a.__extends(e,b);e.prototype.writeEnabled=function(a,b,e){a||(b[e]=a)};a.__decorate([h.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],e.prototype,"enabled",void 0);a.__decorate([h.writer("enabled")],e.prototype,"writeEnabled",null);a.__decorate([h.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],e.prototype,"type",void 0);return e=a.__decorate([h.subclass("esri.symbols.Symbol3DLayer")],
e)}(m.JSONSupport)})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.symbol3dEdgesProperty=void 0;b.symbol3dEdgesProperty={types:{key:"type",base:a,typeMap:{solid:h,sketch:m}},json:{write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,b,a,m,h,l,e,d,g){return function(b){function c(a){a=b.call(this,a)||this;a.color=new m([0,0,0,1]);a.extensionLength=0;a.size=e.px2pt(1);return a}a.__extends(c,b);c.prototype.clone=function(){};c.prototype.cloneProperties=function(){return{color:l.clone(this.color),size:this.size,extensionLength:this.extensionLength}};a.__decorate([d.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);a.__decorate([d.property(g.colorAndTransparencyProperty)],
c.prototype,"color",void 0);a.__decorate([d.property(a.__assign(a.__assign({},g.screenSizeProperty),{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],c.prototype,"extensionLength",void 0);a.__decorate([d.property(g.screenSizeProperty)],c.prototype,"size",void 0);return c=a.__decorate([d.subclass("esri.symbols.edges.Edges3D")],c)}(h.JSONSupport)})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(q,b,a){function m(a){return a?72*a/96:0}function h(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function g(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function n(a){return h(a.x,a.y)}function c(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return h(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,
"__esModule",{value:!0});b.isSupportedScreenPointEvent=b.createScreenPointFromSupportedEvent=b.createScreenPointFromNativeEvent=b.createScreenPointFromEvent=b.screenPointObjectToArray=b.screenPointArrayToObject=b.renderArrayToScreen=b.screenArrayToRender=b.renderToScreen=b.screenToRender=b.castScreenPointArray=b.castRenderScreenPointArray3=b.castRenderScreenPointArray=b.createRenderScreenPointArray3=b.createRenderScreenPointArray=b.createRenderScreenPoint=b.createScreenPointArray=b.createScreenPoint=
b.toPt=b.px2pt=b.pt2px=void 0;var k=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.pt2px=function(a){return a?a/72*96:0};b.px2pt=m;b.toPt=function(a){if("string"===typeof a){if(k.test(a)){var b=a.match(k),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?m(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=h;b.createScreenPointArray=l;b.createRenderScreenPoint=e;b.createRenderScreenPointArray=d;b.createRenderScreenPointArray3=
function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,b,c){var d,k;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;k=b.y*a;break;case "3d":g(b,t),a.state.camera.screenToRender(t,f),d=f[0],k=f[1]}return c?(c.x=d,c.y=k,c):e(d,k)};b.renderToScreen=function(a,b,c){var d,e;switch(a.type){case "2d":a=
window.devicePixelRatio||1;d=b.x/a;e=b.y/a;break;case "3d":g(b,f),a.state.camera.renderToScreen(f,t),d=t[0],e=t[1]}return c?(c.x=d,c.y=e,c):h(d,e)};b.screenArrayToRender=function(a,b,c){var e,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b[0]*a;g=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,f),e=f[0],g=f[1]}return c?(c[0]=e,c[1]=g,2<c.length&&(c[2]=0),c):d(e,g)};b.renderArrayToScreen=function(a,b,c){var f,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;f=b[0]/a;d=b[0]/
a;break;case "3d":a.state.camera.renderToScreen(b,t),f=t[0],d=t[1]}return c?(c[0]=f,c[1]=d,c):l(f,d)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=g;b.createScreenPointFromEvent=n;b.createScreenPointFromNativeEvent=c;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?c(a,b):n(b)};b.isSupportedScreenPointEvent=function(b){if(b instanceof Event)return!0;if("object"===typeof b&&"type"in b)switch(b=b.type,
b){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:a.neverReachedSilent(b)}return!1};var f=d(),t=l()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(q,b,a,m,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.stipplePatternProperty=b.screenSizeProperty=b.colorAndTransparencyProperty=void 0;b.colorAndTransparencyProperty={type:a,json:{type:[h.Integer],default:null,read:{source:["color","transparency"],reader:function(b,d){b=null!=d.transparency?l.transparencyToOpacity(d.transparency):1;return(d=d.color)&&Array.isArray(d)?new a([d[0]||0,d[1]||0,d[2]||0,b]):null}},write:{target:{color:{type:[h.Integer]},transparency:{type:h.Integer}},
writer:function(a,b){b.color=a.toJSON().slice(0,3);a=l.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};b.screenSizeProperty={type:Number,cast:m.toPt,json:{write:!0}};b.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?a.map(m.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.transparencyToOpacity=
b.opacityToTransparency=void 0;b.opacityToTransparency=function(b){b=a.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};b.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.type="sketch";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d(this.cloneProperties())};
var d;a.__decorate([m.enumeration({sketch:"sketch"},{readOnly:!0})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.symbols.edges.SketchEdges3D")],e)}(h)})},"esri/symbols/edges/SolidEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.type="solid";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d(this.cloneProperties())};var d;
a.__decorate([m.enumeration({solid:"solid"},{readOnly:!0})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.symbols.support.SolidEdges3D")],e)}(h)})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports tslib ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DMaterial=void 0;q=function(b){function d(){var a=null!==b&&b.apply(this,
arguments)||this;a.color=null;return a}a.__extends(d,b);n=d;d.prototype.clone=function(){return new n({color:h.isSome(this.color)?this.color.clone():null})};var n;a.__decorate([l.property(e.colorAndTransparencyProperty)],d.prototype,"color",void 0);return d=n=a.__decorate([l.subclass("esri.symbols.support.Symbol3DMaterial")],d)}(m.JSONSupport);b.Symbol3DMaterial=q;b.default=q})},"esri/symbols/FillSymbol":function(){define("require exports tslib ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.outline=null;a.type=null;return a}a.__extends(d,b);d.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};a.__decorate([m.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":h}},json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([m.property({type:["simple-fill","picture-fill"],readOnly:!0})],d.prototype,"type",void 0);return d=
a.__decorate([m.subclass("esri.symbols.FillSymbol")],d)}(l)})},"esri/symbols/SimpleLineSymbol":function(){define("require exports tslib ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol ./LineSymbolMarker".split(" "),function(q,b,a,m,h,l,e,d,g){var n=new m.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",
esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(b){function c(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.type="simple-line";a.style="solid";a.cap="round";a.join="round";a.marker=null;a.miterLimit=2;return a}a.__extends(c,b);f=c;c.prototype.normalizeCtorArgs=function(a,b,c,f,d,e){if(a&&"string"!==typeof a)return a;var g=
{};null!=a&&(g.style=a);null!=b&&(g.color=b);null!=c&&(g.width=l.toPt(c));null!=f&&(g.cap=f);null!=d&&(g.join=d);null!=e&&(g.miterLimit=l.toPt(e));return g};c.prototype.clone=function(){var a;return new f({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null===(a=this.marker)||void 0===a?void 0:a.clone()})};c.prototype.hash=function(){var a,c;return b.prototype.hash.call(this)+"."+(null===(a=this.color)||void 0===a?void 0:a.hash())+
"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit+"."+(null===(c=this.marker)||void 0===c?void 0:c.hash())};var f;a.__decorate([e.enumeration({esriSLS:"simple-line"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([e.property({type:n.apiValues,json:{read:n.read,write:n.write}})],c.prototype,"style",void 0);a.__decorate([e.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],c.prototype,
"cap",void 0);a.__decorate([e.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],c.prototype,"join",void 0);a.__decorate([e.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":g}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"marker",void 0);a.__decorate([e.property({type:Number,json:{read:!1,write:!1}})],c.prototype,"miterLimit",void 0);return c=
f=a.__decorate([e.subclass("esri.symbols.SimpleLineSymbol")],c)}(d)})},"esri/symbols/LineSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="simple-line";a.width=.75;return a}a.__extends(d,b);d.prototype.hash=function(){return this.type+"."+this.width};a.__decorate([h.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);
a.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=a.__decorate([h.subclass("esri.symbols.LineSymbol")],d)}(l)})},"esri/symbols/LineSymbolMarker":function(){define("require exports tslib ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.placement="begin-end";a.type="line-marker";a.style="arrow";return a}a.__extends(d,b);n=d;
d.prototype.writeStyle=function(a,b,f,d){b[f]="web-map"===(null===d||void 0===d?void 0:d.origin)?"arrow":a};Object.defineProperty(d.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!1,configurable:!0});d.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};d.prototype.writeColor=function(a,b,f,d){"web-map"!==(null===d||void 0===d?void 0:d.origin)&&(b[f]=a)};d.prototype.clone=function(){return new n({color:l.clone(this.color),placement:this.placement,
style:this.style})};d.prototype.hash=function(){var a;return this.placement+"."+(null===(a=this.color)||void 0===a?void 0:a.hash())+"."+this.style};var n;a.__decorate([e.property({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],d.prototype,"placement",void 0);a.__decorate([e.enumeration({"line-marker":"line-marker"},{readOnly:!0}),e.property({json:{origins:{"web-map":{write:!1}}}})],d.prototype,"type",void 0);a.__decorate([e.property({type:"arrow circle square diamond cross x".split(" ")})],
d.prototype,"style",void 0);a.__decorate([e.writer("style")],d.prototype,"writeStyle",null);a.__decorate([e.property({type:m,value:null,json:{write:{allowNull:!0}}})],d.prototype,"color",null);a.__decorate([e.reader("color")],d.prototype,"readColor",null);a.__decorate([e.writer("color")],d.prototype,"writeColor",null);return d=n=a.__decorate([e.subclass("esri.symbols.LineSymbolMarker")],d)}(h.JSONSupport)})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k){return function(b){function f(a){a=b.call(this,a)||this;a.type="fill";a.material=null;a.pattern=null;a.castShadows=!0;a.outline=null;a.edges=null;return a}a.__extends(f,b);l=f;f.prototype.clone=function(){return new l({edges:m.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,pattern:m.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:m.isSome(this.outline)?
this.outline.clone():null})};f.fromSimpleFillSymbol=function(a){return new l({material:{color:(a.color||n.transparentWhite).clone()},pattern:a.style&&"solid"!==a.style?new d({style:a.style}):null,outline:a.outline?new k.default({size:a.outline.width||0,color:(a.outline.color||n.white).clone()}):null})};var l;a.__decorate([h.enumeration({Fill:"fill"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([h.property({type:c.default,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([h.property(g.symbol3dPatternProperty)],
f.prototype,"pattern",void 0);a.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0);a.__decorate([h.property({type:k.default,json:{write:!0}})],f.prototype,"outline",void 0);a.__decorate([h.property(e.symbol3dEdgesProperty)],f.prototype,"edges",void 0);return f=l=a.__decorate([h.subclass("esri.symbols.FillSymbol3DLayer")],f)}(l)})},"esri/symbols/patterns/StylePattern3D":function(){define("require exports tslib ../../core/accessorSupport/decorators ./Pattern3D ./styles".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="style";a.style="solid";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({style:this.style})};var e;a.__decorate([m.property({type:["style"]})],d.prototype,"type",void 0);a.__decorate([m.property({type:l,json:{read:!0,write:!0}})],d.prototype,"style",void 0);return d=e=a.__decorate([m.subclass("esri.symbols.patterns.StylePattern3D")],d)}(h)})},"esri/symbols/patterns/Pattern3D":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){return b.call(this,a)||this}a.__extends(e,b);e.prototype.clone=function(){};a.__decorate([h.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);return e=a.__decorate([h.subclass("esri.symbols.patterns.Pattern3D")],e)}(m.JSONSupport)})},"esri/symbols/patterns/styles":function(){define(["require","exports"],function(q,
b){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},"esri/symbols/patterns/utils":function(){define(["require","exports","./Pattern3D","./StylePattern3D"],function(q,b,a,m){function h(a,b,d){if(!a)return a;switch(a.type){case "style":return b=new m,b.read(a,d),b}}Object.defineProperty(b,"__esModule",{value:!0});b.symbol3dPatternProperty=b.read=void 0;b.read=h;b.symbol3dPatternProperty={types:{key:"type",base:a,typeMap:{style:m}},json:{read:h,
write:!0}}})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.isBlack=b.transparentWhite=b.black=b.white=void 0;b.white=new a("white");b.black=new a("black");b.transparentWhite=new a([255,255,255,0]);b.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(q,b,a,m,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DFillMaterial=void 0;q=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({color:m.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var e;a.__decorate([h.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],d.prototype,"colorMixMode",void 0);return d=e=a.__decorate([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],
d)}(l.default);b.Symbol3DFillMaterial=q;b.default=q})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,b,a,m,h,l,e,d,g){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DOutline=void 0;q=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new m([0,0,0,1]);a.size=e.px2pt(1);a.stipplePattern=
null;a.stippleOffColor=null;return a}a.__extends(c,b);k=c;c.prototype.clone=function(){return new k({color:l.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var k;a.__decorate([d.property(g.colorAndTransparencyProperty)],c.prototype,"color",void 0);a.__decorate([d.property(g.screenSizeProperty)],c.prototype,"size",void 0);a.__decorate([d.property(g.stipplePatternProperty)],
c.prototype,"stipplePattern",void 0);a.__decorate([d.property({type:m})],c.prototype,"stippleOffColor",void 0);return c=k=a.__decorate([d.subclass("esri.symbols.support.Symbol3DOutline")],c)}(h.JSONSupport);b.Symbol3DOutline=q;b.default=q})},"esri/symbols/Font":function(){define("require exports tslib ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.decoration="none";a.family="sans-serif";
a.size=9;a.style="normal";a.weight="normal";return a}a.__extends(d,b);e=d;d.prototype.castSize=function(a){return h.toPt(a)};d.prototype.clone=function(){return new e({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};d.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};var e;a.__decorate([l.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],d.prototype,"decoration",
void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"family",void 0);a.__decorate([l.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:!d||!d.textSymbol3D}}}}})],d.prototype,"size",void 0);a.__decorate([l.cast("size")],d.prototype,"castSize",null);a.__decorate([l.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],d.prototype,"style",void 0);a.__decorate([l.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
write:!0}})],d.prototype,"weight",void 0);return d=e=a.__decorate([l.subclass("esri.symbols.Font")],d)}(m.JSONSupport)})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports tslib ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,
k,f,t){function r(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,f=p(a.xoffset);a=p(a.yoffset);return(f||a)&&b&&c?{x:-f/b,y:a/c}:null}function p(a){return isFinite(a)?a:0}var D=m.getLogger("esri.symbols.IconSymbol3DLayer"),A={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(b){function d(a){a=b.call(this,a)||this;a.material=null;a.resource=null;a.type="icon";a.size=12;a.anchor="center";a.anchorPosition=void 0;a.outline=
void 0;return a}a.__extends(d,b);p=d;d.prototype.clone=function(){return new p({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};d.fromSimpleMarkerSymbol=function(a){var b=a.color||g.white,c=r(a),f=a.outline&&0<a.outline.width?{size:a.outline.width,color:(a.outline.color||
g.white).clone()}:null,d=p,e=a.size;a=a.style;var k=A[a];k?a=k:(D.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new d({size:e,resource:{primitive:a},material:{color:b},outline:f,anchor:c?"relative":void 0,anchorPosition:c})};d.fromPictureMarkerSymbol=function(a){var b=!a.color||g.isBlack(a.color)?g.white:a.color,c=r(a);return new p({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":void 0,anchorPosition:c})};
d.fromCIMSymbol=function(a){return new p({resource:{href:l.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var p;a.__decorate([e.property({type:f.default,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([e.property({type:n.default,json:{write:!0}})],d.prototype,"resource",void 0);a.__decorate([e.enumeration({Icon:"icon"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([e.property(c.screenSizeProperty)],d.prototype,"size",void 0);a.__decorate([e.enumeration({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),e.property({json:{default:"center"}})],d.prototype,"anchor",void 0);a.__decorate([e.property({type:k.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new k.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===
this.anchor}}}}})],d.prototype,"anchorPosition",void 0);a.__decorate([e.property({type:t.default,json:{write:!0}})],d.prototype,"outline",void 0);return d=p=a.__decorate([e.subclass("esri.symbols.IconSymbol3DLayer")],d)}(d)})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),function(q,b,a,m,h,l,e,d){Object.defineProperty(b,
"__esModule",{value:!0});b.defaultPrimitive=b.IconSymbol3DLayerResource=void 0;var g=m.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});q=function(b){function c(a){return b.call(this,a)||this}a.__extends(c,b);k=c;c.prototype.readHref=function(a,b,c){return a?d.fromJSON(a,c):b.dataURI};c.prototype.writeHref=function(a,b,c,e){a&&(l.isDataProtocol(a)?b.dataURI=a:(b.href=d.toJSON(a,e),l.isAbsolute(b.href)&&(b.href=l.normalize(b.href))))};c.prototype.clone=
function(){return new k({href:this.href,primitive:this.primitive})};var k;a.__decorate([e.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],c.prototype,"href",void 0);a.__decorate([e.reader("href")],c.prototype,"readHref",null);a.__decorate([e.writer("href",{href:{type:String},dataURI:{type:String}})],c.prototype,"writeHref",null);a.__decorate([e.enumeration(g)],c.prototype,"primitive",void 0);return c=k=a.__decorate([e.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
c)}(h.JSONSupport);b.IconSymbol3DLayerResource=q;b.defaultPrimitive="circle";b.default=q})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DAnchorPosition2D=void 0;q=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({x:this.x,
y:this.y})};var d;a.__decorate([h.property({type:Number})],e.prototype,"x",void 0);a.__decorate([h.property({type:Number})],e.prototype,"y",void 0);return e=d=a.__decorate([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],e)}(m);b.Symbol3DAnchorPosition2D=q;b.default=q})},"esri/symbols/LabelSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(q,b,a,m,h,l,e,d,g,n){var c=m.ofType({base:null,key:"type",typeMap:{text:d}});return function(b){function f(a){a=b.call(this,a)||this;a.verticalOffset=null;a.callout=null;a.styleOrigin=null;a.symbolLayers=new c;a.type="label-3d";return a}a.__extends(f,b);e=f;f.prototype.supportsCallout=function(){return!0};f.prototype.hasVisibleCallout=function(){return g.hasVisibleCallout(this)};f.prototype.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)};f.prototype.clone=function(){return new e({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};f.fromTextSymbol=function(a){return new e({symbolLayers:[d.fromTextSymbol(a)]})};var e;a.__decorate([l.property({type:n.default,json:{write:!0}})],f.prototype,"verticalOffset",void 0);a.__decorate([l.property(g.calloutProperty)],f.prototype,"callout",void 0);a.__decorate([l.property({json:{read:!1,write:!1}})],f.prototype,"styleOrigin",void 0);a.__decorate([l.property({type:c})],
f.prototype,"symbolLayers",void 0);a.__decorate([l.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],f.prototype,"type",void 0);return f=e=a.__decorate([l.subclass("esri.symbols.LabelSymbol3D")],f)}(e)})},"esri/core/Collection":function(){define("require exports tslib ./ArrayPool ./arrayUtils ./Evented ./lang ./maybe ./ObjectPool ./scheduling ./accessorSupport/ensureType ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,k,f){function t(a){return a?
a instanceof z?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function r(a){if(a&&a.length)return a[0]}function p(a,b,c,f){b&&b.forEach(function(b,d,e){a.push(b);p(a,c.call(f,b,d,e),c,f)})}q=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var D=new g(q,void 0,function(a){a.item=
null;a.target=null;a.defaultPrevented=!1;a.cancellable=!1}),A=function(){},y=new Set,w=new Set,x=new Set,v=new Map,C=0,z=function(b){function g(a){a=b.call(this,a)||this;a._chgListeners=[];a._notifications=null;a._timer=null;a.length=0;a._items=[];Object.defineProperty(a,"uid",{value:C++});return a}a.__extends(g,b);l=g;g.isCollection=function(a){return null!=a&&a instanceof l};g.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof l?{items:a}:a:{}};Object.defineProperty(g.prototype,
"items",{get:function(){return this._items},set:function(b){this._emitBeforeChanges(1)||(this._splice.apply(this,a.__spreadArrays([0,this.length],t(b))),this._emitAfterChanges(1))},enumerable:!1,configurable:!0});g.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};g.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,f={removed:!1,callback:b};c.push(f);this._notifications&&this._notifications.push({listeners:c.slice(),
items:this._items.slice(),changes:[]});return{remove:function(){this.remove=A;f.removed=!0;c.splice(c.indexOf(f),1)}}}return this._emitter.on(a,b)};g.prototype.once=function(a,b){var c=this.on(a,b);return{remove:function(){c.remove()}}};g.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(null!==b&&void 0!==b?b:null);this._splice(b,0,a);this._emitAfterChanges(1);return this};g.prototype.addMany=function(b,c){void 0===c&&(c=this._items.length);if(!b||!b.length||
this._emitBeforeChanges(1))return this;c=this.getNextIndex(c);this._splice.apply(this,a.__spreadArrays([c,0],t(b)));this._emitAfterChanges(1);return this};g.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};g.prototype.clone=function(){return this._createNewInstance({items:this._items.map(e.clone)})};g.prototype.concat=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=
b.map(t);return this._createNewInstance({items:(a=this._items).concat.apply(a,b)})};g.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var c=d.assumeNonNull(this._splice(0,this.length)),f=c.length,e=0;e<f;e++)a.call(b,c[e],e,c);this._emitAfterChanges(2)}};g.prototype.every=function(a,b){return this._items.every(a,b)};g.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};g.prototype.find=
function(a,b){return h.find(this._items,a,b)};g.prototype.findIndex=function(a,b){return h.findIndex(this._items,a,b)};g.prototype.flatten=function(a,b){var c=[];p(c,this,a,b);return new l(c)};g.prototype.forEach=function(a,b){return this._items.forEach(a,b)};g.prototype.getItemAt=function(a){return this._items[a]};g.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};g.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,
b):!1};g.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};g.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};g.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};g.prototype.map=function(a,b){a=this._items.map(a,b);return new l({items:a})};g.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges(4))return a;
this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};g.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=r(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};g.prototype.push=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,a.__spreadArrays([this.length,0],b));this._emitAfterChanges(1);return this.length};g.prototype.reduce=function(a,b){var c=
this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};g.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};g.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};g.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=r(this._splice(a,1)),this._emitAfterChanges(2),a};g.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof
l?a.toArray():a;for(var b=this._items,c=[],f=a.length,d=0;d<f;d++){var e=b.indexOf(a[d]);if(-1<e){for(var g=d+1,k=e+1,n=Math.min(a.length-g,b.length-k),h=0;h<n&&a[g+h]===b[k+h];)h++;g=1+h;(e=this._splice(e,g))&&0<e.length&&c.push.apply(c,e);d+=g-1}}this._emitAfterChanges(2);return c};g.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);b&&(b.reverse(),this._splice.apply(this,a.__spreadArrays([0,0],b)));this._emitAfterChanges(4);return this};g.prototype.shift=
function(){if(this.length&&!this._emitBeforeChanges(2)){var a=r(this._splice(0,1));this._emitAfterChanges(2);return a}};g.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};g.prototype.some=function(a,b){return this._items.some(a,b)};g.prototype.sort=function(b){if(!this.length||this._emitBeforeChanges(4))return this;var c=d.assumeNonNull(this._splice(0,this.length));arguments.length?c.sort(b):c.sort();this._splice.apply(this,
a.__spreadArrays([0,0],c));this._emitAfterChanges(4);return this};g.prototype.splice=function(b,c){for(var f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];d=(c?2:0)|(f.length?1:0);if(this._emitBeforeChanges(d))return[];f=this._splice.apply(this,a.__spreadArrays([b,c],f))||[];this._emitAfterChanges(d);return f};g.prototype.toArray=function(){return this._items.slice()};g.prototype.toJSON=function(){return this.toArray()};g.prototype.toLocaleString=function(){return this._items.toLocaleString()};
g.prototype.toString=function(){return this._items.toString()};g.prototype.unshift=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(!b.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,a.__spreadArrays([0,0],b));this._emitAfterChanges(1);return this.length};g.prototype._createNewInstance=function(a){return new this.constructor(a)};g.prototype._splice=function(b,c){for(var f=this,d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];var e=this._items,
g=this.constructor.prototype.itemType,k,h=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=n.schedule(function(){return f._dispatchChange()}));if(c){h=e.splice(b,c);if(this.hasEventListener("before-remove")){var p=D.acquire();p.target=this;p.cancellable=!0;for(var l=0,r=h.length;l<r;l++)k=h[l],p.reset(k),this.emit("before-remove",p),p.defaultPrevented&&
(h.splice(l,1),e.splice(b,0,k),b+=1,--l,--r);D.release(p)}this.length=this._items.length;if(this.hasEventListener("after-remove")){k=D.acquire();k.target=this;k.cancellable=!1;r=h.length;for(l=0;l<r;l++)k.reset(h[l]),this.emit("after-remove",k);D.release(k)}}if(d&&d.length){if(g){l=[];for(r=0;r<d.length;r++)k=d[r],p=g.ensureType(k),null==p&&null!=k||l.push(p);d=l}g=this.hasEventListener("before-add");l=this.hasEventListener("after-add");r=b===this.length;if(g||l){k=D.acquire();k.target=this;k.cancellable=
!0;p=D.acquire();p.target=this;p.cancellable=!1;for(var t=0,m=d;t<m.length;t++){var u=m[t];g?(k.reset(u),this.emit("before-add",k),k.defaultPrevented||(r?e.push(u):e.splice(b++,0,u),this._set("length",e.length),l&&(p.reset(u),this.emit("after-add",p)))):(r?e.push(u):e.splice(b++,0,u),this._set("length",e.length),p.reset(u),this.emit("after-add",p))}D.release(p);D.release(k)}else{if(r)for(g=0,l=d;g<l.length;g++)e.push(l[g]);else e.splice.apply(e,a.__spreadArrays([b,0],d));this._set("length",e.length)}}(d&&
d.length||h&&h.length)&&this._notifyChangeEvent(d,h);return h};g.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var c=D.acquire();c.target=this;c.cancellable=!0;c.type=a;this.emit("before-changes",c);b=c.defaultPrevented;D.release(c)}return b};g.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=D.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);D.release(b)}};g.prototype._notifyChangeEvent=
function(a,b){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};g.prototype._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;y.clear();w.clear();x.clear();for(var f=0;f<b.length;f++){var d=b[f],e=d.added,d=d.removed;if(e)if(0===x.size&&0===w.size)for(var g=0,k=e;g<k.length;g++)e=
k[g],y.add(e);else for(g=0,k=e;g<k.length;g++)e=k[g],w.has(e)?(x.add(e),w.delete(e)):x.has(e)||y.add(e);if(d)if(0===x.size&&0===y.size)for(g=0;g<d.length;g++)e=d[g],w.add(e);else for(g=0;g<d.length;g++)e=d[g],y.has(e)?y.delete(e):(x.delete(e),w.add(e))}var n=m.acquire();y.forEach(function(a){n.push(a)});var h=m.acquire();w.forEach(function(a){h.push(a)});var p=c._items,l=a.items,r=m.acquire();x.forEach(function(a){l.indexOf(a)!==p.indexOf(a)&&r.push(a)});if(a.listeners&&(n.length||h.length||r.length))for(b=
{target:c,added:n,removed:h,moved:r},f=a.listeners.length,e=0;e<f;e++)d=a.listeners[e],d.removed||d.callback.call(c,b);m.release(n);m.release(h);m.release(r)},c=this,f=0;f<a.length;f++)b(a[f]);y.clear();w.clear();x.clear()}};var l;g.ofType=function(b){if(!b)return l;if(v.has(b))return v.get(b);var d=null;if("function"===typeof b)d=b.prototype.declaredClass;else if(b.base)d=b.base.prototype.declaredClass;else for(var e in b.typeMap)var g=b.typeMap[e].prototype.declaredClass,d=d?d+(" | "+g):g;e=function(b){function c(){return null!==
b&&b.apply(this,arguments)||this}a.__extends(c,b);return c=a.__decorate([f.subclass("esri.core.Collection\x3c"+d+"\x3e")],c)}(l);g={Type:b,ensureType:"function"===typeof b?c.ensureType(b):c.ensureOneOfType(b)};Object.defineProperty(e.prototype,"itemType",{value:g});v.set(b,e);return e};a.__decorate([k.property()],g.prototype,"length",void 0);a.__decorate([k.property()],g.prototype,"items",null);return g=l=a.__decorate([f.subclass("esri.core.Collection")],g)}(l.EventedAccessor);return z})},"esri/core/Evented":function(){define("require exports tslib ./Accessor ./handleUtils ./accessorSupport/decorators/subclass".split(" "),
function(q,b,a,m,h,l){var e=function(){function a(){this._emitter=new a.EventEmitter(this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(b){var d=function(){function b(a){void 0===a&&(a=null);this.target=a;this._listenersMap=null}b.prototype.clear=function(){this._listenersMap&&
this._listenersMap.clear()};b.prototype.emit=function(b,c){b=this._listenersMap&&this._listenersMap.get(b);if(!b)return!1;var f=this.target||this;a.__spreadArrays(b).forEach(function(a){a.call(f,c)});return 0<b.length};b.prototype.on=function(a,b){var c=this;if(Array.isArray(a)){var f=a.map(function(a){return c.on(a,b)});return h.handlesGroup(f)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=
new Map);f=this._listenersMap.get(a)||[];f.push(b);this._listenersMap.set(a,f);return{remove:function(){var f=c._listenersMap&&c._listenersMap.get(a)||[],d=f.indexOf(b);0<=d&&f.splice(d,1)}}};b.prototype.once=function(a,b){var c;return c=this.on(a,function(a){c.remove();b.call(null,a)})};b.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return b}();b.EventEmitter=d;b.EventedMixin=function(b){return function(b){function c(){var a=null!==
b&&b.apply(this,arguments)||this;a._emitter=new d;return a}a.__extends(c,b);c.prototype.emit=function(a,b){return this._emitter.emit(a,b)};c.prototype.on=function(a,b){return this._emitter.on(a,b)};c.prototype.once=function(a,b){return this._emitter.once(a,b)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=a.__decorate([l.subclass("esri.core.Evented")],c)}(b)};var n=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._emitter=new e.EventEmitter(a);
return a}a.__extends(c,b);c.prototype.emit=function(a,b){return this._emitter.emit(a,b)};c.prototype.on=function(a,b){return this._emitter.on(a,b)};c.prototype.once=function(a,b){return this._emitter.once(a,b)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=a.__decorate([l.subclass("esri.core.Evented")],c)}(m);b.EventedAccessor=n})(e||(e={}));return e})},"esri/symbols/Symbol3D":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y,w,x,v,C){var z={icon:t,object:p,line:r,path:D,fill:f,extrude:k,text:w,water:x},u=m.ofType({base:y,key:"type",typeMap:z,errorContext:"symbol-layer"}),B=l.getLogger("esri.symbols.Symbol3D");return function(b){function f(a){a=b.call(this,a)||this;a.styleOrigin=null;a.thumbnail=null;a.type=null;var c=a.__accessor__&&a.__accessor__.metadatas&&a.__accessor__.metadatas.symbolLayers;a._set("symbolLayers",new (c&&c.type||m));return a}a.__extends(f,b);Object.defineProperty(f.prototype,
"color",{get:function(){return null},set:function(a){B.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!1,configurable:!0});f.prototype.readStyleOrigin=function(a,b,f){if(a.styleUrl&&a.name)return b=c.fromJSON(a.styleUrl,f),new v({styleUrl:b,name:a.name});if(a.styleName&&
a.name)return new v({portal:f&&f.portal||n.getDefault(),styleName:a.styleName,name:a.name});f&&f.messages&&f.messages.push(new d("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:f,definition:a}))};f.prototype.writeStyleOrigin=function(a,b,f,g){a.styleUrl&&a.name?(f=c.toJSON(a.styleUrl,g),e.isAbsolute(f)&&(f=e.normalize(f)),b.styleOrigin={styleUrl:f,name:a.name}):a.styleName&&a.name&&(a.portal&&g&&g.portal&&!e.hasSamePortal(a.portal.restUrl,
g.portal.restUrl)?g&&g.messages&&g.messages.push(new d("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};f.prototype.normalizeCtorArgs=function(a){return a instanceof y||a&&z[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};a.__decorate([g.property({json:{read:!1,write:!1}})],f.prototype,"color",null);a.__decorate([g.property({type:u,
nonNullable:!0,json:{write:!0}}),g.cast(h.castForReferenceSetter)],f.prototype,"symbolLayers",null);a.__decorate([g.property({type:v})],f.prototype,"styleOrigin",void 0);a.__decorate([g.reader("styleOrigin")],f.prototype,"readStyleOrigin",null);a.__decorate([g.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],f.prototype,"writeStyleOrigin",null);a.__decorate([g.property({type:C.default,json:{read:!1}})],f.prototype,
"thumbnail",void 0);a.__decorate([g.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],f.prototype,"type",void 0);return f=a.__decorate([g.subclass("esri.symbols.Symbol3D")],f)}(A)})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.castForReferenceSetter=b.referenceSetter=void 0;b.referenceSetter=function(b,h,l){void 0===l&&(l=a);h||(h=new l);if(h===b)return h;
h.removeAll();b&&(Array.isArray(b)||"items"in b&&Array.isArray(b.items))?h.addMany(b):b&&h.add(b);return h};b.castForReferenceSetter=function(a){return a}})},"esri/portal/Portal":function(){define("require exports tslib ../config ../intl ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y){var w,x={PortalGroup:function(){return new Promise(function(a,b){q(["./PortalGroup"],a,b)})},PortalItem:function(){return new Promise(function(a,b){q(["./PortalItem"],a,b)})},PortalUser:function(){return new Promise(function(a,b){q(["./PortalUser"],a,b)})}};return function(b){function c(a){a=b.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=null;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=m.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}a.__extends(c,b);g=c;c.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};c.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};c.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=
0;b<a.length;b++){var c=a[b];-1===m.request.trustedServers.indexOf(c)&&m.request.trustedServers.push(c)}return a};c.prototype.readDefaultBasemap=function(a){return a?(a=w.fromJSON(a),a.portalItem={portal:this},a):null};c.prototype.readDefaultVectorBasemap=function(a){return a?(a=w.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(c.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!1,configurable:!0});c.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};c.prototype.readUser=function(a){var b=null;a&&(b=y.fromJSON(a),b.portal=this);return b};c.prototype.load=function(a){var b=this,c=(new Promise(function(a,b){q(["../Basemap"],a,b)})).then(function(b){f.throwIfAborted(a);w=b}).then(function(){return b.sourceJSON?b.sourceJSON:b._fetchSelf(b.authMode,!1,a)}).then(function(a){if(l.id){var c=l.id;b.credential=c.findCredential(b.restUrl);b.credential||
b.authMode!==g.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(b.restUrl)&&b._signIn()}))}b.sourceJSON=a;b.read(a)});this.addResolvingPromise(c);return f.resolve(this)};c.prototype.createClosestFacilityTask=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.load()];case 1:return a.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,
b){q(["../tasks/ClosestFacilityTask"],a,b)})];case 2:return c=a.sent(),[2,new c(b)]}})})};c.prototype.createElevationLayers=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.load()];case 1:return a.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,b){q(["../layers/ElevationLayer"],a,b)})];case 2:return c=a.sent(),[2,b?b.map(function(a){return new c({id:a.id,url:a.url})}):
[]]}})})};c.prototype.createGeometryService=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.load()];case 1:return a.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,b){q(["../tasks/GeometryService"],a,b)})];case 2:return c=a.sent(),[2,new c({url:b})]}})})};c.prototype.createPrintTask=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,
this.load()];case 1:return a.sent(),b=this._getHelperServiceUrl("printTask"),[4,new Promise(function(a,b){q(["../tasks/PrintTask"],a,b)})];case 2:return c=a.sent(),[2,new c(b)]}})})};c.prototype.createRouteTask=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.load()];case 1:return a.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(a,b){q(["../tasks/RouteTask"],a,b)})];case 2:return c=a.sent(),
[2,new c(b)]}})})};c.prototype.createServiceAreaTask=function(){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.load()];case 1:return a.sent(),b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,b){q(["../tasks/ServiceAreaTask"],a,b)})];case 2:return c=a.sent(),[2,new c(b)]}})})};c.prototype.fetchBasemaps=function(a,b){var c=new D;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:
this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new w({portalItem:a})}):[]})};c.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+
"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):f.isAborted(a)?f.reject(f.createAbortError()):f.resolve([])};c.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=new D;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],e=0;e<b.length;e++){var g=b[e];d.push('(title:"'+g.title+'" AND owner:'+g.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return f.isAborted(a)?f.reject(f.createAbortError()):
f.resolve([])};c.prototype.fetchRegions=function(b){var c=this.user&&this.user.culture||this.culture||h.getLocale();return this._request(this.restUrl+"/portals/regions",a.__assign(a.__assign({},b),{query:{culture:c}}))};c.getDefault=function(){if(!g._default||g._default.destroyed)g._default=new g;return g._default};c.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};c.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",
b)};c.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};c.prototype.toJSON=function(){throw new d("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};c.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new g({sourceJSON:a})};c.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new d("portal:service-not-found",
'The `helperServices` do not include an entry named "'+a+'"');return b};c.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new d("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};c.prototype._fetchSelf=function(b,c,f){void 0===b&&(b=this.authMode);void 0===c&&(c=!1);var d=this.restUrl+"/portals/self";b=a.__assign({authMode:b,query:{culture:h.getLocale().toLowerCase()}},f);"auto"===b.authMode&&
(b.authMode="no-prompt");c&&(b.query.default=!0);return this._request(d,b)};c.prototype._queryPortal=function(b,c,d,e){var k=this,n=r.ensureType(D,c),h=function(c){return k._request(k.restUrl+b,a.__assign(a.__assign({},n.toRequestOptions(k)),e)).then(function(a){var b=n.clone();b.start=a.nextStart;return new A({nextQueryParams:b,queryParams:n,total:a.total,results:g._resultsToTypedArray(c,{portal:k},a,e)})}).then(function(a){return f.all(a.results.map(function(b){return"function"===typeof b.when?
b.when():a})).then(function(){return a},function(b){f.throwIfAbortError(b);return a})})};return d&&x[d]?x[d]().then(function(a){f.throwIfAborted(e);return h(a)}):h()};c.prototype._signIn=function(){var a=this;if(this.authMode===g.AUTH_MODE_ANONYMOUS)return f.reject(new d("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return f.reject(this.loadError);var b=function(b){return f.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return l.id?l.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};c.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,
"https:").replace(":7080",":7443")};c.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};c.prototype._requestToTypedArray=function(a,b,c){var d=this;return this._request(a,b).then(function(a){var b=g._resultsToTypedArray(c,{portal:d},a);return f.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};c.prototype._request=function(b,
c){void 0===c&&(c={});var f=a.__assign({f:"json"},c.query),d=c.authMode,k=c.body,n=c.cacheBust,h=c.method,p=c.responseType;c={authMode:void 0===d?this.authMode===g.AUTH_MODE_ANONYMOUS?"anonymous":"auto":d,body:void 0===k?null:k,cacheBust:void 0===n?!1:n,method:void 0===h?"auto":h,query:f,responseType:void 0===p?"json":p,timeout:0,signal:c.signal};return e(this._normalizeSSL(b),c).then(function(a){return a.data})};c._resultsToTypedArray=function(a,b,c,f){if(c){var d=k.isSome(f)?f.signal:null;c=c.listings||
c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=n.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(d);return c})}else c=[];return c};var g;c.AUTH_MODE_ANONYMOUS="anonymous";c.AUTH_MODE_AUTO="auto";c.AUTH_MODE_IMMEDIATE="immediate";a.__decorate([t.property()],c.prototype,"access",void 0);a.__decorate([t.property()],c.prototype,"allSSL",void 0);a.__decorate([t.property()],c.prototype,"authMode",
void 0);a.__decorate([t.property()],c.prototype,"authorizedCrossOriginDomains",void 0);a.__decorate([t.reader("authorizedCrossOriginDomains")],c.prototype,"readAuthorizedCrossOriginDomains",null);a.__decorate([t.property()],c.prototype,"basemapGalleryGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"bingKey",void 0);a.__decorate([t.property()],c.prototype,"canListApps",void 0);a.__decorate([t.property()],c.prototype,"canListData",void 0);a.__decorate([t.property()],c.prototype,"canListPreProvisionedItems",
void 0);a.__decorate([t.property()],c.prototype,"canProvisionDirectPurchase",void 0);a.__decorate([t.property()],c.prototype,"canSearchPublic",void 0);a.__decorate([t.property()],c.prototype,"canShareBingPublic",void 0);a.__decorate([t.property()],c.prototype,"canSharePublic",void 0);a.__decorate([t.property()],c.prototype,"canSignInArcGIS",void 0);a.__decorate([t.property()],c.prototype,"canSignInIDP",void 0);a.__decorate([t.property()],c.prototype,"colorSetsGroupQuery",void 0);a.__decorate([t.property()],
c.prototype,"commentsEnabled",void 0);a.__decorate([t.property({type:Date})],c.prototype,"created",void 0);a.__decorate([t.property()],c.prototype,"credential",void 0);a.__decorate([t.property()],c.prototype,"culture",void 0);a.__decorate([t.property()],c.prototype,"currentVersion",void 0);a.__decorate([t.property()],c.prototype,"customBaseUrl",void 0);a.__decorate([t.property()],c.prototype,"defaultBasemap",void 0);a.__decorate([t.reader("defaultBasemap")],c.prototype,"readDefaultBasemap",null);
a.__decorate([t.property({type:p})],c.prototype,"defaultExtent",void 0);a.__decorate([t.property()],c.prototype,"defaultVectorBasemap",void 0);a.__decorate([t.reader("defaultVectorBasemap")],c.prototype,"readDefaultVectorBasemap",null);a.__decorate([t.property()],c.prototype,"description",void 0);a.__decorate([t.property()],c.prototype,"eueiEnabled",void 0);a.__decorate([t.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],c.prototype,"extraQuery",null);a.__decorate([t.property()],
c.prototype,"featuredGroups",void 0);a.__decorate([t.property()],c.prototype,"featuredItemsGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"galleryTemplatesGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"livingAtlasGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"hasCategorySchema",void 0);a.__decorate([t.property()],c.prototype,"helpBase",void 0);a.__decorate([t.property()],c.prototype,"helperServices",void 0);a.__decorate([t.property()],c.prototype,"helpMap",
void 0);a.__decorate([t.property()],c.prototype,"homePageFeaturedContent",void 0);a.__decorate([t.property()],c.prototype,"homePageFeaturedContentCount",void 0);a.__decorate([t.property()],c.prototype,"httpPort",void 0);a.__decorate([t.property()],c.prototype,"httpsPort",void 0);a.__decorate([t.property()],c.prototype,"id",void 0);a.__decorate([t.property()],c.prototype,"ipCntryCode",void 0);a.__decorate([t.property({dependsOn:["access"],readOnly:!0})],c.prototype,"isOrganization",null);a.__decorate([t.property()],
c.prototype,"isPortal",void 0);a.__decorate([t.property()],c.prototype,"isReadOnly",void 0);a.__decorate([t.property()],c.prototype,"layerTemplatesGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"maxTokenExpirationMinutes",void 0);a.__decorate([t.property({type:Date})],c.prototype,"modified",void 0);a.__decorate([t.property()],c.prototype,"name",void 0);a.__decorate([t.property()],c.prototype,"portalHostname",void 0);a.__decorate([t.property()],c.prototype,"portalMode",void 0);a.__decorate([t.property()],
c.prototype,"portalProperties",void 0);a.__decorate([t.property()],c.prototype,"region",void 0);a.__decorate([t.property({dependsOn:["url"],readOnly:!0})],c.prototype,"restUrl",null);a.__decorate([t.property()],c.prototype,"rotatorPanels",void 0);a.__decorate([t.property()],c.prototype,"showHomePageDescription",void 0);a.__decorate([t.property()],c.prototype,"sourceJSON",void 0);a.__decorate([t.property()],c.prototype,"staticImagesUrl",void 0);a.__decorate([t.property()],c.prototype,"stylesGroupQuery",
void 0);a.__decorate([t.property()],c.prototype,"supportsHostedServices",void 0);a.__decorate([t.property()],c.prototype,"symbolSetsGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"templatesGroupQuery",void 0);a.__decorate([t.property()],c.prototype,"thumbnail",void 0);a.__decorate([t.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],c.prototype,"thumbnailUrl",null);a.__decorate([t.property()],c.prototype,"units",void 0);a.__decorate([t.property()],c.prototype,"url",void 0);a.__decorate([t.property()],
c.prototype,"urlKey",void 0);a.__decorate([t.reader("urlKey")],c.prototype,"readUrlKey",null);a.__decorate([t.property()],c.prototype,"user",void 0);a.__decorate([t.reader("user")],c.prototype,"readUser",null);a.__decorate([t.property()],c.prototype,"useStandardizedQuery",void 0);a.__decorate([t.property()],c.prototype,"useVectorBasemaps",void 0);a.__decorate([t.property()],c.prototype,"vectorBasemapGalleryGroupQuery",void 0);return c=g=a.__decorate([t.subclass("esri.portal.Portal")],c)}(g.JSONSupportMixin(c))})},
"esri/intl":function(){define("require exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages".split(" "),function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});Object.defineProperty(b,"formatDate",{enumerable:!0,get:function(){return a.formatDate}});Object.defineProperty(b,"convertDateFormatToIntlOptions",{enumerable:!0,get:function(){return a.convertDateFormatToIntlOptions}});Object.defineProperty(b,"formatNumber",{enumerable:!0,get:function(){return m.formatNumber}});
Object.defineProperty(b,"convertNumberFormatToIntlOptions",{enumerable:!0,get:function(){return m.convertNumberFormatToIntlOptions}});Object.defineProperty(b,"substitute",{enumerable:!0,get:function(){return h.substitute}});Object.defineProperty(b,"getLocale",{enumerable:!0,get:function(){return l.getLocale}});Object.defineProperty(b,"setLocale",{enumerable:!0,get:function(){return l.setLocale}});Object.defineProperty(b,"onLocaleChange",{enumerable:!0,get:function(){return l.onLocaleChange}});Object.defineProperty(b,
"prefersRTL",{enumerable:!0,get:function(){return l.prefersRTL}});Object.defineProperty(b,"loadMessageBundle",{enumerable:!0,get:function(){return e.loadMessageBundle}});Object.defineProperty(b,"getKnownMessageBundleLocale",{enumerable:!0,get:function(){return e.getKnownMessageBundleLocale}})})},"esri/intl/date":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(q,b,a,m,h,l){function e(a){a=a||p;if(!r.has(a)){var b=l.getLocale(),b=t[l.getLocale()]||
b;r.set(a,new Intl.DateTimeFormat(b,a))}return r.get(a)}Object.defineProperty(b,"__esModule",{value:!0});b.formatDate=b.convertDateFormatToIntlOptions=b.getDateTimeFormatter=b.fromJSON=b.toJSON=b.dateFormats=b.dictionary=void 0;q={year:"numeric",month:"numeric",day:"numeric"};var d={year:"numeric",month:"long",day:"numeric"},g={year:"numeric",month:"short",day:"numeric"},n={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},k=a.__assign(a.__assign({},c),
{second:"numeric"}),f={"short-date":q,"short-date-short-time":a.__assign(a.__assign({},q),c),"short-date-short-time-24":a.__assign(a.__assign(a.__assign({},q),c),{hour12:!1}),"short-date-long-time":a.__assign(a.__assign({},q),k),"short-date-long-time-24":a.__assign(a.__assign(a.__assign({},q),k),{hour12:!1}),"short-date-le":q,"short-date-le-short-time":a.__assign(a.__assign({},q),c),"short-date-le-short-time-24":a.__assign(a.__assign(a.__assign({},q),c),{hour12:!1}),"short-date-le-long-time":a.__assign(a.__assign({},
q),k),"short-date-le-long-time-24":a.__assign(a.__assign(a.__assign({},q),k),{hour12:!1}),"long-month-day-year":d,"long-month-day-year-short-time":a.__assign(a.__assign({},d),c),"long-month-day-year-short-time-24":a.__assign(a.__assign(a.__assign({},d),c),{hour12:!1}),"long-month-day-year-long-time":a.__assign(a.__assign({},d),k),"long-month-day-year-long-time-24":a.__assign(a.__assign(a.__assign({},d),k),{hour12:!1}),"day-short-month-year":g,"day-short-month-year-short-time":a.__assign(a.__assign({},
g),c),"day-short-month-year-short-time-24":a.__assign(a.__assign(a.__assign({},g),c),{hour12:!1}),"day-short-month-year-long-time":a.__assign(a.__assign({},g),k),"day-short-month-year-long-time-24":a.__assign(a.__assign(a.__assign({},g),k),{hour12:!1}),"long-date":n,"long-date-short-time":a.__assign(a.__assign({},n),c),"long-date-short-time-24":a.__assign(a.__assign(a.__assign({},n),c),{hour12:!1}),"long-date-long-time":a.__assign(a.__assign({},n),k),"long-date-long-time-24":a.__assign(a.__assign(a.__assign({},
n),k),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":k};b.dictionary=h.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",
shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",
dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);
var t={ar:"ar-u-nu-latn-ca-gregory"},r=new m.default,p=f["short-date-short-time"];l.beforeLocaleChange(function(){r=new m.default;p=f["short-date-short-time"]});b.getDateTimeFormatter=e;b.convertDateFormatToIntlOptions=function(a){return f[a]||null};b.formatDate=function(a,b){return e(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&
define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),q)})(function(q,b){Object.defineProperty(b,"__esModule",{value:!0});var a=q("tslib"),m=q("./global"),h=q("./iterator"),l=q("../has/has");q("./Symbol");b.WeakMap=m.default.WeakMap;if(!l.default("es6-weakmap")){var e={},d=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();b.WeakMap=function(){function b(b){this[Symbol.toStringTag]="WeakMap";this._name=
d();this._frozenEntries=[];if(b)if(h.isArrayLike(b))for(var c=0;c<b.length;c++){var e=b[c];this.set(e[0],e[1])}else try{for(c=a.__values(b),e=c.next();!e.done;e=c.next()){var f=a.__read(e.value,2);this.set(f[0],f[1])}}catch(p){g={error:p}}finally{try{e&&!e.done&&(n=c.return)&&n.call(c)}finally{if(g)throw g.error;}}var g,n}b.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};b.prototype.delete=function(a){if(void 0===
a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==e)return b.value=e,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};b.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==e)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};b.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==e||0<=this._getFrozenEntryIndex(a)?
!0:!1};b.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));c.value=b;return this};return b}()}b.default=b.WeakMap})},"esri/intl/locale":function(){define(["require","exports","tslib","../core/global"],function(q,b,a,m){function h(){var a,b;return null!==
(b=null!==t&&void 0!==t?t:null===(a=m.navigator)||void 0===a?void 0:a.language)&&void 0!==b?b:"en"}function l(){void 0===f&&(f=h());return f}function e(){var b=null!==k&&void 0!==k?k:h();f!==b&&(f=b,a.__spreadArrays(D).forEach(function(a){a.call(null,b)}),a.__spreadArrays(p).forEach(function(a){a.call(null,b)}))}var d,g,n,c;Object.defineProperty(b,"__esModule",{value:!0});var k=b.beforeLocaleChange=b.onLocaleChange=b.prefersRTL=b.setLocale=b.getLocale=b.getDefaultLocale=void 0,f=void 0,t=null!==(g=
null===(d=m.esriConfig)||void 0===d?void 0:d.locale)&&void 0!==g?g:null===(n=m.dojoConfig)||void 0===n?void 0:n.locale;b.getDefaultLocale=h;b.getLocale=l;b.setLocale=function(a){k=a?a:void 0;e()};var r={he:!0,ar:!0};b.prefersRTL=function(a){void 0===a&&(a=l());a=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(a);a=null===a||void 0===a?void 0:a[1].toLowerCase();return void 0!==a&&(r[a]||!1)};var p=[];b.onLocaleChange=function(a){p.push(a);return{remove:function(){p.splice(p.indexOf(a),1)}}};var D=[];b.beforeLocaleChange=
function(a){D.push(a);return{remove:function(){p.splice(D.indexOf(a),1)}}};null===(c=m.addEventListener)||void 0===c?void 0:c.call(m,"languagechange",e)})},"esri/intl/number":function(){define(["require","exports","@dojo/framework/shim/WeakMap","../core/maybe","./locale"],function(q,b,a,m,h){function l(a){var b=a||g;if(!d.has(b)){var k=h.getLocale(),k=e[h.getLocale()]||k;d.set(b,new Intl.NumberFormat(k,a))}return m.assumeNonNull(d.get(b))}Object.defineProperty(b,"__esModule",{value:!0});b.formatNumber=
b.convertNumberFormatToIntlOptions=b.getFormatter=void 0;var e={ar:"ar-u-nu-latn"},d=new a.default,g={};h.beforeLocaleChange(function(){d=new a.default;g={}});b.getFormatter=l;b.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};b.formatNumber=function(a,b){return l(b).format(a)}})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(q,b,a,m,h,l,e){function d(a){switch(typeof a){case "string":return a;case "number":return e.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?l.formatDate(a):""}}Object.defineProperty(b,"__esModule",{value:!0});b.substitute=void 0;var g=a.getLogger("esri.intl");b.substitute=function(a,b,k){void 0===k&&(k={});k=k.format;var c=void 0===k?{}:k;return h.replace(a,function(a){var f;var k,n=a.indexOf(":");-1===n?k=a.trim():(k=a.slice(0,n).trim(),f=a.slice(n+1).trim());
if(k)if(a=m.getDeepValue(k,b),null==a)f="";else if(k=c[f]||c[k])b:switch(k.type){case "date":f=l.formatDate(a,k.intlOptions);break b;case "number":f=e.formatNumber(a,k.intlOptions);break b;default:g.warn("missing format descriptor for key {key}"),f=d(a)}else if(f)b:switch(f.toLowerCase()){case "dateformat":f=l.formatDate(a);break b;case "numberformat":f=e.formatNumber(a);break b;default:g.warn("inline format is unsupported since 4.12: "+f),f=/^(dateformat|datestring)/i.test(f)?l.formatDate(a):/^numberformat/i.test(f)?
e.formatNumber(a):d(a)}else f=d(a);else f="";return f})}})},"esri/intl/messages":function(){define("require exports tslib ../assets ../core/Error ../core/maybe ../core/promiseUtils ../core/SetUtils ./locale @dojo/framework/shim/Promise".split(" "),function(q,b,a,m,h,l,e,d,g){function n(a){if(!f.test(a))return null;var b=f.exec(a);a=b[1];b=b[2];b=a+(b?"-"+b.toUpperCase():"");return t.has(b)?b:t.has(a)?a:null}function c(b){return a.__awaiter(this,void 0,void 0,function(){var c,f,d,e,l,p,r,m,t;return a.__generator(this,
function(a){switch(a.label){case 0:c=/^(.*)\/t9n\/(.*)$/g.exec(b);if(!c)throw new h("esri-intl:invalid-bundle",'Missing "t9n" folder in locale bundle path "'+b+'"');f=c[1]+"/t9n/";d=c[2];e=g.getLocale();l=n(e);p=""+f+d+".json";r=l?""+f+d+"_"+l+".json":p;a.label=1;case 1:return a.trys.push([1,3,,8]),[4,k(r)];case 2:return m=a.sent(),[3,8];case 3:t=a.sent();if(r===p)throw t;a.label=4;case 4:return a.trys.push([4,6,,7]),[4,k(p)];case 5:return m=a.sent(),[3,7];case 6:throw a.sent(),new h("esri-intl:unknown-bundle",
'Bundle "'+b+'" cannot be loaded',{error:t});case 7:return[3,8];case 8:return[2,m]}})})}function k(c){return a.__awaiter(this,void 0,void 0,function(){var f;return a.__generator(this,function(a){switch(a.label){case 0:return l.isSome(b.test.fetchBundleAsset)?[2,b.test.fetchBundleAsset(c)]:[4,m.fetchAsset(c,{responseType:"json"})];case 1:return f=a.sent(),[2,f.data]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.test=b.getKnownMessageBundleLocale=b.loadMessageBundle=void 0;var f=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,
t=d.SetFromValues("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),r=new Map;g.beforeLocaleChange(function(){r.clear()});b.loadMessageBundle=function(b){return a.__awaiter(this,void 0,void 0,function(){var f;return a.__generator(this,function(a){switch(a.label){case 0:return r.has(b)||r.set(b,c(b)),f=r.get(b),[4,p.add(f)];case 1:return a.sent(),[2,f]}})})};b.getKnownMessageBundleLocale=n;var p=new (function(){function b(){this._numLoading=
0}b.prototype.waitForAll=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return this._dfd?[4,this._dfd.promise]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};b.prototype.add=function(a){var b=this;this._increase();a.then(function(){return b._decrease()},function(){return b._decrease()});return this.waitForAll()};b.prototype._increase=function(){this._numLoading++;this._dfd||(this._dfd=e.createDeferred())};b.prototype._decrease=
function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return b}());b.test={cache:r}})},"esri/assets":function(){define(["require","exports","./request","./core/urlUtils"],function(q,b,a,m){function h(a){return m.join(q.toUrl("."),"../",a)}Object.defineProperty(b,"__esModule",{value:!0});b.getAssetUrl=b.fetchAsset=void 0;b.fetchAsset=function(b,e){return a(h(b),e)};b.getAssetUrl=h})},"esri/core/Loadable":function(){define("require exports tslib ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(q,b,a,m,h,l,e,d,g){var n=function(b){return function(b){function c(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=b.apply(this,a)||this;f._loadController=null;f.loadError=null;f.loadStatus="not-loaded";f._set("loadWarnings",[]);f.addResolvingPromise(l.create(function(a){var b=f.load.bind(f);f.load=function(c){var d=l.create(function(a,b){l.onAbortOrThrow(c,b);f.destroyed&&b(new m("load:instance-destroyed","Instance of '"+(f.declaredClass||f.constructor.name)+"' is already destroyed",
{instance:f}));f._promiseProps.when(a,b)});if("not-loaded"===f.loadStatus){f._set("loadStatus","loading");var e=f._loadController=l.createAbortController();b({signal:e.signal});l.onAbort(e.signal,function(){f._promiseProps.abort()})}a();return d}}));f.when(function(){f._set("loadStatus","loaded");f._loadController=null},function(a){f._set("loadStatus","failed");f._set("loadError",a);f._loadController=null});return f}a.__extends(c,b);Object.defineProperty(c.prototype,"loaded",{get:function(){return"loaded"===
this.loadStatus},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"loadWarnings",{get:function(){return this._get("loadWarnings")},enumerable:!1,configurable:!0});c.prototype.load=function(){return null};c.prototype.cancelLoad=function(){var a;if(this.isFulfilled())return this;this._set("loadError",new m("load:cancelled","Cancelled"));null===(a=this._loadController)||void 0===a?void 0:a.abort();return this};a.__decorate([d.property({readOnly:!0,dependsOn:["loadStatus"]})],c.prototype,
"loaded",null);a.__decorate([d.property({readOnly:!0})],c.prototype,"loadError",void 0);a.__decorate([d.property()],c.prototype,"loadStatus",void 0);a.__decorate([d.property({type:[e],readOnly:!0})],c.prototype,"loadWarnings",null);return c=a.__decorate([g.subclass("esri.core.Loadable")],c)}(b)};q=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}a.__extends(c,b);return c=a.__decorate([g.subclass("esri.core.Loadable")],c)}(n(h.EsriPromise));(function(a){a.LoadableMixin=n;a.isLoadable=
function(a){return!(!a||!a.load)}})(q||(q={}));return q})},"esri/core/Promise":function(){define("require exports tslib ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.EsriPromise=b.EsriPromiseMixin=void 0;var d=function(){function b(a){var b=this;this.instance=a;this._resolver=l.createDeferred();this._status=0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=1;
b._cleanUp()},function(){b._status=2;b._cleanUp()})}b.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};b.prototype.isResolved=function(){return 1===this._status};b.prototype.isRejected=function(){return 2===this._status};b.prototype.isFulfilled=function(){return 0!==this._status};b.prototype.abort=function(){this._resolver.reject(l.createAbortError())};b.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};b.prototype._cleanUp=function(){this._allPromise=
this._resolvingPromises=this._allPromise=null};b.prototype._tryResolve=function(){var b=this;if(!this.isFulfilled()){var c=l.createDeferred(),d=a.__spreadArrays(this._resolvingPromises,[h.assumeNonNull(c.promise)]),f=this._allPromise=l.all(d);f.then(function(){b.isFulfilled()||b._allPromise!==f||b._resolver.resolve(b.instance)},function(a){b.isFulfilled()||b._allPromise!==f||l.isAbortError(a)||b._resolver.reject(a)});c.resolve()}};return b}();b.EsriPromiseMixin=function(b){return function(b){function c(){for(var a=
[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a._promiseProps=new d(a);a.addResolvingPromise(l.resolve());return a}a.__extends(c,b);c.prototype.isResolved=function(){return this._promiseProps.isResolved()};c.prototype.isRejected=function(){return this._promiseProps.isRejected()};c.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};c.prototype.when=function(a,b){var c=this;return l.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};c.prototype.catch=
function(a){return this.when(null,a)};c.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return c=a.__decorate([e.subclass("esri.core.Promise")],c)}(b)};q=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}a.__extends(d,b);return d=a.__decorate([e.subclass("esri.core.Promise")],d)}(b.EsriPromiseMixin(m));b.EsriPromise=q})},"esri/portal/PortalQueryParams":function(){define("require exports tslib ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(q,b,a,m,h,l,e,d,g,n){var c=new h.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(b){function f(a){a=b.call(this,a)||this;a.categories=null;a.disableExtraQuery=!1;a.extent=null;a.num=10;a.query=null;a.sortField=null;a.start=1;return a}a.__extends(f,b);k=f;Object.defineProperty(f.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},
enumerable:!1,configurable:!0});f.prototype.clone=function(){return new k({categories:this.categories?l.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};f.prototype.toRequestOptions=function(b,f){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var e;if(this.extent){var k=n.project(this.extent,
g.WGS84);k&&(e=k.xmin+","+k.ymin+","+k.xmax+","+k.ymax)}k=this.query;!this.disableExtraQuery&&b.extraQuery&&(k="("+k+")"+b.extraQuery);b={categories:d,bbox:e,q:k,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(b.sortField=this.sortField.split(",").map(function(a){return c.toJSON(a.trim())}).join(","),b.sortOrder=this.sortOrder);return{query:a.__assign(a.__assign({},f),b)}};var k;a.__decorate([e.property()],f.prototype,"categories",void 0);a.__decorate([e.property()],
f.prototype,"disableExtraQuery",void 0);a.__decorate([e.property({type:d})],f.prototype,"extent",void 0);a.__decorate([e.property()],f.prototype,"num",void 0);a.__decorate([e.property()],f.prototype,"query",void 0);a.__decorate([e.property()],f.prototype,"sortField",void 0);a.__decorate([e.property()],f.prototype,"sortOrder",null);a.__decorate([e.property()],f.prototype,"start",void 0);return f=k=a.__decorate([e.subclass("esri.portal.PortalQueryParams")],f)}(m)})},"esri/portal/PortalQueryResult":function(){define(["require",
"exports","tslib","../core/Accessor","../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.nextQueryParams=null;a.queryParams=null;a.results=null;a.total=null;return a}a.__extends(e,b);a.__decorate([h.property()],e.prototype,"nextQueryParams",void 0);a.__decorate([h.property()],e.prototype,"queryParams",void 0);a.__decorate([h.property()],e.prototype,"results",void 0);a.__decorate([h.property()],e.prototype,"total",void 0);return e=a.__decorate([h.subclass("esri.portal.PortalQueryResult")],
e)}(m)})},"esri/portal/PortalUser":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup @dojo/framework/shim/Promise".split(" "),function(q,b,a,m,h,l,e,d,g){return function(b){function c(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=
null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}a.__extends(c,b);k=c;Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+
this.username:null},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!1,configurable:!0});c.prototype.addItem=function(a){var b=this,c=a&&a.item,f=a&&a.data;a=a&&a.folder;var d={method:"post"};c&&(d.query=c.createPostQuery(),null!=f&&("string"===typeof f?d.query.text=f:"object"===typeof f&&(d.query.text=JSON.stringify(f))));f=this.userContentUrl;a&&(f+="/"+("string"===
typeof a?a:a.id));return this.portal._request(f+"/addItem",d).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c.reload():c.load()})};c.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=null})};c.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",
query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):l.resolve(void 0)};c.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=d.fromJSON(b);b.portal=a.portal;return b}):[]})};c.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=
g.fromJSON(b);b.portal=a.portal;return b}):[]})};c.prototype.fetchItems=function(a){var b=this;a||(a={});var c=this.userContentUrl;a.folder&&(c+="/"+a.folder.id);var f;return(new Promise(function(a,b){q(["./PortalItem"],a,b)})).then(function(d){f=d;return b.portal._request(c,{query:{folders:!1,num:a.num||10,start:a.start||1,sortField:a.sortField||"created",sortOrder:a.sortOrder||"asc"}})}).then(function(a){var c;return a&&a.items?(c=a.items.map(function(a){a=f.fromJSON(a);a.portal=b.portal;return a}),
l.all(c.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:c,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};c.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new g({id:this.favGroupId,
portal:this.portal})),this._favGroup.queryItems(a)):l.reject(new m("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};c.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};c.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new k;b.sourceJSON=a;b.read(a);return b};var k;a.__decorate([e.property()],c.prototype,"access",void 0);a.__decorate([e.property({type:Date})],
c.prototype,"created",void 0);a.__decorate([e.property()],c.prototype,"culture",void 0);a.__decorate([e.property()],c.prototype,"description",void 0);a.__decorate([e.property()],c.prototype,"email",void 0);a.__decorate([e.property()],c.prototype,"favGroupId",void 0);a.__decorate([e.property()],c.prototype,"fullName",void 0);a.__decorate([e.property({type:Date})],c.prototype,"modified",void 0);a.__decorate([e.property()],c.prototype,"orgId",void 0);a.__decorate([e.property()],c.prototype,"portal",
void 0);a.__decorate([e.property()],c.prototype,"preferredView",void 0);a.__decorate([e.property()],c.prototype,"privileges",void 0);a.__decorate([e.property()],c.prototype,"region",void 0);a.__decorate([e.property()],c.prototype,"role",void 0);a.__decorate([e.property()],c.prototype,"roleId",void 0);a.__decorate([e.property()],c.prototype,"sourceJSON",void 0);a.__decorate([e.property()],c.prototype,"thumbnail",void 0);a.__decorate([e.property({dependsOn:["url","thumbnail","portal.credential.token"],
readOnly:!0})],c.prototype,"thumbnailUrl",null);a.__decorate([e.property()],c.prototype,"units",void 0);a.__decorate([e.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"userContentUrl",null);a.__decorate([e.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"url",null);a.__decorate([e.property()],c.prototype,"username",void 0);a.__decorate([e.property()],c.prototype,"userType",void 0);return c=k=a.__decorate([e.subclass("esri.portal.PortalUser")],c)}(h.JSONSupport)})},
"esri/portal/PortalFolder":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.created=null;a.id=null;a.portal=null;a.title=null;a.username=null;return a}a.__extends(d,b);Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!1,configurable:!0});
d.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a.__decorate([l.property({type:Date})],d.prototype,"created",void 0);a.__decorate([l.property()],d.prototype,"id",void 0);a.__decorate([l.property()],d.prototype,"portal",void 0);a.__decorate([l.property()],d.prototype,"title",void 0);a.__decorate([l.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);a.__decorate([l.property()],d.prototype,"username",
void 0);return d=a.__decorate([l.subclass("esri.portal.PortalFolder")],d)}(h.JSONSupport)})},"esri/portal/PortalGroup":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),function(q,b,a,m,h,l,e,d){return function(b){function g(a){a=b.call(this,a)||this;a.access=null;a.created=null;a.description=null;a.id=null;a.isInvitationOnly=!1;a.modified=null;a.owner=null;a.portal=null;
a.snippet=null;a.sortField=null;a.sortOrder=null;a.tags=null;a.title=null;return a}a.__extends(g,b);Object.defineProperty(g.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!1,configurable:!0});g.prototype.fetchCategorySchema=function(a){var b=
this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};g.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};g.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};g.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");
};g.prototype.queryItems=function(a,b){a=e.ensureType(d,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new d,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new d;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,b)};g.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var f=new d;f.disableExtraQuery=
!0;f.num=1;f.query=a;return c.portal.queryGroups(f,b)}throw new m("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var f=new d;f.num=1;f.query='typekeywords:"'+a+'"';return c.queryItems(f,b)}throw new m("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):
[]})};a.__decorate([l.property()],g.prototype,"access",void 0);a.__decorate([l.property({type:Date})],g.prototype,"created",void 0);a.__decorate([l.property()],g.prototype,"description",void 0);a.__decorate([l.property()],g.prototype,"id",void 0);a.__decorate([l.property()],g.prototype,"isInvitationOnly",void 0);a.__decorate([l.property({type:Date})],g.prototype,"modified",void 0);a.__decorate([l.property()],g.prototype,"owner",void 0);a.__decorate([l.property()],g.prototype,"portal",void 0);a.__decorate([l.property()],
g.prototype,"snippet",void 0);a.__decorate([l.property()],g.prototype,"sortField",void 0);a.__decorate([l.property()],g.prototype,"sortOrder",void 0);a.__decorate([l.property()],g.prototype,"tags",void 0);a.__decorate([l.property()],g.prototype,"thumbnail",void 0);a.__decorate([l.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],g.prototype,"thumbnailUrl",null);a.__decorate([l.property()],g.prototype,"title",void 0);a.__decorate([l.property({dependsOn:["portal.restUrl"],
readOnly:!0})],g.prototype,"url",null);return g=a.__decorate([l.subclass("esri.portal.PortalGroup")],g)}(h.JSONSupport)})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports tslib ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(q,b,a,m,h,l,e,d,g,n,c){return function(b){function f(a){a=b.call(this,a)||this;a.material=null;a.type="line";a.join="miter";
a.cap="butt";a.size=l.px2pt(1);a.stipplePattern=null;a.stippleOffColor=null;return a}a.__extends(f,b);d=f;f.prototype.clone=function(){return new d({enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};f.fromSimpleLineSymbol=function(a){return new d({size:a.width||1,cap:a.cap||"butt",join:a.join||
"miter",material:{color:(a.color||g.white).clone()}})};var d;a.__decorate([e.property({type:c.default,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([e.enumeration({Line:"line"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([e.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],f.prototype,"join",void 0);a.__decorate([e.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0);a.__decorate([e.property(n.screenSizeProperty)],
f.prototype,"size",void 0);a.__decorate([e.property(n.stipplePatternProperty)],f.prototype,"stipplePattern",void 0);a.__decorate([e.property({type:m})],f.prototype,"stippleOffColor",void 0);return f=d=a.__decorate([e.subclass("esri.symbols.LineSymbol3DLayer")],f)}(d)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(q,b,a,m,h,l,e,d,g){return function(b){function c(a){a=b.call(this,a)||this;a.material=null;a.castShadows=!0;a.resource=null;a.type="object";a.width=void 0;a.height=void 0;a.depth=void 0;a.anchor=void 0;a.anchorPosition=void 0;a.heading=void 0;a.tilt=void 0;a.roll=void 0;return a}a.__extends(c,b);k=c;c.prototype.clone=function(){return new k({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(c.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!1,configurable:!0});var k;a.__decorate([h.property({type:g.default,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([h.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([h.property({type:e.default,json:{write:!0}})],c.prototype,"resource",void 0);a.__decorate([h.enumeration({Object:"object"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);a.__decorate([h.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],c.prototype,"anchor",void 0);a.__decorate([h.property({type:d.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new d.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);a.__decorate([h.property({type:Number,
json:{write:!0}})],c.prototype,"heading",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"tilt",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);a.__decorate([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],c.prototype,"isPrimitive",null);return c=k=a.__decorate([h.subclass("esri.symbols.ObjectSymbol3DLayer")],c)}(l)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),
function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.defaultPrimitive=b.ObjectSymbol3DLayerResource=void 0;var d=m.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});q=function(b){function g(){return null!==b&&b.apply(this,arguments)||this}a.__extends(g,b);c=g;g.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;a.__decorate([l.property({type:String,
json:{read:e.read,write:e.write}})],g.prototype,"href",void 0);a.__decorate([l.enumeration(d)],g.prototype,"primitive",void 0);return g=c=a.__decorate([l.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],g)}(h.JSONSupport);b.ObjectSymbol3DLayerResource=q;b.defaultPrimitive="sphere";b.default=q})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,
"__esModule",{value:!0});b.Symbol3DAnchorPosition3D=void 0;q=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;a.z=0;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({x:this.x,y:this.y,z:this.z})};var d;a.__decorate([h.property({type:Number})],e.prototype,"x",void 0);a.__decorate([h.property({type:Number})],e.prototype,"y",void 0);a.__decorate([h.property({type:Number})],e.prototype,"z",void 0);return e=d=a.__decorate([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
e)}(m);b.Symbol3DAnchorPosition3D=q;b.default=q})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.material=null;a.castShadows=!0;a.type="path";a.profile="circle";a.join="miter";a.cap="butt";a.width=void 0;a.height=void 0;a.anchor="center";a.profileRotation="all";return a}a.__extends(d,b);
n=d;Object.defineProperty(d.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!1,configurable:!0});d.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};d.prototype.clone=function(){return new n({enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var n;a.__decorate([h.property({type:e.default,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([h.enumeration({Path:"path"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([h.property({type:Number})],d.prototype,
"size",null);a.__decorate([h.reader("size")],d.prototype,"readSize",null);a.__decorate([h.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);a.__decorate([h.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);a.__decorate([h.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);a.__decorate([h.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},
size:{type:Number}}}}})],d.prototype,"width",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([h.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);a.__decorate([h.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);return d=n=a.__decorate([h.subclass("esri.symbols.PathSymbol3DLayer")],d)}(l)})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports tslib ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c){return function(b){function f(a){a=b.call(this,a)||this;a._userSize=void 0;a.halo=null;a.material=null;a.text=void 0;a.type="text";return a}a.__extends(f,b);d=f;Object.defineProperty(f.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!1,configurable:!0});f.prototype.writeFont=function(b,c,f,d){f=a.__assign(a.__assign({},d),{textSymbol3D:!0});c.font=b.write({},
f);delete c.font.size};Object.defineProperty(f.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!1,configurable:!0});f.prototype.clone=function(){return new d({enabled:this.enabled,font:this.font&&m.clone(this.font),halo:this.halo&&m.clone(this.halo),material:h.isSome(this.material)?this.material.clone():null,
size:this.size,text:this.text})};f.fromTextSymbol=function(a){var b;b=a.haloColor;var c=a.haloSize;b=b&&0<c?{color:m.clone(b),size:c}:null;c=a.font?a.font.clone():new e;return new d({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var d;a.__decorate([l.property({type:e,json:{write:!0}})],f.prototype,"font",null);a.__decorate([l.writer("font")],f.prototype,"writeFont",null);a.__decorate([l.property({type:n.default,json:{write:!0}})],f.prototype,"halo",void 0);
a.__decorate([l.property({type:c.default,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([l.property(g.screenSizeProperty),l.property({dependsOn:["font.size"]})],f.prototype,"size",null);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);a.__decorate([l.enumeration({Text:"text"},{readOnly:!0})],f.prototype,"type",void 0);return f=d=a.__decorate([l.subclass("esri.symbols.TextSymbol3DLayer")],f)}(d)})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(q,b,a,m,h,l,e,d){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DHalo=void 0;q=function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new m([0,0,0,1]);a.size=0;return a}a.__extends(g,b);c=g;g.prototype.clone=function(){return new c({color:l.clone(this.color),size:this.size})};var c;a.__decorate([e.property(d.colorAndTransparencyProperty)],g.prototype,"color",void 0);a.__decorate([e.property(d.screenSizeProperty)],g.prototype,"size",void 0);return g=c=a.__decorate([e.subclass("esri.symbols.support.Symbol3DHalo")],
g)}(h.JSONSupport);b.Symbol3DHalo=q;b.default=q})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(q,b,a,m,h,l,e,d){q=function(b){function c(a){a=b.call(this,a)||this;a.color=g.clone();a.type="water";a.waterbodySize="medium";a.waveDirection=null;a.waveStrength="moderate";return a}a.__extends(c,b);d=c;c.prototype.clone=function(){return new d({color:h.clone(this.color),
waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var d;a.__decorate([l.property({type:m,nonNullable:!0,json:{type:[e.Integer],write:function(a,b,c){return b[c]=a.toArray(1)},default:function(){return g.clone()},defaultEquals:function(a){return a.toCss(!0)===g.toCss(!0)}}})],c.prototype,"color",void 0);a.__decorate([l.enumeration({Water:"water"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([l.property({type:["small","medium","large"],json:{write:!0,
default:"medium"}})],c.prototype,"waterbodySize",void 0);a.__decorate([l.property({type:Number,json:{write:!0,default:null}})],c.prototype,"waveDirection",void 0);a.__decorate([l.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],c.prototype,"waveStrength",void 0);return c=d=a.__decorate([l.subclass("esri.symbols.WaterSymbol3DLayer")],c)}(d);var g=new m([0,119,190]);return q})},"esri/symbols/support/StyleOrigin":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(q,b,a,m,h,l){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.portal=null;return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var e;a.__decorate([h.property({type:String})],d.prototype,"name",void 0);a.__decorate([h.property({type:String})],d.prototype,"styleUrl",void 0);a.__decorate([h.property({type:String})],d.prototype,"styleName",void 0);a.__decorate([h.property({type:l})],
d.prototype,"portal",void 0);return d=e=a.__decorate([h.subclass("esri.symbols.support.StyleOrigin")],d)}(m)})},"esri/symbols/support/Thumbnail":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.Thumbnail=void 0;q=function(b){function e(){return null!==b&&b.apply(this,arguments)||this}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({url:this.url})};var d;
a.__decorate([h.property({type:String})],e.prototype,"url",void 0);return e=d=a.__decorate([h.subclass("esri.symbols.support.Thumbnail")],e)}(m);b.Thumbnail=q;b.default=q})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(q,b,a,m){function h(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}Object.defineProperty(b,"__esModule",{value:!0});b.calloutProperty=b.isCalloutSupport=b.hasVisibleCallout=
b.hasVisibleVerticalOffset=void 0;b.hasVisibleVerticalOffset=h;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?h(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.calloutProperty={types:{key:"type",base:a,typeMap:{line:m}},json:{write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],
function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.visible=!0;return a}a.__extends(e,b);e.prototype.clone=function(){};a.__decorate([h.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);a.__decorate([h.property({readOnly:!0})],e.prototype,"visible",void 0);return e=a.__decorate([h.subclass("esri.symbols.callouts.Callout3D")],e)}(m.JSONSupport)})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports tslib ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c){return function(b){function f(a){a=b.call(this,a)||this;a.type="line";a.color=new m([0,0,0,1]);a.size=e.px2pt(1);a.border=null;return a}a.__extends(f,b);g=f;Object.defineProperty(f.prototype,"visible",{get:function(){return 0<this.size&&l.isSome(this.color)&&0<this.color.a},enumerable:!1,configurable:!0});f.prototype.clone=function(){return new g({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var g;a.__decorate([d.enumeration({line:"line"},
{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property(c.colorAndTransparencyProperty)],f.prototype,"color",void 0);a.__decorate([d.property(c.screenSizeProperty)],f.prototype,"size",void 0);a.__decorate([d.property({type:n.default,json:{write:!0}})],f.prototype,"border",void 0);a.__decorate([d.property({dependsOn:["size","color"],readOnly:!0})],f.prototype,"visible",null);return f=g=a.__decorate([d.subclass("esri.symbols.callouts.LineCallout3D")],f)}(g)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,b,a,m,h,l,e,d){Object.defineProperty(b,"__esModule",{value:!0});b.LineCallout3DBorder=void 0;q=function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new m("white");return a}a.__extends(g,b);c=g;g.prototype.clone=function(){return new c({color:l.clone(this.color)})};var c;a.__decorate([e.property(d.colorAndTransparencyProperty)],g.prototype,"color",void 0);return g=c=a.__decorate([e.subclass("esri.symbols.callouts.LineCallout3DBorder")],g)}(h.JSONSupport);b.LineCallout3DBorder=
q;b.default=q})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,b,a,m,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.Symbol3DVerticalOffset=void 0;q=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.screenLength=0;a.minWorldLength=0;return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({screenLength:this.screenLength,
minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var e;a.__decorate([h.property(l.screenSizeProperty)],d.prototype,"screenLength",void 0);a.__decorate([h.property({type:Number,json:{write:!0,default:0}})],d.prototype,"minWorldLength",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0);return d=e=a.__decorate([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],d)}(m.JSONSupport);b.Symbol3DVerticalOffset=q;b.default=q})},
"esri/symbols/LineSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(q,b,a,m,h,l,e,d,g){var n=m.ofType({base:null,key:"type",typeMap:{line:e,path:d}}),c=m.ofType({base:null,key:"type",typeMap:{line:e,path:d}});return function(b){function f(a){a=b.call(this,a)||this;a.symbolLayers=new n;a.type="line-3d";return a}a.__extends(f,b);d=f;f.prototype.clone=function(){return new d({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};f.fromSimpleLineSymbol=function(a){return new d({symbolLayers:[e.fromSimpleLineSymbol(a)]})};var d;a.__decorate([l.property({type:n,json:{type:c}})],f.prototype,"symbolLayers",void 0);a.__decorate([l.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],f.prototype,"type",void 0);return f=d=a.__decorate([l.subclass("esri.symbols.LineSymbol3D")],f)}(g)})},"esri/symbols/MarkerSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.angle=0;a.type=null;a.xoffset=0;a.yoffset=0;a.size=9;return a}a.__extends(d,b);d.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};a.__decorate([h.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],d.prototype,"angle",void 0);a.__decorate([h.property({type:["simple-marker","picture-marker"],readOnly:!0})],
d.prototype,"type",void 0);a.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([h.property({type:Number,cast:m.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([h.property({type:Number,cast:function(a){return"auto"===a?a:m.toPt(a)},json:{write:!0}})],d.prototype,"size",void 0);return d=a.__decorate([h.subclass("esri.symbols.MarkerSymbol")],d)}(l)})},"esri/symbols/MeshSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(q,b,a,m,h,l,e,d){var g=m.ofType({base:null,key:"type",typeMap:{fill:e}});return function(b){function c(a){a=b.call(this,a)||this;a.symbolLayers=new g;a.type="mesh-3d";return a}a.__extends(c,b);d=c;c.prototype.clone=function(){return new d({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var d;a.__decorate([l.property({type:g})],c.prototype,"symbolLayers",void 0);a.__decorate([l.enumeration({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],
c.prototype,"type",void 0);return c=d=a.__decorate([l.subclass("esri.symbols.MeshSymbol3D")],c)}(d)})},"esri/symbols/PictureFillSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(q,b,a,m,h,l,e,d){return function(b){function e(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.type="picture-fill";a.url=null;a.xscale=1;a.yscale=1;a.width=12;a.height=
12;a.xoffset=0;a.yoffset=0;a.source=null;return a}a.__extends(e,b);c=e;e.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=c&&(f.width=h.toPt(c));null!=d&&(f.height=h.toPt(d));return f};e.prototype.clone=function(){var a=new c({color:m.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",m.clone(this.source));return a};e.prototype.hash=function(){return b.prototype.hash.call(this)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var c;a.__decorate([l.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([l.property(d.urlPropertyDefinition)],e.prototype,"url",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],
e.prototype,"xscale",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],e.prototype,"yscale",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"width",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"height",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"xoffset",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"yoffset",void 0);
a.__decorate([l.property(d.sourcePropertyDefinition)],e.prototype,"source",void 0);return e=c=a.__decorate([l.subclass("esri.symbols.PictureFillSymbol")],e)}(e)})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils","../../support/persistableUrlUtils"],function(q,b,a,m){function h(b,e,h){return e.imageData?a.makeData({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):l(e.url,h)}function l(b,e){return!e||"service"!==e.origin&&"portal-item"!==
e.origin||!e.layer||"feature"!==e.layer.type&&"stream"!==e.layer.type||a.isAbsolute(b)||!e.layer.parsedUrl?m.fromJSON(b,e):a.join(e.layer.parsedUrl.path,"images",b)}function e(b,e,h,c){a.isDataProtocol(b)?(b=a.dataComponents(b),e.contentType=b.mediaType,e.imageData=b.data,h&&h.imageData===e.imageData&&h.url&&m.write(h.url,e,"url",c)):m.write(b,e,"url",c)}Object.defineProperty(b,"__esModule",{value:!0});b.sourcePropertyDefinition=b.urlPropertyDefinition=b.writeImageDataAndUrl=b.read=b.readImageDataOrUrl=
void 0;b.readImageDataOrUrl=h;b.read=l;b.writeImageDataAndUrl=e;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:h},write:{writer:function(a,b,h,c){e(a,b,this.source,c)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,e){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=l(b.url,e));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),
function(q,b,a,m,h,l,e,d){return function(b){function e(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.color=null;a.type="picture-marker";a.url=null;a.source=null;a.height=12;a.width=12;a.size=null;return a}a.__extends(e,b);c=e;e.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);null!=b&&(f.width=h.toPt(b));null!=c&&(f.height=h.toPt(c));return f};e.prototype.readHeight=function(a,b){return b.size||
a};e.prototype.readWidth=function(a,b){return b.size||a};e.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",m.clone(this.source));return a};e.prototype.hash=function(){return b.prototype.hash.call(this)+"."+this.height+"."+this.url+"."+this.width};var c;a.__decorate([l.property({json:{write:!1}})],e.prototype,"color",void 0);a.__decorate([l.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],
e.prototype,"type",void 0);a.__decorate([l.property(d.urlPropertyDefinition)],e.prototype,"url",void 0);a.__decorate([l.property(d.sourcePropertyDefinition)],e.prototype,"source",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"height",void 0);a.__decorate([l.reader("height",["height","size"])],e.prototype,"readHeight",null);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"width",void 0);a.__decorate([l.property({json:{write:!1}})],
e.prototype,"size",void 0);return e=c=a.__decorate([l.subclass("esri.symbols.PictureMarkerSymbol")],e)}(e)})},"esri/symbols/PointSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,k,f){var t=m.ofType({base:null,key:"type",typeMap:{icon:d,object:g,
text:c}}),r=m.ofType({base:null,key:"type",typeMap:{icon:d,object:g}});return function(b){function g(a){a=b.call(this,a)||this;a.verticalOffset=null;a.callout=null;a.symbolLayers=new t;a.type="point-3d";return a}a.__extends(g,b);p=g;g.prototype.writeSymbolLayers=function(a,b,c,f){var d=a.filter(function(a){return"text"!==a.type});f&&f.messages&&d.length<a.length&&(a=a.find(function(a){return"text"===a.type}),f.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",
{symbolLayer:a})));b[c]=d.map(function(a){return a.write({},f)}).toArray()};g.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};g.prototype.hasVisibleCallout=function(){return k.hasVisibleCallout(this)};g.prototype.hasVisibleVerticalOffset=function(){return k.hasVisibleVerticalOffset(this)};g.prototype.clone=
function(){return new p({verticalOffset:l.clone(this.verticalOffset),callout:l.clone(this.callout),styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};g.fromSimpleMarkerSymbol=function(a){return new p({symbolLayers:[d.fromSimpleMarkerSymbol(a)]})};g.fromPictureMarkerSymbol=function(a){return new p({symbolLayers:[d.fromPictureMarkerSymbol(a)]})};g.fromCIMSymbol=function(a){return new p({symbolLayers:[d.fromCIMSymbol(a)],callout:{type:"line",
size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};g.fromTextSymbol=function(a){return new p({symbolLayers:[c.fromTextSymbol(a)]})};var p;a.__decorate([e.property({type:f.default,json:{write:!0}})],g.prototype,"verticalOffset",void 0);a.__decorate([e.property(k.calloutProperty)],g.prototype,"callout",void 0);a.__decorate([e.property({type:t,json:{type:r,origins:{"web-scene":{type:r}}}})],g.prototype,"symbolLayers",void 0);a.__decorate([e.writer("web-scene","symbolLayers")],g.prototype,"writeSymbolLayers",
null);a.__decorate([e.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],g.prototype,"type",void 0);return g=p=a.__decorate([e.subclass("esri.symbols.PointSymbol3D")],g)}(n)})},"esri/symbols/PolygonSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p){var D=m.ofType({base:null,key:"type",typeMap:{extrude:g,fill:n,icon:c,line:k,object:f,text:r,water:p}}),A=m.ofType({base:null,key:"type",typeMap:{extrude:g,fill:n,icon:c,line:k,object:f,water:p}});return function(b){function c(a){a=b.call(this,a)||this;a.type="polygon-3d";return a}a.__extends(c,b);f=c;c.prototype.writeSymbolLayers=function(a,b,c,f){var d=a.filter(function(a){return"text"!==a.type});f&&f.messages&&d.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),f.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=d.map(function(a){return a.write({},f)}).toArray()};c.prototype.clone=function(){return new f({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};c.fromJSON=function(a){var b=new f;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=
b.symbolLayers.getItemAt(0),d=b.symbolLayers.getItemAt(1);!d.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:d.size,color:e.isSome(d.material)?d.material.color:null});b.symbolLayers.removeAt(1)}return b};c.fromSimpleFillSymbol=function(a){return new f({symbolLayers:[n.fromSimpleFillSymbol(a)]})};var f;a.__decorate([d.property({type:D,json:{type:A}})],c.prototype,"symbolLayers",void 0);a.__decorate([d.writer("web-scene","symbolLayers")],c.prototype,"writeSymbolLayers",
null);a.__decorate([d.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=f=a.__decorate([d.subclass("esri.symbols.PolygonSymbol3D")],c)}(t)})},"esri/symbols/SimpleFillSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(q,b,a,m,h,l,e,d,g){var n=new h.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",
esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(b){function c(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.color=new m([0,0,0,.25]);a.outline=new g;a.type="simple-fill";a.style="solid";return a}a.__extends(c,b);f=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);b&&(f.outline=b);c&&(f.color=
c);return f};c.prototype.clone=function(){return new f({color:l.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};c.prototype.hash=function(){return""+b.prototype.hash.call(this)+this.style+"."+(this.color&&this.color.hash())};var f;a.__decorate([e.property()],c.prototype,"color",void 0);a.__decorate([e.property()],c.prototype,"outline",void 0);a.__decorate([e.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([e.property({type:n.apiValues,
json:{read:n.read,write:n.write}})],c.prototype,"style",void 0);return c=f=a.__decorate([e.subclass("esri.symbols.SimpleFillSymbol")],c)}(d)})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(q,b,a,m,h,l,e,d,g,n){var c=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",
esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(b){function f(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.color=new m([255,255,255,.25]);a.type="simple-marker";a.size=12;a.style="circle";a.outline=new n;return a}a.__extends(f,b);g=f;f.prototype.normalizeCtorArgs=function(a,b,c,f){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);null!=b&&(d.size=e.toPt(b));c&&(d.outline=c);f&&(d.color=f);return d};f.prototype.writeColor=function(a,
b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(f.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!1,configurable:!0});f.prototype.clone=function(){return new g({angle:this.angle,color:l.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};f.prototype.hash=function(){var a;return b.prototype.hash.call(this)+
"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style+"."+(null===(a=this.outline)||void 0===a?void 0:a.hash())};var g;a.__decorate([d.property()],f.prototype,"color",void 0);a.__decorate([d.writer("color")],f.prototype,"writeColor",null);a.__decorate([d.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property()],f.prototype,"size",void 0);a.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],f.prototype,"style",
void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"path",null);a.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],f.prototype,"outline",void 0);return f=g=a.__decorate([d.subclass("esri.symbols.SimpleMarkerSymbol")],f)}(g)})},"esri/symbols/TextSymbol":function(){define("require exports tslib ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(q,b,a,m,h,l,e,d,g){return function(b){function c(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,a)||this;a.backgroundColor=null;a.borderLineColor=null;a.borderLineSize=null;a.font=new d;a.horizontalAlignment="center";a.kerning=!0;a.haloColor=null;a.haloSize=null;a.rightToLeft=null;a.rotated=!1;a.text="";a.type="text";a.verticalAlignment=null;a.xoffset=0;a.yoffset=0;a.angle=0;a.width=null;a.lineWidth=192;a.lineHeight=1;return a}a.__extends(c,b);g=c;c.prototype.normalizeCtorArgs=
function(a,b,c){if(a&&"string"!==typeof a)return a;var f={};a&&(f.text=a);b&&(f.font=b);c&&(f.color=c);return f};c.prototype.writeLineWidth=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};c.prototype.castLineWidth=function(a){return l.toPt(a)};c.prototype.writeLineHeight=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};c.prototype.clone=function(){return new g({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,
color:h.clone(this.color),font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};c.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+
"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var g;a.__decorate([e.property({type:m,json:{write:!0}})],c.prototype,"backgroundColor",void 0);a.__decorate([e.property({type:m,json:{write:!0}})],
c.prototype,"borderLineColor",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"borderLineSize",void 0);a.__decorate([e.property({type:d,json:{write:!0}})],c.prototype,"font",void 0);a.__decorate([e.property({type:["left","right","center","justify"],json:{write:!0}})],c.prototype,"horizontalAlignment",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"kerning",void 0);a.__decorate([e.property({type:m,json:{write:!0}})],c.prototype,"haloColor",
void 0);a.__decorate([e.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"haloSize",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"rightToLeft",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"rotated",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([e.enumeration({esriTS:"text"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([e.property({type:["baseline",
"top","middle","bottom"],json:{write:!0}})],c.prototype,"verticalAlignment",void 0);a.__decorate([e.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);a.__decorate([e.property({type:Number,cast:l.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);a.__decorate([e.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],c.prototype,"angle",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,
"width",void 0);a.__decorate([e.property({type:Number})],c.prototype,"lineWidth",void 0);a.__decorate([e.writer("lineWidth")],c.prototype,"writeLineWidth",null);a.__decorate([e.cast("lineWidth")],c.prototype,"castLineWidth",null);a.__decorate([e.property({type:Number})],c.prototype,"lineHeight",void 0);a.__decorate([e.writer("lineHeight")],c.prototype,"writeLineHeight",null);return c=g=a.__decorate([e.subclass("esri.symbols.TextSymbol")],c)}(g)})},"esri/symbols/WebStyleSymbol":function(){define("require exports tslib ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./Symbol ./support/Thumbnail @dojo/framework/shim/Promise".split(" "),
function(q,b,a,m,h,l,e,d,g,n){function c(){return new Promise(function(a,b){q(["./support/styleUtils"],a,b)})}var k=m.getLogger("esri.symbols.WebStyleSymbol");return function(b){function f(a){a=b.call(this,a)||this;a.styleName=null;a.portal=null;a.styleUrl=null;a.thumbnail=null;a.name=null;a.type="web-style";return a}a.__extends(f,b);g=f;f.prototype.read=function(a,c){this.portal=c?c.portal:void 0;b.prototype.read.call(this,a,c)};f.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,
styleName:this.styleName,portal:this.portal})};f.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};f.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};f.prototype._fetchSymbol=function(b,f){return a.__awaiter(this,void 0,void 0,function(){var d,e;return a.__generator(this,function(a){switch(a.label){case 0:return[4,c()];case 1:return d=a.sent(),h.throwIfAborted(f),e=d.resolveWebStyleSymbol(this,{portal:this.portal},b,f),e.catch(function(a){k.error("#fetchSymbol()",
"Failed to create symbol from style",a)}),[2,e]}})})};var g;a.__decorate([l.property({json:{write:!1}})],f.prototype,"color",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"styleName",void 0);a.__decorate([l.property({type:e,json:{write:!1}})],f.prototype,"portal",void 0);a.__decorate([l.property({type:String,json:{read:d.read,write:d.write}})],f.prototype,"styleUrl",void 0);a.__decorate([l.property({type:n.default,json:{read:!1}})],f.prototype,"thumbnail",void 0);a.__decorate([l.property({type:String,
json:{write:!0}})],f.prototype,"name",void 0);a.__decorate([l.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],f.prototype,"type",void 0);return f=g=a.__decorate([l.subclass("esri.symbols.WebStyleSymbol")],f)}(g)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../symbols ../../core/Error ../Symbol3D ../WebStyleSymbol ./symbolConversion".split(" "),function(q,b,a,m,h,l,e){function d(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof h||a instanceof
l)){var d="cim"!==a.type?e.to3D(a):{symbol:null,error:new m("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new m("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return c&&"web-map"===c.origin&&"web-style"===a.type?(c.messages&&
c.messages.push(new m("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.",{symbol:a,context:c})),null):a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});b.fromJSON=b.write=void 0;b.write=function(a,b,c,e){(a=d(a,{},e))&&(b[c]=a)};b.fromJSON=function(b,d){return a.readSymbol(b,null,d)}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],
function(q,b,a,m){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=void 0;b.to3D=function(b,l,e,d){void 0===l&&(l=!1);void 0===e&&(e=!1);void 0===d&&(d=!0);if(!b)return{symbol:null};if(a.isSymbol3D(b)||b instanceof a.WebStyleSymbol)d=b.clone();else if("cim"===b.type)d=a.PointSymbol3D.fromCIMSymbol(b);else if(b instanceof a.SimpleLineSymbol)d=a.LineSymbol3D.fromSimpleLineSymbol(b);else if(b instanceof a.SimpleMarkerSymbol)d=a.PointSymbol3D.fromSimpleMarkerSymbol(b);else if(b instanceof a.PictureMarkerSymbol)d=
a.PointSymbol3D.fromPictureMarkerSymbol(b);else if(b instanceof a.SimpleFillSymbol)d=a.PolygonSymbol3D.fromSimpleFillSymbol(b);else if(b instanceof a.TextSymbol)d=d?a.LabelSymbol3D.fromTextSymbol(b):a.PointSymbol3D.fromTextSymbol(b);else return{error:new m("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(b.type||b.declaredClass)+"' is unsupported in 3D",{symbol:b})};l&&(d.id=b.id);if(e&&a.isSymbol3D(d))for(b=0;b<d.symbolLayers.length;++b)d.symbolLayers.getItemAt(b)._ignoreDrivers=
!0;return{symbol:d}}})},"esri/renderers/Renderer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/SetUtils ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),function(q,b,a,m,h,l,e,d){var g=new m.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(b){function c(a){a=b.call(this,a)||this;a.authoringInfo=null;a.type=
null;return a}a.__extends(c,b);c.prototype.getRequiredFields=function(b){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:if(!this.collectRequiredFields)return[2,[]];c=new Set;return[4,this.collectRequiredFields(c,b)];case 1:return a.sent(),[2,l.valuesOfSet(c).sort()]}})})};c.prototype.getSymbol=function(a,b){};c.prototype.getSymbolAsync=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){return[2]})})};
c.prototype.getSymbols=function(){return[]};c.prototype.getAttributeHash=function(){return JSON.stringify(this)};c.prototype.getMeshHash=function(){return JSON.stringify(this)};a.__decorate([e.property({type:d,json:{write:!0}})],c.prototype,"authoringInfo",void 0);a.__decorate([e.property({type:g.apiValues,readOnly:!0,json:{type:g.jsonValues,read:!1,write:{writer:g.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=a.__decorate([e.subclass("esri.renderers.Renderer")],c)}(h.JSONSupport)})},
"esri/renderers/support/AuthoringInfo":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),function(q,b,a,m,h,l,e,d,g,n,c){var k=new m.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",
esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),f=new m.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),t="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(b){function h(a){a=b.call(this,a)||this;a.colorRamp=null;a.lengthUnit=
null;a.maxSliderValue=null;a.minSliderValue=null;a.visualVariables=null;return a}a.__extends(h,b);m=h;Object.defineProperty(h.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!1,configurable:!0});h.prototype.readColorRamp=function(a){if(a)return c.fromJSON(a)};Object.defineProperty(h.prototype,
"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(a){this._set("field1",a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",
a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"standardDeviationInterval",
{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",a)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");
this._set("type",b)},enumerable:!1,configurable:!0});h.prototype.clone=function(){return new m({classificationMethod:this.classificationMethod,colorRamp:l.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:l.clone(this.field1),field2:l.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&
this.visualVariables.map(function(a){return a.clone()})})};var m;a.__decorate([e.property({type:k.apiValues,value:null,dependsOn:["type"],json:{type:k.jsonValues,read:k.read,write:k.write,origins:{"web-document":{default:"manual",type:k.jsonValues,read:k.read,write:k.write}}}})],h.prototype,"classificationMethod",null);a.__decorate([e.property({types:c.types,json:{write:!0}})],h.prototype,"colorRamp",void 0);a.__decorate([e.reader("colorRamp")],h.prototype,"readColorRamp",null);a.__decorate([e.property({type:[String],
value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"fields",null);a.__decorate([e.property({type:g.default,value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"field1",null);a.__decorate([e.property({type:g.default,value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"field2",null);a.__decorate([e.property({type:["HH","HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"focus",null);a.__decorate([e.property({type:Number,value:null,dependsOn:["type"],
json:{type:d.Integer,write:!0}})],h.prototype,"numClasses",null);a.__decorate([e.property({type:t,json:{type:t,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],h.prototype,"lengthUnit",void 0);a.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"maxSliderValue",void 0);a.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"minSliderValue",void 0);a.__decorate([e.property({type:[.25,
.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],h.prototype,"standardDeviationInterval",null);a.__decorate([e.property({type:String,value:null,json:{type:f.jsonValues,read:f.read,write:f.write}})],h.prototype,"type",null);a.__decorate([e.property({type:[n],json:{write:!0}})],h.prototype,"visualVariables",void 0);return h=m=a.__decorate([e.subclass("esri.renderers.support.AuthoringInfo")],h)}(h.JSONSupport)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),
function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.AuthoringInfoFieldInfo=void 0;q=function(b){function d(a){a=b.call(this,a)||this;a.field="";a.normalizationField="";a.label="";a.classBreakInfos=[];return a}a.__extends(d,b);n=d;d.prototype.clone=function(){return new n({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:h.clone(this.classBreakInfos)})};var n;a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"field",
void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({type:[e.default],json:{write:!0}})],d.prototype,"classBreakInfos",void 0);return d=n=a.__decorate([l.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],d)}(m.JSONSupport);b.AuthoringInfoFieldInfo=q;b.default=q})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.AuthoringInfoClassBreakInfo=void 0;q=function(b){function e(a){a=b.call(this,a)||this;a.minValue=0;a.maxValue=0;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({minValue:this.minValue,maxValue:this.maxValue})};var d;a.__decorate([h.property({type:Number,json:{write:!0}})],e.prototype,"minValue",void 0);a.__decorate([h.property({type:Number,
json:{write:!0}})],e.prototype,"maxValue",void 0);return e=d=a.__decorate([h.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],e)}(m.JSONSupport);b.AuthoringInfoClassBreakInfo=q;b.default=q})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),function(q,b,a,m,h,l,e){var d=new m.default({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"}),g=new m.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),n={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},c=["high-to-low","above-and-below","centered-on","extremes"],k="seconds minutes hours days months years".split(" ");return function(b){function f(a){a=b.call(this,a)||this;a.endTime=null;a.field=null;a.maxSliderValue=null;a.minSliderValue=null;a.startTime=
null;a.type=null;a.units=null;return a}a.__extends(f,b);h=f;f.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};f.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(f.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"theme",{get:function(){return"color"===this.type?
this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!1,configurable:!0});f.prototype.clone=function(){return new h({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var h;a.__decorate([l.property({types:n,json:{write:!0}})],f.prototype,"endTime",void 0);a.__decorate([e.cast("endTime")],f.prototype,"castEndTime",
null);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"maxSliderValue",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"minSliderValue",void 0);a.__decorate([l.property({types:n,json:{write:!0}})],f.prototype,"startTime",void 0);a.__decorate([e.cast("startTime")],f.prototype,"castStartTime",null);a.__decorate([l.property({type:d.apiValues,value:null,dependsOn:["type"],
json:{type:d.jsonValues,read:d.read,write:d.write}})],f.prototype,"style",null);a.__decorate([l.property({type:c,value:null,dependsOn:["type"],json:{type:c,write:!0}})],f.prototype,"theme",null);a.__decorate([l.property({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],f.prototype,"type",void 0);a.__decorate([l.property({type:k,json:{type:k,write:!0}})],f.prototype,"units",void 0);return f=h=a.__decorate([l.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],f)}(h.JSONSupport)})},
"esri/tasks/support/colorRamps":function(){define(["require","exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.fromJSON=b.types=void 0;b.types={key:"type",base:m,typeMap:{algorithmic:a,multipart:h}};b.fromJSON=function(b){return b&&b.type?"algorithmic"===b.type?a.fromJSON(b):"multipart"===b.type?h.fromJSON(b):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports tslib ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
function(q,b,a,m,h,l,e,d){return function(b){function d(a){a=b.call(this,a)||this;a.algorithm=null;a.fromColor=null;a.toColor=null;a.type="algorithmic";return a}a.__extends(d,b);c=d;d.prototype.clone=function(){return new c({fromColor:h.clone(this.fromColor),toColor:h.clone(this.toColor),algorithm:this.algorithm})};var c;a.__decorate([l.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],d.prototype,"algorithm",void 0);a.__decorate([l.property({type:m,
json:{type:[e.Integer],write:!0}})],d.prototype,"fromColor",void 0);a.__decorate([l.property({type:m,json:{type:[e.Integer],write:!0}})],d.prototype,"toColor",void 0);a.__decorate([l.property({type:["algorithmic"]})],d.prototype,"type",void 0);return d=c=a.__decorate([l.subclass("esri.tasks.support.AlgorithmicColorRamp")],d)}(d)})},"esri/tasks/support/ColorRamp":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=
b.call(this,a)||this;a.type=null;return a}a.__extends(e,b);a.__decorate([h.property({readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=a.__decorate([h.subclass("esri.tasks.support.ColorRamp")],e)}(m.JSONSupport)})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;
a.colorRamps=null;a.type="multipart";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({colorRamps:m.clone(this.colorRamps)})};var e;a.__decorate([h.property({type:[l],json:{write:!0}})],d.prototype,"colorRamps",void 0);a.__decorate([h.property({type:["multipart"]})],d.prototype,"type",void 0);return d=e=a.__decorate([h.subclass("esri.tasks.support.MultipartColorRamp")],d)}(e)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports tslib ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c){Object.defineProperty(b,"__esModule",{value:!0});b.VisualVariablesMixin=void 0;var k={base:n,key:"type",typeMap:{opacity:e,color:l,rotation:d,size:g}};b.VisualVariablesMixin=function(b){return function(b){function f(){var a=null!==b&&b.apply(this,arguments)||this;a._vvFactory=new c;return a}a.__extends(f,b);Object.defineProperty(f.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},
enumerable:!1,configurable:!0});f.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,b,c)};f.prototype.writeVisualVariables=function(a,b,c,f){b[c]=this._vvFactory.writeVariables(a,f)};Object.defineProperty(f.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!1,configurable:!0});f.prototype.hasVisualVariables=function(a,
b){return a?!!this.getVisualVariablesForType(a,b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};f.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};f.prototype.collectVVRequiredFields=function(b,c){return a.__awaiter(this,
void 0,void 0,function(){var f,d,e,g;return a.__generator(this,function(a){switch(a.label){case 0:f=[],this.visualVariables&&(f=f.concat(this.visualVariables)),d=0,e=f,a.label=1;case 1:if(!(d<e.length))return[3,4];g=e[d];if(!g)return[3,3];g.field&&h.collectField(b,c,g.field);g.normalizationField&&h.collectField(b,c,g.normalizationField);return g.valueExpression?[4,h.collectArcadeFieldNames(b,c,g.valueExpression)]:[3,3];case 2:a.sent(),a.label=3;case 3:return d++,[3,1];case 4:return[2]}})})};a.__decorate([m.property({types:[k],
value:null,json:{write:!0}})],f.prototype,"visualVariables",null);a.__decorate([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],f.prototype,"readVisualVariables",null);a.__decorate([m.writer("visualVariables")],f.prototype,"writeVisualVariables",null);return f=a.__decorate([m.subclass("esri.renderers.mixins.VisualVariablesMixin")],f)}(b)}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="color";a.normalizationField=null;return a}a.__extends(d,b);e=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!1,configurable:!0});d.prototype.clone=function(){return new e({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.prototype.getAttributeHash=function(){return b.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};d.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var e;a.__decorate([m.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],d.prototype,"cache",null);a.__decorate([m.property({type:["color"],json:{type:["colorInfo"]}})],d.prototype,"type",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([m.property({type:[l],json:{write:!0}})],d.prototype,"stops",null);return d=e=a.__decorate([m.subclass("esri.renderers.visualVariables.ColorVariable")],
d)}(h)})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),function(q,b,a,m,h,l,e,d,g){var n=l.getLogger("esri.renderers.visualVariables.VisualVariable"),c=new m.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(b){function f(a){a=
b.call(this,a)||this;a.index=null;a.type=null;a.field=null;a.valueExpression=null;a.valueExpressionTitle=null;a.legendOptions=null;return a}a.__extends(f,b);f.prototype.castField=function(a){return null==a?a:"function"===typeof a?(n.error(".field: field must be a string value"),null):d.ensureString(a)};Object.defineProperty(f.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!1,configurable:!0});f.prototype.clone=function(){};f.prototype.getAttributeHash=function(){return this.type+
"-"+this.field+"-"+this.valueExpression};a.__decorate([e.property()],f.prototype,"index",void 0);a.__decorate([e.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],f.prototype,"type",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);a.__decorate([e.cast("field")],f.prototype,"castField",null);a.__decorate([e.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],
f.prototype,"valueExpressionTitle",void 0);a.__decorate([e.property({readOnly:!0,dependsOn:["valueExpression"]})],f.prototype,"arcadeRequired",null);a.__decorate([e.property({type:g,json:{write:!0}})],f.prototype,"legendOptions",void 0);return f=a.__decorate([e.subclass("esri.renderers.visualVariables.VisualVariable")],f)}(h.JSONSupport)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators",
"../../support/LegendOptions"],function(q,b,a,m,h){return function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.showLegend=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({title:this.title,showLegend:this.showLegend})};var d;a.__decorate([m.property({type:Boolean,json:{write:!0}})],e.prototype,"showLegend",void 0);return e=d=a.__decorate([m.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],e)}(h.default)})},"esri/renderers/support/LegendOptions":function(){define(["require",
"exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.LegendOptions=void 0;q=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.title=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({title:this.title})};var d;a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);return e=d=a.__decorate([h.subclass("esri.renderers.support.LegendOptions")],
e)}(m.JSONSupport);b.LegendOptions=q;b.default=q})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.color=null;a.label=null;a.value=null;return a}a.__extends(d,b);h=d;d.prototype.writeValue=function(a,b,f){b[f]=null==a?0:a};d.prototype.clone=
function(){return new h({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var h;a.__decorate([l.property({type:m,json:{type:[e.Integer],write:!0}})],d.prototype,"color",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({type:Number,json:{write:{allowNull:!0}}})],d.prototype,"value",void 0);a.__decorate([l.writer("value")],d.prototype,"writeValue",null);return d=h=a.__decorate([l.subclass("esri.renderers.visualVariables.support.ColorStop")],
d)}(h.JSONSupport)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports tslib ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="opacity";a.normalizationField=null;return a}a.__extends(d,b);e=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",a)},enumerable:!1,configurable:!0});d.prototype.clone=function(){return new e({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&
this.legendOptions.clone()})};d.prototype.getAttributeHash=function(){return b.prototype.getAttributeHash.call(this)+"-"+this.normalizationField};d.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var e;a.__decorate([m.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],d.prototype,"cache",null);a.__decorate([m.property({type:["opacity"],json:{type:["transparencyInfo"]}})],d.prototype,"type",void 0);a.__decorate([m.property({type:String,
json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([m.property({type:[l],json:{write:!0}})],d.prototype,"stops",null);return d=e=a.__decorate([m.subclass("esri.renderers.visualVariables.OpacityVariable")],d)}(h)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),function(q,b,
a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.label=null;a.opacity=null;a.value=null;return a}a.__extends(d,b);n=d;d.prototype.readOpacity=function(a,b){return e.transparencyToOpacity(b.transparency)};d.prototype.writeOpacity=function(a,b,f){b[f]=e.opacityToTransparency(a)};d.prototype.clone=function(){return new n({label:this.label,opacity:this.opacity,value:this.value})};var n;a.__decorate([h.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([h.property({type:Number,
json:{type:l.Integer,write:{target:"transparency"}}})],d.prototype,"opacity",void 0);a.__decorate([h.reader("opacity",["transparency"])],d.prototype,"readOpacity",null);a.__decorate([h.writer("opacity")],d.prototype,"writeOpacity",null);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"value",void 0);return d=n=a.__decorate([h.subclass("esri.renderers.visualVariables.support.OpacityStop")],d)}(m.JSONSupport)})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.axis=null;a.type="rotation";a.rotationType="geographic";a.valueExpressionTitle=null;return a}a.__extends(d,b);e=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!1,configurable:!0});d.prototype.writeValueExpressionTitleWebScene=function(a,b,d,f){f&&f.messages&&f.messages.push(new m("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:f}))};d.prototype.clone=function(){return new e({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var e;a.__decorate([h.property({readOnly:!0,dependsOn:["valueExpression"]})],d.prototype,"cache",null);a.__decorate([h.property({type:["heading","tilt",
"roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],d.prototype,"axis",void 0);a.__decorate([h.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);a.__decorate([h.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);a.__decorate([h.writer("web-scene",
"valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=e=a.__decorate([h.subclass("esri.renderers.visualVariables.RotationVariable")],d)}(l)})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports tslib ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f){function t(b){if(null!=b){if("string"===typeof b||"number"===typeof b)return e.toPt(b);if("size"===b.type){if(k.isSizeVariable(b))return b;b=a.__assign({},b);delete b.type;return new y(b)}}}function r(a,b,c){if("object"!==typeof a)return a;b=new y;b.read(a,c);return b}var p=l.getLogger("esri.renderers.visualVariables.SizeVariable"),D=new h.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),A=new h.default({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),y=function(b){function e(a){a=b.call(this,a)||this;a.axis=null;a.legendOptions=null;a.normalizationField=null;a.scaleBy=null;a.target=null;a.type="size";a.useSymbolValue=null;a.valueExpression=null;a.valueRepresentation=null;a.valueUnit=null;return a}a.__extends(e,b);
g=e;Object.defineProperty(e.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:f.viewScaleRE.test(this.valueExpression)}},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"expression",{set:function(a){p.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",
a)):this._set("expression",null)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"index",{set:function(a){k.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");k.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"inputValueType",{get:function(){return k.getInputValueType(this)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,
"maxDataValue",{set:function(a){a&&this.stops&&(p.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"maxSize",{set:function(a){a&&this.stops&&(p.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!1,configurable:!0});e.prototype.castMaxSize=function(a){return t(a)};e.prototype.readMaxSize=function(a,b,c){return r(a,b,c)};Object.defineProperty(e.prototype,
"minDataValue",{set:function(a){a&&this.stops&&(p.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"minSize",{set:function(a){a&&this.stops&&(p.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!1,configurable:!0});e.prototype.castMinSize=function(a){return t(a)};e.prototype.readMinSize=function(a,b,c){return r(a,b,c)};Object.defineProperty(e.prototype,
"arcadeRequired",{get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&
(p.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),a=null);this._set("stops",a)},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"transformationType",{get:function(){return k.getTransformationType(this,this.inputValueType)},enumerable:!1,configurable:!0});e.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};e.prototype.writeValueExpressionWebScene=function(a,b,c,f){"$view.scale"===a?f&&f.messages&&(a=
this.index,f.messages.push(new m("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:f}))):b[c]=a};e.prototype.readValueUnit=function(a){return a?A.read(a):null};e.prototype.clone=function(){return new g({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:k.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:k.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};
e.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=this.stops,b=a.map(function(a){return a.size}).reverse(),c=a.length,f=0;f<c;f++)a[f].size=b[f];return this};e.prototype.getAttributeHash=function(){return b.prototype.getAttributeHash.call(this)+"-"+this.target+"-"+this.normalizationField};e.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||
0})};var g;a.__decorate([d.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],e.prototype,"cache",null);a.__decorate([d.property({type:D.apiValues,json:{type:D.jsonValues,origins:{"web-map":{read:!1}},read:D.read,write:D.write}})],e.prototype,"axis",void 0);a.__decorate([d.property({type:String,value:null,json:{read:!1}})],e.prototype,"expression",null);a.__decorate([d.property()],e.prototype,"index",null);a.__decorate([d.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],
e.prototype,"inputValueType",null);a.__decorate([d.property({type:c,json:{write:!0}})],e.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],e.prototype,"maxDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],e.prototype,"maxSize",null);a.__decorate([d.cast("maxSize")],e.prototype,"castMaxSize",null);a.__decorate([d.reader("maxSize")],e.prototype,"readMaxSize",null);a.__decorate([d.property({type:Number,value:null,
json:{write:!0}})],e.prototype,"minDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],e.prototype,"minSize",null);a.__decorate([d.cast("minSize")],e.prototype,"castMinSize",null);a.__decorate([d.reader("minSize")],e.prototype,"readMinSize",null);a.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);a.__decorate([d.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],e.prototype,
"arcadeRequired",null);a.__decorate([d.property({type:String})],e.prototype,"scaleBy",void 0);a.__decorate([d.property({type:[n],value:null,json:{write:!0}})],e.prototype,"stops",null);a.__decorate([d.property({type:["outline"],json:{write:!0}})],e.prototype,"target",void 0);a.__decorate([d.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],e.prototype,"transformationType",null);a.__decorate([d.property({type:["size"],
json:{type:["sizeInfo"]}})],e.prototype,"type",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],e.prototype,"useSymbolValue",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);a.__decorate([d.reader("valueExpression",["valueExpression","expression"])],e.prototype,"readValueExpression",null);a.__decorate([d.writer("web-scene","valueExpression")],e.prototype,"writeValueExpressionWebScene",null);a.__decorate([d.property({type:["radius",
"diameter","area","width","distance"],json:{write:!0}})],e.prototype,"valueRepresentation",void 0);a.__decorate([d.property({type:A.apiValues,json:{write:A.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],e.prototype,"valueUnit",void 0);a.__decorate([d.reader("valueUnit")],e.prototype,"readValueUnit",null);return e=g=a.__decorate([d.subclass("esri.renderers.visualVariables.SizeVariable")],e)}(g);return y})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.label=null;a.size=null;a.value=null;return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({label:this.label,size:this.size,value:this.value})};var e;a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],d.prototype,"size",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"value",
void 0);return d=e=a.__decorate([l.subclass("esri.renderers.visualVariables.support.SizeStop")],d)}(m.JSONSupport)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./VisualVariableLegendOptions"],function(q,b,a,m,h){return function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.customValues=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({title:this.title,
showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var d;a.__decorate([m.property({type:[Number],json:{write:!0}})],e.prototype,"customValues",void 0);return e=d=a.__decorate([m.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],e)}(h)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(q,b){function a(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?
"field":"unknown"}Object.defineProperty(b,"__esModule",{value:!0});b.getTransformationType=b.getInputValueType=b.isValidNumber=b.isSizeVariable=void 0;b.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};b.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};b.getInputValueType=a;b.getTransformationType=function(b,h){return"unknown"===(h||a(b))?"constant":b.stops?"stops":null!=b.minSize&&null!=b.maxSize&&null!=b.minDataValue&&null!=b.maxDataValue?
"clamped-linear":"unknown"===(b.valueUnit||"unknown")?null!=b.minSize&&null!=b.minDataValue?b.minSize&&b.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("require exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/utils ./sizeVariableUtils".split(" "),function(q,b,a,m,h,l,e,d,g){function n(b,c,f){if(b="visualVariables"in b&&b.visualVariables?
b.visualVariables.filter(function(a){return"color"===a.type})[0]:b)if("esri.renderers.visualVariables.ColorVariable"!==b.declaredClass)y.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var d="number"===typeof c,g=d?null:c,k=g&&g.attributes,h=d?c:null,l=b.field,n=b.cache;c=n.ipData;var p=n.hasExpression,n=b.cache.compiledFunc;if(!l&&!p)return(f=b.stops)&&f[0]&&f[0].color;if("number"!==typeof h)if(p){if(!e.isSome(f)||!e.isSome(f.arcade)){y.error("Use of arcade expressions requires an arcade context");
return}h=f.arcade.arcadeUtils;l=h.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:f.spatialReference});g=h.createExecContext(g,l);n||(n=h.createSyntaxTree(b.valueExpression),n=h.createFunction(n),b.cache.compiledFunc=n);h=h.executeFunction(n,g)}else k&&(h=k[l]);g=b.normalizationField;k=k?parseFloat(k[g]):void 0;if(null!=h&&(!g||d||!isNaN(k)&&0!==k)&&(isNaN(k)||d||(h/=k),d=A(h,c)))return k=d[0],c=d[1],f=k===c?b.stops[k].color:a.blendColors(b.stops[k].color,b.stops[c].color,d[2],
e.isSome(f)?f.color:void 0),new a(f)}}function c(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"opacity"===a.type})[0]:a)if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)y.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var f="number"===typeof b,d=f?null:b,g=d&&d.attributes,k=f?b:null,h=a.field,l=a.cache;b=l.ipData;var n=l.hasExpression,l=a.cache.compiledFunc;if(!h&&!n)return(a=
a.stops)&&a[0]&&a[0].opacity;if("number"!==typeof k)if(n){if(e.isNone(c)||e.isNone(c.arcade)){y.error("Use of arcade expressions requires an arcade context");return}k=c.arcade.arcadeUtils;c=k.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=k.createExecContext(d,c);l||(d=k.createSyntaxTree(a.valueExpression),l=k.createFunction(d),a.cache.compiledFunc=l);k=k.executeFunction(l,c)}else g&&(k=g[h]);c=a.normalizationField;g=g?parseFloat(g[c]):void 0;if(null!=
k&&(!c||f||!isNaN(g)&&0!==g)&&(isNaN(g)||f||(k/=g),f=A(k,b))){b=f[0];g=f[1];if(b===g)return a.stops[b].opacity;b=a.stops[b].opacity;return b+(a.stops[g].opacity-b)*f[2]}}}function k(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"rotation"===a.type})[0]:a)if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)y.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");else{var f=a.axis||"heading",
d="heading"===f&&"arithmetic"===a.rotationType?90:0,f="heading"===f&&"arithmetic"===a.rotationType?-1:1,g="number"===typeof b?null:b,k=g&&g.attributes,h=a.field,l=a.cache.hasExpression;b=a.cache.compiledFunc;var n=0;if(!h&&!l)return n;if(l){if(e.isNone(c)||e.isNone(c.arcade)){y.error("Use of arcade expressions requires an arcade context");return}k=c.arcade.arcadeUtils;c=k.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=k.createExecContext(g,c);b||(b=k.createSyntaxTree(a.valueExpression),
b=k.createFunction(b),a.cache.compiledFunc=b);n=k.executeFunction(b,c)}else k&&(n=k[h]||0);return n="number"!==typeof n||isNaN(n)?null:d+f*n}}function f(a,b,c){var f="number"===typeof b,d=f?null:b,k=d&&d.attributes,h=f?b:null;b=a.cache.compiledFunc;if(a.cache.isScaleDriven)d=e.isSome(c)?c.scale:void 0,c=e.isSome(c)?c.view:void 0,null==d||c&&"3d"===c.type?(d=c=null,(d=a.stops)?(c=d[0].value,d=d[d.length-1].value):(c=a.minDataValue||0,d=a.maxDataValue||0),c=(c+d)/2):c=d,h=c;else if(!f)switch(a.inputValueType){case "expression":if(e.isNone(c)||
e.isNone(c.arcade)){y.error("Use of arcade expressions requires an arcade context");return}h=c.arcade.arcadeUtils;c=h.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=h.createExecContext(d,c);b||(d=h.createSyntaxTree(a.valueExpression),b=h.createFunction(d),a.cache.compiledFunc=b);h=h.executeFunction(b,c);break;case "field":k&&(h=k[a.field]);break;case "unknown":h=null}if(!g.isValidNumber(h))return null;if(f||!a.normalizationField)return h;a=k?parseFloat(k[a.normalizationField]):
null;return g.isValidNumber(a)&&0!==a?h/a:null}function t(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"size"===a.type})[0]:a)if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)y.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var d=f(a,b,c);b=D(d,a,b,c,a.cache.ipData);return null===b||void 0===b||isNaN(b)?0:b}}function r(a,b,c){return null==a?null:g.isSizeVariable(a)?t(a,b,c):g.isValidNumber(a)?
a:null}function p(a,b,c){return g.isValidNumber(c)&&a>c?c:g.isValidNumber(b)&&a<b?b:a}function D(a,b,c,f,g){switch(b.transformationType){case "additive":return f=r(b.minSize,c,f),a+(f||b.minDataValue);case "constant":return a=(a=b.stops)&&a.length&&a[0].size,null==a&&(a=b.minSize),r(a,c,f);case "clamped-linear":g=(a-b.minDataValue)/(b.maxDataValue-b.minDataValue);var k=r(b.minSize,c,f);c=r(b.maxSize,c,f);f=e.isSome(f)?f.shape:void 0;a<=b.minDataValue?b=k:a>=b.maxDataValue?b=c:"area"===b.scaleBy&&
f?(f=(b="circle"===f)?x*Math.pow(k/2,2):k*k,f+=g*((b?x*Math.pow(c/2,2):c*c)-f),b=b?2*Math.sqrt(f/x):Math.sqrt(f)):b=k+g*(c-k);return b;case "proportional":return g=e.isSome(f)?f.shape:void 0,a/=b.minDataValue,k=r(b.minSize,c,f),b=r(b.maxSize,c,f),f=null,f="circle"===g?2*Math.sqrt(a*Math.pow(k/2,2)):"square"===g||"diamond"===g||"image"===g?Math.sqrt(a*Math.pow(k,2)):a*k,p(f,k,b);case "stops":return g=A(a,g),k=g[0],a=g[1],g=g[2],k===a?b=r(b.stops[k].size,c,f):(k=r(b.stops[k].size,c,f),b=r(b.stops[a].size,
c,f),b=k+(b-k)*g),b;case "real-world-size":return g=(e.isSome(f)&&f.resolution?f.resolution:1)*d.meterIn[b.valueUnit],k=r(b.minSize,c,f),f=r(b.maxSize,c,f),b=b.valueRepresentation,c=null,c="area"===b?2*Math.sqrt(a/x)/g:"radius"===b||"distance"===b?2*a/g:a/g,p(c,k,f);case "identity":return a;case "unknown":return null}}function A(a,b){if(b){var c=0,f=b.length-1;b.some(function(b,d){if(a<b)return f=d,!0;c=d;return!1});return[c,f,(a-b[c])/(b[f]-b[c])]}}Object.defineProperty(b,"__esModule",{value:!0});
b.getAllSizes=b.getVisualVariableValues=b.getSizeRangeAtScale=b.getSizeForValue=b.getSizeFromNumberOrVariable=b.getSize=b.getRotationAngle=b.getOpacity=b.getColor=b.viewScaleRE=void 0;var y=l.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new m,x=Math.PI;b.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;b.getColor=n;b.getOpacity=c;b.getRotationAngle=k;b.getSize=t;b.getSizeFromNumberOrVariable=r;b.getSizeForValue=D;b.getSizeRangeAtScale=function(a,b,c){var f=c&&"3d"===
c.type;if(!(a.cache.isScaleDriven&&f||b))return null;c={scale:b,view:c};b=r(a.minSize,w,c);a=r(a.maxSize,w,c);if(null!=b||null!=a)return b>a&&(c=a,a=b,b=c),{minSize:b,maxSize:a}};b.getVisualVariableValues=function(a,b,f){if(a.visualVariables){var d=[],e=[],g=[],h=[],l=[],p=0;for(a=a.visualVariables;p<a.length;p++){var m=a[p];switch(m.type){case "color":e.push(m);break;case "opacity":g.push(m);break;case "rotation":l.push(m);break;case "size":h.push(m)}}e.forEach(function(a){var c=n(a,b,f);d.push({variable:a,
value:c})});g.forEach(function(a){var e=c(a,b,f);d.push({variable:a,value:e})});l.forEach(function(a){var c=k(a,b,f);d.push({variable:a,value:c})});h.forEach(function(a){var c=t(a,b,f);d.push({variable:a,value:c})});return d.filter(function(a){return null!=a.value})}};b.getAllSizes=function(a,b,c){for(var f=["proportional","proportional","proportional"],d=0;d<a.length;d++){var e=a[d],g=e.useSymbolValue?"symbol-value":t(e,b,c);switch(e.axis){case "width":f[0]=g;break;case "depth":f[1]=g;break;case "height":f[2]=
g;break;case "width-and-depth":f[0]=g;f[1]=g;break;case "all":case void 0:case null:f[0]=g;f[1]=g;f[2]=g;break;default:h.neverReached(e.axis)}}return f}})},"esri/Graphic":function(){define("require exports tslib ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/uid ./core/accessorSupport/decorators ./geometry/support/jsonUtils".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,k){q=function(b){function f(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=b.apply(this,
a)||this;a.layer=null;a.popupTemplate=null;a.sourceLayer=null;Object.defineProperty(a,"uid",{value:n.generateUID(),configurable:!0});return a}a.__extends(f,b);e=f;f.prototype.normalizeCtorArgs=function(a,b,c,f){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:f}};Object.defineProperty(f.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,
"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!1,
configurable:!0});f.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&"defaultPopupTemplate"in this.sourceLayer&&g.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};f.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};f.prototype.setAttribute=function(a,
b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};f.prototype.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};f.prototype.toJSON=function(){return{geometry:g.isSome(this.geometry)?this.geometry.toJSON():null,symbol:g.isSome(this.symbol)?
this.symbol.toJSON():null,attributes:a.__assign({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};f.prototype.clone=function(){return new e(this.cloneProperties())};f.prototype.cloneProperties=function(){return{attributes:d.clone(this.attributes),geometry:d.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:d.clone(this.symbol),visible:this.visible}};f.prototype._notifyLayer=function(a,
b,c,f){this.layer&&"graphicChanged"in this.layer&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=f),this.layer.graphicChanged(b))};var e;a.__decorate([c.property({value:null})],f.prototype,"attributes",null);a.__decorate([c.property({value:null,types:m.geometryTypes,json:{read:k.fromJSON}})],f.prototype,"geometry",null);a.__decorate([c.property()],f.prototype,"layer",void 0);a.__decorate([c.property({type:h})],f.prototype,"popupTemplate",void 0);a.__decorate([c.property()],
f.prototype,"sourceLayer",void 0);a.__decorate([c.property({value:null,types:l.symbolTypes})],f.prototype,"symbol",null);a.__decorate([c.property({type:Boolean,value:!0})],f.prototype,"visible",null);return f=e=a.__decorate([c.subclass("esri.Graphic")],f)}(e.JSONSupport);(q||(q={})).generateUID=n.generateUID;return q})},"esri/PopupTemplate":function(){define("require exports tslib ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/CustomContent ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y,w,x,v,C,z,u,B,E,F){var G=h.ofType({key:"type",defaultKeyValue:"button",base:B,typeMap:{button:E,toggle:F}}),J={base:w,key:"type",typeMap:{media:C,custom:x,text:z,attachments:y,fields:v}},K=d.getLogger("esri.PopupTemplate"),I=["attachments","fields","media","text"];return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.actions=null;a.content="";a.expressionInfos=null;a.fieldInfos=null;a.layerOptions=null;a.lastEditInfoEnabled=
!0;a.outFields=null;a.overwriteActions=!1;a.title="";a.relatedRecordsInfo=null;return a}a.__extends(d,b);l=d;d.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return k.ensureOneOfType(J,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||g.isPromiseLike(a))return a;K.error("content error","unsupported content value",{value:a});return null};d.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):
this._readPopupInfo(b)};d.prototype.writeContent=function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.filter(function(a){return-1!==I.indexOf(a.type)}).map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};d.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var f=
c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();f||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var d=c[a];"fields"===d.type&&this._writeFieldsContent(d,b)}};d.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};d.prototype.writeTitle=function(a,b){b.title=a||""};d.prototype.clone=function(){var a=this.actions,
a=a?e.clone(a.toArray()):[];return new l({actions:a,content:Array.isArray(this.content)?e.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?e.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?e.clone(this.fieldInfos):null,layerOptions:this.layerOptions?e.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?e.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,
relatedRecordsInfo:this.relatedRecordsInfo?e.clone(this.relatedRecordsInfo):null})};d.prototype.collectRequiredFields=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(d){switch(d.label){case 0:return[4,this._collectExpressionInfoFields(b,c,this.expressionInfos)];case 1:return d.sent(),f.collectFields(b,c,a.__spreadArrays(this.outFields||[],this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};
d.prototype.getRequiredFields=function(b){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:return c=new Set,[4,this.collectRequiredFields(c,b)];case 1:return a.sent(),[2,n.valuesOfSet(c).sort()]}})})};d.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=e.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=m.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===
a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};d.prototype._writeAttachmentContent=function(a){a.showAttachments||(a.showAttachments=!0)};d.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};d.prototype._writeMediaContent=function(b,c){Array.isArray(b.mediaInfos)&&b.mediaInfos.length&&(b=e.clone(b.mediaInfos),Array.isArray(c.mediaInfos)?c.mediaInfos=a.__spreadArrays(c.mediaInfos,b):c.mediaInfos=b)};d.prototype._readPopupInfoElements=
function(a){var b=a.description,c=a.mediaInfos,f=!1,d=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||!c||d||(a.mediaInfos=c,d=!0),C.fromJSON(a);if("text"===a.type)return a.text||!b||f||(a.text=b,f=!0),z.fromJSON(a);if("attachments"===a.type)return y.fromJSON(a);if("fields"===a.type)return v.fromJSON(a)}).filter(Boolean)};d.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var f=[];b?f.push(new z({text:b})):f.push(new v);
Array.isArray(c)&&c.length&&f.push(C.fromJSON({mediaInfos:c}));a&&f.push(y.fromJSON({displayType:"list"}));return f.length?f:b};d.prototype._getContentElementFields=function(b){var c=this;if(!b||"attachments"===b.type)return[];if("custom"===b.type)return b.outFields||[];if("fields"===b.type)return this._getFieldInfoFields(b.fieldInfos||this.fieldInfos);if("media"===b.type)return(b.mediaInfos||[]).reduce(function(b,f){return a.__spreadArrays(b,c._getMediaInfoFields(f))},[]);if("text"===b.type)return this._extractFieldNames(b.text)};
d.prototype._getMediaInfoFields=function(b){var c=b.caption,f=b.value||{},d=f.fields,e=void 0===d?[]:d,d=f.normalizeField,g=f.tooltipField,k=f.sourceURL,f=f.linkURL;b=a.__spreadArrays(this._extractFieldNames(b.title),this._extractFieldNames(c),this._extractFieldNames(k),this._extractFieldNames(f),e);d&&b.push(d);g&&b.push(g);return b};d.prototype._getContentFields=function(b){var c=this;return"string"===typeof b?this._extractFieldNames(b):Array.isArray(b)?b.reduce(function(b,f){return a.__spreadArrays(b,
c._getContentElementFields(f))},[]):[]};d.prototype._collectExpressionInfoFields=function(b,c,d){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return d?[4,g.all(d.map(function(a){return f.collectArcadeFieldNames(b,c,a.expression)}))]:[2];case 1:return a.sent(),[2]}})})};d.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===
a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};d.prototype._getActionsFields=function(b){var c=this;return b?b.toArray().reduce(function(b,f){return a.__spreadArrays(b,c._getActionFields(f))},[]):[]};d.prototype._getActionFields=function(b){var c=b.className,f=b.type,f="button"===f||"toggle"===f?b.image:"";return a.__spreadArrays(this._extractFieldNames(b.title),this._extractFieldNames(c),this._extractFieldNames(f))};d.prototype._getTitleFields=function(a){return"string"===typeof a?
this._extractFieldNames(a):[]};d.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var l;a.__decorate([c.property({type:G})],d.prototype,"actions",void 0);a.__decorate([c.property()],d.prototype,"content",void 0);a.__decorate([c.cast("content")],
d.prototype,"castContent",null);a.__decorate([c.reader("content",["description","popupElements","mediaInfos","showAttachments"])],d.prototype,"readContent",null);a.__decorate([c.writer("content",{popupElements:{type:h.ofType(t.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:h.ofType(u.types)},description:{type:String}})],d.prototype,"writeContent",null);a.__decorate([c.property({type:[r],json:{write:!0}})],d.prototype,"expressionInfos",void 0);a.__decorate([c.property({type:[p]})],
d.prototype,"fieldInfos",void 0);a.__decorate([c.writer("fieldInfos")],d.prototype,"writeFieldInfos",null);a.__decorate([c.property({type:D})],d.prototype,"layerOptions",void 0);a.__decorate([c.writer("layerOptions")],d.prototype,"writeLayerOptions",null);a.__decorate([c.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],d.prototype,"lastEditInfoEnabled",void 0);a.__decorate([c.property()],d.prototype,"outFields",void 0);a.__decorate([c.property()],
d.prototype,"overwriteActions",void 0);a.__decorate([c.property({json:{type:String}})],d.prototype,"title",void 0);a.__decorate([c.writer("title")],d.prototype,"writeTitle",null);a.__decorate([c.property({type:A,json:{write:!0}})],d.prototype,"relatedRecordsInfo",void 0);return d=l=a.__decorate([c.subclass("esri.PopupTemplate")],d)}(l.JSONSupport)})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(q,b,a,m,h,l,e,d){Object.defineProperty(b,"__esModule",{value:!0});b.persistableTypes=b.isContent=b.TextContent=b.MediaContent=b.FieldsContent=b.CustomContent=b.BaseContent=b.AttachmentsContent=void 0;b.AttachmentsContent=a;b.BaseContent=m;b.CustomContent=h;b.FieldsContent=l;b.MediaContent=e;b.TextContent=d;b.isContent=function(a){return a instanceof m};b.persistableTypes={base:null,key:"type",typeMap:{attachment:a,media:e,text:d,field:l}}})},"esri/popup/content/AttachmentsContent":function(){define(["require",
"exports","tslib","../../core/accessorSupport/decorators","./Content"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.displayType=null;a.type="attachments";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({displayType:this.displayType})};var d;a.__decorate([m.property({type:["preview","list"],json:{write:!0}})],e.prototype,"displayType",void 0);a.__decorate([m.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",
void 0);return e=d=a.__decorate([m.subclass("esri.popup.content.AttachmentsContent")],e)}(h)})},"esri/popup/content/Content":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.type=null;return a}a.__extends(e,b);a.__decorate([h.property({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=
a.__decorate([h.subclass("esri.popup.content.Content")],e)}(m.JSONSupport)})},"esri/popup/content/CustomContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./Content".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.creator=null;a.destroyer=null;a.outFields=null;a.type="custom";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?
m.clone(this.outFields):null})};var e;a.__decorate([h.property()],d.prototype,"creator",void 0);a.__decorate([h.property()],d.prototype,"destroyer",void 0);a.__decorate([h.property()],d.prototype,"outFields",void 0);a.__decorate([h.property({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);return d=e=a.__decorate([h.subclass("esri.popup.content.CustomContent")],d)}(l)})},"esri/popup/content/FieldsContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.fieldInfos=null;a.type="fields";return a}a.__extends(d,b);e=d;d.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};d.prototype.clone=function(){return new e({fieldInfos:Array.isArray(this.fieldInfos)?m.clone(this.fieldInfos):null})};var e;a.__decorate([h.property({type:[l]})],d.prototype,"fieldInfos",void 0);a.__decorate([h.writer("fieldInfos")],d.prototype,"writeFieldInfos",
null);a.__decorate([h.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e=a.__decorate([h.subclass("esri.popup.content.FieldsContent")],d)}(e)})},"esri/popup/FieldInfo":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(q,b,a,m,h,l,e,d){var g=new m.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(b){function c(a){a=
b.call(this,a)||this;a.fieldName=null;a.format=null;a.isEditable=!1;a.label=null;a.stringFieldOption="text-box";a.statisticType=null;a.tooltip=null;a.visible=!0;return a}a.__extends(c,b);k=c;c.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=g.toJSON(a)};c.prototype.readStringFieldOption=function(a){if(a)return g.fromJSON(a)};c.prototype.clone=function(){return new k({fieldName:this.fieldName,format:this.format?l.clone(this.format):null,isEditable:this.isEditable,label:this.label,
stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var k;a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([e.property({type:d,json:{write:!0}})],c.prototype,"format",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"isEditable",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([e.property({type:g.apiValues,
json:{write:!0,default:"text-box",type:g.jsonValues}})],c.prototype,"stringFieldOption",void 0);a.__decorate([e.writer("stringFieldOption")],c.prototype,"writeStringFieldOption",null);a.__decorate([e.reader("stringFieldOption")],c.prototype,"readStringFieldOption",null);a.__decorate([e.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);a.__decorate([e.property({type:Boolean,
json:{write:!0}})],c.prototype,"visible",void 0);return c=k=a.__decorate([e.subclass("esri.popup.FieldInfo")],c)}(h.JSONSupport)})},"esri/popup/support/FieldInfoFormat":function(){define("require exports tslib ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(q,b,a,m,h,l,e,d,g){return function(b){function c(a){a=b.call(this,a)||this;a.dateFormat=null;a.digitSeparator=!1;a.places=
null;return a}a.__extends(c,b);k=c;c.prototype.clone=function(){return new k({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};c.prototype.format=function(a){return this.dateFormat?d.formatDate(a,d.convertDateFormatToIntlOptions(this.dateFormat)):g.formatNumber(a,g.convertNumberFormatToIntlOptions(this))};var k;a.__decorate([l.enumeration(m.dictionary)],c.prototype,"dateFormat",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",
void 0);a.__decorate([l.property({type:e.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=k=a.__decorate([l.subclass("esri.popup.support.FieldInfoFormat")],c)}(h.JSONSupport)})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.getFormat=b.fromJSON=b.toJSON=b.dictionary=b.formats=void 0;b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=a.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(a){return b.formats[a]}})},"esri/popup/content/MediaContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k){return function(b){function f(a){a=b.call(this,a)||this;a.activeMediaInfoIndex=null;a.mediaInfos=null;a.type="media";return a}a.__extends(f,b);d=f;f.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return g.fromJSON(a);if("barchart"===a.type)return l.fromJSON(a);if("columnchart"===a.type)return e.fromJSON(a);if("linechart"===a.type)return n.fromJSON(a);if("piechart"===a.type)return c.fromJSON(a)}).filter(Boolean)};f.prototype.writeMediaInfos=
function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};f.prototype.clone=function(){return new d({activeMediaInfoIndex:this.activeMediaInfoIndex,mediaInfos:this.mediaInfos?m.clone(this.mediaInfos):null})};var d;a.__decorate([h.property()],f.prototype,"activeMediaInfoIndex",void 0);a.__decorate([h.property({types:[k.types]})],f.prototype,"mediaInfos",void 0);a.__decorate([h.reader("mediaInfos")],f.prototype,"readMediaInfos",null);a.__decorate([h.writer("mediaInfos")],f.prototype,"writeMediaInfos",
null);a.__decorate([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=d=a.__decorate([h.subclass("esri.popup.content.MediaContent")],f)}(d)})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="bar-chart";return a}a.__extends(d,b);
e=d;d.prototype.clone=function(){return new e({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var e;a.__decorate([m.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:l.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=e=a.__decorate([m.subclass("esri.popup.content.BarChartMediaInfo")],d)}(h)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports tslib ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type=null;a.value=null;return a}a.__extends(d,b);a.__decorate([m.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);a.__decorate([m.property({type:l,json:{write:!0}})],d.prototype,"value",void 0);return d=a.__decorate([m.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)}(h)})},"esri/popup/content/mixins/MediaInfo":function(){define(["require",
"exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.altText=null;a.caption="";a.title="";a.type=null;return a}a.__extends(e,b);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"altText",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"caption",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);
a.__decorate([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=a.__decorate([h.subclass("esri.popup.content.mixins.MediaInfo")],e)}(m.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=
b.call(this,a)||this;a.fields=[];a.normalizeField=null;a.series=[];a.tooltipField=null;return a}a.__extends(d,b);n=d;d.prototype.clone=function(){return new n({fields:h.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var n;a.__decorate([l.property({type:[String],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"normalizeField",void 0);a.__decorate([l.property({type:[e],json:{read:!1}})],d.prototype,
"series",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"tooltipField",void 0);return d=n=a.__decorate([l.subclass("esri.popup.content.support.ChartMediaInfoValue")],d)}(m.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define(["require","exports","tslib","../../../core/Accessor","../../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.tooltip=null;a.value=null;a.x=null;
a.y=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({tooltip:this.tooltip,value:this.value})};var d;a.__decorate([h.property()],e.prototype,"tooltip",void 0);a.__decorate([h.property()],e.prototype,"value",void 0);a.__decorate([h.aliasOf("value")],e.prototype,"x",void 0);a.__decorate([h.aliasOf("tooltip")],e.prototype,"y",void 0);return e=d=a.__decorate([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],e)}(m)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=void 0;b.chartTypeKebabDict=a.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=
b.call(this,a)||this;a.type="column-chart";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var e;a.__decorate([m.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:l.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=e=a.__decorate([m.subclass("esri.popup.content.ColumnChartMediaInfo")],d)}(h)})},"esri/popup/content/ImageMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.refreshInterval=null;a.type="image";a.value=null;return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var e;a.__decorate([m.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);a.__decorate([m.property({type:["image"],readOnly:!0,json:{read:!1,
write:!0}})],d.prototype,"type",void 0);a.__decorate([m.property({type:l,json:{write:!0}})],d.prototype,"value",void 0);return d=e=a.__decorate([m.subclass("esri.popup.content.ImageMediaInfo")],d)}(h)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.linkURL=null;a.sourceURL=null;return a}a.__extends(e,
b);d=e;e.prototype.clone=function(){return new d({linkURL:this.linkURL,sourceURL:this.sourceURL})};var d;a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"linkURL",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"sourceURL",void 0);return e=d=a.__decorate([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],e)}(m.JSONSupport)})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="line-chart";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var e;a.__decorate([m.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:l.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=e=a.__decorate([m.subclass("esri.popup.content.LineChartMediaInfo")],
d)}(h)})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="pie-chart";return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var e;a.__decorate([m.property({type:["pie-chart"],
readOnly:!0,json:{type:["piechart"],read:!1,write:l.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=e=a.__decorate([m.subclass("esri.popup.content.PieChartMediaInfo")],d)}(h)})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),function(q,b,a,m,h,l,e,d){Object.defineProperty(b,"__esModule",{value:!0});b.types=void 0;
b.types={base:d,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":a,"column-chart":m,"line-chart":l,"pie-chart":e,image:h}};b.default=b.types})},"esri/popup/content/TextContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.text=null;a.type="text";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({text:this.text})};var d;a.__decorate([m.property({type:String,
json:{write:!0}})],e.prototype,"text",void 0);a.__decorate([m.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.popup.content.TextContent")],e)}(h)})},"esri/popup/ExpressionInfo":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.name=null;a.title=null;a.expression=null;a.returnType=null;
return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var d;a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"expression",void 0);a.__decorate([h.property({type:["string","number"],json:{write:!0}})],e.prototype,
"returnType",void 0);return e=d=a.__decorate([h.subclass("esri.popup.ExpressionInfo")],e)}(m.JSONSupport)})},"esri/popup/LayerOptions":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.returnTopmostRaster=null;a.showNoDataRecords=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};
var d;a.__decorate([h.property({type:Boolean,json:{write:!0}})],e.prototype,"returnTopmostRaster",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoDataRecords",void 0);return e=d=a.__decorate([h.subclass("esri.popup.LayerOptions")],e)}(m.JSONSupport)})},"esri/popup/RelatedRecordsInfo":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(q,b,a,m,h,
l,e){return function(b){function d(a){a=b.call(this,a)||this;a.showRelatedRecords=null;a.orderByFields=null;return a}a.__extends(d,b);n=d;d.prototype.clone=function(){return new n({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var n;a.__decorate([l.property({type:Boolean,json:{write:!0}})],d.prototype,"showRelatedRecords",void 0);a.__decorate([l.property({type:[e],json:{write:!0}})],d.prototype,"orderByFields",void 0);return d=n=a.__decorate([l.subclass("esri.popup.RelatedRecordsInfo")],
d)}(m.JSONSupport)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.field=null;a.order=null;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({field:this.field,order:this.order})};var d;a.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);a.__decorate([h.property({type:["asc",
"desc"],json:{write:!0}})],e.prototype,"order",void 0);return e=d=a.__decorate([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],e)}(m.JSONSupport)})},"esri/support/actions/ActionBase":function(){define("require exports tslib ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l){return function(b){function d(a){a=b.call(this,a)||this;a.active=!1;a.className=null;a.disabled=!1;a.id=null;a.indicator=!1;a.title=null;a.type=null;
a.visible=!0;return a}a.__extends(d,b);e=d;d.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var e;a.__decorate([l.property()],d.prototype,"active",void 0);a.__decorate([l.property()],d.prototype,"className",void 0);a.__decorate([l.property()],d.prototype,"disabled",void 0);a.__decorate([l.property()],d.prototype,"id",void 0);a.__decorate([l.property()],d.prototype,
"indicator",void 0);a.__decorate([l.property()],d.prototype,"title",void 0);a.__decorate([l.property()],d.prototype,"type",void 0);a.__decorate([l.property()],d.prototype,"visible",void 0);return d=e=a.__decorate([l.subclass("esri.support.actions.ActionBase")],d)}(h.IdentifiableMixin(m))})},"esri/core/Identifiable":function(){define(["require","exports","tslib","./accessorSupport/decorators/subclass"],function(q,b,a,m){Object.defineProperty(b,"__esModule",{value:!0});b.Identifiable=b.IdentifiableMixin=
void 0;var h=0;b.IdentifiableMixin=function(b){return function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;Object.defineProperty(a,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h++});return a}a.__extends(d,b);return d=a.__decorate([m.subclass("esri.core.Identifiable")],d)}(b)};q=function(b){function e(){return null!==b&&b.apply(this,arguments)||this}a.__extends(e,b);return e=a.__decorate([m.subclass("esri.core.Identifiable")],
e)}(b.IdentifiableMixin(function(){return function(){}}()));b.Identifiable=q})},"esri/support/actions/ActionButton":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.image=null;a.type="button";return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,
visible:this.visible,image:this.image})};var d;a.__decorate([m.property()],e.prototype,"image",void 0);return e=d=a.__decorate([m.subclass("esri.support.Action.ActionButton")],e)}(h)})},"esri/support/actions/ActionToggle":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(q,b,a,m,h){return function(b){function e(a){a=b.call(this,a)||this;a.image=null;a.type="toggle";a.value=!1;return a}a.__extends(e,b);d=e;e.prototype.clone=function(){return new d({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var d;a.__decorate([m.property()],e.prototype,"image",void 0);a.__decorate([m.property()],e.prototype,"value",void 0);return e=d=a.__decorate([m.subclass("esri.support.Action.ActionToggle")],e)}(h)})},"esri/core/uid":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.generateUID=void 0;var a=
0;b.generateUID=function(){return a++}})},"esri/renderers/support/utils":function(){define("require exports ../../core/arrayUtils ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),function(q,b,a,m,h,l,e,d){function g(a,b,c){var d="";0===b?d=f.lt+" ":b===c&&(d=f.gt+" ");return d+a}function n(a){var b=a.minValue,c=a.maxValue,d=a.isFirstBreak?"":f.gt+" ";a="percent-of-total"===a.normalizationType?f.pct:"";b=null==b?"":e.format(b);c=
null==c?"":e.format(c);return d+b+a+" "+f.ld+" "+c+a}function c(a,b){return"normalizationField"in a&&a.normalizationField?{type:"normalized-field",field:a.field,normalizationField:a.normalizationField}:"field"in a&&a.field?{type:"field",field:a.field}:"valueExpression"in a&&a.valueExpression?{type:"expression",expression:a.valueExpression,title:a.valueExpressionTitle,returnType:b}:null}Object.defineProperty(b,"__esModule",{value:!0});b.getAttributes=b.getAttribute=b.createUniqueValueLabel=b.calculateDateFormatInterval=
b.updateClassBreak=b.setLabelsForClassBreaks=b.createClassBreakLabel=b.updateColorStops=b.createColorStops=b.timelineDateFormatOptions=b.meterIn=void 0;var k=m.getLogger("esri.renderers.support.utils"),f={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},t={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},r={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",
day:"long-month-day-year",month:"long-month-day-year",year:"year"};b.meterIn={inches:h.convertUnit(1,"meters","inches"),feet:h.convertUnit(1,"meters","feet"),"us-feet":h.convertUnit(1,"meters","us-feet"),yards:h.convertUnit(1,"meters","yards"),miles:h.convertUnit(1,"meters","miles"),"nautical-miles":h.convertUnit(1,"meters","nautical-miles"),millimeters:h.convertUnit(1,"meters","millimeters"),centimeters:h.convertUnit(1,"meters","centimeters"),decimeters:h.convertUnit(1,"meters","decimeters"),meters:h.convertUnit(1,
"meters","meters"),kilometers:h.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/h.lengthToDegrees(1,"meters")};b.timelineDateFormatOptions=l.convertDateFormatToIntlOptions("short-date");b.createColorStops=function(a){var b=a.values,c=a.colors,f=a.labelIndexes,k=a.isDate,h=a.dateFormatOptions;return b.map(function(a,n){var m=null;if(!f||-1<f.indexOf(n)){var p=void 0;(p=k?l.formatDate(a,h):e.format(a))&&(m=g(p,n,b.length-1))}return new d({value:a,color:c[n],label:m})})};b.updateColorStops=
function(a){var b=a.stops,c=a.changes,f=a.isDate,d=a.dateFormatOptions,k=b.map(function(a){return a.value});a=[];for(var h=0;h<c.length;h++){var n=c[h];a.push(n.index);k[n.index]=n.value}var m=e.round(k,{indexes:a});b.forEach(function(a,c){a.value=k[c];if(null!=a.label){var h=void 0,n=null;(h=f?l.formatDate(m[c],d):e.format(m[c]))&&(n=g(h,c,b.length-1));a.label=n}})};b.createClassBreakLabel=n;b.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,c=a.normalizationType,f=[];if(b&&b.length)if("standard-deviation"===
a.classificationMethod)k.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){f.push(b[0].minValue);for(a=0;a<b.length;a++)f.push(b[a].maxValue);f=e.round(f);b.forEach(function(a,b){a.label=n({minValue:0===b?f[0]:f[b],maxValue:f[b+1],isFirstBreak:0===b,normalizationType:c})})}else b.forEach(function(a,b){a.label=n({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:c})})};b.updateClassBreak=function(a){if("standard-deviation"===
a.classificationMethod)k.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,c=a.change,f=c.index,c=c.value,d=b.length,e=-1,g=-1;0===f?e=f:f===d?g=f-1:(g=f-1,e=f);a=a.normalizationType;f=null;-1<e&&e<d&&(f=b[e],f.minValue=c,f.label=n({minValue:f.minValue,maxValue:f.maxValue,isFirstBreak:0===e,normalizationType:a}));-1<g&&g<d&&(f=b[g],f.maxValue=c,f.label=n({minValue:f.minValue,maxValue:f.maxValue,isFirstBreak:0===g,
normalizationType:a}))}};b.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,f=null,d=0;d<b-1;d++){for(var e=a[d],g=[],k=Infinity,h=null,l=d+1;l<b;l++){var n=a[l],n=e.getFullYear()!==n.getFullYear()&&"year"||e.getMonth()!==n.getMonth()&&"month"||e.getDate()!==n.getDate()&&"day"||e.getHours()!==n.getHours()&&"hour"||e.getMinutes()!==n.getMinutes()&&"minute"||e.getSeconds()!==n.getSeconds()&&"second"||"millisecond",m=t[n];m<k&&(k=m,h=n);g.push(n)}k<
c&&(c=k,f=h)}return f};b.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,f=a.fieldInfo;a=a.dateFormatInterval;var d=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?d=c:"number"===typeof b&&(d=f&&"date"===f.type?l.formatDate(b,a&&l.convertDateFormatToIntlOptions(r[a])):e.format(b));return d};b.getAttribute=c;b.getAttributes=function(b,f){var d=[];if("class-breaks"===b.type||"heatmap"===b.type)d.push(c(b,"number"));else if("unique-value"===b.type){var e=b.authoringInfo;
if(e&&"relationship"===e.type){if(e.field1&&e.field2){var g=e.field2.field,k=e.field2.normalizationField;d.push(c({field:e.field1.field,normalizationField:e.field1.normalizationField}));d.push(c({field:g,normalizationField:k}))}}else g=b.uniqueValueInfos[0],e=null,g&&g.value&&(g=typeof b.uniqueValueInfos[0].value,"string"===g||"number"===g)&&(e=g),d.push(c(b,e)),[b.field2,b.field3].forEach(function(a){return a&&d.push({type:"field",field:a})})}else"dot-density"===b.type&&b.attributes.forEach(function(a){return d.push(c(a,
"number"))});(b=f?f(b):"visualVariables"in b?b.visualVariables:null)&&b.forEach(function(a){return d.push(c(a,"number"))});return a.unique(d.filter(Boolean),function(a,b){return"field"===a.type&&"field"===b.type?a.field===b.field:"normalized-field"===a.type&&"normalized-field"===b.type?a.field===b.field&&a.normalizationField===b.normalizationField:"expression"===a.type&&"expression"===b.type?a.expression===b.expression:!1})}})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ../geometry/support/geodesicConstants ../geometry/support/WKIDUnitConversion".split(" "),
function(q,b,a,m,h,l,e){function d(a){if(a=E[a])return a;throw Error("unknown measure");}function g(a){return B[a].baseUnit}function n(a,b){void 0===b&&(b=null);b=b||d(a);return B[b].baseUnit===a}function c(a,b,c){if(b===c)return a;var f=d(b);if(f!==d(c))throw Error("incompatible units");a=n(b,f)?a:a*B[f].units[b].inBaseUnits;return n(c,f)?a:a/B[f].units[c].inBaseUnits}function k(a,b){return 3E3>c(a,b,"meters")?"meters":"kilometers"}function f(a,b){return 1E5>c(a,b,"meters")?"meters":"kilometers"}
function t(a,b){return 1E3>c(a,b,"feet")?"feet":"miles"}function r(a,b){return 1E5>c(a,b,"feet")?"feet":"miles"}function p(a){return u.fromJSON(a.toLowerCase())||null}function D(a,b){void 0===b&&(b=w);return A(a,!0)||b}function A(a,b){void 0===b&&(b=!1);var c,f,d;null!=a&&("object"===typeof a?(c=a.wkid,f=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(f=a));c?(d=C.values[C[c]],!d&&b&&z.has(c)&&(d=x)):f&&-1!==f.search(/^PROJCS/i)&&(a=v.exec(f))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d}
function y(a){var b,c,f;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?f=C.units[C[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=v.exec(c))&&a[1]&&(f=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return f?p(f):null}Object.defineProperty(b,"__esModule",{value:!0});b.getDefaultUnitSystem=b.getUnitString=b.getMetersPerUnit=b.getMetersPerUnitForSR=b.getVerticalUnitStringForSR=b.getMetersPerVerticalUnitForSR=b.unitToRESTJSON=b.unitFromRESTJSON=b.lengthToDegrees=
b.preferredImperialAreaUnit=b.preferredMetricAreaUnit=b.preferredImperialVerticalLengthUnit=b.preferredImperialLengthUnit=b.preferredMetricVerticalLengthUnit=b.preferredMetricLengthUnit=b.preferredVerticalLengthUnit=b.preferredLengthUnit=b.convertUnit=b.isBaseUnit=b.baseUnitForUnit=b.baseUnitForMeasure=b.measureForUnit=b.measurementLengthUnits=b.measurementAreaUnits=b.inchesPerMeter=void 0;b.inchesPerMeter=39.37;var w=l.metersPerDegree,x=l.earthRadius*Math.PI/200,v=/UNIT\[([^\]]+)\]\]$/i,C=e,z=h.SetFromValues([4261,
4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),u=m.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers",
"150_kilometers":"150-kilometers"});q={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};m={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},
"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var B={length:{baseUnit:"meters",units:q},area:{baseUnit:"square-meters",units:m},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*
1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},E=function(){var a={},b;for(b in B)for(var c in B[b].units)a[c]=b;return a}();b.measurementAreaUnits=
"metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");b.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");b.measureForUnit=d;b.baseUnitForMeasure=g;b.baseUnitForUnit=function(a){return g(d(a))};b.isBaseUnit=n;b.convertUnit=c;b.preferredLengthUnit=function(a,b,c){switch(c){case "metric":return k(a,b);case "imperial":return t(a,b);default:return c}};
b.preferredVerticalLengthUnit=function(a,b,c){switch(c){case "metric":return f(a,b);case "imperial":return r(a,b);default:return c}};b.preferredMetricLengthUnit=k;b.preferredMetricVerticalLengthUnit=f;b.preferredImperialLengthUnit=t;b.preferredImperialVerticalLengthUnit=r;b.preferredMetricAreaUnit=function(a,b){return 3E6>c(a,b,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(a,b){return 1E6>c(a,b,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=
function(a,b,f){void 0===f&&(f=l.earthRadius);return c(a,b,"meters")/(f*Math.PI/180)};b.unitFromRESTJSON=p;b.unitToRESTJSON=function(a){return u.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=function(a){a=D(a);return 1E5<a?1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<D(a)?"meters":y(a)};b.getMetersPerUnitForSR=D;b.getMetersPerUnit=A;b.getUnitString=y;b.getDefaultUnitSystem=function(b){if(!b)return null;b=y(b);switch(b){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:a.neverReached(b)}return null}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(q,b,a){function m(a,b){return a-b}function h(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function l(a,b,f,e,g){a=d(a,b,f,e);b=null==a.next||a.next<=g;return(null==
a.previous||a.previous<=g)&&b||a.previous+a.next<=2*g}function e(a){a=String(a);var b=a.match(g);if(b&&b[1])return{integer:b[1].split("").length,fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),c=0<b;c||(b=Math.abs(b));a=e(a);c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function d(a,b,f,d){var c=
{previous:null,next:null};if(null!=f){var e=a-f;c.previous=Math.floor(Math.abs(100*(b-f-e)/e))}null!=d&&(e=d-a,c.next=Math.floor(Math.abs(100*(d-b-e)/e)));return c}Object.defineProperty(b,"__esModule",{value:!0});b.format=b.round=b.percentChange=b.numDigits=void 0;var g=/^-?(\d+)(\.(\d+))?$/i;b.numDigits=e;b.percentChange=d;b.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,d=b.strictBounds,d=void 0===d?!1:d;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):
b;b.sort(m);for(var g=0;g<b.length;g++){var k=b[g],n=a[k],q=0===k?null:a[k-1],y=k===a.length-1?null:a[k+1],w=e(n).fractional;if(w){for(var x=0,v=!1,C=void 0;x<=w&&!v;)v=h(n,x),C=d&&0===g?v[1]:v[0],v=l(n,C,q,y,c),x++;v&&(a[k]=C)}}return a};var n={maximumFractionDigits:20};b.format=function(b){return a.formatNumber(b,n)}})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports tslib ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k){var f=l.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),t={color:g,size:k,opacity:n,rotation:c},r=new h.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),p=/^\[([^\]]+)\]$/i;return function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.colorVariables=null;a.opacityVariables=null;a.rotationVariables=null;a.sizeVariables=null;return a}a.__extends(c,b);Object.defineProperty(c.prototype,
"visualVariables",{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=0,c=a;b<c.length;b++){var f=c[b];switch(f.type){case "color":this.colorVariables.push(f);break;case "opacity":this.opacityVariables.push(f);break;case "rotation":this.rotationVariables.push(f);break;case "size":this.sizeVariables.push(f)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?
0:a.target?1:-1});for(b=0;b<a.length;b++)f=a[b],f.index=b}this._set("visualVariables",a)},enumerable:!1,configurable:!0});c.prototype.readVariables=function(a,b,c){var d=b.rotationExpression;b=b.rotationType;if(d=(d=d&&d.match(p))&&d[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:d});if(a)return a.map(function(a){var b=r.read(a.type),d=t[b];d||(f.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new e("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",
{definition:a,context:c})));b=new d;b.read(a,c);return b})};c.prototype.writeVariables=function(a,b){for(var c=[],f=0;f<a.length;f++){var d=a[f].toJSON(b);d&&c.push(d)}return c};c.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a.__decorate([d.property()],c.prototype,"visualVariables",null);return c=a.__decorate([d.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)}(m)})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.description=null;a.label=null;a.minValue=null;a.maxValue=0;a.symbol=null;return a}a.__extends(d,b);h=d;d.prototype.clone=function(){return new h({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};d.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+"."+a};var h;a.__decorate([l.property({type:String,
json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],d.prototype,"minValue",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],d.prototype,"maxValue",void 0);a.__decorate([l.property({types:m.symbolTypesRenderer,json:{origins:{"web-scene":{types:m.symbolTypesRenderer3D,
write:e.write}},write:e.write}})],d.prototype,"symbol",void 0);return d=h=a.__decorate([l.subclass("esri.renderers.support.ClassBreakInfo")],d)}(h.JSONSupport)})},"esri/renderers/support/commonProperties":function(){define(["require","exports","../../symbols","../../symbols/support/jsonUtils"],function(q,b,a,m){Object.defineProperty(b,"__esModule",{value:!0});b.rendererBackgroundFillSymbolProperty=b.rendererSymbolProperty=void 0;b.rendererSymbolProperty={types:a.symbolTypesRenderer,json:{write:{writer:m.write},
origins:{"web-scene":{types:a.symbolTypesRenderer3D,write:{writer:m.write}}}}};b.rendererBackgroundFillSymbolProperty={types:{base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.symbolTypes.typeMap["simple-fill"],"picture-fill":a.symbolTypes.typeMap["picture-fill"],"polygon-3d":a.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:m.write},origins:{"web-scene":{type:a.PolygonSymbol3D,write:{writer:m.write}}}}}})},"esri/renderers/RasterColormapRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./support/ColormapInfo ./support/colorRampUtils".split(" "),
function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.colormapInfos=null;a.type="raster-colormap";return a}a.__extends(d,b);n=d;d.createFromColormap=function(a,b){function c(a){return b?b[a]||"":String(a[0])}if(!a)return null;var d=5===a[0].length;a=a.sort(function(a){return a[0][0]-a[1][0]});d=d?a.map(function(a){return l.fromJSON({value:a[0],color:a.slice(1,5),label:c(a[0])})}):a.map(function(a){return l.fromJSON({value:a[0],color:a.slice(1,4).concat([255]),label:c(a[0])})});
return new n({colormapInfos:d})};d.createFromColorramp=function(a){a=e.convertColorRampToColormap(a,256);return n.createFromColormap(a)};d.prototype.clone=function(){return new n({colormapInfos:this.colormapInfos.map(function(a){return a.toJSON()})})};d.prototype.extractColormap=function(){return this.colormapInfos.map(function(a){return[a.value,a.color.r,a.color.g,a.color.b,1<a.color.a?a.color.a:255*a.color.a&255]}).sort(function(a,b){return a[0]-b[0]})};var n;a.__decorate([h.property({type:[l],
json:{write:!0}})],d.prototype,"colormapInfos",void 0);a.__decorate([h.enumeration({rasterColormap:"raster-colormap"})],d.prototype,"type",void 0);return d=n=a.__decorate([h.subclass("esri.renderers.RasterColormapRenderer")],d)}(m.JSONSupport)})},"esri/renderers/support/ColormapInfo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(){var a=
null!==b&&b.apply(this,arguments)||this;a.value=null;a.label=null;a.color=null;return a}a.__extends(d,b);a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"value",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({type:m,json:{type:[e.Integer],write:!0}})],d.prototype,"color",void 0);return d=a.__decorate([l.subclass("esri.renderers.support.ColormapInfo")],d)}(h.JSONSupport)})},"esri/renderers/support/colorRampUtils":function(){define(["require",
"exports","../../Color","../../core/colorUtils"],function(q,b,a,m){function h(a,b){if(!a||!b||a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]>b[d]+2||a[d]<b[d]-2)return!1;return!0}function l(e,d){if(e){d=d?d:b.PREDEFINED_JSON_COLOR_RAMPS;var g=null,l;"algorithmic"===e.type?d.some(function(a){if(h(e.fromColor.toRgb(),a.fromColor)&&h(e.toColor.toRgb(),a.toColor))return g=a.id,!0}):"multipart"===e.type&&d.some(function(b){if(e.colorRamps&&b.colorRamps&&e.colorRamps.length===b.colorRamps.length&&
(l=e.colorRamps,!b.colorRamps.some(function(b,c){if(!h(l[c].fromColor.toRgb(),(new a(b.fromColor)).toRgb())||!h(l[c].toColor.toRgb(),(new a(b.toColor)).toRgb()))return!0}))){if(g)return!0;g=b.id}});return g}}Object.defineProperty(b,"__esModule",{value:!0});b.convertColorRampToColormap=b.getColorRampName=b.getColorRampId=b.PREDEFINED_COLOR_RAMP_NAME_MAP=b.PREDEFINED_JSON_COLOR_RAMPS=void 0;b.PREDEFINED_JSON_COLOR_RAMPS=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],
toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,
0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",
type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,
0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,
179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,
96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,
16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",
type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",
type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,
0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",
type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,
0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,
245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,
0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,
153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,
0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,
255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}];b.PREDEFINED_COLOR_RAMP_NAME_MAP={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",
blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",
cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",
partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",
purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",
redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",
yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};b.getColorRampId=l;b.getColorRampName=function(a){return(a=l(a))?b.PREDEFINED_COLOR_RAMP_NAME_MAP[a]:null};b.convertColorRampToColormap=function(b,d,g){void 0===g&&(g=!1);if(b&&d&&!(2>d)){for(var e="multipart"===b.type?b.colorRamps.length:1,c=[],k=[],f,h,l,p,D,q=0,y=0;y<e;y++)c[y]={start:null,end:null},c[y].start=q,c[y].end=q+1/e,q=c[y].end;q=function(n){p=n/(d-1);c.forEach(function(c,
r){if(p>=c.start&&(p<c.end||n===d-1&&r===e-1)){D=(p-c.start)/(c.end-c.start);"multipart"===b.type?(f=new a(b.colorRamps[r].fromColor),h=new a(b.colorRamps[r].toColor)):(f=new a(b.fromColor),h=new a(b.toColor));if(0===n)k.push([n,f.r,f.g,f.b]);else if(n===d-1)k.push([n,h.r,h.g,h.b]);else{var t=h;c=D;r=m.toLAB(f);t=m.toLAB(t);l=m.toRGB({l:r.l*(1-c)+c*t.l,a:r.a*(1-c)+c*t.a,b:r.b*(1-c)+c*t.b});k.push([n,l.r,l.g,l.b])}g&&k[n].push(Math.min(255,Math.round(255*(f.a*(1-D)+h.a*D))))}})};for(y=0;y<d;y++)q(y);
return k}}})},"esri/core/colorUtils":function(){define(["require","exports"],function(q,b){function a(a,b){var c=[],d,e;if(a[0].length!==b.length)throw"dimensions do not match";var g=a.length,k=a[0].length,h=0;for(d=0;d<g;d++){for(e=h=0;e<k;e++)h+=a[d][e]*b[e];c.push(h)}return c}function m(b){b=[b.r/255,b.g/255,b.b/255].map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=a(g,b);return{x:100*b[0],y:100*b[1],z:100*b[2]}}function h(b){b=a(n,[b.x/100,b.y/100,b.z/100]).map(function(a){return Math.min(1,
Math.max(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055,0))});return{r:Math.round(255*b[0]),g:Math.round(255*b[1]),b:Math.round(255*b[2])}}function l(a){a=[a.x/95.047,a.y/100,a.z/108.883].map(function(a){return a>Math.pow(6/29,3)?Math.pow(a,1/3):1/3*Math.pow(29/6,2)*a+4/29});return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-a[2])}}function e(a){var b=a.l;a=[(b+16)/116+a.a/500,(b+16)/116,(b+16)/116-a.b/200].map(function(a){return a>6/29?Math.pow(a,3):3*Math.pow(6/29,2)*(a-4/29)});return{x:95.047*
a[0],y:100*a[1],z:108.883*a[2]}}function d(a){if("r"in a&&"g"in a&&"b"in a)return a;if("l"in a&&"c"in a&&"h"in a){var b=a.c,c=a.h;return h(e({l:a.l,a:b*Math.cos(c),b:b*Math.sin(c)}))}if("l"in a&&"a"in a&&"b"in a)return h(e(a));if("x"in a&&"y"in a&&"z"in a)return h(a);if("h"in a&&"s"in a&&"v"in a){c=(a.h+360)%360/60;b=a.v/100*255;a=a.s/100*b;var d=a*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:a,g:d,b:0};break;case 1:c={r:d,g:a,b:0};break;case 2:c={r:0,g:a,b:d};break;case 3:c={r:0,g:d,b:a};
break;case 4:c={r:d,g:0,b:a};break;case 5:case 6:c={r:a,g:0,b:d};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+b-a);c.g=Math.round(c.g+b-a);c.b=Math.round(c.b+b-a);return c}return a}Object.defineProperty(b,"__esModule",{value:!0});b.darken=b.toXYZ=b.toLCH=b.toLAB=b.toHSV=b.toRGB=void 0;var g=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],n=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];b.toRGB=d;b.toHSV=function(a){if("h"in a&&"s"in a&&"v"in a)return a;var b=
d(a);a=b.r;var c=b.g,e=b.b,b=Math.max(a,c,e),g=b-Math.min(a,c,e);a=0===g?0:b===a?(c-e)/g%6:b===c?(e-a)/g+2:(a-c)/g+4;0>a&&(a+=6);return{h:60*a,s:100*(0===g?0:g/b),v:100/255*b}};b.toLAB=function(a){return"l"in a&&"a"in a&&"b"in a?a:l(m(d(a)))};b.toLCH=function(a){if(!("l"in a&&"c"in a&&"h"in a)){var b=l(m(d(a)));a=b.l;var c=b.a,e=b.b,b=Math.sqrt(c*c+e*e),c=Math.atan2(e,c),c=0<c?c:c+2*Math.PI;a={l:a,c:b,h:c}}return a};b.toXYZ=function(a){return"x"in a&&"y"in a&&"z"in a?a:m(d(a))};b.darken=function(a,
b){a=l(m(a));a.l*=1-b;return h(e(a))}})},"esri/renderers/RasterShadedReliefRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ../tasks/support/colorRamps".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.altitude=45;a.azimuth=315;a.colorRamp=null;a.hillshadeType="multi-directional";a.pixelSizePower=.664;a.pixelSizeFactor=.024;a.scalingType="none";a.type="raster-shaded-relief";a.zFactor=
1;return a}a.__extends(d,b);n=d;d.prototype.readColorRamp=function(a){return e.fromJSON(a)};d.prototype.clone=function(){return new n({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:h.clone(this.colorRamp)})};var n;a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"altitude",void 0);a.__decorate([l.property({type:Number,
json:{write:!0}})],d.prototype,"azimuth",void 0);a.__decorate([l.property({types:e.types,json:{write:!0}})],d.prototype,"colorRamp",void 0);a.__decorate([l.reader("colorRamp")],d.prototype,"readColorRamp",null);a.__decorate([l.property({type:["traditional","multi-directional"],json:{write:!0}})],d.prototype,"hillshadeType",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"pixelSizePower",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"pixelSizeFactor",
void 0);a.__decorate([l.property({type:["none","adjusted"],json:{write:!0}})],d.prototype,"scalingType",void 0);a.__decorate([l.enumeration({rasterShadedRelief:"raster-shaded-relief"})],d.prototype,"type",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],d.prototype,"zFactor",void 0);return d=n=a.__decorate([l.subclass("esri.renderers.RasterShadedReliefRenderer")],d)}(m.JSONSupport)})},"esri/renderers/RasterStretchRenderer":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./support/stretchRendererUtils ../tasks/support/colorRamps".split(" "),
function(q,b,a,m,h,l,e,d,g){return function(b){function c(a){a=b.call(this,a)||this;a.colorRamp=null;a.computeGamma=!1;a.dynamicRangeAdjustment=!1;a.gamma=[];a.maxPercent=null;a.minPercent=null;a.numberOfStandardDeviations=null;a.outputMax=null;a.outputMin=null;a.sigmoidStrengthLevel=null;a.statistics=[];a.histograms=null;a.useGamma=!1;a.stretchType="none";a.type="raster-stretch";return a}a.__extends(c,b);k=c;c.prototype.readColorRamp=function(a){if(a)return g.fromJSON(a)};c.prototype.writeStatistics=
function(a,b,c){null!==a&&void 0!==a&&a.length&&(Array.isArray(a[0])||(a=a.map(function(a){return[a.min,a.max,a.avg,a.stddev]})),b[c]=a)};c.prototype.readStretchType=function(a,b){a=b.stretchType;"number"===typeof a&&(a=d.stretchTypeFunctionEnum[a]);return d.stretchTypeJSONDict.read(a)};c.prototype.clone=function(){return new k({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:h.clone(this.statistics),gamma:h.clone(this.gamma),
sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:h.clone(this.colorRamp),histograms:h.clone(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})};var k;a.__decorate([l.property({types:g.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);a.__decorate([l.reader("colorRamp")],c.prototype,"readColorRamp",null);a.__decorate([l.property({type:Boolean,json:{write:!0}})],
c.prototype,"computeGamma",void 0);a.__decorate([l.property({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],c.prototype,"dynamicRangeAdjustment",void 0);a.__decorate([l.property({type:[Number],json:{write:!0}})],c.prototype,"gamma",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"maxPercent",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"minPercent",void 0);a.__decorate([l.property({type:e.Integer,json:{write:!0}})],c.prototype,
"numberOfStandardDeviations",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],c.prototype,"outputMax",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],c.prototype,"outputMin",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"sigmoidStrengthLevel",void 0);a.__decorate([l.property({json:{type:[[Number]],write:!0}})],c.prototype,"statistics",void 0);a.__decorate([l.property()],
c.prototype,"histograms",void 0);a.__decorate([l.writer("statistics")],c.prototype,"writeStatistics",null);a.__decorate([l.property({type:Boolean,json:{write:!0}})],c.prototype,"useGamma",void 0);a.__decorate([l.property({type:d.stretchTypeJSONDict.apiValues,json:{type:d.stretchTypeJSONDict.jsonValues,write:d.stretchTypeJSONDict.write}})],c.prototype,"stretchType",void 0);a.__decorate([l.reader("stretchType",["stretchType"])],c.prototype,"readStretchType",null);a.__decorate([l.enumeration({rasterStretch:"raster-stretch"})],
c.prototype,"type",void 0);return c=k=a.__decorate([l.subclass("esri.renderers.RasterStretchRenderer")],c)}(m.JSONSupport)})},"esri/renderers/support/stretchRendererUtils":function(){define(["require","exports","../../core/jsonMap"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.stretchTypeFunctionEnum=b.stretchTypeJSONDict=void 0;b.stretchTypeJSONDict=new a.default({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",
percentClip:"percent-clip",sigmoid:"sigmoid"});b.stretchTypeFunctionEnum={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}})},"esri/renderers/UniqueValueRenderer":function(){define("require exports tslib ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../support/persistableUrlUtils ../symbols/support/styleUtils".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y,w,x,v,C,z,u){var B=g.getLogger("esri.renderers.UniqueValueRenderer"),E=r.ensureType(v);return function(b){function g(a){a=b.call(this,a)||this;a._valueInfoMap={};a._isDefaultSymbolDerived=!1;a.type="unique-value";a.backgroundFillSymbol=null;a.field=null;a.field2=null;a.field3=null;a.valueExpression=null;a.valueExpressionTitle=null;a.legendOptions=null;a.defaultLabel=null;a.fieldDelimiter=null;a.portal=null;a.styleOrigin=null;a.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},f=function(f){var e=l.find(a,function(a){return a.value===b[f].value});e?t.diff(e,b[f])?(d.changed.push({type:"complete",oldValue:e,newValue:b[f]}),c=!0):d.unchanged.push({oldValue:e,newValue:b[f]}):(d.added.push(b[f]),c=!0)},e=0;e<b.length;e++)f(e);f=function(f){l.find(b,function(b){return b.value===a[f].value})||(d.removed.push(a[f]),c=!0)};for(e=0;e<
a.length;e++)f(e);return c?d:void 0}}};a._set("uniqueValueInfos",[]);return a}a.__extends(g,b);q=g;Object.defineProperty(g.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!1,configurable:!0});g.prototype.castField=function(a){return null==a||"function"===typeof a?a:r.ensureString(a)};g.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):
B.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(g.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!1,configurable:!0});g.prototype.readPortal=function(a,b,c){return c.portal||D.getDefault()};g.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=z.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};g.prototype.writeStyleOrigin=
function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=z.toJSON(a.styleUrl,d))};Object.defineProperty(g.prototype,"uniqueValueInfos",{set:function(a){this.styleOrigin?B.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!1,configurable:!0});g.prototype.addUniqueValueInfo=function(a,b){this.styleOrigin?B.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(a="object"===typeof a?E(a):new v({value:a,symbol:h.ensureType(b)}),this.uniqueValueInfos.push(a),this._valueInfoMap[a.value]=a)};g.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)B.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};g.prototype.getUniqueValueInfo=
function(b,c){return a.__awaiter(this,void 0,void 0,function(){var d,f,e;return a.__generator(this,function(g){switch(g.label){case 0:d=c;if(!this.valueExpression||!n.isNone(c)&&!n.isNone(c.arcade))return[3,2];f=[a.__assign({},d)];e={};return[4,C.loadArcade()];case 1:d=a.__assign.apply(void 0,f.concat([(e.arcade=g.sent(),e)])),g.label=2;case 2:return[2,this._getUniqueValueInfo(b,d)]}})})};g.prototype.getSymbol=function(a,b){if(this.valueExpression&&(n.isNone(b)||n.isNone(b.arcade)))B.error("#getSymbol()",
"Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,b))&&a.symbol||this.defaultSymbol};g.prototype.getSymbolAsync=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var d,f,e,g;return a.__generator(this,function(h){switch(h.label){case 0:d=c;if(!this.valueExpression||!n.isNone(d)&&!n.isNone(d.arcade))return[3,2];f=[a.__assign({},d)];e={};return[4,C.loadArcade()];case 1:d=a.__assign.apply(void 0,f.concat([(e.arcade=h.sent(),e)])),h.label=2;case 2:return g=
this._getUniqueValueInfo(b,d),[2,g&&g.symbol||this.defaultSymbol]}})})};g.prototype.getSymbols=function(){for(var a=[],b=0,c=this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&a.push(this.defaultSymbol);return a};g.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};g.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),
c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};g.prototype.clone=function(){var a=new q({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:d.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:d.clone(this.visualVariables),
legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:d.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=d.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(d.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(g.prototype,"arcadeRequired",
{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!1,configurable:!0});g.prototype.collectRequiredFields=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var d;return a.__generator(this,function(a){switch(a.label){case 0:return d=[this.collectVVRequiredFields(b,c),this.collectSymbolFields(b,c)],[4,k.all(d)];case 1:return a.sent(),[2]}})})};g.prototype.collectSymbolFields=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var d;
return a.__generator(this,function(f){switch(f.label){case 0:return d=a.__spreadArrays(this.getSymbols().map(function(a){return a.collectRequiredFields(b,c)}),[p.collectArcadeFieldNames(b,c,this.valueExpression)]),p.collectField(b,c,this.field),p.collectField(b,c,this.field2),p.collectField(b,c,this.field3),[4,k.all(d)];case 1:return f.sent(),[2]}})})};g.prototype.populateFromStyle=function(){var a=this;return u.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap=
{};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var f=new m.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||d.name!==b.data.defaultItem||(a.defaultSymbol=f,a._isDefaultSymbolDerived=!0);f=new v({value:d.name,symbol:f});c.push(f);a._valueInfoMap[d.name]=f});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=
!0);return a})};g.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};g.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};g.prototype._getUnqiueValueInfoForExpression=function(a,b){var c=n.unwrapOr(b,{});b=c.viewingMode;var d=c.scale,f=c.spatialReference,e=this._cache.compiledFunc,c=n.unwrap(c.arcade).arcadeUtils;
e||(e=c.createSyntaxTree(this.valueExpression),e=c.createFunction(e),this._cache.compiledFunc=e);a=c.executeFunction(e,c.createExecContext(a,c.getViewInfo({viewingMode:b,scale:d,spatialReference:f})));return this._valueInfoMap[a+""]};g.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&this.field2){a=this.field2;d=this.field3;var f=[];b&&f.push(c[b]);a&&f.push(c[a]);d&&f.push(c[d]);d=f.join(this.fieldDelimiter||"")}else"function"===typeof b?
d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};g.fromPortalStyle=function(a,b){var c=new q(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||D.getDefault());b=c.populateFromStyle();b.catch(function(b){B.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};g.fromStyleUrl=function(a,b){b=new q(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){B.error("#fromStyleUrl('"+
a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var q;a.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression"]})],g.prototype,"_cache",null);a.__decorate([f.enumeration({uniqueValue:"unique-value"})],g.prototype,"type",void 0);a.__decorate([f.property(w.rendererBackgroundFillSymbolProperty)],g.prototype,"backgroundFillSymbol",void 0);a.__decorate([f.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],g.prototype,"field",void 0);
a.__decorate([f.cast("field")],g.prototype,"castField",null);a.__decorate([f.writer("field")],g.prototype,"writeField",null);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"field2",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"field3",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"valueExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"valueExpressionTitle",void 0);a.__decorate([f.property({type:x.default,
json:{write:!0}})],g.prototype,"legendOptions",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"defaultLabel",void 0);a.__decorate([f.property(c.deepMerge(a.__assign({},w.rendererSymbolProperty),{json:{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],g.prototype,"defaultSymbol",null);a.__decorate([f.property({type:String,json:{write:!0}})],
g.prototype,"fieldDelimiter",void 0);a.__decorate([f.property({type:D,readOnly:!0})],g.prototype,"portal",void 0);a.__decorate([f.reader("portal",["styleName"])],g.prototype,"readPortal",null);a.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],g.prototype,"styleOrigin",void 0);a.__decorate([f.reader("styleOrigin",["styleName","styleUrl"])],g.prototype,"readStyleOrigin",null);a.__decorate([f.writer("styleOrigin",{styleName:{type:String},
styleUrl:{type:String}})],g.prototype,"writeStyleOrigin",null);a.__decorate([f.property({type:[v],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],g.prototype,"uniqueValueInfos",null);return g=q=a.__decorate([f.subclass("esri.renderers.UniqueValueRenderer")],g)}(y.VisualVariablesMixin(A))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),function(q,b,a,m,h,l){function e(b){return b instanceof
m?Object.keys(b.items):b instanceof a?l.getProperties(b).keys():b?Object.keys(b):[]}function d(a,b){return a instanceof m?a.items[b]:a[b]}function g(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function n(a){return a?a.declaredClass:null}function c(b,f){var k,l=b.diff;if(l&&"function"===typeof l)return l(b,f);var m=e(b),p=e(f);if(0!==m.length||0!==p.length){if(!m.length||!p.length||g(b,f))return{type:"complete",oldValue:b,newValue:f};var r=p.filter(function(a){return-1===
m.indexOf(a)}),q=m.filter(function(a){return-1===p.indexOf(a)}),r=m.filter(function(a){return-1<p.indexOf(a)&&d(b,a)!==d(f,a)}).concat(r,q).sort();if((q=n(b))&&-1<t.indexOf(q)&&r.length)return{type:"complete",oldValue:b,newValue:f};for(var C,q=b instanceof a&&f instanceof a,z=0;z<r.length;z++){var u=r[z],B=d(b,u),E=d(f,u),F=void 0;!(q||"function"!==typeof B&&"function"!==typeof E)||B===E||null==B&&null==E||(F=l&&l[u]&&"function"===typeof l[u]?l[u](B,E):"object"===typeof B&&"object"===typeof E&&n(B)===
n(E)?c(B,E):{type:"complete",oldValue:B,newValue:E},h.isSome(F)&&(h.isSome(C)?C.diff[u]=F:C={type:"partial",diff:(k={},k[u]=F,k)}))}return C}}function k(a,b){if(h.isNone(a))return!1;b=b.split(".");var c=a;for(a=0;a<b.length;a++){var d=b[a];if("complete"===c.type)break;if("partial"===c.type){if(c=c.diff[d],!c)return!1}else return!1}return!0}function f(a){if(h.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!f(d))return!1}b=
0;for(c=a.removed;b<c.length;b++)if(d=c[b],!f(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!f(d))return!1;return!0;case "partial":for(b in a.diff)if(d=a.diff[b],!f(d))return!1;return!0}}Object.defineProperty(b,"__esModule",{value:!0});b.isEmpty=b.diff=b.hasDiffAny=b.hasDiff=void 0;var t=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];b.hasDiff=k;b.hasDiffAny=function(a,b){for(var c=0;c<b.length;c++)if(k(a,
b[c]))return!0;return!1};b.diff=function(a,b){if("function"!==typeof a&&"function"!==typeof b&&(a||b))return!a||!b||"object"===typeof a&&"object"===typeof b&&n(a)!==n(b)?{type:"complete",oldValue:a,newValue:b}:c(a,b)};b.isEmpty=f})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports tslib ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,
a)||this;a.description=null;a.label=null;a.symbol=null;a.value=null;return a}a.__extends(d,b);h=d;d.prototype.clone=function(){return new h({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};d.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var h;a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([l.property({type:String,
json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([l.property({types:m.symbolTypesRenderer,json:{origins:{"web-scene":{types:m.symbolTypesRenderer3D,write:e.write}},write:e.write}})],d.prototype,"symbol",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],d.prototype,"value",void 0);return d=h=a.__decorate([l.subclass("esri.renderers.support.UniqueValueInfo")],d)}(h.JSONSupport)})},"esri/symbols/support/styleUtils":function(){define("require exports tslib ../../request ../../symbols ../../core/arrayUtils ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ../../support/persistableUrlUtils ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D){function A(a,b){return B(a,b).then(function(b){return{data:b.data,baseUrl:n.removeFile(a),styleUrl:a}})}function y(a,b,d){b=b.portal||c.getDefault();var f,e=b.url+" - "+(b.user&&b.user.username)+" - "+a;E[e]||(E[e]=w(a,b,d).then(function(a){f=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:f.itemUrl,styleName:a}}));return E[e]}function w(a,b,c){return b.load(c).then(function(){var d=new k({disableExtraQuery:!0,query:"owner:"+F+" AND type:"+
G+' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var f=null,e=a.toLowerCase();if(b&&Array.isArray(b))for(var g=0;g<b.length;g++){var h=b[g];if(h.typeKeywords.some(function(a){return a.toLowerCase()===e})&&h.type===G&&h.owner===F){f=h;break}}if(!f)throw new d("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return f.load(c)})}function x(a,b,c){return a.styleUrl?A(a.styleUrl,c):a.styleName?y(a.styleName,b,c):g.reject(new d("symbolstyleutils:style-url-and-name-missing",
"Either styleUrl or styleName is required to resolve a style"))}function v(a,b,c,f,k){var m=a.data,w={portal:c.portal,url:n.urlToObject(a.baseUrl),origin:"portal-item"},m=l.find(m.items,function(a){return a.name===b});if(!m)return g.reject(new d("symbolstyleutils:symbol-name-not-found","The symbol name '"+b+"' could not be found",{symbolName:b}));var q=t.fromJSON(z(m,f),w),u=m.thumbnail&&m.thumbnail.href,x=m.thumbnail&&m.thumbnail.imageData;e.isDevEnvironment()&&(q=e.adjustStaticAGOUrl(q),u=e.adjustStaticAGOUrl(u));
var v={portal:c.portal,url:n.urlToObject(n.removeFile(q)),origin:"portal-item"};return B(q,k).then(function(d){d="cimRef"===f?C(d.data):d.data;if((d=r.fromJSON(d,v))&&h.isSymbol3D(d)){if(u){var e=t.fromJSON(u,w);d.thumbnail=new D.default({url:e})}else x&&(d.thumbnail=new D.default({url:"data:image/png;base64,"+x}));a.styleUrl?d.styleOrigin=new p({portal:c.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(d.styleOrigin=new p({portal:c.portal,styleName:a.styleName,name:b}))}return d})}function C(a){return null===
a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function z(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!f.enableWebStyleForceWOSR()){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function u(a,b,c){var d=J.replace(/\{SymbolName\}/gi,a.name);return B(d,c).then(function(a){a=C(a.data);return r.fromJSON(a,{portal:b.portal,url:n.urlToObject(n.removeFile(d)),origin:"portal-item"})})}function B(b,c){c=a.__assign({responseType:"json",
query:{f:"json"}},c);return m(n.normalize(b),c)}Object.defineProperty(b,"__esModule",{value:!0});b.styleNameFromItem=b.fetchSymbolFromStyle=b.resolveWebStyleSymbol=b.fetchStyle=void 0;var E={};b.fetchStyle=x;b.resolveWebStyleSymbol=function(a,b,c,f){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?u(a,b,f):x(a,b,f).then(function(d){return v(d,a.name,b,c,f)}):g.reject(new d("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};b.fetchSymbolFromStyle=
v;b.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var c=a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var F="esri_en",G="Style",J="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.isTelemetryDevEnvironment=b.adjustStaticAGOUrl=
b.isDevEnvironment=void 0;b.isDevEnvironment=function(b){b=b||a.location.hostname;return d.some(function(a){return null!=(null===b||void 0===b?void 0:b.match(a))})};b.adjustStaticAGOUrl=function(b,d){return b?(d=d||a.location.hostname)?null!=d.match(m)||null!=d.match(l)?b.replace("static.arcgis.com","staticdev.arcgis.com"):null!=d.match(h)||null!=d.match(e)?b.replace("static.arcgis.com","staticqa.arcgis.com"):b:b:b};b.isTelemetryDevEnvironment=function(b){b=b||a.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(d).some(function(a){return null!=
(null===b||void 0===b?void 0:b.match(a))})};var m=/^devext.arcgis.com$/,h=/^qaext.arcgis.com$/,l=/^[\w-]*\.mapsdevext.arcgis.com$/,e=/^[\w-]*\.mapsqa.arcgis.com$/,d=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,m,h,/^jsapps.esri.com$/,l,e]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(q,b,a){function m(b,l){return!!a("enable-feature:"+b+"/"+l)}Object.defineProperty(b,"__esModule",{value:!0});b.enableWebStyleForceWOSR=b.hasEnableFeature=void 0;b.hasEnableFeature=
m;b.enableWebStyleForceWOSR=function(){return m("jschmid","force-wosr")}})},"esri/renderers/VectorFieldRenderer":function(){define("require exports tslib ../Color ../geometry ../Graphic ../symbols ../core/jsonMap ../core/JSONSupport ../core/lang ../core/SetUtils ../core/accessorSupport/decorators ../geometry/support/normalizeUtils ../layers/support/rasterFunctions/vectorFieldUtils ./ClassBreaksRenderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./visualVariables/RotationVariable ./visualVariables/SizeVariable ./visualVariables/support/visualVariableUtils ../symbols/SimpleLineSymbol ../symbols/SimpleMarkerSymbol ../symbols/support/utils".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r,p,D,A,y,w,x,v,C){var z=c.SetFromValues(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),u=new d.default({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"}),B=new d.default({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",
classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-speed"}),E=new d.default({flow_from:"flow-from",flow_to:"flow-to"});return function(b){function c(a){a=b.call(this,a)||this;a.attributeField="Magnitude";a.flowRepresentation="flow-from";a.rotationType="arithmetic";a.style="single-arrow";a.symbolTileSize=50;a.type="vector-field";return a}a.__extends(c,b);d=c;c.prototype.readInputUnit=
function(a,b){return z.has(a)?u.fromJSON(a):null};c.prototype.readOutputUnit=function(a,b){return z.has(a)?u.fromJSON(a):null};Object.defineProperty(c.prototype,"styleRenderer",{get:function(){var a=this.attributeField,b=this._createStyleRenderer(this.style);b.field=a;return b},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"sizeVariables",{get:function(){var a=[];if(this.visualVariables)for(var b=0,c=this.visualVariables;b<c.length;b++){var d=c[b];"size"===d.type&&a.push(d)}0===
a.length&&(d=new y({minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize}),this.visualVariables?this.visualVariables.push(d):this._set("visualVariables",[d]),a.push(d));return a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rotationVariables",{get:function(){var a=[];if(this.visualVariables)for(var b=0,c=this.visualVariables;b<c.length;b++){var d=c[b];"rotation"===d.type&&a.push(d)}0===a.length&&(d=new A({field:"Direction",rotationType:this.rotationType}),this.visualVariables?
this.visualVariables.push(d):this._set("visualVariables",[d]),a.push(d));return a},enumerable:!1,configurable:!0});c.prototype.clone=function(){return new d({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,style:this.style,visualVariables:n.clone(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})};c.prototype.getGraphicsFromPixelData=function(b,c){void 0===c&&(c=!1);return a.__awaiter(this,void 0,void 0,function(){var d,
e,g,k,n,m,p,r,w,q,u,D,x,v;return a.__generator(this,function(a){switch(a.label){case 0:d=[],e=t.getUnitConversionFactor(this.inputUnit,this.outputUnit),g=c?t.convertVectorFieldData(b.pixelBlock,"vector-uv",this.rotationType,e):t.convertVectorFieldUnit(b.pixelBlock,"vector-magdir",e),k=b.extent,n=g.mask&&0<g.mask.length,m=0,r=(k.xmax-k.xmin)/g.width,w=(k.ymax-k.ymin)/g.height,q=0,a.label=1;case 1:if(!(q<g.height))return[3,6];u=0;a.label=2;case 2:if(!(u<g.width))return[3,5];p=[k.xmin+u*r+r/2,k.ymax-
q*w-w/2];if(n&&!g.mask[m]||!p||2!==p.length)return[3,4];D={Magnitude:g.pixels[0][m],Direction:g.pixels[1][m]};x=new h.Point({x:p[0],y:p[1],spatialReference:k.spatialReference});return[4,f.normalizeCentralMeridian(x)];case 3:x=a.sent()[0],v=new l({geometry:{type:"point",x:x.x,y:x.y,spatialReference:k.spatialReference},attributes:D}),v.symbol=this._getVisualVariablesAppliedSymbol(v),d.push(v),a.label=4;case 4:return u++,m++,[3,2];case 5:return q++,[3,1];case 6:return[2,d]}})})};c.prototype.getSymbol=
function(a,b){};c.prototype.getSymbolAsync=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){return[2]})})};c.prototype.getSymbols=function(){return[]};c.prototype.getClassBreakInfos=function(){var a;return null===(a=this.styleRenderer)||void 0===a?void 0:a.classBreakInfos};c.prototype.getDefaultSymbol=function(){var a;return null===(a=this.styleRenderer)||void 0===a?void 0:a.defaultSymbol};c.prototype._getDefaultSymbol=function(a){return new v({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",
outline:new x({width:0}),size:20,color:a||new m([0,92,230])})};c.prototype._getVisualVariablesAppliedSymbol=function(a){if(a){var b=this.styleRenderer&&this.styleRenderer.getSymbol(a),b=b.clone(),c=this.sizeVariables,d=this.rotationVariables;c&&c.length&&this.sizeVariables.forEach(function(c){return C.applySizesToSymbol(b,w.getAllSizes([c],a))});d&&d.length&&(c=a.attributes.Direction,a.attributes.Direction="flow-from"===this.flowRepresentation?c:c+180,this.rotationVariables.forEach(function(c){return C.applyRotationToSymbol(b,
w.getRotationAngle(c,a),c.axis)}));return b}};c.prototype._createStyleRenderer=function(a){var b={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(a){case "single-arrow":b=this._createSingleArrowRenderer();break;case "beaufort-kn":b=this._createBeaufortKnotsRenderer();break;case "beaufort-m":b=this._createBeaufortMeterRenderer();break;case "beaufort-ft":b=this._createBeaufortFeetRenderer();break;case "beaufort-mi":b=this._createBeaufortMilesRenderer();break;case "beaufort-km":b=this._createBeaufortKilometersRenderer();
break;case "ocean-current-m":b=this._createCurrentMeterRenderer();break;case "ocean-current-kn":b=this._createCurrentKnotsRenderer();break;case "simple-scalar":b=this._createSimpleScalarRenderer();break;case "wind-speed":b=this._createWindBarbsRenderer();break;case "classified-arrow":b=this._createClassifiedArrowRenderer()}return new r(b)};c.prototype._createSingleArrowRenderer=function(){return{defaultSymbol:this._getDefaultSymbol()}};c.prototype._createBeaufortKnotsRenderer=function(){var a=this._getDefaultSymbol(new m([214,
47,39])),b=this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createBeaufortMeterRenderer=function(){var a=this._getDefaultSymbol(new m([214,47,39])),b=this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,
180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createBeaufortFeetRenderer=function(){var a=this._getDefaultSymbol(new m([214,47,39])),b=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],b=b.map(function(a){return 3.28084*a}),b=this._getClassBreaks(b,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,
185,132],[245,152,105],[237,117,81],[232,21,21]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createBeaufortMilesRenderer=function(){var a=this._getDefaultSymbol(new m([214,47,39])),b=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],b=b.map(function(a){return 2.23694*a}),b=this._getClassBreaks(b,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]]);return{defaultSymbol:a,
classBreakInfos:b}};c.prototype._createBeaufortKilometersRenderer=function(){var a=this._getDefaultSymbol(new m([214,47,39])),b=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],b=b.map(function(a){return 3.6*a}),b=this._getClassBreaks(b,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createCurrentMeterRenderer=function(){var a=
this._getDefaultSymbol(new m([177,177,177])),b=this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createCurrentKnotsRenderer=function(){var a=this._getDefaultSymbol(new m([177,177,177])),b=this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]]);return{defaultSymbol:a,classBreakInfos:b}};c.prototype._createClassifiedArrowRenderer=
function(){var a,b=this._getDefaultSymbol(new m([56,168,0])),c=[0,1E-6,3.5,7,10.5,14];if(null===(a=this.sizeVariables)||void 0===a?0:a.length){var d=this.sizeVariables[0].minDataValue;a=this.sizeVariables[0].maxDataValue;if(d&&a)var f=(a-d)/5,c=Array.from(Array(6).keys()).map(function(a){return d+f*a})}c=this._getClassBreaks(c,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]]);return{defaultSymbol:b,classBreakInfos:c}};c.prototype._createSimpleScalarRenderer=function(){return{defaultSymbol:e.PictureMarkerSymbol.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII\x3d",
height:20,width:20,type:"esriPMS",angle:0})}};c.prototype._createWindBarbsRenderer=function(){var a=Array.from(Array(31).keys()).map(function(a){return 5*a}),b=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},
{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjE1IDIwIDIwIDIwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0yNSAwIEwyNSA0MCBNMjUgMzUgTDE3LjUgMzcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},
{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},
{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},
{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},
{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},
{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},
{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},
{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"90-95",
path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},
{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},
{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},
{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg\x3d\x3d"},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",
imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4\x3d"}],c=e.PictureMarkerSymbol.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",
height:20,width:20,type:"esriPMS",angle:0}),d=a.map(function(d,f){var g;f!==a.length-1&&(0===f?g={minValue:d,maxValue:a[f+1],symbol:c}:(g=e.PictureMarkerSymbol.fromJSON({type:"esriPMS",imageData:b[f].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0}),g={minValue:d,maxValue:a[f+1],symbol:g}));return new D(g)});return{defaultSymbol:c,classBreakInfos:d}};c.prototype._getClassBreaks=function(a,b){var c=this;return b.map(function(b,d){return new D({minValue:a[d],maxValue:a[d+1],symbol:c._getDefaultSymbol(new m(b))})})};
var d;a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"attributeField",void 0);a.__decorate([k.property({type:E.apiValues,json:{type:E.jsonValues,read:{reader:E.read},write:{writer:E.write}}})],c.prototype,"flowRepresentation",void 0);a.__decorate([k.property({type:["geographic","arithmetic"],json:{write:!0}})],c.prototype,"rotationType",void 0);a.__decorate([k.property({type:B.apiValues,json:{type:B.jsonValues,read:{reader:B.read},write:{writer:B.write}}})],c.prototype,"style",
void 0);a.__decorate([k.property({json:{write:!0}})],c.prototype,"symbolTileSize",void 0);a.__decorate([k.property({type:u.apiValues,json:{type:u.jsonValues,write:{writer:u.write}}})],c.prototype,"inputUnit",void 0);a.__decorate([k.reader("inputUnit")],c.prototype,"readInputUnit",null);a.__decorate([k.property({type:u.apiValues,json:{type:u.jsonValues,read:{reader:u.read},write:{writer:u.write}}})],c.prototype,"outputUnit",void 0);a.__decorate([k.reader("outputUnit")],c.prototype,"readOutputUnit",
null);a.__decorate([k.enumeration({vectorField:"vector-field"})],c.prototype,"type",void 0);a.__decorate([k.property({type:r,dependsOn:["style","attributeField"]})],c.prototype,"styleRenderer",null);a.__decorate([k.property({type:y,dependsOn:["visualVariables","symbolTileSize"]})],c.prototype,"sizeVariables",null);a.__decorate([k.property({type:A,dependsOn:["visualVariables","rotationType"]})],c.prototype,"rotationVariables",null);return c=d=a.__decorate([k.subclass("esri.renderers.VectorFieldRenderer")],
c)}(p.VisualVariablesMixin(g.JSONSupport))})},"esri/geometry/support/normalizeUtils":function(){define("require exports tslib ../../config ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r){function p(a){return"polygon"===a.type?a.rings:a.paths}function D(a,b){return Math.ceil((a-b)/
(2*b))}function A(a,b){for(var c=0,d=p(a);c<d.length;c++)for(var f=0,e=d[c];f<e.length;f++)e[f][0]+=b;return a}function y(a){for(var b=[],c=0,d=0,f=0;f<a.length;f++){for(var e=a[f],g=null,h=0;h<e.length;h++)g=e[h],b.push(g),0===h?d=c=g[0]:(c=Math.min(c,g[0]),d=Math.max(d,g[0]));g&&b.push([(c+d)/2,0])}return b}function w(a,b){if(!(a instanceof n||a instanceof g))throw u.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new h("straightLineDensify: the input geometry is neither polyline nor polygon");
for(var c=[],d=0,f=p(a);d<f.length;d++){var e=f[d],k=[];c.push(k);k.push([e[0][0],e[0][1]]);for(var l=0;l<e.length-1;l++){var m=e[l][0],r=e[l][1],t=e[l+1][0],w=e[l+1][1],q=Math.sqrt((t-m)*(t-m)+(w-r)*(w-r)),D=(w-r)/q,x=(t-m)/q,v=q/b;if(1<v){for(var y=1;y<=v-1;y++){var A=y*b;k.push([x*A+m,D*A+r])}q=(q+Math.floor(v-1)*b)/2;k.push([x*q+m,D*q+r])}k.push([t,w])}}return"polygon"===a.type?new g({rings:c,spatialReference:a.spatialReference}):new n({paths:c,spatialReference:a.spatialReference})}function x(a,
b,c){b&&(a=w(a,1E6),a=f.webMercatorToGeographic(a,!0));c&&(a=A(a,c));return a}function v(a,b,c){if(Array.isArray(a)){var d=a[0];if(d>b){var f=D(d,b);a[0]=d+-2*f*b}else d<c&&(f=D(d,c),a[0]=d+-2*f*c)}else d=a.x,d>b?(f=D(d,b),a=a.clone().offset(-2*f*b,0)):d<c&&(f=D(d,c),a=a.clone().offset(-2*f*c,0));return a}function C(a,b){for(var c=-1,d=function(d){var f=b.cutIndexes[d],e=b.geometries[d],g=p(e);d=function(a){var b=g[a];b.some(function(c){if(180>c[0])return!0;for(var d=c=0;d<b.length;d++){var f=b[d][0];
c=f>c?f:c}c=Number(c.toFixed(9));c=-360*D(c,180);for(d=0;d<b.length;d++)f=e.getPoint(a,d),e.setPoint(a,d,f.clone().offset(c,0));return!0})};for(var h=0;h<g.length;h++)d(h);if(f===c)if("polygon"===a[0].type)for(d=0,h=p(e);d<h.length;d++)a[f]=a[f].addRing(h[d]);else{if("polyline"===a[0].type)for(d=0,h=p(e);d<h.length;d++)a[f]=a[f].addPath(h[d])}else c=f,a[f]=e},f=0;f<b.cutIndexes.length;f++)d(f);return a}function z(b,c,h){return a.__awaiter(this,void 0,void 0,function(){var l,p,w,q,u,y,E,F,G,P,R,O,
N,S,L,U,T,Y,aa,ha,ca,ga,ia,pa,ma,na,qa,ra,ja,ea,Z,ba,da,fa,oa,ka,la;return a.__generator(this,function(a){switch(a.label){case 0:if(!Array.isArray(b))return[2,z([b],c)];l=c?c.url:m.geometryServiceUrl;P=0;R=[];O=[];N=0;for(S=b;N<S.length;N++)L=S[N],e.isNone(L)?O.push(L):(p||(p=L.spatialReference,w=k.getInfo(p),E=(q=p.isWebMercator)?102100:4326,u=B[E].maxX,y=B[E].minX,F=B[E].plus180Line,G=B[E].minus180Line),w?"mesh"===L.type?O.push(L):"point"===L.type?O.push(v(L.clone(),u,y)):"multipoint"===L.type?
(U=L.clone(),U.points=U.points.map(function(a){return v(a,u,y)}),O.push(U)):"extent"===L.type?(T=L.clone(),Y=T._normalize(!1,!1,w),O.push(Y.rings?new g(Y):Y)):L.extent?(T=L.extent,aa=D(T.xmin,y),ha=2*aa*u,ca=0===ha?L.clone():A(L.clone(),ha),T.offset(ha,0),T.intersects(F)&&T.xmax!==u?(P=T.xmax>P?T.xmax:P,ca=x(ca,q),R.push(ca),O.push("cut")):T.intersects(G)&&T.xmin!==y?(P=2*T.xmax*u>P?2*T.xmax*u:P,ca=x(ca,q,360),R.push(ca),O.push("cut")):O.push(ca)):O.push(L.clone()):O.push(L));ga=D(P,u);ia=-90;pa=
ga;for(ma=new n;0<ga;)na=-180+360*ga,ma.addPath([[na,ia],[na,-1*ia]]),ia*=-1,ga--;return 0<R.length&&0<pa?[4,t.cut(l,R,ma,h)]:[3,3];case 1:qa=a.sent();ra=C(R,qa);ja=[];ea=[];for(Z=0;Z<O.length;Z++)ba=O[Z],"cut"!==ba?ea.push(ba):(da=ra.shift(),fa=b[Z],e.isSome(fa)&&"polygon"===fa.type&&fa.rings&&1<fa.rings.length&&da.rings.length>=fa.rings.length?(ja.push(da),ea.push("simplify")):ea.push(q?f.geographicToWebMercator(da):da));return ja.length?[4,r.simplify(l,ja,h)]:[2,ea];case 2:oa=a.sent();ka=[];for(Z=
0;Z<ea.length;Z++)ba=ea[Z],"simplify"!==ba?ka.push(ba):ka.push(q?f.geographicToWebMercator(oa.shift()):oa.shift());return[2,ka];case 3:la=[];for(Z=0;Z<O.length;Z++)ba=O[Z],"cut"!==ba?la.push(ba):(da=R.shift(),la.push(!0===q?f.geographicToWebMercator(da):da));return[2,d.resolve(la)]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.normalizeMapX=b.getDenormalizedExtent=b.normalizeCentralMeridian=b.straightLineDensify=void 0;var u=l.getLogger("esri.geometry.support.normalizeUtils"),B={102100:{maxX:2.0037508342788905E7,
minX:-2.0037508342788905E7,plus180Line:new n({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new n({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};
b.straightLineDensify=w;b.normalizeCentralMeridian=z;b.getDenormalizedExtent=function(a){var b;if(!a)return null;var c=a.extent;if(!c)return null;var d=a.spatialReference&&k.getInfo(a.spatialReference);if(!d)return c;var d=d.valid,f=d[0],d=d[1],e=c.width,g=c.xmin;b=c.xmax;b=[b,g];g=b[0];b=b[1];if("extent"===a.type||0===e||e<=d||e>2*d||g<f||b>d)return c;var h;switch(a.type){case "polygon":if(1<a.rings.length)h=y(a.rings);else return c;break;case "polyline":if(1<a.paths.length)h=y(a.paths);else return c;
break;case "multipoint":h=a.points}a=c.clone();for(f=0;f<h.length;f++){var l=h[f][0];0>l?(l+=d,b=Math.max(l,b)):(l-=d,g=Math.min(l,g))}a.xmin=g;a.xmax=b;return a.width<e?(a.xmin-=d,a.xmax-=d,a):c};b.normalizeMapX=function(a,b){if(b=k.getInfo(b)){var c=b.valid;b=c[0];var c=c[1],d=c-b;if(a<b)for(;a<b;)a+=d;if(a>c)for(;a>c;)a-=d}return a}})},"esri/tasks/geometry/cut":function(){define("require exports tslib ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(q,b,a,m,h,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.cut=void 0;b.cut=function(b,g,n,c){return a.__awaiter(this,void 0,void 0,function(){var d,f,t,r,p,q,A,y;return a.__generator(this,function(k){switch(k.label){case 0:return d="string"===typeof b?l.urlToObject(b):b,f=g[0].spatialReference,t=a.__assign(a.__assign({},c),{query:a.__assign(a.__assign({},d.query),{f:"json",sr:JSON.stringify(f),target:JSON.stringify({geometryType:e.getJsonType(g[0]),geometries:g}),cutter:JSON.stringify(n)})}),
[4,h(d.path+"/cut",t)];case 1:return r=k.sent(),p=r.data,q=p.cutIndexes,A=p.geometries,y=void 0===A?[]:A,[2,{cutIndexes:q,geometries:y.map(function(a){a=m.fromJSON(a);a.spatialReference=f;return a})}]}})})}})},"esri/tasks/geometry/simplify":function(){define("require exports tslib ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(q,b,a,m,h,l){function e(a){return{geometryType:l.getJsonType(a[0]),geometries:a.map(function(a){return a.toJSON()})}}function d(a,b,
c){var d=l.getGeometryType(b);return a.map(function(a){a=d.fromJSON(a);a.spatialReference=c;return a})}Object.defineProperty(b,"__esModule",{value:!0});b.simplify=void 0;b.simplify=function(b,n,c){return a.__awaiter(this,void 0,void 0,function(){var g,f,t,r,p;return a.__generator(this,function(k){switch(k.label){case 0:return g="string"===typeof b?h.urlToObject(b):b,f=n[0].spatialReference,t=l.getJsonType(n[0]),r=a.__assign(a.__assign({},c),{query:a.__assign(a.__assign({},g.query),{f:"json",sr:f.wkid?
f.wkid:JSON.stringify(f),geometries:JSON.stringify(e(n))})}),[4,m(g.path+"/simplify",r)];case 1:return p=k.sent(),[2,d(p.data,t,f)]}})})}})},"esri/layers/support/rasterFunctions/vectorFieldUtils":function(){define(["require","exports","../PixelBlock"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.convertVectorFieldUnit=b.convertVectorFieldData=b.getUnitConversionFactor=b.isValidPixelBlock=void 0;var m=180/Math.PI;b.isValidPixelBlock=function(a){return a&&"esri.layers.support.PixelBlock"===
a.declaredClass&&a.pixels&&0<a.pixels.length};var h=new Map;h.set("meter-per-second",1);h.set("kilometer-per-hour",.277778);h.set("knots",.514444);h.set("feet-per-second",.3048);h.set("mile-per-hour",.44704);b.getUnitConversionFactor=function(a,b){return h.get(b)/h.get(a)||1};b.convertVectorFieldData=function(h,e,d,g){var l;void 0===d&&(d="geographic");void 0===g&&(g=1);if(!b.isValidPixelBlock(h))return h;for(var c=h.pixels,k=h.width,f=h.height,t=k*f,r=c[0],c=c[1],p=a.createEmptyBand(h.pixelType,
t),t=a.createEmptyBand(h.pixelType,t),q=0,A=0;A<f;A++)for(var y=0;y<k;y++){if("vector-uv"===e){var w=[r[q],c[q]];l=d;void 0===l&&(l="geographic");var x=w[0],v=w[1],w=Math.sqrt(x*x+v*v),x=Math.atan2(v,x)*m,x=(360+x)%360;"geographic"===l&&(x=(450-x)%360);l=[w,x];p[q]=l[0];t[q]=l[1];p[q]*=g}else x=[r[q],c[q]],w=d,void 0===w&&(w="geographic"),l=x[1],"geographic"===w&&(l=(450-l)%360),l%=360,x=x[0],l=[x*Math.cos(l/m),x*Math.sin(l/m)],p[q]=l[0],t[q]=l[1],p[q]*=g,t[q]*=g;q++}h=new a({pixelType:h.pixelType,
width:h.width,height:h.height,mask:h.mask,validPixelCount:h.validPixelCount,maskIsAlpha:h.maskIsAlpha,pixels:[p,t]});h.updateStatistics();return h};b.convertVectorFieldUnit=function(a,e,d){void 0===d&&(d=1);if(1===d||!b.isValidPixelBlock(a))return a;a=a.clone();for(var g=a.pixels,h=a.width,c=a.height,k=g[0],g=g[1],f=0,l=0;l<c;l++)for(var m=0;m<h;m++)"vector-uv"===e?(k[f]*=d,g[f]*=d):k[f]*=d,f++;a.updateStatistics();return a}})},"esri/symbols/support/utils":function(){define("require exports tslib ../../Color ../../symbols ../../core/asyncUtils ../../core/compilerUtils ../../core/has ../../core/maybe ../../core/screenUtils ../../core/libs/gl-matrix-2/vec3f64 ./gfxUtils ./Symbol3DMaterial @dojo/framework/shim/Promise".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f){function t(a,b){if(null==b)return a;a=a.toRgba();a[3]*=b;return new m(a)}function r(a,b,c){if(a=a.symbolLayers){var d=function(a){a=g.isSome(a)?a:null;b=b||a||null!=c&&z;return t(b,c)};a.forEach(function(a){if("object"!==a.type||null==a.resource.href||b)if("water"===a.type)a.color=d(a.color);else{var e=g.isSome(a.material)?a.material.color:null,e=d(e);g.isNone(a.material)?a.material=new f.default({color:e}):a.material.color=e;null!=c&&"outline"in a&&g.isSome(a.outline)&&
g.isSome(a.outline.color)&&(a.outline.color=t(a.outline.color,c))}})}}function p(b,c){return a.__awaiter(this,void 0,void 0,function(){var d,f=this;return a.__generator(this,function(e){switch(e.label){case 0:return(d=b.symbolLayers)?[4,l.forEach(d,function(b){return a.__awaiter(f,void 0,void 0,function(){return a.__generator(this,function(a){return[2,D(b,c)]})})})]:[2];case 1:return e.sent(),[2]}})})}function D(b,d){return a.__awaiter(this,void 0,void 0,function(){var f;return a.__generator(this,
function(a){switch(a.label){case 0:f=b.type;switch(f){case "extrude":return[3,1];case "icon":return[3,2];case "line":return[3,2];case "text":return[3,2];case "path":return[3,3];case "object":return[3,4];case "fill":return[3,6];case "water":return[3,6]}return[3,7];case 1:return b.size="number"===typeof d[2]?d[2]:0,[3,8];case 2:return a=A(d),g.isSome(a)&&(b.size=a),[3,8];case 3:return a=w(d,c.vec3f64.ONES,[b.width,void 0,b.height]),b.width=v(d[0],b.width,1,a),b.height=v(d[2],b.height,1,a),[3,8];case 4:return[4,
y(b,d)];case 5:return a.sent(),[3,8];case 6:return[3,8];case 7:e.neverReached(b),a.label=8;case 8:return[2]}})})}function A(a){for(var b=0;b<a.length;b++){var c=a[b];if("number"===typeof c)return c}return null}function y(b,c){return a.__awaiter(this,void 0,void 0,function(){var d,f,e,g;return a.__generator(this,function(a){switch(a.label){case 0:return[4,x(b)];case 1:return d=a.sent(),f=d.resourceSize,e=d.symbolSize,g=w(c,f,e),b.width=v(c[0],e[0],f[0],g),b.depth=v(c[1],e[1],f[1],g),b.height=v(c[2],
e[2],f[2],g),[2]}})})}function w(a,b,c){for(var d=0;3>d;d++){var f=a[d];switch(f){case "symbol-value":return null!=c[d]?c[d]/b[d]:1;case "proportional":break;default:if(f&&b[d])return f/b[d]}}return 1}function x(b){return a.__awaiter(this,void 0,void 0,function(){var c,d,f,e,g,h,k,l;return a.__generator(this,function(a){switch(a.label){case 0:return[4,new Promise(function(a,b){q(["./symbolLayerUtils"],a,b)})];case 1:return c=a.sent(),[4,c.computeObjectLayerResourceSize(b,10)];case 2:d=a.sent();f=
b.width;e=b.height;g=b.depth;h=[f,g,e];k=1;for(l=0;3>l;l++)if(null!=h[l]){k=h[l]/d[l];break}for(l=0;3>l;l++)null==h[l]&&(h[l]=d[l]*k);return[2,{resourceSize:d,symbolSize:h}]}})})}function v(a,b,c,d){switch(a){case "proportional":return c*d;case "symbol-value":return null!=b?b:c;default:return a}}Object.defineProperty(b,"__esModule",{value:!0});b.applyRotationToSymbol=b.applySizesToSymbol=b.applyColorToSymbol=b.applyOpacityToColor=b.getIconHref=b.isVolumetricSymbol=b.getSymbolOutlineSize=void 0;var C=
/\/resource\/(.*?)\.svg$/,z=new m("white");b.getSymbolOutlineSize=function(a){if(!a)return 0;if(h.isSymbol3D(a)){var b=a.symbolLayers&&a.symbolLayers.length;b?(a=a.symbolLayers.getItemAt(b-1),a="outline"in a?g.get(a,"outline","size"):void 0):a=void 0;return g.isSome(a)?a:0}return(a=k.getStroke(a))&&n.px2pt(a.width)||0};b.isVolumetricSymbol=function(a){if(!a||!a.symbolLayers)return!1;switch(a.type){case "point-3d":return a.symbolLayers.some(function(a){return"object"===a.type});case "line-3d":return a.symbolLayers.some(function(a){return"path"===
a.type});case "polygon-3d":return a.symbolLayers.some(function(a){return"object"===a.type||"extrude"===a.type});default:return!1}};b.getIconHref=function(a,b){b=b.resource.href;return!d("esri-canvas-svg-support")&&a.styleOrigin&&C.test(b)?b.replace(C,"/resource/png/$1.png"):b};b.applyOpacityToColor=t;b.applyColorToSymbol=function(a,b,c){if(a&&(b||null!=c))if(b&&(b=new m(b)),h.isSymbol3D(a))r(a,b,c);else if(h.isSymbol2D(a)){if(b=b||a.color)a.color=t(b,c);null!=c&&"outline"in a&&a.outline&&a.outline.color&&
(a.outline.color=t(a.outline.color,c))}};b.applySizesToSymbol=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){if(!b||!c)return[2];if(h.isSymbol3D(b))return[2,p(b,c)];if(h.isSymbol2D(b)&&(a=A(c),!g.isNone(a)))switch(b.type){case "simple-marker":b.size=a;break;case "picture-marker":var d=b.width/b.height;1<d?(b.width=a,b.height=a*d):(b.width=a*d,b.height=a);break;case "simple-line":b.width=a;break;case "text":b.font.size=a;break;case "simple-fill":case "picture-fill":break;
case "cim":break;default:e.neverReached(b)}return[2]})})};b.applyRotationToSymbol=function(a,b,c){a&&null!=b&&(h.isSymbol3D(a)?(a=a.symbolLayers)&&a.forEach(function(a){if(a&&"object"===a.type)switch(c){case "tilt":a.tilt=b;break;case "roll":a.roll=b;break;default:a.heading=b}}):!h.isSymbol2D(a)||"simple-marker"!==a.type&&"picture-marker"!==a.type&&"text"!==a.type||(a.angle=b))}})},"esri/core/asyncUtils":function(){define(["require","exports","./promiseUtils"],function(q,b,a){Object.defineProperty(b,
"__esModule",{value:!0});b.assertResult=b.result=b.map=b.forEach=void 0;b.forEach=function(b,h,l){return a.eachAlways(b.map(function(a,b){return h.apply(l,[a,b])}))};b.map=function(b,h,l){return a.eachAlways(b.map(function(a,b){return h.apply(l,[a,b])})).then(function(a){return a.map(function(a){return a.value})})};b.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};b.assertResult=function(a){if(!0===a.ok)return a.value;throw a.error;}})},
"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=void 0;b.vec3f64=a})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(q,b){function a(){return[0,0,0]}function m(){return[1,1,1]}function h(){return[1,0,0]}function l(){return[0,1,0]}function e(){return[0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});b.UNIT_Z=b.UNIT_Y=b.UNIT_X=
b.ONES=b.ZEROS=b.unitZ=b.unitY=b.unitX=b.ones=b.zeros=b.createView=b.fromArray=b.fromValues=b.clone=b.create=void 0;b.create=a;b.clone=function(a){return[a[0],a[1],a[2]]};b.fromValues=function(a,b,e){return[a,b,e]};b.fromArray=function(b){for(var d=a(),e=Math.min(3,b.length),c=0;c<e;++c)d[c]=b[c];return d};b.createView=function(a,b){return new Float64Array(a,b,3)};b.zeros=function(){return a()};b.ones=m;b.unitX=h;b.unitY=l;b.unitZ=e;b.ZEROS=a();b.ONES=m();b.UNIT_X=h();b.UNIT_Y=l();b.UNIT_Z=e()})},
"esri/symbols/support/gfxUtils":function(){define("require exports ../../assets ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils ./cimSymbolUtils".split(" "),function(q,b,a,m,h,l,e,d,g){function n(a){if(!a)return null;var b;switch(a.type){case "simple-fill":case "picture-fill":case "simple-marker":b=n(a.outline);break;case "simple-line":var c=d.pt2px(a.width);"none"!==a.style&&0!==c&&(b={color:a.color,style:r(a.style),width:c,cap:a.cap,join:"miter"===a.join?
d.pt2px(a.miterLimit):a.join});break;default:b=null}return b}Object.defineProperty(b,"__esModule",{value:!0});b.defaultThematicColor=b.getStroke=b.getPatternUrlWithColor=b.getFill=b.getSVGBaselineShift=b.getSVGBaseline=b.getSVGAlign=void 0;var c=a.getAssetUrl("esri/symbols/patterns/"),k={left:"start",center:"middle",right:"end",justify:"start"},f={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},t=new l(1E3);b.getSVGAlign=function(a){return a=(a=a.horizontalAlignment)&&
k[a.toLowerCase()]||"middle"};b.getSVGBaseline=function(a){return(a=a.verticalAlignment)&&f[a.toLowerCase()]||"alphabetic"};b.getSVGBaselineShift=function(a){return"bottom"===a.verticalAlignment?"super":null};b.getFill=function(a){var b=a.style,f=null;if(a)switch(a.type){case "simple-marker":"cross"!==b&&"x"!==b&&(f=a.color);break;case "simple-fill":"solid"===b?f=a.color:"none"!==b&&(f={type:"pattern",x:0,y:0,src:c+b+".png",width:5,height:5});break;case "picture-fill":f={type:"pattern",src:a.url,
width:d.pt2px(a.width)*a.xscale,height:d.pt2px(a.height)*a.yscale,x:d.pt2px(a.xoffset),y:d.pt2px(a.yoffset)};break;case "text":f=a.color;break;case "cim":f=g.getCIMSymbolColor(a)}return f};b.getPatternUrlWithColor=function(a,b){var c=a+"-"+b;return void 0!==t.get(c)?e.resolve(t.get(c)):h(a,{responseType:"image"}).then(function(a){a=a.data;var d=a.naturalWidth,f=a.naturalHeight,e=document.createElement("canvas");e.width=d;e.height=f;var g=e.getContext("2d");g.fillStyle=b;g.fillRect(0,0,d,f);g.globalCompositeOperation=
"destination-in";g.drawImage(a,0,0);a=e.toDataURL();t.put(c,a);return a})};b.getStroke=n;var r=function(){var a={};return function(b){if(a[b])return a[b];var c=b.replace(/-/g,"");return a[b]=c}}();b.defaultThematicColor=new m([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(q,b,a){return function(){function b(b,l){this._storage=new a.MemCacheStorage;this._storage.maxSize=b;l&&this._storage.registerRemoveFunc("",l)}b.prototype.put=function(a,b){this._storage.put(a,
b,1,1)};b.prototype.pop=function(a){return this._storage.pop(a)};b.prototype.get=function(a){return this._storage.get(a)};b.prototype.clear=function(){this._storage.clearAll()};b.prototype.destroy=function(){this._storage.clearAll()};return b}()})},"esri/core/MemCache":function(){define(["require","exports","./MapUtils","./PooledArray","./string"],function(q,b,a,m,h){Object.defineProperty(b,"__esModule",{value:!0});b.MemCacheStorage=b.MemCache=b.MIN_PRIORITY=void 0;b.MIN_PRIORITY=-3;q=function(){function a(a,
b,g){this._namespace=a;this._storage=b;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";g&&(this._storage.registerRemoveFunc(this._namespace,g),this._removeFunc=!0)}Object.defineProperty(a.prototype,"namespace",{get:function(){return this._namespace.slice(0,-1)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hitRate",{get:function(){return this._hit/(this._hit+this._miss)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,
"size",{get:function(){return this._storage.size},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"maxSize",{get:function(){return this._storage.maxSize},enumerable:!1,configurable:!0});a.prototype.resetHitRate=function(){this._hit=this._miss=0};a.prototype.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};a.prototype.put=function(a,b,g,h){void 0===h&&(h=0);this._storage.put(this._namespace+
a,b,g,h)};a.prototype.get=function(a){a=this._storage.get(this._namespace+a);void 0===a?++this._miss:++this._hit;return a};a.prototype.pop=function(a){a=this._storage.pop(this._namespace+a);void 0===a?++this._miss:++this._hit;return a};a.prototype.updateSize=function(a,b,g){this._storage.updateSize(this._namespace+a,b,g)};a.prototype.clear=function(){this._storage.clear(this._namespace)};a.prototype.clearAll=function(){this._storage.clearAll()};a.prototype.getStats=function(){return this._storage.getStats()};
a.prototype.resetStats=function(){this._storage.resetStats()};return a}();b.MemCache=q;q=function(){function l(a){void 0===a&&(a=10485760);this._maxSize=a;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=[];this._users=new m}l.prototype.register=function(a){this._users.push(a)};l.prototype.deregister=function(a){this._users.removeUnordered(a)};l.prototype.registerRemoveFunc=function(a,b){this._removeFuncs.push([a,b])};l.prototype.deregisterRemoveFunc=function(a){this._removeFuncs=
this._removeFuncs.filter(function(b){return b[0]!==a})};Object.defineProperty(l.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"maxSize",{get:function(){return this._maxSize},set:function(a){this._maxSize=Math.max(a,0);this._checkSizeLimit()},enumerable:!1,configurable:!0});l.prototype.put=function(a,d,g,h){var c=this._db.get(a);c&&(this._size-=c.size,this._db.delete(a),c.entry!==d&&this._notifyRemoved(a,c.entry));g>this._maxSize?
this._notifyRemoved(a,d):void 0===d?console.warn("Refusing to cache undefined entry "):!g||0>g?console.warn("Refusing to cache entry with invalid size "+g):(h=1+Math.max(h,b.MIN_PRIORITY)-b.MIN_PRIORITY,this._db.set(a,{entry:d,size:g,lifetime:h,lives:h}),this._size+=g,this._checkSizeLimit())};l.prototype.updateSize=function(a,b,g){var d=this._db.get(a);d&&d.entry===b&&(this._size-=d.size,g>this._maxSize?this._notifyRemoved(a,b):(d.size=g,this._size+=g,this._checkSizeLimit()))};l.prototype.pop=function(a){var b=
this._db.get(a);if(b)return this._size-=b.size,this._db.delete(a),++this._hit,b.entry;++this._miss};l.prototype.get=function(a){var b=this._db.get(a);if(void 0===b)++this._miss;else return this._db.delete(a),b.lives=b.lifetime,this._db.set(a,b),++this._hit,b.entry};l.prototype.getStats=function(){var a=this,d={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},g={},l=[];this._db.forEach(function(b,
c){var d=b.lifetime;l[d]=(l[d]||0)+b.size;a._users.forEachSimple(function(a){a=a.namespace;h.startsWith(c,a)&&(g[a]=(g[a]||0)+b.size)})});var c={};this._users.forEachSimple(function(a){var b=a.namespace;!isNaN(a.hitRate)&&0<a.hitRate?(g[b]=g[b]||0,c[b]=Math.round(100*a.hitRate)+"%"):c[b]="0%"});var k=Object.keys(g);k.forEach(function(b){return g[b]=g[b]/a._size*100});k.sort(function(a,b){return g[b]-g[a]});k.forEach(function(a){return d[a]=Math.round(g[a])+"% / "+c[a]});for(k=l.length-1;0<=k;--k){var f=
l[k];f&&(d["Priority "+(k+b.MIN_PRIORITY-1)]=Math.round(f/this.size*100)+"%")}return d};l.prototype.resetStats=function(){this._hit=this._miss=0;this._users.forEachSimple(function(a){return a.resetHitRate()})};l.prototype.clear=function(a){var b=this;this._db.forEach(function(d,e){h.startsWith(e,a)&&(b._size-=d.size,b._db.delete(e),b._notifyRemoved(e,d.entry))})};l.prototype.clearAll=function(){var a=this;this._db.forEach(function(b,e){return a._notifyRemoved(e,b.entry)});this._size=0;this._db.clear()};
l.prototype._getHitRate=function(){return this._hit/(this._hit+this._miss)};l.prototype._notifyRemoved=function(a,b){this._removeFuncs.forEach(function(d){if(h.startsWith(a,d[0]))d[1](b)})};l.prototype._checkSizeLimit=function(){var b=this;this._size<=this._maxSize||a.someMap(this._db,function(a,e){b._db.delete(e);1>=a.lives?(b._size-=a.size,b._notifyRemoved(e,a.entry)):(--a.lives,b._db.set(e,a));return b._size<=.9*b.maxSize})};return l}();b.MemCacheStorage=q})},"esri/core/MapUtils":function(){define(["require",
"exports","./maybe"],function(q,b,a){function m(a){if(0===a.size)throw Error("Map is empty");return a.keys().next().value}function h(b){if(0===b.size)throw Error("Map is empty");var c=void 0,d=!1;b.forEach(function(a,b){d||(c=b,d=!0)});return a.assumeNonNull(c)}function l(a){if(0===a.size)throw Error("Map is empty");return a.values().next().value}function e(b){if(0===b.size)throw Error("Map is empty");var c=void 0,d=!1;b.forEach(function(a){d||(c=a,d=!0)});return a.assumeNonNull(c)}Object.defineProperty(b,
"__esModule",{value:!0});b.test=b.firstValueOfMap=b.firstKeyOfMap=b.MapFromValues=b.keysOfMap=b.valuesOfMap=b.pairsOfMap=b.someMap=void 0;b.someMap=Map.prototype.entries?function(a,b){a=a.entries();for(var c=a.next();!c.done;c=a.next())if(b(c.value[1],c.value[0]))return!0;return!1}:function(a,b){var c=!0;a.forEach(function(a,d){c&&(c=!b(a,d))});return!c};q=!!Map.prototype.values;var d=!!Map.prototype.keys,g=!!Array.from;b.pairsOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push([c,a])});
return b};b.valuesOfMap=q&&g?function(a){return Array.from(a.values())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};b.keysOfMap=d&&g?function(a){return Array.from(a.keys())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a,c){return b[d++]=c});return b};b.MapFromValues=q?function(a){return new Map(a)}:function(a){for(var b=new Map,d=0;d<a.length;d++){var f=a[d];b.set(f[0],f[1])}return b};b.firstKeyOfMap=d?m:h;b.firstValueOfMap=q?l:e;b.test={firstKeyOfMapFallback:h,
firstValueOfMapFallback:e}})},"esri/symbols/support/cimSymbolUtils":function(){define(["require","exports","../../Color","../cim/utils"],function(q,b,a,m){function h(a){var b=m.toCIMSymbolJSON(a);if("CIMTextSymbol"===b.type)return b.height;a=0;if(b.symbolLayers)for(var c=0,b=b.symbolLayers;c<b.length;c++){var d=b[c];m.isCIMMarker(d)&&d.size>a?a=d.size:m.isCIMStroke(d)&&d.width>a?a=d.width:m.isCIMFill(d)}return a}function l(a,b,c){if("CIMTextSymbol"===a.type)a.height*=b;else{if(c&&a.effects){c=0;for(var d=
a.effects;c<d.length;c++)g(d[c],b)}if(a.symbolLayers)for(c=0,a=a.symbolLayers;c<a.length;c++)switch(d=a[c],d.type){case "CIMPictureMarker":case "CIMVectorMarker":e(d,b);break;case "CIMPictureStroke":case "CIMSolidStroke":d.width*=b;break;case "CIMPictureFill":d.height*=b;d.offsetX*=b;d.offsetY*=b;break;case "CIMHatchFill":l(d.lineSymbol,b,!0),d.offsetX*=b,d.offsetY*=b,d.separation*=b}}}function e(a,b){a.markerPlacement&&d(a.markerPlacement,b);a.offsetX*=b;a.offsetY*=b;a.anchorPoint&&"Absolute"===
a.anchorPointUnits&&(a.anchorPoint={x:a.anchorPoint.x*b,y:a.anchorPoint.y*b});a.size*=b;if("CIMVectorMarker"===a.type&&a.markerGraphics)for(var c=0,f=a.markerGraphics;c<f.length;c++){var e=f[c];a.scaleSymbolsProportionally||l(e.symbol,b,!0)}}function d(a,b){m.isCIMMarkerStrokePlacement(a)&&(a.offset*=b);switch(a.type){case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineSameSize":a.customEndingOffset*=b;a.offsetAlongLine*=b;if(a.placementTemplate&&a.placementTemplate.length){var c=
a.placementTemplate.map(function(a){return a*b});a.placementTemplate=c}break;case "CIMMarkerPlacementAlongLineVariableSize":a.maxRandomOffset*=b;a.placementTemplate&&a.placementTemplate.length&&(c=a.placementTemplate.map(function(a){return a*b}),a.placementTemplate=c);break;case "CIMMarkerPlacementOnLine":a.startPointOffset*=b;break;case "CIMMarkerPlacementAtExtremities":a.offsetAlongLine*=b;break;case "CIMMarkerPlacementAtRatioPositions":a.beginPosition*=b;a.endPosition*=b;break;case "CIMMarkerPlacementPolygonCenter":a.offsetX*=
b;a.offsetY*=b;break;case "CIMMarkerPlacementInsidePolygon":a.offsetX*=b,a.offsetY*=b,a.stepX*=b,a.stepY*=b}}function g(a,b){switch(a.type){case "CIMGeometricEffectArrow":case "CIMGeometricEffectDonut":a.width*=b;break;case "CIMGeometricEffectBuffer":a.size*=b;break;case "CIMGeometricEffectCut":a.beginCut*=b;a.endCut*=b;a.middleCut*=b;break;case "CIMGeometricEffectDashes":a.customEndingOffset*=b;a.offsetAlongLine*=b;if(a.dashTemplate&&a.dashTemplate.length){var c=a.dashTemplate.map(function(a){return a*
b});a.dashTemplate=c}break;case "CIMGeometricEffectExtension":case "CIMGeometricEffectJog":case "CIMGeometricEffectRadial":a.length*=b;break;case "CIMGeometricEffectMove":a.offsetX*=b;a.offsetY*=b;break;case "CIMGeometricEffectOffset":case "CIMGeometricEffectOffsetTangent":a.offset*=b;break;case "CIMGeometricEffectRegularPolygon":a.radius*=b;break;case "CIMGeometricEffectTaperedPolygon":a.fromWidth*=b;a.length*=b;a.toWidth*=b;break;case "CIMGeometricEffectWave":a.amplitude*=b,a.period*=b}}function n(a,
b){var d;d="CIMTextSymbol"===a.type?a.symbol:a;a="CIMPolygonSymbol"===a.type;if(d.symbolLayers){var f=0;for(d=d.symbolLayers;f<d.length;f++){var e=d[f];if(!(e.colorLocked||a&&(m.isCIMStroke(e)||m.isCIMMarker(e)&&e.markerPlacement&&m.isCIMMarkerStrokePlacement(e.markerPlacement))))switch(e.type){case "CIMVectorMarker":e.markerGraphics.forEach(function(a){n(a.symbol,b)});break;case "CIMSolidStroke":case "CIMSolidFill":c(b,e.color);break;case "CIMHatchFill":n(e.lineSymbol,b)}}}}function c(a,b){for(var c=
0;c<a.length;c++)if(a[c].join(".")===b.join("."))return;a.push(b)}function k(a,b){var c;c="CIMTextSymbol"===a.type?a.symbol:a;a="CIMPolygonSymbol"===a.type?!0:!1;if(c.symbolLayers){var d=0;for(c=c.symbolLayers;d<c.length;d++){var f=c[d];if(!(f.colorLocked||a&&(m.isCIMStroke(f)||m.isCIMMarker(f)&&f.markerPlacement&&m.isCIMMarkerStrokePlacement(f.markerPlacement)))){var e=b.toArray(0);switch(f.type){case "CIMVectorMarker":f.markerGraphics.forEach(function(a){k(a.symbol,b)});break;case "CIMSolidStroke":case "CIMSolidFill":f.color=
e;break;case "CIMHatchFill":k(f.lineSymbol,b)}}}}}Object.defineProperty(b,"__esModule",{value:!0});b.applyCIMSymbolRotation=b.getCIMSymbolRotation=b.applyCIMSymbolColor=b.getCIMSymbolColor=b.scaleCIMMarker=b.scaleCIMSymbolTo=b.getCIMSymbolSize=void 0;b.getCIMSymbolSize=h;b.scaleCIMSymbolTo=function(a,b){var c=m.toCIMSymbolJSON(a);a=h(a);if(0===a)if("CIMTextSymbol"===c.type)c.height=b;else{if(c.symbolLayers)for(a=0,c=c.symbolLayers;a<c.length;a++){var d=c[a];switch(d.type){case "CIMPictureMarker":case "CIMVectorMarker":d.size=
b;break;case "CIMPictureStroke":case "CIMSolidStroke":d.width=b}}}else l(c,b/a,!1)};b.scaleCIMMarker=e;b.getCIMSymbolColor=function(b){b=m.toCIMSymbolJSON(b);var c=[];n(b,c);return c.length?new a(m.fromCIMColor(c[0])):null};b.applyCIMSymbolColor=function(b,c){c instanceof a||(c=new a(c));b=m.toCIMSymbolJSON(b);k(b,c)};b.getCIMSymbolRotation=function(a){a=m.toCIMSymbolJSON(a);return"CIMTextSymbol"===a.type||"CIMPointSymbol"===a.type?a.angle||0:0};b.applyCIMSymbolRotation=function(a,b){a=m.toCIMSymbolJSON(a);
if("CIMTextSymbol"===a.type)a.angle=b;else if("CIMPointSymbol"===a.type&&a.symbolLayers)for(var c=b-(a.angle||0),d=0,f=a.symbolLayers;d<f.length;d++){var e=f[d];if(m.isCIMMarker(e)){var g=e.rotation||0,g=e.rotateClockwise?g-c:g+c;e.rotation=g}a.angle=b}}})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(q,b){function a(a,b){"string"!==typeof a&&(a=String(a));switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}Object.defineProperty(b,
"__esModule",{value:!0});b.isCIMMarkerStrokePlacement=b.isCIMFill=b.isCIMStroke=b.isCIMMarker=b.toCIMSymbolJSON=b.fromCIMColor=b.resampleHermite=b._adjustTextCase=b.createLabelOverrideFunction=b.colorToArray=b.evaluateValueOrFunction=void 0;b.evaluateValueOrFunction=function(a,b,l,e){return"function"===typeof a?a(b,l,e):a};b.colorToArray=function(a){return[a.r,a.g,a.b,a.a]};b.createLabelOverrideFunction=function(b,h,l){var e=function(a){for(var b=a.length;b--;)if(-1===" /-,\n".indexOf(a.charAt(b)))return!1;
return!0},d=[],g=0,m=-1;do m=h.indexOf("[",g),m>=g&&(m>g&&(g=h.substr(g,m-g),d.push([g,null,e(g)])),g=m+1,m=h.indexOf("]",g),m>=g&&(m>g&&(g=h.substr(g,m-g),(g=b[g])&&d.push([null,g,!1])),g=m+1));while(-1!==m);g<h.length-1&&(g=h.substr(g),d.push([g,null,e(g)]));return function(b){for(var c="",f=null,e=0;e<d.length;e++){var g=d[e],h=g[0],m=g[1],g=g[2];if(h)g?f=h:(f&&(c+=f,f=null),c+=h);else if(h=b.attributes[m])f&&(c+=f,f=null),c+=h}return a(c,l)}};b._adjustTextCase=a;b.resampleHermite=function(a,b,
l,e,d,g,n){void 0===n&&(n=!0);var c=b/d;l/=g;for(var h=Math.ceil(c/2),f=Math.ceil(l/2),m=0;m<g;m++)for(var r=0;r<d;r++){for(var p=4*(r+(n?g-m-1:m)*d),q=0,A=0,y=0,w=0,x=0,v=0,C=0,z=(m+.5)*l,u=Math.floor(m*l);u<(m+1)*l;u++)for(var B=Math.abs(z-(u+.5))/f,E=(r+.5)*c,B=B*B,F=Math.floor(r*c);F<(r+1)*c;F++){var G=Math.abs(E-(F+.5))/h,q=Math.sqrt(B+G*G);-1<=q&&1>=q&&(q=2*q*q*q-3*q*q+1,0<q&&(G=4*(F+u*b),C+=q*a[G+3],y+=q,255>a[G+3]&&(q=q*a[G+3]/250),w+=q*a[G],x+=q*a[G+1],v+=q*a[G+2],A+=q))}e[p]=w/A;e[p+1]=
x/A;e[p+2]=v/A;e[p+3]=C/y}};b.fromCIMColor=function(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}};b.toCIMSymbolJSON=function(a){var b;return null===(b=a.data)||void 0===b?void 0:b.symbol};b.isCIMMarker=function(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===a.type};b.isCIMStroke=function(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===
a.type||"CIMSolidStroke"===a.type};b.isCIMFill=function(a){return"CIMGradientFill"===a.type||"CIMHatchFill"===a.type||"CIMPictureFill"===a.type||"CIMSolidFill"===a.type||"CIMWaterFill"===a.type};b.isCIMMarkerStrokePlacement=function(a){return"CIMMarkerPlacementAlongLineRandomSize"===a.type||"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===
a.type||"CIMMarkerPlacementOnLine"===a.type||"CIMMarkerPlacementOnVertices"===a.type}})},"esri/layers/support/imageryRendererUtils":function(){define("require exports ../../core/arrayUtils ../../core/lang ../../core/SetUtils ./RasterFunction ../../renderers/support/colorRampUtils ../../renderers/support/stretchRendererUtils ../../renderers/visualVariables/SizeVariable".split(" "),function(q,b,a,m,h,l,e,d,g){function n(a){var b=a.Raster;return b&&"esri.layers.support.RasterFunction"===b.declaredClass?
n(b.functionArguments):a}function c(a,b){var c=new l;c.functionName="VectorFieldRenderer";var d=b.bandProperties;b="vector-uv"===b.dataType?!0:!1;var f,e;d&&2===d.length&&(f=d.map(function(a){return a.BandName.toLowerCase()}).indexOf("magnitude"),e=d.map(function(a){return a.BandName.toLowerCase()}).indexOf("direction"));if(-1===f||null===f)f=0,e=1;var d="arithmetic"===a.rotationType?1:2,h="flow-from"===a.flowRepresentation?0:1,k=a.visualVariables?a.visualVariables.filter(function(a){return"Magnitude"===
a.field})[0]:new g;a={magnitudeBandID:f,directionBandID:e,isUVComponents:b,referenceSystem:d,massFlowAngleRepresentation:h,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:"Vector Average",symbologyName:D[a.style.toLowerCase()],minimumMagnitude:k.minDataValue,maximumMagnitude:k.maxDataValue,minimumSymbolSize:k.minSize,maximumSymbolSize:k.maxSize};c.functionArguments=a;return c}function k(a,b){var c=[],d=[],e=[],g=[],h=b.pixelType,k=(b=b.rasterAttributeTable)&&b.features,m=t(b);if(k&&Array.isArray(k)&&
a.classBreakInfos)return a.classBreakInfos.forEach(function(b,c){var d=b.symbol.color,f;d.a&&k.forEach(function(e){f=e.attributes[a.field];(f>=b.minValue&&f<b.maxValue||c===a.classBreakInfos.length-1&&f>=b.minValue)&&g.push([e.attributes[m],d.r,d.g,d.b])})}),h=h?f(g,h):g,b=new l,b.functionName="Colormap",b.functionArguments={},b.functionArguments.Colormap=h,b.variableName="Raster",b;a.classBreakInfos.forEach(function(a,b){var f=a.symbol&&a.symbol.color;f.a?(0===b?c.push(a.minValue,a.maxValue+1E-6):
c.push(a.minValue+1E-6,a.maxValue+1E-6),d.push(b),g.push([b,f.r,f.g,f.b])):e.push(a.minValue,a.maxValue)});h=h?f(g,h):g;b=new l;b.functionName="Remap";b.functionArguments={InputRanges:c,OutputValues:d,NoDataRanges:e};b.variableName="Raster";var n=new l;n.functionName="Colormap";n.functionArguments={Colormap:h,Raster:b};return n}function f(a,c){(c=b.pixelTypeRanges[String(c).toLowerCase()])&&a.push([Math.floor(c[0]-1),0,0,0],[Math.ceil(c[1]+1),0,0,0]);return a}function t(b){if(b)return(b=(b=b.fields)&&
a.find(b,function(a){return a&&a.name&&"value"===a.name.toLowerCase()}))&&b.name}function r(a,b){var c=[],d=b.pixelType,e=(b=b.rasterAttributeTable)&&b.features,g=t(b),h=!1;a.uniqueValueInfos&&a.uniqueValueInfos.forEach(function(b){var d=b.symbol.color;d.a&&(a.field!==g&&e?e&&e.forEach(function(f){String(f.attributes[a.field])===String(b.value)&&c.push([f.attributes[g],d.r,d.g,d.b])}):isNaN(+b.value)?h=!0:c.push([+b.value,d.r,d.g,d.b]))});if(h)return null;d=d&&0<c.length?f(c,d):c;b=new l;b.functionName=
"Colormap";b.functionArguments={};b.functionArguments.Colormap=d;b.variableName="Raster";return b}function p(a){var b=[];a.forEach(function(a){Array.isArray(a)?b.push(a):null!=a.min&&null!=a.max&&b.push([a.min,a.max,a.avg||0,a.stddev||0])});return b}Object.defineProperty(b,"__esModule",{value:!0});b.convertRendererToRenderingRule=b.combineRenderingRules=b.isSupportedRendererType=b.pixelTypeRanges=void 0;b.pixelTypeRanges={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,
32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-3.4*1E39,3.4*1E39],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};var D={simple_scalar:"Simple Scalar",wind_speed:"Wind Barb",single_arrow:"Single Arrow",beaufort_kn:"Beaufort Wind (Knots)",beaufort_m:"Beaufort Wind (MetersPerSecond)",ocean_current_m:"Ocean Current (MetersPerSecond)",ocean_current_kn:"Ocean Current (Knots)"},A=h.SetFromValues(["raster-stretch","unique-value","class-breaks","raster-shaded-relief","vector-field"]);b.isSupportedRendererType=
function(a){return A.has(a.type)};b.combineRenderingRules=function(a,b){if(!a||!b)return m.clone(a||b);a=m.clone(a);"none"!==b.functionName.toLowerCase()&&(n(a.functionArguments).Raster=b);return a};b.convertRendererToRenderingRule=function(a,b){b=b||{};switch(a.type){case "raster-stretch":var g=new l;g.functionName="Stretch";var h=y[d.stretchTypeJSONDict.toJSON(a.stretchType)],m=p(a.statistics),m={StretchType:h,Statistics:m,DRA:a.dynamicRangeAdjustment,UseGamma:a.useGamma,Gamma:a.gamma,ComputeGamma:a.computeGamma};
null!=a.outputMin&&(m.Min=a.outputMin);null!=a.outputMax&&(m.Max=a.outputMax);h===y.standardDeviation?(m.NumberOfStandardDeviations=a.numberOfStandardDeviations,g.outputPixelType="u8"):h===y.percentClip?(m.MinPercent=a.minPercent,m.MaxPercent=a.maxPercent,g.outputPixelType="u8"):h===y.minMax?g.outputPixelType="u8":h===y.sigmoid&&(m.SigmoidStrengthLevel=a.sigmoidStrengthLevel);g.functionArguments=m;g.variableName="Raster";if(a.colorRamp){var h=a.colorRamp,m=new l,n=e.getColorRampName(h);m.functionArguments=
n?{colorRamp:n}:!b.convertColorRampToColormap||"algorithmic"!==h.type&&"multipart"!==h.type?{colorRamp:a.colorRamp.toJSON()}:{Colormap:e.convertColorRampToColormap(h,256)};m.variableName="Raster";m.functionName="Colormap";m.functionArguments.Raster=g;a=m}else a=g;return a;case "class-breaks":return k(a,b);case "unique-value":return r(a,b);case "raster-colormap":return(a=a.extractColormap())&&0!==a.length?(a=(b=b.pixelType)?f(a,b):a,b=new l,b.functionName="Colormap",b.functionArguments={},b.functionArguments.Colormap=
a,a=b):a=void 0,a;case "vector-field":return c(a,b);case "raster-shaded-relief":return"elevation"!==b.dataType?a=new l:(b=new l,b.functionName="Hillshade",g="traditional"===a.hillshadeType?0:1,h="none"===a.scalingType?1:3,m={HillshadeType:g,SlopeType:h,ZFactor:a.zFactor},0===g&&(m.Azimuth=a.azimuth,m.Altitude=a.altitude),3===h&&(m.PSPower=a.pixelSizePower,m.PSZFactor=a.pixelSizeFactor),b.functionArguments=m,b.variableName="Raster",a.colorRamp&&(b.functionName="ShadedRelief",m.Colormap=e.convertColorRampToColormap(a.colorRamp,
256)),a=b),a}};var y={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9}})},"esri/layers/support/RasterFunction":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/SetUtils ../../core/accessorSupport/decorators".split(" "),function(q,b,a,m,h,l,e){var d=l.SetFromValues(["Raster","Raster2","DEM","FillRaster"]),g=l.SetFromValues(["Rasters"]),n=function(a){return a&&a.rasterFunction?f.fromJSON(a):a},c=function(a){return a&&a instanceof
f?a.toJSON():a},k;(function(a){a[a.MOSAIC=0]="MOSAIC";a[a.GROUP=1]="GROUP";a[a.ITEM=2]="ITEM"})(k||(k={}));var f=function(b){function f(a){a=b.call(this,a)||this;a.functionArguments=null;a.functionName=null;a.outputPixelType="unknown";a.variableName=null;a.description=null;a.functionDefinition=null;a.thumbnail=null;return a}a.__extends(f,b);l=f;f.prototype.readFunctionArguments=function(a,b){a=b.arguments||b.rasterFunctionArguments;if(null==a)a=null;else{b={};for(var c=0,f=Object.keys(a);c<f.length;c++){var e=
f[c];d.has(e)?b[e]=n(a[e]):g.has(e)&&Array.isArray(a[e])?b[e]=a[e].map(n):b[e]=a[e]}a=b}return a};f.prototype.writeFunctionArguments=function(a,b,f){for(var e={},h=0,k=Object.keys(a);h<k.length;h++){var l=k[h];d.has(l)?e[l]=c(a[l]):g.has(l)&&Array.isArray(a[l])?e[l]=a[l].map(c):e[l]=c(a[l])}this.functionDefinition?b.arguments=e:b[f]=e};f.prototype.readFunctionName=function(a,b){a=b.rasterFunctionInfos;var c=b.name;return c?c:a&&a.length&&"None"!==a[0].name?a[0].name:b.rasterFunction};f.prototype.writeFunctionName=
function(a,b,c){this.functionDefinition?b.name=a:b[c]=a};f.prototype.readFunctionType=function(a){return k[a]};f.prototype.writeFunctionType=function(a,b,c){b[c]=k[a]};f.prototype.clone=function(){return new l({functionName:this.functionName,functionArguments:h.clone(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,description:this.description,functionType:this.functionType,functionDefinition:this.functionDefinition,thumbnail:this.thumbnail})};var l;a.__decorate([e.property({json:{type:Object,
write:{target:"rasterFunctionArguments"}}})],f.prototype,"functionArguments",void 0);a.__decorate([e.reader("functionArguments",["rasterFunctionArguments","arguments"])],f.prototype,"readFunctionArguments",null);a.__decorate([e.writer("functionArguments")],f.prototype,"writeFunctionArguments",null);a.__decorate([e.property({json:{type:String,write:{target:"rasterFunction"}}})],f.prototype,"functionName",void 0);a.__decorate([e.reader("functionName",["rasterFunction","rasterFunctionInfos","name"])],
f.prototype,"readFunctionName",null);a.__decorate([e.writer("functionName")],f.prototype,"writeFunctionName",null);a.__decorate([e.enumeration({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),e.property({json:{default:"unknown"}})],f.prototype,"outputPixelType",void 0);a.__decorate([e.property({type:String,json:{read:!0,write:!0}})],f.prototype,"variableName",void 0);a.__decorate([e.property({type:String,
json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],f.prototype,"description",void 0);a.__decorate([e.property({json:{origins:{"web-document":{read:!1,write:!1}}}})],f.prototype,"functionType",void 0);a.__decorate([e.reader("functionType")],f.prototype,"readFunctionType",null);a.__decorate([e.writer("functionType")],f.prototype,"writeFunctionType",null);a.__decorate([e.property({type:Object,json:{read:{source:"function"},write:{target:"function"},origins:{"web-document":{read:!1,
write:!1}}}})],f.prototype,"functionDefinition",void 0);a.__decorate([e.property({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],f.prototype,"thumbnail",void 0);return f=l=a.__decorate([e.subclass("esri.layers.support.RasterFunction")],f)}(m.JSONSupport);return f})},"esri/layers/support/RasterInfo":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ../../geometry/Extent ../../tasks/support/FeatureSet".split(" "),
function(q,b,a,m,h,l,e){return function(b){function d(a){a=b.call(this,a)||this;a.attributeTable=null;a.bandCount=null;a.colormap=null;a.extent=null;a.format=void 0;a.height=null;a.width=null;a.histograms=null;a.keyProperties={};a.multidimensionalInfo=null;a.noDataValue=null;a.pixelSize=null;a.pixelType=null;a.spatialReference=null;a.statistics=null;a.storageInfo=null;return a}a.__extends(d,b);Object.defineProperty(d.prototype,"dataType",{get:function(){var a=this.keyProperties&&this.keyProperties.DataType;
return a?a.toLowerCase():"generic"},enumerable:!1,configurable:!0});a.__decorate([h.property({type:e,json:{write:!0}})],d.prototype,"attributeTable",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"bandCount",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"colormap",void 0);a.__decorate([h.property({type:String,readOnly:!0})],d.prototype,"dataType",null);a.__decorate([h.property({type:l,json:{write:!0}})],d.prototype,"extent",void 0);a.__decorate([h.property({json:{write:!0}})],
d.prototype,"format",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"histograms",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"keyProperties",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"multidimensionalInfo",void 0);a.__decorate([h.property()],d.prototype,"noDataValue",void 0);a.__decorate([h.property({json:{write:!0}})],
d.prototype,"pixelSize",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"pixelType",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"spatialReference",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"statistics",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"storageInfo",void 0);return d=a.__decorate([h.subclass("esri.layers.support.RasterInfo")],d)}(m.JSONSupport)})},"esri/tasks/support/FeatureSet":function(){define("require exports tslib ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k){var f=new l.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});q=function(b){function e(a){a=b.call(this,a)||this;a.displayFieldName=null;a.exceededTransferLimit=!1;a.features=[];a.fields=null;a.geometryType=null;a.hasM=!1;a.hasZ=!1;a.queryGeometry=null;a.spatialReference=null;return a}a.__extends(e,b);e.prototype.readFeatures=function(a,
b){b=n.fromJSON(b.spatialReference);for(var c=[],f=0;f<a.length;f++){var e=a[f],g=h.fromJSON(e),e=e.geometry&&e.geometry.spatialReference;d.isSome(g.geometry)&&!e&&(g.geometry.spatialReference=b);c.push(g)}return c};e.prototype.writeGeometryType=function(a,b,c,e){if(a)f.write(a,b,c,e);else if(a=this.features)for(var g=0;g<a.length;g++){var h=a[g];if(h&&d.isSome(h.geometry)){f.write(h.geometry.type,b,c,e);break}}};e.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=
this.features)for(var c=0;c<a.length;c++){var f=a[c];f&&d.isSome(f.geometry)&&f.geometry.spatialReference&&(b.spatialReference=f.geometry.spatialReference.toJSON())}};e.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var f=a&&a[c];d.geometry=f&&f.toJSON()||d.geometry}}return b};e.prototype.quantize=function(a){for(var b=a.scale,c=b[0],f=b[1],b=a.translate,e=b[0],g=b[1],b=this.features,
h=this._getQuantizationFunction(this.geometryType,function(a){return Math.round((a-e)/c)},function(a){return Math.round((g-a)/f)}),k=0,l=b.length;k<l;k++)h(d.unwrap(b[k].geometry))||(b.splice(k,1),k--,l--);this.transform=a;return this};e.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,f=c[0],e=c[1],b=b.scale,g=b[0],h=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*g+f},function(a){return e-a*h}),c=0;c<a.length;c++){var k=
a[c].geometry;d.isSome(k)&&b(k)}this.transform=null;return this};e.prototype._quantizePoints=function(a,b,c){for(var d,f,e=[],g=0,h=a.length;g<h;g++){var k=a[g];if(0<g){var l=b(k[0]),k=c(k[1]);if(l!==d||k!==f)e.push([l-d,k-f]),d=l,f=k}else d=b(k[0]),f=c(k[1]),e.push([d,f])}return 0<e.length?e:null};e.prototype._getQuantizationFunction=function(a,b,d){var f=this;return"point"===a?function(a){a.x=b(a.x);a.y=d(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var e=c.isPolygon(a)?a.rings:
a.paths,g=[],h=0,k=e.length;h<k;h++){var l=f._quantizePoints(e[h],b,d);l&&g.push(l)}return 0<g.length?(c.isPolygon(a)?a.rings=g:a.paths=g,a):null}:"multipoint"===a?function(a){var c;c=f._quantizePoints(a.points,b,d);return 0<c.length?(a.points=c,a):null}:"extent"===a?function(a){return a}:null};e.prototype._getHydrationFunction=function(a,b,d){if("point"===a)return function(a){a.x=b(a.x);a.y=d(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=c.isPolygon(a)?a.rings:a.paths;for(var f,e,g=
0,h=a.length;g<h;g++)for(var k=a[g],l=0,m=k.length;l<m;l++){var n=k[l];0<l?(f+=n[0],e+=n[1]):(f=n[0],e=n[1]);n[0]=b(f);n[1]=d(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=d(a.ymin);a.xmax=b(a.xmax);a.ymax=d(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var c,f,e=0,g=a.length;e<g;e++){var h=a[e];0<e?(c+=h[0],f+=h[1]):(c=h[0],f=h[1]);h[0]=b(c);h[1]=d(f)}}};a.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"displayFieldName",void 0);a.__decorate([g.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],e.prototype,"exceededTransferLimit",void 0);a.__decorate([g.property({type:[h],json:{write:!0}})],e.prototype,"features",void 0);a.__decorate([g.reader("features")],e.prototype,"readFeatures",null);a.__decorate([g.property({type:[k],json:{write:!0}})],e.prototype,"fields",void 0);a.__decorate([g.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:f.read}}})],e.prototype,"geometryType",void 0);
a.__decorate([g.writer("geometryType")],e.prototype,"writeGeometryType",null);a.__decorate([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],e.prototype,"hasM",void 0);a.__decorate([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],e.prototype,"hasZ",void 0);a.__decorate([g.property({types:m.geometryTypes,json:{read:c.fromJSON,write:!0}})],e.prototype,"queryGeometry",void 0);a.__decorate([g.property({type:n,json:{write:!0}})],
e.prototype,"spatialReference",void 0);a.__decorate([g.writer("spatialReference")],e.prototype,"writeSpatialReference",null);a.__decorate([g.property({json:{write:!0}})],e.prototype,"transform",void 0);return e=a.__decorate([g.subclass("esri.tasks.support.FeatureSet")],e)}(e.JSONSupport);q.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(q||(q={}));return q})},"esri/layers/support/Field":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),
function(q,b,a,m,h,l,e,d,g){var n=new m.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(b){function c(a){a=b.call(this,a)||this;a.alias=null;
a.defaultValue=void 0;a.description=null;a.domain=null;a.editable=!0;a.length=-1;a.name=null;a.nullable=!0;a.type=null;a.valueType=null;return a}a.__extends(c,b);f=c;c.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(D){}return c?c.value:null};c.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(D){}return c?n.fromJSON(c.fieldValueType):null};c.prototype.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var f;a.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);a.__decorate([l.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);a.__decorate([l.property()],c.prototype,"description",void 0);a.__decorate([l.reader("description")],
c.prototype,"readDescription",null);a.__decorate([l.property({types:d.types,json:{read:{reader:d.fromJSON},write:!0}})],c.prototype,"domain",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);a.__decorate([l.property({type:e.Integer,json:{write:!0}})],c.prototype,"length",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);a.__decorate([l.enumeration(g.kebabDict)],
c.prototype,"type",void 0);a.__decorate([l.property()],c.prototype,"valueType",void 0);a.__decorate([l.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=f=a.__decorate([l.subclass("esri.layers.support.Field")],c)}(h.JSONSupport)})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=void 0;b.kebabDict=new a.default({esriFieldTypeSmallInteger:"small-integer",
esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/support/rasterFunctions/surfaceUtils":function(){define(["require","exports","../PixelBlock"],function(q,b,a){function m(a){var b=
a.altitude,d=a.azimuth,g=a.hillshadeType,h=a.pixelSizePower,c=a.pixelSizeFactor,k=a.scalingType,f=a.isGCS,l=a.resolution,m="multi-directional"===g?2*a.zFactor:a.zFactor,p=l.x,q=l.y;a=m/(8*p);var A=m/(8*q);f&&.001<m&&(a/=111E3,A/=111E3);"adjusted"===k&&(f?(a=111E3*p,A=111E3*q,a=(m+Math.pow(a,h)*c)/(8*a),A=(m+Math.pow(A,h)*c)/(8*A)):(a=(m+Math.pow(p,h)*c)/(8*p),A=(m+Math.pow(q,h)*c)/(8*q)));var y=(90-b)*Math.PI/180,b=Math.cos(y),w=(360-d+90)*Math.PI/180,d=Math.sin(y)*Math.cos(w),y=Math.sin(y)*Math.sin(w),
h=[315,270,225,360,180,0],c=[60,60,60,60,60,90],m=new Float32Array([3,5,3,2,1,4]),x=m.reduce(function(a,b){return a+b}),m=m.map(function(a){return a/x}),k="multi-directional"===g?h.length:1,f=new Float32Array(6),q=new Float32Array(6),p=new Float32Array(6);if("multi-directional"===g)for(var v=0;v<k;v++)b=c[v],d=h[v],y=(90-b)*Math.PI/180,b=Math.cos(y),w=(360-d+90)*Math.PI/180,d=Math.sin(y)*Math.cos(w),y=Math.sin(y)*Math.sin(w),f[v]=b,q[v]=d,p[v]=y;else f.fill(b),q.fill(d),p.fill(y);return{resolution:l,
factor:[a,A],sinZcosA:d,sinZsinA:y,cosZ:b,sinZcosAs:q,sinZsinAs:p,cosZs:f,weights:m,hillshadeType:["traditional","multi-directional"].indexOf(g)}}Object.defineProperty(b,"__esModule",{value:!0});b.tintHillshade=b.hillshade=b.calculateHillshadeParams=void 0;var h=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};b.calculateHillshadeParams=m;b.hillshade=function(b,e){if(!h(b))return b;var d=b.width,g=b.height,l=b.mask,c=new Uint8Array(d*g);l&&c.set(l);
var k=m(e),f=k.factor,q=k.sinZcosA,r=k.sinZsinA,p=k.cosZ,D=k.sinZcosAs,A=k.sinZsinAs,y=k.cosZs,k=k.weights,w=f[0],f=f[1];e=e.hillshadeType;for(var x=b.pixels[0],v=new Uint8Array(d*g),C,z,u,B,E,F,G,J,K=1;K<g-1;K++)for(var I=K*d,H=1;H<d-1;H++)if(l&&!l[I+H])v[I+H]=0;else{B=8;if(l&&(B=l[I-d+H-1]+l[I-d+H]+l[I-d+H+1]+l[I+H-1]+l[I+H+1]+l[I+d+H-1]+l[I+d+H]+l[I+d+H+1],7>B)){v[I+H]=0;c[I+H]=0;continue}7===B?(C=l[I-d+H-1]?x[I-d+H-1]:x[I+H],z=l[I-d+H]?x[I-d+H]:x[I+H],u=l[I-d+H+1]?x[I-d+H+1]:x[I+H],B=l[I+H-1]?
x[I+H-1]:x[I+H],E=l[I+H+1]?x[I+H+1]:x[I+H],F=l[I+d+H-1]?x[I+d+H-1]:x[I+H],G=l[I+d+H]?x[I+d+H]:x[I+H],J=l[I+d+H+1]?x[I+d+H+1]:x[I+H]):(C=x[I-d+H-1],z=x[I-d+H],u=x[I-d+H+1],B=x[I+H-1],E=x[I+H+1],F=x[I+d+H-1],G=x[I+d+H],J=x[I+d+H+1]);B=(u+E+E+J-(C+B+B+F))*w;C=(F+G+G+J-(C+z+z+u))*f;z=Math.sqrt(1+B*B+C*C);u=0;if("traditional"===e)F=255*(p+r*C-q*B)/z,0>F&&(F=0),u=F;else for(G=A.length,J=0;J<G;J++)F=255*(y[J]+A[J]*C-D[J]*B)/z,0>F&&(F=0),u+=F*k[J];v[I+H]=u&255}for(K=0;K<g;K++)v[K*d]=v[K*d+1],v[(K+1)*d-1]=
v[(K+1)*d-2];for(K=1;K<d-1;K++)v[K]=v[K+d],v[K+(g-1)*d]=v[K+(g-2)*d];return new a({width:d,height:g,pixels:[v],mask:l?c:null,pixelType:"u8",validPixelCount:b.validPixelCount,statistics:[{minValue:0,maxValue:255}]})};b.tintHillshade=function(a,b,d,g){if(h(a)&&h(b)){var e=g.min,c=a.pixels[0],k=b.mask;b=b.pixels[0];g=255.00001/(g.max-e);for(var f=new Uint8ClampedArray(b.length),l=new Uint8ClampedArray(b.length),m=new Uint8ClampedArray(b.length),p=d.length-1,q=0;q<b.length;q++)if(!k||0!==k[q]){var A=
Math.floor((b[q]-e)*g),y=d[0>A?0:A>p?p:A],A=y[0],w=c[q],y=w*y[1],x=y*(1-Math.abs(A%2-1)),w=w-y;switch(Math.floor(A)){case 0:f[q]=y+w;l[q]=x+w;m[q]=w;break;case 1:f[q]=x+w;l[q]=y+w;m[q]=w;break;case 2:f[q]=w;l[q]=y+w;m[q]=x+w;break;case 3:f[q]=w;l[q]=x+w;m[q]=y+w;break;case 4:f[q]=x+w;l[q]=w;m[q]=y+w;break;case 5:case 6:f[q]=y+w,l[q]=w,m[q]=x+w}}a.pixels=[f,l,m];a.updateStatistics()}}})},"esri/renderers/support/rasterRendererHelper":function(){define("require exports tslib ../../Color ../../rasterRenderers ../../core/arrayUtils ../../core/maybe ../../core/unitUtils ../../layers/support/RasterInfo ../../renderers/support/ClassBreakInfo ../../renderers/support/colorRampUtils ../../renderers/support/UniqueValueInfo ../../tasks/support/ClassBreaksDefinition ../../tasks/support/generateRendererUtils ../../tasks/support/MultipartColorRamp".split(" "),
function(q,b,a,m,h,l,e,d,g,n,c,k,f,t,r){function p(a,b){a=D(a,null===b||void 0===b?void 0:b.variableName);var c=a.bandCount,d=b||{};b=d.bandIds;d=d.stretchType;if(null===b||void 0===b?0:b.some(function(a){return a>=c}))b=null;var f=e.unwrap(a.statistics),g=e.unwrap(a.histograms);1<c?(b=(null===b||void 0===b?0:b.length)?b:A(a),f=null==f?null:b.map(function(a){return f[a]}),g=null==g?null:b.map(function(a){return g[a]})):b=[0];null==d&&(d=w(a));var k=!1;switch(d){case "none":k=!1;break;case "percent-clip":k=
!(null===g||void 0===g?0:g.length);break;default:k=!(null===f||void 0===f?0:f.length)}a=new h.RasterStretchRenderer({stretchType:d,dynamicRangeAdjustment:k,colorRamp:1===(null===b||void 0===b?void 0:b.length)&&"scientific"===a.dataType?G:null,outputMin:0,outputMax:255,gamma:1===b.length?[1]:[1,1,1],useGamma:!1});"percent-clip"===d?a.maxPercent=a.minPercent=.25:"standard-deviation"===d&&(a.numberOfStandardDeviations=2);if(!k)if("percent-clip"===d)a.histograms=g;else if("min-max"===d||"standard-deviation"===
d)a.statistics=f;return a}function D(b,c){if(null==c)return b;var d=e.unwrap(b.statistics),f=e.unwrap(b.histograms),h=b.multidimensionalInfo;if(c&&e.isSome(h)){var k=l.find(h.variables,function(a){return a.name===c}),h=k.statistics,k=k.histograms;if(null===h||void 0===h?0:h.length)d=h;if(null===k||void 0===k?0:k.length)f=k}return g.fromJSON(a.__assign(a.__assign({},b.toJSON()),{statistics:d,histograms:f}))}function A(a){var b=a.bandCount;if(1===b)return null;if(2===b)return[0];a=a.keyProperties&&
a.keyProperties.BandProperties;var c;if(a&&a.length===b){var d=y(a);a=d.red;var f=d.green,e=d.blue,d=d.nir;null!=a&&null!=f&&null!=e?c=[a,f,e]:null!=d&&null!=a&&null!=f&&(c=[d,a,f])}!c&&3<=b&&(c=[0,1,2]);return c}function y(a){for(var b,c={},d=0;d<a.length;d++){var f=a[d],e=null===(b=f.BandName)||void 0===b?void 0:b.toLowerCase();"red"===e?c.red=d:"green"===e?c.green=d:"blue"===e?c.blue=d:"nearinfrared"===e||"nearinfrared_1"===e||"nir"===e?c.nir=d:f.WavelengthMax&&f.WavelengthMin&&(e=f.WavelengthMin,
f=f.WavelengthMax,null==c.blue&&410<=e&&480>=e&&480<=f&&540>=f?c.blue=d:null==c.green&&490<=e&&560>=e&&560<=f&&610>=f?c.green=d:null==c.red&&595<=e&&670>=e&&660<=f&&730>=f?c.red=d:null==c.nir&&700<=e&&860>=e&&800<=f&&950>=f&&(c.nir=d))}return c}function w(a){var b="percent-clip",c=a.pixelType,d=a.dataType,f=a.histograms;a=a.statistics;"u8"!==c||"processed"!==d&&e.isSome(f)&&e.isSome(a)?"u8"===c||"elevation"===d||"scientific"===d?b="min-max":e.isSome(f)?b="percent-clip":e.isSome(a)&&(b=b="min-max"):
b="none";return b}function x(a,b){if(!z(a,b))return null;a=a.attributeTable;var d=v(a,b),f=C(a,"red"),e=C(a,"green"),g=C(a,"blue"),l=[],n=new Set,p=!!(f&&e&&g);a.features.forEach(function(a){var b=a.attributes[d.name];n.has(a.attributes[d.name])||null==b||(n.add(b),l.push(new k({value:a.attributes[d.name],label:a.attributes[d.name],symbol:{type:"simple-fill",style:"solid",outline:null,color:p?new m([a.attributes[f.name],a.attributes[e.name],a.attributes[g.name],1]):new m([0,0,0,0])}})))});if(!p){var q=
c.convertColorRampToColormap(J,l.length);l.forEach(function(a,b){return a.symbol.color=new m(q[b].slice(1,4))})}return new h.UniqueValueRenderer({field:d.name,uniqueValueInfos:l})}function v(a,b){var c=l.find(a.fields,function(a){return"string"===a.type&&(b===a.name.toLowerCase()||-1<a.name.toLowerCase().indexOf("class"))});c||(c=l.find(a.fields,function(a){return"string"===a.type}))||(c=C(a,"value"));return c}function C(a,b){return l.find(a.fields,function(a){return a.name.toLowerCase()===b})}function z(a,
b){var c=a.attributeTable;a=a.bandCount;return!e.isSome(c)||1<a||b&&null==l.find(c.fields,function(a){return a.name.toLowerCase()===b.toLowerCase()})?!1:!0}function u(a){var b=a.bandCount;a=a.colormap;return e.isSome(a)&&a.length&&1===b}function B(a){if(!u(a))return null;var b,c=a.attributeTable;a=a.colormap;if(e.isSome(c)){var d=C(c,"value"),f=v(c);"string"===f.type&&(b={},c.features.forEach(function(a){a=a.attributes;b[a[d.name]]=f?a[f.name]:a[d.name]}))}return h.RasterColormapRenderer.createFromColormap(e.unwrap(a),
b)}function E(a){return"elevation"===a.dataType}function F(a){var b=a.attributeTable;return 1===a.bandCount&&(e.isSome(b)||e.isSome(a.histograms))}Object.defineProperty(b,"__esModule",{value:!0});b.createClassBreaksRenderer=b.isClassBreaksSupported=b.createShadedReliefRenderer=b.isShadedReliefRendererSupported=b.createColormapRenderer=b.isColormapRendererSupported=b.isUVRendererSupported=b.getClassField=b.createUVRenderer=b.getWellKnownBandIndexes=b.getDefaultBandCombination=b.createStretchRenderer=
b.getDefaultInterpolation=b.getSupportedRendererTypes=b.createDefaultRenderer=void 0;var G=r.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),J=r.fromJSON(c.PREDEFINED_JSON_COLOR_RAMPS[0]);b.createDefaultRenderer=function(a,b){var c=a.attributeTable,d=a.colormap,f=a.dataType;return"vector-uv"===f||"vector-magdir"===f?new h.VectorFieldRenderer:e.isSome(d)&&(d=B(a),e.isSome(d))||
e.isSome(c)&&(d=x(a),e.isSome(d))?d:p(a,b)};b.getSupportedRendererTypes=function(a){var b=["raster-stretch"];u(a)&&b.push("raster-colormap");z(a)&&b.push("unique-value");F(a)&&b.push("class-breaks");E(a)&&b.push("raster-shaded-relief");return b};b.getDefaultInterpolation=function(a,b,c){var d=l.find(["nearest","bilinear","cubic","majority"],function(a){return a===(null===c||void 0===c?void 0:c.toLowerCase())});return"Map"===b?null!==d&&void 0!==d?d:"bilinear":"thematic"===a.dataType||a.attributeTable||
a.colormap?"nearest"===d||"majority"===d?d:"nearest":null!==d&&void 0!==d?d:"bilinear"};b.createStretchRenderer=p;b.getDefaultBandCombination=A;b.getWellKnownBandIndexes=y;b.createUVRenderer=x;b.getClassField=v;b.isUVRendererSupported=z;b.isColormapRendererSupported=u;b.createColormapRenderer=B;b.isShadedReliefRendererSupported=E;b.createShadedReliefRenderer=function(a,b){if(!E(a))return null;a=a.extent;a=a.width*d.getMetersPerUnitForSR(a.spatialReference);return new h.RasterShadedReliefRenderer({hillshadeType:null!==
b&&void 0!==b?b:"multi-directional",scalingType:5E6<a?"adjusted":"none"})};b.isClassBreaksSupported=F;b.createClassBreaksRenderer=function(a,b){a=D(a,null===b||void 0===b?void 0:b.variableName);var d=a.attributeTable;if(!F(a))return null;var g=e.isSome(a.histograms)?a.histograms[0]:null,k=(null===b||void 0===b?void 0:b.numClasses)||4,m=null===b||void 0===b?void 0:b.colors;if(m&&m.length!==k)return null;var p=(null===b||void 0===b?void 0:b.field)||"value",q=[];if(e.isSome(d)){var r=l.find(d.fields,
function(a){return"count"===a.name.toLowerCase()}),v=l.find(d.fields,function(a){return a.name.toLowerCase()===p.toLowerCase()}),p=v.name,w=d.features.length,u=0;d.features.forEach(function(a){return u+=a.attributes[r.name]/w});d.features.forEach(function(a){var b=a.attributes[v.name];a=a.attributes[r.name];if(0<a){a=Math.max(1,Math.round(a/w/u*1E3));for(var c=0;c<a;c++)q.push(b)}})}else{a=a.pixelType;var x=(g.max-g.min)/g.size,y=(a=-1<a.indexOf("s")||-1<a.indexOf("u"))&&1===x?Math.floor(g.min+.5):
g.min,A=a&&1===x?Math.floor(g.max-.5):g.max,z=g.size,B=0;g.counts.forEach(function(a){return B+=a/z});g.counts.forEach(function(a,b){if(0<a){a=Math.max(1,Math.round(a/z/B*1E3));b=0===b?y:b===z-1?A:g.min+x*(b+.5);for(var c=0;c<a;c++)q.push(b)}})}a=t.createGenerateRendererClassBreaks({values:q,normalizationTotal:null,definition:new f({classificationMethod:(null===b||void 0===b?void 0:b.classificationMethod)||"equal-interval",breakCount:k})});m||(m=c.convertColorRampToColormap((null===b||void 0===b?
void 0:b.colorRamp)||G,k,!0).map(function(a){return a.slice(1)}));b=a.classBreaks.map(function(a,b){return new n({minValue:a.minValue,maxValue:a.maxValue,label:a.label,symbol:{type:"simple-fill",color:m[b]}})});return new h.ClassBreaksRenderer({field:p,classBreakInfos:b})}})},"esri/tasks/support/ClassBreaksDefinition":function(){define("require exports tslib ../../core/jsonMap ../../core/accessorSupport/decorators ./ClassificationDefinition".split(" "),function(q,b,a,m,h,l){var e=new m.default({esriClassifyEqualInterval:"equal-interval",
esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),d=new m.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});return function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;a.breakCount=null;a.classificationField=null;a.classificationMethod=null;a.normalizationField=null;a.normalizationType=null;a.type="class-breaks-definition";
return a}a.__extends(g,b);Object.defineProperty(g.prototype,"standardDeviationInterval",{set:function(a){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",a)},enumerable:!1,configurable:!0});a.__decorate([h.property({json:{write:!0}})],g.prototype,"breakCount",void 0);a.__decorate([h.property({json:{write:!0}})],g.prototype,"classificationField",void 0);a.__decorate([h.property({type:String,json:{read:e.read,write:e.write}})],g.prototype,"classificationMethod",
void 0);a.__decorate([h.property({json:{write:!0}})],g.prototype,"normalizationField",void 0);a.__decorate([h.property({json:{read:d.read,write:d.write}})],g.prototype,"normalizationType",void 0);a.__decorate([h.property({value:null,json:{write:!0}})],g.prototype,"standardDeviationInterval",null);a.__decorate([h.property()],g.prototype,"type",void 0);return g=a.__decorate([h.subclass("esri.tasks.support.ClassBreaksDefinition")],g)}(l)})},"esri/tasks/support/ClassificationDefinition":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/Symbol ./colorRamps".split(" "),
function(q,b,a,m,h,l,e,d){var g=new m.default({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});return function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.baseSymbol=null;a.colorRamp=null;a.type=null;return a}a.__extends(c,b);a.__decorate([l.property({type:e,json:{write:!0}})],c.prototype,"baseSymbol",void 0);a.__decorate([l.property({types:d.types,json:{read:{reader:d.fromJSON},write:!0}})],c.prototype,"colorRamp",void 0);a.__decorate([l.property({json:{read:g.read,
write:g.write}})],c.prototype,"type",void 0);return c=a.__decorate([l.subclass("esri.tasks.support.ClassificationDefinition")],c)}(h.JSONSupport)})},"esri/tasks/support/generateRendererUtils":function(){define(["require","exports"],function(q,b){function a(a){var b=a.definition,c=b.classificationMethod,e=b.breakCount,k=b.normalizationType,q=[],A=a.values;if(0===A.length)return[];var A=A.sort(function(a,b){return a-b}),y=A[0];a=A[A.length-1];if("equal-interval"===c)if(A.length>=e){A=(a-y)/e;c=y;for(b=
1;b<e;b++){var w=Number((y+b*A).toFixed(6));q.push({minValue:c,maxValue:w,label:m(c,w,k)});c=w}q.push({minValue:c,maxValue:a,label:m(c,a,k)})}else A.forEach(function(a){q.push({minValue:a,maxValue:a,label:m(a,a,k)})});else if("natural-breaks"===c){for(var A=h(A),x=l(A.uniqueValues,A.valueFrequency,e),c=y,b=1;b<e;b++)A.uniqueValues.length>b&&(w=Number(A.uniqueValues[x[b]].toFixed(6)),q.push({minValue:c,maxValue:w,label:m(c,w,k)}),c=w);q.push({minValue:c,maxValue:a,label:m(c,a,k)})}else if("quantile"===
c)if(A.length>=e&&y!==a){c=y;y=Math.ceil(A.length/e);w=0;for(b=1;b<e;b++)x=y+w-1,x>A.length&&(x=A.length-1),0>x&&(x=0),q.push({minValue:c,maxValue:A[x],label:m(c,A[x],k)}),c=A[x],w+=y,y=Math.ceil((A.length-w)/(e-b));q.push({minValue:c,maxValue:a,label:m(c,a,k)})}else for(c=-1,b=0;b<A.length;b++)w=A[b],w!==c&&(c=w,q.push({minValue:c,maxValue:w,label:m(c,w,k)}),c=w);else if("standard-deviation"===c)if(x=g(A),c=n(A,x),0===c)q.push({minValue:A[0],maxValue:A[0],label:m(A[0],A[0],k)});else{for(var A=d(y,
a,e,x,c),A=A*c,v=0,c=y,b=e;1<=b;b--)y=Number((x-(b-.5)*A).toFixed(6)),q.push({minValue:c,maxValue:y,label:m(c,y,k)}),c=y,v++;w=Number((x+.5*A).toFixed(6));q.push({minValue:c,maxValue:w,label:m(c,w,k)});c=w;v++;for(b=1;b<=e;b++)w=v===2*e?a:Number((x+(b+.5)*A).toFixed(6)),q.push({minValue:c,maxValue:w,label:m(c,w,k)}),c=w,v++}return q}function m(a,b,c){var d=null;return d=a===b?c&&"percent-of-total"===c?a+"%":a.toString():c&&"percent-of-total"===c?a+"% - "+b+"%":a+" - "+b}function h(a){for(var b=[],
c=[],d=Number.MIN_VALUE,e=1,g=-1,h=0;h<a.length;h++){var k=a[h];k===d?(e++,c[g]=e):null!==k&&(b.push(k),d=k,e=1,c.push(e),g++)}return{uniqueValues:b,valueFrequency:c}}function l(a,b,d){var f=a.length,g=[];d>f&&(d=f);for(var h=0;h<d;h++)g.push(Math.round(h*f/d-1));g.push(f-1);for(var h=e(g,a,b,d),f=h.mean,h=h.sdcm,k=d,l=0,m=0,n=0,q=0,t=!0,z=0;2>z&&t;z++){0===z&&(t=!1);for(var u=0;u<k-1;u++)for(;g[u+1]+1!==g[u+2];)if(g[u+1]+=1,l=c(u,g,a,b),n=l.sbMean,l=l.sbSdcm,m=c(u+1,g,a,b),q=m.sbMean,m=m.sbSdcm,
l+m<h[u]+h[u+1])h[u]=l,h[u+1]=m,f[u]=n,f[u+1]=q,t=!0;else{--g[u+1];break}for(u=k-1;0<u;u--)for(;g[u]!==g[u-1]+1;)if(--g[u],l=c(u-1,g,a,b),n=l.sbMean,l=l.sbSdcm,m=c(u,g,a,b),q=m.sbMean,m=m.sbSdcm,l+m<h[u-1]+h[u])h[u-1]=l,h[u]=m,f[u-1]=n,f[u]=q,t=!0;else{g[u]+=1;break}}t&&(h=e(g,a,b,d));return g}function e(a,b,d,e){for(var f=[],g=[],h=[],k=0,l=[],m=[],n=0;n<e;n++){var q=c(n,a,b,d);l.push(q.sbMean);m.push(q.sbSdcm);k+=m[n]}for(var r=k,t=!0;t||k<r;){t=!1;f=[];for(n=0;n<e;n++)f.push(a[n]);for(n=0;n<e;n++)for(h=
a[n]+1;h<=a[n+1];h++)if(g=b[h],0<n&&h!==a[n+1]&&Math.abs(g-l[n])>Math.abs(g-l[n-1]))a[n]=h;else if(n<e-1&&a[n]!==h-1&&Math.abs(g-l[n])>Math.abs(g-l[n+1])){a[n+1]=h-1;break}r=k;k=0;g=[];h=[];for(n=0;n<e;n++)g.push(l[n]),h.push(m[n]),q=c(n,a,b,d),l[n]=q.sbMean,m[n]=q.sbSdcm,k+=m[n]}if(k>r){for(n=0;n<e;n++)a[n]=f[n],l[n]=g[n],m[n]=h[n];k=r}return{mean:l,sdcm:m}}function d(a,b,c,d,e){a=Math.max(d-a,b-d)/e/c;return 1<=a?1:.5<=a?.5:.25}function g(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b/=a.length}
function n(a,b){for(var c=0,d=0;d<a.length;d++)var f=a[d],c=c+(f-b)*(f-b);c/=a.length;return Math.sqrt(c)}function c(a,b,c,d){for(var e=0,f=0,g=b[a]+1;g<=b[a+1];g++)var h=d[g],e=e+c[g]*h,f=f+h;0>=f&&console.log("Exception in Natural Breaks calculation");e/=f;f=0;for(g=b[a]+1;g<=b[a+1];g++)f+=d[g]*Math.pow(c[g]-e,2);return{sbMean:e,sbSdcm:f}}Object.defineProperty(b,"__esModule",{value:!0});b.createGenerateRendererClassBreaks=b.createGenerateRendererUniqueValues=void 0;b.createGenerateRendererUniqueValues=
function(a){a=h(a);for(var b=[],c=a.uniqueValues.length,d=0;d<c;d++){var e=a.uniqueValues[d];b.push({value:e,count:a.valueFrequency[d],label:e.toString()})}return{uniqueValues:b}};b.createGenerateRendererClassBreaks=function(b){var c=b.normalizationTotal;return{classBreaks:a(b),normalizationTotal:c}}})},"*noref":1}});
define("require exports tslib ../../geometry ../../core/promiseUtils ./PixelBlock ./rasterFormats/RasterCodec ./rasterFunctions/pixelUtils ../../renderers/support/RasterSymbolizer".split(" "),function(q,b,a,m,h,l,e,d,g){return function(){function b(){}b.prototype.decode=function(b){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,e.decode(b.data,b.options)];case 1:return c=a.sent(),[2,c&&c.toJSON()]}})})};b.prototype.symbolize=
function(a){a.pixelBlock=l.fromJSON(a.pixelBlock);a.extent=a.extent?m.Extent.fromJSON(a.extent):null;a=this.symbolizer.symbolize(a);return h.resolve(a&&a.toJSON())};b.prototype.updateSymbolizer=function(b){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){this.symbolizer=g.fromJSON(b.symbolizerJSON);b.histograms&&this.symbolizer&&this.symbolizer.renderer&&"histograms"in this.symbolizer.renderer&&(this.symbolizer.renderer.histograms=b.histograms);return[2]})})};
b.prototype.stretch=function(a){a=this.symbolizer.simpleStretch(l.fromJSON(a.srcPixelBlock),a.stretchParams);return h.resolve(a&&a.toJSON())};b.prototype.mosaicAndTransform=function(b){return a.__awaiter(this,void 0,void 0,function(){var c,e,g;return a.__generator(this,function(a){c=b.srcPixelBlocks.map(function(a){return a?new l(a):null});e=d.mosaic(c,b.srcMosaicSize);if(!b.coefs)return[2,e&&e.toJSON()];g=d.approximateTransform(e,b.destDimension,b.coefs,b.sampleSpacing,b.interpolation);return[2,
g&&g.toJSON()]})})};return b}()});