// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib"],function(B,a,t){function l(d,a,h){var b,e,c;return t.__generator(this,function(f){switch(f.label){case 0:b=0,f.label=1;case 1:if(!(b<=d.length))return[3,4];e=d.indexOf(a,b);c=d.substring(b,-1<e?e:void 0);b+=c.length+1;return h&&!c.trim()?[3,3]:[4,c];case 2:f.sent(),f.label=3;case 3:return[3,1];case 4:return[2]}})}function u(d,a){return l(d,a,!1)}Object.defineProperty(a,"__esModule",{value:!0});a.parseRows=a.inferDelimiter=a.readRowParts=a.readRows=void 0;var x=
/^\s*"([\S\s]*)"\s*$/,y=/""/g,m=[","," ",";","|","\t"];a.readRows=function(a){return l(a,"\n",!0)};a.readRowParts=u;a.inferDelimiter=function(a){a=a.trim();for(var d=0,h="",b=0;b<m.length;b++){var e=m[b],c=a.split(e).length;c>d&&(d=c,h=e)}return""===h?null:h};a.parseRows=function(a,l,h){var b,e,c,f,d,m,z,v,q,r,A,w;return t.__generator(this,function(k){switch(k.label){case 0:e=b="",c=0,f=[],k.label=1;case 1:d=a.next();m=d.value;if(z=d.done)return[2];v=u(m,h);a:for(;;){q=v.next();r=q.value;if(A=q.done)break a;
b+=e+r;e="";k=c;for(var n=r,p=0,g=void 0,g=n.indexOf('"',0);0<=g;)p++,g=n.indexOf('"',g+1);c=k+p;if(0===c%2){if(0<c)if(w=x.exec(b))f.push(w[1].replace(y,'"'));else return f=[],b="",c=0,[3,1];else f.push(b);b="";c=0}else e=h}if(0!==c)return[3,3];k=f;n={};p=l.length;for(g=0;g<p;g++)n[l[g]]=k[g];return[4,n];case 2:return k.sent(),f=[],[3,4];case 3:e="\n",k.label=4;case 4:return[3,1];case 5:return[2]}})}});