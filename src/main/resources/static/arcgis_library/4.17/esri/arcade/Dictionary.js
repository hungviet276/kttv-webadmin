// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],function(m,n,k,e,l){function f(a){var b=null;if(null!==a)if(e.isNumber(a))b=e.toNumber(a);else if(e.isBoolean(a))b=e.toBoolean(a);else if(e.isString(a))b=e.toString(a);else if(e.isDate(a))b=e.toDate(a);else if(e.isArray(a))for(var b=[],d=0;d<a.length;d++)b.push(f(a[d]));else{if(0===Object.keys(a).length)return null;b=new g;b.immutable=!1;for(var d=0,c=Object.keys(a);d<c.length;d++){var h=c[d];b.setField(h,f(a[h]))}b.immutable=
!0}return b}var g=function(){function a(b){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=b instanceof a?b.attributes:void 0===b?{}:null===b?{}:b}a.prototype.field=function(b){var d=b.toLowerCase(),c=this.attributes[b];if(void 0!==c)return c;for(var a in this.attributes)if(a.toLowerCase()===d)return this.attributes[a];throw Error("Field not Found : "+b);};a.prototype.setField=function(b,d){if(this.immutable)throw Error("Dictionary is Immutable");
var c=b.toLowerCase();if(void 0===this.attributes[b])for(var a in this.attributes)if(a.toLowerCase()===c){this.attributes[a]=d;return}this.attributes[b]=d};a.prototype.hasField=function(b){var d=b.toLowerCase();if(void 0!==this.attributes[b])return!0;for(var a in this.attributes)if(a.toLowerCase()===d)return!0;return!1};a.prototype.keys=function(){var b=[],a;for(a in this.attributes)b.push(a);return b=b.sort()};a.prototype.castToText=function(){var b="",a;for(a in this.attributes){""!==b&&(b+=",");
var c=this.attributes[a];null==c?b+=JSON.stringify(a)+":null":e.isBoolean(c)||e.isNumber(c)||e.isString(c)?b+=JSON.stringify(a)+":"+JSON.stringify(c):c instanceof l?b+=JSON.stringify(a)+":"+e.toStringExplicit(c):c instanceof k?b+=JSON.stringify(a)+":"+e.toStringExplicit(c):c instanceof Array?b+=JSON.stringify(a)+":"+e.toStringExplicit(c):c instanceof Date?b+=JSON.stringify(a)+":"+JSON.stringify(c):null!==c&&"object"===typeof c&&void 0!==c.castToText&&(b+=JSON.stringify(a)+":"+c.castToText())}return"{"+
b+"}"};a.convertObjectToArcadeDictionary=function(b){var d=new a;d.immutable=!1;for(var c in b)d.setField(c.toString(),f(b[c]));d.immutable=!0;return d};return a}();return g});