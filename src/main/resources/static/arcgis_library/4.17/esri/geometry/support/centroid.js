// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","./coordsUtils"],function(y,e,t){function m(a,f){if(!a||!a.length)return null;for(var b=[],g=[],d=f?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],h=0,p=a.length;h<p;h++){var n=x(a[h],f,d);n&&g.push(n)}g.sort(function(a,b){var c=a[2]-b[2];0===c&&f&&(c=a[4]-b[4]);return c});g.length&&(h=6*g[0][2],b[0]=g[0][0]/h,b[1]=g[0][1]/h,f&&(h=6*g[0][4],b[2]=0!==h?g[0][3]/h:0),b[0]<d[0]||b[0]>d[1]||b[1]<d[2]||b[1]>d[3]||f&&(b[2]<d[4]||
b[2]>d[5]))&&(b.length=0);if(!b.length)if(a=a[0]&&a[0].length?w(a[0],f):null)b[0]=a[0],b[1]=a[1],f&&2<a.length&&(b[2]=a[2]);else return null;return b}function x(a,f,b){for(var g=0,d=0,h=0,p=0,n=0,e=0;e<a.length;e++){var q=a[e],c=q[0],k=q[1],l=q[2],u=a[(e+1)%a.length],v=u[0],t=u[1],m=u[2],r=c*t-v*k,p=p+r,g=g+(c+v)*r,d=d+(k+t)*r;f&&2<q.length&&2<u.length&&(r=c*m-v*l,h+=(l+m)*r,n+=r);c<b[0]&&(b[0]=c);c>b[1]&&(b[1]=c);k<b[2]&&(b[2]=k);k>b[3]&&(b[3]=k);f&&(l<b[4]&&(b[4]=l),l>b[5]&&(b[5]=l))}0<p&&(p*=-1);
0<n&&(n*=-1);if(!p)return null;a=[g,d,.5*p];f&&(a[3]=h,a[4]=.5*n);return a}function w(a,f){for(var b=f?[0,0,0]:[0,0],g=f?[0,0,0]:[0,0],d=0,h=0,e=0,n=0,m=0,q=a.length;m<q-1;m++){var c=a[m],k=a[m+1];if(c&&k){b[0]=c[0];b[1]=c[1];g[0]=k[0];g[1]=k[1];f&&2<c.length&&2<k.length&&(b[2]=c[2],g[2]=k[2]);var l=t.getLength(b,g);l&&(d+=l,c=t.getMidpoint(c,k),h+=l*c[0],e+=l*c[1],f&&2<c.length&&(n+=l*c[2]))}}return 0<d?f?[h/d,e/d,n/d]:[h/d,e/d]:a.length?a[0]:null}Object.defineProperty(e,"__esModule",{value:!0});
e.lineCentroid=e.ringsCentroid=e.polygonCentroid=e.extentCentroid=void 0;e.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};e.polygonCentroid=function(a){return a?m(a.rings,a.hasZ):null};e.ringsCentroid=m;e.lineCentroid=w});