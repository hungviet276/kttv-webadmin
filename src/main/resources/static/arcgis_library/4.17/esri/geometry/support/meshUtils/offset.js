// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ./projection ../../../views/3d/support/projectionUtils".split(" "),function(A,f,u,v,w,x,y,d,l){function m(b,d){if(b)for(var c=0;c<b.length;c+=3)for(var a=0;3>a;a++)b[c+a]+=d[a]}Object.defineProperty(f,"__esModule",{value:!0});f.offset=void 0;f.offset=function(b,f,c){if(b.vertexAttributes&&
b.vertexAttributes.position){var a=b.spatialReference;if(a.isWGS84||a.isWebMercator&&(!c||!1!==c.geographic)){c=b.spatialReference;var a=b.vertexAttributes.position,g=b.vertexAttributes.normal,h=b.vertexAttributes.tangent,e=new Float64Array(a.length),n=new Float32Array(g?g.length:0),p=new Float32Array(h?h.length:0),k=b.extent.center,q=z;l.computeLinearTransformation(c,[k.x,k.y,k.z],r,l.SphericalECEFSpatialReference);u.mat3.fromMat4(t,r);x.vec3.transformMat3(q,f,t);d.projectToECEF(a,c,e);g&&d.projectNormalToECEF(g,
a,e,c,n);h&&d.projectTangentToECEF(h,a,e,c,p);m(e,q);d.projectFromECEF(e,a,c);g&&d.projectNormalFromECEF(n,a,e,c,g);h&&d.projectTangentFromECEF(p,a,e,c,h)}else m(b.vertexAttributes.position,f);b.clearCache()}};var z=y.vec3f64.create(),r=w.mat4f64.create(),t=v.mat3f64.create()});