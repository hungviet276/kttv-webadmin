// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../geometry","../core/workers"],function(v,b,d,n,t){function f(a){var c;return Array.isArray(a)?null===(c=a[0])||void 0===c?void 0:c.spatialReference:null===a||void 0===a?void 0:a.spatialReference}function r(a){return a?Array.isArray(a)?a.map(r):a.toJSON?a.toJSON():a:a}function l(a){return Array.isArray(a)?a.map(function(a){return n.fromJSON(a)}):n.fromJSON(a)}function u(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){p||
(p=t.open("geometryEngineWorker",{strategy:"distributed"}));return[2,p]})})}function g(a,c){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,u()];case 1:return b=e.sent(),[2,b.invoke("executeGEOperation",{operation:a,parameters:r(c)})]}})})}function q(a){return"xmin"in a?a.center:"x"in a?a:a.extent.center}Object.defineProperty(b,"__esModule",{value:!0});b.geodesicLength=b.geodesicArea=b.planarLength=b.planarArea=b.geodesicDensify=
b.densify=b.generalize=b.flipVertical=b.flipHorizontal=b.rotate=b.nearestVertices=b.nearestVertex=b.nearestCoordinate=b.geodesicBuffer=b.buffer=b.offset=b.union=b.intersect=b.symmetricDifference=b.difference=b.convexHull=b.simplify=b.isSimple=b.relate=b.overlaps=b.disjoint=b.within=b.touches=b.intersects=b.equals=b.distance=b.crosses=b.contains=b.cut=b.clip=b.extendedSpatialReferenceInfo=void 0;var p;b.extendedSpatialReferenceInfo=function(a){return g("extendedSpatialReferenceInfo",[a])};b.clip=function(a,
c){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,g("clip",[f(a),a,c])];case 1:return b=e.sent(),[2,l(b)]}})})};b.cut=function(a,c){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,g("cut",[f(a),a,c])];case 1:return b=e.sent(),[2,l(b)]}})})};b.contains=function(a,c){return g("contains",[f(a),a,c])};b.crosses=function(a,c){return g("crosses",[f(a),
a,c])};b.distance=function(a,c,b){return g("distance",[f(a),a,c,b])};b.equals=function(a,c){return g("equals",[f(a),a,c])};b.intersects=function(a,c){return g("intersects",[f(a),a,c])};b.touches=function(a,c){return g("touches",[f(a),a,c])};b.within=function(a,c){return g("within",[f(a),a,c])};b.disjoint=function(a,c){return g("disjoint",[f(a),a,c])};b.overlaps=function(a,c){return g("overlaps",[f(a),a,c])};b.relate=function(a,c,b){return g("relate",[f(a),a,c,b])};b.isSimple=function(a){return g("isSimple",
[f(a),a])};b.simplify=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(c){switch(c.label){case 0:return[4,g("simplify",[f(a),a])];case 1:return b=c.sent(),[2,l(b)]}})})};b.convexHull=function(a,b){void 0===b&&(b=!1);return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,g("convexHull",[f(a),a,b])];case 1:return c=e.sent(),[2,l(c)]}})})};b.difference=function(a,b){return d.__awaiter(this,
void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,g("difference",[f(a),a,b])];case 1:return c=e.sent(),[2,l(c)]}})})};b.symmetricDifference=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return[4,g("symmetricDifference",[f(a),a,b])];case 1:return c=e.sent(),[2,l(c)]}})})};b.intersect=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,
function(e){switch(e.label){case 0:return[4,g("intersect",[f(a),a,b])];case 1:return c=e.sent(),[2,l(c)]}})})};b.union=function(a,b){void 0===b&&(b=null);return d.__awaiter(this,void 0,void 0,function(){var c,h;return d.__generator(this,function(e){switch(e.label){case 0:e=b;var d;Array.isArray(a)?d=a:(d=[],d.push(a),null!=e&&d.push(e));c=d;return[4,g("union",[f(c),c])];case 1:return h=e.sent(),[2,l(h)]}})})};b.offset=function(a,b,e,h,m,k){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,
function(d){switch(d.label){case 0:return[4,g("offset",[f(a),a,b,e,h,m,k])];case 1:return c=d.sent(),[2,l(c)]}})})};b.buffer=function(a,b,e,h){void 0===h&&(h=!1);return d.__awaiter(this,void 0,void 0,function(){var c,k;return d.__generator(this,function(d){switch(d.label){case 0:return c=[f(a),a,b,e,h],[4,g("buffer",c)];case 1:return k=d.sent(),[2,l(k)]}})})};b.geodesicBuffer=function(a,b,e,h,m,k){return d.__awaiter(this,void 0,void 0,function(){var c,n;return d.__generator(this,function(d){switch(d.label){case 0:return c=
[f(a),a,b,e,h,m,k],[4,g("geodesicBuffer",c)];case 1:return n=d.sent(),[2,l(n)]}})})};b.nearestCoordinate=function(a,b,e){void 0===e&&(e=!0);return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(h){switch(h.label){case 0:return[4,g("nearestCoordinate",[f(a),a,b,e])];case 1:return c=h.sent(),[2,d.__assign(d.__assign({},c),{coordinate:n.Point.fromJSON(c.coordinate)})]}})})};b.nearestVertex=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,
function(e){switch(e.label){case 0:return[4,g("nearestVertex",[f(a),a,b])];case 1:return c=e.sent(),[2,d.__assign(d.__assign({},c),{coordinate:n.Point.fromJSON(c.coordinate)})]}})})};b.nearestVertices=function(a,b,e,h){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(k){switch(k.label){case 0:return[4,g("nearestVertices",[f(a),a,b,e,h])];case 1:return c=k.sent(),[2,c.map(function(a){return d.__assign(d.__assign({},a),{coordinate:n.Point.fromJSON(a.coordinate)})})]}})})};
b.rotate=function(a,b,e){return d.__awaiter(this,void 0,void 0,function(){var c,f,k,l;return d.__generator(this,function(d){switch(d.label){case 0:if(null==a)throw Error("Illegal Argument Exception");c=a.spatialReference;e=null!==e&&void 0!==e?e:q(a);l=(k=a.constructor).fromJSON;return[4,g("rotate",[c,a,b,e])];case 1:return f=l.apply(k,[d.sent()]),f.spatialReference=c,[2,f]}})})};b.flipHorizontal=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,f,m,k;return d.__generator(this,
function(d){switch(d.label){case 0:if(null==a)throw Error("Illegal Argument Exception");c=a.spatialReference;b=null!==b&&void 0!==b?b:q(a);k=(m=a.constructor).fromJSON;return[4,g("flipHorizontal",[c,a,b])];case 1:return f=k.apply(m,[d.sent()]),f.spatialReference=c,[2,f]}})})};b.flipVertical=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,f,m,k;return d.__generator(this,function(d){switch(d.label){case 0:if(null==a)throw Error("Illegal Argument Exception");c=a.spatialReference;
b=null!==b&&void 0!==b?b:q(a);k=(m=a.constructor).fromJSON;return[4,g("flipVertical",[c,a,b])];case 1:return f=k.apply(m,[d.sent()]),f.spatialReference=c,[2,f]}})})};b.generalize=function(a,b,e,h){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(d){switch(d.label){case 0:return[4,g("generalize",[f(a),a,b,e,h])];case 1:return c=d.sent(),[2,l(c)]}})})};b.densify=function(a,b,e){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,
function(d){switch(d.label){case 0:return[4,g("densify",[f(a),a,b,e])];case 1:return c=d.sent(),[2,l(c)]}})})};b.geodesicDensify=function(a,b,e,h){void 0===h&&(h=0);return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(d){switch(d.label){case 0:return[4,g("geodesicDensify",[f(a),a,b,e,h])];case 1:return c=d.sent(),[2,l(c)]}})})};b.planarArea=function(a,b){return g("planarArea",[f(a),a,b])};b.planarLength=function(a,b){return g("planarLength",[f(a),a,b])};b.geodesicArea=
function(a,b,d){return g("geodesicArea",[f(a),a,b,d])};b.geodesicLength=function(a,b,d){return g("geodesicLength",[f(a),a,b,d])}});