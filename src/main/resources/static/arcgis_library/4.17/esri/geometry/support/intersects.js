// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","./contains"],function(C,e,g){function v(a,c){return g.extentContainsPoint(a,c)}function u(a,c){var d=a.hasZ&&c.hasZ,b;if(a.xmin<=c.xmin){if(b=c.xmin,a.xmax<b)return!1}else if(b=a.xmin,c.xmax<b)return!1;if(a.ymin<=c.ymin){if(b=c.ymin,a.ymax<b)return!1}else if(b=a.ymin,c.ymax<b)return!1;if(d&&c.hasZ)if(a.zmin<=c.zmin){if(d=c.zmin,a.zmax<d)return!1}else if(d=a.zmin,c.zmax<d)return!1;return!0}function w(a,c){var d=c.hasZ?g.extentContainsCoords3D:g.extentContainsCoords2D,b=
0;for(c=c.points;b<c.length;b++)if(d(a,c[b]))return!0;return!1}function x(a,c){l[0]=a.xmin;l[1]=a.ymax;n[0]=a.xmax;n[1]=a.ymax;p[0]=a.xmin;p[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;for(var d=0,b=B;d<b.length;d++)if(g.polygonContainsCoords(c,b[d]))return!0;d=0;for(c=c.rings;d<c.length;d++)if(b=c[d],b.length){var m=b[0];if(g.extentContainsCoords2D(a,m))return!0;for(var k=1;k<b.length;k++){var h=b[k];if(g.extentContainsCoords2D(a,h)||y(m,h,z))return!0;m=h}}return!1}function A(a,c){l[0]=a.xmin;l[1]=a.ymax;
n[0]=a.xmax;n[1]=a.ymax;p[0]=a.xmin;p[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;c=c.paths;for(var d=0;d<c.length;d++){var b=c[d];if(c.length){var m=b[0];if(g.extentContainsCoords2D(a,m))return!0;for(var k=1;k<b.length;k++){var h=b[k];if(g.extentContainsCoords2D(a,h)||y(m,h,z))return!0;m=h}}}return!1}function y(a,c,d){for(var b=0;b<d.length;b++)if(t(a,c,d[b][0],d[b][1]))return!0;return!1}function t(a,c,d,b,m){var k=a[0];a=a[1];var h=c[0];c=c[1];var f=d[0],e=d[1];d=b[0]-f;var f=k-f,q=h-k;b=b[1]-e;var e=a-e,
g=c-a,l=b*q-d*g;if(0===l)return!1;d=(d*e-b*f)/l;f=(q*e-g*f)/l;return 0<=d&&1>=d&&0<=f&&1>=f?(m&&(m[0]=k+d*(h-k),m[1]=a+d*(c-a)),!0):!1}Object.defineProperty(e,"__esModule",{value:!0});e.getExtentIntersector=e.segmentIntersects=e.isSelfIntersecting=e.extentIntersectsPolyline=e.extentIntersectsPolygon=e.extentIntersectsMultipoint=e.extentIntersectsExtent=e.extentIntersectsPoint=void 0;e.extentIntersectsPoint=v;e.extentIntersectsExtent=u;e.extentIntersectsMultipoint=w;var l=[0,0],n=[0,0],p=[0,0],r=[0,
0],B=[l,n,p,r],z=[[p,l],[l,n],[n,r],[r,p]];e.extentIntersectsPolygon=x;e.extentIntersectsPolyline=A;var f=[0,0];e.isSelfIntersecting=function(a){for(var c=0;c<a.length;c++){for(var d=a[c],b=0;b<d.length-1;b++)for(var e=d[b],k=d[b+1],h=c+1;h<a.length;h++)for(var g=0;g<a[h].length-1;g++){var l=a[h][g],q=a[h][g+1],n=t(e,k,l,q,f);if(n&&!(f[0]===e[0]&&f[1]===e[1]||f[0]===l[0]&&f[1]===l[1]||f[0]===k[0]&&f[1]===k[1]||f[0]===q[0]&&f[1]===q[1]))return!0}g=d.length;if(!(4>=g))for(b=0;b<g-3;b++){var p=g-1;0===
b&&(p=g-2);e=d[b];k=d[b+1];for(h=b+2;h<p;h++)if(l=d[h],q=d[h+1],(n=t(e,k,l,q,f))&&!(f[0]===e[0]&&f[1]===e[1]||f[0]===l[0]&&f[1]===l[1]||f[0]===k[0]&&f[1]===k[1]||f[0]===q[0]&&f[1]===q[1]))return!0}}return!1};e.segmentIntersects=t;e.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return u;case "esriGeometryMultipoint":case "multipoint":return w;case "esriGeometryPoint":case "point":return v;case "esriGeometryPolygon":case "polygon":return x;case "esriGeometryPolyline":case "polyline":return A;
case "mesh":return u}}});