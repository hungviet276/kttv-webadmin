// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(g,x,d,q,e,r,t,u,v,w,h){function p(d){return d&&("esri.geometry.SpatialReference"===d.declaredClass||null!=d.wkid)}var k=[0,0],n=q.getLogger("esri.geometry.Point");g=function(g){function c(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=g.apply(this,
a)||this;a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}d.__extends(c,g);l=c;c.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};c.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};c.prototype.normalizeCtorArgs=function(a,b,c,d,e){var f;if(Array.isArray(a))f=a,e=b,a=f[0],b=f[1],c=f[2],
d=f[3];else if(a&&"object"===typeof a){if(f=a,a=null!=f.x?f.x:f.longitude,b=null!=f.y?f.y:f.latitude,c=f.z,d=f.m,(e=f.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new u(e)),null!=f.longitude||null!=f.latitude)null==f.longitude?n.warn(".longitude\x3d","Latitude was defined without longitude"):null==f.latitude?n.warn(".latitude\x3d","Longitude was defined without latitude"):!f.declaredClass&&e&&e.isWebMercator&&(b=h.lngLatToXY(f.longitude,f.latitude,k),a=b[0],b=b[1])}else p(c)?
(e=c,c=null):p(d)&&(e=d,d=null);a={x:a,y:b};null==a.x&&null!=a.y?n.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&n.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=c&&(a.z=c);null!=d&&(a.m=d);return a};Object.defineProperty(c.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return h.xyToLngLat(this.x,this.y,k)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",h.lngLatToXY(this.x,a,k)[1]):b.isGeographic&&
this._set("y",a),this._set("latitude",a))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return h.xyToLngLat(this._get("x"),this._get("y"),k)[0];if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",h.lngLatToXY(a,this._get("y"),k)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!1,
configurable:!0});c.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};c.prototype.readX=function(a){return"string"===typeof a?NaN:a};c.prototype.clone=function(){var a=new l;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};c.prototype.copy=function(a){l.copy(a,this);return this};c.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,d=this.y,e=this.z,f=this.m,g=this.spatialReference,k=a.z,l=a.m,m=a.x;b=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&
a.isWGS84)b=h.lngLatToXY(m,b),m=b[0],b=b[1],a=g;else if(g.isWGS84&&a.isWebMercator)b=h.xyToLngLat(m,b),m=b[0],b=b[1],a=g;else return!1;return c===m&&d===b&&e===k&&f===l&&g.wkid===a.wkid};c.prototype.offset=function(a,b,c){return v.offsetPoint(this,a,b,c)};c.prototype.normalize=function(){if(!this.spatialReference)return this;var a=w.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/
c),b+=a*c);this._set("x",b);return this};c.prototype.distance=function(a){return l.distance(this,a)};c.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};c.prototype.toJSON=function(a){return this.write(null,a)};var l;d.__decorate([e.property({dependsOn:["x","y","z","m","spatialReference"]})],c.prototype,"cache",void 0);d.__decorate([e.property({type:Boolean,dependsOn:["m"],json:{read:!1,
write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);d.__decorate([e.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);d.__decorate([e.property({type:Number,dependsOn:["y"]})],c.prototype,"latitude",null);d.__decorate([e.property({type:Number,dependsOn:["x"]})],c.prototype,"longitude",null);d.__decorate([e.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),e.cast(function(a){return isNaN(a)?
a:r.ensureNumber(a)})],c.prototype,"x",void 0);d.__decorate([e.writer("x")],c.prototype,"writeX",null);d.__decorate([e.reader("x")],c.prototype,"readX",null);d.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);d.__decorate([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);d.__decorate([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);
return c=l=d.__decorate([e.subclass("esri.geometry.Point")],c)}(t);g.prototype.toJSON.isDefaultToJSON=!0;return g});