// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/accessorSupport/originUtils":function(){define(["require","exports","../multiOriginJSONSupportUtils"],function(p,n,a){Object.defineProperty(n,"__esModule",{value:!0});n.updateOrigins=void 0;n.updateOrigins=function(c){c&&c.writtenProperties&&c.writtenProperties.forEach(function(b){var f=b.target;b.newOrigin&&b.oldOrigin!==b.newOrigin&&a.isMultiOriginJSONMixin(f)&&f.updateOrigin(b.propName,b.newOrigin)})}})},"esri/tasks/support/ProjectParameters":function(){define("require exports tslib ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../geometry/support/jsonUtils".split(" "),
function(p,n,a,c,b,f,l){var h=b.getLogger("esri.tasks.support.ProjectParameters");return function(e){function b(a){a=e.call(this,a)||this;a.geometries=null;a.outSpatialReference=null;a.transformation=null;a.transformForward=null;return a}a.__extends(b,e);Object.defineProperty(b.prototype,"outSR",{get:function(){h.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");return this.outSpatialReference},set:function(a){h.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");
this.outSpatialReference=a},enumerable:!1,configurable:!0});b.prototype.toJSON=function(){var a=this.geometries.map(function(a){return a.toJSON()}),e=this.geometries[0],b={};b.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON());b.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON());b.geometries=JSON.stringify({geometryType:l.getJsonType(e),geometries:a});this.transformation&&(b.transformation=this.transformation.wkid||JSON.stringify(this.transformation));
null!=this.transformForward&&(b.transformForward=this.transformForward);return b};a.__decorate([f.property()],b.prototype,"geometries",void 0);a.__decorate([f.property({json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([f.property({json:{read:!1}})],b.prototype,"outSR",null);a.__decorate([f.property()],b.prototype,"transformation",void 0);a.__decorate([f.property()],b.prototype,"transformForward",void 0);return b=a.__decorate([f.subclass("esri.tasks.support.ProjectParameters")],
b)}(c.JSONSupport)})},"esri/webdoc/RangeInfo":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators".split(" "),function(p,n,a,c,b,f){return function(l){function h(a){a=l.call(this,a)||this;a.activeRange=null;a.currentRangeExtent=null;a.fullRangeExtent=null;return a}a.__extends(h,l);e=h;h.prototype.clone=function(){return new e(b.clone({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))};
var e;a.__decorate([f.property({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],h.prototype,"activeRange",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],h.prototype,"currentRangeExtent",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],h.prototype,"fullRangeExtent",void 0);return h=e=a.__decorate([f.subclass("esri.webdoc.RangeInfo")],h)}(c.JSONSupport)})},"esri/webdoc/Widgets":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./widgets/Range ./widgets/TimeSlider".split(" "),
function(p,n,a,c,b,f,l,h){return function(e){function c(a){a=e.call(this,a)||this;a.range=null;a.timeSlider=null;return a}a.__extends(c,e);m=c;c.prototype.clone=function(){return new m(b.clone({range:this.range,timeSlider:this.timeSlider}))};var m;a.__decorate([f.property({type:l,json:{write:!0}})],c.prototype,"range",void 0);a.__decorate([f.property({type:h,json:{write:!0}})],c.prototype,"timeSlider",void 0);return c=m=a.__decorate([f.subclass("esri.webdoc.Widgets")],c)}(c.JSONSupport)})},"esri/webdoc/widgets/Range":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(p,n,a,c,b,f){var l=new c.default({slider:"slider",picker:"picker"});return function(b){function e(a){a=b.call(this,a)||this;a.interactionMode=null;a.numStops=null;a.stopInterval=null;return a}a.__extends(e,b);c=e;e.prototype.clone=function(){return new c({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})};var c;a.__decorate([f.property({type:l.apiValues,nonNullable:!0,json:{type:l.jsonValues,default:null,read:{reader:l.read},write:{isRequired:!0,
writer:l.write}}})],e.prototype,"interactionMode",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy:function(){var a=null!=this.stopInterval;return{enabled:!a,isRequired:!a}}}}})],e.prototype,"numStops",void 0);a.__decorate([f.property({type:Number,json:{write:{overridePolicy:function(){return{isRequired:null==this.numStops}}}}})],e.prototype,"stopInterval",void 0);return e=c=a.__decorate([f.subclass("esri.webdoc.widgets.Range")],
e)}(b.JSONSupport)})},"esri/webdoc/widgets/TimeSlider":function(){define("require exports tslib ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/object ../../core/accessorSupport/decorators".split(" "),function(p,n,a,c,b,f,l,h,e){return function(f){function m(a){a=f.call(this,a)||this;a.currentTimeExtent=null;a.fullTimeExtent=null;a.numStops=null;a.numThumbs=null;a.stopDelay=null;a.stopInterval=null;return a}a.__extends(m,f);t=m;m.prototype.readCurrentTimeExtent=
function(a){if(a)return new c({start:null!=a[0]?new Date(a[0]):null,end:null!=a[1]?new Date(a[1]):null})};m.prototype.writeCurrentTimeExtent=function(a,b,e){a&&h.setDeepValue(e,[a.start?a.start.getTime():null,a.end?a.end.getTime():null],b)};m.prototype.readFullTimeExtent=function(a,b){if(a=b.properties)return new c({start:null!=a.startTime?new Date(a.startTime):null,end:null!=a.endTime?new Date(a.endTime):null})};m.prototype.writeFullTimeExtent=function(a,b){if(a){b=b.properties=b.properties||{};
var e=a.end;a=a.start;e&&(b.endTime=e?e.getTime():null);a&&(b.startTime=a?a.getTime():null)}};m.prototype.readStopInterval=function(a,e,f){return a?b.fromJSON({value:a.interval,unit:a.units},f):null};m.prototype.writeStopInterval=function(a,b,e,f){a&&(a=a.toJSON(f),h.setDeepValue(e,{interval:a.value,units:a.unit},b))};m.prototype.clone=function(){return new t(l.clone({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,
stopInterval:this.stopInterval}))};var t;a.__decorate([e.property({type:c,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],m.prototype,"currentTimeExtent",void 0);a.__decorate([e.reader("currentTimeExtent")],m.prototype,"readCurrentTimeExtent",null);a.__decorate([e.writer("currentTimeExtent")],m.prototype,"writeCurrentTimeExtent",null);a.__decorate([e.property({type:c,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},
"properties.startTime":{type:Number}}}}})],m.prototype,"fullTimeExtent",void 0);a.__decorate([e.reader("fullTimeExtent")],m.prototype,"readFullTimeExtent",null);a.__decorate([e.writer("fullTimeExtent")],m.prototype,"writeFullTimeExtent",null);a.__decorate([e.property({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy:function(){var a=!!this.stopInterval;return{enabled:!a,isRequired:!a}}}}})],m.prototype,"numStops",void 0);a.__decorate([e.property({type:[1,
2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],m.prototype,"numThumbs",void 0);a.__decorate([e.property({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],m.prototype,"stopDelay",void 0);a.__decorate([e.property({type:b,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy:function(){return{isRequired:null==
this.numStops}}}}})],m.prototype,"stopInterval",void 0);a.__decorate([e.reader("stopInterval")],m.prototype,"readStopInterval",null);a.__decorate([e.writer("stopInterval")],m.prototype,"writeStopInterval",null);return m=t=a.__decorate([e.subclass("esri.webdoc.widgets.TimeSlider")],m)}(f.JSONSupport)})},"esri/webdoc/support/thumbnailUtils":function(){define(["require","exports"],function(p,n){Object.defineProperty(n,"__esModule",{value:!0});n.getOptimalThumbnailSize=void 0;var a={width:600,height:400};
n.getOptimalThumbnailSize=function(c,b){b=b||a;var f=b.width;b=b.height;var l=f/b;1.5>l?b=f/1.5:1.5<l&&(f=1.5*b);f>c.width&&(b*=c.width/f,f=c.width);b>c.height&&(f*=c.height/b,b=c.height);return{width:Math.round(f),height:Math.round(b)}}})},"esri/webmap/ApplicationProperties":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ../webdoc/applicationProperties/Viewing".split(" "),function(p,n,a,c,b,f,l){return function(c){function e(a){a=c.call(this,
a)||this;a.editing=null;a.offline=null;a.viewing=null;return a}a.__extends(e,c);h=e;e.prototype.clone=function(){return new h(b.clone({editing:this.editing,offline:this.offline,viewing:this.viewing}))};var h;a.__decorate([f.property({json:{write:!0}})],e.prototype,"editing",void 0);a.__decorate([f.property({json:{write:!0}})],e.prototype,"offline",void 0);a.__decorate([f.property({type:l,json:{write:!0}})],e.prototype,"viewing",void 0);return e=h=a.__decorate([f.subclass("esri.webmap.ApplicationProperties")],
e)}(c.JSONSupport)})},"esri/webdoc/applicationProperties/Viewing":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./Search".split(" "),function(p,n,a,c,b,f,l){return function(c){function e(a){a=c.call(this,a)||this;a.search=null;return a}a.__extends(e,c);h=e;e.prototype.clone=function(){return new h(b.clone({search:this.search}))};var h;a.__decorate([f.property({type:l,json:{write:!0}})],e.prototype,"search",void 0);return e=h=
a.__decorate([f.subclass("esri.webdoc.applicationProperties.Viewing")],e)}(c.JSONSupport)})},"esri/webdoc/applicationProperties/Search":function(){define("require exports tslib ../../core/Collection ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./SearchLayer".split(" "),function(p,n,a,c,b,f,l,h){var e=c.ofType(h);return function(b){function c(a){a=b.call(this,a)||this;a.addressSearchEnabled=!0;a.enabled=!0;a.hintText=null;a.layers=new e;return a}a.__extends(c,b);h=c;
c.prototype.readAddressSearchEnabled=function(a){return!a};c.prototype.writeAddressSearchEnabled=function(a,b,e){b[e]=!a};c.prototype.clone=function(){return new h(f.clone({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers}))};var h;a.__decorate([l.property({type:Boolean,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder"},default:!0,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"addressSearchEnabled",void 0);
a.__decorate([l.reader("addressSearchEnabled")],c.prototype,"readAddressSearchEnabled",null);a.__decorate([l.writer("addressSearchEnabled")],c.prototype,"writeAddressSearchEnabled",null);a.__decorate([l.property({type:Boolean,json:{write:!0,default:!0}})],c.prototype,"enabled",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"hintText",void 0);a.__decorate([l.property({type:e,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"layers",void 0);return c=h=a.__decorate([l.subclass("esri.webdoc.applicationProperties.Search")],
c)}(b.JSONSupport)})},"esri/webdoc/applicationProperties/SearchLayer":function(){define("require exports tslib ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./SearchLayerField".split(" "),function(p,n,a,c,b,f,l,h){return function(e){function c(a){a=e.call(this,a)||this;a.field=null;a.id=null;a.subLayer=null;return a}a.__extends(c,e);m=c;c.prototype.clone=function(){return new m(b.clone({field:this.field,id:this.id,subLayer:this.subLayer}))};
var m;a.__decorate([f.property({type:h,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"field",void 0);a.__decorate([f.property({type:String,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"id",void 0);a.__decorate([f.property({type:l.Integer,json:{write:!0}})],c.prototype,"subLayer",void 0);return c=m=a.__decorate([f.subclass("esri.webdoc.applicationProperties.SearchLayer")],c)}(c.JSONSupport)})},"esri/webdoc/applicationProperties/SearchLayerField":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldType".split(" "),
function(p,n,a,c,b,f){return function(c){function l(a){a=c.call(this,a)||this;a.exactMatch=!1;a.name=null;a.type=null;return a}a.__extends(l,c);e=l;l.prototype.clone=function(){return new e({exactMatch:this.exactMatch,type:this.type,name:this.name})};var e;a.__decorate([b.property({type:Boolean,json:{write:!0}})],l.prototype,"exactMatch",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],l.prototype,"name",void 0);a.__decorate([b.enumeration(f.kebabDict)],l.prototype,"type",void 0);
return l=e=a.__decorate([b.subclass("esri.webdoc.applicationProperties.SearchLayerField")],l)}(c.JSONSupport)})},"esri/webmap/Bookmark":function(){define("require exports tslib ../Viewpoint ../core/deprecate ../core/Error ../core/Identifiable ../core/JSONSupport ../core/lang ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ../webdoc/support/Thumbnail".split(" "),function(p,n,a,c,b,f,l,h,e,t,m,F,y,u){var z=t.getLogger("esri.webmap.Bookmark");return function(l){function h(a){a=
l.call(this,a)||this;a.name=null;a.thumbnail=new u.default;return a}a.__extends(h,l);n=h;Object.defineProperty(h.prototype,"extent",{set:function(a){b.deprecatedProperty(z,"extent",{replacement:"viewpoint",version:"4.17"});this._set("viewpoint",new c({targetGeometry:a.clone()}));this._set("extent",a)},enumerable:!1,configurable:!0});h.prototype.castThumbnail=function(a){return"string"===typeof a?new u.default({url:a}):F.ensureType(u.default,a)};Object.defineProperty(h.prototype,"viewpoint",{set:function(a){var b=
a.targetGeometry;"extent"!==(null===b||void 0===b?void 0:b.type)?(a=new f("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:a}),z.error(a)):(this._set("extent",b.clone()),this._set("viewpoint",a))},enumerable:!1,configurable:!0});h.prototype.readViewpoint=function(a,b){a=b.extent;return c.fromJSON(b.viewpoint||{targetGeometry:a})};h.prototype.clone=function(){return new n(e.clone({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))};var n;a.__decorate([m.property({type:y,
nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"extent",null);a.__decorate([m.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],h.prototype,"name",void 0);a.__decorate([m.property({type:u.default,json:{write:{overridePolicy:function(a){return{enabled:!(!a||!a.url)}}}}})],h.prototype,"thumbnail",void 0);a.__decorate([m.cast("thumbnail")],h.prototype,"castThumbnail",null);a.__decorate([m.property({type:c,nonNullable:!0,json:{write:!0}})],h.prototype,"viewpoint",
null);a.__decorate([m.reader("viewpoint",["extent","viewpoint"])],h.prototype,"readViewpoint",null);return h=n=a.__decorate([m.subclass("esri.webmap.Bookmark")],h)}(l.IdentifiableMixin(h.JSONSupport))})},"esri/webdoc/support/Thumbnail":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(p,n,a,c,b){Object.defineProperty(n,"__esModule",{value:!0});p=function(c){function f(){var a=null!==c&&c.apply(this,arguments)||this;a.url="";return a}
a.__extends(f,c);h=f;f.prototype.destroy=function(){this.url=""};f.prototype.clone=function(){return new h({url:this.url})};var h;a.__decorate([b.property({type:String,json:{write:{isRequired:!0}}})],f.prototype,"url",void 0);return f=h=a.__decorate([b.subclass("esri.webdoc.support.Thumbnail")],f)}(c.JSONSupport);n.default=p})},"esri/webmap/InitialViewProperties":function(){define("require exports tslib ../Viewpoint ../core/Accessor ../core/lang ../core/accessorSupport/decorators ../geometry/SpatialReference ../webdoc/RangeInfo ./background/ColorBackground".split(" "),
function(p,n,a,c,b,f,l,h,e,t){return function(b){function m(a){a=b.call(this,a)||this;a.background=null;a.rangeInfo=null;a.spatialReference=null;a.viewpoint=null;return a}a.__extends(m,b);n=m;m.prototype.clone=function(){return new n(f.clone({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))};var n;a.__decorate([l.property({type:t})],m.prototype,"background",void 0);a.__decorate([l.property({type:e})],m.prototype,"rangeInfo",void 0);
a.__decorate([l.property({type:h})],m.prototype,"spatialReference",void 0);a.__decorate([l.property({type:c})],m.prototype,"viewpoint",void 0);return m=n=a.__decorate([l.subclass("esri.webmap.InitialViewProperties")],m)}(b)})},"esri/webmap/background/ColorBackground":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),function(p,n,a,c,b,f,l){return function(b){function e(a){a=b.call(this,a)||this;a.color=new c([0,
0,0,1]);return a}a.__extends(e,b);h=e;e.prototype.clone=function(){return new h(f.clone({color:this.color}))};var h;a.__decorate([l.property({type:c,json:{write:!0}})],e.prototype,"color",void 0);return e=h=a.__decorate([l.subclass("esri.webmap.background.ColorBackground")],e)}(b.JSONSupport)})},"esri/webmap/Version":function(){define(["require","exports","tslib","../core/Version"],function(p,n,a,c){Object.defineProperty(n,"__esModule",{value:!0});n.Version=void 0;p=function(b){function c(a,c){return b.call(this,
a,c,"webmap")||this}a.__extends(c,b);return c}(c.Version);n.Version=p;n.default=p})},"esri/core/Version":function(){define(["require","exports","./Error"],function(p,n,a){Object.defineProperty(n,"__esModule",{value:!0});n.Version=void 0;p=function(){function c(a,c,l){void 0===l&&(l="");this.major=a;this.minor=c;this._context=l}c.prototype.lessThan=function(a,c){return this.major<a||a===this.major&&this.minor<c};c.prototype.since=function(a,c){return!this.lessThan(a,c)};c.prototype.validate=function(b){if(this.major!==
b.major)throw new a((this._context&&this._context+":")+"unsupported-version","Required major "+(this._context&&this._context+" ")+"version is '"+this.major+"', but got '${version.major}.${version.minor}'",{version:b});};c.prototype.clone=function(){return new c(this.major,this.minor,this._context)};c.parse=function(b,f){void 0===f&&(f="");var l=b.split("."),h=l[0],l=l[1],e=/^\s*\d+\s*$/;if(!h||!h.match||!h.match(e))throw new a((f&&f+":")+"invalid-version","Expected major version to be a number, but got '${version}'",
{version:b});if(!l||!l.match||!l.match(e))throw new a((f&&f+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:b});b=parseInt(h,10);h=parseInt(l,10);return new c(b,h,f)};return c}();n.Version=p})},"*noref":1}});
define("require exports tslib ./kernel ./Map ./Viewpoint ./core/arrayUtils ./core/Collection ./core/Error ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/MultiOriginJSONSupport ./core/Promise ./core/promiseUtils ./core/urlUtils ./core/watchUtils ./core/accessorSupport/decorators ./core/accessorSupport/originUtils ./core/accessorSupport/read ./geometry/SpatialReference ./geometry/support/webMercatorUtils ./layers/support/arcgisLayerUrl ./portal/Portal ./portal/PortalItem ./portal/support/portalItemUtils ./tasks/support/ProjectParameters ./webdoc/RangeInfo ./webdoc/Widgets ./webdoc/support/thumbnailUtils ./webdoc/support/writeUtils ./webmap/ApplicationProperties ./webmap/Bookmark ./webmap/InitialViewProperties ./webmap/Version ./webmap/background/ColorBackground @dojo/framework/shim/Promise".split(" "),function(p,
n,a,c,b,f,l,h,e,t,m,F,y,u,z,v,w,N,q,O,P,G,H,Q,A,I,r,J,K,R,S,T,U,V,B,C,L){var D=new C.default(2,18),M=h.ofType(V),E=F.getLogger("esri.WebMap"),x=new Map;x.set("image/jpeg","jpeg");x.set("image/jpg","jpg");x.set("image/png","png");x.set("image/gif","gif");var W="NatGeo_World_Map Ocean_Basemap USA_Topo_Maps World_Imagery World_Street_Map World_Terrain_Base World_Topo_Map World_Hillshade Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Reference_Overlay Reference/World_Transportation".split(" ").map(function(a){return a.toLowerCase()});
return function(b){function d(a){a=b.call(this,a)||this;a.applicationProperties=null;a.bookmarks=new M;a.initialViewProperties=new B;a.portalItem=null;a.presentation=null;a.sourceVersion=null;a.widgets=null;a.authoringApp=a.authoringAppVersion=null;a._isAuthoringAppSetByUser=a._isAuthoringAppVersionSetByUser=!1;return a}a.__extends(d,b);d.prototype.destroy=function(){var a=this.portalItem;this.portalItem=null;null===a||void 0===a?void 0:a.destroy()};d.prototype.initialize=function(){this.when().catch(function(a){E.error("#load()",
"Failed to load web map",a)});if(this.resourceInfo){var a=void 0;try{a=this._validateJSON(this.resourceInfo)}catch(k){this.addResolvingPromise(v.reject(k));return}this.read(a)}};Object.defineProperty(d.prototype,"authoringApp",{set:function(a){this._isAuthoringAppSetByUser=!0;this._set("authoringApp",a)},enumerable:!1,configurable:!0});d.prototype.writeAuthoringApp=function(a,k){k.authoringApp=a&&this._isAuthoringAppSetByUser?a:"ArcGIS API for JavaScript"};Object.defineProperty(d.prototype,"authoringAppVersion",
{set:function(a){this._isAuthoringAppVersionSetByUser=!0;this._set("authoringAppVersion",a)},enumerable:!1,configurable:!0});d.prototype.writeAuthoringAppVersion=function(a,k){k.authoringAppVersion=a&&this._isAuthoringAppVersionSetByUser?a:c.version};d.prototype.readInitialViewProperties=function(a,k){a=new B;k.background&&(a.background=L.fromJSON(k.background));k.initialState&&k.initialState.viewpoint&&(a.viewpoint=f.fromJSON(k.initialState.viewpoint));k.mapRangeInfo&&(a.rangeInfo=K.fromJSON(k.mapRangeInfo));
k.spatialReference&&(a.spatialReference=G.fromJSON(k.spatialReference));return a};d.prototype.writeInitialViewProperties=function(a,k,b,c){a&&((b=a.background)&&b.color&&(k.background=b.write(null,c)),a.viewpoint&&(k.initialState={viewpoint:a.viewpoint.write(null,c)}),a.rangeInfo&&(k.mapRangeInfo=a.rangeInfo.toJSON(c)),a.spatialReference&&(k.spatialReference=a.spatialReference.write(null,c)))};d.prototype.writeLayers=function(a,k,b,c){k[b]=this._writeLayers(a,c,"operational-layers")};d.prototype.readSourceVersion=
function(a,k){a=k.version.split(".");k=a[1];return new C.default(parseInt(a[0],10),parseInt(k,10))};d.prototype.writeSourceVersion=function(a,k,b){k[b]=D.major+"."+D.minor};d.prototype.writeTables=function(a,k,b,c){a=this._writeLayers(a,c,"tables");a.length&&(k[b]=a)};Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){return this.portalItem&&this.portalItem.thumbnailUrl||null},set:function(a){a?(this._override("thumbnailUrl",a),this._thumbnailFilename=this._generateCustomThumbnailFilename(a)):
this._clearThumbnailOverride()},enumerable:!1,configurable:!0});d.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource());return v.resolve(this)};d.prototype.loadAll=function(){var a=this;return m.loadAll(this,function(g){g(a.ground,a.basemap,a.layers,a.tables)})};d.prototype.read=function(g,k){var c=this;k=a.__assign(a.__assign({},k),{origin:"web-map"});var e=this._getAuthoringPropsState();P.readLoadable(this,g,function(a){return b.prototype.read.call(c,g,a)},k);this._restoreAuthoringPropsFromState(e)};
d.prototype.write=function(g,k){if("loaded"!==this.loadStatus)throw g=new e("webmap:not-loaded","Web map must be loaded before it can be serialized"),E.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),g;this._removeDanglingLayerRefs();k=a.__assign(a.__assign({},k),{origin:"web-map",restrictedWebMapWriting:!0,webmap:this});return b.prototype.write.call(this,g,k)};d.prototype.save=function(g){return a.__awaiter(this,void 0,void 0,function(){var k,
b,c;return a.__generator(this,function(a){switch(a.label){case 0:return g=g||{},this._validateItem(),[4,this._updateFromPromise];case 1:return a.sent(),[4,this.load()];case 2:return a.sent(),[4,this._loadLayerContainers()];case 3:return a.sent(),this._validateMap(),k=this.portalItem,b={origin:"web-map",messages:[],writtenProperties:[],url:k.itemUrl&&w.urlToObject(k.itemUrl),portal:k.portal||A.getDefault()},c=this.write(null,b),this._validateJSONForWriting(b,g),[4,this._updateItemProperties(k)];case 4:return a.sent(),
[4,this._updateItem(k,c,b)];case 5:return a.sent(),[4,this._updateItemThumbnail()];case 6:return a.sent(),[2,k]}})})};d.prototype.saveAs=function(g,k){return a.__awaiter(this,void 0,void 0,function(){var b,c,e,d;return a.__generator(this,function(a){switch(a.label){case 0:return k=k||{},b=this._getPortalItem(g),[4,this._updateFromPromise];case 1:return a.sent(),[4,this.load()];case 2:return a.sent(),[4,this._loadLayerContainers()];case 3:return a.sent(),this._validateMap(),c={origin:"web-map",messages:[],
writtenProperties:[],url:null,portal:b.portal},e=this.write(null,c),this._validateJSONForWriting(c,k),[4,this._updateItemPropertiesForSaveAs(b)];case 4:return a.sent(),d=this._getThumbnailState(),[4,this._createItem(b,e,c,k)];case 5:return a.sent(),this._restoreThumbnailFromState(d),[4,this._updateItemThumbnail()];case 6:return a.sent(),[2,b]}})})};d.prototype.updateFrom=function(g,k){return a.__awaiter(this,void 0,void 0,function(){var b,c;return a.__generator(this,function(a){switch(a.label){case 0:return this._updateFromPromise=
b=this._updateFromInternal(g,k),[4,b];case 1:a.sent();if(c=b===this._updateFromPromise)this._updateFromPromise=null;return[2]}})})};d.prototype.getLayerJSONFromResourceInfo=function(a){var g,b,c,e,d=this.resourceInfo,d=this._collectAllLayersJSON(l.flatten([null===(g=null===d||void 0===d?void 0:d.baseMap)||void 0===g?void 0:g.baseMapLayers,null===d||void 0===d?void 0:d.operationalLayers,null===(e=null===(c=null===(b=this.basemap)||void 0===b?void 0:b.resourceInfo)||void 0===c?void 0:c.data)||void 0===
e?void 0:e.baseMapLayers]));return l.find(d,function(g){return g.id===a.id})};d.prototype._collectAllLayersJSON=function(a){var g=this;return a.reduce(function(a,k){a.push(k);"GroupLayer"===k.layerType&&(a=a.concat(g._collectAllLayersJSON(k.layers||[])));return a},[])};d.prototype._writeLayers=function(g,k,b){var c=this;k=a.__assign(a.__assign({},k),{layerContainerType:b});return g.map(function(a){return y.unwrap(T.getLayerJSON(a,"tables"===b?null:c.getLayerJSONFromResourceInfo(a),k))}).filter(Boolean).toArray()};
d.prototype._loadFromSource=function(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):v.resolve(null)};d.prototype._loadFromItem=function(a){var g=this;return a.load().catch(function(a){throw new e("webmap:load-portal-item","Failed to load portal item",{error:a});}).then(function(){if("Web Map"!==a.type)throw new e("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",
{type:a.type});}).then(function(){return a.fetchData()}).then(function(b){g.resourceInfo=b;return g._readAndLoadFromJSON(b,{origin:"web-map",portal:a.portal||A.getDefault()})}).then(function(){return g._computeInitialViewpoint()})};d.prototype._readAndLoadFromJSON=function(a,b){a=this._validateJSON(a);this.read(a,b);return this._loadFromJSON(a,b)};d.prototype._validateJSON=function(a){var g=C.default.parse(a.version||"","webmap");D.validate(g);a.version=g.major+"."+g.minor;return a};d.prototype._loadFromJSON=
function(g,b){var k=this,c={context:a.__assign(a.__assign({},b),{layerContainerType:"operational-layers"})};this.portalItem&&(c.context.portal=this.portalItem.portal||A.getDefault());return(new Promise(function(a,g){p(["./portal/support/layersCreator"],a,g)})).then(function(b){var e=[],d=g.operationalLayers;d&&d.length&&e.push(b.populateOperationalLayers(k.layers,d,c));var d=a.__assign(a.__assign({},c),{context:a.__assign(a.__assign({},c.context),{layerContainerType:"tables"}),defaultLayerType:"ArcGISFeatureLayer"}),
f=g.tables;f&&f.length&&e.push(b.populateOperationalLayers(k.tables,f,d));return v.eachAlways(e).then(function(){})})};d.prototype._computeInitialViewpoint=function(){var g;return a.__awaiter(this,void 0,void 0,function(){var b,c,d;return a.__generator(this,function(a){switch(a.label){case 0:return b=this.initialViewProperties,(c=null===(g=null===b||void 0===b?void 0:b.viewpoint)||void 0===g?void 0:g.targetGeometry)?[2]:[4,this._getExtentFromItem()];case 1:if(d=a.sent())b=b?b.clone():new B,b.viewpoint=
new f,b.viewpoint.targetGeometry=d,this.initialViewProperties=b;return[2]}})})};d.prototype._getExtentFromItem=function(){var g,b;return a.__awaiter(this,void 0,void 0,function(){var c,k,d;return a.__generator(this,function(a){switch(a.label){case 0:return c=null===(g=this.initialViewProperties)||void 0===g?void 0:g.spatialReference,k=null===(b=this.portalItem)||void 0===b?void 0:b.extent,c&&k?c.isWGS84?[2,k.clone()]:c.isWebMercator?[2,H.geographicToWebMercator(k)]:[4,new Promise(function(a,g){p(["./portal/support/geometryServiceUtils"],
a,g)})]:[3,2];case 1:return d=a.sent(),[2,d.create(this.portalItem).then(function(a){var g=new J;g.geometries=[k];g.outSpatialReference=c;return a.project(g)}).then(function(a){return a[0]}).catch(function(a){E.error("Error projecting item's extent:",a);return null})];case 2:return[2,null]}})})};d.prototype._removeDanglingLayerRefs=function(){var a=this,b=function(g){return!!a.allLayers.find(function(a){return a.id===g})},c=this.applicationProperties,d=c&&c.viewing&&c.viewing.search;d&&d.layers&&
(d.layers=d.layers.filter(function(a){return b(a.id)}));(d=c&&c.editing&&c.editing.locationTracking)&&d.info&&!b(d.info.layerId)&&(c.editing=null);(c=this.presentation&&this.presentation.slides)&&c.forEach(function(a){a.visibleLayers&&(a.visibleLayers=a.visibleLayers.filter(function(a){return b(a.id)}))})};d.prototype._validateMap=function(){if(!this.basemap||!this.basemap.baseLayers.length)throw new e("webmap:save","Map does not have a valid basemap with a base layer.");};d.prototype._validateItem=
function(){if(!this.portalItem)throw E.error("save: requires the portalItem property to be set"),new e("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)};d.prototype._validateItemType=function(a){if("Web Map"!==a.type)throw new e("webmap:portal-item-wrong-type",'Portal item needs to have type "Web Map"');};d.prototype._loadLayerContainers=function(){var a=[];this.basemap&&a.push(this.basemap.load());this.ground&&a.push(this.ground.load());
return v.eachAlways(a).then(function(){})};d.prototype._loadAllLayers=function(){var a=this._getAllLayersAndTables().map(function(a){return a.load()});return v.eachAlways(a).then(function(){})};d.prototype._getAllLayersAndTables=function(){return this.allLayers.concat(this.allTables)};d.prototype._validateJSONForWriting=function(a,b){a=a.messages.filter(function(a){return"error"===a.type}).map(function(a){return new e(a.name,a.message,a.details)});b.ignoreUnsupported&&(a=a.filter(function(a){return"layer:unsupported"!==
a.name&&"symbol:unsupported"!==a.name&&"symbol-layer:unsupported"!==a.name&&"property:unsupported"!==a.name&&"url:unsupported"!==a.name}));if(0<a.length)throw new e("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a});};d.prototype._updateItemProperties=function(g){return a.__awaiter(this,void 0,void 0,function(){var b;return a.__generator(this,function(a){switch(a.label){case 0:return b=g,[4,this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry)];
case 1:return b.extent=a.sent(),[4,this._updateTypeKeywords(g)];case 2:return a.sent(),[2]}})})};d.prototype._updateItemPropertiesForSaveAs=function(g){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return r.removeTypeKeyword(g,"CollectorDisabled"),r.removeTypeKeyword(g,"OfflineDisabled"),r.removeTypeKeyword(g,"Workforce Project"),r.removeTypeKeyword(g,"Workforce Worker"),r.removeTypeKeyword(g,"Workforce Dispatcher"),r.removeTypeKeyword(g,
"Offline Map Areas"),r.removeTypeKeyword(g,"FieldMapsDisabled"),[4,this._updateItemProperties(g)];case 1:return a.sent(),[2]}})})};d.prototype._getWGS84Extent=function(g){return a.__awaiter(this,void 0,void 0,function(){var b,c,d,e,f;return a.__generator(this,function(a){b=g.clone().normalize();if(1<b.length)for(d=0,e=b;d<e.length;d++)f=e[d],c?f.width>c.width&&(c=f):c=f;else c=b[0];return[2,this._projectToWGS84(c)]})})};d.prototype._projectToWGS84=function(g){return a.__awaiter(this,void 0,void 0,
function(){var b,c,d,e,f;return a.__generator(this,function(a){switch(a.label){case 0:return b=g.spatialReference,b.isWGS84?[2,g.clone()]:b.isWebMercator?[2,H.webMercatorToGeographic(g)]:[4,new Promise(function(a,g){p(["./portal/support/geometryServiceUtils"],a,g)})];case 1:return c=a.sent(),[4,c.create(this.portalItem)];case 2:return d=a.sent(),e=new J,e.geometries=[g],e.outSpatialReference=G.WGS84,[4,d.project(e)];case 3:return f=a.sent(),[2,f[0]]}})})};d.prototype._updateTypeKeywords=function(g){return a.__awaiter(this,
void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return r.addTypeKeyword(g,"ArcGIS API for JavaScript"),[4,this._loadAllLayers()];case 1:return a.sent(),this._evalCollectorKeyword(g),this._evalDataEditingKeyword(g),this._evalOfflineKeyword(g),g.typeKeywords&&(g.typeKeywords=g.typeKeywords.filter(function(a,g,b){return b.indexOf(a)===g})),[2]}})})};d.prototype._evalCollectorKeyword=function(a){r.hasTypeKeyword(a,"CollectorDisabled")||r.hasTypeKeyword(a,"Workforce Project")||
r.hasTypeKeyword(a,"Workforce Worker")||r.hasTypeKeyword(a,"Workforce Dispatcher")||!this._hasEditableFeatureLayer()?r.removeTypeKeyword(a,"Collector"):r.addTypeKeyword(a,"Collector")};d.prototype._evalDataEditingKeyword=function(a){this._hasEditableFeatureLayer()?r.addTypeKeyword(a,"Data Editing"):r.removeTypeKeyword(a,"Data Editing")};d.prototype._evalOfflineKeyword=function(a){!r.hasTypeKeyword(a,"OfflineDisabled")&&this._isOfflineCapableMap()?r.addTypeKeyword(a,"Offline"):r.removeTypeKeyword(a,
"Offline")};d.prototype._hasEditableFeatureLayer=function(){var a=this;return this._getAllLayersAndTables().some(function(b){return b.loaded&&a._isFeatureServiceLayer(b)&&b.capabilities.operations.supportsEditing&&b.editingEnabled})};d.prototype._isFeatureServiceLayer=function(a){return!("feature"!==a.type||!a.source||"feature-layer"!==a.source.type)};d.prototype._isOfflineCapableMap=function(){var a=this;return this._getAllLayersAndTables().filter(function(a){return"group"!==a.type}).every(function(b){return b.loaded&&
a._isOfflineCapableLayer(b)})};d.prototype._isOfflineCapableLayer=function(a){return this._isFeatureServiceLayer(a)&&a.capabilities.operations.supportsSync||("tile"===a.type||"vector-tile"===a.type)&&(a.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(a))&&a.spatialReference.equals(this.initialViewProperties.spatialReference)};d.prototype._isExportableAGOLTileLayer=function(a){return"tile"===a.type?Q.isServerOrServicesAGOLUrl(a.url)&&W.some(function(b){return-1<a.url.toLowerCase().indexOf("/"+
b+"/")}):!1};d.prototype._updateItem=function(b,c,d){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return[4,b.update({data:c})];case 1:return a.sent(),this._syncUpInstanceWithItem(b,c,d),[2]}})})};d.prototype._createItem=function(b,c,d,f){return a.__awaiter(this,void 0,void 0,function(){var g,k,h;return a.__generator(this,function(a){switch(a.label){case 0:return g=this.portalItem,k=!!(g&&g.id&&g.portal.user),h=b.portal,[4,h._signIn()];
case 1:return a.sent(),[4,this._canCopyItem(g,k,h)];case 2:if(!a.sent())throw new e("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");return[4,h.user.addItem({item:b,folder:f.folder,data:c})];case 3:return a.sent(),this.portalItem=b,this._syncUpInstanceWithItem(b,c,d),[2]}})})};d.prototype._canCopyItem=function(b,c,d){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return y.isSome(b)&&b.id&&b.typeKeywords&&
-1<b.typeKeywords.indexOf("useOnly")?b.portal.portalHostname!==d.portalHostname?[2,!1]:c?[3,2]:[4,b.reload()]:[3,3];case 1:a.sent(),a.label=2;case 2:return[2,"admin"===b.itemControl||"update"===b.itemControl];case 3:return[2,!0]}})})};d.prototype._syncUpInstanceWithItem=function(a,b,c){u.MultiOriginJSONSupport.prototype.read.call(this,{version:b.version,authoringApp:b.authoringApp,authoringAppVersion:b.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:a.itemUrl&&w.urlToObject(a.itemUrl)});
O.updateOrigins(c);this.resourceInfo=b};d.prototype._updateItemThumbnail=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return this.thumbnailUrl&&this._isOverridden("thumbnailUrl")?[4,this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename})]:[3,2];case 1:a.sent(),this._clearThumbnailOverride(),a.label=2;case 2:return[2]}})})};d.prototype._getPortalItem=function(a){a=I.from(a);a.id&&(a=
a.clone(),a.id=null);a.type||(a.type="Web Map");a.portal||(a.portal=A.getDefault());this._validateItemType(a);return a};d.prototype._updateFromInternal=function(b,c){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return c=c||{},[4,N.whenTrueOnce(b,"ready")];case 1:return a.sent(),this._updateInitialViewProperties(b,c),[4,this._updateThumbnailUrl(b,c)];case 2:return a.sent(),[2]}})})};d.prototype._updateInitialViewProperties=function(a,
b){var c;b.backgroundExcluded||(this.initialViewProperties.background=null===(c=a.background)||void 0===c?void 0:c.clone());this.initialViewProperties.spatialReference=a.spatialReference.clone();b.viewpointExcluded||(this.initialViewProperties.viewpoint=new f({rotation:a.rotation,scale:b.scalePreserved?a.scale:null,targetGeometry:this._getViewExtent(a)}))};d.prototype._getViewExtent=function(a){var b=a.center.clone().normalize();a=a.extent.clone();var c=a.width/2;a.xmin=b.x-c;a.xmax=b.x+c;return a};
d.prototype._updateThumbnailUrl=function(b,c){return a.__awaiter(this,void 0,void 0,function(){var d,g;return a.__generator(this,function(a){switch(a.label){case 0:if(c.thumbnailExcluded)return[2];d=S.getOptimalThumbnailSize(b,c.thumbnailSize);return[4,b.takeScreenshot({format:"png",width:d.width,height:d.height})];case 1:return g=a.sent(),this._setAutoGeneratedThumbnail(g.dataUrl),[2]}})})};d.prototype._setAutoGeneratedThumbnail=function(a){this.thumbnailUrl=a;this._thumbnailFilename=null};d.prototype._clearThumbnailOverride=
function(){this._clearOverride("thumbnailUrl");this.clear("thumbnailUrl","user");this._thumbnailFilename=null};d.prototype._generateCustomThumbnailFilename=function(a){if(w.isDataProtocol(a)){a=(a=(a=w.dataComponents(a))&&a.mediaType)&&x.get(a.toLowerCase())||null;var b="thumbnail"+Date.now();return a?b+"."+a:b}return null};d.prototype._getThumbnailState=function(){var a=this.thumbnailUrl;a&&(a=this._isOverridden("thumbnailUrl")?a:w.addQueryParameter(a,"w","8192"));return{thumbnailUrl:a,filename:this._thumbnailFilename}};
d.prototype._restoreThumbnailFromState=function(a){this.thumbnailUrl=a.thumbnailUrl;this._thumbnailFilename=a.filename};d.prototype._getAuthoringPropsState=function(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}};d.prototype._restoreAuthoringPropsFromState=function(a){a.isAuthoringAppSetByUser?this.authoringApp=a.authoringApp:this._isAuthoringAppSetByUser=
!1;a.isAuthoringAppVersionSetByUser?this.authoringAppVersion=a.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1};d.fromJSON=function(a){if(!a)throw new e("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:a})};d.VERSION=D;a.__decorate([q.property({type:U,json:{write:!0}})],d.prototype,"applicationProperties",void 0);a.__decorate([q.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],d.prototype,"authoringApp",null);a.__decorate([q.writer("authoringApp")],
d.prototype,"writeAuthoringApp",null);a.__decorate([q.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],d.prototype,"authoringAppVersion",null);a.__decorate([q.writer("authoringAppVersion")],d.prototype,"writeAuthoringAppVersion",null);a.__decorate([q.property({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],d.prototype,"basemap",void 0);a.__decorate([q.property({type:M,json:{write:{overridePolicy:function(a){return{enabled:!!(a&&0<a.length),ignoreOrigin:!0}}}}})],d.prototype,
"bookmarks",void 0);a.__decorate([q.property({type:B,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:L},"initialState.viewpoint":{type:f},mapRangeInfo:{type:K},spatialReference:{type:G}}}}})],d.prototype,"initialViewProperties",void 0);a.__decorate([q.reader("initialViewProperties")],d.prototype,"readInitialViewProperties",null);a.__decorate([q.writer("initialViewProperties")],d.prototype,
"writeInitialViewProperties",null);a.__decorate([q.property({json:{write:{target:"operationalLayers",ignoreOrigin:!0}}})],d.prototype,"layers",void 0);a.__decorate([q.writer("layers")],d.prototype,"writeLayers",null);a.__decorate([q.property({type:I})],d.prototype,"portalItem",void 0);a.__decorate([q.property({json:{write:!0}})],d.prototype,"presentation",void 0);a.__decorate([q.property()],d.prototype,"resourceInfo",void 0);a.__decorate([q.property({readOnly:!0,type:C.default,json:{read:{source:"version"},
write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],d.prototype,"sourceVersion",void 0);a.__decorate([q.reader("sourceVersion")],d.prototype,"readSourceVersion",null);a.__decorate([q.writer("sourceVersion")],d.prototype,"writeSourceVersion",null);a.__decorate([q.property({json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"tables",void 0);a.__decorate([q.writer("tables")],d.prototype,"writeTables",null);a.__decorate([q.property({dependsOn:["portalItem.thumbnailUrl"]})],d.prototype,
"thumbnailUrl",null);a.__decorate([q.property({type:R,json:{write:!0}})],d.prototype,"widgets",void 0);return d=a.__decorate([q.subclass("esri.WebMap")],d)}(u.MultiOriginJSONMixin(t.LoadableMixin(z.EsriPromiseMixin(b))))});