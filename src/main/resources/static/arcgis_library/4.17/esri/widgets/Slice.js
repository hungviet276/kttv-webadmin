// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../core/promiseUtils ../core/accessorSupport/decorators ./Widget ./Slice/SliceViewModel ./support/widget".split(" "),function(u,v,b,r,d,t,n,a){return function(q){function c(a,b){a=q.call(this,a,b)||this;a.label=void 0;a.messages=null;a.view=null;a.viewModel=new n;return a}b.__extends(c,q);c.prototype.render=function(){var c=this,d=this.viewModel.isSupported,h=this.viewModel.active,g="disabled"===this.viewModel.state,k="ready"===this.viewModel.state,l="slicing"===this.viewModel.state||
"sliced"===this.viewModel.state,f="exclude"===this.viewModel.layersMode,m=["esri-button esri-button--secondary",g&&"esri-button--disabled"],e=this.messages,g=h&&!l||f?null:a.tsx("button",{disabled:g,class:this.classes.apply(this,b.__spreadArrays(["esri-slice__clear-button"],m)),bind:this,onclick:this._onNewSliceClick,key:"esri-slice__clear",type:"button"},e.newSlice),n=l&&!f?a.tsx("button",{class:this.classes.apply(this,b.__spreadArrays(["esri-slice__exclude-button"],m)),bind:this,onclick:function(){c.viewModel.enterExcludeLayerMode()},
key:"esri-slice__exclude",type:"button"},e.excludeLayer):null,m=h&&f?a.tsx("button",{class:this.classes.apply(this,b.__spreadArrays(["esri-slice__cancel-button"],m)),bind:this,onclick:function(){c.viewModel.exitExcludeLayerMode()},key:"esri-slice__cancel-exclude",type:"button"},e.cancel):null,p=null;h&&(f?p=e.excludeHint:k&&(p=e.hint));h=p?a.tsx("div",{class:"esri-slice__hint",key:"esri-slice__hint"},a.tsx("p",{class:"esri-slice__hint-text"},p)):null;k=this.excludedLayers?this.excludedLayers.toArray().map(function(b){return a.tsx("li",
{class:"esri-slice__layer-item",key:b.uid},a.tsx("a",{href:"",onclick:function(){c.excludedLayers.remove(b);return!1},class:"esri-icon-close esri-slice__cross",title:e.includeLayer}),b.title)}):[];this.excludeGroundSurface&&k.push(a.tsx("li",{class:"esri-slice__layer-item",key:"ground"},a.tsx("a",{href:"",onclick:function(){return c.excludeGroundSurface=!1},class:"esri-icon-close esri-slice__cross",title:e.includeLayer}),e.ground));l=!f&&l&&0<k.length?a.tsx("div",{class:"esri-slice__settings",key:"esri-slice__settings"},
a.tsx("h3",{class:"esri-slice__settings-title esri-widget__heading"},e.excludedLayers),a.tsx("ul",null,k)):null;f=a.tsx("div",{class:"esri-slice__panel--error",key:"esri-slice__unsupported"},a.tsx("p",null,e.unsupported));g=a.tsx("div",{class:"esri-slice__actions"},n,m,g);d=this.visible?a.tsx("div",{class:"esri-slice__container"},d?[h,l,g]:f):null;return a.tsx("div",{class:"esri-slice esri-widget esri-widget--panel",role:"presentation"},d)};c.prototype._onNewSliceClick=function(){r.ignoreAbortErrors(this.viewModel.removeSliceAndStart())};
b.__decorate([d.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],c.prototype,"label",void 0);b.__decorate([d.property(),a.renderable(),a.messageBundle("esri/widgets/Slice/t9n/Slice")],c.prototype,"messages",void 0);b.__decorate([d.aliasOf("viewModel.view")],c.prototype,"view",void 0);b.__decorate([d.aliasOf("viewModel.visible"),a.renderable()],c.prototype,"visible",void 0);b.__decorate([d.aliasOf("viewModel.active"),a.renderable()],c.prototype,"active",void 0);b.__decorate([d.property({type:n})],
c.prototype,"viewModel",void 0);b.__decorate([d.aliasOf("viewModel.excludedLayers"),a.renderable()],c.prototype,"excludedLayers",void 0);b.__decorate([d.aliasOf("viewModel.excludeGroundSurface"),a.renderable()],c.prototype,"excludeGroundSurface",void 0);return c=b.__decorate([d.subclass("esri.widgets.Slice")],c)}(t)});