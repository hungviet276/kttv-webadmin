// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../layers/support/RangeDomain","../FieldConfig","../FieldGroupConfig"],function(q,k,m,n,p){function l(h,e,f,g){void 0===g&&(g=!0);return h.map(function(a){if("field"===a.type){var c=a.domain,b=a.input;a=new n({description:a.description,domain:c,editable:a.editable,hint:a.hint,label:a.label,name:a.fieldName,requiredExpression:e[a.requiredExpression]||null,visibilityExpression:e[a.visibilityExpression]||null});if(b)if("text-area"===b.type||"text-box"===b.type)a.editorType=
b.type,a.minLength=b.minLength,a.maxLength=b.maxLength;else if("datetime-picker"===b.type){a.editorType=b.type;a.includeTime=b.includeTime;var d=b.max,b=b.min;if(d||b)d="range"===(null===c||void 0===c?void 0:c.type)?Math.min(null===d||void 0===d?void 0:d.getTime(),c.maxValue):null===d||void 0===d?void 0:d.getTime(),c="range"===(null===c||void 0===c?void 0:c.type)?Math.max(null===b||void 0===b?void 0:b.getTime(),c.minValue):null===b||void 0===b?void 0:b.getTime(),a.domain=new m({maxValue:d,minValue:c,
name:"__internal-range-domain-based-on-datetime-picker-input__"})}else f.push({type:"unsupported-input-type",details:b});return a}if("group"===a.type){if(!g)return f.push({type:"nested-group",details:a}),null;c=e[a.visibilityExpression]||null;return new p({description:a.description,state:a.initialState,fieldConfig:l(a.elements,e,f,!1),label:a.label,visibilityExpression:c})}f.push({type:"unsupported-element-type",details:a});return null}).filter(function(a){return!!a})}Object.defineProperty(k,"__esModule",
{value:!0});k.fieldConfigsFromFormTemplate=void 0;k.fieldConfigsFromFormTemplate=function(h){var e,f={},g=[];null===(e=h.expressionInfos)||void 0===e?void 0:e.map(function(a){return f[a.name]=a.expression});return{config:l(h.elements,f,g),encounteredUnsupportedTypes:g}}});