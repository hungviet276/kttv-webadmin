// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ../Slider/SliderViewModel ./support/utils".split(" "),function(m,n,d,g,f,k,l){return function(h){function b(c){var a=h.call(this,c)||this;a._max=null;a._min=null;a.hasTimeData=!1;a.inputFormatFunction=function(c,b){return"max"===b?a.getUnzoomedMax().toString():"min"===b?a.getUnzoomedMin().toString():c.toString()};a.inputParseFunction=null;a.labelFormatFunction=function(c){return a.hasTimeData?l.formatDateLabel(c):
a.defaultLabelFormatFunction(c)};a.zoomingEnabled=!0;return a}d.__extends(b,h);Object.defineProperty(b.prototype,"labels",{get:function(){var c=this,a=this.values,a=a&&a.length?a.map(function(a,b){return c.getLabelForValue(a,"value",b)}):[],b=this.getUnzoomedMax(),e=this.getUnzoomedMin();return{max:this.getLabelForValue(b,"max"),min:this.getLabelForValue(e,"min"),values:a}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"max",{set:function(c){var a=this.zoomOptions;if(a&&g.isSome(a.max)){var b=
this.values,e=a.max;c<e&&(e=c,a.max=c);if(b&&b.length)for(a=0;a<b.length;a++)c<b[a]&&this.setValue(a,c);this._storeZoomMax(e,c)}else this.setMax(c);this.notifyChange("labels")},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"min",{set:function(c){var a=this.zoomOptions;if(a&&g.isSome(a.min)){var b=this.values,e=a.min;c>e&&(e=c,a.min=c);if(b&&b.length)for(a=0;a<b.length;a++)c>b[a]&&this.setValue(a,c);this._storeZoomMin(e,c)}else this.setMin(c);this.notifyChange("labels")},enumerable:!1,
configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){var c=this.min,a=this.values;return g.isSome(this.max)&&g.isSome(c)&&0<a.length?"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"zoomOptions",{set:function(c){if(this.zoomingEnabled){if(this.zoomOptions){var a=g.isSome(this._max)?this._max:this.max,b=g.isSome(this._min)?this._min:this.min;if(c){var e=c.min,d=g.isSome(c.max),e=g.isSome(e),f=d?c.max:a,a=d?a:null;this._storeZoomMin(e?c.min:
b,e?b:null);this._storeZoomMax(f,a)}else this.setMax(a),this.setMin(b),this._max=this._min=null}else c&&(b=c.max,g.isSome(c.min)&&this._storeZoomMin(c.min,this.min),g.isSome(b)&&this._storeZoomMax(c.max,this.max));this._set("zoomOptions",c);this.notifyChange("max");this.notifyChange("min")}},enumerable:!1,configurable:!0});b.prototype.getUnzoomedMax=function(){return this.zoomOptions&&g.isSome(this._max)?this._max:this.max};b.prototype.getUnzoomedMin=function(){return this.zoomOptions&&g.isSome(this._min)?
this._min:this.min};b.prototype._storeZoomMax=function(b,a){this._max=a;this.setMax(b)};b.prototype._storeZoomMin=function(b,a){this._min=a;this.setMin(b)};d.__decorate([f.property()],b.prototype,"hasTimeData",void 0);d.__decorate([f.property()],b.prototype,"inputFormatFunction",void 0);d.__decorate([f.property()],b.prototype,"inputParseFunction",void 0);d.__decorate([f.property()],b.prototype,"labelFormatFunction",void 0);d.__decorate([f.property({dependsOn:["labelFormatFunction","max","min","values"],
readOnly:!0})],b.prototype,"labels",null);d.__decorate([f.property()],b.prototype,"max",null);d.__decorate([f.property()],b.prototype,"min",null);d.__decorate([f.property({dependsOn:["max","min","values"],readOnly:!0})],b.prototype,"state",null);d.__decorate([f.property()],b.prototype,"zoomingEnabled",void 0);d.__decorate([f.property()],b.prototype,"zoomOptions",null);return b=d.__decorate([f.subclass("esri.widgets.smartMapping.SmartMappingSliderViewModel")],b)}(k)});