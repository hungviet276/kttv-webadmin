// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../../../core/Accessor ../../../../core/Collection ../../../../core/promiseUtils ../../../../core/accessorSupport/decorators".split(" "),function(m,n,c,h,k,l,d){return function(g){function b(){var a=null!==g&&g.apply(this,arguments)||this;a.itemCache=new k;a.state="ready";return a}c.__extends(b,g);b.prototype.destroy=function(){this.itemCache.destroy();this._set("itemCache",null)};Object.defineProperty(b.prototype,"count",{get:function(){var a;return(null===(a=this.itemCache)||
void 0===a?void 0:a.length)||0},enumerable:!1,configurable:!0});b.prototype.addItems=function(a){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(c){this.itemCache.addMany(null===a||void 0===a?void 0:a.items);return[2]})})};b.prototype.fetchItems=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,e,f;return c.__generator(this,function(c){b=a.page;e=a.pageSize;f=b*e;return[2,this.itemCache.items.slice(f,f+e)]})})};b.prototype.getLocalItemAt=function(a){return this.itemCache.getItemAt(a)};
b.prototype.getItemAt=function(a){return l.resolve(this.itemCache.getItemAt(a))};b.prototype.load=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(a){return[2]})})};b.prototype.query=function(a){return this.fetchItems(a)};b.prototype.removeItemAt=function(a){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(b){this.itemCache.removeAt(a);return[2]})})};b.prototype.reset=function(){return c.__awaiter(this,void 0,void 0,
function(){return c.__generator(this,function(a){this.itemCache.removeAll();return[2]})})};b.prototype.updateItem=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,e,f,d;return c.__generator(this,function(c){b=a.index;e=a.name;f=a.value;(d=this.itemCache.getItemAt(b))&&e&&d[e]&&(d[e]=f);return[2]})})};c.__decorate([d.property({readOnly:!0,dependsOn:["itemCache.length"]})],b.prototype,"count",null);c.__decorate([d.property()],b.prototype,"itemCache",void 0);c.__decorate([d.property({readOnly:!0})],
b.prototype,"state",void 0);return b=c.__decorate([d.subclass("esri.widgets.FeatureTable.Grid.support.LocalStore")],b)}(h)});