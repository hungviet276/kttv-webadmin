// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../core/Accessor ../../core/Error ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators".split(" "),function(q,r,d,l,m,n,g,f){var p=n.getLogger("esri.widgets.Slider.SliderViewModel");return function(k){function b(a){a=k.call(this,a)||this;a.precision=4;a.thumbsConstrained=!0;return a}d.__extends(b,k);Object.defineProperty(b.prototype,"labelFormatFunction",{set:function(a){this._set("labelFormatFunction",a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"inputFormatFunction",{set:function(a){this._set("inputFormatFunction",a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"inputParseFunction",{set:function(a){this._set("inputParseFunction",a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"labels",{get:function(){var a=this,h=this.max,b=this.min,e=this.values,e=e&&e.length?e.map(function(b,h){return a.getLabelForValue(b,"value",h)}):[];return{max:this.getLabelForValue(h,"max"),min:this.getLabelForValue(b,"min"),
values:e}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"max",{set:function(a){this.setMax(a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"min",{set:function(a){this.setMin(a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){var a=this.min;return g.isSome(this.max)&&g.isSome(a)?"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"values",{set:function(a){var b=this.max,c=this.min,
e=this.values;e&&a&&e.length===a.length&&e.every(function(b,h){return b===a[h]})||(this._set("values",null),a&&a.length&&(g.isSome(c)&&a.some(function(a){return a<c})&&(this.min=Math.min.apply(Math,a)),g.isSome(b)&&a.some(function(a){return a>b})&&(this.max=Math.max.apply(Math,a))),this._set("values",a))},enumerable:!1,configurable:!0});b.prototype.toPrecision=function(a){return parseFloat(a.toFixed(this.precision))};b.prototype.defaultLabelFormatFunction=function(a){var b=this.precision;return parseFloat(a.toFixed(10<
this.max-this.min?2:b)).toString()};b.prototype.defaultInputFormatFunction=function(a){return a.toString()};b.prototype.defaultInputParseFunction=function(a){return parseFloat(a)};b.prototype.getBoundsForValueAtIndex=function(a){var b=this.max,c=this.min,e=this.values;if(this.thumbsConstrained){var d=a-1;a+=1;return{min:g.isSome(e[d])?e[d]:c,max:g.isSome(e[a])?e[a]:b}}return{min:c,max:b}};b.prototype.getLabelForValue=function(a,b,c){return g.isSome(a)?this.labelFormatFunction?this.labelFormatFunction(a,
b,c):this.defaultLabelFormatFunction(a):null};b.prototype.setMax=function(a){var b=this.max,c=this.values;if(isNaN(a))this._logError("slider:invalid-value","Property 'max' must of type 'number'.");else if(null===a)this._set("max",null);else if(a=this.toPrecision(a),b!==a&&(this._set("max",a),c&&c.length))for(b=0;b<c.length;b++)a<c[b]&&this.setValue(b,a)};b.prototype.setMin=function(a){var b=this.min,c=this.values;if(isNaN(a))this._logError("slider:invalid-value","Property 'min' must of type 'number'.");
else if(null===a)this._set("min",null);else if(a=this.toPrecision(a),b!==a&&(this._set("min",a),c&&c.length))for(b=0;b<c.length;b++)a>c[b]&&this.setValue(b,a)};b.prototype.setValue=function(a,b){if(isNaN(b))this._logError("slider:invalid-value","Members of property 'values' must of type 'number'.");else{var c=this.values,e=c[a];b=this.toPrecision(b);e!==b&&(c=d.__spreadArrays(c),c[a]=b,this._set("values",c),this.notifyChange("labels"))}};b.prototype._logError=function(a,b,c){p.error(new m(a,b,c))};
d.__decorate([f.property()],b.prototype,"labelFormatFunction",null);d.__decorate([f.property()],b.prototype,"inputFormatFunction",null);d.__decorate([f.property()],b.prototype,"inputParseFunction",null);d.__decorate([f.property({dependsOn:["labelFormatFunction","max","min","values"],readOnly:!0})],b.prototype,"labels",null);d.__decorate([f.property()],b.prototype,"max",null);d.__decorate([f.property()],b.prototype,"min",null);d.__decorate([f.property()],b.prototype,"precision",void 0);d.__decorate([f.property({dependsOn:["max",
"min"],readOnly:!0})],b.prototype,"state",null);d.__decorate([f.property()],b.prototype,"thumbsConstrained",void 0);d.__decorate([f.property()],b.prototype,"values",null);return b=d.__decorate([f.subclass("esri.widgets.Slider.SliderViewModel")],b)}(l)});