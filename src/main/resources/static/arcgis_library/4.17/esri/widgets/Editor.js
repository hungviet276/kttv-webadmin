// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
require({cache:{"@dojo/framework/shim/Map":function(){(function(E){"object"===typeof module&&"object"===typeof module.exports?(E=E(require,exports),void 0!==E&&(module.exports=E)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),E)})(function(E,a){Object.defineProperty(a,"__esModule",{value:!0});var k=E("tslib"),D=E("./iterator"),z=E("./global"),u=E("./object"),t=E("../has/has");E("./Symbol");a.Map=z.default.Map;t.default("es6-map")||
(a.Map=(v=function(){function a(a){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(a)if(D.isArrayLike(a))for(var p=0;p<a.length;p++){var f=a[p];this.set(f[0],f[1])}else try{for(var p=k.__values(a),l=p.next();!l.done;l=p.next())f=l.value,this.set(f[0],f[1])}catch(n){A={error:n}}finally{try{l&&!l.done&&(e=p.return)&&e.call(p)}finally{if(A)throw A.error;}}var A,e}a.prototype._indexOfKey=function(a,p){for(var f=0,l=a.length;f<l;f++)if(u.is(a[f],p))return f;return-1};Object.defineProperty(a.prototype,
"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,p=this._keys.map(function(f,l){return[f,a._values[l]]});return new D.ShimIterator(p)};a.prototype.forEach=function(a,p){for(var f=this._keys,l=this._values,A=0,e=f.length;A<
e;A++)a.call(p,l[A],f[A],this)};a.prototype.get=function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new D.ShimIterator(this._keys)};a.prototype.set=function(a,p){var f=this._indexOfKey(this._keys,a),f=0>f?this._keys.length:f;this._keys[f]=a;this._values[f]=p;return this};a.prototype.values=function(){return new D.ShimIterator(this._values)};a.prototype[Symbol.iterator]=
function(){return this.entries()};return a}(),v[Symbol.species]=v,v));a.default=a.Map;var v})},"@dojo/framework/shim/object":function(){(function(E){"object"===typeof module&&"object"===typeof module.exports?(E=E(require,exports),void 0!==E&&(module.exports=E)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],E)})(function(E,a){Object.defineProperty(a,"__esModule",{value:!0});var k=E("./global"),D=E("../has/has"),z=E("./Symbol");D.default("es6-object")?
(E=k.default.Object,a.assign=E.assign,a.getOwnPropertyDescriptor=E.getOwnPropertyDescriptor,a.getOwnPropertyNames=E.getOwnPropertyNames,a.getOwnPropertySymbols=E.getOwnPropertySymbols,a.is=E.is,a.keys=E.keys):(a.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},a.assign=function(k){for(var t=[],v=1;v<arguments.length;v++)t[v-1]=arguments[v];if(null==k)throw new TypeError("Cannot convert undefined or null to object");var u=Object(k);t.forEach(function(k){k&&a.keys(k).forEach(function(a){u[a]=
k[a]})});return u},a.getOwnPropertyDescriptor=function(a,k){z.isSymbol(k);return Object.getOwnPropertyDescriptor(a,k)},a.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},a.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},a.is=function(a,k){return a===k?0!==a||1/a===1/k:a!==a&&k!==k});D.default("es2017-object")?(E=
k.default.Object,a.getOwnPropertyDescriptors=E.getOwnPropertyDescriptors,a.entries=E.entries,a.values=E.values):(a.getOwnPropertyDescriptors=function(k){return a.getOwnPropertyNames(k).reduce(function(t,v){t[v]=a.getOwnPropertyDescriptor(k,v);return t},{})},a.entries=function(k){return a.keys(k).map(function(a){return[a,k[a]]})},a.values=function(k){return a.keys(k).map(function(a){return k[a]})})})},"esri/widgets/FeatureForm":function(){define("require exports tslib ../intl ../core/domUtils ../core/accessorSupport/decorators ../intl/moment ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f){return function(a){function l(e,n){e=a.call(this,e,n)||this;e._fieldFocusNeeded=!1;e._activeDateEdit=null;e._activeInputName=null;e._moment=null;e.description=null;e.feature=null;e.fieldConfig=null;e.formTemplate=null;e.groupDisplay="all";e.label=void 0;e.layer=null;e.messages=null;e.strict=null;e.title=null;e.viewModel=new p;e._handleFormKeyDown=e._handleFormKeyDown.bind(e);e._handleInputBlur=e._handleInputBlur.bind(e);e._handleInputFocus=e._handleInputFocus.bind(e);
e._handleNumberInputMouseDown=e._handleNumberInputMouseDown.bind(e);e._handleInputKeyDown=e._handleInputKeyDown.bind(e);e._handleOptionChange=e._handleOptionChange.bind(e);e._handleGroupClick=e._handleGroupClick.bind(e);e._handleSubmit=e._handleSubmit.bind(e);e._afterScrollerCreateOrUpdate=e._afterScrollerCreateOrUpdate.bind(e);return e}k.__extends(l,a);l.prototype.loadLocale=function(){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(n){switch(n.label){case 0:return e=
this,[4,t.loadMoment()];case 1:return e._moment=n.sent(),[2]}})})};l.prototype.initialize=function(){var e=this;this.own(this.watch("feature",function(){var n=e._getFocusableInput("forward");e._activeInputName=n&&n.name;e._fieldFocusNeeded=!0}),this.on("submit",function(n){0<n.invalid.length&&(e._activeInputName=n.invalid[0],e._fieldFocusNeeded=!0,e.scheduleRender())}))};l.prototype.getValues=function(){return null};l.prototype.submit=function(){return null};l.prototype.render=function(){var e=this.viewModel.state;
return f.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===e?this.renderForm():null)};l.prototype.renderForm=function(){var e=this.title?f.tsx("h1",{class:"esri-widget__heading",key:"title"},this.title):null,n=this.description?f.tsx("h2",{class:"esri-widget__heading",key:"description"},this.description):null;return f.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},e,n,this.renderFields())};
l.prototype.renderFields=function(){var e=this;return this.viewModel.inputFields.map(function(n,a){return n&&n.inputFields?e.renderGroup(n,a):e.renderLabeledField(n)})};l.prototype.renderGroup=function(e,n){var a=this,l=e.description,p=e.label,A=e.inputFields,k=e.state,t=this.viewModel.findField(this._activeInputName),t=!(!t||t.group!==e),v=this.id+"_group_"+n,r=this.id+"_group-label_"+n,u=this.id+"_group-description_"+n,x=l?f.tsx("p",{class:this.classes("esri-feature-form__group-description","esri-feature-form__description-text"),
id:u},l):null,T="sequential"===this.groupDisplay,k=T?t:"expanded"===k;return f.tsx("fieldset",{"aria-expanded":k.toString(),"aria-labelledby":r,"aria-describedby":l?u:"",class:this.classes("esri-feature-form__group",T?"esri-feature-form__group--sequential":null,k?null:"esri-feature-form__group--collapsed",t?"esri-feature-form__group--active":null),"data-group":e,id:v,key:n,onclick:this._handleGroupClick},f.tsx("div",{class:"esri-feature-form__group-header"},f.tsx("div",{class:"esri-feature-form__group-label",
id:r},p),x),A.map(function(e){return a.renderLabeledField(e)}))};l.prototype._getFocusableInput=function(e,n){var a=this.viewModel._allInputFields,a="forward"===e?a:a.slice().reverse();if(n)if(n&&n.inputFields)e=a.indexOf(n.inputFields[0]);else{var f=void 0;this._isFieldInClosedCollapsibleGroup(n)?(n=n.group.inputFields,f="forward"===e?n[n.length-1]:n[0]):f=n;e=a.indexOf(f)+1}else e=0;for(;e<a.length;e++)if(n=a[e],n.visible&&n.editable)return n;return null};l.prototype.renderLabeledField=function(e){return f.tsx("label",
{key:e.layer.id+"-"+e.name,class:"esri-feature-form__label"},[e.label,"unsupported"!==e.type?this.renderInputField(e):this.renderUnsupportedField(e),this.renderAuxiliaryText(e)])};l.prototype.renderInputField=function(e){var n=e.domain,a=e.editable,l=e.type,p=this.viewModel.getValue(e.name),a=!a,A=this.getCommonInputProps(e);return n&&"coded-value"===n.type&&!a?this.renderSelectInputField(p,n.codedValues.map(function(e){return{value:e.code,name:e.name}}),A):"text"===l&&"text-area"===e.editorType||
"rich-text"===e.editorType?f.tsx("textarea",k.__assign({},A)):"datetime-picker"===e.editorType||"date"===l?this.renderDateInputField(p,A):f.tsx("input",k.__assign({type:"text"===l?"text":"number"},A))};l.prototype.renderDateInputField=function(e,n){var a=this._formatDate(0),l=a.date,a=a.time,p=this.id+"-"+n.key,A=p+"-date",p=p+"-time",t=n["data-field"],v=t.includeTime,r=this._formatDate(e);e=r.date;r=r.time;return f.tsx("div",{key:n.key+"-date",class:"esri-feature-form__date-input-container"},f.tsx("div",
{class:this.classes("esri-feature-form__date-input-part",v?null:"esri-feature-form__date-input-part--lone")},f.tsx("input",k.__assign({"aria-label":t.label,"aria-describedby":A,type:"text"},n,{"data-date-part":"date",class:this.classes(n.class,"esri-feature-form__input--date"),value:e})),f.tsx("div",{class:"esri-feature-form__date-format-hint",id:A},l)),v?f.tsx("div",{class:"esri-feature-form__date-input-part",key:"time-input"},f.tsx("input",k.__assign({"aria-describedby":p,"aria-label":t.label,type:"text"},
n,{"data-date-part":"time",class:this.classes(n.class,"esri-feature-form__input--time"),value:r})),f.tsx("div",{class:"esri-feature-form__date-format-hint",id:p},a)):null)};l.prototype.renderUnsupportedField=function(e){e=this.viewModel.getValue(e.name);return f.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),disabled:!0,type:"text",value:""+e})};l.prototype.renderSelectInputField=function(e,n,a){var l=!1;n=n.map(function(n){n.value===
e&&(l=!0);return f.tsx("option",{value:""+n.value,key:n.name},n.name)});null==e||""===e||l||n.unshift(f.tsx("option",{value:""+e,key:"outlier-option"},e));a["data-field"].required||n.unshift(f.tsx("option",{value:"",key:"empty-option"},this.messages.empty));return f.tsx("select",k.__assign({},a,{class:this.classes(a.class,"esri-select"),onchange:this._handleOptionChange}),n)};l.prototype.renderAuxiliaryText=function(e){if(!e.valid)return f.tsx("div",{key:"error-message"},f.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid",
"esri-icon-notice-triangle")}),f.tsx("div",{class:"esri-feature-form__field-error-message"},e.errorMessage));if(e.valid&&e.description)return f.tsx("div",{key:"description",class:"esri-feature-form__description-text"},e.description)};l.prototype.getCommonInputProps=function(e){var n=e.editable,a=e.name,f=e.required,l=e.maxLength,p=e.minLength,A=e.hint,t=e.type,v=e.valid,r=this.viewModel.getValue(a),n=!n;return k.__assign(k.__assign({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,
"aria-invalid":v?"false":"true","class":this.classes("esri-input","esri-feature-form__input",n?"esri-feature-form__input--disabled":null,v?null:"esri-feature-form__input--invalid"),key:a,minlength:-1<p?""+p:"",maxlength:-1<l?""+l:""},this._getNumberFieldConstraints(e)),{disabled:n,value:null==r?"":""+r,"data-field":e,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,onkeydown:this._handleInputKeyDown,onmousedown:"number"===t?this._handleNumberInputMouseDown:null,required:f,title:A})};l.prototype._isFieldInClosedCollapsibleGroup=
function(e){var n;return"all"===this.groupDisplay&&!(e&&e.inputFields)&&"collapsed"===(null===(n=null===e||void 0===e?void 0:e.group)||void 0===n?void 0:n.state)};l.prototype._handleNumberInputMouseDown=function(e){e=e.target;e.disabled||e.focus();this.scheduleRender()};l.prototype._getNumberFieldConstraints=function(e){return(e=v.getDomainRange(e.domain)||r.getFieldRange(e.field))&&e.max!==Number.MAX_VALUE&&e.min!==Number.MIN_VALUE?e:{min:null,max:null}};l.prototype._afterScrollerCreateOrUpdate=
function(e){var n=e["data-field"],a=this.viewModel.findField(this._activeInputName);n.editable&&this._fieldFocusNeeded&&a===n&&(this._fieldFocusNeeded=!1,e.focus())};l.prototype._handleInputFocus=function(e){this._activeInputName=e.target["data-field"].name};l.prototype._handleInputBlur=function(e){var n=e.target,a=n["data-field"],f=(e=e.relatedTarget)&&e["data-field"];this._syncDateEditsBeforeValueCommit(n);f&&"date"===a.type&&"date"===f.type&&a.field===f.field?""!==n.value&&""===e.value&&(n=e.getAttribute("data-date-part"),
e.value=this._formatDate(Date.now())[n]):(this._commitValue(n),this.scheduleRender())};l.prototype._commitValue=function(e){var n=e["data-field"];if(this._activeDateEdit){var a=this._activeDateEdit,f=a.date,a=a.time,l=this._getDateEditValue(n,"date"),n=this._getDateEditValue(n,"time"),p=""===l||""===n;f&&(f.input.value=p?"":l);a&&(a.input.value=p?"":n);this._activeDateEdit=null;if(f&&a){this._updateDateFieldValue(f.input,a.input);return}}this._updateFieldValue(e)};l.prototype._getDateEditValue=function(e,
n){var a=this._activeDateEdit[n];if(a)return""===a.value?"":(a=this._parseDate(a.value,n))?this._formatDate(a.getTime())[n]:this._formatDate(e.value)[n]};l.prototype._handleInputKeyDown=function(e){var n=e.key,a=e.altKey,f=e.ctrlKey,l=e.metaKey,p=e.shiftKey,A=e.target,t=A["data-field"];"Tab"===n?(n=p?"backward":"forward",a=A.getAttribute("data-date-part"),this._syncDateEditsBeforeValueCommit(A),"backward"===n&&"time"===a||"forward"===n&&"date"===a&&t.includeTime||(this._commitValue(A),a=this.viewModel.findField(t.name),
this._activeInputName=(n=this._getFocusableInput(n,a))&&n.name,n?(e.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())):"Enter"!==n?(t=t.field.type,A="single"===t||"double"===t,"integer"!==t&&"small-integer"!==t&&!A||a||f||l||1!==n.length||(a=Number(n),f=["-","+"],l=["e","."],f=A?k.__spreadArrays(f,l):f,isNaN(a)&&-1===f.indexOf(n)&&e.preventDefault())):this._isFieldInClosedCollapsibleGroup(t)?t.group.state="expanded":(this._updateFieldValue(e.target),this.scheduleRender())};l.prototype._syncDateEditsBeforeValueCommit=
function(e){var a;if("date"===e["data-field"].type){var f=e.getAttribute("data-date-part");this._activeDateEdit=k.__assign(k.__assign({},this._activeDateEdit),(a={},a[f]={value:e.value,input:e},a))}};l.prototype._updateFieldValue=function(e){this.viewModel.setValue(e["data-field"].name,this._parseValue(e))};l.prototype._updateDateFieldValue=function(e,a){this.viewModel.setValue(e["data-field"].name,this._parseDateTimeValue(e,a))};l.prototype._parseValue=function(e){var a=e["data-field"],f=e.value,
l=a.type;if("number"===l)return parseFloat(f);if("date"===l){if(!f)return null;l=Number(f);if(!isNaN(l))return l;e=e.getAttribute("data-date-part");l=this._parseDate(f,e);if(!l)return null;var f=this._moment,l=f(l),p=a.domain,A=f(),k=A;p&&"range"===p.type&&(p=f(p.maxValue),A.isAfter(p)||(k=p));a=this.viewModel.getValue(a.name);a=f(null!=a?a:k);"date"===e?(l.hour(a.hour()),l.minutes(a.minutes()),l.seconds(a.seconds())):(l.date(a.date()),l.month(a.month()),l.year(a.year()));return l.valueOf()}return f};
l.prototype._parseDateTimeValue=function(e,a){e=e.value;a=a.value;if(!e||!a)return null;e=this._parseDate(e,"date");a=this._parseDate(a,"time");if(!e||!a)return null;e=this._moment(e);a=this._moment(a);e.hour(a.hour());e.minutes(a.minutes());e.seconds(a.seconds());return e.valueOf()};l.prototype._handleOptionChange=function(e){this._updateFieldValue(e.target);this.scheduleRender()};l.prototype._handleGroupClick=function(e){var a,f=e.currentTarget["data-group"],l="expanded"===f.state,p="sequential"===
this.groupDisplay;if(!l||z.closest(e.target,".esri-feature-form__group-header")){this._activeInputName=null===(a=this._getFocusableInput("forward",f))||void 0===a?void 0:a.name;if(p){if(l)return;this.viewModel.inputFields.forEach(function(e){e&&e.inputFields&&e!==f&&(e.state="collapsed")})}f.state=l?"collapsed":"expanded";this._fieldFocusNeeded=!0;this.scheduleRender()}};l.prototype._handleSubmit=function(e){e.preventDefault()};l.prototype._handleFormKeyDown=function(e){"Enter"===e.key&&this.viewModel.submit()};
l.prototype._formatDate=function(e){if(null==e)return{date:"",time:""};e=this._moment(e);return{date:e.format("L"),time:e.format("LTS")}};l.prototype._parseDate=function(e,a){if(null==e||""===e)return null;e=this._moment(e,"date"===a?"L":"LTS",D.getLocale(),!1);return e.isValid()?e.toDate():null};k.__decorate([u.aliasOf("viewModel.description"),f.renderable()],l.prototype,"description",void 0);k.__decorate([u.aliasOf("viewModel.feature")],l.prototype,"feature",void 0);k.__decorate([u.aliasOf("viewModel.fieldConfig")],
l.prototype,"fieldConfig",void 0);k.__decorate([u.aliasOf("viewModel.formTemplate")],l.prototype,"formTemplate",void 0);k.__decorate([u.property(),f.renderable()],l.prototype,"groupDisplay",void 0);k.__decorate([u.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],l.prototype,"label",void 0);k.__decorate([u.aliasOf("viewModel.layer")],l.prototype,"layer",void 0);k.__decorate([u.property(),f.renderable(),f.messageBundle("esri/widgets/FeatureForm/t9n/FeatureForm")],l.prototype,"messages",
void 0);k.__decorate([u.aliasOf("viewModel.strict")],l.prototype,"strict",void 0);k.__decorate([u.aliasOf("viewModel.title"),f.renderable()],l.prototype,"title",void 0);k.__decorate([u.property(),f.renderable(["viewModel.inputFields","viewModel.state"]),f.vmEvent(["value-change","submit"])],l.prototype,"viewModel",void 0);k.__decorate([u.aliasOf("viewModel.getValues")],l.prototype,"getValues",null);k.__decorate([u.aliasOf("viewModel.submit")],l.prototype,"submit",null);return l=k.__decorate([u.subclass("esri.widgets.FeatureForm")],
l)}(x)})},"esri/intl/moment":function(){define("require exports tslib ../core/MapUtils ./locale @dojo/framework/shim/Promise".split(" "),function(E,a,k,D,z){Object.defineProperty(a,"__esModule",{value:!0});a.loadMoment=void 0;var u=D.MapFromValues([["ar",function(){return new Promise(function(a,k){E(["moment/locale/ar"],a,k)})}],["ar-dz",function(){return new Promise(function(a,k){E(["moment/locale/ar-dz"],a,k)})}],["ar-kw",function(){return new Promise(function(a,k){E(["moment/locale/ar-kw"],a,k)})}],
["ar-ly",function(){return new Promise(function(a,k){E(["moment/locale/ar-ly"],a,k)})}],["ar-ma",function(){return new Promise(function(a,k){E(["moment/locale/ar-ma"],a,k)})}],["ar-sa",function(){return new Promise(function(a,k){E(["moment/locale/ar-sa"],a,k)})}],["ar-tn",function(){return new Promise(function(a,k){E(["moment/locale/ar-tn"],a,k)})}],["bs",function(){return new Promise(function(a,k){E(["moment/locale/bs"],a,k)})}],["ca",function(){return new Promise(function(a,k){E(["moment/locale/ca"],
a,k)})}],["cs",function(){return new Promise(function(a,k){E(["moment/locale/cs"],a,k)})}],["da",function(){return new Promise(function(a,k){E(["moment/locale/da"],a,k)})}],["de",function(){return new Promise(function(a,k){E(["moment/locale/de"],a,k)})}],["de-at",function(){return new Promise(function(a,k){E(["moment/locale/de-at"],a,k)})}],["de-ch",function(){return new Promise(function(a,k){E(["moment/locale/de-ch"],a,k)})}],["el",function(){return new Promise(function(a,k){E(["moment/locale/el"],
a,k)})}],["en-au",function(){return new Promise(function(a,k){E(["moment/locale/en-au"],a,k)})}],["en-ca",function(){return new Promise(function(a,k){E(["moment/locale/en-ca"],a,k)})}],["en-gb",function(){return new Promise(function(a,k){E(["moment/locale/en-gb"],a,k)})}],["en-ie",function(){return new Promise(function(a,k){E(["moment/locale/en-ie"],a,k)})}],["en-il",function(){return new Promise(function(a,k){E(["moment/locale/en-il"],a,k)})}],["en-nz",function(){return new Promise(function(a,k){E(["moment/locale/en-nz"],
a,k)})}],["es",function(){return new Promise(function(a,k){E(["moment/locale/es"],a,k)})}],["es-do",function(){return new Promise(function(a,k){E(["moment/locale/es-do"],a,k)})}],["es-us",function(){return new Promise(function(a,k){E(["moment/locale/es-us"],a,k)})}],["et",function(){return new Promise(function(a,k){E(["moment/locale/et"],a,k)})}],["fi",function(){return new Promise(function(a,k){E(["moment/locale/fi"],a,k)})}],["fr",function(){return new Promise(function(a,k){E(["moment/locale/fr"],
a,k)})}],["fr-ca",function(){return new Promise(function(a,k){E(["moment/locale/fr-ca"],a,k)})}],["fr-ch",function(){return new Promise(function(a,k){E(["moment/locale/fr-ch"],a,k)})}],["he",function(){return new Promise(function(a,k){E(["moment/locale/he"],a,k)})}],["hr",function(){return new Promise(function(a,k){E(["moment/locale/hr"],a,k)})}],["hu",function(){return new Promise(function(a,k){E(["moment/locale/hu"],a,k)})}],["id",function(){return new Promise(function(a,k){E(["moment/locale/id"],
a,k)})}],["it",function(){return new Promise(function(a,k){E(["moment/locale/it"],a,k)})}],["it-ch",function(){return new Promise(function(a,k){E(["moment/locale/it-ch"],a,k)})}],["ja",function(){return new Promise(function(a,k){E(["moment/locale/ja"],a,k)})}],["ko",function(){return new Promise(function(a,k){E(["moment/locale/ko"],a,k)})}],["lt",function(){return new Promise(function(a,k){E(["moment/locale/lt"],a,k)})}],["lv",function(){return new Promise(function(a,k){E(["moment/locale/lv"],a,k)})}],
["nb",function(){return new Promise(function(a,k){E(["moment/locale/nb"],a,k)})}],["nl",function(){return new Promise(function(a,k){E(["moment/locale/nl"],a,k)})}],["nl-be",function(){return new Promise(function(a,k){E(["moment/locale/nl-be"],a,k)})}],["pl",function(){return new Promise(function(a,k){E(["moment/locale/pl"],a,k)})}],["pt",function(){return new Promise(function(a,k){E(["moment/locale/pt"],a,k)})}],["pt-br",function(){return new Promise(function(a,k){E(["moment/locale/pt-br"],a,k)})}],
["ro",function(){return new Promise(function(a,k){E(["moment/locale/ro"],a,k)})}],["ru",function(){return new Promise(function(a,k){E(["moment/locale/ru"],a,k)})}],["sl",function(){return new Promise(function(a,k){E(["moment/locale/sl"],a,k)})}],["sr",function(){return new Promise(function(a,k){E(["moment/locale/sr"],a,k)})}],["sr-cyrl",function(){return new Promise(function(a,k){E(["moment/locale/sr-cyrl"],a,k)})}],["sv",function(){return new Promise(function(a,k){E(["moment/locale/sv"],a,k)})}],
["th",function(){return new Promise(function(a,k){E(["moment/locale/th"],a,k)})}],["tr",function(){return new Promise(function(a,k){E(["moment/locale/tr"],a,k)})}],["uk",function(){return new Promise(function(a,k){E(["moment/locale/uk"],a,k)})}],["vi",function(){return new Promise(function(a,k){E(["moment/locale/vi"],a,k)})}],["zh-cn",function(){return new Promise(function(a,k){E(["moment/locale/zh-cn"],a,k)})}],["zh-hk",function(){return new Promise(function(a,k){E(["moment/locale/zh-hk"],a,k)})}],
["zh-tw",function(){return new Promise(function(a,k){E(["moment/locale/zh-tw"],a,k)})}]]);a.loadMoment=function(a){void 0===a&&(a=z.getLocale());return k.__awaiter(this,void 0,void 0,function(){var t,r,x;return k.__generator(this,function(k){switch(k.label){case 0:return[4,new Promise(function(a,l){E(["moment/moment"],a,l)})];case 1:return t=k.sent(),r=u.has(a),r||(x=a.split("-"),1<x.length&&u.has(x[0])&&(a=x[0],r=!0)),r?[4,u.get(a)()]:[3,3];case 2:return k.sent(),[3,4];case 3:a="en",k.label=4;case 4:return a!==
t.locale()&&t.locale(a),[2,t]}})})}})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports tslib ../../intl ../../core/arrayUtils ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/Logger ../../core/ReentrantObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../form/FormTemplate ../../support/arcadeOnDemand ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup ./support/formTemplateUtils".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G,N,P){function R(e){return!!e.fieldConfig}var L=r.getLogger("esri.widgets.FeatureForm.FeatureFormViewModel");return function(a){function r(e){e=a.call(this,e)||this;e._arcade=null;e._fieldPool=new x.ReentrantObjectPool(G);e._fieldGroupPool=new x.ReentrantObjectPool(N);e._featureClone=null;e._needsArcade=!1;e.messages=null;e.strict=!1;return e}k.__extends(r,a);r.prototype.initialize=function(){var a=this,n=function(){return k.__awaiter(a,void 0,void 0,function(){var e;
return k.__generator(this,function(a){switch(a.label){case 0:return e=this,[4,D.loadMessageBundle("esri/widgets/FeatureForm/t9n/FeatureForm")];case 1:return[2,e.messages=a.sent()]}})})};n();this.handles.add(D.onLocaleChange(n));var f=p.init(this,"fieldConfig",function(n){return k.__awaiter(a,void 0,void 0,function(){var a,l,p,B,A,G;return k.__generator(this,function(k){switch(k.label){case 0:return a=[],n&&n.forEach(function(e){a.push(e.visibilityExpression);e.fieldConfig?e.fieldConfig.forEach(function(e){a.push(e.requiredExpression,
e.visibilityExpression)}):a.push(e.requiredExpression)}),l=a.filter(function(e){return!!e}),(p=0<l.length)?[4,e.loadArcade()]:[3,4];case 1:return B=k.sent(),A=B.arcadeUtils,(G=l.some(function(e){return A.hasGeometryOperations(e)}))?[4,A.enableGeometryOperations()]:[3,3];case 2:k.sent(),f.remove(),k.label=3;case 3:this._arcade=B,this.notifyChange("inputFields"),k.label=4;case 4:return this._needsArcade=p,[2]}})})});this.handles.add(f)};r.prototype.destroy=function(){this.layer=this.feature=this.fieldConfig=
null;this._fieldPool.destroy();this._fieldGroupPool.destroy()};Object.defineProperty(r.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(e,a){return a.inputFields?k.__spreadArrays(e,a.inputFields):k.__spreadArrays(e,[a])},[])},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"_inputFieldCache",{get:function(){var e=this,a=this._get("_inputFieldCache")||new Map;a.forEach(function(a){return e._disposeInputOrGroup(a)});a.clear();(this.get("layer.fields")||
[]).forEach(function(n){return a.set(n,e._fieldPool.acquire())});return a},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"_inputFieldGroupCache",{get:function(){var e=this,a=this._get("_inputFieldGroupCache")||new Map;a.forEach(function(a){return e._disposeInputOrGroup(a)});a.clear();(this.fieldConfig||[]).filter(R).forEach(function(n){return a.set(n,e._fieldGroupPool.acquire())});return a},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"description",{get:function(){var e;
return null===(e=this.formTemplate)||void 0===e?void 0:e.description},set:function(e){void 0===e?this._clearOverride("description"):this._override("description",e)},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"feature",{get:function(){return this._get("feature")},set:function(e){this._featureClone=e?e.clone():null;this._set("feature",e)},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"fieldConfig",{get:function(){var e=this.formTemplate;if(!e)return null;var a=
P.fieldConfigsFromFormTemplate(e),e=a.config,a=a.encounteredUnsupportedTypes;0<a.length&&L.warn("form-info::unsupported-type","encountered unsupported elements/types when parsing form info",a);return e},set:function(e){e?this._override("fieldConfig",e):this._clearOverride("fieldConfig")},enumerable:!1,configurable:!0});r.prototype.castFieldConfig=function(e){return e?e.map(function(e){return e instanceof n||e instanceof B?e:e.fieldConfig?new B(e):new n(e)}):null};Object.defineProperty(r.prototype,
"formTemplate",{get:function(){var e;return null===(e=this.layer)||void 0===e?void 0:e.formTemplate},set:function(e){void 0===e?this._clearOverride("formTemplate"):this._override("formTemplate",e)},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"inputFields",{get:function(){var e=this,a=this._arcade,n=this._inputFieldCache,f=this._inputFieldGroupCache,l=this._featureClone,k=this.messages,p=this._needsArcade,B=this.layer,A=this.state,G=l&&l.clone();if("ready"!==A||p&&!a)return[];
var r=this.get("layer.fields")||[],l=this.fieldConfig||[];return(0!==l.length?l.map(function(l){if(l.fieldConfig){var p=f.get(l),A=l.fieldConfig.map(function(f){var l=z.find(r,function(e){return e.name===f.name}),A=n.get(l);A.set({arcade:a,field:l,config:f,feature:G,group:p,layer:B,messages:k,value:e.getValue(l.name)});return A}).filter(function(e){return e.visible});p.set({arcade:a,config:l,feature:G,inputFields:A});return p}var A=z.find(r,function(e){return e.name===l.name}),N=n.get(A);N.set({arcade:a,
field:A,config:l,feature:G,group:null,layer:B,messages:k,value:e.getValue(A.name)});return N}):r.map(function(f){var l=n.get(f);l.set({arcade:a,config:null,field:f,feature:G,group:null,layer:B,messages:k,value:e.getValue(f.name)});return l})).filter(function(e){return e.visible})},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(e){e?this._override("layer",e):this._clearOverride("layer")},enumerable:!1,configurable:!0});
Object.defineProperty(r.prototype,"state",{get:function(){return this.messages&&this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"title",{get:function(){var e;return null===(e=this.formTemplate)||void 0===e?void 0:e.title},set:function(e){void 0===e?this._clearOverride("title"):this._override("title",e)},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"valid",{get:function(){var e=this._allInputFields;return 0<
e.length&&e.every(function(e){return e.valid})},enumerable:!1,configurable:!0});r.prototype.findField=function(e){return z.find(this._allInputFields,function(a){return a.name===e})};r.prototype.getValue=function(e){var a=this._featureClone;return a&&a.get("attributes."+e)};r.prototype.setValue=function(e,a){var n=this,f=this._featureClone,l=this.strict;if(f&&f.attributes){var k=this.findField(e);a=""===a?null:a;if(k&&f.attributes[e]!==a){k.value=a;if(this.get("layer.typeIdField")===k.name){var p=
new Set;this.layer.types.forEach(function(e){return Object.keys(e.domains).forEach(function(e){return p.add(e)})});p.forEach(function(e){(e=n.findField(e))&&e.notifyChange("domain")})}if(!l||k.valid)f.attributes[e]=a,this.notifyChange("inputFields"),this._emitChangeEvent(k)}}};r.prototype.getValues=function(){var e=this._featureClone;return e&&v.clone(e.attributes)||null};r.prototype.submit=function(){var e=this._allInputFields,a=e.filter(function(e){return e.valid}).map(function(e){return e.name}),
e=e.filter(function(e){return!e.valid}).map(function(e){return e.name}),n=this.getValues();this.emit("submit",{valid:a,invalid:e,values:n})};r.prototype._disposeInputOrGroup=function(e){e.inputFields?this._disposeGroup(e):this._disposeInput(e)};r.prototype._disposeGroup=function(e){var a=this;e.inputFields.forEach(function(e){return a._disposeInput(e)});this._fieldGroupPool.release(e)};r.prototype._disposeInput=function(e){this._fieldPool.release(e)};r.prototype._emitChangeEvent=function(e){this.emit("value-change",
{layer:this.layer,feature:this.feature,fieldName:e.name,value:e.value,valid:e.valid})};k.__decorate([f.property({readOnly:!0,dependsOn:["inputFields"]})],r.prototype,"_allInputFields",null);k.__decorate([f.property({dependsOn:["layer.fields"],readOnly:!0})],r.prototype,"_inputFieldCache",null);k.__decorate([f.property({dependsOn:["fieldConfig"],readOnly:!0})],r.prototype,"_inputFieldGroupCache",null);k.__decorate([f.property({dependsOn:["formTemplate"]})],r.prototype,"description",null);k.__decorate([f.property()],
r.prototype,"feature",null);k.__decorate([f.property({dependsOn:["formTemplate"]})],r.prototype,"fieldConfig",null);k.__decorate([l.cast("fieldConfig")],r.prototype,"castFieldConfig",null);k.__decorate([f.property({dependsOn:["layer?.formTemplate"],type:A})],r.prototype,"formTemplate",null);k.__decorate([f.property({readOnly:!0,dependsOn:["messages","feature","fieldConfig","layer.fields","layer.loaded"]})],r.prototype,"inputFields",null);k.__decorate([f.property({dependsOn:["feature.layer"]})],r.prototype,
"layer",null);k.__decorate([f.property()],r.prototype,"messages",void 0);k.__decorate([f.property({dependsOn:["messages","layer.loaded","feature"]})],r.prototype,"state",null);k.__decorate([f.property()],r.prototype,"strict",void 0);k.__decorate([f.property({dependsOn:["formTemplate"]})],r.prototype,"title",null);k.__decorate([f.property({dependsOn:["_allInputFields"]})],r.prototype,"valid",null);k.__decorate([f.property()],r.prototype,"getValues",null);k.__decorate([f.property()],r.prototype,"submit",
null);return r=k.__decorate([f.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],r)}(t.HandleOwnerMixin(u.EventedAccessor))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),function(E,a,k,D,z,u){return function(a){function t(k){k=a.call(this,k)||this;k.description=null;k.domain=null;k.editable=!0;k.editorType=null;k.format=null;k.hint=null;k.includeTime=!0;k.label=null;k.maxLength=
-1;k.minLength=-1;k.name=null;k.required=!1;k.requiredExpression=null;k.visibilityExpression=null;return k}k.__extends(t,a);k.__decorate([z.property()],t.prototype,"description",void 0);k.__decorate([z.property()],t.prototype,"domain",void 0);k.__decorate([z.property()],t.prototype,"editable",void 0);k.__decorate([z.property()],t.prototype,"editorType",void 0);k.__decorate([z.property({type:u})],t.prototype,"format",void 0);k.__decorate([z.property()],t.prototype,"hint",void 0);k.__decorate([z.property()],
t.prototype,"includeTime",void 0);k.__decorate([z.property()],t.prototype,"label",void 0);k.__decorate([z.property()],t.prototype,"maxLength",void 0);k.__decorate([z.property()],t.prototype,"minLength",void 0);k.__decorate([z.property()],t.prototype,"name",void 0);k.__decorate([z.property()],t.prototype,"required",void 0);k.__decorate([z.property()],t.prototype,"requiredExpression",void 0);k.__decorate([z.property()],t.prototype,"visibilityExpression",void 0);return t=k.__decorate([z.subclass("esri.widgets.FeatureForm.FieldConfig")],
t)}(D)})},"esri/widgets/FeatureForm/Format":function(){define("require exports tslib ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(E,a,k,D,z,u){return function(a){function t(k){k=a.call(this,k)||this;k.digitSeparator=!1;k.dateFormat=null;k.places=null;return k}k.__extends(t,a);k.__decorate([u.property()],t.prototype,"digitSeparator",void 0);k.__decorate([u.property({json:{read:{source:"dateFormat",reader:D.fromJSON}}})],t.prototype,"dateFormat",
void 0);k.__decorate([u.property()],t.prototype,"places",void 0);return t=k.__decorate([u.subclass("esri.widgets.FeatureForm.Format")],t)}(z.JSONSupport)})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),function(E,a,k,D,z,u,t){return function(a){function r(k){k=a.call(this,k)||this;k.description=null;k.fieldConfig=null;k.label=null;k.state=
"expanded";k.visibilityExpression=null;return k}k.__extends(r,a);r.prototype.castFieldConfig=function(a){return a?a.map(function(a){return a.declaredClass?a:new t(a)}):null};k.__decorate([z.property()],r.prototype,"description",void 0);k.__decorate([z.property()],r.prototype,"fieldConfig",void 0);k.__decorate([u.cast("fieldConfig")],r.prototype,"castFieldConfig",null);k.__decorate([z.property()],r.prototype,"label",void 0);k.__decorate([z.property()],r.prototype,"state",void 0);k.__decorate([z.property()],
r.prototype,"visibilityExpression",void 0);return r=k.__decorate([z.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],r)}(D)})},"esri/widgets/FeatureForm/InputField":function(){define("require exports tslib ../../intl ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils".split(" "),function(E,a,k,D,z,u,t,v,r){var x={type:"number"},p={type:"number",intlOptions:{notation:"scientific"}},f={type:"date",
intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}};return function(a){function l(e){e=a.call(this,e)||this;e.arcade=null;e.config=null;e.feature=null;e.field=null;e.layer=null;e.description=null;e.editorType=null;e.error=null;e.format=null;e.group=null;e.hint=null;e.messages=null;e.name=null;return e}k.__extends(l,a);Object.defineProperty(l.prototype,"compiledFunc",{get:function(){var e,a=this.arcade;return a&&a.arcadeUtils.createFunction(null===
(e=this.config)||void 0===e?void 0:e.visibilityExpression)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"compiledRequiredFunc",{get:function(){var e,a=this.arcade;return a&&a.arcadeUtils.createFunction(null===(e=this.config)||void 0===e?void 0:e.requiredExpression)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"evaluatedRequirement",{get:function(){var e=this.compiledRequiredFunc;if(!e)return null;var a=this.arcade;return a.arcadeUtils.executeFunction(e,
a.arcadeUtils.createExecContext(this.feature))},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"evaluatedVisibility",{get:function(){var e=this.compiledFunc;if(!e)return null;var a=this.arcade;return a.arcadeUtils.executeFunction(e,a.arcadeUtils.createExecContext(this.feature))},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"domain",{get:function(){var e,a,f=this.layer.typeIdField,l=f===this.name,k=null===(e=this.field)||void 0===e?void 0:e.domain;if(l&&!k)return new t({name:"__internal-type-based-coded-value-domain__",
codedValues:this.layer.types.map(function(e){return{code:e.id,name:e.name}})});e=this.feature;f=f&&this.layer.getFieldDomain(this.name,{feature:e})||k;k=null===(a=this.config)||void 0===a?void 0:a.domain;return this._isDomainCompatible(k)?k:f},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"editable",{get:function(){var e;return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==(null===(e=this.config)||void 0===e?void 0:e.editable)},enumerable:!1,configurable:!0});
Object.defineProperty(l.prototype,"errorMessage",{get:function(){return this._toErrorMessage()},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"includeTime",{get:function(){var e,a=null===(e=this.config)||void 0===e?void 0:e.includeTime;return void 0===a?!0:a},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"label",{get:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.label)||this.field.alias||this.field.name},enumerable:!1,configurable:!0});
Object.defineProperty(l.prototype,"maxLength",{get:function(){var e,a;if("date"===this.type)return-1;var f=null===(e=this.field)||void 0===e?void 0:e.length;e=null===(a=this.config)||void 0===a?void 0:a.maxLength;return!isNaN(e)&&-1<=e&&(-1===f||e<=f)?e:f},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"minLength",{get:function(){var e,a;if("date"===this.type)return-1;var f=null===(e=this.field)||void 0===e?void 0:e.length;e=null===(a=this.config)||void 0===a?void 0:a.minLength;
return!isNaN(e)&&-1<=e&&(-1===f||e<=f)?e:-1},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"required",{get:function(){var e,a;return this.editable?null!==(e=this.field)&&void 0!==e&&e.nullable?"boolean"===typeof this.evaluatedRequirement?this.evaluatedRequirement:!0===(null===(a=this.config)||void 0===a?void 0:a.required):!0:!1},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"type",{get:function(){var e=this.field;return r.isNumericField(e)?"number":r.isStringField(e)?
"text":r.isDateField(e)?"date":"unsupported"},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"valid",{get:function(){var e=this.editable?this._validate():null;this._set("error",e);return null===e},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"value",{get:function(){return this._get("value")},set:function(e){this.notifyChange("evaluatedVisibility");this._set("value",e)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"visible",{get:function(){return this._isEditorField()?
!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!1,configurable:!0});l.prototype._isDomainCompatible=function(e){var a=this.field;if("coded-value"===(null===e||void 0===e?void 0:e.type)){var f=typeof e.codedValues[0].code;if("string"===f&&r.isStringField(a)||"number"===f&&r.isNumericField(a))return!0}return"range"===(null===e||void 0===e?void 0:e.type)&&r.isNumericField(a)||r.isDateField(a)?!0:!1};l.prototype._validate=function(){var e=
this.domain,a=this.field,f=this.minLength,l=this.required,k=this.value;return"text"===this.type&&-1<f&&"string"===typeof k&&k.length<f?"length-validation-error::too-short":e?null!==k||l?v.validateDomainValue(e,k):null:l&&null===k?r.TypeValidationError.INVALID_TYPE:r.validateFieldValue(a,k)};l.prototype._shownByDefault=function(){var e,a=null===(e=this.field)||void 0===e?void 0:e.type;return"oid"!==a&&"global-id"!==a&&!this._isGeometryField()};l.prototype._isEditorField=function(){return-1<r.getFeatureEditFields(this.layer).indexOf(this.name)};
l.prototype._isGeometryField=function(){return-1<r.getFeatureGeometryFields(this.layer).indexOf(this.name)};l.prototype._toErrorMessage=function(){var e=this.domain,a=this.field,l=this.messages,k=this.minLength,A=this.value,t=this.type,u=this.error;return this.required&&null===A?l.validationErrors.cannotBeNull:u===v.DomainValidationError.VALUE_OUT_OF_RANGE||u===r.NumericRangeValidationError.OUT_OF_RANGE?(e=v.getDomainRange(e)||r.getFieldRange(a),D.substitute(l.validationErrors.outsideRange,e,{format:{max:"date"===
t?f:e.isInteger?x:p,min:"date"===t?f:e.isInteger?x:p}})):u===v.DomainValidationError.INVALID_CODED_VALUE?l.validationErrors.invalidCodedValue:u===r.TypeValidationError.INVALID_TYPE?l.validationErrors.invalidType:"length-validation-error::too-short"===u?D.substitute(l.validationErrors.tooShort,{min:k}):null};k.__decorate([u.property()],l.prototype,"arcade",void 0);k.__decorate([u.property({dependsOn:["arcade","config.visibilityExpression"]})],l.prototype,"compiledFunc",null);k.__decorate([u.property({dependsOn:["arcade",
"config.requiredExpression"]})],l.prototype,"compiledRequiredFunc",null);k.__decorate([u.property()],l.prototype,"config",void 0);k.__decorate([u.property({dependsOn:["compiledRequiredFunc","feature"]})],l.prototype,"evaluatedRequirement",null);k.__decorate([u.property({dependsOn:["compiledFunc","feature"]})],l.prototype,"evaluatedVisibility",null);k.__decorate([u.property()],l.prototype,"feature",void 0);k.__decorate([u.property()],l.prototype,"field",void 0);k.__decorate([u.property()],l.prototype,
"layer",void 0);k.__decorate([u.property({aliasOf:"config.description"})],l.prototype,"description",void 0);k.__decorate([u.property({dependsOn:["config","feature","field","layer"]})],l.prototype,"domain",null);k.__decorate([u.property({dependsOn:["config","field","layer"]})],l.prototype,"editable",null);k.__decorate([u.property({aliasOf:"config.editorType"})],l.prototype,"editorType",void 0);k.__decorate([u.property({readOnly:!0})],l.prototype,"error",void 0);k.__decorate([u.property({dependsOn:["error",
"messages","value"]})],l.prototype,"errorMessage",null);k.__decorate([u.property({aliasOf:"config.format"})],l.prototype,"format",void 0);k.__decorate([u.property()],l.prototype,"group",void 0);k.__decorate([u.property({aliasOf:"config.hint"})],l.prototype,"hint",void 0);k.__decorate([u.property({dependsOn:["config.includeTime"]})],l.prototype,"includeTime",null);k.__decorate([u.property({dependsOn:["field","config"]})],l.prototype,"label",null);k.__decorate([u.property({dependsOn:["field.length",
"config"]})],l.prototype,"maxLength",null);k.__decorate([u.property({dependsOn:["field.length","config"]})],l.prototype,"minLength",null);k.__decorate([u.property()],l.prototype,"messages",void 0);k.__decorate([u.property({aliasOf:"field.name"})],l.prototype,"name",void 0);k.__decorate([u.property({dependsOn:["config","evaluatedRequirement","field"]})],l.prototype,"required",null);k.__decorate([u.property({dependsOn:["field"]})],l.prototype,"type",null);k.__decorate([u.property({dependsOn:["config",
"domain","field","layer","value"]})],l.prototype,"valid",null);k.__decorate([u.property({value:null})],l.prototype,"value",null);k.__decorate([u.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],l.prototype,"visible",null);return l=k.__decorate([u.subclass("esri.widgets.FeatureForm.InputField")],l)}(z)})},"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports tslib ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),
function(E,a,k,D,z,u){return function(a){function t(k){k=a.call(this,k)||this;k.arcade=null;k.config=null;k.description=null;k.feature=null;k.label=null;k.state="expanded";k.visibilityExpression=null;return k}k.__extends(t,a);Object.defineProperty(t.prototype,"compiledFunc",{get:function(){var a=this.arcade;return a&&a.arcadeUtils.createFunction(this.visibilityExpression)},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"evaluatedVisibility",{get:function(){var a=this.compiledFunc;
if(a){var k=this.arcade;return k.arcadeUtils.executeFunction(a,k.arcadeUtils.createExecContext(this.feature))}},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(a){var k=this;this.handles.removeAll();a&&this.handles.add(a.map(function(a){return a.watch("visible",k._dirtyEvaluatedVisibility)}));this._set("inputFields",a)},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"visible",{get:function(){return!1!==
this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(a){return a.visible})},enumerable:!1,configurable:!0});t.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};k.__decorate([u.property()],t.prototype,"arcade",void 0);k.__decorate([u.property({dependsOn:["arcade","visibilityExpression"]})],t.prototype,"compiledFunc",null);k.__decorate([u.property()],t.prototype,"config",void 0);k.__decorate([u.property({dependsOn:["compiledFunc",
"feature"]})],t.prototype,"evaluatedVisibility",null);k.__decorate([u.property({aliasOf:"config.description"})],t.prototype,"description",void 0);k.__decorate([u.property()],t.prototype,"feature",void 0);k.__decorate([u.property()],t.prototype,"inputFields",null);k.__decorate([u.property({aliasOf:"config.label"})],t.prototype,"label",void 0);k.__decorate([u.property()],t.prototype,"state",void 0);k.__decorate([u.property({aliasOf:"config.visibilityExpression"})],t.prototype,"visibilityExpression",
void 0);k.__decorate([u.property({dependsOn:["evaluatedVisibility","inputFields"]})],t.prototype,"visible",null);return t=k.__decorate([u.subclass("esri.widgets.FeatureForm.InputFieldGroup")],t)}(z.HandleOwnerMixin(D))})},"esri/widgets/FeatureForm/support/formTemplateUtils":function(){define(["require","exports","../../../layers/support/RangeDomain","../FieldConfig","../FieldGroupConfig"],function(E,a,k,D,z){function u(a,v,r,x){void 0===x&&(x=!0);return a.map(function(a){if("field"===a.type){var f=
a.domain,l=a.input;a=new D({description:a.description,domain:f,editable:a.editable,hint:a.hint,label:a.label,name:a.fieldName,requiredExpression:v[a.requiredExpression]||null,visibilityExpression:v[a.visibilityExpression]||null});if(l)if("text-area"===l.type||"text-box"===l.type)a.editorType=l.type,a.minLength=l.minLength,a.maxLength=l.maxLength;else if("datetime-picker"===l.type){a.editorType=l.type;a.includeTime=l.includeTime;var p=l.max,l=l.min;if(p||l)p="range"===(null===f||void 0===f?void 0:
f.type)?Math.min(null===p||void 0===p?void 0:p.getTime(),f.maxValue):null===p||void 0===p?void 0:p.getTime(),f="range"===(null===f||void 0===f?void 0:f.type)?Math.max(null===l||void 0===l?void 0:l.getTime(),f.minValue):null===l||void 0===l?void 0:l.getTime(),a.domain=new k({maxValue:p,minValue:f,name:"__internal-range-domain-based-on-datetime-picker-input__"})}else r.push({type:"unsupported-input-type",details:l});return a}if("group"===a.type){if(!x)return r.push({type:"nested-group",details:a}),
null;f=v[a.visibilityExpression]||null;return new z({description:a.description,state:a.initialState,fieldConfig:u(a.elements,v,r,!1),label:a.label,visibilityExpression:f})}r.push({type:"unsupported-element-type",details:a});return null}).filter(function(a){return!!a})}Object.defineProperty(a,"__esModule",{value:!0});a.fieldConfigsFromFormTemplate=void 0;a.fieldConfigsFromFormTemplate=function(a){var k,t={},x=[];null===(k=a.expressionInfos)||void 0===k?void 0:k.map(function(a){return t[a.name]=a.expression});
return{config:u(a.elements,t,x),encounteredUnsupportedTypes:x}}})},"esri/widgets/FeatureTemplates":function(){define("require exports tslib ../core/deprecate ../core/HandleOwner ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget ../libs/intersection-observer/intersection-observer".split(" "),function(E,a,k,D,z,u,t,v,r,x,p,f){function l(e){return e.items?e.uid:e.layer.id}var A=u.getLogger("esri.widgets.FeatureTemplates"),
e={filter:!0};return function(a){function n(n,f){n=a.call(this,n,f)||this;n._iconIntersectionObserver=new IntersectionObserver(function(e,a){e.forEach(function(e){if(e.isIntersecting){var n=e.target;if(!n["data-has-icon"]){n["data-has-icon"]=!0;var f=n["data-item"];f.fetchThumbnail().then(function(){f.thumbnail&&n.appendChild(f.thumbnail)})}a.unobserve(n)}})});n.filterFunction=null;n.filterText="";n.groupBy=null;n.label=void 0;n.layers=null;n.messages=null;n.viewModel=new x;n.visibleElements=k.__assign({},
e);n.renderItemIcon=n.renderItemIcon.bind(n);n._afterItemCreateOrUpdate=n._afterItemCreateOrUpdate.bind(n);n._afterItemRemoved=n._afterItemRemoved.bind(n);return n}k.__extends(n,a);n.prototype.initialize=function(){var e=this,a=function(a){a=a.label;return!e.filterText||-1<a.toLowerCase().indexOf(e.filterText.toLowerCase())};this.own(t.init(this,"viewModel",function(n,f){n&&!n.filterFunction&&(e.filterFunction=a);f&&f!==n&&f.filterFunction===a&&(f.filterFunction=null)}))};n.prototype.destroy=function(){this._iconIntersectionObserver&&
(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};Object.defineProperty(n.prototype,"filterEnabled",{set:function(e){D.deprecatedProperty(A,"filterEnabled",{replacement:"visibleElements.filter",version:"4.15"});this.visibleElements=k.__assign(k.__assign({},this.visibleElements),{filter:e})},enumerable:!1,configurable:!0});n.prototype.castVisibleElements=function(a){return k.__assign(k.__assign({},e),a)};n.prototype.render=function(){var e=this,a=this.filterText,n=
this.messages,k=this.viewModel,B=k.items,k=k.state,A=this.visibleElements.filter;return f.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":n.widgetLabel},"loading"===k?this.renderLoader():"ready"===k?p.ItemList({id:this.id,identify:l,filterText:a,items:B,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,noMatches:n.noMatches},filterEnabled:A,onItemSelect:function(a){e.viewModel.select(a)},onFilterChange:function(a){e.filterText=a;e.viewModel.refresh()},
renderIcon:this.renderItemIcon}):null)};n.prototype.renderItemIcon=function(e){return f.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":e.item,"data-has-icon":!1})};n.prototype.renderLoader=function(){return f.tsx("div",{class:"esri-feature-templates__loader",key:"loader"})};n.prototype._afterItemCreateOrUpdate=function(e){this._iconIntersectionObserver.observe(e)};
n.prototype._afterItemRemoved=function(e){this._iconIntersectionObserver.unobserve(e)};k.__decorate([v.property(),f.renderable()],n.prototype,"filterEnabled",null);k.__decorate([v.aliasOf("viewModel.filterFunction")],n.prototype,"filterFunction",void 0);k.__decorate([v.property(),f.renderable()],n.prototype,"filterText",void 0);k.__decorate([v.aliasOf("viewModel.groupBy")],n.prototype,"groupBy",void 0);k.__decorate([v.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],n.prototype,
"label",void 0);k.__decorate([v.aliasOf("viewModel.layers")],n.prototype,"layers",void 0);k.__decorate([v.property(),f.renderable(),f.messageBundle("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],n.prototype,"messages",void 0);k.__decorate([v.property(),f.renderable(["viewModel.items","viewModel.state"]),f.vmEvent("select")],n.prototype,"viewModel",void 0);k.__decorate([v.property(),f.renderable()],n.prototype,"visibleElements",void 0);k.__decorate([v.cast("visibleElements")],n.prototype,"castVisibleElements",
null);return n=k.__decorate([v.subclass("esri.widgets.FeatureTemplates")],n)}(z.HandleOwnerMixin(r))})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports tslib ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),function(E,a,k,D,z,u,t,v,r,x){var p=function(a){a=a.layer;return{key:a,label:a.title}},f=function(a){return a.layer.geometryType};
return function(a){function l(e){e=a.call(this,e)||this;e._templateToLayer=new Map;e._itemPool=new u(r);e._groupPool=new u(x);e.filterFunction=null;e.groupBy="layer";return e}k.__extends(l,a);l.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(l.prototype,"layers",{get:function(){return this._get("layers")},set:function(e){var a=this;this.handles.removeAll();if(e){var f=function(){return a.notifyChange("state")};this.handles.add(e.map(function(e){return t.when(e,
"loadStatus",f)}))}this._set("layers",e)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"state",{get:function(){var e=this.layers;return e&&0!==e.length?e.some(function(e){return"loading"===e.loadStatus||"not-loaded"===e.loadStatus})?"loading":"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"items",{get:function(){var e=this,a=this.layers;this._destroyItems(this._get("items"));if(!a||0===a.length)return[];this._templateToLayer.clear();var a=
a.filter(function(e){var a=e.capabilities;return e.loaded&&a.operations.supportsEditing&&a.operations.supportsAdd}).map(function(a){var n=e._getTemplatesForLayer(a);if(0<n.length)return n.forEach(function(n){return e._templateToLayer.set(n,a)}),n}).filter(function(a){return null!=a}),l=this.groupBy;if("none"===l)return a.map(function(a){return a.filter(function(a){a=a.name;return!e.filterFunction||e.filterFunction({label:a})})}).map(function(a){return a.map(function(a){return e._createItem(a)})}).reduce(function(a,
e){return k.__spreadArrays(a,e)},[]);a=a.reduce(function(a,n){n.forEach(function(n){var k=("layer"===l?p:"geometry"===l?f:l)({template:n,layer:e._templateToLayer.get(n)});if(k){var B="string"===typeof k?k:k.key,k="string"===typeof k?k:k.label;a.has(B)||a.set(B,{label:k,templates:[]});a.get(B).templates.push(n)}});return a},new Map);if(0===a.size)return[];var A=[],t=this.filterFunction;a.forEach(function(a){var n=a.label,f=a.templates;!t||e.filterFunction(a)?A.push(e._createGroup(n,f.map(function(a){return e._createItem(a)}))):
(a=f.filter(function(a){return e.filterFunction({label:a.name})}).map(function(a){return e._createItem(a)}),0<a.length&&A.push(e._createGroup(n,a)))});return A},enumerable:!1,configurable:!0});l.prototype.refresh=function(){this.notifyChange("items")};l.prototype.select=function(a){a=a.clone();this.emit("select",{item:a,template:a.template})};l.prototype._getTemplatesForLayer=function(a){var e=a.templates||[];a=(a.types||[]).map(function(a){return a.templates}).reduce(function(a,e){return k.__spreadArrays(a,
e)},[]);return k.__spreadArrays(e,a)};l.prototype._createItem=function(a){var e=this._itemPool.acquire();e.set({template:a,layer:this._templateToLayer.get(a)});return e};l.prototype._createGroup=function(a,n){var e=this._groupPool.acquire();e.set("label",a);e.items=n;return e};l.prototype._destroyItems=function(a){var e=this;a&&(a[0]instanceof r?a.forEach(function(a){return e._destroyItem(a)}):a.forEach(function(a){return e._destroyGroup(a)}))};l.prototype._destroyGroup=function(a){var e=this;a.items.forEach(function(a){return e._itemPool.release(a)});
a.items.length=0;this._groupPool.release(a)};l.prototype._destroyItem=function(a){this._itemPool.release(a)};k.__decorate([v.property()],l.prototype,"filterFunction",void 0);k.__decorate([v.property()],l.prototype,"groupBy",void 0);k.__decorate([v.property()],l.prototype,"layers",null);k.__decorate([v.property({dependsOn:["layers"]})],l.prototype,"state",null);k.__decorate([v.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],l.prototype,"items",null);return l=k.__decorate([v.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],
l)}(z.HandleOwnerMixin(D.EventedAccessor))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports tslib ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils @dojo/framework/shim/Promise".split(" "),function(E,a,k,D,z,u,t,v,r,x){return function(a){function f(f){f=a.call(this,f)||this;f.description=null;f.label=null;f.layer=null;f.template=null;f.thumbnail=
null;return f}k.__extends(f,a);l=f;f.prototype.initialize=function(){var a=this;this.handles.add(v.init(this,["layer.renderer","template"],function(){return a._set("thumbnail",null)}))};f.prototype.clone=function(){var a=this.thumbnail?this.thumbnail.cloneNode(!0):null,e=new l({layer:this.layer,template:this.template});e._set("thumbnail",a);return e};f.prototype.fetchThumbnail=function(){return k.__awaiter(this,void 0,void 0,function(){var a,e;return k.__generator(this,function(n){switch(n.label){case 0:return this._get("thumbnail")?
[2,t.resolve()]:[4,this._getPreviewSymbol()];case 1:return a=n.sent(),[4,x.renderPreviewHTML(a,{maxSize:36})];case 2:return e=n.sent(),this._set("thumbnail",e),[2]}})})};f.prototype._getPreviewSymbol=function(){return k.__awaiter(this,void 0,void 0,function(){var a,e,n,f,l,p;return k.__generator(this,function(k){switch(k.label){case 0:a=this;e=a.layer;n=a.template;f=a.layer.renderer;if(!f)return[3,2];l=new D({attributes:n.prototype.attributes});return[4,f.getSymbolAsync(l)];case 1:if(p=k.sent())return[2,
p];k.label=2;case 2:return[2,this._getFallbackSymbolFromGeometry(e)]}})})};f.prototype._getFallbackSymbolFromGeometry=function(a){a=a.geometryType;if("point"===a||"multipoint"===a)return(new Promise(function(a,f){E(["../../symbols/SimpleMarkerSymbol"],a,f)})).then(function(a){return new a});if("polyline"===a)return(new Promise(function(a,f){E(["../../symbols/SimpleLineSymbol"],a,f)})).then(function(a){return new a});if("polygon"===a||"mesh"===a||"multipatch"===a)return(new Promise(function(a,f){E(["../../symbols/SimpleFillSymbol"],
a,f)})).then(function(a){return new a})};var l;k.__decorate([r.property({aliasOf:"template.description"})],f.prototype,"description",void 0);k.__decorate([r.property({aliasOf:"template.name"})],f.prototype,"label",void 0);k.__decorate([r.property()],f.prototype,"layer",void 0);k.__decorate([r.property()],f.prototype,"template",void 0);k.__decorate([r.property({readOnly:!0})],f.prototype,"thumbnail",void 0);return f=l=k.__decorate([r.subclass("esri.widgets.FeatureTemplates.TemplateItem")],f)}(u.HandleOwnerMixin(z))})},
"esri/symbols/support/symbolUtils":function(){define("require exports tslib ../../core/compilerUtils ../../core/maybe ../../support/arcadeOnDemand ./utils @dojo/framework/shim/Promise".split(" "),function(E,a,k,D,z,u,t){function v(a,f){return k.__awaiter(this,void 0,void 0,function(){var l,p,e,n,B;return k.__generator(this,function(k){switch(k.label){case 0:l=a.type;switch(l){case "web-style":return[3,1];case "label-3d":return[3,3];case "line-3d":return[3,3];case "mesh-3d":return[3,3];case "point-3d":return[3,
3];case "polygon-3d":return[3,3];case "simple-marker":return[3,5];case "simple-line":return[3,5];case "simple-fill":return[3,5];case "picture-marker":return[3,5];case "picture-fill":return[3,5];case "text":return[3,5];case "cim":return[3,7]}return[3,9];case 1:return[4,new Promise(function(a,e){E(["./previewWebStyleSymbol"],a,e)})];case 2:return p=k.sent().previewWebStyleSymbol,[2,p(a,v,f)];case 3:return[4,new Promise(function(a,e){E(["./previewSymbol3D"],a,e)})];case 4:return e=k.sent().previewSymbol3D,
[2,e(a,f)];case 5:return[4,new Promise(function(a,e){E(["./previewSymbol2D"],a,e)})];case 6:return n=k.sent().previewSymbol2D,[2,n(a,f)];case 7:return[4,new Promise(function(a,e){E(["./previewCIMSymbol"],a,e)})];case 8:return B=k.sent().previewCIMSymbol,[2,B(a,f)];case 9:return D.neverReached(a),[2,void 0]}})})}function r(a){return a&&"opacity"in a?a.opacity*r(a.parent):1}Object.defineProperty(a,"__esModule",{value:!0});a.getDisplayedSymbol=a.renderPreviewHTML=a.renderColorRampPreviewHTML=a.renderDotDensityPreviewHTML=
void 0;var x=null;a.renderDotDensityPreviewHTML=function(a,f,l){var k=a.backgroundColor,e=a.outline;a=a.dotSize;var n=l&&l.swatchSize||22,p=Math.round(n*n/Math.pow(a,2)*.8),G=window.devicePixelRatio;l=document.createElement("canvas");var t=n*G;l.width=t;l.height=t;l.style.width=l.width/G+"px";l.style.height=l.height/G+"px";var r=l.getContext("2d");k&&(r.fillStyle=k.toCss(!0),r.fillRect(0,0,t,t),r.fill());r.fillStyle=f.toCss(!0);if(x&&x.length/2===p)for(f=0;f<2*p;f+=2){var k=x[f],u=x[f+1];r.fillRect(k,
u,a*G,a*G);r.fill()}else for(x=[],f=0;f<2*p;f+=2)k=Math.floor(Math.random()*(t-0+1)+0),u=Math.floor(Math.random()*(t-0+1)+0),x.push(k,u),r.fillRect(k,u,a*G,a*G),r.fill();e&&(e.color&&(r.strokeStyle=e.color.toCss(!0)),r.lineWidth=e.width,r.strokeRect(0,0,t,t));e=new Image(n,n);e.src=l.toDataURL();return e};a.renderColorRampPreviewHTML=function(a,f){void 0===f&&(f={});var l="horizontal"===f.align,k=f.width,k=void 0===k?l?75:24:k,e=f.height,e=void 0===e?l?24:75:e;f=f.gradient;var n=void 0===f?!0:f;f=
window.devicePixelRatio;var p=k*f,G=e*f;f=document.createElement("canvas");f.width=p;f.height=G;f.style.width=k+"px";f.style.height=e+"px";var t=f.getContext("2d"),r=l?p:0,u=l?0:G;if(n){var x=t.createLinearGradient(0,0,r,u),v=1/(a.length-1);a.forEach(function(a,e){return x.addColorStop(e*v,a.toString())});t.fillStyle=x;t.fillRect(0,0,p,G)}else for(n=l?p/a.length:p,p=l?G:G/a.length,u=r=G=0;u<a.length;u++)t.fillStyle=a[u].toString(),t.fillRect(G,r,n,p),G=l?G+n:0,r=l?0:r+p;a=document.createElement("div");
a.style.width=k+"px";a.style.height=e+"px";a.appendChild(f);return a};a.renderPreviewHTML=v;a.getDisplayedSymbol=function(a,f){return k.__awaiter(this,void 0,void 0,function(){var l,p,e,n,B,G,N,x,v,D,M,I,O,ea,T,ba,V,ha,Q,S,aa,W,Z;return k.__generator(this,function(A){switch(A.label){case 0:if(!a)return[2,void 0];l=r(a.layer||a.sourceLayer);return!z.isSome(a.symbol)||z.isSome(f)&&!0===f.ignoreGraphicSymbol?[3,4]:"web-style"!==a.symbol.type?[3,2]:[4,a.symbol.fetchSymbol(z.isSome(f)?f.abortOptions:null)];
case 1:return e=A.sent(),[3,3];case 2:e=a.symbol.clone(),A.label=3;case 3:return p=e,t.applyColorToSymbol(p,null,l),[2,p];case 4:return n=z.isSome(f)&&f.renderer||a.get("layer.renderer")||a.get("sourceLayer.renderer"),[4,n.getSymbolAsync(a)];case 5:return(B=A.sent())?"web-style"!==B.type?[3,7]:[4,B.fetchSymbol(z.isSome(f)?f.abortOptions:null)]:[2,void 0];case 6:return B=A.sent(),[3,8];case 7:B=B.clone(),A.label=8;case 8:if(!("visualVariables"in n)||"visualVariables"in n&&!n.visualVariables||"visualVariables"in
n&&n.visualVariables&&!n.visualVariables.length)return[2,B];if(!n.arcadeRequiredForVisualVariables||!z.isNone(f)&&!z.isNone(f.arcade))return[3,10];N=G=k.__assign({},z.unwrap(f));return[4,u.loadArcade()];case 9:N.arcade=A.sent(),f=G,A.label=10;case 10:return[4,new Promise(function(a,e){E(["../../renderers/visualVariables/support/visualVariableUtils"],a,e)})];case 11:x=A.sent();v=[];D=[];M=[];I=[];O=0;for(ea=n.visualVariables;O<ea.length;O++)switch(T=ea[O],T.type){case "color":v.push(T);break;case "opacity":D.push(T);
break;case "rotation":I.push(T);break;case "size":T.target||M.push(T)}V=(ba=!!v.length&&v[v.length-1])?x.getColor(ba,a,f):null;Q=(ha=!!D.length&&D[D.length-1])?x.getOpacity(ha,a,f):null;null!=l&&(Q=null!=Q?Q*l:l);t.applyColorToSymbol(B,V,Q);if(!M.length)return[3,13];S=x.getAllSizes(M,a,f);return[4,t.applySizesToSymbol(B,S)];case 12:A.sent(),A.label=13;case 13:aa=0;for(W=I;aa<W.length;aa++)Z=W[aa],t.applyRotationToSymbol(B,x.getRotationAngle(Z,a,f),Z.axis);return[2,B]}})})}})},"esri/symbols/support/utils":function(){define("require exports tslib ../../Color ../../symbols ../../core/asyncUtils ../../core/compilerUtils ../../core/has ../../core/maybe ../../core/screenUtils ../../core/libs/gl-matrix-2/vec3f64 ./gfxUtils ./Symbol3DMaterial @dojo/framework/shim/Promise".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l){function A(a,e){if(null==e)return a;a=a.toRgba();a[3]*=e;return new D(a)}function e(a,e,f){if(a=a.symbolLayers){var n=function(a){a=r.isSome(a)?a:null;e=e||a||null!=f&&I;return A(e,f)};a.forEach(function(a){if("object"!==a.type||null==a.resource.href||e)if("water"===a.type)a.color=n(a.color);else{var k=r.isSome(a.material)?a.material.color:null,k=n(k);r.isNone(a.material)?a.material=new l.default({color:k}):a.material.color=k;null!=f&&"outline"in a&&r.isSome(a.outline)&&
r.isSome(a.outline.color)&&(a.outline.color=A(a.outline.color,f))}})}}function n(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n=this;return k.__generator(this,function(l){switch(l.label){case 0:return(f=a.symbolLayers)?[4,u.forEach(f,function(a){return k.__awaiter(n,void 0,void 0,function(){return k.__generator(this,function(f){return[2,B(a,e)]})})})]:[2];case 1:return l.sent(),[2]}})})}function B(a,e){return k.__awaiter(this,void 0,void 0,function(){var f;return k.__generator(this,
function(n){switch(n.label){case 0:f=a.type;switch(f){case "extrude":return[3,1];case "icon":return[3,2];case "line":return[3,2];case "text":return[3,2];case "path":return[3,3];case "object":return[3,4];case "fill":return[3,6];case "water":return[3,6]}return[3,7];case 1:return a.size="number"===typeof e[2]?e[2]:0,[3,8];case 2:return n=G(e),r.isSome(n)&&(a.size=n),[3,8];case 3:return n=P(e,p.vec3f64.ONES,[a.width,void 0,a.height]),a.width=L(e[0],a.width,1,n),a.height=L(e[2],a.height,1,n),[3,8];case 4:return[4,
N(a,e)];case 5:return n.sent(),[3,8];case 6:return[3,8];case 7:t.neverReached(a),n.label=8;case 8:return[2]}})})}function G(a){for(var e=0;e<a.length;e++){var f=a[e];if("number"===typeof f)return f}return null}function N(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n,l,p;return k.__generator(this,function(k){switch(k.label){case 0:return[4,R(a)];case 1:return f=k.sent(),n=f.resourceSize,l=f.symbolSize,p=P(e,n,l),a.width=L(e[0],l[0],n[0],p),a.depth=L(e[1],l[1],n[1],p),a.height=L(e[2],
l[2],n[2],p),[2]}})})}function P(a,e,f){for(var n=0;3>n;n++){var l=a[n];switch(l){case "symbol-value":return null!=f[n]?f[n]/e[n]:1;case "proportional":break;default:if(l&&e[n])return l/e[n]}}return 1}function R(a){return k.__awaiter(this,void 0,void 0,function(){var e,f,n,l,p,B,A,G;return k.__generator(this,function(k){switch(k.label){case 0:return[4,new Promise(function(a,e){E(["./symbolLayerUtils"],a,e)})];case 1:return e=k.sent(),[4,e.computeObjectLayerResourceSize(a,10)];case 2:f=k.sent();n=
a.width;l=a.height;p=a.depth;B=[n,p,l];A=1;for(G=0;3>G;G++)if(null!=B[G]){A=B[G]/f[G];break}for(G=0;3>G;G++)null==B[G]&&(B[G]=f[G]*A);return[2,{resourceSize:f,symbolSize:B}]}})})}function L(a,e,f,n){switch(a){case "proportional":return f*n;case "symbol-value":return null!=e?e:f;default:return a}}Object.defineProperty(a,"__esModule",{value:!0});a.applyRotationToSymbol=a.applySizesToSymbol=a.applyColorToSymbol=a.applyOpacityToColor=a.getIconHref=a.isVolumetricSymbol=a.getSymbolOutlineSize=void 0;var M=
/\/resource\/(.*?)\.svg$/,I=new D("white");a.getSymbolOutlineSize=function(a){if(!a)return 0;if(z.isSymbol3D(a)){var e=a.symbolLayers&&a.symbolLayers.length;e?(a=a.symbolLayers.getItemAt(e-1),a="outline"in a?r.get(a,"outline","size"):void 0):a=void 0;return r.isSome(a)?a:0}return(a=f.getStroke(a))&&x.px2pt(a.width)||0};a.isVolumetricSymbol=function(a){if(!a||!a.symbolLayers)return!1;switch(a.type){case "point-3d":return a.symbolLayers.some(function(a){return"object"===a.type});case "line-3d":return a.symbolLayers.some(function(a){return"path"===
a.type});case "polygon-3d":return a.symbolLayers.some(function(a){return"object"===a.type||"extrude"===a.type});default:return!1}};a.getIconHref=function(a,e){e=e.resource.href;return!v("esri-canvas-svg-support")&&a.styleOrigin&&M.test(e)?e.replace(M,"/resource/png/$1.png"):e};a.applyOpacityToColor=A;a.applyColorToSymbol=function(a,f,n){if(a&&(f||null!=n))if(f&&(f=new D(f)),z.isSymbol3D(a))e(a,f,n);else if(z.isSymbol2D(a)){if(f=f||a.color)a.color=A(f,n);null!=n&&"outline"in a&&a.outline&&a.outline.color&&
(a.outline.color=A(a.outline.color,n))}};a.applySizesToSymbol=function(a,e){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(f){if(!a||!e)return[2];if(z.isSymbol3D(a))return[2,n(a,e)];if(z.isSymbol2D(a)&&(f=G(e),!r.isNone(f)))switch(a.type){case "simple-marker":a.size=f;break;case "picture-marker":var l=a.width/a.height;1<l?(a.width=f,a.height=f*l):(a.width=f*l,a.height=f);break;case "simple-line":a.width=f;break;case "text":a.font.size=f;break;case "simple-fill":case "picture-fill":break;
case "cim":break;default:t.neverReached(a)}return[2]})})};a.applyRotationToSymbol=function(a,e,f){a&&null!=e&&(z.isSymbol3D(a)?(a=a.symbolLayers)&&a.forEach(function(a){if(a&&"object"===a.type)switch(f){case "tilt":a.tilt=e;break;case "roll":a.roll=e;break;default:a.heading=e}}):!z.isSymbol2D(a)||"simple-marker"!==a.type&&"picture-marker"!==a.type&&"text"!==a.type||(a.angle=e))}})},"esri/symbols/support/gfxUtils":function(){define("require exports ../../assets ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils ./cimSymbolUtils".split(" "),
function(E,a,k,D,z,u,t,v,r){function x(a){if(!a)return null;var f;switch(a.type){case "simple-fill":case "picture-fill":case "simple-marker":f=x(a.outline);break;case "simple-line":var n=v.pt2px(a.width);"none"!==a.style&&0!==n&&(f={color:a.color,style:e(a.style),width:n,cap:a.cap,join:"miter"===a.join?v.pt2px(a.miterLimit):a.join});break;default:f=null}return f}Object.defineProperty(a,"__esModule",{value:!0});a.defaultThematicColor=a.getStroke=a.getPatternUrlWithColor=a.getFill=a.getSVGBaselineShift=
a.getSVGBaseline=a.getSVGAlign=void 0;var p=k.getAssetUrl("esri/symbols/patterns/"),f={left:"start",center:"middle",right:"end",justify:"start"},l={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},A=new u(1E3);a.getSVGAlign=function(a){return a=(a=a.horizontalAlignment)&&f[a.toLowerCase()]||"middle"};a.getSVGBaseline=function(a){return(a=a.verticalAlignment)&&l[a.toLowerCase()]||"alphabetic"};a.getSVGBaselineShift=function(a){return"bottom"===a.verticalAlignment?
"super":null};a.getFill=function(a){var e=a.style,f=null;if(a)switch(a.type){case "simple-marker":"cross"!==e&&"x"!==e&&(f=a.color);break;case "simple-fill":"solid"===e?f=a.color:"none"!==e&&(f={type:"pattern",x:0,y:0,src:p+e+".png",width:5,height:5});break;case "picture-fill":f={type:"pattern",src:a.url,width:v.pt2px(a.width)*a.xscale,height:v.pt2px(a.height)*a.yscale,x:v.pt2px(a.xoffset),y:v.pt2px(a.yoffset)};break;case "text":f=a.color;break;case "cim":f=r.getCIMSymbolColor(a)}return f};a.getPatternUrlWithColor=
function(a,e){var f=a+"-"+e;return void 0!==A.get(f)?t.resolve(A.get(f)):z(a,{responseType:"image"}).then(function(a){a=a.data;var l=a.naturalWidth,n=a.naturalHeight,k=document.createElement("canvas");k.width=l;k.height=n;var p=k.getContext("2d");p.fillStyle=e;p.fillRect(0,0,l,n);p.globalCompositeOperation="destination-in";p.drawImage(a,0,0);a=k.toDataURL();A.put(f,a);return a})};a.getStroke=x;var e=function(){var a={};return function(e){if(a[e])return a[e];var f=e.replace(/-/g,"");return a[e]=f}}();
a.defaultThematicColor=new D([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(E,a,k){return function(){function a(a,u){this._storage=new k.MemCacheStorage;this._storage.maxSize=a;u&&this._storage.registerRemoveFunc("",u)}a.prototype.put=function(a,k){this._storage.put(a,k,1,1)};a.prototype.pop=function(a){return this._storage.pop(a)};a.prototype.get=function(a){return this._storage.get(a)};a.prototype.clear=function(){this._storage.clearAll()};
a.prototype.destroy=function(){this._storage.clearAll()};return a}()})},"esri/symbols/support/cimSymbolUtils":function(){define(["require","exports","../../Color","../cim/utils"],function(E,a,k,D){function z(a){var f=D.toCIMSymbolJSON(a);if("CIMTextSymbol"===f.type)return f.height;a=0;if(f.symbolLayers)for(var e=0,f=f.symbolLayers;e<f.length;e++){var n=f[e];D.isCIMMarker(n)&&n.size>a?a=n.size:D.isCIMStroke(n)&&n.width>a?a=n.width:D.isCIMFill(n)}return a}function u(a,f,e){if("CIMTextSymbol"===a.type)a.height*=
f;else{if(e&&a.effects){e=0;for(var n=a.effects;e<n.length;e++)r(n[e],f)}if(a.symbolLayers)for(e=0,a=a.symbolLayers;e<a.length;e++)switch(n=a[e],n.type){case "CIMPictureMarker":case "CIMVectorMarker":t(n,f);break;case "CIMPictureStroke":case "CIMSolidStroke":n.width*=f;break;case "CIMPictureFill":n.height*=f;n.offsetX*=f;n.offsetY*=f;break;case "CIMHatchFill":u(n.lineSymbol,f,!0),n.offsetX*=f,n.offsetY*=f,n.separation*=f}}}function t(a,f){a.markerPlacement&&v(a.markerPlacement,f);a.offsetX*=f;a.offsetY*=
f;a.anchorPoint&&"Absolute"===a.anchorPointUnits&&(a.anchorPoint={x:a.anchorPoint.x*f,y:a.anchorPoint.y*f});a.size*=f;if("CIMVectorMarker"===a.type&&a.markerGraphics)for(var e=0,n=a.markerGraphics;e<n.length;e++){var l=n[e];a.scaleSymbolsProportionally||u(l.symbol,f,!0)}}function v(a,f){D.isCIMMarkerStrokePlacement(a)&&(a.offset*=f);switch(a.type){case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineSameSize":a.customEndingOffset*=f;a.offsetAlongLine*=f;if(a.placementTemplate&&
a.placementTemplate.length){var e=a.placementTemplate.map(function(a){return a*f});a.placementTemplate=e}break;case "CIMMarkerPlacementAlongLineVariableSize":a.maxRandomOffset*=f;a.placementTemplate&&a.placementTemplate.length&&(e=a.placementTemplate.map(function(a){return a*f}),a.placementTemplate=e);break;case "CIMMarkerPlacementOnLine":a.startPointOffset*=f;break;case "CIMMarkerPlacementAtExtremities":a.offsetAlongLine*=f;break;case "CIMMarkerPlacementAtRatioPositions":a.beginPosition*=f;a.endPosition*=
f;break;case "CIMMarkerPlacementPolygonCenter":a.offsetX*=f;a.offsetY*=f;break;case "CIMMarkerPlacementInsidePolygon":a.offsetX*=f,a.offsetY*=f,a.stepX*=f,a.stepY*=f}}function r(a,f){switch(a.type){case "CIMGeometricEffectArrow":case "CIMGeometricEffectDonut":a.width*=f;break;case "CIMGeometricEffectBuffer":a.size*=f;break;case "CIMGeometricEffectCut":a.beginCut*=f;a.endCut*=f;a.middleCut*=f;break;case "CIMGeometricEffectDashes":a.customEndingOffset*=f;a.offsetAlongLine*=f;if(a.dashTemplate&&a.dashTemplate.length){var e=
a.dashTemplate.map(function(a){return a*f});a.dashTemplate=e}break;case "CIMGeometricEffectExtension":case "CIMGeometricEffectJog":case "CIMGeometricEffectRadial":a.length*=f;break;case "CIMGeometricEffectMove":a.offsetX*=f;a.offsetY*=f;break;case "CIMGeometricEffectOffset":case "CIMGeometricEffectOffsetTangent":a.offset*=f;break;case "CIMGeometricEffectRegularPolygon":a.radius*=f;break;case "CIMGeometricEffectTaperedPolygon":a.fromWidth*=f;a.length*=f;a.toWidth*=f;break;case "CIMGeometricEffectWave":a.amplitude*=
f,a.period*=f}}function x(a,f){var e;e="CIMTextSymbol"===a.type?a.symbol:a;a="CIMPolygonSymbol"===a.type;if(e.symbolLayers){var n=0;for(e=e.symbolLayers;n<e.length;n++){var k=e[n];if(!(k.colorLocked||a&&(D.isCIMStroke(k)||D.isCIMMarker(k)&&k.markerPlacement&&D.isCIMMarkerStrokePlacement(k.markerPlacement))))switch(k.type){case "CIMVectorMarker":k.markerGraphics.forEach(function(a){x(a.symbol,f)});break;case "CIMSolidStroke":case "CIMSolidFill":p(f,k.color);break;case "CIMHatchFill":x(k.lineSymbol,
f)}}}}function p(a,f){for(var e=0;e<a.length;e++)if(a[e].join(".")===f.join("."))return;a.push(f)}function f(a,k){var e;e="CIMTextSymbol"===a.type?a.symbol:a;a="CIMPolygonSymbol"===a.type?!0:!1;if(e.symbolLayers){var n=0;for(e=e.symbolLayers;n<e.length;n++){var l=e[n];if(!(l.colorLocked||a&&(D.isCIMStroke(l)||D.isCIMMarker(l)&&l.markerPlacement&&D.isCIMMarkerStrokePlacement(l.markerPlacement)))){var p=k.toArray(0);switch(l.type){case "CIMVectorMarker":l.markerGraphics.forEach(function(a){f(a.symbol,
k)});break;case "CIMSolidStroke":case "CIMSolidFill":l.color=p;break;case "CIMHatchFill":f(l.lineSymbol,k)}}}}}Object.defineProperty(a,"__esModule",{value:!0});a.applyCIMSymbolRotation=a.getCIMSymbolRotation=a.applyCIMSymbolColor=a.getCIMSymbolColor=a.scaleCIMMarker=a.scaleCIMSymbolTo=a.getCIMSymbolSize=void 0;a.getCIMSymbolSize=z;a.scaleCIMSymbolTo=function(a,f){var e=D.toCIMSymbolJSON(a);a=z(a);if(0===a)if("CIMTextSymbol"===e.type)e.height=f;else{if(e.symbolLayers)for(a=0,e=e.symbolLayers;a<e.length;a++){var n=
e[a];switch(n.type){case "CIMPictureMarker":case "CIMVectorMarker":n.size=f;break;case "CIMPictureStroke":case "CIMSolidStroke":n.width=f}}}else u(e,f/a,!1)};a.scaleCIMMarker=t;a.getCIMSymbolColor=function(a){a=D.toCIMSymbolJSON(a);var f=[];x(a,f);return f.length?new k(D.fromCIMColor(f[0])):null};a.applyCIMSymbolColor=function(a,p){p instanceof k||(p=new k(p));a=D.toCIMSymbolJSON(a);f(a,p)};a.getCIMSymbolRotation=function(a){a=D.toCIMSymbolJSON(a);return"CIMTextSymbol"===a.type||"CIMPointSymbol"===
a.type?a.angle||0:0};a.applyCIMSymbolRotation=function(a,f){a=D.toCIMSymbolJSON(a);if("CIMTextSymbol"===a.type)a.angle=f;else if("CIMPointSymbol"===a.type&&a.symbolLayers)for(var e=f-(a.angle||0),n=0,k=a.symbolLayers;n<k.length;n++){var l=k[n];if(D.isCIMMarker(l)){var p=l.rotation||0,p=l.rotateClockwise?p-e:p+e;l.rotation=p}a.angle=f}}})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(E,a){function k(a,k){"string"!==typeof a&&(a=String(a));switch(k){case "LowerCase":return a.toLowerCase();
case "Allcaps":return a.toUpperCase();default:return a}}Object.defineProperty(a,"__esModule",{value:!0});a.isCIMMarkerStrokePlacement=a.isCIMFill=a.isCIMStroke=a.isCIMMarker=a.toCIMSymbolJSON=a.fromCIMColor=a.resampleHermite=a._adjustTextCase=a.createLabelOverrideFunction=a.colorToArray=a.evaluateValueOrFunction=void 0;a.evaluateValueOrFunction=function(a,k,u,t){return"function"===typeof a?a(k,u,t):a};a.colorToArray=function(a){return[a.r,a.g,a.b,a.a]};a.createLabelOverrideFunction=function(a,z,u){var t=
function(a){for(var f=a.length;f--;)if(-1===" /-,\n".indexOf(a.charAt(f)))return!1;return!0},v=[],r=0,x=-1;do x=z.indexOf("[",r),x>=r&&(x>r&&(r=z.substr(r,x-r),v.push([r,null,t(r)])),r=x+1,x=z.indexOf("]",r),x>=r&&(x>r&&(r=z.substr(r,x-r),(r=a[r])&&v.push([null,r,!1])),r=x+1));while(-1!==x);r<z.length-1&&(r=z.substr(r),v.push([r,null,t(r)]));return function(a){for(var f="",l=null,p=0;p<v.length;p++){var e=v[p],n=e[0],B=e[1],e=e[2];if(n)e?l=n:(l&&(f+=l,l=null),f+=n);else if(n=a.attributes[B])l&&(f+=
l,l=null),f+=n}return k(f,u)}};a._adjustTextCase=k;a.resampleHermite=function(a,k,u,t,v,r,x){void 0===x&&(x=!0);var p=k/v;u/=r;for(var f=Math.ceil(p/2),l=Math.ceil(u/2),A=0;A<r;A++)for(var e=0;e<v;e++){for(var n=4*(e+(x?r-A-1:A)*v),B=0,G=0,N=0,P=0,z=0,L=0,M=0,D=(A+.5)*u,O=Math.floor(A*u);O<(A+1)*u;O++)for(var E=Math.abs(D-(O+.5))/l,T=(e+.5)*p,E=E*E,ba=Math.floor(e*p);ba<(e+1)*p;ba++){var V=Math.abs(T-(ba+.5))/f,B=Math.sqrt(E+V*V);-1<=B&&1>=B&&(B=2*B*B*B-3*B*B+1,0<B&&(V=4*(ba+O*k),M+=B*a[V+3],N+=B,
255>a[V+3]&&(B=B*a[V+3]/250),P+=B*a[V],z+=B*a[V+1],L+=B*a[V+2],G+=B))}t[n]=P/G;t[n+1]=z/G;t[n+2]=L/G;t[n+3]=M/N}};a.fromCIMColor=function(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}};a.toCIMSymbolJSON=function(a){var k;return null===(k=a.data)||void 0===k?void 0:k.symbol};a.isCIMMarker=function(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===
a.type};a.isCIMStroke=function(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===a.type||"CIMSolidStroke"===a.type};a.isCIMFill=function(a){return"CIMGradientFill"===a.type||"CIMHatchFill"===a.type||"CIMPictureFill"===a.type||"CIMSolidFill"===a.type||"CIMWaterFill"===a.type};a.isCIMMarkerStrokePlacement=function(a){return"CIMMarkerPlacementAlongLineRandomSize"===a.type||"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===
a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===a.type||"CIMMarkerPlacementOnLine"===a.type||"CIMMarkerPlacementOnVertices"===a.type}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports tslib ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(E,a,k,D,z,u){return function(a){function t(k){k=a.call(this,k)||this;k.items=null;k.label=null;return k}k.__extends(t,a);k.__decorate([u.property()],
t.prototype,"items",void 0);k.__decorate([u.property()],t.prototype,"label",void 0);return t=k.__decorate([u.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],t)}(z.IdentifiableMixin(D))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../support/jsxFactory","../support/widgetUtils"],function(E,a,k,D){function z(a){var f=a.identify,l=a.items,p=a.renderIcon,e=a.filterText,n=a.onItemMouseLeave,B=a.onItemMouseEnter,G=a.onItemSelect;return 0===l.length?k.tsx("div",
{class:x.noMatchesMessage,key:"no-matches"},a.messages.noMatches):l[0].items?k.tsx("div",{class:x.scroller,key:"item-container"},l.map(function(a){return v({group:a,filterText:e,identify:f,renderIcon:p,onItemMouseLeave:n,onItemMouseEnter:B,onItemSelect:G})})):k.tsx("ul",{class:D.classes(x.list,x.scroller),key:"item-container"},l.map(function(a){return t({item:a,identify:f,grouped:!0,onItemMouseLeave:n,onItemMouseEnter:B,onItemSelect:G,renderIcon:p,filterText:e})}))}function u(a){var f=a.id+"-placeholder";
return k.tsx("div",{class:x.filterContainer,key:"filter"},k.tsx("input",{"aria-labelledby":f,class:D.classes(x.input,x.filterInput),oninput:function(f){f=f.currentTarget;a.onFilterChange&&a.onFilterChange(f.value)},value:a.filterText,type:"search"}),a.filterText?null:k.tsx("div",{class:x.filterPlaceholder,id:f,key:"placeholder"},k.tsx("span",{class:x.searchIcon,"aria-hidden":"true"}),k.tsx("div",{class:x.filterPlaceholderText},a.messages.filterPlaceholder)))}function t(a){var f=a.identify,l=a.item,
p=a.grouped,e=a.filterText,n=a.onItemSelect,B=a.onItemMouseEnter,G=a.onItemMouseLeave;a=a.renderIcon;f=(f&&f(l)||l.id)+"__"+l.label;return k.tsx("li",{"aria-level":p?"2":"",class:x.item,"data-item":l,key:f,onclick:function(a){a=a.currentTarget["data-item"];n&&n(a)},onmouseenter:function(a){a=a.currentTarget["data-item"];B&&B(a)},onkeydown:function(a){if("Enter"===a.key||"Space"===a.key)a=a.currentTarget["data-item"],n&&n(a)},onmouseleave:function(a){a=a.currentTarget["data-item"];G&&G(a)},tabIndex:0},
k.tsx("div",{class:x.itemContainer},a&&a({item:l}),r({text:l.label,match:e})))}function v(a){var f=a.group,l=a.identify,p=a.onItemMouseLeave,e=a.onItemMouseEnter,n=a.onItemSelect,B=a.filterText,G=a.renderIcon;a=(l&&l(f)||f.id)+"-heading";return k.tsx("section",{"aria-labelledby":a,class:x.group,key:f.label},k.tsx("h4",{"aria-level":"1",id:a,class:D.classes(x.groupHeader)},r({text:f.label,match:B})),k.tsx("ul",{class:x.list},f.items.map(function(a){return t({item:a,identify:l,grouped:!0,onItemMouseLeave:p,
onItemMouseEnter:e,onItemSelect:n,renderIcon:G,filterText:B})})))}function r(a){var f=a.match;a=a.text;var l=null;if(f){var l=a.toLowerCase(),p=f.toLowerCase(),e=l.indexOf(p);-1===e?l=a:(l=a.substring(0,e),p=a.substr(e,f.length),f=a.substring(e+f.length),l=k.tsx("span",null,l,k.tsx("strong",null,p),f))}else l=a;return k.tsx("span",{class:x.itemLabel},l)}Object.defineProperty(a,"__esModule",{value:!0});a.renderLabel=a.renderGroup=a.renderItem=a.ItemList=void 0;var x={base:"esri-item-list",list:"esri-item-list__list",
group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",
filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};a.ItemList=function(a){var f=a.id,l=a.identify,p=a.filterEnabled,p=void 0===p?!0:p,e=a.items,n=a.messages,B=a.filterText,B=void 0===B?"":B,G=a.onFilterChange,t=a.renderIcon,r=a.onItemMouseLeave,v=a.onItemMouseEnter;a=a.onItemSelect;return k.tsx("div",{class:D.classes(x.base,x.widget)},p?u({filterText:B,messages:n,onFilterChange:G,id:f}):
null,z({identify:l,items:e,messages:n,filterText:B,renderIcon:t,onItemMouseLeave:r,onItemMouseEnter:v,onItemSelect:a}))};a.renderItem=t;a.renderGroup=v;a.renderLabel=r})},"esri/libs/intersection-observer/intersection-observer":function(){define([],function(){(function(){function E(a){try{return a.defaultView&&a.defaultView.frameElement||null}catch(G){return null}}function a(a){this.time=a.time;this.target=a.target;this.rootBounds=r(a.rootBounds);this.boundingClientRect=r(a.boundingClientRect);this.intersectionRect=
r(a.intersectionRect||v());this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=a?Number((e/a).toFixed(4)):this.isIntersecting?1:0}function k(a,e){e=e||{};if("function"!=typeof a)throw Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=D(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=
a;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(e.rootMargin);this.thresholds=this._initThresholds(e.threshold);this.root=e.root||null;this.rootMargin=this._rootMarginValues.map(function(a){return a.value+a.unit}).join(" ");this._monitoringDocuments=[];this._monitoringUnsubscribes=[]}function D(a,e){var f=null;return function(){f||(f=setTimeout(function(){a();f=null},e))}}function z(a,e,f,n){"function"==typeof a.addEventListener?a.addEventListener(e,
f,n||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+e,f)}function u(a,e,f,n){"function"==typeof a.removeEventListener?a.removeEventListener(e,f,n||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+e,f)}function t(a){var e;try{e=a.getBoundingClientRect()}catch(N){}if(!e)return v();e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top});return e}function v(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(a){return!a||
"x"in a?a:{top:a.top,y:a.top,bottom:a.bottom,left:a.left,x:a.left,right:a.right,width:a.width,height:a.height}}function x(a,e){var f=e.top-a.top;a=e.left-a.left;return{top:f,left:a,height:e.height,width:e.width,bottom:f+e.height,right:a+e.width}}function p(a,e){for(;e;){if(e==a)return!0;e=f(e)}return!1}function f(a){var e=a.parentNode;return 9==a.nodeType&&a!=l?E(a):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}if("object"===typeof window)if("IntersectionObserver"in
window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var l=function(a){for(var e=E(a);e;)a=e.ownerDocument,e=E(a);return a}(window.document),A=[],e=null,n=null;k.prototype.THROTTLE_TIMEOUT=100;k.prototype.POLL_INTERVAL=null;k.prototype.USE_MUTATION_OBSERVER=
!0;k._setupCrossOriginUpdater=function(){e||(e=function(a,e){n=a&&e?x(a,e):v();A.forEach(function(a){a._checkForIntersections()})});return e};k._resetCrossOriginUpdater=function(){n=e=null};k.prototype.observe=function(a){if(!this._observationTargets.some(function(e){return e.element==a})){if(!a||1!=a.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:a,entry:null});this._monitorIntersections(a.ownerDocument);this._checkForIntersections()}};
k.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=a});this._unmonitorIntersections(a.ownerDocument);0==this._observationTargets.length&&this._unregisterInstance()};k.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorAllIntersections();this._unregisterInstance()};k.prototype.takeRecords=function(){var a=this._queuedEntries.slice();this._queuedEntries=[];return a};k.prototype._initThresholds=function(a){a=
a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,e,f){if("number"!=typeof a||isNaN(a)||0>a||1<a)throw Error("threshold must be a number between 0 and 1 inclusively");return a!==f[e-1]})};k.prototype._parseRootMargin=function(a){a=(a||"0px").split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);if(!a)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};k.prototype._monitorIntersections=
function(a){var e=a.defaultView;if(e&&-1==this._monitoringDocuments.indexOf(a)){var f=this._checkForIntersections,n=null,k=null;this.POLL_INTERVAL?n=e.setInterval(f,this.POLL_INTERVAL):(z(e,"resize",f,!0),z(a,"scroll",f,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(k=new e.MutationObserver(f),k.observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!0})));this._monitoringDocuments.push(a);this._monitoringUnsubscribes.push(function(){var e=a.defaultView;e&&(n&&e.clearInterval(n),
u(e,"resize",f,!0));u(a,"scroll",f,!0);k&&k.disconnect()});a!=(this.root&&this.root.ownerDocument||l)&&(e=E(a))&&this._monitorIntersections(e.ownerDocument)}};k.prototype._unmonitorIntersections=function(a){var e=this._monitoringDocuments.indexOf(a);if(-1!=e){var f=this.root&&this.root.ownerDocument||l;if(!this._observationTargets.some(function(e){e=e.element.ownerDocument;if(e==a)return!0;for(;e&&e!=f;)if(e=(e=E(e))&&e.ownerDocument,e==a)return!0;return!1})){var n=this._monitoringUnsubscribes[e];
this._monitoringDocuments.splice(e,1);this._monitoringUnsubscribes.splice(e,1);n();a!=f&&(e=E(a))&&this._unmonitorIntersections(e.ownerDocument)}}};k.prototype._unmonitorAllIntersections=function(){var a=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<a.length;e++)a[e]()};k.prototype._checkForIntersections=function(){if(this.root||!e||n){var f=this._rootIsInDom(),k=f?this._getRootRect():v();this._observationTargets.forEach(function(n){var l=
n.element,p=t(l),B=this._rootContainsTarget(l),A=n.entry,r=f&&B&&this._computeTargetAndRootIntersection(l,p,k);n=n.entry=new a({time:window.performance&&performance.now&&performance.now(),target:l,boundingClientRect:p,rootBounds:e&&!this.root?null:k,intersectionRect:r});A?f&&B?this._hasCrossedThreshold(A,n)&&this._queuedEntries.push(n):A&&A.isIntersecting&&this._queuedEntries.push(n):this._queuedEntries.push(n)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)}};k.prototype._computeTargetAndRootIntersection=
function(a,k,p){if("none"!=window.getComputedStyle(a).display){var B=k;k=f(a);for(a=!1;!a&&k;){var A=null,r=1==k.nodeType?window.getComputedStyle(k):{};if("none"==r.display)return null;if(k==this.root||9==k.nodeType)if(a=!0,k==this.root||k==l)e&&!this.root?!n||0==n.width&&0==n.height?B=A=k=null:A=n:A=p;else{var r=(k=f(k))&&t(k),u=k&&this._computeTargetAndRootIntersection(k,r,p);r&&u?A=x(r,u):B=k=null}else u=k.ownerDocument,k!=u.body&&k!=u.documentElement&&"visible"!=r.overflow&&(A=t(k));if(A)var r=
Math.max(A.top,B.top),u=Math.min(A.bottom,B.bottom),G=Math.max(A.left,B.left),B=Math.min(A.right,B.right),A=B-G,N=u-r,B=0<=A&&0<=N&&{top:r,bottom:u,left:G,right:B,width:A,height:N}||null;if(!B)break;k=k&&f(k)}return B}};k.prototype._getRootRect=function(){var a;if(this.root)a=t(this.root);else{a=l.documentElement;var e=l.body;a={top:0,left:0,right:a.clientWidth||e.clientWidth,width:a.clientWidth||e.clientWidth,bottom:a.clientHeight||e.clientHeight,height:a.clientHeight||e.clientHeight}}return this._expandRectByRootMargin(a)};
k.prototype._expandRectByRootMargin=function(a){var e=this._rootMarginValues.map(function(e,f){return"px"==e.unit?e.value:e.value*(f%2?a.width:a.height)/100}),e={top:a.top-e[0],right:a.right+e[1],bottom:a.bottom+e[2],left:a.left-e[3]};e.width=e.right-e.left;e.height=e.bottom-e.top;return e};k.prototype._hasCrossedThreshold=function(a,e){a=a&&a.isIntersecting?a.intersectionRatio||0:-1;e=e.isIntersecting?e.intersectionRatio||0:-1;if(a!==e)for(var f=0;f<this.thresholds.length;f++){var n=this.thresholds[f];
if(n==a||n==e||n<a!==n<e)return!0}};k.prototype._rootIsInDom=function(){return!this.root||p(l,this.root)};k.prototype._rootContainsTarget=function(a){return p(this.root||l,a)&&(!this.root||this.root.ownerDocument==a.ownerDocument)};k.prototype._registerInstance=function(){0>A.indexOf(this)&&A.push(this)};k.prototype._unregisterInstance=function(){var a=A.indexOf(this);-1!=a&&A.splice(a,1)};window.IntersectionObserver=k;window.IntersectionObserverEntry=a}})()})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports tslib ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/Evented ../../core/HandleOwner ../../core/Logger ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ../Attachments/AttachmentsViewModel ./CreateWorkflow ./UpdateWorkflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel ../Spinner/SpinnerViewModel".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G,N,P){function R(a,e,f){I.error(new u(a,e,f))}function L(a){return a&&l.isEditableLayer(a.layer)}function M(a,e){return a&&D.find(a,function(a){return a.layer===e})}var I=r.getLogger("esri.widgets.Editor.EditorViewModel"),O=["create","update"];return function(a){function l(e){e=a.call(this,e)||this;e._sketchGraphicsLayer=new f({listMode:"hide"});e.activeWorkflow=null;e.activityQueue=[];e.failures=[];e.attachmentsViewModel=new A({abilities:{editing:!0}});
e.featureFormViewModel=new B;e.featureTemplatesViewModel=new G;e.layerInfos=null;e.sketchViewModel=new N({layer:e._sketchGraphicsLayer});e.spinnerViewModel=new P;return e}k.__extends(l,a);l.prototype.initialize=function(){var a=this;this.handles.add([x.on(this,"activeWorkflow","cancel",function(){return a.emit("workflow-cancel")}),x.on(this,"activeWorkflow","commit",function(){return a.emit("workflow-commit")}),x.on(this,"view.allLayerViews","change",function(){return a.notifyChange("editableItems")}),
x.watch(this,"editableItems",function(){var e=a.activeWorkflow;if(e){var f=e.stepId;"create"===e.type?(a.refreshCreationTemplates(),"awaiting-feature-creation-info"!==f||a.canCreate||a._cancelWorkflow()):"update"===e.type&&("awaiting-feature-to-update"===f&&!a.canUpdate||"awaiting-update-feature-candidate"===f&&!e.data.candidates.some(function(e){var f=a.editableItems.find(function(a){return a.layer===e.layer});return f&&-1<f.supports.indexOf("update")}))&&a._cancelWorkflow()}})])};l.prototype.destroy=
function(){var a=this;this._cancelWorkflow().then(function(){return a.view=null})};Object.defineProperty(l.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(a){a&&0!==a.length||(a=k.__spreadArrays(O));this._set("allowedWorkflows",a)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"canCreate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("create")})},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,
"canUpdate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("update")})},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"editableItems",{get:function(){var a=this,e=this.get("view.allLayerViews");if(!e)return new z;this.handles.remove("layer-view-property-watchers");var f=function(){return a.notifyChange("editableItems")};return e.filter(L).map(function(e){a.handles.add(x.watch(e,["suspended","suspendInfo"],f),"layer-view-property-watchers");
var n=e.layer,k=e.suspendInfo;e=[];var l=a.allowedWorkflows,p=n.capabilities,A=p.data,p=p.operations,B=M(a.layerInfos,n),A=A.supportsAttachment&&(!B||!1!==B.allowAttachments),l=l.filter(function(a){return B?!1!==B.enabled&&("create"===a&&!1!==B.addEnabled||"update"===a&&!1!==B.updateEnabled):!0}),k=k&&(k.layerInvisible||k.layerNotLoaded||k.outsideScaleRange||k.viewNotReady);!k&&D.find(l,function(a){return"create"===a})&&p.supportsAdd&&e.push("create");!k&&D.find(l,function(a){return"update"===a})&&
p.supportsUpdate&&e.push("update");!k&&!1!==(B&&B.deleteEnabled)&&p.supportsDelete&&e.push("delete");return{hasAttachments:A,layer:n,supports:e}}).reverse()},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var a=this.attachmentsViewModel.mode;return"add"===a?"adding-attachment":"edit"===a?"editing-attachment":(a=this.activeWorkflow)?a.stepId:"ready"},enumerable:!1,configurable:!0});
Object.defineProperty(l.prototype,"syncing",{get:function(){return 0<this.activityQueue.length},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"view",{set:function(a){this.sketchViewModel.view=a;this.spinnerViewModel.view=a;this._set("view",a)},enumerable:!1,configurable:!0});l.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return k.__awaiter(this,void 0,void 0,function(){var a;return k.__generator(this,function(e){switch(e.label){case 0:return this.canCreate?[4,
this._cancelWorkflow()]:(R("editing:unsupported-workflow","Create workflow is unsupported or disabled."),[2]);case 1:return e.sent(),a=this._createCreateWorkflow(),[4,a.start()];case 2:return e.sent(),this._set("activeWorkflow",a),[2]}})})};l.prototype.startCreateWorkflowAtFeatureCreation=function(a){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(R("editing:unsupported-workflow",
"Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),e=this._createCreateWorkflow("awaiting-feature-to-create"),e.data.creationInfo=a,[4,e.start()];case 2:return f.sent(),this._set("activeWorkflow",e),[2]}})})};l.prototype.startCreateWorkflowAtFeatureEdit=function(a){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(R("editing:unsupported-workflow","Update workflow is unsupported or disabled."),
[2]);case 1:return f.sent(),e=this._createCreateWorkflow("editing-new-feature"),e.data.edits.feature=a,[4,e.start()];case 2:return f.sent(),this._set("activeWorkflow",e),[2]}})})};l.prototype.startUpdateWorkflowAtFeatureSelection=function(){return k.__awaiter(this,void 0,void 0,function(){var a;return k.__generator(this,function(e){switch(e.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(R("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return e.sent(),
a=this._createUpdateWorkflow(),[4,a.start()];case 2:return e.sent(),this._set("activeWorkflow",a),[2]}})})};l.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(a){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(R("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),e=this._createUpdateWorkflow("awaiting-update-feature-candidate"),
e.data.candidates=a,[4,e.start()];case 2:return f.sent(),this._set("activeWorkflow",e),[2]}})})};l.prototype.startUpdateWorkflowAtFeatureEdit=function(a){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(R("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),e=this._createUpdateWorkflow("editing-existing-feature"),e.data.edits.feature=
a,[4,e.start()];case 2:return f.sent(),this._set("activeWorkflow",e),[2]}})})};l.prototype.deleteFeatureFromWorkflow=function(){return k.__awaiter(this,void 0,void 0,function(){var a;return k.__generator(this,function(e){switch(e.label){case 0:return a=this.activeWorkflow,a&&"create"!==a.type?[4,this._delete(a.data.edits.feature)]:(R("editing:unsupported-workflow","Deleting requires an active update workflow."),[2]);case 1:return e.sent(),[4,a.reset()];case 2:return e.sent(),[2]}})})};l.prototype.cancelWorkflow=
function(a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(e){return[2,this._cancelWorkflow(k.__assign({warn:!0},a))]})})};l.prototype.refreshCreationTemplates=function(){this.featureTemplatesViewModel.layers=this.editableItems.filter(function(a){return-1<a.supports.indexOf("create")}).map(function(a){return a.layer}).toArray()};l.prototype._cancelWorkflow=function(a){return k.__awaiter(this,void 0,void 0,function(){var e,f;return k.__generator(this,function(n){switch(n.label){case 0:e=
this.activeWorkflow;if(!e)return a&&a.warn&&R("editing:no-active-workflow","There is no active workflow to cancel."),[2];f=!a||!1!==a.force;if(!f)return[3,2];this.emit("workflow-cancel");this._set("activeWorkflow",null);return[4,e.cancel(a)];case 1:return n.sent(),[2];case 2:return[4,e.cancel(a)];case 3:return n.sent(),this._set("activeWorkflow",null),[2]}})})};l.prototype._createCreateWorkflow=function(a){var f=this;return e.create(this,a,function(a){return f._create(a)})};l.prototype._createUpdateWorkflow=
function(a){var e=this;return n.create(this,a,function(a){return e._update(a)})};l.prototype._create=function(a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(e){switch(e.label){case 0:return[4,this._applyEdits(a.layer,{addFeatures:[a]})];case 1:return e.sent(),[2]}})})};l.prototype._delete=function(a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(e){switch(e.label){case 0:return[4,this._applyEdits(a.layer,{deleteFeatures:[a]})];
case 1:return e.sent(),[2]}})})};l.prototype._update=function(a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(e){switch(e.label){case 0:return[4,this._applyEdits(a.layer,{updateFeatures:[a]})];case 1:return e.sent(),[2]}})})};l.prototype._applyEdits=function(a,e){return k.__awaiter(this,void 0,void 0,function(){var f;return k.__generator(this,function(n){switch(n.label){case 0:return[4,this._queueOperation(function(){return a.applyEdits(e)})];case 1:return n.sent(),
[4,this.view.whenLayerView(a)];case 2:return f=n.sent(),[4,x.whenFalseOnce(f,"updating")];case 3:return n.sent(),[2]}})})};l.prototype._queueOperation=function(a){var e=this;this.activityQueue.push(a);this.notifyChange("syncing");var f=function(a,e){a=e.indexOf(a);-1<a&&e.splice(a,1)};return a().then(function(a){var e=a.deleteFeatureResults,f=a.updateFeatureResults;if(a=D.find(a.addFeatureResults,function(a){return!!a.error})||D.find(f,function(a){return!!a.error})||D.find(e,function(a){return!!a.error}))throw a.error;
}).catch(function(n){R("editing:operation-error","An error occurred.",{error:n});var l={error:n,retry:function(){f(l,e.failures);return e._queueOperation(a)},cancel:function(){f(l,e.failures)}};e._set("failures",k.__spreadArrays(e.failures,[l]))}).then(function(){f(a,e.activityQueue);e.notifyChange("syncing")})};k.__decorate([p.property({readOnly:!0})],l.prototype,"activeWorkflow",void 0);k.__decorate([p.property({readOnly:!0})],l.prototype,"activityQueue",void 0);k.__decorate([p.property({value:k.__spreadArrays(O)})],
l.prototype,"allowedWorkflows",null);k.__decorate([p.property({readOnly:!0,dependsOn:["editableItems"]})],l.prototype,"canCreate",null);k.__decorate([p.property({readOnly:!0,dependsOn:["editableItems"]})],l.prototype,"canUpdate",null);k.__decorate([p.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],l.prototype,"editableItems",null);k.__decorate([p.property({readOnly:!0})],l.prototype,"failures",void 0);k.__decorate([p.property()],l.prototype,"attachmentsViewModel",
void 0);k.__decorate([p.property()],l.prototype,"featureFormViewModel",void 0);k.__decorate([p.property()],l.prototype,"featureTemplatesViewModel",void 0);k.__decorate([p.property()],l.prototype,"layerInfos",void 0);k.__decorate([p.property()],l.prototype,"sketchViewModel",void 0);k.__decorate([p.property()],l.prototype,"spinnerViewModel",void 0);k.__decorate([p.property({dependsOn:["attachmentsViewModel.mode","editableItems","activeWorkflow.stepId","view.ready"]})],l.prototype,"state",null);k.__decorate([p.property({readOnly:!0})],
l.prototype,"syncing",null);k.__decorate([p.property()],l.prototype,"view",null);return l=k.__decorate([p.subclass("esri.widgets.Editor.EditorViewModel")],l)}(v.HandleOwnerMixin(t.EventedAccessor))})},"esri/layers/GraphicsLayer":function(){define("require exports tslib ../core/accessorSupport/decorators ./Layer ./mixins/BlendLayer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),function(E,a,k,D,z,u,t,v,r){return function(a){function p(f){f=a.call(this,
f)||this;f.elevationInfo=null;f.graphics=new v.default;f.screenSizePerspectiveEnabled=!0;f.type="graphics";return f}k.__extends(p,a);p.prototype.destroy=function(){this.removeAll()};p.prototype.add=function(a){this.graphics.add(a);return this};p.prototype.addMany=function(a){this.graphics.addMany(a);return this};p.prototype.removeAll=function(){this.graphics.removeAll();return this};p.prototype.remove=function(a){this.graphics.remove(a)};p.prototype.removeMany=function(a){this.graphics.removeMany(a)};
p.prototype.on=function(f,k){return a.prototype.on.call(this,f,k)};p.prototype.graphicChanged=function(a){this.emit("graphic-update",a)};k.__decorate([D.property({type:r})],p.prototype,"elevationInfo",void 0);k.__decorate([D.property(v.graphicsCollectionProperty)],p.prototype,"graphics",void 0);k.__decorate([D.property({type:["show","hide"]})],p.prototype,"listMode",void 0);k.__decorate([D.property()],p.prototype,"screenSizePerspectiveEnabled",void 0);k.__decorate([D.property({readOnly:!0})],p.prototype,
"type",void 0);return p=k.__decorate([D.subclass("esri.layers.GraphicsLayer")],p)}(u.BlendLayer(t.ScaleRangeLayer(z)))})},"esri/layers/graphics/editingSupport":function(){define("require exports tslib ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/normalizeUtils".split(" "),function(E,a,k,D,z,u,t,v,r,x,p){function f(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,p;return k.__generator(this,
function(k){switch(k.label){case 0:return[4,a.load()];case 1:k.sent();n=a.source;if(!n||null==n.applyEdits)return[2,r.reject(new u(a.type+"-layer:no-editing-support","Layer source does not support applyEdits capability",{layer:a}))];if(!a.editingEnabled)throw new u(a.type+"-layer:editing-disabled","Editing is disabled for layer",{layer:a});return[4,l(a,e,f)];case 2:return p=k.sent(),p.addFeatures.length||p.updateFeatures.length||p.deleteFeatures.length||p.addAttachments.length||p.updateAttachments.length||
p.deleteAttachments.length?[2,n.applyEdits(p,f)]:[2,{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}]}})})}function l(a,f,l){return k.__awaiter(this,void 0,void 0,function(){var p,t,r,x;return k.__generator(this,function(G){p=f&&(f.addFeatures||f.updateFeatures||f.deleteFeatures);t=f&&(f.addAttachments||f.updateAttachments||f.deleteAttachments);if(!f||!p&&!t)throw new u(a.type+"-layer:missing-parameters",
"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!a.capabilities.data.isVersioned&&l&&l.gdbVersion)throw new u(a.type+"-layer:invalid-parameter","'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!a.capabilities.editing.supportsRollbackOnFailure&&l&&l.rollbackOnFailureEnabled)throw new u(a.type+"-layer:invalid-parameter","This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
if(!a.capabilities.editing.supportsGlobalId&&l&&l.globalIdUsed)throw new u(a.type+"-layer:invalid-parameter","This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!a.capabilities.editing.supportsGlobalId&&t)throw new u(a.type+"-layer:invalid-parameter","'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((!l||!l.globalIdUsed)&&t)throw new u(a.type+
"-layer:invalid-parameter","When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");r=k.__assign({},f);r.addFeatures=f&&z.isCollection(f.addFeatures)?f.addFeatures.toArray():r.addFeatures||[];r.updateFeatures=f&&z.isCollection(f.updateFeatures)?f.updateFeatures.toArray():r.updateFeatures||[];r.deleteFeatures=f&&z.isCollection(f.deleteFeatures)?f.deleteFeatures.toArray():r.deleteFeatures||[];r.addAttachments=r.addAttachments||[];r.updateAttachments=
r.updateAttachments||[];r.deleteAttachments=r.deleteAttachments||[];r.addFeatures=r.addFeatures.map(B);r.updateFeatures=r.updateFeatures.map(B);x=l&&l.globalIdUsed;r.addFeatures.forEach(function(e){return A(e,a,x)});r.updateFeatures.forEach(function(e){return A(e,a,x)});r.deleteFeatures.forEach(function(e){return A(e,a,x)});r.addAttachments.forEach(function(f){return e(f,a)});r.updateAttachments.forEach(function(f){return e(f,a)});return[2,n(r)]})})}function A(a,e,f){if(f){if("attributes"in a&&!a.attributes[e.globalIdField])throw new u(e.type+
"-layer:invalid-parameter","Feature should have 'globalId' when 'globalIdUsed' is true");if(!("attributes"in a||a.globalId))throw new u(e.type+"-layer:invalid-parameter","'globalId' of the feature should be passed when 'globalIdUsed' is true");}if("geometry"in a&&v.isSome(a.geometry)&&a.geometry.hasZ&&v.isSome(e.capabilities.data.supportsZ)&&!1===e.capabilities.data.supportsZ)throw new u(e.type+"-layer:z-unsupported","Service does not support z values while feature has z values.");}function e(a,e){var f=
a.feature;a=a.attachment;if(!f||"attributes"in f&&!f.attributes[e.globalIdField])throw new u(e.type+"-layer:invalid-parameter","Attachment should have reference to a feature with 'globalId'");if(!("attributes"in f||f.globalId))throw new u(e.type+"-layer:invalid-parameter","Attachment should have reference to 'globalId' of the parent feature");if(!a.globalId)throw new u(e.type+"-layer:invalid-parameter","Attachment should have 'globalId'");if(!a.data&&!a.uploadId)throw new u(e.type+"-layer:invalid-parameter",
"Attachment should have 'data' or 'uploadId'");if(!(a.data instanceof File&&a.data.name||a.name))throw new u(e.type+"-layer:invalid-parameter","'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!e.capabilities.editing.supportsUploadWithItemId&&a.uploadId)throw new u(e.type+"-layer:invalid-parameter","This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof a.data&&(f=x.dataComponents(a.data))&&
!f.isBase64)throw new u(e.type+"-layer:invalid-parameter","Attachment 'data' should be a Blob, File or Base64 encoded string");}function n(a){return k.__awaiter(this,void 0,void 0,function(){var e,f,n,l,A,B;return k.__generator(this,function(k){switch(k.label){case 0:return e=a.addFeatures,f=a.updateFeatures,n=e.concat(f).map(function(a){return a.geometry}),[4,p.normalizeCentralMeridian(n)];case 1:return l=k.sent(),A=e.length,B=f.length,l.slice(0,A).forEach(function(e,f){a.addFeatures[f].geometry=
e}),l.slice(A,A+B).forEach(function(e,f){a.updateFeatures[f].geometry=e}),[2,a]}})})}function B(a){var e=new D;a.attributes||(a.attributes={});e.geometry=a.geometry;e.attributes=a.attributes;return e}Object.defineProperty(a,"__esModule",{value:!0});a.applyEdits=a.isEditableLayer=void 0;a.isEditableLayer=function(a){return!0===a.get("capabilities.operations.supportsEditing")};a.applyEdits=function(a,e,n){return k.__awaiter(this,void 0,void 0,function(){var l,p,A,B,u,x,G;return k.__generator(this,function(k){switch(k.label){case 0:A=
{edits:e,result:r.create(function(a,e){l=a;p=e})},a.emit("apply-edits",A),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,f(a,e,n)];case 2:return B=k.sent(),u=function(a){return a.filter(function(a){return!a.error}).map(t.clone)},x={addedFeatures:u(B.addFeatureResults),updatedFeatures:u(B.updateFeatureResults),deletedFeatures:u(B.deleteFeatureResults),addedAttachments:u(B.addAttachmentResults),updatedAttachments:u(B.updateAttachmentResults),deletedAttachments:u(B.deleteAttachmentResults)},(x.addedFeatures.length||
x.updatedFeatures.length||x.deletedFeatures.length||x.addedAttachments.length||x.updatedAttachments.length||x.deletedAttachments.length)&&a.emit("edits",x),l(x),[2,B];case 3:throw G=k.sent(),p(G),G;case 4:return[2]}})})}})},"esri/widgets/Editor/CreateWorkflow":function(){define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ./CreateWorkflowData ./Edits ./Workflow ./workflowUtils".split(" "),function(E,a,k,D,z,u,t,v,r){function x(a){if(1!==a.length)return null;a=a[0];
if("items"in a){if(1===a.items.length)return a.items[0]}else return a;return null}return function(a){function f(f){f=a.call(this,f)||this;f.type="create";return f}k.__extends(f,a);l=f;f.create=function(a,e,f){a=new u({edits:new t,viewModel:a});f=new l({data:a,afterCommit:f});f._set("steps",this._createWorkflowSteps(f,e));return f};f._createWorkflowSteps=function(a,e){void 0===e&&(e="awaiting-feature-creation-info");var f=a.data,l=a.handles,p={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",
setUp:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){f.creationInfo=null;l.add(f.viewModel.featureTemplatesViewModel.on("select",function(a){a=a.item;f.creationInfo={layer:a.layer,template:a.template};f.viewModel.activeWorkflow.next()}),this.id);return[2]})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){l.remove(this.id);return[2]})})}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",
setUp:function(){return k.__awaiter(this,void 0,void 0,function(){var a,e;return k.__generator(this,function(n){switch(n.label){case 0:return e=(a=l).add,[4,r.setUpFeatureAdd(f.viewModel.sketchViewModel,f.creationInfo,f.viewModel.view,function(a){f.edits.feature=a;f.viewModel.activeWorkflow.next()})];case 1:return e.apply(a,[n.sent(),this.id]),[2]}})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){l.remove(this.id);return[2]})})}}},"editing-new-feature":function(){return{id:"editing-new-feature",
setUp:function(){return k.__awaiter(this,void 0,void 0,function(){var a,e,n,p,B,A,t,u;return k.__generator(this,function(k){switch(k.label){case 0:return a=f.edits.feature,e=f.viewModel,p=(n=r.findLayerInfo(e.layerInfos,a.layer))&&n.fieldConfig,e.featureFormViewModel.set({feature:a,fieldConfig:p}),B=r.getVisualVariableAttributes(a),[4,r.setUpGeometryUpdate(a,B,e.sketchViewModel,e.view,function(a){var n=a.geometry;a=a.attributes;if(D.isSome(B.rotation)){var k=B.rotation.field;e.featureFormViewModel.setValue(k,
a[k])}D.isSome(B.size)&&(k=B.size.field,e.featureFormViewModel.setValue(k,a[k]));f.edits.updateAttributes(a);f.edits.updateGeometry(n)})];case 1:return A=k.sent(),t=A.interactive,u=A.visual,l.add([f.viewModel.featureFormViewModel.on("value-change",function(){f.edits.updateAttributes(f.viewModel.featureFormViewModel.getValues());a.attributes=f.edits.feature.attributes}),t,u],this.id),[2]}})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){f.edits.feature=
null;f.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});l.remove(this.id);return[2]})})}}}},A=!1;a=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(a){return A?!0:A=a===e}).map(function(a){return p[a]()});f.viewModel.refreshCreationTemplates();var t=x(f.viewModel.featureTemplatesViewModel.items);"awaiting-feature-creation-info"===a[0].id&&t&&(f.creationInfo={layer:t.layer,template:t.template},a.shift());return a};var l;return f=
l=k.__decorate([z.subclass("esri.widgets.Editor.CreateWorkflow")],f)}(v)})},"esri/widgets/Editor/CreateWorkflowData":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(E,a,k,D,z){return function(a){function t(k){k=a.call(this,k)||this;k.creationInfo=null;k.edits=null;k.viewModel=null;return k}k.__extends(t,a);k.__decorate([z.property()],t.prototype,"creationInfo",void 0);k.__decorate([z.property()],t.prototype,"edits",void 0);k.__decorate([z.property()],
t.prototype,"viewModel",void 0);return t=k.__decorate([z.subclass("esri.widgets.Editor.CreateWorkflowData")],t)}(D)})},"esri/widgets/Editor/Edits":function(){define("require exports tslib ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators".split(" "),function(E,a,k,D,z,u,t){function v(a){return u.isNone(a)?null:JSON.stringify(a)}return function(a){function r(k){k=a.call(this,k)||this;k._baselineAttributesJSON=null;k._baselineGeometryJSON=null;k.feature=
null;return k}k.__extends(r,a);Object.defineProperty(r.prototype,"attributesModified",{get:function(){var a=this._baselineAttributesJSON,f=this.feature;return!(!f||a===v(f.attributes))},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"geometryModified",{get:function(){var a=this._baselineGeometryJSON,f=this.feature;return!(!f||a===v(f.geometry))},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"modified",{get:function(){return this.attributesModified||this.geometryModified},
enumerable:!1,configurable:!0});r.prototype.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=v(this.feature.attributes),this._baselineGeometryJSON=v(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))};r.prototype.updateAttributes=function(a){this.feature.attributes=a;this.notifyChange("attributesModified")};r.prototype.updateGeometry=function(a){this.feature.geometry=a;this.notifyChange("geometryModified")};k.__decorate([t.property()],
r.prototype,"attributesModified",null);k.__decorate([t.property()],r.prototype,"feature",void 0);k.__decorate([t.property()],r.prototype,"geometryModified",null);k.__decorate([t.property({dependsOn:["attributesModified","geometryModified"]})],r.prototype,"modified",null);return r=k.__decorate([t.subclass("esri.widgets.Editor.Edits")],r)}(z.HandleOwnerMixin(D))})},"esri/widgets/Editor/Workflow":function(){define("require exports tslib ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/HandleOwner ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(E,a,k,D,z,u,t,v,r){return function(a){function p(f){f=a.call(this,f)||this;f._indexHistory=[];f._lastStepIndex=-1;f._stepIndex=-1;f._handleKeys={afterCommit:"after-commit",beforeCommit:"before-commit"};f.data=null;f.started=!1;f.steps=null;f.type=null;return f}k.__extends(p,a);Object.defineProperty(p.prototype,"hasNextStep",{get:function(){var a=this.steps;return!!(a&&this._stepIndex<a.filter(function(a){return!a.parent}).length-1)},enumerable:!1,configurable:!0});Object.defineProperty(p.prototype,
"hasPreviousStep",{get:function(){return 0<this._stepIndex},enumerable:!1,configurable:!0});Object.defineProperty(p.prototype,"stepId",{get:function(){var a=this.steps;return(a=a&&a[this._stepIndex])&&a.id},enumerable:!1,configurable:!0});p.prototype.cancel=function(a){void 0===a&&(a={force:!0});return k.__awaiter(this,void 0,void 0,function(){var f=this;return k.__generator(this,function(k){return!1!==a.force?[2,this._cancel()]:[2,v.create(function(a,k){f.emit("cancel-request",{controller:{allow:function(){f._cancel().then(a)},
deny:function(){return k(new z("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})]})})};p.prototype.commit=function(){return k.__awaiter(this,void 0,void 0,function(){var a,l,p,e,n,B;return k.__generator(this,function(f){switch(f.label){case 0:return a=this.data,this.handles.remove(this._handleKeys.beforeCommit),l=a.edits.feature,p=l.clone(),a.edits.attributesModified||(e=l.layer.objectIdField,p.attributes=(B={},B[e]=l.getAttribute(e),B)),a.edits.geometryModified||(p.geometry=
null),[4,this.afterCommit(p)];case 1:return f.sent(),this.handles.remove(this._handleKeys.afterCommit),this.emit("commit"),(n=this.started)?[4,this.reset()]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2]}})})};p.prototype.go=function(a){return k.__awaiter(this,void 0,void 0,function(){var f,p;return k.__generator(this,function(e){switch(e.label){case 0:return f=this.steps,p=D.findIndex(f,function(e){return e.id===a}),this._indexHistory.push(this._stepIndex),[4,this._go(p)];case 1:return e.sent(),
[2]}})})};p.prototype.next=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){switch(a.label){case 0:return this._indexHistory.push(this._stepIndex),[4,this._go(this._stepIndex+1)];case 1:return a.sent(),[2]}})})};p.prototype.previous=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){switch(a.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return a.sent(),[2]}})})};p.prototype.reset=function(){return k.__awaiter(this,
void 0,void 0,function(){return k.__generator(this,function(a){switch(a.label){case 0:return[4,this._cancel(!1)];case 1:return a.sent(),[4,this.start()];case 2:return a.sent(),[2]}})})};p.prototype.start=function(){return k.__awaiter(this,void 0,void 0,function(){var a;return k.__generator(this,function(f){switch(f.label){case 0:return this._set("started",!0),a=-1===this._stepIndex?0:this._stepIndex,[4,this._go(a)];case 1:return f.sent(),[2]}})})};p.prototype._cancel=function(a){void 0===a&&(a=!0);
return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(f){switch(f.label){case 0:if(!this.started)return[3,2];this._set("started",!1);return[4,this.steps[this._stepIndex].tearDown()];case 1:f.sent(),f.label=2;case 2:return this.handles.remove([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),this._resetIndexing(a),a&&this.emit("cancel"),[2]}})})};p.prototype._go=function(a){void 0===a&&(a=-1);return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,
function(f){switch(f.label){case 0:return-1>=a||a>=this.steps.length?[2]:this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:(this._stepIndex=a,this._notifyStepProps(),[2]);case 1:f.sent(),f.label=2;case 2:return[4,this.steps[a].setUp()];case 3:return f.sent(),this._stepIndex=this._lastStepIndex=a,this._notifyStepProps(),[2]}})})};p.prototype._resetIndexing=function(a){void 0===a&&(a=!0);this._lastStepIndex=this._stepIndex=-1;this._indexHistory.length=0;a&&this._notifyStepProps()};
p.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};k.__decorate([r.property()],p.prototype,"afterCommit",void 0);k.__decorate([r.property()],p.prototype,"data",void 0);k.__decorate([r.property()],p.prototype,"hasNextStep",null);k.__decorate([r.property()],p.prototype,"hasPreviousStep",null);k.__decorate([r.property()],p.prototype,"started",void 0);k.__decorate([r.property({readOnly:!0,dependsOn:["steps"]})],p.prototype,
"stepId",null);k.__decorate([r.property()],p.prototype,"steps",void 0);k.__decorate([r.property()],p.prototype,"type",void 0);k.__decorate([r.property()],p.prototype,"commit",null);return p=k.__decorate([r.subclass("esri.widgets.Editor.Workflow")],p)}(t.HandleOwnerMixin(u.EventedAccessor))})},"esri/widgets/Editor/workflowUtils":function(){define("require exports tslib ../../Graphic ../../core/arrayUtils ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ../../core/accessorSupport/diffUtils ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../renderers/support/utils ../../renderers/visualVariables/support/sizeVariableUtils ../../renderers/visualVariables/support/visualVariableUtils ../../symbols/support/symbolConversion ../../symbols/support/symbolUtils ../../views/support/drapedUtils @dojo/framework/shim/Promise".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G){function N(a){var f=a.layer,k;a:switch(f.renderer.type){case "class-breaks":case "simple":case "unique-value":case "dot-density":case "dictionary":k=!0;break a;default:k=!1}var n=(a=k&&e.getVisualVariableValues(f.renderer,a))?a.map(function(a){return a.variable}):[];k=n.filter(function(a){return"rotation"===a.type&&(!a.axis||"heading"===a.axis)});a=k[0];k=1===k.length&&a.field&&!a.valueExpression;var l=n.filter(function(a){return"size"===a.type}),n=l[0],
l=1===l.length&&"real-world-size"===A.getTransformationType(n)&&n.field&&!n.useSymbolValue&&!n.valueExpression;return{rotation:k?P(a,f):null,size:l?M(n,f):null}}function P(a,e){var f="heading"===(a.axis||"heading")&&"arithmetic"===a.rotationType?-1:1,k=a.field,n=(a=e.fields&&e.fields.filter(function(a){return a.name===k}))&&1===a.length?a[0].type:"double",l=0,p=0;return{field:k,getDefault:function(){return v.resolve(0)},getValue:function(a){p=l-f*a;return I((p+360)%360,n)},initValue:function(a){l=
null!=a?a:p;p=0},isUpdatingInteractively:!1}}function R(a,e){switch(e){case "width":return a[0];case "depth":return a[1];case "height":return a[2];default:return a[2]||a[1]||a[0]}}function L(e,f,l){return k.__awaiter(this,void 0,void 0,function(){var p,B,A,r,x,G,v,N,M,z;return k.__generator(this,function(k){switch(k.label){case 0:if(t.isNone(f))return[2,0];p=n.to3D(f).symbol;if(t.isNone(p)||"web-style"===p.type)return[2,0];B=p.symbolLayers.getItemAt(0);if(!B)return[2,0];A=B.type;switch(A){case "icon":return[3,
1];case "text":return[3,5];case "line":return[3,6];case "object":return[3,7];case "path":return[3,10];case "extrude":return[3,10];case "fill":return[3,11];case "water":return[3,11]}return[3,12];case 1:return[4,new Promise(function(a,e){E(["../../symbols/support/symbolLayerUtils"],a,e)})];case 2:r=k.sent().computeIconLayerResourceSize;if(x=B.size)return[3,4];v=(G=Math).min;N=[a.sizeDefaults.icon];return[4,r(B,a.sizeDefaults.icon)];case 3:x=v.apply(G,N.concat([k.sent()[0]])),k.label=4;case 4:return[2,
x||a.sizeDefaults.icon];case 5:return[2,B.size||a.sizeDefaults.text];case 6:return[2,B.size||a.sizeDefaults.line];case 7:return[4,new Promise(function(a,e){E(["../../symbols/support/symbolLayerUtils"],a,e)})];case 8:return M=k.sent().computeObjectLayerResourceSize,[4,M(B,e.scale/a.sizeDefaults.viewScaleSizeFactor)];case 9:return z=k.sent(),[2,R(z,l)];case 10:return[2,B.size||e.scale/a.sizeDefaults.viewScaleSizeFactor];case 11:return[2,0];case 12:return u.neverReached(B),[2,0]}})})}function M(a,e){var f=
this,n=a.field,p=a.axis,B=(e=e.fields&&e.fields.filter(function(a){return a.name===n}))&&1===e.length?e[0].type:"double",A=0,t=0,r=l.meterIn[a.valueUnit],u;u="area"===a.valueRepresentation?function(a){return Math.pow(a*r/2,2)*Math.PI}:"radius"===a.valueRepresentation||"distance"===a.valueRepresentation?function(a){return a*r/2}:function(a){return a*r};return{field:n,getDefault:function(a,e){return k.__awaiter(f,void 0,void 0,function(){var f,n;return k.__generator(this,function(k){switch(k.label){case 0:return f=
I,n=u,[4,L(e,a,p)];case 1:return[2,f.apply(void 0,[n.apply(void 0,[k.sent()]),B])]}})})},getValue:function(a,e){A||(A=e.pixelSizeAt(e.center));t=A*a;return I(t,B)},initValue:function(a){A=null!=a?a:t;t=0},isUpdatingInteractively:!1}}function I(a,e){switch(e){case "small-integer":case "integer":case "long":return Math.round(a);case "double":case "single":return a;default:return 0}}function O(a){return k.__awaiter(this,void 0,void 0,function(){var e,f;return k.__generator(this,function(k){switch(k.label){case 0:return[4,
B.getDisplayedSymbol(a,{ignoreGraphicSymbol:!0})];case 1:return e=k.sent(),f=x.diff(a.symbol,e),t.isSome(f)&&(a.symbol=e),[2]}})})}function ea(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,A,r,u,x,G,v,M,z,P,I,L;return k.__generator(this,function(ia){switch(ia.label){case 0:if("3d"!==f.type)return[2];n=e.layer;l=k.__assign({},e.template.prototype.attributes);p=new D({layer:n,sourceLayer:n,attributes:l});A=N(p);r=A.rotation;u=A.size;return[4,B.getDisplayedSymbol(p)];case 1:x=ia.sent(),
G=!1,v=0,M=[u,r],ia.label=2;case 2:if(!(v<M.length))return[3,5];z=M[v];if(t.isNone(z))return[3,4];P=l[z.field];if(null!=P)return[3,4];I=l;L=z.field;return[4,z.getDefault(x,f)];case 3:I[L]=ia.sent(),G=!0,ia.label=4;case 4:return v++,[3,2];case 5:return G?[4,B.getDisplayedSymbol(p)]:[3,7];case 6:x=ia.sent(),ia.label=7;case 7:switch(null===x||void 0===x?void 0:x.type){case "simple-fill":case "polygon-3d":a.polygonSymbol=x;break;case "simple-line":case "line-3d":a.polylineSymbol=x;break;case "simple-marker":case "point-3d":a.pointSymbol=
x}return[2]}})})}function T(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l;return k.__generator(this,function(k){switch(k.label){case 0:return 0===a.length?[2,[]]:[4,e.hitTest(f)];case 1:n=k.sent();if(0===n.results.length)return[2,[]];l=new Map;n.results.forEach(function(a){a=a.graphic;var e=a.layer;l.has(e)||l.set(e,[]);l.get(e).push(a)});return[2,v.eachAlways(a.items.filter(function(a){var e=a.layer;return-1<a.supports.indexOf("update")&&l.has(e)}).map(function(a){a=a.layer;var e=
a.displayField,f=[a.objectIdField];p.hasField(a.fields,e)&&f.push(e);e=l.get(a);if(e.some(function(a){return f.some(function(e){return!(e in a.attributes)})})){var k=a.createQuery();k.outFields=f;k.returnGeometry=!1;k.objectIds=e.map(function(a){return a.getObjectId()});return a.queryFeatures(k).then(function(a){return a.features})}return v.resolve(e)}))]}})})}function ba(a,e,n){return k.__awaiter(this,void 0,void 0,function(){var l,B;return k.__generator(this,function(k){switch(k.label){case 0:return 0===
a.length?[2,[]]:[4,e.hitTest(n)];case 1:l=k.sent();if(0===l.results.length)return[2,[]];B=new Set;l.results.forEach(function(a){return B.add(a.graphic.layer)});return[2,v.eachAlways(a.items.filter(function(a){var e=a.layer;return-1<a.supports.indexOf("update")&&B.has(e)}).map(function(a){a=a.layer;var k=a.displayField,l=[a.objectIdField];p.hasField(a.fields,k)&&l.push(k);k=a.createQuery();k.outFields=l;k.returnGeometry=!1;l=f.calculateTolerance({renderer:a.renderer,event:n});k.geometry=G.createQueryGeometry(n.mapPoint,
l,e);return a.queryFeatures(k).then(function(a){return a.features})}))]}})})}Object.defineProperty(a,"__esModule",{value:!0});a.sizeDefaults=a.setUpGeometryUpdate=a.fetchFullFeature=a.fetchCandidates=a.findLayerInfo=a.setUpFeatureAdd=a.getVisualVariableAttributes=void 0;a.getVisualVariableAttributes=N;a.setUpFeatureAdd=function(a,e,f,n){return k.__awaiter(this,void 0,void 0,function(){var l,p,B,A=this;return k.__generator(this,function(t){switch(t.label){case 0:return l=e.layer,[4,ea(a,e,f)];case 1:return t.sent(),
a.layer.elevationInfo=l.elevationInfo,p=function(){return a.create(l.geometryType,{hasZ:l.capabilities.data.supportsZ})},[4,p()];case 2:return t.sent(),B=a.on("create",function(f){return k.__awaiter(A,void 0,void 0,function(){var B,A,t;return k.__generator(this,function(r){switch(r.label){case 0:B=f.state;A=f.graphic;if("cancel"===B)return p(),[2];if("complete"!==B)return[3,2];t=A.clone();t.attributes=k.__assign({},e.template.prototype.attributes);t.layer=l;a.layer.remove(A);return[4,O(t)];case 1:r.sent(),
n(t),r.label=2;case 2:return[2]}})})}),f.map.add(a.layer),[2,{remove:function(){B.remove();f.map.remove(a.layer);a.cancel()}}]}})})};a.findLayerInfo=function(a,e){return a&&z.find(a,function(a){return a.layer===e})};a.fetchCandidates=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(k){switch(e.type){case "3d":return[2,T(a,e,f)];case "2d":return[2,ba(a,e,f)];default:return u.neverReached(e),[2,null]}})})};a.fetchFullFeature=function(a,e,f){var k=a.layer,
n=k.createQuery();n.objectIds=[a.getAttribute(k.objectIdField)];n.outFields=["*"];n.outSpatialReference=e.spatialReference;n.returnM=k.capabilities.data.supportsM;n.returnZ=k.capabilities.data.supportsZ;return k.queryFeatures(n,f).then(function(a){return a.features[0]})};a.setUpGeometryUpdate=function(a,e,f,n,l){return k.__awaiter(this,void 0,void 0,function(){var p,B,A,r,u,x,G,v,N,M,z=this;return k.__generator(this,function(ia){switch(ia.label){case 0:return p=a.clone(),[4,O(p)];case 1:return ia.sent(),
f.layer.add(p),p.sourceLayer=a.layer,B=function(){var e=a.layer;if("graphics"===e.type)return{remove:function(){}};var f=a.attributes[e.objectIdField],k=n.whenLayerView(e);k.then(function(a){return a.setVisibility(f,!1)},function(){});return{remove:function(){k.then(function(a){return a.setVisibility(f,!0)},function(){})}}},A=B(),r=a.layer,u=e.size,x=e.rotation,G={multipleSelectionEnabled:!1},"point"===r.geometryType&&(G.enableRotation=!!x,G.enableScaling=!!u),f.layer.elevationInfo=r.elevationInfo,
f.update(p,G),v=(t.isSome(u)||t.isSome(x))&&a.watch("attributes",function(a){return k.__awaiter(z,void 0,void 0,function(){var e,f,l;return k.__generator(this,function(k){switch(k.label){case 0:e=!1;for(f in a)l=a[f],l!==p.attributes[f]&&(p.setAttribute(f,l),e=!0,t.isSome(u)&&!u.isUpdatingInteractively&&u.field===f&&u.initValue(l),t.isSome(x)&&!x.isUpdatingInteractively&&x.field===f&&x.initValue(l));return e&&"3d"===n.type?[4,O(p)]:[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})}),[x,u].forEach(function(e){return k.__awaiter(z,
void 0,void 0,function(){var f,l;return k.__generator(this,function(k){switch(k.label){case 0:if(t.isNone(e))return[2];f=a.attributes[e.field];if(null==f)return[3,1];e.initValue(f);return[3,4];case 1:return[4,e.getDefault(p.symbol,n)];case 2:return l=k.sent(),e.initValue(l),p.setAttribute(e.field,l),"3d"!==n.type?[3,4]:[4,O(p)];case 3:k.sent(),k.label=4;case 4:return[2]}})})}),N=f.on("update",function(a){return k.__awaiter(z,void 0,void 0,function(){var e,B,A,r,v,N,M,z;return k.__generator(this,function(k){switch(k.label){case 0:e=
a.graphics[0];B=a.state;A=a.toolEventInfo;if("complete"===B)return f.update(e,G),[2];r=A;t.isSome(x)&&r&&(v=x.field,N=x.getValue,M=x.initValue,"rotate-stop"===r.type?(x.isUpdatingInteractively=!1,M()):null!=r.angle&&(x.isUpdatingInteractively=!0,p.attributes[v]=N(r.angle/Math.PI*180,n)));z=A;t.isSome(u)&&z&&(v=u.field,N=u.getValue,M=u.initValue,"scale-stop"===z.type?(u.isUpdatingInteractively=!1,M()):null!=z.xScale&&(u.isUpdatingInteractively=!0,p.attributes[v]=N(z.xScale,n)));return"3d"!==n.type?
[3,2]:[4,O(p)];case 1:k.sent(),k.label=2;case 2:return l(e.clone()),[2]}})})}),n.map.add(f.layer),M=function(){},[2,{interactive:{remove:function(){N.remove();f.cancel();v&&v.remove();this.remove=M}},visual:{remove:function(){A.remove();n.map.remove(f.layer);f.layer.removeAll();this.remove=M}}}]}})})};a.sizeDefaults={icon:r.px2pt(24),text:r.px2pt(12),line:r.px2pt(1),viewScaleSizeFactor:100}})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(E,a){function k(a,
k){return k?"xoffset"in k&&k.xoffset?Math.max(a,Math.abs(k.xoffset)):"yoffset"in k&&k.yoffset?Math.max(a,Math.abs(k.yoffset||0)):a:a}function D(a,k){if("number"===typeof a)return a;if(a&&a.stops&&a.stops.length){a=a.stops;for(var t=k=0,r=0;r<a.length;r++){var u=a[r].size;"number"===typeof u&&(k+=u,t++)}return k/t}return k}function z(a,k){if(!k)return a;k=k.filter(function(a){return"size"===a.type}).map(function(k){var f=k.minSize;return(D(k.maxSize,a)+D(f,a))/2});var t=0,r=k.length;if(0===r)return a;
for(var u=0;u<r;u++)t+=k[u];return Math.max(Math.floor(t/r),a)}Object.defineProperty(a,"__esModule",{value:!0});a.calculateTolerance=void 0;a.calculateTolerance=function(a){var t=a&&a.renderer;a="touch"===(a&&a.event&&a.event.pointerType)?9:6;if(!t)return a;a="visualVariables"in t?z(a,t.visualVariables):a;if("simple"===t.type)return k(a,t.symbol);if("unique-value"===t.type){var u=a;t.uniqueValueInfos.forEach(function(a){u=k(u,a.symbol)});return u}if("class-breaks"===t.type){var r=a;t.classBreakInfos.forEach(function(a){r=
k(r,a.symbol)});return r}return a}})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(E,a,k,D,z,u){function t(a,t,p,f){void 0===f&&(f=new k.Extent);var l;if("2d"===p.type)l=t*p.resolution;else if("3d"===p.type){var A=p.basemapTerrain,e=A.overlayManager,e=e?e.overlayPixelSizeInMapUnits(a):1;l=A&&!A.spatialReference.equals(p.spatialReference)?z.getMetersPerUnitForSR(A.spatialReference)/
z.getMetersPerUnitForSR(p.spatialReference):t*e}t=a.x-l;A=a.y-l;e=a.x+l;a=a.y+l;p=p.spatialReference;f.xmin=Math.min(t,e);f.ymin=Math.min(A,a);f.xmax=Math.max(t,e);f.ymax=Math.max(A,a);f.spatialReference=p;return f}Object.defineProperty(a,"__esModule",{value:!0});a.intersectsDrapedGeometry=a.createQueryGeometry=void 0;a.createQueryGeometry=t;a.intersectsDrapedGeometry=function(a,k,p){a=p.toMap(a);if(D.isNone(a))return null;var f=u.calculateTolerance();return t(a,f,p,v).intersects(k)?a:null};var v=
new k.Extent})},"esri/widgets/Editor/UpdateWorkflow":function(){define("require exports tslib ../../core/arrayUtils ../../core/maybe ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../views/support/layerViewUtils ./Edits ./UpdateWorkflowData ./Workflow ./workflowUtils".split(" "),function(E,a,k,D,z,u,t,v,r,x,p,f,l){return function(a){function e(e){e=a.call(this,e)||this;e.type="update";return e}k.__extends(e,a);f=e;e.create=function(a,e,k){a=new p({edits:new x,
viewModel:a});k=new f({data:a,afterCommit:k});k._set("steps",this._createWorkflowSteps(k,e));return k};e.prototype.highlight=function(a){var e=this.data.viewModel.view,e=a&&D.find(e.allLayerViews.items,function(e){return e.layer===a.layer});r.highlightsSupported(e)&&this.handles.add(e.highlight(a),"candidate-highlight")};e.prototype.unhighlight=function(){this.handles.remove("candidate-highlight")};e._createWorkflowSteps=function(a,e){void 0===e&&(e="awaiting-feature-to-update");var f=a.data,n=a.handles,
p={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return k.__awaiter(this,void 0,void 0,function(){var a,e,p,B,A;return k.__generator(this,function(t){a=f.viewModel;e=a.spinnerViewModel;p=a.view;B=null;n.add({remove:function(){B&&(B.abort(),B=null)}},this.id);f.edits.feature=null;A=p.on("immediate-click",function(a){e.location=a.mapPoint;e.visible=!0;B&&B.abort();var n=f.viewModel.editableItems;B=u.createAbortController();u.create(function(e,f){u.onAbort(B.signal,
function(){return f(u.createAbortError())});e(l.fetchCandidates(n,p,a))}).then(function(a){f.viewModel.spinnerViewModel.visible=!1;u.throwIfAborted(B);f.candidates=a.reduce(function(a,e){return e.error?a:k.__spreadArrays(a,e.value)},[]);0!==f.candidates.length&&(1===f.candidates.length?(f.edits.feature=f.candidates[0],f.viewModel.activeWorkflow.go("editing-existing-feature")):f.viewModel.activeWorkflow.next())})});n.add(A,this.id);return[2]})})},tearDown:function(){return k.__awaiter(this,void 0,
void 0,function(){return k.__generator(this,function(a){n.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return k.__awaiter(this,void 0,void 0,function(){var e;return k.__generator(this,function(k){e=f.edits;e.feature=null;n.add(t.watch(e,"feature",function(e){a.unhighlight();a.highlight(e)}),this.id);return[2]})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,
function(e){a.unhighlight();n.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return k.__awaiter(this,void 0,void 0,function(){var e,p,B,A=this;return k.__generator(this,function(t){e=f.edits.feature;p=f.viewModel;f.editableItem=p.editableItems.find(function(a){return a.layer===e.layer});B=u.createAbortController();n.add({remove:function(){return B.abort()}},this.id);return[2,l.fetchFullFeature(e,p.view,B).then(function(e){return k.__awaiter(A,
void 0,void 0,function(){var A,t,r,x,G,v,N,M,D;return k.__generator(this,function(k){switch(k.label){case 0:if(u.isAborted(B))return[2];f.edits.updateGeometry(e.geometry);f.edits.updateAttributes(e.attributes);f.edits.trackChanges();A=e.layer;r=(t=l.findLayerInfo(p.layerInfos,A))&&t.fieldConfig;p.attachmentsViewModel.set({graphic:e,mode:"view"});p.featureFormViewModel.set({feature:e,fieldConfig:r});x=[p.featureFormViewModel.on("value-change",function(){f.edits.updateAttributes(p.featureFormViewModel.getValues());
e.attributes=f.edits.feature.attributes}),p.attachmentsViewModel.watch("mode",function(a){"add"===a&&f.viewModel.activeWorkflow.go("adding-attachment");"edit"===a&&f.viewModel.activeWorkflow.go("editing-attachment")})];G=A.capabilities.editing.supportsGeometryUpdate;if(!G)return[3,2];v=l.getVisualVariableAttributes(e);return[4,l.setUpGeometryUpdate(e,v,p.sketchViewModel,p.view,function(a){var e=a.geometry;a=a.attributes;if(z.isSome(v.rotation)){var k=v.rotation.field;p.featureFormViewModel.setValue(k,
a[k])}z.isSome(v.size)&&(k=v.size.field,p.featureFormViewModel.setValue(k,a[k]));f.edits.updateAttributes(a);f.edits.updateGeometry(e)})];case 1:return N=k.sent(),M=N.interactive,D=N.visual,x.push(M,D),n.add(M,a._handleKeys.beforeCommit),n.add(D,a._handleKeys.afterCommit),[3,3];case 2:a.highlight(e),k.label=3;case 3:return n.add(x,this.id),[2]}})})})]})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(e){f.editableItem=null;f.viewModel.featureFormViewModel.set({feature:null,
fieldConfig:null});n.remove(this.id);a.unhighlight();return[2]})})}}},"adding-attachment":function(){return{id:"adding-attachment",parent:"editing-existing-feature",setUp:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return[2]})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return[2]})})}}},"editing-attachment":function(){return{id:"editing-attachment",parent:"editing-existing-feature",
setUp:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return[2]})})},tearDown:function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return[2]})})}}}},B=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature","adding-attachment","editing-attachment"].filter(function(a){return B?!0:B=a===e}).map(function(a){return p[a]()})};var f;return e=f=k.__decorate([v.subclass("esri.widgets.Editor.UpdateWorkflow")],
e)}(f)})},"esri/widgets/Editor/UpdateWorkflowData":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(E,a,k,D,z){return function(a){function t(k){k=a.call(this,k)||this;k.candidates=null;k.editableItem=null;k.edits=null;k.viewModel=null;return k}k.__extends(t,a);k.__decorate([z.property()],t.prototype,"candidates",void 0);k.__decorate([z.property()],t.prototype,"editableItem",void 0);k.__decorate([z.property()],t.prototype,"edits",
void 0);k.__decorate([z.property()],t.prototype,"viewModel",void 0);return t=k.__decorate([z.subclass("esri.widgets.Editor.UpdateWorkflowData")],t)}(D)})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports tslib ../../geometry ../../Graphic ../../symbols ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../geometry/support/geodesicConstants ../../layers/GraphicsLayer ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/DOMContainer ../../views/3d/interactive/editingTools/isSupportedGraphicUtils ../../views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic ../../views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic ../../views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ../../views/draw/support/layerUtils ../../views/input/InputManager ./support/OperationHandle @dojo/framework/shim/Promise".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G,N,P,R,L,M,I,O,ea,T,ba,V,ha,Q,S){function aa(a,e){var f=a.history.undo.pop().updates,k=[];e.forEach(function(a,e){e=f[e];var n={};null!=e&&(l.isSome(e.geometry)&&(n.geometry=a.geometry,a.geometry=e.geometry),l.isSome(e.symbol)&&(n.symbol=a.symbol,a.symbol=e.symbol),k.push(n))});a.history.redo.push({updates:k})}function W(a,e){var f=a.history.redo.pop().updates,k=[];e.forEach(function(a,e){e=f[e];var n={};null!=e&&(l.isSome(e.geometry)&&(n.geometry=a.geometry,
a.geometry=e.geometry),l.isSome(e.symbol)&&(n.symbol=a.symbol,a.symbol=e.symbol),k.push(n))});a.history.undo.push({updates:k})}function Z(a){return{updates:a.map(function(a){return{geometry:a.geometry}})}}function ka(a){return{updates:a.map(function(a){return{symbol:a.symbol}})}}function ca(a){return"requireError"in a&&"aborted"===a.requireError}var la=f.getLogger("esri.widgets.Sketch.SketchViewModel"),ra=["Backspace","Delete"];return function(a){function f(e){e=a.call(this,e)||this;e._activeFillGraphic=
null;e._activeLineGraphic=null;e._centerIndicatorGraphic=null;e._centerSymbol=new L({style:"cross",size:6,color:[255,255,255]});e._defaultSegmentOffset=48;e._numUpdating=0;e._handles=new p;e._internalGraphicsLayer=new N({listMode:"hide"});e._lineGraphic=null;e._operationHandle=null;e._vertexGraphics=[];e._viewHandles=new p;e._doUnnormalization=!1;e.activeFillSymbol=new P({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});e.activeLineSymbol=new R({color:[12,207,255,1],width:2,style:"dash"});
e.activePointSymbol=new L({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});e.activeVertexSymbol=new L({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});e.createGraphic=null;e.defaultCreateOptions={mode:"hybrid"};e.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform",enableZ:!0};e.layer=null;e.pointSymbol=
new L({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});e.polygonSymbol=new P({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});e.polylineSymbol=new R({color:[130,130,130,1],width:2});e.updateGraphics=new t;e.updateOnGraphicClick=!0;e.updatePointSymbol=new L({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});e.updatePolygonSymbol=new P({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});e.updatePolylineSymbol=new R({color:[12,
207,255],width:2});e.vertexSymbol=new L({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});e._originalAutoOpenEnabled=null;return e}k.__extends(f,a);f.prototype.initialize=function(){var a=this;this._handles.add([e.watch(this,"layer",function(){a.cancel();a._internalGraphicsLayer.elevationInfo=l.isSome(a.layer)?a.layer.elevationInfo:null}),e.on(this,"view.map.layers","change",function(e){0<=e.removed.indexOf(a.layer)&&a.cancel()}),e.on(this,"layer.graphics","change",function(e){if(l.isSome(a._operationHandle)){var f=
0;for(e=e.removed;f<e.length;f++){var k=e[f];a.updateGraphics.includes(k)&&(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(k):a._operationHandle.cancel())}}}),e.init(this,"layer.elevationInfo",function(){a.cancel();a._internalGraphicsLayer.elevationInfo=l.isSome(a.layer)?a.layer.elevationInfo:null},!0)])};f.prototype.destroy=function(){this.cancel();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=null;this._removeDefaultLayer();this._draw&&
this._draw.destroy();this._set("view",null);this.emit("destroy")};Object.defineProperty(f.prototype,"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?"move":"transform"},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new ba({view:this.view}):null},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"updating",{get:function(){return 0<this._numUpdating},enumerable:!1,configurable:!0});
Object.defineProperty(f.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"activeComponent",{get:function(){return this._operationHandle?this._operationHandle.activeComponent:null},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),e=this._operationHandle;return a&&e?"active":
a?"ready":"disabled"},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"view",{get:function(){return this._get("view")},set:function(a){var f=this,k=this._get("view");if(k){var n=k.map;k.container&&(k.cursor=null);n&&n.remove(this._internalGraphicsLayer);this._viewHandles.removeAll();this.cancel()}this._doUnnormalization=null!=a&&"3d"===a.type&&"global"===a.viewingMode;this._handles.remove("view-ready");a&&this._handles.add(e.when(a,"ready",function(e){f._viewHandles.removeAll();
e&&f._viewHandles.add(f._generateViewHandles(a))},!0),"view-ready");this._set("view",a)},enumerable:!1,configurable:!0});f.prototype.cancel=function(){this._moduleLoaderAbortController&&(this._moduleLoaderAbortController.abort(),this._moduleLoaderAbortController=null);this._operationHandle&&this._operationHandle.cancel()};f.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};f.prototype.delete=function(){var a=this.updateGraphics;if("active"===this.state&&a.length){var e=
this.activeTool,f=this.layer,a=a.toArray();f.removeMany(a);this.cancel();this._emitDeleteEvent({graphics:a,tool:e})}};f.prototype.create=function(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n,p=this;return k.__generator(this,function(k){switch(k.label){case 0:if("disabled"===this.state)return this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),
[2];this.cancel();return a?[4,this._setupCreateOperation(a,e)]:(this._logError("sketch:missing-parameter","Missing parameter 'tool'."),[2]);case 1:f=k.sent();if(l.isNone(f))return[2];ha.addUniqueLayer(this.view,this._internalGraphicsLayer);n=function(){if(f===p._operationHandle){var e=p.createGraphic,k=p._operationHandle.cancelled;p._operationHandle.destroy();p._operationHandle=null;p._set("createGraphic",null);p.view&&p.view.map&&p.view.map.remove(p._internalGraphicsLayer);f.cancelled||p.layer.add(e);
p.emit("create",{graphic:e,state:k?"cancel":"complete",tool:a,toolEventInfo:null,type:"create"})}};f.on("complete",n);this._operationHandle=f;this.view.ready&&M.isDOMContainer(this.view)&&this.view.focus();return[2]}})})};f.prototype.update=function(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n,p,B,A,t,r,u=this;return k.__generator(this,function(k){switch(k.label){case 0:f=this;n=f.layer;p=f.state;B=f.view;if("disabled"===p)return n||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),
B||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),[2];this.cancel();A=Array.isArray(a)?a:[a];return null!=a&&A&&A.length?(t=A.some(function(a){return a.layer!==n?(u._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):l.isNone(a.geometry)?(u._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"!==
B.type||B.spatialReference.equals(a.geometry.spatialReference)?!1:(u._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)}))?[2]:[4,this._setupUpdateOperation(A,e)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),[2]);case 1:r=k.sent();if(l.isNone(r)||ca(r))return[2];ha.addUniqueLayer(this.view,this._internalGraphicsLayer);this.emit("update",{graphics:A,state:"start",
aborted:!1,tool:r.tool,toolEventInfo:null,type:"update"});this._setUpdateOperationHandle(r);return[2]}})})};f.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};f.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};f.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};f.prototype.canRedo=function(){return!(!this._operationHandle||!this._operationHandle.canRedo())};f.prototype.toggleUpdateTool=function(){this._operationHandle&&
this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};Object.defineProperty(f.prototype,"snapToScene",{set:function(a){this._operationHandle&&this._operationHandle.setSnapToScene&&this._operationHandle.setSnapToScene(a);this._set("snapToScene",a)},enumerable:!1,configurable:!0});f.prototype._getFirstHit=function(a){var e,f;return k.__awaiter(this,void 0,void 0,function(){var n,l,p,B,A,t;return k.__generator(this,function(k){switch(k.label){case 0:n=[];l=this.view.type;switch(l){case "2d":return[3,
1];case "3d":return[3,3]}return[3,5];case 1:return[4,this.view.hitTest(a)];case 2:return p=k.sent(),0<p.results.length&&(B=p.results[0],B.graphic&&(A=B.graphic,"vector-tile"!==(null===(e=A.layer)||void 0===e?void 0:e.type)&&"imagery"!==(null===(f=A.layer)||void 0===f?void 0:f.type)&&n.push(B))),[3,5];case 3:return t=[this.view.map.ground],this.view.map.allLayers.forEach(function(a){"integrated-mesh"===a.type&&t.push(a)}),[4,this.view.hitTest(a,{exclude:t})];case 4:return p=k.sent(),0<p.results.length&&
(B=p.results[0],(!p.ground||1>this.view.map.ground.opacity||p.ground.distance-B.distance>-Math.min(3*p.ground.distance,"global"===this.view.viewingMode?G.earthRadius/this.view.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY))&&n.push(B)),[3,5];case 5:return[2,{screenPoint:a,results:n}]}})})};f.prototype._generateViewHandles=function(a){var e=this;return[a.on("immediate-click",function(f){var n=e._operationHandle,p=e.defaultUpdateOptions,B=e.layer,t=e.state,r=e.updateGraphics,u=e.updateOnGraphicClick,
n="active"===t&&"create"===n.type;"disabled"!==t&&!n&&u&&(e._beginAsyncOperation(),e._getFirstHit(A.createScreenPointFromEvent(f)).then(function(k){k=k.results;if(k.length)for(var n=0;n<k.length;++n){var l=k[n];if(l.graphic){l=l.graphic;if(-1<r.indexOf(l)||l.layer===B)return f.stopPropagation(),l;"2d"!==a.type||e._isComponentGraphic(l)||"active"!==t||e.cancel()}}else"active"===t&&e.cancel();return null}).then(function(a){return l.isSome(a)&&-1===r.indexOf(a)?e.update([a],k.__assign({},p)):null}).then(function(){e._endAsyncOperation()}))},
Q.ViewEventPriorities.WIDGET)]};f.prototype._setupCreateOperation=function(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n,p;return k.__generator(this,function(B){switch(B.label){case 0:if(!a)return[2,null];f=k.__assign(k.__assign({hasZ:"3d"===this.view.type,defaultZ:0},this.defaultCreateOptions),e);if("2d"!==this.view.type)return[3,1];switch(a){case "point":n=this._setupCreatePointOperation(a,f);break;case "multipoint":n=this._setupCreateMultipointOperation(a,null);break;case "polygon":n=
this._setupCreatePolyOperation(a,f);break;case "polyline":n=this._setupCreatePolyOperation(a,f);break;case "rectangle":n=this._setupCreateRectangleOperation(a,f);break;case "circle":n=this._setupCreateCircleOperation(a,f)}return[3,3];case 1:return[4,this._setupCreate3DOperation(a,this.view,f)];case 2:p=B.sent();if(l.isNone(p)||ca(p))return[2,null];n=p;B.label=3;case 3:return[2,n]}})})};f.prototype._setupCreate3DOperation=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,p,B,A,
t,r,u,x,G=this;return k.__generator(this,function(y){switch(y.label){case 0:if(!a||"multipoint"===a)return[2,null];n={point:this.pointSymbol,multipoint:null,polyline:this.polylineSymbol,polygon:this.polygonSymbol,rectangle:this.polygonSymbol,circle:this.polygonSymbol};p=n[a];this._removeCreateOperationGraphics();B=k.__assign(k.__assign(k.__assign({view:e,hasZ:!0,defaultZ:0,mode:"hybrid",elevationInfo:this.layer.elevationInfo,geometryType:a},this.defaultCreateOptions),f),{createGraphicSymbol:p,snapToScene:this._getDefaultSnapToScene(),
forceUniformSize:!1,centered:"rectangle"===a?!1:!0});return[4,this._requireModule(new Promise(function(a,e){E(["../../views/3d/interactive/editingTools"],a,e)}))];case 1:A=y.sent();if(ca(A))return[2,A];t=new A.module.DrawGraphicTool(B);this.view.tools.add(t);r=null;this.view.activeTool=t;u=[];x=new S.OperationHandle({activeComponent:t,tool:a,type:"update",onEnd:function(){var a;u.forEach(function(a){return a.remove()});u.length=0;null===(a=G.view.tools)||void 0===a?void 0:a.remove(t);t.destroy()},
undo:function(){t.canUndo&&t.undo()},redo:function(){t.canRedo&&t.redo()},canUndo:function(){return t.canUndo},canRedo:function(){return t.canRedo},setSnapToScene:function(a){t.snapToScene=a}});u.push(this.view.on("key-down",function(e){" "===e.key?(e.stopPropagation(),e.repeat||(t.enabled=!1)):"c"===e.key?(e.stopPropagation(),t.completeCreateOperation()):"z"===e.key?(e.stopPropagation(),x.undo()):"r"===e.key?(e.stopPropagation(),x.redo()):"Control"===e.key?e.repeat||(t.forceUniformSize=!0,e.stopPropagation()):
"Alt"!==e.key||e.repeat||(t.centered="rectangle"===a?!0:!1,e.stopPropagation())},Q.ViewEventPriorities.WIDGET),this.view.on("key-up",function(e){" "===e.key?t.enabled=!0:"Control"===e.key?(t.forceUniformSize=!1,e.stopPropagation()):"Alt"===e.key&&(t.centered="rectangle"===a?!1:!0,e.stopPropagation())},Q.ViewEventPriorities.WIDGET),t.on("vertex-add",function(e){r=l.isNone(r)?"start":"active";switch(e.operation){case "apply":G.emit("create",{graphic:l.unwrap(t.createGraphic),state:r,tool:G.activeTool,
toolEventInfo:e,type:"create"});break;case "undo":G._emitUndoEvent({graphics:[l.unwrap(t.createGraphic)],tool:a});break;case "redo":G._emitRedoEvent({graphics:[l.unwrap(t.createGraphic)],tool:a})}}),t.on("cursor-update",function(a){0<t.drawOperation.numCommittedVertices&&G.emit("create",{graphic:l.unwrap(t.createGraphic),state:"active",tool:G.activeTool,toolEventInfo:{coordinates:a.vertices[0].coordinates,type:"cursor-update"},type:"create"})}),t.on("vertex-remove",function(e){switch(e.operation){case "apply":G.emit("create",
{graphic:l.unwrap(t.createGraphic),state:"active",tool:G.activeTool,toolEventInfo:e,type:"create"});break;case "undo":G._emitUndoEvent({graphics:[l.unwrap(t.createGraphic)],tool:a});break;case "redo":G._emitRedoEvent({graphics:[l.unwrap(t.createGraphic)],tool:a})}}),t.on("complete",function(a){G._removeCreateOperationGraphics();G._set("createGraphic",l.unwrap(a.graphic));r="complete";a.aborted?x&&x.cancel():x&&x.complete()}));return[2,x]}})})};f.prototype._setupCreatePointOperation=function(a,e){var f=
this;e=this._draw.create(a,{elevationInfo:this.layer.elevationInfo,hasZ:e.hasZ,defaultZ:e.defaultZ,interactiveUndoDisabled:!0});var n=[e.on("cursor-update",function(a){l.isSome(a.vertexIndex)?f._displayCrosshairCursor():f._displayDefaultCursor()}),e.on("draw-complete",function(a){a=f.createPointFromVertex(a.vertices[0]);a=new z(a,f.pointSymbol);f._set("createGraphic",a);B&&B.complete()})],p=[this.view.on("key-down",function(a){"Escape"===a.key&&(B&&B.cancel(),a.stopPropagation())},Q.ViewEventPriorities.WIDGET)],
B=this._operationHandleForCreateAction(e,k.__spreadArrays(n,p),a);return B};f.prototype._setupCreateMultipointOperation=function(a,e){var f=this;e=k.__assign(k.__assign({},e),{undoDisabled:!0});e=this._draw.create(a,e);var n=null,l=[],p=this._operationHandleForCreateAction(e,l,a);l.push(e.on("vertex-add",function(e){var k=e.type,l=e.vertexIndex,p=e.vertices,B=p[l];n=e;f._drawMultipointGraphic(p,!0);f.emit("create",{graphic:f.createGraphic,state:1===p.length?"start":"active",tool:a,toolEventInfo:{added:B,
vertices:[{coordinates:B,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),e.on("vertex-remove",function(e){var k=e.type,l=e.vertexIndex,p=e.vertices,B=p[l];n=e;f._drawMultipointGraphic(p,!0);f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:B,vertices:[{coordinates:B,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),e.on("vertex-update",function(e){var k=e.type,l=e.vertexIndex,p=e.vertices,B=p[l];n=e;f._drawMultipointGraphic(p,!0);f.emit("create",
{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{type:k,updated:B,vertices:[{coordinates:B,componentIndex:0,vertexIndex:l}]},type:"create"})}),e.on("cursor-update",function(a){n=a}),e.on("draw-complete",function(a){a=a.vertices.slice(0);(a=V.createMultipoint(a,f.view.spatialReference))&&f.createGraphic&&(f.createGraphic.geometry=a);p&&p.complete()}),e.on("undo",function(a){a=a.vertices;var e=n&&"cursor-update"!==n.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,
e)}),e.on("redo",function(a){a=a.vertices;var e=n&&"cursor-update"!==n.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,e)}));l.push(this.view.on("pointer-move",function(){return f._displayCrosshairCursor()},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return f._getCommonUpdateOperationKeyDownHandlers(p,a)},Q.ViewEventPriorities.WIDGET));return p};f.prototype._getDefaultSnapToScene=function(){if("2d"===this.view.type)return!1;var a=null;return a=l.isSome(this.snapToScene)?
this.snapToScene:l.isSome(this.layer.elevationInfo)?"absolute-height"===this.layer.elevationInfo.mode:!0};f.prototype._setupCreatePolyOperation=function(a,e){var f=this;e=k.__assign(k.__assign({},e),{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0});var n=null;"polyline"===a?n=this._draw.create(a,e):"polygon"===a&&(n=this._draw.create(a,e));var l=new D.Point,p=null,B=!1;e=[n.on("vertex-add",function(e){var k=e.type,n=e.vertexIndex,l=e.vertices,A=l[n];f._snap(a,l,B);p=e;f._drawVertexGraphics(a,
l,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:1===l.length?"start":"active",tool:a,toolEventInfo:{added:A,vertices:[{coordinates:A,componentIndex:0,vertexIndex:n}],type:k},type:"create"})}),n.on("vertex-remove",function(e){var k=e.type,n=e.vertexIndex,l=e.vertices,A=l[n];f._snap(a,l,B);p=e;f._drawVertexGraphics(a,l,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:A,vertices:[{coordinates:A,componentIndex:0,vertexIndex:n}],
type:k},type:"create"})}),n.on("vertex-update",function(e){var k=e.type,n=e.vertexIndex,l=e.vertices,A=l[n];f._snap(a,l,B);p=e;f._drawVertexGraphics(a,l,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{type:k,updated:A,vertices:[{coordinates:A,componentIndex:0,vertexIndex:n}]},type:"create"})}),n.on("cursor-update",function(e){var k=e.type,n=e.vertices;e.mapPoint&&(f._snap(a,n,B),p=e,l=e.mapPoint,f._drawVertexGraphics(a,n,{userClicked:!1}),1<n.length&&
f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:n[n.length-1],type:k},type:"create"}))}),n.on("draw-complete",function(e){e=e.vertices.slice(0);var k=null;"polyline"===a?k=V.createPolyline([e],f.view.spatialReference,f._doUnnormalization):"polygon"===a&&(k=V.createPolygon([e],f.view.spatialReference,f._doUnnormalization,!0));k&&(f.createGraphic.geometry=k);x&&x.complete()}),n.on("undo",function(e){e=e.vertices;var k=p&&"cursor-update"!==p.type;f._resetCreateOperationGraphics();
f._snap(a,e,B);e.length&&f._drawVertexGraphics(a,e,{userClicked:k})}),n.on("redo",function(e){e=e.vertices;var k=p&&"cursor-update"!==p.type;f._resetCreateOperationGraphics();f._snap(a,e,B);e.length&&f._drawVertexGraphics(a,e,{userClicked:k})})];var t=[this.view.on("pointer-move",function(a){f.view.toMap(A.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(e){var k=n.vertices.slice(0),l=p&&"cursor-update"!==
p.type;"Control"===e.key?"2d"!==f.view.type||B||(B=!0,f._snap(a,k,!l),f._drawVertexGraphics(a,k,{userClicked:l})):"z"===e.key&&x&&x.canUndo()?(e.stopPropagation(),x.undo()):"r"===e.key&&x&&x.canRedo()?(e.stopPropagation(),x.redo()):"Escape"===e.key&&x&&x.cancel()},Q.ViewEventPriorities.WIDGET),this.view.on("key-up",function(e){var k=n.vertices.slice(0),A=p&&"cursor-update"!==p.type;"Control"===e.key&&B&&(A||(k.pop(),k.push([l.x,l.y]),f._drawVertexGraphics(a,k,{userClicked:A})),B=!1)},Q.ViewEventPriorities.WIDGET)];
if("polygon"===a){var r=function(a,e,k){if(!a||!a.layer||!a.visible)return!1;a=f.view.toScreen(a.geometry);return f._isWithinScreenDistance(a,e,k)},u=!1;t.push(this.view.on("pointer-move",function(){u=!1},Q.ViewEventPriorities.WIDGET),this.view.on("pointer-down",function(a){var e;e=2>=f._vertexGraphics.length?void 0:r(f._vertexGraphics[0],a,f._getVertexIntersectDistance());e?(u=!0,a.stopPropagation()):f._vertexGraphics.some(function(e){return r(e,a,f._getVertexIntersectDistance())})&&a.stopPropagation()},
Q.ViewEventPriorities.WIDGET),this.view.on("pointer-up",function(a){u&&(a.stopPropagation(),n.complete())}))}var x=this._operationHandleForCreateAction(n,k.__spreadArrays(e,t),a);return x};f.prototype._setupCreateCircleOperation=function(a,e){var f=this;e=k.__assign(k.__assign({},e),{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0});var n=this._draw.create(a,e),p=!1,B=!0;e=[n.on("vertex-add",function(e){var k=e.type,l=e.vertexIndex;e=e.vertices;var A=e[l];f._drawSegmentGraphic(a,
e,{centered:B,constrained:p},n.viewAlignedCoordinateSystem);f.emit("create",{graphic:f.createGraphic,state:1===e.length?"start":"active",tool:a,toolEventInfo:{added:A,vertices:[{coordinates:A,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),n.on("cursor-update",function(e){var k=e.type;e=e.vertices;f._drawSegmentGraphic(a,e,{centered:B,constrained:p},n.viewAlignedCoordinateSystem);2===e.length&&f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:e[e.length-
1],type:k},type:"create"})}),n.on("draw-complete",function(a){a=a.vertices.slice(0);var e=null;1===a.length?(a.push(n.viewAlignedCoordinateSystem.makeMapPoint(a[0][0]+f._defaultSegmentOffset*f.view.resolution,a[0][1])),e=V.createCircle(a,n.viewAlignedCoordinateSystem,!0,f.view.resolution)):e=p?V.createEllipse(a,n.viewAlignedCoordinateSystem,B):V.createCircle(a,n.viewAlignedCoordinateSystem,B,f.view.resolution);f.createGraphic?f.createGraphic.geometry=e:(f._removeCreateGraphic(),f._set("createGraphic",
new z(e,f.polygonSymbol)));r&&r.complete()})];var t=[this.view.on("pointer-move",function(a){l.isSome(n.getCoordsFromScreenPoint(A.createScreenPoint(a.x,a.y)))?f._displayCrosshairCursor():f._displayDefaultCursor()},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(e){"Control"===e.key?p||(p=!0,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):"Alt"===e.key?B&&(B=!1,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):
"Escape"===e.key&&r&&r.cancel()},Q.ViewEventPriorities.WIDGET),this.view.on("key-up",function(e){"Control"===e.key?(p=!1,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):"Alt"===e.key&&(B=!0,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem))},Q.ViewEventPriorities.WIDGET)],r=this._operationHandleForCreateAction(n,k.__spreadArrays(e,t),a);return r};f.prototype._setupCreateRectangleOperation=function(a,e){var f=
this;e=k.__assign(k.__assign({},e),{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0});var n=this._draw.create(a,e),p=!1,B=!1;e=[n.on("vertex-add",function(e){var k=e.type,l=e.vertexIndex;e=e.vertices;var A=e[l];f._drawSegmentGraphic(a,e,{centered:B,constrained:p},n.viewAlignedCoordinateSystem);f.emit("create",{graphic:f.createGraphic,state:1===e.length?"start":"active",tool:a,toolEventInfo:{added:A,vertices:[{coordinates:A,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),
n.on("cursor-update",function(e){var k=e.type;e=e.vertices;f._drawSegmentGraphic(a,e,{centered:B,constrained:p},n.viewAlignedCoordinateSystem);2===e.length&&f.emit("create",{graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:e[e.length-1],type:k},type:"create"})}),n.on("draw-complete",function(a){a=a.vertices.slice(0);var e=null;1===a.length&&(B=p=!1);e=p?V.createSquare(a,n.viewAlignedCoordinateSystem,B):V.createRectangle(a,n.viewAlignedCoordinateSystem,B);f.createGraphic?f.createGraphic.geometry=
e:(f._removeCreateGraphic(),f._set("createGraphic",new z(e,f.polygonSymbol)));r&&r.complete()})];var t=[this.view.on("pointer-move",function(a){l.isSome(n.getCoordsFromScreenPoint(A.createScreenPoint(a.x,a.y)))?f._displayCrosshairCursor():f._displayDefaultCursor()},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(e){"Control"===e.key?p||(p=!0,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):"Alt"===e.key?B||(B=!0,f._drawSegmentGraphic(a,n.vertices,
{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):"Escape"===e.key&&r&&r.cancel()},Q.ViewEventPriorities.WIDGET),this.view.on("key-up",function(e){"Control"===e.key?(p=!1,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem)):"Alt"===e.key&&(B=!1,f._drawSegmentGraphic(a,n.vertices,{centered:B,constrained:p},n.viewAlignedCoordinateSystem))},Q.ViewEventPriorities.WIDGET)],r=this._operationHandleForCreateAction(n,k.__spreadArrays(e,t),a);return r};f.prototype._setupUpdateOperation=
function(a,e){return k.__awaiter(this,void 0,void 0,function(){var f,n,p,B,A,t,r,u,x,G,v,N;return k.__generator(this,function(y){f=this;n=f._defaultUpdateTool;p=f.defaultUpdateOptions;B=f.layer;A=f.view;t=k.__assign(k.__assign({},p),e);r=t.tool||n;u=0;for(x=a;u<x.length;u++)G=x[u],B.remove(G),B.add(G);if("3d"===A.type){if(0===a.length)return[2,null];switch(r){case "move":return[2,this._setupMove3DOperation(a,t,A,r)];case "reshape":if(1<a.length)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),
[2,null];v=ea.isSupportedGraphic(a[0]);if(0===v)return[2,this._setupReshape3DOperation(a[0],t,A)];this._logError("sketch:reshape","Reshape operation not supported for provided graphic(s) ("+I.isSupportedGraphicResultMessage(v)+").");return[2,null];case "transform":return 1===a.length&&0===T.isSupportedGraphic(a[0])?[2,this._setupPointTransform3DOperation(a[0],t,A)]:[2,this._setupMove3DOperation(a,t,A,r)]}}if("move"===r)return[2,this._setupMoveOperation(a,t,A)];if(1<a.length)return"reshape"===r?(this._logError("sketch:reshape-multiple",
"Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,r,t,A)];if(1===a.length){G=a[0];N=l.get(G.geometry,"type");if("point"===N||"multipoint"===N)return[2,this._setupMoveOperation(a,t,A)];if("transform"===r||"reshape"===r)return[2,this._setupTransformOrReshapeOperation(a,r,t,A)]}return[2,null]})})};f.prototype._setupMove3DOperation=function(a,e,f,n,l){void 0===l&&(l=!1);return k.__awaiter(this,void 0,void 0,function(){var p,B,A,t,r,u,x,G,v=
this;return k.__generator(this,function(N){switch(N.label){case 0:p=0;for(B=a;p<B.length;p++)if(A=B[p],t=O.isSupportedGraphic(A),0!==t)return this._logError("sketch:move","Move operation not supported for provided graphic(s) ("+I.isSupportedGraphicResultMessage(t)+")."),[2,null];return[4,this._requireModule(new Promise(function(a,g){E(["../../views/3d/interactive/editingTools"],a,g)}))];case 1:r=N.sent();if(ca(r))return[2,r];u=new r.module.GraphicMoveTool({view:f,enableZ:e.enableZ});this.view.tools.add(u);
u.graphics.addMany(a);l||this.updateGraphics.addMany(a);x=[];G=new S.OperationHandle({activeComponent:u,tool:n,type:"update",onEnd:function(){var a;x.forEach(function(g){return g.remove()});x.length=0;null===(a=v.view.tools)||void 0===a?void 0:a.remove(u);u.destroyed||u.destroy()},undo:function(){aa(G,v.updateGraphics.toArray());v._emitUndoEvent({graphics:v.updateGraphics.toArray(),tool:n})},redo:function(){W(G,v.updateGraphics.toArray());v._emitRedoEvent({graphics:v.updateGraphics.toArray(),tool:n})},
addToSelection:function(a){v.updateGraphics.push(a);u.graphics.push(a);v.emit("update",{graphics:v.updateGraphics.toArray(),state:"active",aborted:!1,tool:v.activeTool,toolEventInfo:{added:[a],type:"selection-change"},type:"update"})},removeFromSelection:function(a){var g=v.updateGraphics.indexOf(a);G.history.undo.forEach(function(a){return a.updates.splice(g,1)});G.history.redo.forEach(function(a){return a.updates.splice(g,1)});v.updateGraphics.remove(a);0===v.updateGraphics.length?G.complete():
u.graphics.remove(a)},toggleTool:function(){return k.__awaiter(v,void 0,void 0,function(){var a,g;return k.__generator(this,function(k){switch(k.label){case 0:if(1!==this.updateGraphics.length||!1===e.toggleToolOnClick||"transform"!==n)return[2];a=this.updateGraphics.getItemAt(0);return 0!==ea.isSupportedGraphic(a)?[2]:[4,this._setupReshape3DOperation(a,e,f,!0)];case 1:g=k.sent();if(ca(g))return[2];G.onEnd();G.destroy();this._setUpdateOperationHandle(g);return[2]}})})}});x.push.apply(x,k.__spreadArrays(this._getHandlesForComponent(G,
e),[this.view.on("immediate-click",function(a){return v._getCommonUpdateOperationClickHandlers(G,a)},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return v._getCommonUpdateOperationKeyDownHandlers(G,a)},Q.ViewEventPriorities.WIDGET)]));return[2,G]}})})};f.prototype._setupPointTransform3DOperation=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,B,A,t,r,u,x=this;return k.__generator(this,function(G){switch(G.label){case 0:return n="transform",l=e.enableRotation,
p=e.enableScaling,B=e.enableZ,[4,this._requireModule(new Promise(function(a,e){E(["../../views/3d/interactive/editingTools"],a,e)}))];case 1:A=G.sent();if(ca(A))return[2,A];t=new A.module.GraphicTransformTool({graphic:a,view:f,enableRotation:l,enableScaling:p,enableZ:B,snapToScene:this.snapToScene});this.view.tools.add(t);this.updateGraphics.add(a);r=[];u=new S.OperationHandle({activeComponent:t,tool:n,type:"update",onEnd:function(){var a;r.forEach(function(a){return a.remove()});r.length=0;null===
(a=x.view.tools)||void 0===a?void 0:a.remove(t);t.destroyed||t.destroy()},undo:function(){aa(u,x.updateGraphics.toArray());x._emitUndoEvent({graphics:x.updateGraphics.toArray(),tool:n})},redo:function(){W(u,x.updateGraphics.toArray());x._emitRedoEvent({graphics:x.updateGraphics.toArray(),tool:n})},addToSelection:function(a){return k.__awaiter(x,void 0,void 0,function(){var n;return k.__generator(this,function(k){switch(k.label){case 0:return this.updateGraphics.add(a),[4,this._setupMove3DOperation(this.updateGraphics.toArray(),
e,f,"transform",!0)];case 1:n=k.sent();if(ca(n))return[2];u.onEnd();u.destroy();this._setUpdateOperationHandle(n);return[2]}})})},setSnapToScene:function(a){t.snapToScene=a}});r.push.apply(r,k.__spreadArrays(this._getHandlesForComponent(u,e),[this.view.on("immediate-click",function(a){return x._getCommonUpdateOperationClickHandlers(u,a)},Q.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return x._getCommonUpdateOperationKeyDownHandlers(u,a)},Q.ViewEventPriorities.WIDGET)]));return[2,
u]}})})};f.prototype._setupMoveOperation=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,B,A,t,r=this;return k.__generator(this,function(k){switch(k.label){case 0:return n=[],l="move",a.forEach(function(a){n.push(new z(a.geometry,a.symbol,a.attributes));a.symbol=r._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),[4,this._getGraphicMover(a,e,f)];case 1:p=k.sent();if(ca(p))return[2,p];B=new S.OperationHandle({activeComponent:p,tool:l,type:"update",onEnd:function(){t.forEach(function(a){return a.remove()});
A.forEach(function(a){return a.remove()});t=[];A=[];p.destroy();r._internalGraphicsLayer&&r._internalGraphicsLayer.removeMany(r.updateGraphics.toArray());r.updateGraphics.forEach(function(a,e){a.symbol=n[e].symbol})},undo:function(){aa(B,r.updateGraphics.toArray());r._emitUndoEvent({graphics:r.updateGraphics.toArray(),tool:l})},redo:function(){W(B,r.updateGraphics.toArray());r._emitRedoEvent({graphics:r.updateGraphics.toArray(),tool:l})},addToSelection:function(a){n.push(new z(a.geometry,a.symbol,
a.attributes));a.symbol=r._getUpdateSymbol(a.geometry);r.updateGraphics.push(a);p.graphics=r.updateGraphics.toArray();r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",aborted:!1,tool:r.activeTool,toolEventInfo:{added:[a],type:"selection-change"},type:"update"})},removeFromSelection:function(a){var e=r.updateGraphics.indexOf(a);B.history.undo.forEach(function(a){return a.updates.splice(e,1)});B.history.redo.forEach(function(a){return a.updates.splice(e,1)});var f=n.splice(e,1)[0];
a.symbol=f.symbol;r.updateGraphics.remove(a);0===r.updateGraphics.length?B.complete():p.graphics=r.updateGraphics.toArray()}});A=[f.on("immediate-click",function(a){return r._getCommonUpdateOperationClickHandlers(B,a,e)},Q.ViewEventPriorities.WIDGET),f.on("key-down",function(a){r._getCommonUpdateOperationKeyDownHandlers(B,a);"Control"!==a.key||a.repeat||(p.enableMoveAllGraphics=!p.enableMoveAllGraphics)},Q.ViewEventPriorities.WIDGET),f.on("key-up",function(a){"Control"===a.key&&(p.enableMoveAllGraphics=
!p.enableMoveAllGraphics)},Q.ViewEventPriorities.WIDGET)];t=this._getHandlesForComponent(B,e);return[2,B]}})})};f.prototype._setupReshape3DOperation=function(a,e,f,n){void 0===n&&(n=!1);return k.__awaiter(this,void 0,void 0,function(){var l,p,B,A,t,r=this;return k.__generator(this,function(u){switch(u.label){case 0:return l="reshape",[4,this._requireModule(new Promise(function(a,e){E(["../../views/3d/interactive/editingTools"],a,e)}))];case 1:p=u.sent();if(ca(p))return[2,p];B=new p.module.GraphicReshapeTool({view:f,
graphic:a,enableZ:e.enableZ});f.tools.add(B);n||this.updateGraphics.add(a);A=[];t=new S.OperationHandle({activeComponent:B,tool:l,type:"update",onEnd:function(){var a;A.forEach(function(a){return a.remove()});A.length=0;null===(a=r.view.tools)||void 0===a?void 0:a.remove(B);B.destroyed||B.destroy()},undo:function(){aa(t,r.updateGraphics.toArray());r._emitUndoEvent({graphics:r.updateGraphics.toArray(),tool:l})},redo:function(){W(t,r.updateGraphics.toArray());r._emitRedoEvent({graphics:r.updateGraphics.toArray(),
tool:l})},addToSelection:function(a){return k.__awaiter(r,void 0,void 0,function(){var n;return k.__generator(this,function(k){switch(k.label){case 0:return this.updateGraphics.add(a),[4,this._setupMove3DOperation(this.updateGraphics.toArray(),e,f,"transform",!0)];case 1:n=k.sent();if(ca(n))return[2];t.onEnd();t.destroy();this._setUpdateOperationHandle(n);return[2]}})})},toggleTool:function(){return k.__awaiter(r,void 0,void 0,function(){var a;return k.__generator(this,function(k){switch(k.label){case 0:return!1===
e.toggleToolOnClick?[2]:[4,this._setupMove3DOperation(this.updateGraphics.toArray(),e,f,"transform",!0)];case 1:a=k.sent();if(ca(a))return[2];t.onEnd();t.destroy();this._setUpdateOperationHandle(a);return[2]}})})}});A.push.apply(A,k.__spreadArrays(this._getHandlesForComponent(t,e),[f.on("immediate-click",function(a){return r._getCommonUpdateOperationClickHandlers(t,a)},Q.ViewEventPriorities.WIDGET),f.on("key-down",function(a){return r._getCommonUpdateOperationKeyDownHandlers(t,a)},Q.ViewEventPriorities.WIDGET)]));
return[2,t]}})})};f.prototype._setupTransformOrReshapeOperation=function(a,e,f,n){return k.__awaiter(this,void 0,void 0,function(){var p,B,t,r,u,x,G,v,N,M,D=this;return k.__generator(this,function(y){switch(y.label){case 0:return p=f.multipleSelectionEnabled,B=void 0===p?!0:p,t=f.toggleToolOnClick,r=void 0===t?!0:t,u=[],a.forEach(function(g){u.push(new z(g.geometry,g.symbol,g.attributes));g.symbol=D._getUpdateSymbol(g.geometry)}),this.updateGraphics.addMany(a),"transform"!==e?[3,2]:[4,this._getBox(a,
f,n)];case 1:return G=y.sent(),[3,4];case 2:return[4,this._getReshape(a,f,n)];case 3:G=y.sent(),y.label=4;case 4:x=G;if(ca(x))return[2,x];v=new S.OperationHandle({activeComponent:x,type:"update",onEnd:function(){M.forEach(function(g){return g.remove()});N.forEach(function(g){return g.remove()});M=[];N=[];v.activeComponent&&!v.activeComponent.destroyed&&v.activeComponent.destroy();D._internalGraphicsLayer.removeMany(D.updateGraphics.toArray());D.updateGraphics.forEach(function(g,a){u[a]&&u[a].symbol&&
(g.symbol=u[a].symbol)})},undo:function(){aa(v,D.updateGraphics.toArray());v.refreshComponent();D._emitUndoEvent({graphics:D.updateGraphics.toArray(),tool:v.tool})},redo:function(){W(v,D.updateGraphics.toArray());v.refreshComponent();D._emitRedoEvent({graphics:D.updateGraphics.toArray(),tool:v.tool})},addToSelection:function(g){var a=v.activeComponent;u.push(new z(g.geometry,g.symbol,g.attributes));g.symbol=D._getUpdateSymbol(g.geometry);D.updateGraphics.add(g);a.graphics=D.updateGraphics.toArray();
a.refresh();v.resetHistory();D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[g],type:"selection-change"},type:"update"})},removeFromSelection:function(g){var a=v.activeComponent,e=D.updateGraphics.indexOf(g);v.history.undo.forEach(function(b){return b.updates.splice(e,1)});v.history.redo.forEach(function(b){return b.updates.splice(e,1)});var c=u.splice(e,1)[0];g.symbol=c.symbol;D.updateGraphics.remove(g);0===D.updateGraphics.length?
v.complete():a.graphics=D.updateGraphics.toArray()},toggleTool:function(){return k.__awaiter(D,void 0,void 0,function(){var g;return k.__generator(this,function(e){switch(e.label){case 0:if(1<this.updateGraphics.length)return[2];g=null;return"transform"!==v.tool?[3,2]:[4,this._getReshape(a,f,n)];case 1:return g=e.sent(),[3,4];case 2:return"reshape"!==v.tool?[3,4]:[4,this._getBox(a,f,n)];case 3:g=e.sent(),e.label=4;case 4:if(ca(g))return[2];v.activeComponent.destroy();v.activeComponent=g;v.activeComponent&&
(M.forEach(function(g){return g.remove()}),M=this._getHandlesForComponent(v,f));return[2]}})})}});N=[n.on("immediate-click",function(g){D._getFirstHit(A.createScreenPointFromEvent(g)).then(function(a){if(v)if(a=a.results,a.length){var e=v.activeComponent,c=g.native&&g.native.shiftKey;a.some(function(b){if(b.graphic){b=b.graphic;if(B&&c&&e&&"box"===e.type&&!e.isUIGraphic(b))return v.addToSelection(b),!0;if(e&&"box"===e.type&&e.isUIGraphic(b))return!1!==r&&1===D.updateGraphics.length&&(b=D.updateGraphics.getItemAt(0).geometry,
"extent"===l.get(b,"type")?D._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):v.toggleTool()),!0;if(e&&"reshape"===e.type){if(b===e.graphic)return!1!==r&&v.toggleTool(),!0;if(e.isUIGraphic(b)||b.layer===D._internalGraphicsLayer)return!0}else b.layer===D.layer&&v.complete()}return!1})&&g.stopPropagation()}else v.complete()})},Q.ViewEventPriorities.WIDGET),n.on("key-down",function(g){D._getCommonUpdateOperationKeyDownHandlers(v,g);"Control"===
g.key&&!g.repeat&&v&&(g=v.activeComponent)&&"box"===g.type&&(g.preserveAspectRatio=!g.preserveAspectRatio)},Q.ViewEventPriorities.WIDGET),n.on("key-up",function(g){"Control"===g.key&&v&&(g=v.activeComponent)&&"box"===g.type&&(g.preserveAspectRatio=!g.preserveAspectRatio)},Q.ViewEventPriorities.WIDGET)];M=this._getHandlesForComponent(v,f);return[2,v]}})})};f.prototype._getGraphicMover=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,B=this;return k.__generator(this,function(k){switch(k.label){case 0:return n=
e.enableMoveAllGraphics,l=void 0===n?!0:n,[4,this._requireModule(new Promise(function(a,e){E(["../../views/draw/support/GraphicMover"],a,e)}))];case 1:return p=k.sent(),ca(p)?[2,p]:[2,new p.module({enableMoveAllGraphics:l,graphics:a,view:f,callbacks:{onGraphicMoveStart:function(a){var e=a.dx,f=a.dy;a=a.graphic;return B.emit("update",{graphics:B.updateGraphics.toArray(),state:"active",aborted:!1,tool:B.activeTool,toolEventInfo:{dx:e,dy:f,mover:a,type:"move-start"},type:"update"})},onGraphicMove:function(a){var e=
a.dx,f=a.dy;a=a.graphic;return B.emit("update",{graphics:B.updateGraphics.toArray(),state:"active",aborted:!1,tool:B.activeTool,toolEventInfo:{dx:e,dy:f,mover:a,type:"move"},type:"update"})},onGraphicMoveStop:function(a){var e=a.dx,f=a.dy;a=a.graphic;return B.emit("update",{graphics:B.updateGraphics.toArray(),state:"active",aborted:!1,tool:B.activeTool,toolEventInfo:{dx:e,dy:f,mover:a,type:"move-stop"},type:"update"})},onGraphicPointerOver:function(){return B._displayDefaultCursor()},onGraphicPointerOut:function(){return B._displayDefaultCursor()}}})]}})})};
f.prototype._getBox=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,B,A,t,r,u=this;return k.__generator(this,function(x){switch(x.label){case 0:return n=e.enableRotation,l=void 0===n?!0:n,p=e.enableScaling,B=void 0===p?!0:p,A=e.preserveAspectRatio,t=void 0===A?!1:A,[4,this._requireModule(new Promise(function(a,e){E(["../../views/draw/support/Box"],a,e)}))];case 1:return r=x.sent(),ca(r)?[2,r]:[2,new r.module({graphics:a,enableRotation:l,enableScaling:B,preserveAspectRatio:t,
layer:this._internalGraphicsLayer,view:f,callbacks:{onMoveStart:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onMove:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onMoveStop:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,
tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onScaleStart:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onScale:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onScaleStop:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",
aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onRotateStart:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onRotate:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onRotateStop:function(a){return u.emit("update",{graphics:u.updateGraphics.toArray(),
state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:k.__assign({},a),type:"update"})}}})]}})})};f.prototype._getReshape=function(a,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,l,p,A=this;return k.__generator(this,function(t){switch(t.label){case 0:return n=e.enableMidpoints,l=void 0===n?!0:n,[4,this._requireModule(new Promise(function(a,e){E(["../../views/draw/support/Reshape"],a,e)}))];case 1:return p=t.sent(),ca(p)?[2,p]:[2,new p.module({enableMidpoints:l,graphic:a[0],layer:this._internalGraphicsLayer,
view:f,callbacks:{onReshapeStart:function(a){return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onReshape:function(a){return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:k.__assign({},a),type:"update"})},onReshapeStop:function(a){var e=a.mover;a=a.type;return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,
tool:A.activeTool,toolEventInfo:{mover:e,type:a},type:"update"})},onMoveStart:function(a){var e=a.dx,f=a.dy,n=a.mover;a=a.type;return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:{dx:e,dy:f,mover:n,type:a},type:"update"})},onMove:function(a){var e=a.dx,f=a.dy,n=a.mover;a=a.type;return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:{dx:e,dy:f,mover:n,type:a},type:"update"})},
onMoveStop:function(a){var e=a.dx,f=a.dy,n=a.mover;a=a.type;return A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:{dx:e,dy:f,mover:n,type:a},type:"update"})},onVertexAdd:function(a){var e=a.type,f=a.vertices;a=a.added.map(function(a){return B.geometryToCoordinates(a.geometry)});A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:{added:a,vertices:f,type:e},type:"update"})},onVertexRemove:function(a){var e=
a.type,f=a.vertices;a=a.removed.map(function(a){return B.geometryToCoordinates(a.geometry)});A.emit("update",{graphics:A.updateGraphics.toArray(),state:"active",aborted:!1,tool:A.activeTool,toolEventInfo:{removed:a,vertices:f,type:e},type:"update"})}}})]}})})};f.prototype._getHandlesForComponent=function(a,e){var f=this,n=a.activeComponent;switch(n.type){case "graphic-mover":return[n.on("graphic-move-start",function(e){return a.addToHistory(Z(e.allGraphics))})];case "box":return[n.on("move-start",
function(e){return a.addToHistory(Z(e.graphics))}),n.on("rotate-start",function(e){return a.addToHistory(Z(e.graphics))}),n.on("scale-start",function(e){return a.addToHistory(Z(e.graphics))})];case "reshape":return[n.on("move-start",function(e){return a.addToHistory(Z([e.mover]))}),n.on("reshape-start",function(e){return a.addToHistory(Z([e.graphic]))}),n.on("vertex-add",function(e){return a.addToHistory(Z([e.oldGraphic]))}),n.on("vertex-remove",function(e){return a.addToHistory(Z([e.oldGraphic]))})];
case "move-3d":return[n.on("graphic-move-start",function(e){a.addToHistory(Z(e.allGraphics));f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<e.allGraphics.length?e.allGraphics[0]:null,type:"move-start"},type:"update"})}),n.on("graphic-move",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:
null,type:"move"},type:"update"})}),n.on("graphic-move-stop",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"},type:"update"})}),n.on("immediate-click",function(n){n.shiftKey?f._toggleSelection([n.graphic],a,e):a.toggleTool()})];case "transform-3d":return[n.on("graphic-translate-start",function(e){a.addToHistory(Z([e.graphic]));f.emit("update",{graphics:f.updateGraphics.toArray(),
state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:"move-start"},type:"update"})}),n.on("graphic-translate-stop",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move-stop"},type:"update"})}),n.on("graphic-rotate-start",function(e){a.addToHistory(ka([e.graphic]));f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",
aborted:!1,tool:f.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:"rotate-start"},type:"update"})}),n.on("graphic-rotate-stop",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate-stop"},type:"update"})}),n.on("graphic-scale-start",function(e){a.addToHistory(ka([e.graphic]));f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:e.graphic,
xScale:e.scale,yScale:e.scale,type:"scale-start"},type:"update"})}),n.on("graphic-scale-stop",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale-stop"},type:"update"})}),n.on("graphic-translate",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move"},
type:"update"})}),n.on("graphic-rotate",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate"},type:"update"})}),n.on("graphic-scale",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"},type:"update"})})];case "reshape-3d":return[n.on("reshape",function(e){"reshape-start"===
e.type&&a.addToHistory(Z([e.mover]));f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:e,type:"update"})}),n.on("move",function(e){"move-start"===e.type&&a.addToHistory(Z([e.mover]));f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:e,type:"update"})}),n.on("vertex-add",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,
toolEventInfo:a,type:"update"})}),n.on("vertex-remove",function(a){f.emit("update",{graphics:f.updateGraphics.toArray(),state:"active",aborted:!1,tool:f.activeTool,toolEventInfo:a,type:"update"})}),n.on("immediate-click",function(){return a.toggleTool()})];case "draw":case "draw-3d":return null;default:v.neverReached(n)}};f.prototype._setUpdateOperationHandle=function(a){var e=this;this._operationHandle=a;var f=this.view.map;this._disablePopup();a.on("complete",function(){if(a===e._operationHandle){var n=
e.updateGraphics.toArray(),k=e._operationHandle.tool;e._operationHandle.destroy();e._operationHandle=null;e._internalGraphicsLayer.removeMany(e.updateGraphics.toArray());e.updateGraphics.removeAll();f&&f.remove(e._internalGraphicsLayer);e._restorePopup();e.emit("update",{graphics:n,state:"complete",aborted:a.cancelled,tool:k,toolEventInfo:null,type:"update"})}})};f.prototype._getCommonUpdateOperationClickHandlers=function(a,e,f){var n=this,k=A.createScreenPointFromEvent(e);this._getFirstHit(k).then(function(k){k=
k.results;k.length?e.native.shiftKey&&n._toggleSelection(k.map(function(a){return a.graphic}),a,f)?e.stopPropagation():k.some(function(a){return a.graphic&&-1<n.updateGraphics.indexOf(a.graphic)})?e.stopPropagation():a.complete():a.complete()})};f.prototype._toggleSelection=function(a,e,f){var n=this,k=f?!!f.multipleSelectionEnabled:!0;return a.some(function(a){return null==a?!1:k&&a.layer===n.layer?(-1===n.updateGraphics.indexOf(a)?e.addToSelection(a):e.removeFromSelection(a),!0):!1})};f.prototype._getCommonUpdateOperationKeyDownHandlers=
function(a,e){if(a){var f=e.key;"z"===f&&a.canUndo()?(e.stopPropagation(),a.undo()):"r"===f&&a.canRedo()?(e.stopPropagation(),a.redo()):"Escape"===f?(e.stopPropagation(),a.cancel()):0<=ra.indexOf(f)&&this._onDeleteKey(e)}};f.prototype._onDeleteKey=function(a){if(this._operationHandle&&"update"===this._operationHandle.type){var e=this.activeComponent;e&&"reshape"!==e.type&&"reshape-3d"!==e.type&&(a.stopPropagation(),a=this.updateGraphics.toArray(),this.layer.removeMany(a),this._emitDeleteEvent({graphics:a,
tool:this.activeTool}))}};f.prototype._getCreateSymbol=function(a,e){void 0===e&&(e=!1);e="3d"!==this.view.type&&e;switch(a.type){case "point":case "multipoint":return e?this.activePointSymbol:this.pointSymbol;case "polyline":return e?this.activeLineSymbol:this.polylineSymbol;case "polygon":return e?this.activeFillSymbol:this.polygonSymbol}return null};f.prototype._getUpdateSymbol=function(a){if(l.isNone(a))return null;switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;
case "polygon":case "extent":return this.updatePolygonSymbol}return null};f.prototype._drawMultipointGraphic=function(a,e){var f=null;!e&&1<a.length?(f=a.slice(0),f.pop(),f=V.createMultipoint(f,this.view.spatialReference)):f=V.createMultipoint(a,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new z(f,this.pointSymbol));e&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};f.prototype._drawVertexGraphics=function(a,e,f){f=!(!f||
!f.userClicked);var n="polygon"===a,k=n?this.polygonSymbol:this.polylineSymbol;if(1===e.length){this._removeLineGraphic();this._removeActiveLineGraphic();var l=this.createPointFromVertex(e[0]),n=n?V.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):V.createPolyline([e],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=l:this._vertexGraphics.push(new z(l,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=
n:this._set("createGraphic",new z(n,k));f&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===e.length){a=this.createPointFromVertex(e[1]);var p=this.vertexSymbol,k=V.createPolyline([e],this.view.spatialReference,this._doUnnormalization),n=n?V.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):V.createPolyline([e],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length||(l=this.createPointFromVertex(e[0]),e=new z(l,p),this._vertexGraphics.push(e));
1===this._vertexGraphics.length?(e=this._vertexGraphics[0],a=new z(a,p),this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(a),this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)):this._vertexGraphics[1].geometry=a;this._showActiveLineGraphic(k);e=this._vertexGraphics[0];f&&(this._activeLineGraphic.symbol=this.polylineSymbol,e.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1]));this.createGraphic?this.createGraphic.geometry=
n:this._set("createGraphic",new z(n,this.polygonSymbol));this._internalGraphicsLayer.remove(e);this._internalGraphicsLayer.add(e)}else if(2<e.length){n=n?V.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):V.createPolyline([e],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(n);a=e.map(function(a){return a.slice()});p=a.pop();l=[a[a.length-1],p];p=V.createPolyline([a],this.view.spatialReference,this._doUnnormalization);l=V.createPolyline([l],
this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(p);this._showActiveLineGraphic(l);for(p=0;p<a.length;p++)(l=this._vertexGraphics[p])?l.symbol=f||p!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(l=this.createPointFromVertex(e[p]),this._showVertexGraphic(l));f?(this._activeLineGraphic.symbol=this.polylineSymbol,p=e.length-1,l=this.createPointFromVertex(e[p]),this._showVertexGraphic(l)):this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?
this.createGraphic.geometry=n:(this._removeCreateGraphic(),this._set("createGraphic",new z(n,k)));f=0;for(n=this._vertexGraphics;f<n.length;f++)e=n[f],this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)}};f.prototype._drawSegmentGraphic=function(a,e,f,n){if(e.length){var k=!(!f||!f.centered);f=!(!f||!f.constrained);var l=null;1===e.length?this._removeCenterIndicatorGraphic():("rectangle"===a?l=f?V.createSquare(e,n,k):V.createRectangle(e,n,k):"circle"===a&&(l=f?V.createEllipse(e,
n,k):V.createCircle(e,n,k,this.view.resolution)),l.extent&&l.extent.center&&this._showCenterIndicatorGraphic(l.extent.center));l?this.createGraphic?this.createGraphic.geometry=l:(this._removeCreateGraphic(),this._set("createGraphic",new z(l,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};f.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new z(a,
this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};f.prototype._removeCenterIndicatorGraphic=function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};f.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=new z(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,
0))};f.prototype._showFillGraphic=function(a){this._activeFillGraphic?this._activeFillGraphic.geometry=a:(this._activeFillGraphic=new z(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};f.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new z(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,0))};f.prototype._showVertexGraphic=function(a,e){a=new z(a,e?this.activeVertexSymbol:
this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};f.prototype._resetCreateOperationGraphics=function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};f.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};f.prototype._removeCreateOperationGraphics=function(){this._removeCenterIndicatorGraphic();
this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();this._removeVertexGraphics()};f.prototype._removeActiveLineGraphic=function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};f.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=
null)};f.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)};f.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};f.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),
this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};f.prototype._operationHandleForCreateAction=function(a,e,f){var n=this;return new S.OperationHandle({activeComponent:this._draw,tool:f,type:"create",onEnd:function(){e.forEach(function(a){return a.remove()});e.length=0;n._removeCreateOperationGraphics();n._internalGraphicsLayer&&n._internalGraphicsLayer.remove(n.createGraphic);n._displayDefaultCursor()},undo:function(){a.undo();n._emitUndoEvent({graphics:[n.createGraphic],tool:f})},
redo:function(){a.redo();n._emitRedoEvent({graphics:[n.createGraphic],tool:f})},canUndo:function(){return a&&a.canUndo()},canRedo:function(){return a&&a.canRedo()},setSnapToScene:function(e){a.snapToScene=e}})};f.prototype._isComponentGraphic=function(a){var e=this.activeComponent;return a&&e?a.attributes&&a.attributes.esriSketchTool?!0:("box"===e.type||"reshape"===e.type)&&e.isUIGraphic(a):!1};f.prototype._snap=function(a,e,f){f&&this._snapLastVertexToAxis(e);"polygon"===a&&this._snapLastPolygonVertexToFirst(e)};
f.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var e=a[0];a=a[a.length-1];var f=this.view.toScreen(new D.Point(e[0],e[1],this.view.spatialReference)),n=this.view.toScreen(new D.Point(a[0],a[1],this.view.spatialReference));this._isWithinScreenDistance(f,n,this._getVertexIntersectDistance())&&(a[0]=e[0],a[1]=e[1])}};f.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?A.pt2px(this.vertexSymbol.size)/2+3:3};f.prototype._isWithinScreenDistance=
function(a,e,f){var n=a.x-e.x;a=a.y-e.y;return Math.sqrt(n*n+a*a)<=f};f.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var e=a.pop(),f=a[a.length-1],n=V.createViewAlignedCoordinateSystem(this.view,f),f=n.mapToLocal(f),e=n.mapToLocal(e),k=Math.abs(e.x-f.x),l=Math.abs(e.y-f.y),n=n.localToMap(V.makeSurfacePoint(k>l?e.x:f.x,k>l?f.y:e.y));a.push(n)}};f.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};
f.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};f.prototype._logError=function(a,e,f){la.error(new r(a,e,f))};f.prototype._requireModule=function(a){return k.__awaiter(this,void 0,void 0,function(){var e,f;return k.__generator(this,function(n){switch(n.label){case 0:return this._moduleLoaderAbortController=e=new AbortController,[4,a];case 1:return f=n.sent(),this._moduleLoaderAbortController!==e||e.signal.aborted?[2,{requireError:"aborted"}]:
[2,{module:f}]}})})};f.prototype._emitUndoEvent=function(a){this.emit("undo",k.__assign(k.__assign({},a),{type:"undo"}))};f.prototype._emitRedoEvent=function(a){this.emit("redo",k.__assign(k.__assign({},a),{type:"redo"}))};f.prototype._emitDeleteEvent=function(a){this.emit("delete",k.__assign(k.__assign({},a),{type:"delete"}))};f.prototype.createPointFromVertex=function(a){return 2<a.length?new D.Point(a[0],a[1],a[2],this.view.spatialReference):new D.Point(a[0],a[1],this.view.spatialReference)};f.prototype.test=
function(){return this._operationHandle};f.prototype.wait=function(){return e.whenNotOnce(this,"updating")};f.prototype._beginAsyncOperation=function(){this._numUpdating+=1;this.notifyChange("updating")};f.prototype._endAsyncOperation=function(){--this._numUpdating;this.notifyChange("updating")};f.prototype._disablePopup=function(){var a=this.view.popup;a&&l.isNone(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=a.autoOpenEnabled,a.autoOpenEnabled=!1)};f.prototype._restorePopup=function(){var a=
this.view.popup;a&&l.isSome(this._originalAutoOpenEnabled)&&(a.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)};k.__decorate([n.property({dependsOn:["state"],readOnly:!0})],f.prototype,"_draw",null);k.__decorate([n.property()],f.prototype,"updating",null);k.__decorate([n.property()],f.prototype,"_operationHandle",void 0);k.__decorate([n.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],f.prototype,"activeTool",null);k.__decorate([n.property()],
f.prototype,"activeFillSymbol",void 0);k.__decorate([n.property()],f.prototype,"activeLineSymbol",void 0);k.__decorate([n.property()],f.prototype,"activePointSymbol",void 0);k.__decorate([n.property()],f.prototype,"activeVertexSymbol",void 0);k.__decorate([n.property({readOnly:!0})],f.prototype,"createGraphic",void 0);k.__decorate([n.property()],f.prototype,"defaultCreateOptions",void 0);k.__decorate([n.property()],f.prototype,"defaultUpdateOptions",void 0);k.__decorate([n.property()],f.prototype,
"layer",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"pointSymbol",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"polygonSymbol",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"polylineSymbol",void 0);k.__decorate([n.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],f.prototype,"state",null);k.__decorate([n.property({readOnly:!0})],f.prototype,"updateGraphics",void 0);k.__decorate([n.property()],f.prototype,
"updateOnGraphicClick",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"updatePointSymbol",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"updatePolygonSymbol",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"updatePolylineSymbol",void 0);k.__decorate([n.property({types:u.symbolTypes})],f.prototype,"vertexSymbol",void 0);k.__decorate([n.property({value:null})],f.prototype,"view",null);k.__decorate([n.property()],f.prototype,"cancel",
null);k.__decorate([n.property()],f.prototype,"complete",null);k.__decorate([n.property()],f.prototype,"delete",null);k.__decorate([n.property()],f.prototype,"create",null);k.__decorate([n.property()],f.prototype,"update",null);k.__decorate([n.property()],f.prototype,"undo",null);k.__decorate([n.property()],f.prototype,"redo",null);k.__decorate([n.property()],f.prototype,"canUndo",null);k.__decorate([n.property()],f.prototype,"canRedo",null);k.__decorate([n.property()],f.prototype,"toggleUpdateTool",
null);k.__decorate([n.property({value:null})],f.prototype,"snapToScene",null);return f=k.__decorate([n.subclass("esri.widgets.Sketch.SketchViewModel")],f)}(x.EventedAccessor)})},"esri/views/3d/interactive/editingTools/isSupportedGraphicUtils":function(){define(["require","exports","../../../../core/compilerUtils"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.isSupportedGraphicResultMessage=void 0;a.isSupportedGraphicResultMessage=function(a){switch(a){case 0:break;case 1:return"not owned by a graphics layer";
case 2:return"no geometry";case 3:return"the geometry type is not supported";case 4:return"the elevation mode is not supported";case 5:return"the symbol type is not supported";default:k.neverReached(a)}return""}})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(E,a,k,D,z){Object.defineProperty(a,"__esModule",{value:!0});
a.isSupportedGraphic=void 0;a.isSupportedGraphic=function(a){if("graphics"!==a.layer.type)return 1;if(D.isNone(a.geometry))return 2;var t=a.geometry.type;switch(t){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return k.neverReached(t),3}return"on-the-ground"!==z.getGraphicEffectiveElevationMode(a)&&z.hasGraphicFeatureExpressionInfo(a)?4:0}})},"esri/support/elevationInfoUtils":function(){define(["require","exports","../core/compilerUtils",
"../core/maybe","../symbols/support/unitConversionUtils"],function(E,a,k,D,z){function u(a,k){return D.isNone(k)||!k.mode?a?"absolute-height":"on-the-ground":k.mode}function t(a,k){return u(D.isSome(a)?a.hasZ:!1,k)}function v(a){var k=r(a);return t(a.geometry,k)}function r(a){return a.layer&&"elevationInfo"in a.layer?a.layer.elevationInfo:null}Object.defineProperty(a,"__esModule",{value:!0});a.getConvertedElevation=a.getZForElevationMode=a.hasGraphicFeatureExpressionInfo=a.getGraphicEffectiveElevationInfo=
a.getGraphicEffectiveElevationMode=a.getGeometryEffectiveElevationMode=a.getEffectiveElevationMode=void 0;a.getEffectiveElevationMode=u;a.getGeometryEffectiveElevationMode=t;a.getGraphicEffectiveElevationMode=v;a.getGraphicEffectiveElevationInfo=function(a){var k=r(a);a=t(a.geometry,k);k=D.isSome(k)&&"on-the-ground"!==a?D.unwrapOr(k.offset,0)*z.getMetersPerUnit(D.unwrapOr(k.unit,"meters")):0;return{mode:a,offset:k}};a.hasGraphicFeatureExpressionInfo=function(a){if("on-the-ground"===v(a))return!1;
a=r(a);a=D.isSome(a)&&a.featureExpressionInfo?a.featureExpressionInfo.expression:null;return!(!a||"0"===a)};a.getZForElevationMode=function(a,k,f){if(!D.isNone(f)&&f.mode){var l=a.hasZ?a.z:0,p=D.isSome(f.offset)?f.offset:0;switch(f.mode){case "absolute-height":return l-p;case "on-the-ground":return 0;case "relative-to-ground":return a=(k.elevationProvider.getElevation(a.x,a.y,a.z,a.spatialReference,"ground")||0)+p,l-a;case "relative-to-scene":return a=(k.elevationProvider.getElevation(a.x,a.y,a.z,
a.spatialReference,"scene")||0)+p,l-a}}};a.getConvertedElevation=function(a,p,f,l){void 0===l&&(l=null);if(!D.isNone(f)){var A=D.isSome(l)?l.mode:"absolute-height";if("on-the-ground"===A)return 0;var e=p.hasZ?p.z:0,n=D.isSome(f.offset)?f.offset:0;switch(f.mode){case "absolute-height":e+=n;break;case "on-the-ground":e=a.elevationProvider.getElevation(p.x,p.y,0,p.spatialReference,"ground")||0;break;case "relative-to-ground":f=(a.elevationProvider.getElevation(p.x,p.y,p.z,p.spatialReference,"ground")||
0)+n;e+=f;break;case "relative-to-scene":f=(a.elevationProvider.getElevation(p.x,p.y,p.z,p.spatialReference,"scene")||0)+n,e+=f}l=D.isSome(l)&&D.isSome(l.offset)?l.offset:0;switch(A){case "absolute-height":return e-l;case "relative-to-ground":return f=(a.elevationProvider.getElevation(p.x,p.y,p.z,p.spatialReference,"ground")||0)+l,e-f;case "relative-to-scene":return f=(a.elevationProvider.getElevation(p.x,p.y,p.z,p.spatialReference,"scene")||0)+l,e-f;default:return k.neverReached(A),null}}}})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils".split(" "),
function(E,a,k,D,z,u){Object.defineProperty(a,"__esModule",{value:!0});a.isSupportedGraphic=void 0;a.isSupportedGraphic=function(a){if("graphics"!==a.layer.type)return 1;var t=a.geometry;if(D.isNone(t))return 2;var r=t.type;switch(r){case "polygon":if(t instanceof z)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return k.neverReached(r),3}return"on-the-ground"!==u.getGraphicEffectiveElevationMode(a)&&u.hasGraphicFeatureExpressionInfo(a)?
4:0}})},"esri/geometry/Circle":function(){define("require exports tslib ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),function(E,a,k,D,z,u,t,v,r,x){return function(a){function f(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];f=a.apply(this,f)||this;f.center=null;f.geodesic=!1;f.numberOfPoints=60;f.radius=1E3;f.radiusUnit="meters";return f}k.__extends(f,a);l=f;f.prototype.normalizeCtorArgs=
function(f,e){if(!f||!f.center){if(f&&f.rings)return a.prototype.normalizeCtorArgs.call(this,f,e);f={center:f}}return k.__assign(k.__assign(k.__assign({},a.prototype.normalizeCtorArgs.call(this)),f),e)};f.prototype.initialize=function(){var a=this.center,e=this.numberOfPoints;this.hasZ=a&&a.hasZ;if(0===this.rings.length&&a){var f=D.convertUnit(this.radius,this.radiusUnit,"meters"),k=a.spatialReference,l="geographic";if(k.isWebMercator)l="webMercator";else if(null!=x[k.wkid]||k.wkt&&0===k.wkt.indexOf("PROJCS"))l=
"projected";if(this.geodesic){k=void 0;switch(l){case "webMercator":k=r.webMercatorToGeographic(a);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":k=a}a=this._createGeodesicCircle(k,f,e);"webMercator"===l&&(a=r.geographicToWebMercator(a))}else k=void 0,"webMercator"===l||"projected"===l?k=f/this._convert2Meters(1,a.spatialReference):"geographic"===l&&(k=D.lengthToDegrees(f,
"meters")),a=this._createPlanarCircle(a,k,e);this.spatialReference=a.spatialReference;this.addRing(a.rings[0])}};f.prototype.clone=function(){var a=this.numberOfPoints,e=this.radius,f=this.radiusUnit,k=this.geodesic;return new l({center:this.center.clone(),numberOfPoints:a,radius:e,radiusUnit:f,geodesic:k})};f.prototype._createGeodesicCircle=function(a,e,f){for(var n=0,k=[];360>n;){var l=[0,0];v.directGeodeticSolver(l,[a.x,a.y],n,e);this.hasZ&&l.push(a.z);k.push(l);n+=360/f}k.push(k[0]);return new t(k)};
f.prototype._createPlanarCircle=function(a,e,f){for(var n=0,k=[];n<2*Math.PI;){var l=[a.x+Math.cos(-n)*e,a.y+Math.sin(-n)*e];this.hasZ&&l.push(a.z);k.push(l);n+=Math.PI/(f/2)}k.push(k[0]);return new t({spatialReference:a.spatialReference,rings:[k]})};f.prototype._convert2Meters=function(a,e){if(null!=x[e.wkid])e=x.values[x[e.wkid]];else{e=e.wkt;var f=e.lastIndexOf(",")+1,k=e.lastIndexOf("]]");e=parseFloat(e.substring(f,k))}return a*e};var l;k.__decorate([z.property({type:u})],f.prototype,"center",
void 0);k.__decorate([z.property()],f.prototype,"geodesic",void 0);k.__decorate([z.property()],f.prototype,"numberOfPoints",void 0);k.__decorate([z.property()],f.prototype,"radius",void 0);k.__decorate([z.property()],f.prototype,"radiusUnit",void 0);return f=l=k.__decorate([z.subclass("esri.geometry.Circle")],f)}(t)})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils ./geodesicConstants".split(" "),function(E,
a,k,D,z,u,t){function v(a){if(!a||!a.isGeographic)return null;if(a.wkid){var e=t.spheroids[a.wkid];if(e)return e}if(a.wkt){a=t.WKT_SPHEROID_REGEX.exec(a.wkt);if(!a||2!==a.length)return null;e=a[1].split(",");if(!e||3!==e.length)return null;a=parseFloat(e[1]);e=parseFloat(e[2]);return isNaN(a)||isNaN(e)?null:{a:a,f:0===e?0:1/e}}return null}function r(a){a=v(a||D.SpatialReference.WGS84);if("b"in a&&"eSq"in a&&"radius"in a)return a;var e=a.a*(1-a.f);return k.assign(a,{b:e,eSq:1-Math.pow(e/a.a,2),radius:(2*
a.a+e)/3})}function x(a,f,k){var e=r(k);k=e.a;var e=e.eSq,n=Math.sqrt(e),l=Math.sin(f[1]*t.toRadians);f=k*f[0]*t.toRadians;k=0<e?k*(1-e)*(l/(1-e*l*l)-1/(2*n)*Math.log((1-n*l)/(1+n*l)))*.5:k*l;a[0]=f;a[1]=k;return a}function p(a){return null!==v(a)}function f(a,f){if("polyline"!==a.type&&"polygon"!==a.type)throw new z("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var e=a.spatialReference;if(!p(e))throw new z("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");
var k=r(e).radius/1E4;f<k&&(f=k);for(var k=[],n=[0,0],t={distance:null},u=0,x="polyline"===a.type?a.paths:a.rings;u<x.length;u++){var v=x[u],I=[];k.push(I);I.push([v[0][0],v[0][1]]);for(var O=v[0][0],E=v[0][1],T=void 0,ba=void 0,V=0;V<v.length-1;V++)if(T=v[V+1][0],ba=v[V+1][1],O!==T||E!==ba){var ha=[O,E];A(t,[O,E],[T,ba],e);O=t.azimuth;E=t.distance;T=E/f;if(1<T){for(ba=1;ba<=T-1;ba++)l(n,ha,O,ba*f,e),I.push(n.slice(0));l(n,ha,O,(E+Math.floor(T-1)*f)/2,e);I.push(n.slice(0))}l(n,ha,O,E,e);I.push(n.slice(0));
O=n[0];E=n[1]}}return"polyline"===a.type?new D.Polyline({paths:k,spatialReference:e}):new D.Polygon({rings:k,spatialReference:e})}function l(a,f,k,l,p){var e=f[0]*t.toRadians,n=f[1]*t.toRadians;f=k*t.toRadians;p=r(p);var B=p.a,A=p.b;p=p.f;k=Math.sin(f);f=Math.cos(f);for(var u=(1-p)*Math.tan(n),n=1/Math.sqrt(1+u*u),x=u*n,v=Math.atan2(u,f),u=n*k,G=u*u,N=1-G,B=N*(B*B-A*A)/(A*A),z=1+B/16384*(4096+B*(-768+B*(320-175*B))),D=B/1024*(256+B*(-128+B*(74-47*B))),B=l/(A*z),E=2*Math.PI,S,aa,W,Z;1E-12<Math.abs(B-
E);)W=Math.cos(2*v+B),S=Math.sin(B),aa=Math.cos(B),Z=D*S*(W+D/4*(aa*(-1+2*W*W)-D/6*W*(-3+4*S*S)*(-3+4*W*W))),E=B,B=l/(A*z)+Z;l=x*S-n*aa*f;A=p/16*N*(4+p*(4-3*N));l=Math.atan2(x*aa+n*S*f,(1-p)*Math.sqrt(G+l*l))/t.toRadians;e=(e+(Math.atan2(S*k,n*aa-x*S*f)-(1-A)*p*u*(B+A*S*(W+A*aa*(-1+2*W*W)))))/t.toRadians;a.splice(0,a.length);a.push(e,l);return a}function A(a,f,k,l){var e=f[0]*t.toRadians;f=f[1]*t.toRadians;var n=k[0]*t.toRadians;k=k[1]*t.toRadians;var p=r(l),B=p.a;l=p.b;var A=p.f,u=p.radius,x=n-e,
v=Math.atan((1-A)*Math.tan(f)),G=Math.atan((1-A)*Math.tan(k)),p=Math.sin(v),v=Math.cos(v),z=Math.sin(G),G=Math.cos(G),D=1E3,E=x,Q,S,aa,W,Z,ka,ca,la;do{W=Math.sin(E);Z=Math.cos(E);aa=Math.sqrt(G*W*G*W+(v*z-p*G*Z)*(v*z-p*G*Z));if(0===aa)return{distance:0};Z=p*z+v*G*Z;ka=Math.atan2(aa,Z);ca=v*G*W/aa;S=1-ca*ca;W=Z-2*p*z/S;isNaN(W)&&(W=0);la=A/16*S*(4+A*(4-3*S));Q=E;E=x+(1-la)*A*ca*(ka+la*aa*(W+la*Z*(-1+2*W*W)))}while(1E-12<Math.abs(E-Q)&&0<--D);if(0===D)return a=n-e,{azimuth:Math.atan2(Math.sin(a)*Math.cos(k),
Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)*Math.cos(a))/t.toRadians,distance:Math.acos(Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k)*Math.cos(n-e))*u};e=S*(B*B-l*l)/(l*l);f=e/1024*(256+e*(-128+e*(74-47*e)));n=Math.atan2(v*Math.sin(E),v*z*Math.cos(E)-p*G);a.azimuth=Math.atan2(G*Math.sin(E),v*z-p*G*Math.cos(E))/t.toRadians;a.distance=l*(1+e/16384*(4096+e*(-768+e*(320-175*e))))*(ka-f*aa*(W+f/4*(Z*(-1+2*W*W)-f/6*W*(-3+4*aa*aa)*(-3+4*W*W))));a.reverseAzimuth=n/t.toRadians;return a}Object.defineProperty(a,
"__esModule",{value:!0});a.pointFromDistance=a.geodesicDistance=a.inverseGeodeticSolver=a.directGeodeticSolver=a.geodesicDensify=a.geodesicLengths=a.geodesicAreas=a.isSupported=void 0;a.isSupported=p;a.geodesicAreas=function(a,k){void 0===k&&(k="square-meters");if(a.some(function(a){return!p(a.spatialReference)}))throw new z("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var e=[],n=0;n<a.length;n++){var l=a[n],A=l.spatialReference,A=r(A).radius*
t.densificationRatio;e.push(f(l,A))}a=[];for(var n=[0,0],l=[0,0],v=0;v<e.length;v++){for(var A=e[v],D=A.rings,A=A.spatialReference,M=0,I=0;I<D.length;I++){var O=D[I];x(n,O[0],A);x(l,O[O.length-1],A);for(var E=l[0]*n[1]-n[0]*l[1],T=0;T<O.length-1;T++)x(n,O[T+1],A),x(l,O[T],A),E+=l[0]*n[1]-n[0]*l[1];M+=E}M=u.convertUnit(M,"square-meters",k);a.push(M/-2)}return a};a.geodesicLengths=function(a,f){void 0===f&&(f="meters");if(!a&&!a)throw new z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");
if(a.some(function(a){return!p(a.spatialReference)}))throw new z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var e=[],k=0;k<a.length;k++){for(var n=a[k],l=n.spatialReference,n="polyline"===n.type?n.paths:n.rings,t=0,r=0;r<n.length;r++){for(var x=n[r],v=0,D=1;D<x.length;D++){var E=x[D-1][0],T=x[D][0],ba=x[D-1][1],V=x[D][1];if(ba!==V||E!==T){var ha={distance:null};A(ha,[E,ba],[T,V],l);v+=ha.distance}}t+=v}t=u.convertUnit(t,"meters",f);
e.push(t)}return e};a.geodesicDensify=f;a.directGeodeticSolver=l;a.inverseGeodeticSolver=A;a.geodesicDistance=function(a,f,k){void 0===k&&(k="meters");if(!a||!f)throw new z("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!a.spatialReference||!f.spatialReference)throw new z("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!a.spatialReference.equals(f.spatialReference))throw new z("geodesic-distance:invalid-parameters",
"spatial references of input parameters do not match");var e=a.spatialReference;if(!p(e))throw new z("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(a.equals(f))return{distance:0,azimuth:0,reverseAzimuth:0};var n={distance:null};A(n,[a.x,a.y],[f.x,f.y],e);n.distance=u.convertUnit(n.distance,"meters",k);return n};a.pointFromDistance=function(a,f,k){if(!a||null==f||null==k)throw new z("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");
if(0>k||360<k)throw new z("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!a.spatialReference)throw new z("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");var e=a.spatialReference;if(!p(e))throw new z("geodesic-distance:not-supported","input geometry spatial reference is not supported");var n=[0,0];l(n,[a.x,a.y],k,f,e);return new D.Point({x:n[0],y:n[1],spatialReference:e})}})},
"esri/views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(E,a,k,D,z){Object.defineProperty(a,"__esModule",{value:!0});a.isSupportedGraphic=void 0;a.isSupportedGraphic=function(a){if("graphics"!==a.layer.type)return 1;if(D.isNone(a.geometry))return 2;var t=a.geometry.type;switch(t){case "point":break;case "polygon":case "polyline":case "multipoint":case "extent":case "mesh":return 3;
default:return k.neverReached(t),3}return(t=D.isSome(a.symbol)&&"point-3d"===a.symbol.type&&a.symbol.symbolLayers)&&0<t.length&&t.some(function(a){return"object"===a.type})?"on-the-ground"!==z.getGraphicEffectiveElevationMode(a)&&z.hasGraphicFeatureExpressionInfo(a)?4:0:5}})},"esri/views/draw/Draw":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),
function(E,a,k,D,z,u,t,v,r,x){return function(a){function f(){var f=null!==a&&a.apply(this,arguments)||this;f.activeAction=null;f.type="draw";f.view=null;return f}k.__extends(f,a);f.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};f.prototype.create=function(a,f){this.reset();f=k.__assign({view:this.view},f);switch(a){case "point":this.activeAction=new t.PointDrawAction(f);break;case "polygon":this.activeAction=new v.PolygonDrawAction(f);break;
case "polyline":this.activeAction=new r.PolylineDrawAction(f);break;case "multipoint":this.activeAction=new u.MultipointDrawAction(f);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=new x.SegmentDrawAction(f)}return this.activeAction};f.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};f.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};k.__decorate([z.property()],
f.prototype,"activeAction",void 0);k.__decorate([z.property({readOnly:!0})],f.prototype,"type",void 0);k.__decorate([z.property()],f.prototype,"view",void 0);return f=k.__decorate([z.subclass("esri.views.draw.Draw")],f)}(D)})},"esri/views/draw/MultipointDrawAction":function(){define("require exports tslib ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(E,a,k,D,z,
u,t,v,r,x,p){Object.defineProperty(a,"__esModule",{value:!0});a.MultipointDrawAction=void 0;E=function(a){function f(f){f=a.call(this,f)||this;f._cursorMoved=!1;f._cursorScreenPoint=null;f._dragEnabled=!0;f._pointerDownEvent=null;f._viewHandles=new D;f.vertices=[];f.view=null;return f}k.__extends(f,a);f.prototype.initialize=function(){this._addViewHandles()};f.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};f.prototype.addVertex=function(a,
e){var f=this;isNaN(e)?(e=this.vertices.length,this.vertices.push(a)):this.vertices.splice(e,0,a);this.history.push({vertex:a,vertexIndex:e,undo:function(){return f._undoVertexAdd(null,e)},redo:function(){return f._redoVertexAdd(null,a,e)}});this._set("redoHistory",[]);var k=new r.VertexAddEvent(this.view,null,e,this.vertices);this.emit("vertex-add",k);k.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};f.prototype.removeVertex=function(a){var e=this,f=this.vertices.splice(a,1)[0];this.history.push({vertex:f,
vertexIndex:a,undo:function(){return e._undoVertexRemove(null,f,a)},redo:function(){return e._redoVertexRemove(null,a)}});this._set("redoHistory",[]);this.emit("vertex-remove",new r.VertexRemoveEvent(this.view,null,a,this.vertices))};f.prototype.updateVertex=function(a,e){var f=this,k=this.vertices[e];this.vertices[e]=a;this.history.push({vertex:a,vertexIndex:e,undo:function(){return f._undoVertexUpdate(null,k,e)},redo:function(){return f._redoVertexUpdate(null,a,e)}});this._set("redoHistory",[]);
this.emit("vertex-update",new r.VertexUpdateEvent(this.view,null,e,this.vertices))};f.prototype.complete=function(){this._completeDrawing()};f.prototype._addViewHandles=function(){var a=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(a){a.stopPropagation()},p.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._cursorMoved&&a.vertices.pop();a._pointerDownEvent=e;a._cursorMoved=!1;a._cursorScreenPoint=u.createScreenPointFromEvent(e)},p.ViewEventPriorities.TOOL),
this.view.on("pointer-move",function(e){a._cursorMoved&&a.vertices.pop();a._cursorMoved=!0;a._cursorScreenPoint=u.createScreenPointFromEvent(e);a._cursorUpdateHandler(e)},p.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(e){a._pointerDownEvent&&(a._cursorMoved?(a.vertices.pop(),a._cursorMoved=!1):(a._pointerDownEvent=null,a._vertexAddHandler(e)))},p.ViewEventPriorities.TOOL),this.view.on("drag",function(e){a._dragEnabled&&a._pointerDownEvent&&e.stopPropagation()},p.ViewEventPriorities.TOOL),
this.view.on("drag",["Shift"],function(a){a.stopPropagation()},p.ViewEventPriorities.TOOL),this.view.on("double-click",function(e){e.stopPropagation();a._drawCompleteHandler(e)},p.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(e){e.stopPropagation();a._drawCompleteHandler(e)},p.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){e.key===x.KEYS.vertexAddKey&&!e.repeat&&a._cursorScreenPoint?(a._cursorMoved&&(a.vertices.pop(),a._cursorMoved=!1),a._vertexAddHandler(e)):
e.key===x.KEYS.drawCompleteKey&&!e.repeat&&a._cursorScreenPoint?(a._cursorMoved&&(a.vertices.pop(),a._cursorMoved=!1),a._vertexAddHandler(e),a._drawCompleteHandler(e)):e.key!==x.KEYS.undoKey||a.interactiveUndoDisabled||e.repeat?e.key!==x.KEYS.redoKey||a.interactiveUndoDisabled||e.repeat||(e.stopPropagation(),a.redo()):(e.stopPropagation(),a.undo())},p.ViewEventPriorities.TOOL)])};f.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};f.prototype._addVertex=function(a,e){var f=this;
this.vertices.push(a);var k=this.vertices.indexOf(a);this.history.push({vertex:a,vertexIndex:k,undo:function(){return f._undoVertexAdd(e,k)},redo:function(){return f._redoVertexAdd(e,a,k)}});this._set("redoHistory",[]);var l=new r.VertexAddEvent(this.view,e,k,this.vertices);this.emit("vertex-add",l);l.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};f.prototype._updateCursor=function(a,e){this.vertices.push(a);a=this.vertices.indexOf(a);e=new r.CursorUpdateEvent(this.view,e,a,this.vertices);
this.emit("cursor-update",e)};f.prototype._completeDrawing=function(a){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(a=new r.DrawCompleteEvent(a,this.vertices),this.emit("draw-complete",a),a.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};f.prototype._undoVertexAdd=function(a,e){this.vertices.splice(e,1);this.emit("undo",new r.VertexRemoveEvent(this.view,a,e,this.vertices))};f.prototype._redoVertexAdd=function(a,e,f){this.vertices.splice(f,0,e);this.emit("redo",
new r.VertexAddEvent(this.view,a,f,this.vertices))};f.prototype._undoVertexRemove=function(a,e,f){this.vertices.splice(f,0,e);this.emit("undo",new r.VertexAddEvent(this.view,a,f,this.vertices))};f.prototype._redoVertexRemove=function(a,e){this.vertices.splice(e,1);this.emit("redo",new r.VertexRemoveEvent(this.view,a,e,this.vertices))};f.prototype._undoVertexUpdate=function(a,e,f){this.vertices[f]=e;this.emit("undo",new r.VertexUpdateEvent(this.view,a,f,this.vertices))};f.prototype._redoVertexUpdate=
function(a,e,f){this.vertices[f]=e;this.emit("redo",new r.VertexUpdateEvent(this.view,a,f,this.vertices))};f.prototype._vertexAddHandler=function(a){var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);z.isSome(e)&&this._addVertex(e,a.native)};f.prototype._cursorUpdateHandler=function(a){var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);z.isSome(e)&&this._updateCursor(e,a.native)};f.prototype._drawCompleteHandler=function(a){this._completeDrawing(a.native)};k.__decorate([t.property({readOnly:!0})],
f.prototype,"vertices",void 0);k.__decorate([t.property()],f.prototype,"view",void 0);return f=k.__decorate([t.subclass("esri.views.draw.MultipointDrawAction")],f)}(v);a.MultipointDrawAction=E})},"esri/views/draw/DrawAction":function(){define("require exports tslib ../../core/Evented ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators".split(" "),function(E,a,k,D,z,u,t){var v={mode:"absolute-height",offset:0},r={mode:"on-the-ground",offset:0};return function(a){function p(){var f=
null!==a&&a.apply(this,arguments)||this;f._hasZ=null;f.interactiveUndoDisabled=!1;f.history=[];f.redoHistory=[];f.snapToScene=!1;f.view=null;f.elevationInfo=null;f.defaultZ=0;return f}k.__extends(p,a);Object.defineProperty(p.prototype,"hasZ",{get:function(){return z.isSome(this._hasZ)?this._hasZ:"3d"===this.view.type},set:function(a){this._hasZ=a;this.notifyChange("hasZ")},enumerable:!1,configurable:!0});p.prototype.canUndo=function(){return 0<this.history.length};p.prototype.canRedo=function(){return 0<
this.redoHistory.length};p.prototype.undo=function(){if(this.canUndo()){var a=this.history.pop();a.undo();this.redoHistory.push(a)}};p.prototype.redo=function(){if(this.canRedo()){var a=this.redoHistory.pop();a.redo();this.history.push(a)}};p.prototype.getCoordsFromScreenPoint=function(a){a=this.screenToMap(a);return z.isSome(a)?a.hasZ?[a.x,a.y,a.z]:[a.x,a.y]:null};p.prototype.getCoordsAndPointFromScreenPoint=function(a){a=this.screenToMap(a);return z.isSome(a)?a.hasZ?{vertex:[a.x,a.y,a.z],mapPoint:a}:
{vertex:[a.x,a.y],mapPoint:a}:null};p.prototype.isDuplicateVertex=function(a,k){if(a.length){a=a[a.length-1];var f=a[1];return a[0]===k[0]&&f===k[1]}return!1};p.prototype.getGeometryZValue=function(){return this.defaultZ};p.prototype.screenToMap=function(a){var f=null;"3d"===this.view.type?this.hasZ?(f=z.unwrapOr(this.elevationInfo,v),f=this.view.sceneIntersectionHelper.intersectElevationFromScreen(u.createScreenPointArray(a.x,a.y),f,this.getGeometryZValue())):(f=z.unwrapOr(this.elevationInfo,r),
f=this.view.sceneIntersectionHelper.intersectElevationFromScreen(u.createScreenPointArray(a.x,a.y),f,0),z.isSome(f)&&(f.z=void 0)):(f=this.view.toMap(a),z.isSome(f)&&(f.z=this.hasZ?this.getGeometryZValue():void 0));return f};k.__decorate([t.property({type:Boolean,nonNullable:!0})],p.prototype,"interactiveUndoDisabled",void 0);k.__decorate([t.property({readOnly:!0})],p.prototype,"history",void 0);k.__decorate([t.property({readOnly:!0})],p.prototype,"redoHistory",void 0);k.__decorate([t.property()],
p.prototype,"snapToScene",void 0);k.__decorate([t.property()],p.prototype,"view",void 0);k.__decorate([t.property()],p.prototype,"elevationInfo",void 0);k.__decorate([t.property({nonNullable:!0})],p.prototype,"defaultZ",void 0);k.__decorate([t.property({dependsOn:["view"]})],p.prototype,"hasZ",null);return p=k.__decorate([t.subclass("esri.views.draw.DrawAction")],p)}(D.EventedAccessor)})},"esri/views/draw/input/DrawEvents":function(){define(["require","exports"],function(E,a){Object.defineProperty(a,
"__esModule",{value:!0});a.DrawCompleteEvent=a.CursorUpdateEvent=a.VertexRemoveEvent=a.VertexUpdateEvent=a.VertexAddEvent=void 0;E=function(){function a(a,k,u,t){this.view=a;this.native=k;this.vertexIndex=u;this.vertices=t;this.defaultPrevented=!1;this.type="vertex-add"}a.prototype.preventDefault=function(){this.defaultPrevented=!0};return a}();a.VertexAddEvent=E;E=function(){function a(a,k,u,t){this.view=a;this.native=k;this.vertexIndex=u;this.vertices=t;this.defaultPrevented=!1;this.type="vertex-update"}
a.prototype.preventDefault=function(){this.defaultPrevented=!0};return a}();a.VertexUpdateEvent=E;E=function(){function a(a,k,u,t){this.view=a;this.native=k;this.vertexIndex=u;this.vertices=t;this.defaultPrevented=!1;this.type="vertex-remove"}a.prototype.preventDefault=function(){this.defaultPrevented=!0};return a}();a.VertexRemoveEvent=E;E=function(){function a(a,k,u,t,v){void 0===v&&(v=null);this.view=a;this.native=k;this.vertexIndex=u;this.vertices=t;this.mapPoint=v;this.coordinates=null;this.defaultPrevented=
!1;this.type="cursor-update";this.coordinates=1===t.length?t[0]:null}a.prototype.preventDefault=function(){this.defaultPrevented=!0};return a}();a.CursorUpdateEvent=E;E=function(){function a(a,k){this.native=a;this.vertices=k;this.coordinates=null;this.defaultPrevented=!1;this.type="draw-complete";this.coordinates=1===k.length?k[0]:null}a.prototype.preventDefault=function(){this.defaultPrevented=!0};return a}();a.DrawCompleteEvent=E})},"esri/views/draw/input/Keys":function(){define(["require","exports"],
function(E,a){Object.defineProperty(a,"__esModule",{value:!0});a.KEYS=void 0;a.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports tslib ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../3d/interactive/editingTools/draw/DrawTool ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager ../input/recognizers/PointerClickHoldAndDrag".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l){Object.defineProperty(a,"__esModule",{value:!0});a.PointDrawAction=void 0;E=function(a){function e(e){e=a.call(this,e)||this;e._clickDelay=l.DefaultParameters.maximumClickDelay;e._cursorMoved=!1;e._cursorScreenPoint=null;e._pointerDownEvent=null;e._viewHandles=new D;e.coordinates=[];e.view=null;return e}k.__extends(e,a);e.prototype.initialize=function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)};e.prototype.destroy=function(){"2d"===
this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool();this.emit("destroy")};e.prototype.complete=function(){if("2d"===this.view.type){if(this._cursorScreenPoint){var a=this.getCoordsFromScreenPoint(this._cursorScreenPoint);z.isSome(a)&&(this._set("coordinates",a),this._completeDrawing())}}else this._drawTool.completeCreateOperation()};e.prototype._addViewHandles=function(){var a=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(e){e.stopPropagation();
var f=a.getCoordsFromScreenPoint(e.screenPoint);z.isSome(f)&&(a._set("coordinates",f),a._drawCompleteHandler(e))},f.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._pointerDownEvent=e;a._cursorMoved=!1},f.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(e){a._cursorMoved=!0;a._cursorScreenPoint=u.createScreenPointFromEvent(e);a._cursorUpdateHandler(e)},f.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(e){if(a._pointerDownEvent&&!a._cursorMoved&&e.timestamp-
a._pointerDownEvent.timestamp>a._clickDelay){a._cursorScreenPoint=u.createScreenPointFromEvent(e);var f=a.getCoordsFromScreenPoint(a._cursorScreenPoint);z.isSome(f)&&(a._set("coordinates",f),a._drawCompleteHandler(e))}},f.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){if(e.key===p.KEYS.drawCompleteKey&&a._cursorScreenPoint){var f=a.getCoordsFromScreenPoint(a._cursorScreenPoint);z.isSome(f)&&(a._set("coordinates",f),a._drawCompleteHandler(e))}},f.ViewEventPriorities.TOOL)])};e.prototype._removeViewHandles=
function(){this._viewHandles.removeAll()};e.prototype._addDrawTool=function(a){var e=this;this._drawTool=new v.DrawTool({view:a,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"point"});this.view.toolViewManager.tools.push(this._drawTool);this.view.activeTool=this._drawTool;this._drawTool.on("cursor-update",function(a){1===a.vertices.length&&e.emit("cursor-update",new x.CursorUpdateEvent(e.view,null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("complete",
function(a){e.emit("draw-complete",new x.DrawCompleteEvent(null,e._drawTool.getVertexCoords()));e._removeDrawTool()})};e.prototype._removeDrawTool=function(){z.isSome(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)};e.prototype._updateCursor=function(a,e){z.isSome(a)?this.emit("cursor-update",new x.CursorUpdateEvent(this.view,e,0,[a])):this.emit("cursor-update",new x.CursorUpdateEvent(this.view,e,null,null))};e.prototype._completeDrawing=function(a){this._cursorMoved=
!1;this._pointerDownEvent=null;a=new x.DrawCompleteEvent(a,[this.coordinates]);this.emit("draw-complete",a);a.defaultPrevented||this._removeViewHandles()};e.prototype._cursorUpdateHandler=function(a){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),a.native)};e.prototype._drawCompleteHandler=function(a){this._completeDrawing(a.native)};k.__decorate([t.property({readOnly:!0})],e.prototype,"coordinates",void 0);k.__decorate([t.property()],e.prototype,"view",void 0);return e=
k.__decorate([t.subclass("esri.views.draw.PointDrawAction")],e)}(r);a.PointDrawAction=E})},"esri/views/3d/interactive/editingTools/draw/DrawTool":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ./DrawOperation ./drawSurfaces ../../../../interactive/InteractiveToolBase".split(" "),function(E,a,k,D,z,u,t,v,r){Object.defineProperty(a,"__esModule",{value:!0});a.DrawTool=void 0;E=function(a){function p(f){f=a.call(this,
f)||this;f.drawOperation=null;f.hasZ=!0;f.defaultZ=0;f.elevationInfo=null;f.snapToScene=null;f.mode="hybrid";f.geometryType=null;f.type="draw-3d";return f}k.__extends(p,a);p.prototype.initialize=function(){var a=this,k=z.unwrapOr(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this.drawOperation=new t.DrawOperation({view:this.view,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snappingEnabled:this.snapToScene,
snappingDrawSurface:new v.SceneDrawSurface(this.view,k),hasM:!1,elevationInfo:k});this.drawOperation.on("vertex-add",function(f){return a.onVertexAdd(f)});this.drawOperation.on("vertex-remove",function(f){return a.onVertexRemove(f)});this.drawOperation.on("vertex-update",function(f){return a.onVertexUpdate(f)});this.drawOperation.on("cursor-update",function(f){return a.onCursorUpdate(f)});this.drawOperation.on("complete",function(f){return a.onComplete(f)})};p.prototype.destroy=function(){this.drawOperation.destroy();
this.drawOperation=null;this._set("view",null)};p.prototype.onInputEvent=function(a){this.drawOperation.onInputEvent(a)};Object.defineProperty(p.prototype,"enabled",{set:function(a){this.drawOperation.interactive=a;this._set("enabled",a)},enumerable:!1,configurable:!0});p.prototype.reset=function(){};Object.defineProperty(p.prototype,"canRedo",{get:function(){return this.drawOperation.canRedo},enumerable:!1,configurable:!0});p.prototype.redo=function(){this.drawOperation.redo()};Object.defineProperty(p.prototype,
"canUndo",{get:function(){return this.drawOperation.canUndo},enumerable:!1,configurable:!0});p.prototype.undo=function(){this.drawOperation.undo()};p.prototype.completeCreateOperation=function(){this.drawOperation.complete()};p.prototype.activate=function(){};p.prototype.deactivate=function(){this.drawOperation.isCompleted||this.drawOperation.cancel()};p.prototype.getVertexCoords=function(){return this.drawOperation.vertices};p.prototype.onVertexAdd=function(a){this.emit("vertex-add",a)};p.prototype.onVertexRemove=
function(a){this.emit("vertex-remove",a)};p.prototype.onVertexUpdate=function(a){this.emit("vertex-update",a)};p.prototype.onCursorUpdate=function(a){this.emit("cursor-update",a)};p.prototype.onComplete=function(a){this.emit("complete",a)};k.__decorate([u.property({constructOnly:!0,nonNullable:!0})],p.prototype,"view",void 0);k.__decorate([u.property({value:!0})],p.prototype,"enabled",null);k.__decorate([u.property({constructOnly:!0})],p.prototype,"hasZ",void 0);k.__decorate([u.property({constructOnly:!0,
nonNullable:!0})],p.prototype,"defaultZ",void 0);k.__decorate([u.property({constructOnly:!0})],p.prototype,"elevationInfo",void 0);k.__decorate([u.property()],p.prototype,"snapToScene",void 0);k.__decorate([u.property({constructOnly:!0})],p.prototype,"mode",void 0);k.__decorate([u.property({constructOnly:!0})],p.prototype,"geometryType",void 0);k.__decorate([u.property({readOnly:!0})],p.prototype,"type",void 0);return p=k.__decorate([u.subclass("esri.views.3d.interactive.editingTools.draw.DrawTool")],
p)}(D.EventedMixin(r.InteractiveToolBase));a.DrawTool=E})},"esri/views/3d/interactive/editingTools/draw/DrawOperation":function(){define("require exports tslib ../../../../../geometry ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../core/accessorSupport/decorators ../coordinateHelper ./DrawManipulator ./drawSurfaces ../editGeometry/EditGeometryHelper ../../../../interactive/dragEventPipeline".split(" "),function(E,a,k,
D,z,u,t,v,r,x,p,f,l,A){Object.defineProperty(a,"__esModule",{value:!0});a.DrawOperation=void 0;E=function(a){function n(e){var n=a.call(this)||this;n._manipulator=null;n._stagedVertex=null;n.drawingMode="hybrid";n.geometryType=null;n.elevationInfo=null;n.snappingEnabled=null;n._handles=new u;n._defaultZ=0;n._elevationDrawSurface=null;n._snappingDrawSurface=null;n._createOperationCompleted=!1;n.view=e.view;n.drawingMode=e.drawingMode;n.geometryType=e.geometryType;n.elevationInfo=e.elevationInfo;n.coordinateHelper=
x.createCoordinateHelper(e.hasZ,e.hasM,n.view.spatialReference,n.view.viewingMode);n._defaultZ=e.defaultZ;n.snappingEnabled=e.snappingEnabled;n._snappingDrawSurface=t.unwrap(e.snappingDrawSurface);n._elevationDrawSurface=new f.ElevationDrawSurface(n.elevationInfo,n._defaultZ,n.view);n._editGeometry=new l.EditGeometryHelper(new l.EditGeometry(n.coordinateHelper),"segment"===n.geometryType?"polyline":n.geometryType);n._activeComponent=new l.Component(n._editGeometry.data);n._editGeometry.data.components.push(n._activeComponent);
n._editGeometry.on(["vertex-add","vertex-update","vertex-remove"],function(a){var e=a.vertices.map(function(a){return{componentIndex:0,vertexIndex:a.index,coordinates:n.coordinateHelper.toArray(a.pos)}}),f=e.map(function(a){return a.coordinates});switch(a.type){case "vertex-add":n.emit(a.type,k.__assign(k.__assign({},a),{added:f,vertices:e}));break;case "vertex-update":n.emit(a.type,k.__assign(k.__assign({},a),{updated:f,vertices:e}));break;case "vertex-remove":n.emit(a.type,k.__assign(k.__assign({},
a),{removed:f,vertices:e}))}});n._manipulator=new p.DrawManipulator;e.manipulators.add(n._manipulator);n._manipulator.grabbable="point"!==n.geometryType;e=A.createManipulatorDragEventPipeline(n._manipulator,function(a,e,f,k){"click"===n.drawingMode||n.isCompleted||(e.next(n._screenToMapDragEventStep()).next(function(a){"start"===a.action&&(n.stagedVertex=a.mapStart,"segment"!==n.geometryType&&"hybrid"!==n.drawingMode||n.commitStagedVertex());return a}).next(function(a){switch(a.action){case "start":case "update":switch(n.drawingMode){case "freehand":case "hybrid":n.stagedVertex=
a.mapEnd,"polygon"!==n.geometryType&&"polyline"!==n.geometryType||n.commitStagedVertex()}break;case "end":"freehand"!==n.drawingMode&&"segment"!==n.geometryType&&"point"!==n.geometryType||n.complete()}return a}),f.next(function(a){}))});var r=n._manipulator.events.on("immediate-double-click",function(a){n.complete();a.stopPropagation()}),B=n._manipulator.events.on("immediate-click",function(a){var e=n._activeComponent,f=n._closeOnClickVertexIndex(a.screenPoint);if(t.isSome(f))n.discardStagedVertex(),
n.complete();else if(f=n._screenToMap(a.screenPoint),t.isSome(f))switch(n.drawingMode){case "click":case "hybrid":n.discardStagedVertex(),n._editGeometry.appendVertex(n.coordinateHelper.fromPoint(f)),("point"===n.geometryType||"segment"===n.geometryType&&2===e.vertices.length||"segment"===n.geometryType&&"hybrid"===n.drawingMode&&1===e.vertices.length)&&n.complete()}a.stopPropagation()});n._handles.add([e,B,r]);return n}k.__extends(n,a);Object.defineProperty(n.prototype,"isCompleted",{get:function(){return this._createOperationCompleted},
enumerable:!1,configurable:!0});n.prototype.destroy=function(){this._handles.destroy();this._handles=null};n.prototype.onInputEvent=function(a){if(!(this._manipulator.dragging||this._manipulator.grabbing&&"pointer-move"===a.type))switch(a.type){case "pointer-move":var e=v.createScreenPoint(a.x,a.y),f=this._closeOnClickVertexIndex(e);t.isSome(f)?(this.discardStagedVertex(),e={componentIndex:0,vertexIndex:f,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[f].pos)},this.emit("cursor-update",
{updated:null,vertices:[e],operation:"apply",type:"vertex-update"})):(e=this._screenToMap(e),t.isSome(e)?(this.stagedVertex=e,this._manipulator.cursor="crosshair"):this._manipulator.cursor=null);a.stopPropagation()}};Object.defineProperty(n.prototype,"canRedo",{get:function(){return this._editGeometry.canRedo},enumerable:!1,configurable:!0});n.prototype.redo=function(){this._editGeometry.redo()};Object.defineProperty(n.prototype,"canUndo",{get:function(){return this._editGeometry.canUndo},enumerable:!1,
configurable:!0});n.prototype.undo=function(){this._editGeometry.undo()};n.prototype.complete=function(a){void 0===a&&(a=!1);this.commitStagedVertex();this._createOperationCompleted=!0;this.emit("complete",{vertices:this.vertices.map(function(a,e){return{componentIndex:0,vertexIndex:e,coordinates:a}}),aborted:a,type:"complete"})};n.prototype.cancel=function(){this.complete(!0)};Object.defineProperty(n.prototype,"interactive",{get:function(){return this._manipulator.interactive},set:function(a){this._manipulator.interactive=
a},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"numVertices",{get:function(){return t.isSome(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"numCommittedVertices",{get:function(){return this._activeComponent.vertices.length},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"vertices",{get:function(){var a=this,e=this._activeComponent.vertices.map(function(e){return a.coordinateHelper.toArray(e.pos)});
t.isSome(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex));return e},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"spatialReference",{get:function(){return this.view.spatialReference},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"hasStagedVertex",{get:function(){return t.isSome(this._stagedVertex)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"stagedVertex",{get:function(){return this._stagedVertex},set:function(a){t.isNone(a)?
this.discardStagedVertex():(this._stagedVertex=a,a={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(a)},this.emit("cursor-update",{updated:null,vertices:[a],operation:"apply",type:"vertex-update"}))},enumerable:!1,configurable:!0});n.prototype.commitStagedVertex=function(){if(t.isSome(this._stagedVertex)){var a=this._stagedVertex;this._stagedVertex=null;this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(a))}};n.prototype.discardStagedVertex=
function(){this._stagedVertex=null};n.prototype._screenToMapDragEventStep=function(){var a=this,e=null;return function(f){"start"===f.action&&(e=a._screenToMap(f.screenStart));if(t.isNone(e))return null;var n=a._screenToMap(f.screenEnd);return t.isSome(n)?k.__assign(k.__assign({},f),{mapStart:e,mapEnd:n}):null}};n.prototype._screenToMap=function(a){return this._getDrawSurface().screenToMap(a)};n.prototype._mapToScreen=function(a){return this._getDrawSurface().mapToScreen(a)};n.prototype._getDrawSurface=
function(){var a=null;if(this.coordinateHelper.hasZ){var a=this._defaultZ,e=!1;t.isSome(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(e=!0);t.isSome(this.snappingEnabled)&&(e=this.snappingEnabled);t.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(e=!1);var f=this._activeComponent.vertices.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&0<f&&(a=this.coordinateHelper.zFromArray(this._activeComponent.vertices[0].pos),e=!1);e?a=this._snappingDrawSurface:
(this._elevationDrawSurface.defaultZ=a,a=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,a=this._elevationDrawSurface;return a};n.prototype._vertexWithinPointerDistance=function(a,e){var f=this._mapToScreen(a);t.isSome(f)?(a=f.x-e.x,e=f.y-e.y,e=25>=a*a+e*e):e=!1;return e};n.prototype._closeOnClickVertexIndex=function(a){var f=this._activeComponent;if("polygon"===this.geometryType&&2<f.vertices.length){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(f.vertices[0].pos,
e),a))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(f.vertices[f.vertices.length-1].pos,e),a))return f.vertices.length-1}return null};return n=k.__decorate([r.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawOperation")],n)}(z);a.DrawOperation=E;var e=new D.Point({x:0,y:0,z:0})})},"esri/views/3d/interactive/editingTools/coordinateHelper":function(){define("require exports ../../../../geometry ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/spatialReferenceUtils".split(" "),
function(E,a,k,D,z,u,t,v,r,x){function p(a,e){if(e.supported){var f=Infinity,k=-Infinity,n=e.upperBoundX-e.lowerBoundX;a.forEach(function(a){for(var l=a.pos[0];l<e.lowerBoundX;)l+=n;for(;l>e.upperBoundX;)l-=n;f=Math.min(f,l);k=Math.max(k,l);a.pos[0]=l});var l=k-f;n-l<l&&a.forEach(function(a){0>a.pos[0]&&(a.pos[0]+=n)})}}function f(a,e){a=x.getInfo(a);return"global"===e&&a?{supported:!0,lowerBoundX:a.valid[0],upperBoundX:a.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}Object.defineProperty(a,
"__esModule",{value:!0});a.createCoordinateHelper=a.CoordinateHelper4D=a.CoordinateHelper3D=a.CoordinateHelper2D=void 0;var l=function(){function a(a,e){this.spatialReference=a;this.viewingMode=e;this._unnormalizationInfo=f(a,e)}a.prototype.createNew=function(){return z.vec2f64.create()};a.prototype.fromPoint=function(a){return z.vec2f64.fromValues(a.x,a.y)};a.prototype.fromArray=function(a){return z.vec2f64.fromValues(a[0],a[1])};a.prototype.toArray=function(a){return[a[0],a[1]]};a.prototype.toPoint=
function(a,e){e.x=a[0];e.y=a[1];e.hasZ=!1;e.hasM=!1;e.spatialReference=this.spatialReference;return e};a.prototype.createPoint=function(a){return new k.Point({x:a[0],y:a[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};a.prototype.createPointFromArray=function(a){return new k.Point({x:a[0],y:a[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};a.prototype.lerp=function(a,e,f,k){return D.vec2.lerp(k,a,e,f)};a.prototype.addDelta=function(a,e,f){a[0]+=e;a[1]+=f};a.prototype.pointToArray=
function(a){return[a.x,a.y]};a.prototype.zFromArray=function(a){};a.prototype.hasZ=function(){return!1};a.prototype.unnormalize=function(a){p(a,this._unnormalizationInfo)};return a}();a.CoordinateHelper2D=l;var A=function(){function a(a,e,k){this.valueType=a;this.spatialReference=e;this._unnormalizationInfo=f(e,k)}a.prototype.createNew=function(){return t.vec3f64.create()};a.prototype.fromPoint=function(a){return t.vec3f64.fromValues(a.x,a.y,0===this.valueType?a.z:a.m)};a.prototype.fromArray=function(a){return t.vec3f64.fromValues(a[0],
a[1],a[2]||0)};a.prototype.toArray=function(a){return[a[0],a[1],a[2]]};a.prototype.toPoint=function(a,e){e.x=a[0];e.y=a[1];0===this.valueType?(e.z=a[2],e.hasZ=!0,e.hasM=!1):(e.m=a[2],e.hasZ=!1,e.hasM=!0);e.spatialReference=this.spatialReference;return e};a.prototype.createPoint=function(a){return new k.Point({x:a[0],y:a[1],z:0===this.valueType?a[2]:void 0,m:1===this.valueType?a[2]:void 0,spatialReference:this.spatialReference})};a.prototype.createPointFromArray=function(a){return new k.Point({x:a[0],
y:a[1],z:0===this.valueType?a[2]:void 0,m:1===this.valueType?a[2]:void 0,spatialReference:this.spatialReference})};a.prototype.lerp=function(a,e,f,k){return u.vec3.lerp(k,a,e,f)};a.prototype.addDelta=function(a,e,f,k){a[0]+=e;a[1]+=f;0===this.valueType&&(a[2]+=k)};a.prototype.pointToArray=function(a){return 0===this.valueType?[a.x,a.y,a.z]:[a.x,a.y,a.m]};a.prototype.zFromArray=function(a){return 0===this.valueType?a[2]:void 0};a.prototype.hasZ=function(){return 0===this.valueType};a.prototype.unnormalize=
function(a){p(a,this._unnormalizationInfo)};return a}();a.CoordinateHelper3D=A;var e=function(){function a(a,e){this.spatialReference=a;this._unnormalizationInfo=f(a,e)}a.prototype.createNew=function(){return r.vec4f64.create()};a.prototype.fromPoint=function(a){return r.vec4f64.fromValues(a.x,a.y,a.z,a.m)};a.prototype.fromArray=function(a){return r.vec4f64.fromValues(a[0],a[1],a[2]||0,a[3]||0)};a.prototype.toArray=function(a){return[a[0],a[1],a[2],a[3]]};a.prototype.toPoint=function(a,e){e.x=a[0];
e.y=a[1];e.z=a[2];e.m=a[3];e.hasZ=!0;e.hasM=!0;e.spatialReference=this.spatialReference;return e};a.prototype.createPoint=function(a){return new k.Point({x:a[0],y:a[1],z:a[2],m:a[3],spatialReference:this.spatialReference})};a.prototype.createPointFromArray=function(a){return new k.Point({x:a[0],y:a[1],z:a[2],m:a[3],spatialReference:this.spatialReference})};a.prototype.lerp=function(a,e,f,k){return v.vec4.lerp(k,a,e,f)};a.prototype.addDelta=function(a,e,f,k){a[0]+=e;a[1]+=f;a[2]+=k};a.prototype.pointToArray=
function(a){return[a.x,a.y,a.z,a.m]};a.prototype.zFromArray=function(a){return a[2]};a.prototype.hasZ=function(){return!0};a.prototype.unnormalize=function(a){p(a,this._unnormalizationInfo)};return a}();a.CoordinateHelper4D=e;a.createCoordinateHelper=function(a,f,k,p){return a&&f?new e(k,p):f?new A(1,k,p):a?new A(0,k,p):new l(k,p)}})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require","exports","./math/vec2"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=void 0;
a.vec2=k})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(E,a,k){function D(a,f,k){a[0]=f[0]-k[0];a[1]=f[1]-k[1];return a}function z(a,f,k){a[0]=f[0]*k[0];a[1]=f[1]*k[1];return a}function u(a,f,k){a[0]=f[0]/k[0];a[1]=f[1]/k[1];return a}function t(a,f){var k=f[0]-a[0];a=f[1]-a[1];return Math.sqrt(k*k+a*a)}function v(a,f){var k=f[0]-a[0];a=f[1]-a[1];return k*k+a*a}function r(a){var f=a[0];a=a[1];return Math.sqrt(f*f+a*a)}function x(a){var f=a[0];
a=a[1];return f*f+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.len=a.equals=a.exactEquals=a.str=a.angle=a.rotate=a.transformMat4=a.transformMat3=a.transformMat2d=a.transformMat2=a.random=a.lerp=a.cross=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.length=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=void 0;a.copy=function(a,f){a[0]=f[0];a[1]=f[1];
return a};a.set=function(a,f,k){a[0]=f;a[1]=k;return a};a.add=function(a,f,k){a[0]=f[0]+k[0];a[1]=f[1]+k[1];return a};a.subtract=D;a.multiply=z;a.divide=u;a.ceil=function(a,f){a[0]=Math.ceil(f[0]);a[1]=Math.ceil(f[1]);return a};a.floor=function(a,f){a[0]=Math.floor(f[0]);a[1]=Math.floor(f[1]);return a};a.min=function(a,f,k){a[0]=Math.min(f[0],k[0]);a[1]=Math.min(f[1],k[1]);return a};a.max=function(a,f,k){a[0]=Math.max(f[0],k[0]);a[1]=Math.max(f[1],k[1]);return a};a.round=function(a,f){a[0]=Math.round(f[0]);
a[1]=Math.round(f[1]);return a};a.scale=function(a,f,k){a[0]=f[0]*k;a[1]=f[1]*k;return a};a.scaleAndAdd=function(a,f,k,t){a[0]=f[0]+k[0]*t;a[1]=f[1]+k[1]*t;return a};a.distance=t;a.squaredDistance=v;a.length=r;a.squaredLength=x;a.negate=function(a,f){a[0]=-f[0];a[1]=-f[1];return a};a.inverse=function(a,f){a[0]=1/f[0];a[1]=1/f[1];return a};a.normalize=function(a,f){var k=f[0],p=f[1],k=k*k+p*p;0<k&&(k=1/Math.sqrt(k),a[0]=f[0]*k,a[1]=f[1]*k);return a};a.dot=function(a,f){return a[0]*f[0]+a[1]*f[1]};
a.cross=function(a,f,k){f=f[0]*k[1]-f[1]*k[0];a[0]=a[1]=0;a[2]=f;return a};a.lerp=function(a,f,k,t){var e=f[0];f=f[1];a[0]=e+t*(k[0]-e);a[1]=f+t*(k[1]-f);return a};a.random=function(a,f){f=f||1;var l=2*k.RANDOM()*Math.PI;a[0]=Math.cos(l)*f;a[1]=Math.sin(l)*f;return a};a.transformMat2=function(a,f,k){var l=f[0];f=f[1];a[0]=k[0]*l+k[2]*f;a[1]=k[1]*l+k[3]*f;return a};a.transformMat2d=function(a,f,k){var l=f[0];f=f[1];a[0]=k[0]*l+k[2]*f+k[4];a[1]=k[1]*l+k[3]*f+k[5];return a};a.transformMat3=function(a,
f,k){var l=f[0];f=f[1];a[0]=k[0]*l+k[3]*f+k[6];a[1]=k[1]*l+k[4]*f+k[7];return a};a.transformMat4=function(a,f,k){var l=f[0];f=f[1];a[0]=k[0]*l+k[4]*f+k[12];a[1]=k[1]*l+k[5]*f+k[13];return a};a.rotate=function(a,f,k,t){var e=f[0]-k[0];f=f[1]-k[1];var n=Math.sin(t);t=Math.cos(t);a[0]=e*t-f*n+k[0];a[1]=e*n+f*t+k[1];return a};a.angle=function(a,f){var k=a[0];a=a[1];var p=f[0];f=f[1];var e=k*k+a*a;0<e&&(e=1/Math.sqrt(e));var n=p*p+f*f;0<n&&(n=1/Math.sqrt(n));k=(k*p+a*f)*e*n;return 1<k?0:-1>k?Math.PI:Math.acos(k)};
a.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};a.exactEquals=function(a,f){return a[0]===f[0]&&a[1]===f[1]};a.equals=function(a,f){var l=a[0];a=a[1];var p=f[0];f=f[1];return Math.abs(l-p)<=k.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(a-f)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};a.len=r;a.sub=D;a.mul=z;a.div=u;a.dist=t;a.sqrDist=v;a.sqrLen=x})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(E,a,k){Object.defineProperty(a,
"__esModule",{value:!0});a.vec2f64=void 0;a.vec2f64=k})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(E,a){Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitY=a.unitX=a.ones=a.zeros=a.createView=a.fromArray=a.fromValues=a.clone=a.create=void 0;a.create=function(){return[0,0]};a.clone=function(a){return[a[0],a[1]]};a.fromValues=function(a,D){return[a,D]};a.fromArray=function(a){for(var k=[0,0],z=Math.min(2,a.length),
u=0;u<z;++u)k[u]=a[u];return k};a.createView=function(a,D){return new Float64Array(a,D,2)};a.zeros=function(){return[0,0]};a.ones=function(){return[1,1]};a.unitX=function(){return[1,0]};a.unitY=function(){return[0,1]};a.ZEROS=[0,0];a.ONES=[1,1];a.UNIT_X=[1,0];a.UNIT_Y=[0,1]})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec4=void 0;a.vec4=k})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require",
"exports","./common"],function(E,a,k){function D(a,f,k){a[0]=f[0]-k[0];a[1]=f[1]-k[1];a[2]=f[2]-k[2];a[3]=f[3]-k[3];return a}function z(a,f,k){a[0]=f[0]*k[0];a[1]=f[1]*k[1];a[2]=f[2]*k[2];a[3]=f[3]*k[3];return a}function u(a,f,k){a[0]=f[0]/k[0];a[1]=f[1]/k[1];a[2]=f[2]/k[2];a[3]=f[3]/k[3];return a}function t(a,f){var k=f[0]-a[0],p=f[1]-a[1],e=f[2]-a[2];a=f[3]-a[3];return Math.sqrt(k*k+p*p+e*e+a*a)}function v(a,f){var k=f[0]-a[0],p=f[1]-a[1],e=f[2]-a[2];a=f[3]-a[3];return k*k+p*p+e*e+a*a}function r(a){var f=
a[0],k=a[1],p=a[2];a=a[3];return Math.sqrt(f*f+k*k+p*p+a*a)}function x(a){var f=a[0],k=a[1],p=a[2];a=a[3];return f*f+k*k+p*p+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.equals=a.exactEquals=a.str=a.transformQuat=a.transformMat4=a.random=a.lerp=a.dot=a.normalize=a.inverse=a.negate=a.squaredLength=a.length=a.squaredDistance=a.distance=a.scaleAndAdd=a.scale=a.round=a.max=a.min=a.floor=a.ceil=a.divide=a.multiply=a.subtract=a.add=a.set=a.copy=
void 0;a.copy=function(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];return a};a.set=function(a,f,k,t,e){a[0]=f;a[1]=k;a[2]=t;a[3]=e;return a};a.add=function(a,f,k){a[0]=f[0]+k[0];a[1]=f[1]+k[1];a[2]=f[2]+k[2];a[3]=f[3]+k[3];return a};a.subtract=D;a.multiply=z;a.divide=u;a.ceil=function(a,f){a[0]=Math.ceil(f[0]);a[1]=Math.ceil(f[1]);a[2]=Math.ceil(f[2]);a[3]=Math.ceil(f[3]);return a};a.floor=function(a,f){a[0]=Math.floor(f[0]);a[1]=Math.floor(f[1]);a[2]=Math.floor(f[2]);a[3]=Math.floor(f[3]);return a};
a.min=function(a,f,k){a[0]=Math.min(f[0],k[0]);a[1]=Math.min(f[1],k[1]);a[2]=Math.min(f[2],k[2]);a[3]=Math.min(f[3],k[3]);return a};a.max=function(a,f,k){a[0]=Math.max(f[0],k[0]);a[1]=Math.max(f[1],k[1]);a[2]=Math.max(f[2],k[2]);a[3]=Math.max(f[3],k[3]);return a};a.round=function(a,f){a[0]=Math.round(f[0]);a[1]=Math.round(f[1]);a[2]=Math.round(f[2]);a[3]=Math.round(f[3]);return a};a.scale=function(a,f,k){a[0]=f[0]*k;a[1]=f[1]*k;a[2]=f[2]*k;a[3]=f[3]*k;return a};a.scaleAndAdd=function(a,f,k,t){a[0]=
f[0]+k[0]*t;a[1]=f[1]+k[1]*t;a[2]=f[2]+k[2]*t;a[3]=f[3]+k[3]*t;return a};a.distance=t;a.squaredDistance=v;a.length=r;a.squaredLength=x;a.negate=function(a,f){a[0]=-f[0];a[1]=-f[1];a[2]=-f[2];a[3]=-f[3];return a};a.inverse=function(a,f){a[0]=1/f[0];a[1]=1/f[1];a[2]=1/f[2];a[3]=1/f[3];return a};a.normalize=function(a,f){var k=f[0],p=f[1],e=f[2];f=f[3];var n=k*k+p*p+e*e+f*f;0<n&&(n=1/Math.sqrt(n),a[0]=k*n,a[1]=p*n,a[2]=e*n,a[3]=f*n);return a};a.dot=function(a,f){return a[0]*f[0]+a[1]*f[1]+a[2]*f[2]+
a[3]*f[3]};a.lerp=function(a,f,k,t){var e=f[0],n=f[1],l=f[2];f=f[3];a[0]=e+t*(k[0]-e);a[1]=n+t*(k[1]-n);a[2]=l+t*(k[2]-l);a[3]=f+t*(k[3]-f);return a};a.random=function(a,f){f=f||1;var l,p,e,n,t,r;do l=2*k.RANDOM()-1,p=2*k.RANDOM()-1,t=l*l+p*p;while(1<=t);do e=2*k.RANDOM()-1,n=2*k.RANDOM()-1,r=e*e+n*n;while(1<=r);t=Math.sqrt((1-t)/r);a[0]=f*l;a[1]=f*p;a[2]=f*e*t;a[3]=f*n*t;return a};a.transformMat4=function(a,f,k){var l=f[0],e=f[1],n=f[2];f=f[3];a[0]=k[0]*l+k[4]*e+k[8]*n+k[12]*f;a[1]=k[1]*l+k[5]*e+
k[9]*n+k[13]*f;a[2]=k[2]*l+k[6]*e+k[10]*n+k[14]*f;a[3]=k[3]*l+k[7]*e+k[11]*n+k[15]*f;return a};a.transformQuat=function(a,f,k){var l=f[0],e=f[1],n=f[2],p=k[0],t=k[1],r=k[2];k=k[3];var u=k*l+t*n-r*e,x=k*e+r*l-p*n,v=k*n+p*e-t*l,l=-p*l-t*e-r*n;a[0]=u*k+l*-p+x*-r-v*-t;a[1]=x*k+l*-t+v*-p-u*-r;a[2]=v*k+l*-r+u*-t-x*-p;a[3]=f[3];return a};a.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.exactEquals=function(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]};a.equals=
function(a,f){var l=a[0],p=a[1],e=a[2];a=a[3];var n=f[0],t=f[1],r=f[2];f=f[3];return Math.abs(l-n)<=k.EPSILON*Math.max(1,Math.abs(l),Math.abs(n))&&Math.abs(p-t)<=k.EPSILON*Math.max(1,Math.abs(p),Math.abs(t))&&Math.abs(e-r)<=k.EPSILON*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(a-f)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};a.sub=D;a.mul=z;a.div=u;a.dist=t;a.sqrDist=v;a.len=r;a.sqrLen=x})},"esri/core/libs/gl-matrix-2/vec4f64":function(){define(["require","exports","./factories/vec4f64"],function(E,
a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec4f64=void 0;a.vec4f64=k})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["require","exports"],function(E,a){function k(){return[0,0,0,0]}function D(){return[1,1,1,1]}function z(){return[1,0,0,0]}function u(){return[0,1,0,0]}function t(){return[0,0,1,0]}function v(){return[0,0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT_W=a.UNIT_Z=a.UNIT_Y=a.UNIT_X=a.ONES=a.ZEROS=a.unitW=a.unitZ=a.unitY=a.unitX=a.ones=a.zeros=
a.createView=a.fromArray=a.fromValues=a.clone=a.create=void 0;a.create=k;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,k,p,f){return[a,k,p,f]};a.fromArray=function(a){for(var t=k(),p=Math.min(4,a.length),f=0;f<p;++f)t[f]=a[f];return t};a.createView=function(a,k){return new Float64Array(a,k,4)};a.zeros=function(){return k()};a.ones=D;a.unitX=z;a.unitY=u;a.unitZ=t;a.unitW=v;a.ZEROS=k();a.ONES=D();a.UNIT_X=z();a.UNIT_Y=u();a.UNIT_Z=t();a.UNIT_W=v()})},"esri/views/3d/interactive/editingTools/draw/DrawManipulator":function(){define(["require",
"exports","../../../../../core/Evented"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.DrawManipulator=void 0;E=function(){function a(){this.events=new k;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0}a.prototype.intersectionDistance=function(a,k){return 0};a.prototype.attach=function(){};a.prototype.detach=function(){};return a}();a.DrawManipulator=E})},"esri/views/3d/interactive/editingTools/draw/drawSurfaces":function(){define("require exports ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils".split(" "),
function(E,a,k,D,z,u){Object.defineProperty(a,"__esModule",{value:!0});a.SceneDrawSurface=a.ElevationDrawSurface=void 0;E=function(){function a(a,k,t){this.elevationInfo=a;this.defaultZ=k;this.view=t}a.prototype.screenToMap=function(a){if(k.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(D.createScreenPointArray(a.x,a.y),this.elevationInfo,this.defaultZ);a=this.view.sceneIntersectionHelper.intersectElevationFromScreen(D.createScreenPointArray(a.x,a.y),this.elevationInfo,
0);k.isSome(a)&&(a.z=void 0);return a};a.prototype.mapToScreen=function(a){a=z.makeDehydratedPoint(a.x,a.y,u.getConvertedElevation(this.view,a,this.elevationInfo),a.spatialReference);return this.view.toScreen(a)};return a}();a.ElevationDrawSurface=E;E=function(){function a(a,k,t){void 0===t&&(t=[]);this.view=a;this.elevationInfo=k;this.exclude=t}a.prototype.screenToMap=function(a){a=this.view.toMap(a,{exclude:this.exclude});k.isSome(a)&&(a.z=u.getZForElevationMode(a,this.view,this.elevationInfo));
return a};a.prototype.mapToScreen=function(a){var t=a;k.isSome(this.elevationInfo)&&(t=z.makeDehydratedPoint(a.x,a.y,u.getConvertedElevation(this.view,a,this.elevationInfo),a.spatialReference));return this.view.toScreen(t)};return a}();a.SceneDrawSurface=E})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../core/compilerUtils ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A){function e(a,e,f){if(!a)return null;switch(e){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:f};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:f};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:f};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:f}}}
function n(a){if(!a)return 0;var e=32,f;for(f in a)if(a.hasOwnProperty(f)){var k=a[f];switch(typeof k){case "string":e+=P(k);break;default:case "number":e+=16}}return e}function B(a){if(z.isNone(a))return 0;var e=32;switch(a.type){case "point":e+=42;break;case "polyline":case "polygon":var f=0,n=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(var l=0;l<a.length;l++)f+=a[l].length;e=e+(8*f*n+64)+128*f+34;e+=32*(a.length+1);break;case "multipoint":n=2+(a.hasZ?1:0)+(a.hasM?1:0);
f=a.points.length;e+=8*f*n+64;e+=128*f;e+=34;e+=32;break;case "extent":e+=98;a.hasM&&(e+=32);a.hasZ&&(e+=32);break;case "mesh":e+=u.estimateSize(a.vertexAttributes.position);e+=u.estimateSize(a.vertexAttributes.normal);e+=u.estimateSize(a.vertexAttributes.uv);e+=u.estimateSize(a.vertexAttributes.tangent);break;default:k.neverReached(a)}return e}function G(a,e){r.empty(e);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":e[0]=e[3]=a.x;e[1]=e[4]=a.y;a.hasZ&&(e[2]=e[5]=a.z);break;case "polyline":for(var f=
0;f<a.paths.length;f++)r.expandWithNestedArray(e,a.paths[f],a.hasZ);break;case "polygon":for(f=0;f<a.rings.length;f++)r.expandWithNestedArray(e,a.rings[f],a.hasZ);break;case "multipoint":r.expandWithNestedArray(e,a.points,a.hasZ);break;case "extent":e[0]=a.xmin;e[1]=a.ymin;e[3]=a.xmax;e[4]=a.ymax;null!=a.zmin&&(e[2]=a.zmin);null!=a.zmax&&(e[5]=a.zmax);break;default:k.neverReached(a)}}function N(a,e){x.empty(e);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":e[0]=e[2]=a.x;e[1]=e[3]=a.y;break;
case "polyline":for(var f=0;f<a.paths.length;f++)x.expandWithNestedArray(e,a.paths[f]);break;case "polygon":for(f=0;f<a.rings.length;f++)x.expandWithNestedArray(e,a.rings[f]);break;case "multipoint":x.expandWithNestedArray(e,a.points);break;case "extent":e[0]=a.xmin;e[1]=a.ymin;e[2]=a.xmax;e[3]=a.ymax;break;default:k.neverReached(a)}}Object.defineProperty(a,"__esModule",{value:!0});a.getObjectId=a.expandAABR=a.computeAABR=a.expandAABB=a.computeAABB=a.hasVertices=a.numVertices=a.estimateSize=a.estimateGeometryObjectSize=
a.estimateAttributesObjectSize=a.makeDehydratedPoint=a.fromJSONGeometry=a.fromFeatureSetJSON=a.isDehydratedPoint=a.DehydratedFeatureSetClass=a.isFeatureGeometry=a.hasGeometry=a.DehydratedFeatureClass=void 0;Object.defineProperty(a,"equals",{enumerable:!0,get:function(){return A.equals}});E=function(){return function(a,e,f){this.uid=a;this.geometry=e;this.attributes=f;this.visible=!0;this.centroid=this.objectId=null}}();a.DehydratedFeatureClass=E;a.hasGeometry=function(a){return z.isSome(a.geometry)};
a.isFeatureGeometry=function(a){return f.isFeatureGeometryType(a.type)};E=function(){return function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();a.DehydratedFeatureSetClass=E;a.isDehydratedPoint=function(a){return"point"===a.type};a.fromFeatureSetJSON=function(a){var n=f.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),
r=v.fromJSON(a.spatialReference),u=a.transform,A=a.features.map(function(f){var l=a.objectIdFieldName;f={uid:t.generateUID(),objectId:l&&f.attributes?f.attributes[l]:null,attributes:f.attributes,geometry:e(f.geometry,n,r),visible:!0};if((l=f.geometry)&&u)switch(l.type){case "point":f.geometry=p.unquantizePoint(u,l,l,l.hasZ,l.hasM);break;case "multipoint":f.geometry=p.unquantizeMultipoint(u,l,l,l.hasZ,l.hasM);break;case "polygon":f.geometry=p.unquantizePolygon(u,l,l,l.hasZ,l.hasM);break;case "polyline":f.geometry=
p.unquantizePolyline(u,l,l,l.hasZ,l.hasM);break;default:k.neverReached(l)}return f});return{geometryType:n,features:A,spatialReference:r,fields:a.fields?a.fields.map(function(a){return l.fromJSON(a)}):null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};a.fromJSONGeometry=e;a.makeDehydratedPoint=function(a,e,
f,k){return{x:a,y:e,z:f,hasZ:null!=f,hasM:!1,spatialReference:k,type:"point"}};var P=D("esri-text-decoder")?function(a){return 32+a.length}:function(a){return 32*a.length};a.estimateAttributesObjectSize=n;a.estimateGeometryObjectSize=B;a.estimateSize=function(a){var e;e=32+n(a.attributes);return e=e+3+(8+B(a.geometry))};a.numVertices=function(a){if(z.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var e=0,f=0;for(a=a.paths;f<a.length;f++)e+=a[f].length;return e;case "polygon":f=
e=0;for(a=a.rings;f<a.length;f++)e+=a[f].length;return e;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(e=a.vertexAttributes&&a.vertexAttributes.position)?e.length/3:0;default:k.neverReached(a)}};a.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var e=0;for(a=a.paths;e<a.length;e++)if(0<a[e].length)return!0;return!1;case "polygon":e=0;for(a=a.rings;e<a.length;e++)if(0<a[e].length)return!0;return!1;case "multipoint":return 0<
a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:k.neverReached(a)}};a.computeAABB=G;a.expandAABB=function(a,e){G(a,R);r.expand(e,R)};a.computeAABR=N;a.expandAABR=function(a,e){N(a,L);x.expand(e,L)};a.getObjectId=function(a,e){return null!=a.objectId?a.objectId:a.attributes&&e?a.attributes[e]:null};var R=r.create(),L=x.create()})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../../core/maybe",
"../Extent","./aaBoundingRect"],function(E,a,k,D,z){function u(e){void 0===e&&(e=a.ZERO);return[e[0],e[1],e[2],e[3],e[4],e[5]]}function t(a,f,k,l,p,t,r){void 0===r&&(r=u());r[0]=a;r[1]=f;r[2]=k;r[3]=l;r[4]=p;r[5]=t;return r}function v(a){return a[0]>=a[3]?0:a[3]-a[0]}function r(a){return a[1]>=a[4]?0:a[4]-a[1]}function x(a){return a[2]>=a[5]?0:a[5]-a[2]}function p(a,f){return Math.max(f[0],a[0])<=Math.min(f[3],a[3])&&Math.max(f[1],a[1])<=Math.min(f[4],a[4])&&Math.max(f[2],a[2])<=Math.min(f[5],a[5])}
function f(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];return a}function l(a){return 6===a.length}Object.defineProperty(a,"__esModule",{value:!0});a.ZERO=a.NEGATIVE_INFINITY=a.POSITIVE_INFINITY=a.wrap=a.equals=a.isPoint=a.is=a.fromRect=a.toRect=a.empty=a.set=a.setMax=a.setMin=a.getMax=a.getMin=a.offset=a.intersectsClippingArea=a.intersects=a.contains=a.containsPointWithMargin=a.containsPoint=a.maximumDimension=a.size=a.center=a.diameter=a.height=a.depth=a.width=a.allFinite=a.expandWithNestedArray=
a.expandWithOffset=a.expandWithBuffer=a.expand=a.expandPointInPlace=a.fromMinMax=a.toExtent=a.fromExtent=a.fromValues=a.create=void 0;a.create=u;a.fromValues=t;a.fromExtent=function(a,f){void 0===f&&(f=u());f[0]=a.xmin;f[1]=a.ymin;f[2]=a.zmin;f[3]=a.xmax;f[4]=a.ymax;f[5]=a.zmax;return f};a.toExtent=function(a,f){return isFinite(a[2])||isFinite(a[5])?new D({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:f}):new D({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:f})};
a.fromMinMax=function(a,f,k){void 0===k&&(k=u());k[0]=a[0];k[1]=a[1];k[2]=a[2];k[3]=f[0];k[4]=f[1];k[5]=f[2];return k};a.expandPointInPlace=function(a,f){f[0]<a[0]&&(a[0]=f[0]);f[0]>a[3]&&(a[3]=f[0]);f[1]<a[1]&&(a[1]=f[1]);f[1]>a[4]&&(a[4]=f[1]);f[2]<a[2]&&(a[2]=f[2]);f[2]>a[5]&&(a[5]=f[2])};a.expand=function(a,f,k){void 0===k&&(k=a);l(f)?(k[0]=Math.min(a[0],f[0]),k[1]=Math.min(a[1],f[1]),k[2]=Math.min(a[2],f[2]),k[3]=Math.max(a[3],f[3]),k[4]=Math.max(a[4],f[4]),k[5]=Math.max(a[5],f[5])):z.is(f)?
(k[0]=Math.min(a[0],f[0]),k[1]=Math.min(a[1],f[1]),k[3]=Math.max(a[3],f[2]),k[4]=Math.max(a[4],f[3])):2===f.length?(k[0]=Math.min(a[0],f[0]),k[1]=Math.min(a[1],f[1]),k[3]=Math.max(a[3],f[0]),k[4]=Math.max(a[4],f[1])):3===f.length&&(k[0]=Math.min(a[0],f[0]),k[1]=Math.min(a[1],f[1]),k[2]=Math.min(a[2],f[2]),k[3]=Math.max(a[3],f[0]),k[4]=Math.max(a[4],f[1]),k[5]=Math.max(a[5],f[2]));return k};a.expandWithBuffer=function(a,f,k,l,p){void 0===k&&(k=0);void 0===l&&(l=f.length/3);void 0===p&&(p=a);var e=
a[0],n=a[1],t=a[2],r=a[3],u=a[4];a=a[5];for(var A=0;A<l;A++)e=Math.min(e,f[k+3*A]),n=Math.min(n,f[k+3*A+1]),t=Math.min(t,f[k+3*A+2]),r=Math.max(r,f[k+3*A]),u=Math.max(u,f[k+3*A+1]),a=Math.max(a,f[k+3*A+2]);p[0]=e;p[1]=n;p[2]=t;p[3]=r;p[4]=u;p[5]=a;return p};a.expandWithOffset=function(a,f,k,l,p){void 0===p&&(p=a);p[0]=Math.min(a[0],a[0]+f);p[3]=Math.max(a[3],a[3]+f);p[1]=Math.min(a[1],a[1]+k);p[4]=Math.max(a[4],a[4]+k);p[2]=Math.min(a[2],a[2]+l);p[5]=Math.max(a[5],a[5]+l);return p};a.expandWithNestedArray=
function(a,f,k,l){void 0===l&&(l=a);var e=f.length,n=a[0],p=a[1],t=a[2],r=a[3],u=a[4];a=a[5];if(k)for(k=0;k<e;k++){var A=f[k],n=Math.min(n,A[0]),p=Math.min(p,A[1]),t=Math.min(t,A[2]),r=Math.max(r,A[0]),u=Math.max(u,A[1]);a=Math.max(a,A[2])}else for(k=0;k<e;k++)A=f[k],n=Math.min(n,A[0]),p=Math.min(p,A[1]),r=Math.max(r,A[0]),u=Math.max(u,A[1]);l[0]=n;l[1]=p;l[2]=t;l[3]=r;l[4]=u;l[5]=a;return l};a.allFinite=function(a){for(var e=0;6>e;e++)if(!isFinite(a[e]))return!1;return!0};a.width=v;a.depth=r;a.height=
x;a.diameter=function(a){var e=v(a),f=x(a);a=r(a);return Math.sqrt(e*e+f*f+a*a)};a.center=function(a,f){void 0===f&&(f=[0,0,0]);f[0]=a[0]+v(a)/2;f[1]=a[1]+r(a)/2;f[2]=a[2]+x(a)/2;return f};a.size=function(a,f){void 0===f&&(f=[0,0,0]);f[0]=v(a);f[1]=r(a);f[2]=x(a);return f};a.maximumDimension=function(a){return Math.max(v(a),x(a),r(a))};a.containsPoint=function(a,f){return f[0]>=a[0]&&f[1]>=a[1]&&f[2]>=a[2]&&f[0]<=a[3]&&f[1]<=a[4]&&f[2]<=a[5]};a.containsPointWithMargin=function(a,f,k){return f[0]>=
a[0]-k&&f[1]>=a[1]-k&&f[2]>=a[2]-k&&f[0]<=a[3]+k&&f[1]<=a[4]+k&&f[2]<=a[5]+k};a.contains=function(a,f){return f[0]>=a[0]&&f[1]>=a[1]&&f[2]>=a[2]&&f[3]<=a[3]&&f[4]<=a[4]&&f[5]<=a[5]};a.intersects=p;a.intersectsClippingArea=function(a,f){return k.isNone(f)?!0:p(a,f)};a.offset=function(a,f,k,l,p){void 0===p&&(p=a);p[0]=a[0]+f;p[1]=a[1]+k;p[2]=a[2]+l;p[3]=a[3]+f;p[4]=a[4]+k;p[5]=a[5]+l;return p};a.getMin=function(a,f){f[0]=a[0];f[1]=a[1];f[2]=a[2];return f};a.getMax=function(a,f){f[0]=a[3];f[1]=a[4];
f[2]=a[5];return f};a.setMin=function(a,f,k){void 0===k&&(k=a);k[0]=f[0];k[1]=f[1];k[2]=f[2];k!==a&&(k[3]=a[3],k[4]=a[4],k[5]=a[5]);return k};a.setMax=function(a,f,k){void 0===k&&(k=a);k[3]=f[0];k[4]=f[1];k[5]=f[2];k!==a&&(k[0]=a[0],k[1]=a[1],k[2]=a[2]);return a};a.set=f;a.empty=function(e){return e?f(e,a.NEGATIVE_INFINITY):u(a.NEGATIVE_INFINITY)};a.toRect=function(a,f){f||(f=z.create());f[0]=a[0];f[1]=a[1];f[2]=a[3];f[3]=a[4];return f};a.fromRect=function(a,f){a[0]=f[0];a[1]=f[1];a[2]=Number.NEGATIVE_INFINITY;
a[3]=f[2];a[4]=f[3];a[5]=Number.POSITIVE_INFINITY;return a};a.is=l;a.isPoint=function(a){return 0===v(a)&&0===r(a)&&0===x(a)};a.equals=function(a,f,p){if(k.isNone(a)||k.isNone(f))return a===f;if(!l(a)||!l(f))return!1;if(p)for(var e=0;e<a.length;e++){if(!p(a[e],f[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==f[e])return!1;return!0};a.wrap=function(a,f,k,l,p,r){return t(a,f,k,l,p,r,A)};a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,
Infinity,Infinity,-Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0,0,0];var A=u()})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(E,a,k,D){function z(f){void 0===f&&(f=a.ZERO);return[f[0],f[1],f[2],f[3]]}function u(a){return a[0]>=a[2]?0:a[2]-a[0]}function t(a){return a[1]>=a[3]?0:a[3]-a[1]}function v(a,k,p){return k>=a[0]&&p>=a[1]&&k<=a[2]&&p<=a[3]}function r(a,k){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];return a}function x(a){return 4===
a.length}function p(a,k,p){return a<k?k:a>p?p:a}Object.defineProperty(a,"__esModule",{value:!0});a.UNIT=a.ZERO=a.NEGATIVE_INFINITY=a.POSITIVE_INFINITY=a.equals=a.isPoint=a.is=a.empty=a.set=a.setMax=a.setMin=a.pad=a.offset=a.size=a.distance=a.intersection=a.contains=a.intersects=a.containsPointWithMargin=a.containsXY=a.containsPointObject=a.containsPoint=a.center=a.area=a.diameter=a.height=a.width=a.allFinite=a.expandWithNestedArray=a.expand=a.expandPointInPlace=a.toExtent=a.fromExtent=a.fromValues=
a.clone=a.create=void 0;a.create=z;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,k,p,e,n){void 0===n&&(n=z());n[0]=a;n[1]=k;n[2]=p;n[3]=e;return n};a.fromExtent=function(a,k){void 0===k&&(k=z());k[0]=a.xmin;k[1]=a.ymin;k[2]=a.xmax;k[3]=a.ymax;return k};a.toExtent=function(a,k){return new D({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:k})};a.expandPointInPlace=function(a,k){k[0]<a[0]&&(a[0]=k[0]);k[0]>a[2]&&(a[2]=k[0]);k[1]<a[1]&&(a[1]=k[1]);k[1]>a[3]&&(a[3]=
k[1])};a.expand=function(a,l,p){void 0===p&&(p=a);if("length"in l)if(x(l))p[0]=Math.min(a[0],l[0]),p[1]=Math.min(a[1],l[1]),p[2]=Math.max(a[2],l[2]),p[3]=Math.max(a[3],l[3]);else{if(2===l.length||3===l.length)p[0]=Math.min(a[0],l[0]),p[1]=Math.min(a[1],l[1]),p[2]=Math.max(a[2],l[0]),p[3]=Math.max(a[3],l[1])}else switch(l.type){case "extent":p[0]=Math.min(a[0],l.xmin);p[1]=Math.min(a[1],l.ymin);p[2]=Math.max(a[2],l.xmax);p[3]=Math.max(a[3],l.ymax);break;case "point":p[0]=Math.min(a[0],l.x);p[1]=Math.min(a[1],
l.y);p[2]=Math.max(a[2],l.x);p[3]=Math.max(a[3],l.y);break;default:k.neverReached(l)}return p};a.expandWithNestedArray=function(a,k,p){void 0===p&&(p=a);var e=k.length,f=a[0],l=a[1],t=a[2];a=a[3];for(var r=0;r<e;r++){var u=k[r],f=Math.min(f,u[0]),l=Math.min(l,u[1]),t=Math.max(t,u[0]);a=Math.max(a,u[1])}p[0]=f;p[1]=l;p[2]=t;p[3]=a;return p};a.allFinite=function(a){for(var f=0;4>f;f++)if(!isFinite(a[f]))return!1;return!0};a.width=u;a.height=t;a.diameter=function(a){var f=u(a);a=t(a);return Math.sqrt(f*
f+a*a)};a.area=function(a){return u(a)*t(a)};a.center=function(a,k){void 0===k&&(k=[0,0]);k[0]=(a[0]+a[2])/2;k[1]=(a[1]+a[3])/2;return k};a.containsPoint=function(a,k){return v(a,k[0],k[1])};a.containsPointObject=function(a,k){return v(a,k.x,k.y)};a.containsXY=v;a.containsPointWithMargin=function(a,k,p){return k[0]>=a[0]-p&&k[1]>=a[1]-p&&k[0]<=a[2]+p&&k[1]<=a[3]+p};a.intersects=function(a,k){return Math.max(k[0],a[0])<=Math.min(k[2],a[2])&&Math.max(k[1],a[1])<=Math.min(k[3],a[3])};a.contains=function(a,
k){return k[0]>=a[0]&&k[2]<=a[2]&&k[1]>=a[1]&&k[3]<=a[3]};a.intersection=function(a,k,t){void 0===t&&(t=a);var e=k[0],f=k[1],l=k[2];k=k[3];t[0]=p(a[0],e,l);t[1]=p(a[1],f,k);t[2]=p(a[2],e,l);t[3]=p(a[3],f,k);return t};a.distance=function(a,k){var f=(a[1]+a[3])/2,e=Math.max(Math.abs(k[0]-(a[0]+a[2])/2)-u(a)/2,0);a=Math.max(Math.abs(k[1]-f)-t(a)/2,0);return Math.sqrt(e*e+a*a)};a.size=function(a,k){k[0]=a[2]-a[0];k[1]=a[3]-a[1]};a.offset=function(a,k,p,e){void 0===e&&(e=a);e[0]=a[0]+k;e[1]=a[1]+p;e[2]=
a[2]+k;e[3]=a[3]+p;return e};a.pad=function(a,k,p){void 0===p&&(p=a);p[0]=a[0]-k;p[1]=a[1]-k;p[2]=a[2]+k;p[3]=a[3]+k;return p};a.setMin=function(a,k,p){void 0===p&&(p=a);p[0]=k[0];p[1]=k[1];p!==a&&(p[2]=a[2],p[3]=a[3]);return p};a.setMax=function(a,k,p){void 0===p&&(p=a);p[2]=k[0];p[3]=k[1];p!==a&&(p[0]=a[0],p[1]=a[1]);return a};a.set=r;a.empty=function(f){return f?r(f,a.NEGATIVE_INFINITY):z(a.NEGATIVE_INFINITY)};a.is=x;a.isPoint=function(a){return(0===u(a)||!isFinite(a[0]))&&(0===t(a)||!isFinite(a[1]))};
a.equals=function(a,k,p){if(null==a||null==k)return a===k;if(!x(a)||!x(k))return!1;if(p)for(var e=0;e<a.length;e++){if(!p(a[e],k[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==k[e])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0];a.UNIT=[0,0,1,1]})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(E,a,k){function D(a,e){return Math.round((e-
a.translate[0])/a.scale[0])}function z(a,e){return Math.round((a.translate[1]-e)/a.scale[1])}function u(a,e,f){for(var k=[],n,l,p,t,r=0;r<f.length;r++){var u=f[r];if(0<r){if(p=D(a,u[0]),t=z(a,u[1]),p!==n||t!==l)k.push(e(u,p-n,t-l)),n=p,l=t}else n=D(a,u[0]),l=z(a,u[1]),k.push(e(u,n,l))}return 0<k.length?k:null}function t(a,e,f,k){return u(a,f?k?ea:O:k?O:I,e)}function v(a,e,f,k){var n=[];f=f?k?ea:O:k?O:I;for(k=0;k<e.length;k++){var l=u(a,f,e[k]);l&&3<=l.length&&n.push(l)}return n.length?n:null}function r(a,
e,f,k){var n=[];f=f?k?ea:O:k?O:I;for(k=0;k<e.length;k++){var l=u(a,f,e[k]);l&&2<=l.length&&n.push(l)}return n.length?n:null}function x(a,e){return e*a.scale[0]+a.translate[0]}function p(a,e){return a.translate[1]-e*a.scale[1]}function f(a,e,f){var k=Array(f.length);if(!f.length)return k;var n=a.scale,l=n[0],n=n[1],t=x(a,f[0][0]);a=p(a,f[0][1]);k[0]=e(f[0],t,a);for(var r=1;r<f.length;r++){var u=f[r],t=t+u[0]*l;a-=u[1]*n;k[r]=e(u,t,a)}return k}function l(a,e,k){for(var n=Array(k.length),l=0;l<k.length;l++)n[l]=
f(a,e,k[l]);return n}function A(a,e,k,n){return f(a,k?n?ea:O:n?O:I,e)}function e(a,e,f,k){return l(a,f?k?ea:O:k?O:I,e)}function n(a,e,f,k){return l(a,f?k?ea:O:k?O:I,e)}function B(a,e,f){var k=f[0],n=k[0],k=k[1],l=Math.min(n,e[0]),p=Math.min(k,e[1]),t=Math.max(n,e[2]);e=Math.max(k,e[3]);for(var r=1;r<f.length;r++){var u=f[r],x=u[0],u=u[1],n=n+x,k=k+u;0>x&&(l=Math.min(l,n));0<x&&(t=Math.max(t,n));0>u?p=Math.min(p,k):0<u&&(e=Math.max(e,k))}a[0]=l;a[1]=p;a[2]=t;a[3]=e;return a}function G(a,e){if(!e.length)return null;
a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var f=0;f<e.length;f++)B(a,a,e[f]);return a}function N(a,e,f,k,n){e.xmin=D(a,f.xmin);e.ymin=z(a,f.ymin);e.xmax=D(a,f.xmax);e.ymax=z(a,f.ymax);e!==f&&(k&&(e.zmin=f.zmin,e.zmax=f.zmax),n&&(e.mmin=f.mmin,e.mmax=f.mmax));return e}function P(a,e,f,k,n){e.points=t(a,f.points,k,n);return e}function R(a,e,f,k,n){e.x=D(a,f.x);e.y=z(a,f.y);e!==f&&(k&&(e.z=f.z),n&&(e.m=f.m));return e}function L(a,e,f,k,n){a=v(a,f.rings,k,n);if(!a)return null;
e.rings=a;return e}function M(a,e,f,k,n){a=r(a,f.paths,k,n);if(!a)return null;e.paths=a;return e}Object.defineProperty(a,"__esModule",{value:!0});a.unquantizePolyline=a.unquantizePolygon=a.unquantizePoint=a.unquantizeMultipoint=a.unquantizeExtent=a.quantizeGeometry=a.quantizePolyline=a.quantizePolygon=a.quantizePoint=a.quantizeMultipoint=a.quantizeExtent=a.getQuantizedBoundsRings=a.getQuantizedBoundsPaths=a.getQuantizedBoundsPoints=a.getQuantizedBoundsCoordsArrayArray=a.getQuantizedBoundsCoordsArray=
a.unquantizeRings=a.unquantizePaths=a.unquantizePoints=a.unquantizeBounds=a.unquantizeCoordsArrayArray=a.unquantizeCoordsArray=a.unquantizeY=a.unquantizeX=a.quantizePaths=a.quantizeRings=a.quantizePoints=a.quantizeBounds=a.quantizeY=a.quantizeX=a.equals=a.toQuantizationTransform=void 0;var I=function(a,e,f){return[e,f]},O=function(a,e,f){return[e,f,a[2]]},ea=function(a,e,f){return[e,f,a[2],a[3]]};a.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":
"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};a.equals=function(a,e){if(a===e||null==a&&null==e)return!0;if(null==a||null==e)return!1;var f,k,n,l;a&&"upperLeft"===a.originPosition?(f=a.translate[0],k=a.translate[1],a=a.scale[0]):(f=a.extent.xmin,k=a.extent.ymax,a=a.tolerance);e&&"upperLeft"===e.originPosition?(n=e.translate[0],l=e.translate[1],e=e.scale[0]):(n=e.extent.xmin,l=e.extent.ymax,e=e.tolerance);
return f===n&&k===l&&a===e};a.quantizeX=D;a.quantizeY=z;a.quantizeBounds=function(a,e,f){e[0]=D(a,f[0]);e[3]=z(a,f[1]);e[2]=D(a,f[2]);e[1]=z(a,f[3]);return e};a.quantizePoints=t;a.quantizeRings=v;a.quantizePaths=r;a.unquantizeX=x;a.unquantizeY=p;a.unquantizeCoordsArray=f;a.unquantizeCoordsArrayArray=l;a.unquantizeBounds=function(a,e,f){return f?(e[0]=x(a,f[0]),e[1]=p(a,f[3]),e[2]=x(a,f[2]),e[3]=p(a,f[1]),e):[x(a,e[0]),p(a,e[3]),x(a,e[2]),p(a,e[1])]};a.unquantizePoints=A;a.unquantizePaths=e;a.unquantizeRings=
n;a.getQuantizedBoundsCoordsArray=B;a.getQuantizedBoundsCoordsArrayArray=G;a.getQuantizedBoundsPoints=function(a){var e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return B(e,e,a)};a.getQuantizedBoundsPaths=function(a){return G([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return G([0,0,0,0],a)};a.quantizeExtent=N;a.quantizeMultipoint=P;a.quantizePoint=R;a.quantizePolygon=L;a.quantizePolyline=M;a.quantizeGeometry=function(a,e){return a&&
e?k.isPoint(e)?R(a,{},e,!1,!1):k.isPolyline(e)?M(a,{},e,!1,!1):k.isPolygon(e)?L(a,{},e,!1,!1):k.isMultipoint(e)?P(a,{},e,!1,!1):k.isExtent(e)?N(a,{},e,!1,!1):null:null};a.unquantizeExtent=function(a,e,f,k,n){e.xmin=x(a,f.xmin);e.ymin=p(a,f.ymin);e.xmax=x(a,f.xmax);e.ymax=p(a,f.ymax);e!==f&&(k&&(e.zmin=f.zmin,e.zmax=f.zmax),n&&(e.mmin=f.mmin,e.mmax=f.mmax));return e};a.unquantizeMultipoint=function(a,e,f,k,n){e.points=A(a,f.points,k,n);return e};a.unquantizePoint=function(a,e,f,k,n){e.x=x(a,f.x);e.y=
p(a,f.y);e!==f&&(k&&(e.z=f.z),n&&(e.m=f.m));return e};a.unquantizePolygon=function(a,e,f,k,l){e.rings=n(a,f.rings,k,l);return e};a.unquantizePolyline=function(a,f,k,n,l){f.paths=e(a,k.paths,n,l);return f}})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(E,a,k,D){function z(a,k){if(a===k)return!0;if(null==a||null==k||a.length!==k.length)return!1;for(var f=0;f<a.length;f++){var l=a[f],p=k[f];if(l.length!==
p.length)return!1;for(var e=0;e<l.length;e++)if(l[e]!==p[e])return!1}return!0}function u(a,k){if(a===k)return!0;if(null==a||null==k||a.length!==k.length)return!1;for(var f=0;f<a.length;f++)if(!z(a[f],k[f]))return!1;return!0}function t(a,k){return a===k||a&&k&&a.equals(k)}function v(a,p){if(a===p)return!0;if(D.isNone(a)||D.isNone(p)||a.type!==p.type)return!1;switch(a.type){case "point":return a=t(a.spatialReference,p.spatialReference)?a.x===p.x&&a.y===p.y&&a.z===p.z&&a.m===p.m:!1,a;case "extent":return a=
a.hasZ!==p.hasZ||a.hasM!==p.hasM?!1:t(a.spatialReference,p.spatialReference)?a.xmin===p.xmin&&a.ymin===p.ymin&&a.zmin===p.zmin&&a.xmax===p.xmax&&a.ymax===p.ymax&&a.zmax===p.zmax:!1,a;case "polyline":return a=a.hasZ!==p.hasZ||a.hasM!==p.hasM?!1:t(a.spatialReference,p.spatialReference)?u(a.paths,p.paths):!1,a;case "polygon":return a=a.hasZ!==p.hasZ||a.hasM!==p.hasM?!1:t(a.spatialReference,p.spatialReference)?u(a.rings,p.rings):!1,a;case "multipoint":return a=a.hasZ!==p.hasZ||a.hasM!==p.hasM?!1:t(a.spatialReference,
p.spatialReference)?z(a.points,p.points):!1,a;case "mesh":return!1;default:k.neverReached(a)}}function r(a,k){if(a===k)return!0;if(!a||!k)return!1;var f=Object.keys(a),l=Object.keys(k);if(f.length!==l.length)return!1;for(l=0;l<f.length;l++){var p=f[l];if(a[p]!==k[p])return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.equals=void 0;a.equals=function(a,k){return a===k?!0:null!=a&&null!=k&&a.objectId===k.objectId&&v(a.geometry,k.geometry)&&r(a.attributes,k.attributes)?!0:!1}})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometryHelper":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/maybe ./EditGeometry ./EditGeometry".split(" "),
function(E,a,k,D,z,u,t){Object.defineProperty(a,"__esModule",{value:!0});a.AppendVertexOperation=a.RemoveVerticesOperation=a.UpdateVerticesOperation=a.SplitEdgeOperation=a.EditGeometryHelper=void 0;Object.defineProperty(a,"EditGeometry",{enumerable:!0,get:function(){return t.EditGeometry}});Object.defineProperty(a,"Vertex",{enumerable:!0,get:function(){return t.Vertex}});Object.defineProperty(a,"Edge",{enumerable:!0,get:function(){return t.Edge}});Object.defineProperty(a,"Component",{enumerable:!0,
get:function(){return t.Component}});E=function(a){function f(f,e){var k=a.call(this)||this;k.data=f;k.type=e;k._dirty=!0;k._geometry=null;return k}k.__extends(f,a);f.prototype.splitEdge=function(a,e){a=new v(this,a,e);this.data.apply(a);this._dirty=!0;return a};f.prototype.moveVertices=function(a,e,f,k){var n=null;this.data.lastOperation instanceof r&&this.data.lastOperation.canAccumulate(a)?(n=this.data.lastOperation,n.accumulate(e,f,k)):(n=new r(this,a,e,f,k),this.data.apply(n));this._dirty=!0;
return n};f.prototype.removeVertices=function(a){var e=0;switch(this.type){case "point":e=1;break;case "polyline":e=2;break;case "polygon":e=3}a=new x(this,a,e);this.data.apply(a);this._dirty=!0;return a};f.prototype.appendVertex=function(a){if(0===this.data.components.length)return null;a=new p(this,this.data.components[0],a);this.data.apply(a);this._dirty=!0;return a};f.prototype.canRemoveVertex=function(){var a=0;switch(this.type){case "point":a=1;break;case "polyline":a=2;break;case "polygon":a=
3}return this.data.components[0].vertices.length>a};f.prototype.undo=function(){this.data.undo();this._dirty=!0};Object.defineProperty(f.prototype,"canUndo",{get:function(){return this.data.canUndo},enumerable:!1,configurable:!0});f.prototype.redo=function(){this.data.redo();this._dirty=!0};Object.defineProperty(f.prototype,"canRedo",{get:function(){return this.data.canRedo},enumerable:!1,configurable:!0});Object.defineProperty(f.prototype,"geometry",{get:function(){if(this._dirty){switch(this.type){case "point":this._geometry=
this.data.toPoint();break;case "polyline":this._geometry=this.data.toPolyline();break;case "polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry},enumerable:!1,configurable:!0});return f}(D);a.EditGeometryHelper=E;var v=function(){function a(a,f,e){this.helper=a;this.edge=f;this.t=e;this.right=this.left=this.createdVertex=null}a.prototype.apply=function(){var a="redo",f=this.edge,e=f.component,k=f.component.data,p=f.left,t=f.right;e.edges.splice(e.edges.indexOf(f),1);
z.isNone(this.createdVertex)&&(a="apply",this.createdVertex=new u.Vertex(f.component));e.vertices.push(this.createdVertex);this.createdVertex.pos=k.coordinateHelper.lerp(f.left.pos,f.right.pos,this.t,k.coordinateHelper.createNew());z.isNone(this.left)&&(this.left=new u.Edge(e,p,this.createdVertex));e.edges.push(this.left);p.right=this.left;z.isNone(this.right)&&(this.right=new u.Edge(e,this.createdVertex,t));e.edges.push(this.right);t.left=this.right;e.updateVertexIndex(this.createdVertex,p.index+
1);this.helper.emit("vertex-add",{type:"vertex-add",vertices:[this.createdVertex],operation:a})};a.prototype.undo=function(){if(z.isNone(this.createdVertex)||z.isNone(this.left)||z.isNone(this.right))return null;var a=this.edge,f=a.component,e=this.createdVertex.left.left,k=this.createdVertex.right.right;f.vertices.splice(f.vertices.indexOf(this.createdVertex),1);f.edges.splice(f.edges.indexOf(this.left),1);f.edges.splice(f.edges.indexOf(this.right),1);f.edges.push(this.edge);e.right=a;k.left=a;f.updateVertexIndex(e,
e.index);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.createdVertex],operation:"undo"})};return a}();a.SplitEdgeOperation=v;var r=function(){function a(a,f,e,k,p){this.helper=a;this.applied=!1;this.vertices=f;this.dx=e;this.dy=k;this.dz=p}a.prototype.apply=function(){var a=this;this.vertices.forEach(function(f){a.helper.data.coordinateHelper.addDelta(f.pos,a.dx,a.dy,a.dz)});this.helper.data.components.forEach(function(a){a.unnormalizeVertexPositions()});this.helper.emit("vertex-update",
{type:"vertex-update",vertices:this.vertices,operation:this.applied?"redo":"apply"});this.applied=!0};a.prototype.undo=function(){var a=this;this.vertices.forEach(function(f){a.helper.data.coordinateHelper.addDelta(f.pos,-a.dx,-a.dy,-a.dz)});this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"undo"})};a.prototype.canAccumulate=function(a){if(a.length!==this.vertices.length)return!1;for(var f=0;f<a.length;++f)if(a[f]!==this.vertices[f])return!1;return!0};a.prototype.accumulate=
function(a,f,e){var k=this;this.vertices.forEach(function(n){k.helper.data.coordinateHelper.addDelta(n.pos,a,f,e)});this.dx+=a;this.dy+=f;this.dz+=e;this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"apply"})};return a}();a.UpdateVerticesOperation=r;var x=function(){function a(a,f,e){void 0===e&&(e=0);this.helper=a;this.removedVertices=null;this._minNumberOfVertices=0;this.vertices=f;this._minNumberOfVertices=e}a.prototype.apply=function(){var a=this,f="redo";
null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(function(e){e=a._removeVertex(e);z.isSome(e)&&a.removedVertices.push(e)}),f="apply"):this.removedVertices.forEach(function(e){a._redoRemoveVertex(e)});this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:this.vertices,operation:f})};a.prototype.undo=function(){var a=this;this.removedVertices.forEach(function(f){a._undoRemoveVertex(f)});this.helper.emit("vertex-add",{type:"vertex-add",vertices:this.vertices,operation:"undo"})};
a.prototype._removeVertex=function(a){var f=a.component;if(f.vertices.length<=this._minNumberOfVertices)return null;var e={removedVertex:a,createdEdge:null},k=a.left,l=a.right;f.vertices.splice(f.vertices.indexOf(a),1);k&&(f.edges.splice(f.edges.indexOf(k),1),k.left.right=null);l&&(f.edges.splice(f.edges.indexOf(l),1),l.right.left=null);0===a.index&&l&&0<this.vertices.length&&f.swapVertices(f.vertices.indexOf(l.right),0);k&&l&&(e.createdEdge=new u.Edge(f,k.left,l.right),f.edges.push(e.createdEdge));
l&&f.updateVertexIndex(l.right,l.right.index-1);return e};a.prototype._redoRemoveVertex=function(a){console.warn("redo remove vertex not implemented yet")};a.prototype._undoRemoveVertex=function(a){var f=a.removedVertex,e=a.removedVertex.component,k=f.left,l=f.right;a.createdEdge&&e.edges.splice(e.edges.indexOf(a.createdEdge),1);e.vertices.push(f);k&&(e.edges.push(k),k.left.right=k);l&&(e.edges.push(l),l.right.left=l);e.updateVertexIndex(f,f.index)};return a}();a.RemoveVerticesOperation=x;var p=function(){function a(a,
f,e){this.helper=a;this.component=f;this.pos=e;this.right=this.left=this.originalEdge=this.addedVertex=null}a.prototype.apply=function(){var a="redo";z.isNone(this.addedVertex)&&(a="apply",this.addedVertex=new u.Vertex(this.component));if(0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{var f=z.unwrap(this.component.findEndVertex()),e=null;f.right&&(this.originalEdge=f.right,e=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),
1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=this.pos;z.isNone(this.left)&&(this.left=new u.Edge(this.component,f,this.addedVertex));this.component.edges.push(this.left);f.right=this.left;z.isSome(this.originalEdge)&&z.isSome(e)&&(z.isNone(this.right)&&(this.right=new u.Edge(this.component,this.addedVertex,e)),this.component.edges.push(this.right),e.left=this.right);this.component.updateVertexIndex(this.addedVertex,f.index+1)}this.helper.emit("vertex-add",{type:"vertex-add",
vertices:[this.addedVertex],operation:a})};a.prototype.undo=function(){if(z.isNone(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);z.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null);z.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null);z.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),
this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge);z.isSome(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.addedVertex],operation:"undo"})};return a}();a.AppendVertexOperation=p})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometry":function(){define(["require","exports","../../../../../geometry",
"../../../../../core/arrayUtils","../coordinateHelper"],function(E,a,k,D,z){Object.defineProperty(a,"__esModule",{value:!0});a.EditGeometry=a.Component=a.Edge=a.Vertex=void 0;var u=function(){function a(a){this.right=this.left=null;this.type="vertex";this.index=null;this.component=a}Object.defineProperty(a.prototype,"pos",{get:function(){return this._pos},set:function(a){this._pos=a;this.component.unnormalizeVertexPositions()},enumerable:!1,configurable:!0});return a}();a.Vertex=u;var t=function(){return function(a,
k,p){this.type="edge";this.component=a;this.left=k;this.right=p;k.right=this;p.left=this}}();a.Edge=t;var v=function(){function a(a){this.vertices=[];this.edges=[];this.data=a}a.prototype.unnormalizeVertexPositions=function(){1>=this.vertices.length||this.data.coordinateHelper.unnormalize(this.vertices)};a.prototype.updateVertexIndex=function(a,k){if(0!==this.vertices.length){var f=this.vertices[0],l=null;do l=a,l.index=k++,a=l.right?l.right.right:null;while(null!=a&&a!==f);l.left&&l!==this.vertices[this.vertices.length-
1]&&this.swapVertices(this.vertices.indexOf(l),this.vertices.length-1)}};a.prototype.findEndVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};a.prototype.swapVertices=function(a,k){var f=this.vertices[a];this.vertices[a]=this.vertices[k];this.vertices[k]=f};return a}();a.Component=v;E=function(){function a(a){this.coordinateHelper=a;this.undoStack=[];this.redoStack=[];this.components=[]}a.prototype.apply=function(a){a.apply();this.undoStack.push(a);this.redoStack=
[]};a.prototype.undo=function(){if(0<this.undoStack.length){var a=this.undoStack.pop();a.undo();this.redoStack.push(a)}};Object.defineProperty(a.prototype,"canUndo",{get:function(){return 0<this.undoStack.length},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"lastOperation",{get:function(){return 0<this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},enumerable:!1,configurable:!0});a.prototype.redo=function(){if(0<this.redoStack.length){var a=this.redoStack.pop();
a.apply();this.undoStack.push(a)}};Object.defineProperty(a.prototype,"canRedo",{get:function(){return 0<this.redoStack.length},enumerable:!1,configurable:!0});a.prototype.toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)};a.prototype.toPolyline=function(){var a=[],p=this.coordinateHelper.toArray;this.components.forEach(function(f,k){k=[];var l=f=D.find(f.vertices,function(a){return null==
a.left});do k.push(p(f.pos)),f=f.right?f.right.right:null;while(f&&f!==l);a.push(k)});return new k.Polyline({paths:a,spatialReference:this.coordinateHelper.spatialReference})};a.prototype.toPolygon=function(){var a=[],p=this.coordinateHelper.toArray;this.components.forEach(function(f,k){k=[];var l=f=f.vertices[0],e=l;do k.push(p(l.pos)),l=l.right.right;while(l&&l!==e);k.push(p(f.pos));a.push(k)});return new k.Polygon({rings:a,spatialReference:this.coordinateHelper.spatialReference})};a.fromGeometry=
function(k,p){p=z.createCoordinateHelper(k.hasZ,k.hasM,k.spatialReference,p);var f=new a(p);switch(k.type){case "polygon":for(var l=k.rings,r=0;r<l.length;++r){var e=l[r];k=new v(f);for(var n=e.length-1,B=0;B<n;++B){var x=p.fromArray(e[B]),D=new u(k);k.vertices.push(D);D.pos=x;D.index=B}n=k.vertices.length-1;for(B=0;B<n;++B)x=k.vertices[B],D=k.vertices[B+1],x=new t(k,x,D),k.edges.push(x);n=new t(k,k.vertices[k.vertices.length-1],k.vertices[0]);k.edges.push(n);f.components.push(k)}break;case "polyline":for(l=
k.paths,r=0;r<l.length;++r){e=l[r];k=new v(f);n=e.length;for(B=0;B<n;++B)x=p.fromArray(e[B]),D=new u(k),k.vertices.push(D),D.pos=x,D.index=B;n=k.vertices.length-1;for(B=0;B<n;++B)x=k.vertices[B],D=k.vertices[B+1],x=new t(k,x,D),k.edges.push(x);f.components.push(k)}}return f};return a}();a.EditGeometry=E})},"esri/views/interactive/dragEventPipeline":function(){define("require exports tslib ../../core/handleUtils ../../core/lang ../../core/mathUtils ../../core/maybe ../../core/screenUtils ../../geometry/support/webMercatorUtils ../draw/support/drawUtils".split(" "),
function(E,a,k,D,z,u,t,v,r,x){function p(a,e){var f=null,k=null;return function(n){if("cancel"===n.action)t.isSome(k)&&(k.execute({action:"cancel"}),k=f=null);else{var l={action:n.action,screenStart:n.start,screenEnd:n.screenPoint};"start"===n.action&&t.isNone(f)&&(f=new B,k=new B,e(a,f,k,l));t.isSome(f)&&f.execute(l);"end"===n.action&&t.isSome(f)&&(k=f=null)}}}function f(a,e){return a.events.on("drag",p(a,e))}function l(a,e){var f=null,n=t.isSome(a[e])?a[e].spatialReference:null;return function(l){if("start"===
l.action&&t.isSome(a[e])){var p=a[e],u=l.mapStart.spatialReference;f=t.isNone(p)||"mesh"===p.type?null:p.spatialReference.equals(u)?p.clone():r.canProject(p,u)?r.project(p,u):null}if(t.isNone(f))return null;var p=l.mapEnd.x-l.mapStart.x,u=l.mapEnd.y-l.mapStart.y,v=l.mapEnd.z-l.mapStart.z,B=x.move(f.clone(),p,u,v);B.spatialReference.equals(n)?a[e]=B:a[e]=r.project(B,n);return k.__assign(k.__assign({},l),{translationX:p,translationY:u,translationZ:v})}}function A(a){return l(a,"geometry")}function e(a,
e){for(var f=new Map,k=0;k<e.length;k++){var n=e[k];f.set(n,z.clone(a[n]))}return function(e){f.forEach(function(e,f){a[f]=e});return e}}function n(a){return e(a,["geometry"])}Object.defineProperty(a,"__esModule",{value:!0});a.EventPipeline=a.dragAtLocation=a.addScreenDelta=a.addMapDelta=a.allDegreesOfFreedom=a.verticalDegreesOfFreedom=a.horizontalDegreesOfFreedom=a.resetSymbol=a.resetGraphicMany=a.resetGraphic=a.resetProperties=a.dragGraphicMany=a.screenToMap=a.dragGraphic=a.dragGeometry=a.constrainToMapAxis=
a.createManipulatorDragEventPipelineMany=a.createManipulatorDragEventPipeline=a.createDragEventPipelineCallback=void 0;a.createDragEventPipelineCallback=p;a.createManipulatorDragEventPipeline=f;a.createManipulatorDragEventPipelineMany=function(a,e){for(var k=[],n=0;n<a.length;n++)k.push(f(a[n],e));return D.handlesGroup(k)};a.constrainToMapAxis=function(a,e){var f=[a.x,a.y,a.z],k=[Math.cos(e),Math.sin(e)];a=Math.sqrt(k[0]*k[0]+k[1]*k[1]);if(0===a)return null;k[0]/=a;k[1]/=a;var n=function(a){var e=
(a.x-f[0])*k[0]+(a.y-f[1])*k[1];a.x=f[0]+e*k[0];a.y=f[1]+e*k[1]};return function(a){n(a.mapStart);n(a.mapEnd);return a}};a.dragGeometry=l;a.dragGraphic=A;a.screenToMap=function(a,e,f){void 0===e&&(e=null);var n=null,l=t.isSome(e)&&!a.spatialReference.equals(e)?function(a){return t.isSome(a)?r.project(a,e):a}:function(a){return a},p=k.__assign({exclude:[]},f);return function(e){"start"===e.action&&(n=l(a.toMap(e.screenStart,p)));if(t.isNone(n))return null;var f=l(a.toMap(e.screenEnd,p));return t.isSome(f)?
k.__assign(k.__assign({},e),{mapStart:n,mapEnd:f}):null}};a.dragGraphicMany=function(a){var e=a.map(function(a){return t.unwrap(A(a))}).filter(function(a){return t.isSome(a)});return function(a){var f=a.mapEnd.x-a.mapStart.x,n=a.mapEnd.y-a.mapStart.y,l=a.mapEnd.z-a.mapStart.z;e.forEach(function(e){return e(a)});return k.__assign(k.__assign({},a),{translationX:f,translationY:n,translationZ:l})}};a.resetProperties=e;a.resetGraphic=n;a.resetGraphicMany=function(a){var e=a.map(function(a){return t.unwrap(n(a))}).filter(function(a){return t.isSome(a)});
return function(a){e.forEach(function(e){return e(a)});return a}};a.resetSymbol=function(a){var e=t.isSome(a.symbol)?a.symbol.clone():null;return function(f){a.symbol=e;return f}};a.horizontalDegreesOfFreedom=3;a.verticalDegreesOfFreedom=4;a.allDegreesOfFreedom=7;a.addMapDelta=function(e){void 0===e&&(e=a.allDegreesOfFreedom);var f=0,n=0,l=0;return function(a){"start"===a.action&&(f=a.mapStart.x,n=a.mapStart.y,l=a.mapStart.z);var p=e&1?a.mapEnd.x-f:0,t=e&2?a.mapEnd.y-n:0,r=e&4?a.mapEnd.z-l:0;f=a.mapEnd.x;
n=a.mapEnd.y;l=a.mapEnd.z;return k.__assign(k.__assign({},a),{mapDeltaX:p,mapDeltaY:t,mapDeltaZ:r,mapDeltaSpatialReference:a.mapStart.spatialReference})}};a.addScreenDelta=function(e){void 0===e&&(e=a.allDegreesOfFreedom);var f=0,n=0;return function(a){"start"===a.action&&(f=a.screenStart.x,n=a.screenStart.y);var l=e&1?a.screenEnd.x-f:0,p=e&2?a.screenEnd.y-n:0;f=a.screenEnd.x;n=a.screenEnd.y;return k.__assign(k.__assign({},a),{screenDeltaX:l,screenDeltaY:p})}};a.dragAtLocation=function(a,e){var f=
null,k=0,n=0;return function(l){"start"===l.action&&(f=a.toScreen(e),0>f.x||f.x>a.width||0>f.y||f.y>a.height?f=null:(k=l.screenStart.x-f.x,n=l.screenStart.y-f.y));if(null==f)return null;var p=u.clamp(l.screenEnd.x-k,0,a.width),t=u.clamp(l.screenEnd.y-n,0,a.height),p=v.createScreenPoint(p,t);l.screenStart=f;l.screenEnd=p;return l}};var B=function(){function a(){this.execute=function(){}}a.prototype.next=function(e,f){void 0===f&&(f=new a);t.isSome(e)&&(this.execute=function(a){a=e(a);t.isSome(a)&&
f.execute(a)});return f};return a}();a.EventPipeline=B})},"esri/views/draw/support/drawUtils":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(E,a,k,D,z){function u(a,k,p,f){null==f||a.hasZ||(f=void 0);if("point"===a.type)return a.x+=k,a.y+=p,a.hasZ&&null!=f&&(a.z+=f),a;if("multipoint"===a.type){for(var l=a.points,r=0;r<l.length;r++)l[r]=t(l[r],k,p,f);return a}if("extent"===a.type)return a.xmin+=
k,a.xmax+=k,a.ymin+=p,a.ymax+=p,null!=f&&(a.zmin+=f,a.zmax+=f),a;for(var l=z.geometryToCoordinates(a),e="polyline"===a.type?a.paths:a.rings,n=0;n<l.length;n++)for(var u=l[n],r=0;r<u.length;r++)u[r]=t(u[r],k,p,f);"paths"in a?a.paths=e:a.rings=e;return a}function t(a,k,p,f){return v(a,a[0]+k,a[1]+p,null!=a[2]&&null!=f?a[2]+f:void 0)}function v(a,k,p,f){k=[k,p];2<a.length&&k.push(null!=f?f:a[2]);3<a.length&&k.push(a[3]);return k}Object.defineProperty(a,"__esModule",{value:!0});a.getRotationAngle=a.getScaleRatio=
a.scale=a.cloneMove=a.move=void 0;a.move=u;a.cloneMove=function(a,k,p,f,l){a=a.clone();var t=f.resolution;if("point"===a.type){if(l)u(a,k*t,-p*t);else{l=f.state.transform;f=f.state.inverseTransform;var e=l[0]*a.x+l[2]*a.y+l[4],n=l[1]*a.x+l[3]*a.y+l[5];a.x=f[0]*(e+k)+f[2]*(n+p)+f[4];a.y=f[1]*(e+k)+f[3]*(n+p)+f[5]}return a}if("multipoint"===a.type){if(l)u(a,k*t,-p*t);else{t=a.points;l=f.state.transform;f=f.state.inverseTransform;for(var r=0;r<t.length;r++){var x=t[r],n=l[0]*x[0]+l[2]*x[1]+l[4],D=l[1]*
x[0]+l[3]*x[1]+l[5],e=f[0]*(n+k)+f[2]*(D+p)+f[4],n=f[1]*(n+k)+f[3]*(D+p)+f[5];t[r]=v(x,e,n,void 0)}}return a}if("extent"===a.type){if(l)u(a,k*t,-p*t);else{l=f.state.transform;f=f.state.inverseTransform;var t=l[0]*a.xmin+l[2]*a.ymin+l[4],E=l[1]*a.xmin+l[3]*a.ymin+l[5],e=l[0]*a.xmax+l[2]*a.ymax+l[4];l=l[1]*a.xmax+l[3]*a.ymax+l[5];a.xmin=f[0]*(t+k)+f[2]*(E+p)+f[4];a.ymin=f[1]*(t+k)+f[3]*(E+p)+f[5];a.xmax=f[0]*(e+k)+f[2]*(l+p)+f[4];a.ymax=f[1]*(e+k)+f[3]*(l+p)+f[5]}return a}if(l)u(a,k*t,-p*t);else{E=
z.geometryToCoordinates(a);t="polyline"===a.type?a.paths:a.rings;l=f.state.transform;f=f.state.inverseTransform;for(var R=0;R<E.length;R++)for(var L=E[R],r=0;r<L.length;r++)x=L[r],n=l[0]*x[0]+l[2]*x[1]+l[4],D=l[1]*x[0]+l[3]*x[1]+l[5],e=f[0]*(n+k)+f[2]*(D+p)+f[4],n=f[1]*(n+k)+f[3]*(D+p)+f[5],L[r]=v(x,e,n,void 0);"paths"in a?a.paths=t:a.rings=t}return a};a.scale=function(a,t,p,f){if("point"===a.type){var l=a.x,u=a.y,e=f?f[0]:l;f=f?f[1]:u;a=a.clone();a.x=(l-e)*t+e;a.y=(u-f)*p+f;return a}if("multipoint"===
a.type){var u=z.geometryToCoordinates(a),e=k.create(),n=D.getRingsOrPathsBounds(e,[u]),e=n[0],u=n[1],l=n[2],n=n[3],e=f?f[0]:(e+l)/2,n=f?f[1]:(n+u)/2,r=a.clone(),x=r.points;for(a=0;a<x.length;a++)f=x[a],l=f[0],u=f[1],l=(l-e)*t+e,u=(u-n)*p+n,x[a]=v(f,l,u,void 0);return r}if("extent"===a.type)return u=a.xmin,e=a.xmax,l=a.ymin,n=a.ymax,r=f?f[0]:(u+e)/2,f=f?f[1]:(n+l)/2,a=a.clone(),a.xmin=(u-r)*t+r,a.ymax=(n-f)*p+f,a.xmax=(e-r)*t+r,a.ymin=(l-f)*p+f,a.xmin>a.xmax&&(t=a.xmin,a.xmin=a.xmax,a.xmax=t),a.ymin>
a.ymax&&(t=a.ymin,a.ymin=a.ymax,a.ymax=t),a;for(var e=z.geometryToCoordinates(a),u=k.create(),r=D.getRingsOrPathsBounds(u,e),l=r[0],u=r[1],n=r[2],r=r[3],n=f?f[0]:(l+n)/2,r=f?f[1]:(r+u)/2,x=a.clone(),E="polyline"===x.type?x.paths:x.rings,P=0;P<e.length;P++){var R=e[P];for(a=0;a<R.length;a++)f=R[a],l=f[0],u=f[1],l=(l-n)*t+n,u=(u-r)*p+r,E[P][a]=v(f,l,u,void 0)}"paths"in x?x.paths=E:x.rings=E;return x};a.getScaleRatio=function(a,k,p,f,l,t){return Math.sqrt((l-a)*(l-a)+(t-k)*(t-k))/Math.sqrt((p-a)*(p-
a)+(f-k)*(f-k))};a.getRotationAngle=function(a,k,p,f,l,t){return 180*Math.atan2(k-t,a-l)/Math.PI-180*Math.atan2(k-f,a-p)/Math.PI}})},"esri/views/interactive/InteractiveToolBase":function(){define("require exports tslib ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators ./interactiveToolUtils ./ManipulatorCollection".split(" "),function(E,a,k,D,z,u,t,v){Object.defineProperty(a,"__esModule",{value:!0});a.InteractiveToolBase=void 0;E=function(a){function r(k){k=a.call(this,
k)||this;k.attached=!1;k.created=!1;k.completed=!1;k.manipulators=new v.ManipulatorCollection;k.deferCreation=!1;k._editableFlags=[];k._creationResolver=z.createResolver();return k}k.__extends(r,a);Object.defineProperty(r.prototype,"active",{get:function(){return null!=this.view&&this.view.activeTool===this},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"isSupported",{get:function(){return!0},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"visible",{set:function(a){this._set("visible",
a);a||t.setActive(this,!1);this.attached&&(a?this._show():this._hide())},enumerable:!1,configurable:!0});Object.defineProperty(r.prototype,"editable",{get:function(){return this.hasEditableFlag(0)},set:function(a){this.setEditableFlag(0,a)},enumerable:!1,configurable:!0});r.prototype.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};r.prototype.detach=function(){this.attached&&(this.onHide(),this.onDetach(),
this.manipulators.detach(),this._set("attached",!1))};r.prototype.handleInputEvent=function(a){if(this.attached)this.onInputEvent(a)};r.prototype.handleInputEventAfter=function(a){if(this.attached)this.onInputEventAfter(a)};r.prototype.destroy=function(){this.manipulators.destroy();this._set("view",null)};r.prototype.setEditableFlag=function(a,f){this._editableFlags[a]=f;this.manipulators.isToolEditable=this._editableFlags.every(function(a){return null==a||a});this._updateManipulatorAttachment();
0===a&&this.notifyChange("editable");this.onEditableChange()};r.prototype.hasEditableFlag=function(a){a=this._editableFlags[a];return null==a?!0:a};r.prototype.when=function(){return this._creationResolver.promise};r.prototype.rejectCreation=function(a){this._creationResolver.reject(a)};r.prototype.initialize=function(){this.deferCreation||this.complete()};r.prototype.onAttach=function(){};r.prototype.onDetach=function(){};r.prototype.onShow=function(){};r.prototype.onHide=function(){};r.prototype.onEditableChange=
function(){};r.prototype.onInputEvent=function(a){};r.prototype.onInputEventAfter=function(a){};Object.defineProperty(r.prototype,"internallyEditable",{get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)},enumerable:!1,configurable:!0});r.prototype.create=function(){this.created||(this._set("created",!0),this._creationResolver(this))};r.prototype.complete=function(){this.create();this._set("completed",!0)};r.prototype._show=function(){this._updateManipulatorAttachment();this.onShow()};
r.prototype._hide=function(){this._updateManipulatorAttachment();this.onHide()};r.prototype._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};k.__decorate([u.property({constructOnly:!0})],r.prototype,"view",void 0);k.__decorate([u.property({dependsOn:["view.activeTool"],readOnly:!0})],r.prototype,"active",null);k.__decorate([u.property({value:!0})],r.prototype,"visible",null);k.__decorate([u.property({value:!0})],r.prototype,
"editable",null);k.__decorate([u.property({readOnly:!0})],r.prototype,"attached",void 0);k.__decorate([u.property({readOnly:!0})],r.prototype,"created",void 0);k.__decorate([u.property({readOnly:!0})],r.prototype,"completed",void 0);k.__decorate([u.property({readOnly:!0})],r.prototype,"manipulators",void 0);k.__decorate([u.property({constructOnly:!0})],r.prototype,"deferCreation",void 0);return r=k.__decorate([u.subclass("esri.views.interactive.InteractiveToolBase")],r)}(D);a.InteractiveToolBase=
E})},"esri/views/interactive/ManipulatorCollection":function(){define(["require","exports","../../core/Collection","../../core/maybe"],function(E,a,k,D){Object.defineProperty(a,"__esModule",{value:!0});a.ManipulatorCollection=void 0;E=function(){function a(){this._isToolEditable=!0;this._manipulators=new k;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}Object.defineProperty(a.prototype,"isToolEditable",{set:function(a){this._isToolEditable=a},enumerable:!1,configurable:!0});
Object.defineProperty(a.prototype,"length",{get:function(){return this._manipulators.length},enumerable:!1,configurable:!0});a.prototype.add=function(a,k){void 0===k&&(k=0);return this.addMany([a],k)[0]};a.prototype.addMany=function(a,k){var t=this;void 0===k&&(k=0);return a.map(function(a){var u=t._nextManipulatorId++;a={id:u,manipulator:a,visibilityPredicate:k,attached:!1};t._manipulators.add(a);t._attached&&t._updateManipulatorAttachment(a);return u})};a.prototype.remove=function(a){if("number"===
typeof a){for(var k=0;k<this._manipulators.length;k++)if(this._manipulators.getItemAt(k).id===a)return a=this._manipulators.splice(k,1)[0],this._detachManipulator(a),a.id;return null}for(k=0;k<this._manipulators.length;k++)if(this._manipulators.getItemAt(k).manipulator===a)return a=this._manipulators.splice(k,1)[0],this._detachManipulator(a),a.id;return null};a.prototype.removeAll=function(){var a=this;this._manipulators.forEach(function(k){a._detachManipulator(k)});this._manipulators.removeAll()};
a.prototype.attach=function(){var a=this;this._manipulators.forEach(function(k){a._updateManipulatorAttachment(k)});this._attached=!0};a.prototype.detach=function(){var a=this;this._manipulators.forEach(function(k){a._detachManipulator(k)});this._attached=!1};a.prototype.destroy=function(){this._manipulators.forEach(function(a){a=a.manipulator;a.destroy&&a.destroy()});this._manipulators.destroy();this._resourceContexts=null};a.prototype.on=function(a,k){return this._manipulators.on(a,function(a){k(a)})};
a.prototype.forEach=function(a){for(var k=0,u=this._manipulators.items;k<u.length;k++)a(u[k])};a.prototype.some=function(a){return this._manipulators.items.some(a)};a.prototype.toArray=function(){var a=[];this.forEach(function(k){return a.push(k.manipulator)});return a};a.prototype.intersect=function(a,k){var t=null,u=Number.MAX_VALUE;this._manipulators.forEach(function(r){var p=r.id,f=r.manipulator;r.attached&&f.interactive&&(r=f.intersectionDistance(a,k),D.isSome(r)&&r<u&&(u=r,t=p))});return t};
a.prototype.findById=function(a){if(D.isNone(a))return null;for(var k=0,u=this._manipulators.items;k<u.length;k++){var r=u[k];if(a===r.id)return r.manipulator}return null};a.prototype._updateManipulatorAttachment=function(a){this._isManipulatorItemVisible(a)?this._attachManipulator(a):this._detachManipulator(a)};a.prototype._attachManipulator=function(a){a.attached||(a.manipulator.attach&&a.manipulator.attach(this._resourceContexts),a.attached=!0)};a.prototype._detachManipulator=function(a){if(a.attached){var k=
a.manipulator;k.grabbing=!1;k.dragging=!1;k.hovering=!1;k.selected=!1;k.detach&&k.detach(this._resourceContexts);a.attached=!1}};a.prototype._isManipulatorItemVisible=function(a){return 2===a.visibilityPredicate?!0:this._isToolEditable?0===a.visibilityPredicate:1===a.visibilityPredicate};return a}();a.ManipulatorCollection=E})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define("require exports tslib ../../../core/clock ../InputHandler ./support".split(" "),function(E,a,k,D,
z,u){Object.defineProperty(a,"__esModule",{value:!0});a.PointerClickHoldAndDrag=a.DefaultParameters=void 0;a.DefaultParameters={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};E=function(t){function v(k,u,p,f,l,v){void 0===k&&(k=a.DefaultParameters.maximumClickDelay);void 0===u&&(u=a.DefaultParameters.movementUntilMouseDrag);void 0===p&&(p=a.DefaultParameters.movementUntilPenDrag);void 0===f&&(f=a.DefaultParameters.movementUntilTouchDrag);
void 0===l&&(l=a.DefaultParameters.holdDelay);void 0===v&&(v=D.default);var e=t.call(this,!1)||this;e.maximumClickDelay=k;e.movementUntilMouseDrag=u;e.movementUntilPenDrag=p;e.movementUntilTouchDrag=f;e.holdDelay=l;e._clock=v;e._pointerState=new Map;e._pointerDrag=e.registerOutgoing("pointer-drag");e._immediateClick=e.registerOutgoing("immediate-click");e._pointerHold=e.registerOutgoing("hold");e.registerIncoming("pointer-down",e._handlePointerDown.bind(e));e.registerIncoming("pointer-up",function(a){e._handlePointerLoss(a,
"pointer-up")});e.registerIncoming("pointer-capture-lost",function(a){e._handlePointerLoss(a,"pointer-capture-lost")});e.registerIncoming("pointer-cancel",function(a){e._handlePointerLoss(a,"pointer-cancel")});e._moveHandle=e.registerIncoming("pointer-move",e._handlePointerMove.bind(e));e._moveHandle.pause();return e}k.__extends(v,t);v.prototype.onUninstall=function(){this._pointerState.forEach(function(a){null!=a.holdTimeout&&(a.holdTimeout.remove(),a.holdTimeout=null)});t.prototype.onUninstall.call(this)};
v.prototype._handlePointerDown=function(a){var k=this,p=a.data,f=p.native.pointerId,l=null;0===this._pointerState.size&&(l=this._clock.setTimeout(function(){var l=k._pointerState.get(f);l&&(l.isDragging||(k._pointerHold.emit(l.previousEvent,void 0,a.modifiers),l.holdEmitted=!0),l.holdTimeout=null)},this.holdDelay));l={startEvent:p,previousEvent:p,startTimestamp:a.timestamp,isDragging:!1,downButton:p.native.button,holdTimeout:l,modifiers:new Set};this._pointerState.set(f,l);this.startCapturingPointer(p.native);
this._moveHandle.resume();1<this._pointerState.size&&this.startDragging(a)};v.prototype._createPointerDragData=function(a,k,p){return{action:a,startEvent:k.startEvent,previousEvent:k.previousEvent,currentEvent:p}};v.prototype._handlePointerMove=function(a){var k=a.data,p=this._pointerState.get(k.native.pointerId);if(p){if(p.isDragging)this._pointerDrag.emit(this._createPointerDragData("update",p,k),void 0,p.modifiers);else{var f=u.euclideanDistance(k,p.startEvent),l=this._getDragThreshold(k.native.pointerType);
f>l&&this.startDragging(a)}p.previousEvent=k}};v.prototype._getDragThreshold=function(a){switch(a){case "touch":return this.movementUntilTouchDrag;case "pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}};v.prototype.startDragging=function(a){var k=this,p=a.data,f=p.native.pointerId;this._pointerState.forEach(function(l){null!=l.holdTimeout&&(l.holdTimeout.remove(),l.holdTimeout=null);l.isDragging||(l.modifiers=a.modifiers,l.isDragging=!0,f===l.startEvent.native.pointerId?
k._pointerDrag.emit(k._createPointerDragData("start",l,p)):k._pointerDrag.emit(k._createPointerDragData("start",l,l.previousEvent),a.timestamp))})};v.prototype._handlePointerLoss=function(a,k){var p=a.data,f=p.native.pointerId,l=this._pointerState.get(f);l&&(null!=l.holdTimeout&&(l.holdTimeout.remove(),l.holdTimeout=null),l.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",l,"pointer-up"===k?p:l.previousEvent),void 0,l.modifiers):"pointer-up"===k&&l.downButton===p.native.button&&
a.timestamp-l.startTimestamp<=this.maximumClickDelay&&!l.holdEmitted&&this._immediateClick.emit(p),this._pointerState.delete(f),this.stopCapturingPointer(p.native),0===this._pointerState.size&&this._moveHandle.pause())};return v}(z.InputHandler);a.PointerClickHoldAndDrag=E})},"esri/views/input/recognizers/support":function(){define(["require","exports","../../../core/screenUtils"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.fitCircleLSQ=a.euclideanDistance=a.manhattanDistance=
void 0;a.manhattanDistance=function(a,k){return Math.abs(k.x-a.x)+Math.abs(k.y-a.y)};a.euclideanDistance=function(a,k){var u=k.x-a.x;a=k.y-a.y;return Math.sqrt(u*u+a*a)};a.fitCircleLSQ=function(a,z){z?(z.radius=0,z.center.x=0,z.center.y=0):z={radius:0,center:k.createScreenPoint()};if(0===a.length)return z;if(1===a.length)return z.center.x=a[0].x,z.center.y=a[0].y,z;if(2===a.length){var u=a[0];a=a[1];var t=[a.x-u.x,a.y-u.y],v=t[0],t=t[1];z.radius=Math.sqrt(v*v+t*t)/2;z.center.x=(u.x+a.x)/2;z.center.y=
(u.y+a.y)/2;return z}for(var r=0,x=0,p=0;p<a.length;p++)r+=a[p].x,x+=a[p].y;for(var r=r/a.length,x=x/a.length,f=a.map(function(a){return a.x-r}),l=a.map(function(a){return a.y-x}),A=u=z=0,e=0,n=v=0,p=t=0;p<f.length;p++){var B=f[p],D=l[p],E=B*B,P=D*D;z+=E;u+=P;A+=B*D;e+=E*B;v+=P*D;n+=B*P;t+=D*E}p=z;f=A;l=u;e=.5*(e+n);v=.5*(v+t);t=p*l-A*f;n=(e*l-v*f)/t;v=(p*v-A*e)/t;t=k.createScreenPoint(n+r,v+x);return{radius:Math.sqrt(n*n+v*v+(z+u)/a.length),center:t}}})},"esri/views/draw/PolygonDrawAction":function(){define("require exports tslib ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../3d/interactive/editingTools/draw/DrawTool ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f){Object.defineProperty(a,"__esModule",{value:!0});a.PolygonDrawAction=void 0;E=function(a){function l(e){e=a.call(this,e)||this;e._cursorScreenPoint=null;e._panEnabled=!1;e._cursorVertexAdded=!1;e._popVertexOnPointerMove=!1;e._addVertexOnPointerUp=!1;e._activePointerId=null;e._viewHandles=new D;e.mode="hybrid";e.vertices=[];e.view=null;return e}k.__extends(l,a);l.prototype.initialize=function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)};
l.prototype.destroy=function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool();this.emit("destroy")};Object.defineProperty(l.prototype,"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!1,configurable:!0});l.prototype.addVertex=function(a,f){var e=this;this.vertices.splice(f,
0,a);this.history.push({vertex:a,vertexIndex:f,undo:function(){return e._undoVertexAdd(null,f)},redo:function(){return e._redoVertexAdd(null,a,f)}});this._set("redoHistory",[]);var k=new x.VertexAddEvent(this.view,null,f,this.vertices);this.emit("vertex-add",k);k.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};l.prototype.removeVertex=function(a){var e=this,f=this.vertices.splice(a,1)[0];this.history.push({vertex:f,vertexIndex:a,undo:function(){return e._undoVertexRemove(null,
f,a)},redo:function(){return e._redoVertexRemove(null,a)}});this._set("redoHistory",[]);this.emit("vertex-remove",new x.VertexRemoveEvent(this.view,null,a,this.vertices))};l.prototype.updateVertex=function(a,f){var e=this,k=this.vertices[f];this.vertices[f]=a;this.history.push({vertex:a,vertexIndex:f,undo:function(){return e._undoVertexUpdate(null,k,f)},redo:function(){return e._redoVertexUpdate(null,a,f)}});this._set("redoHistory",[]);this.emit("vertex-update",new x.VertexUpdateEvent(this.view,null,
f,this.vertices))};l.prototype.complete=function(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()};l.prototype.getGeometryZValue=function(){return 0<this.vertices.length&&2<this.vertices[0].length?this.vertices[0][2]:this._get("defaultZ")};l.prototype._addViewHandles=function(){var a=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(a){a.stopPropagation()},f.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._shouldHandlePointerEvent(e)&&
!a._panEnabled&&(a._activePointerId=e.pointerId,a._addVertexOnPointerUp=!0,a._cursorScreenPoint=u.createScreenPointFromEvent(e),"touch"===e.pointerType&&a._updateCursor(e.native))},f.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(e){a._popVertexOnPointerMove&&(a.vertices.pop(),a._popVertexOnPointerMove=!1);a._cursorScreenPoint=u.createScreenPointFromEvent(e);"touch"!==e.pointerType&&a._updateCursor(e.native)},f.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(e){a._shouldHandlePointerEvent(e)&&
(a._cursorScreenPoint=u.createScreenPointFromEvent(e),a._dragEnabled&&!a._panEnabled?a._vertexAddHandler(e):a._addVertexOnPointerUp=!1)},f.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(e){a._shouldHandlePointerEvent(e)&&(a._activePointerId=null,a._addVertexOnPointerUp?a._clickEnabled?a._vertexAddHandler(e):(1===a.vertices.length&&a.vertices.pop(),a._drawCompleteHandler(e)):a._updateCursor(e.native,"touch"===e.pointerType))},f.ViewEventPriorities.TOOL),this.view.on("drag",function(e){a._dragEnabled&&
z.isSome(a._activePointerId)&&!a._panEnabled&&e.stopPropagation()},f.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(a){a.stopPropagation()},f.ViewEventPriorities.TOOL),this.view.on("double-click",function(e){e.stopPropagation();a._drawCompleteHandler(e)},f.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(e){e.stopPropagation();a._drawCompleteHandler(e)},f.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){var f=e.key,k=e.repeat;f===p.KEYS.vertexAddKey&&
!k&&a._cursorScreenPoint?(e.stopPropagation(),a._vertexAddHandler(e)):f===p.KEYS.drawCompleteKey&&!k&&a._cursorScreenPoint&&2<a.vertices.length?(e.stopPropagation(),a._vertexAddHandler(e),a._drawCompleteHandler(e)):f!==p.KEYS.undoKey||a.interactiveUndoDisabled||k?f!==p.KEYS.redoKey||a.interactiveUndoDisabled||k?f!==p.KEYS.panKey||k||(e.stopPropagation(),a._panEnabled=!0):(e.stopPropagation(),a.redo()):(e.stopPropagation(),a.undo())},f.ViewEventPriorities.TOOL),this.view.on("key-up",function(e){e.key===
p.KEYS.panKey&&(e.stopPropagation(),a._panEnabled=!1)},f.ViewEventPriorities.TOOL)])};l.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};l.prototype._addDrawTool=function(a){var e=this;this._drawTool=new v.DrawTool({view:a,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polygon"});this.view.toolViewManager.tools.push(this._drawTool);this.view.activeTool=this._drawTool;this._drawTool.on("vertex-add",function(a){1===a.vertices.length&&e.emit("vertex-add",new x.VertexAddEvent(e.view,
null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("cursor-update",function(a){1===a.vertices.length&&e.emit("cursor-update",new x.CursorUpdateEvent(e.view,null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("complete",function(a){e.emit("draw-complete",new x.DrawCompleteEvent(null,e._drawTool.getVertexCoords()));e._removeDrawTool()})};l.prototype._removeDrawTool=function(){z.isSome(this._drawTool)&&(this.view.tools.remove(this._drawTool),
this._drawTool.destroy(),this._drawTool=null)};l.prototype._addVertex=function(a,f){var e=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,a)){var k=this.vertices.length;this.vertices.push(a);this.history.push({vertex:a,vertexIndex:k,undo:function(){return e._undoVertexAdd(f,k)},redo:function(){return e._redoVertexAdd(f,a,k)}});this._set("redoHistory",[]);var n=new x.VertexAddEvent(this.view,f,k,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._popVertexOnPointerMove=
!0,this.history.pop())}};l.prototype._updateCursor=function(a,f){void 0===f&&(f=!1);this._popCursorVertex();if(this._cursorScreenPoint){var e=null,k=null,n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);z.isSome(n)&&(e=n.mapPoint,f||(k=this._pushCursorVertex(n.vertex)));a=new x.CursorUpdateEvent(this.view,a,k,this.vertices,e);this.emit("cursor-update",a)}};l.prototype._completeDrawing=function(a){this._activePointerId=null;this._popCursorVertex();3>this.vertices.length||(a=new x.DrawCompleteEvent(a,
this.vertices),this.emit("draw-complete",a),a.defaultPrevented||this._removeViewHandles())};l.prototype._undoVertexAdd=function(a,f){this.vertices.splice(f,1);this.emit("undo",new x.VertexRemoveEvent(this.view,a,f,this.vertices))};l.prototype._redoVertexAdd=function(a,f,k){this.vertices.splice(k,0,f);this.emit("redo",new x.VertexAddEvent(this.view,a,k,this.vertices))};l.prototype._undoVertexRemove=function(a,f,k){this.vertices.splice(k,0,f);this.emit("undo",new x.VertexAddEvent(this.view,a,k,this.vertices))};
l.prototype._redoVertexRemove=function(a,f){this.vertices.splice(f,1);this.emit("redo",new x.VertexRemoveEvent(this.view,a,f,this.vertices))};l.prototype._undoVertexUpdate=function(a,f,k){this.vertices[k]=f;this.emit("undo",new x.VertexUpdateEvent(this.view,a,k,this.vertices))};l.prototype._redoVertexUpdate=function(a,f,k){this.vertices[k]=f;this.emit("redo",new x.VertexUpdateEvent(this.view,a,k,this.vertices))};l.prototype._pushCursorVertex=function(a){this._popCursorVertex();this.vertices.push(a);
this._cursorVertexAdded=!0;return this.vertices.length-1};l.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};l.prototype._shouldHandlePointerEvent=function(a){return("mouse"!==a.pointerType||0===a.button)&&(z.isNone(this._activePointerId)||this._activePointerId===a.pointerId)};l.prototype._vertexAddHandler=function(a){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],a.native);else{var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);
z.isSome(e)&&this._addVertex(e,a.native)}};l.prototype._drawCompleteHandler=function(a){this._completeDrawing(a.native)};k.__decorate([t.property({dependsOn:["mode"]})],l.prototype,"_clickEnabled",null);k.__decorate([t.property({dependsOn:["mode"]})],l.prototype,"_dragEnabled",null);k.__decorate([t.property({cast:function(a){return-1===["hybrid","freehand","click"].indexOf(a)?"hybrid":a}})],l.prototype,"mode",void 0);k.__decorate([t.property({readOnly:!0})],l.prototype,"vertices",void 0);k.__decorate([t.property()],
l.prototype,"view",void 0);return l=k.__decorate([t.subclass("esri.views.draw.PolygonDrawAction")],l)}(r);a.PolygonDrawAction=E})},"esri/views/draw/PolylineDrawAction":function(){define("require exports tslib ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../3d/interactive/editingTools/draw/DrawTool ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(E,a,k,D,z,u,t,v,r,x,p,f){Object.defineProperty(a,"__esModule",
{value:!0});a.PolylineDrawAction=void 0;E=function(a){function l(e){e=a.call(this,e)||this;e._cursorScreenPoint=null;e._panEnabled=!1;e._cursorVertexAdded=!1;e._popVertexOnPointerMove=!1;e._addVertexOnPointerUp=!1;e._activePointerId=null;e._viewHandles=new D;e.mode="hybrid";e.vertices=[];e.view=null;return e}k.__extends(l,a);l.prototype.initialize=function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)};l.prototype.destroy=function(){"2d"===this.view.type?(this._removeViewHandles(),
this._viewHandles.destroy()):this._removeDrawTool();this.emit("destroy")};Object.defineProperty(l.prototype,"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!1,configurable:!0});l.prototype.addVertex=function(a,f){var e=this;this.vertices.splice(f,0,a);this.history.push({vertex:a,vertexIndex:f,undo:function(){return e._undoVertexAdd(null,
f)},redo:function(){return e._redoVertexAdd(null,a,f)}});this._set("redoHistory",[]);var k=new x.VertexAddEvent(this.view,null,f,this.vertices);this.emit("vertex-add",k);k.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};l.prototype.removeVertex=function(a){var e=this,f=this.vertices.splice(a,1)[0];this.history.push({vertex:f,vertexIndex:a,undo:function(){return e._undoVertexRemove(null,f,a)},redo:function(){return e._redoVertexRemove(null,a)}});this._set("redoHistory",[]);
this.emit("vertex-remove",new x.VertexRemoveEvent(this.view,null,a,this.vertices))};l.prototype.updateVertex=function(a,f){var e=this,k=this.vertices[f];this.vertices[f]=a;this.history.push({vertex:a,vertexIndex:f,undo:function(){return e._undoVertexUpdate(null,k,f)},redo:function(){return e._redoVertexUpdate(null,a,f)}});this._set("redoHistory",[]);this.emit("vertex-update",new x.VertexUpdateEvent(this.view,null,f,this.vertices))};l.prototype.complete=function(){"2d"===this.view.type?this._completeDrawing():
this._drawTool.completeCreateOperation()};l.prototype._addViewHandles=function(){var a=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(a){a.stopPropagation()},f.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._shouldHandlePointerEvent(e)&&!a._panEnabled&&(a._activePointerId=e.pointerId,a._addVertexOnPointerUp=!0,a._cursorScreenPoint=u.createScreenPointFromEvent(e),"touch"===e.pointerType&&a._updateCursor(e.native))},f.ViewEventPriorities.TOOL),
this.view.on("pointer-move",function(e){a._popVertexOnPointerMove&&(a.vertices.pop(),a._popVertexOnPointerMove=!1);a._cursorScreenPoint=u.createScreenPointFromEvent(e);"touch"!==e.pointerType&&a._updateCursor(e.native)},f.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(e){a._shouldHandlePointerEvent(e)&&(a._cursorScreenPoint=u.createScreenPointFromEvent(e),a._dragEnabled&&!a._panEnabled?a._vertexAddHandler(e):a._addVertexOnPointerUp=!1)},f.ViewEventPriorities.TOOL),this.view.on("pointer-up",
function(e){a._shouldHandlePointerEvent(e)&&(a._activePointerId=null,a._addVertexOnPointerUp?a._clickEnabled?a._vertexAddHandler(e):(1===a.vertices.length&&a.vertices.pop(),a._drawCompleteHandler(e)):a._updateCursor(e.native,"touch"===e.pointerType))},f.ViewEventPriorities.TOOL),this.view.on("drag",function(e){a._dragEnabled&&z.isSome(a._activePointerId)&&!a._panEnabled&&e.stopPropagation()},f.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(a){a.stopPropagation()},f.ViewEventPriorities.TOOL),
this.view.on("double-click",function(e){e.stopPropagation();a._drawCompleteHandler(e)},f.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(e){e.stopPropagation();a._drawCompleteHandler(e)},f.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){var f=e.key,k=e.repeat;f===p.KEYS.vertexAddKey&&!k&&a._cursorScreenPoint?(e.stopPropagation(),a._vertexAddHandler(e)):f===p.KEYS.drawCompleteKey&&!k&&a._cursorScreenPoint&&1<a.vertices.length?(e.stopPropagation(),a._vertexAddHandler(e),
a._drawCompleteHandler(e)):f!==p.KEYS.undoKey||a.interactiveUndoDisabled||k?f!==p.KEYS.redoKey||a.interactiveUndoDisabled||k?f!==p.KEYS.panKey||k||(e.stopPropagation(),a._panEnabled=!0):(e.stopPropagation(),a.redo()):(e.stopPropagation(),a.undo())},f.ViewEventPriorities.TOOL),this.view.on("key-up",function(e){e.key===p.KEYS.panKey&&(e.stopPropagation(),a._panEnabled=!1)},f.ViewEventPriorities.TOOL)])};l.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};l.prototype._addDrawTool=
function(a){var e=this;this._drawTool=new v.DrawTool({view:a,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polyline"});this.view.toolViewManager.tools.push(this._drawTool);this.view.activeTool=this._drawTool;this._drawTool.on("vertex-add",function(a){1===a.vertices.length&&e.emit("vertex-add",new x.VertexAddEvent(e.view,null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("cursor-update",function(a){1===a.vertices.length&&e.emit("cursor-update",new x.CursorUpdateEvent(e.view,
null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("complete",function(a){e.emit("draw-complete",new x.DrawCompleteEvent(null,e._drawTool.getVertexCoords()));e._removeDrawTool()})};l.prototype._removeDrawTool=function(){z.isSome(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)};l.prototype._addVertex=function(a,f){var e=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,a)){this.vertices.push(a);
var k=this.vertices.length-1;this.history.push({vertex:a,vertexIndex:k,undo:function(){return e._undoVertexAdd(f,k)},redo:function(){return e._redoVertexAdd(f,a,k)}});this._set("redoHistory",[]);var n=new x.VertexAddEvent(this.view,f,k,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}};l.prototype._updateCursor=function(a,f){void 0===f&&(f=!1);this._popCursorVertex();if(this._cursorScreenPoint){var e=null,k=null,n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);
z.isSome(n)&&(e=n.mapPoint,f||(k=this._pushCursorVertex(n.vertex)));a=new x.CursorUpdateEvent(this.view,a,k,this.vertices,e);this.emit("cursor-update",a)}};l.prototype._completeDrawing=function(a){this._activePointerId=null;this._popCursorVertex();2>this.vertices.length||(a=new x.DrawCompleteEvent(a,this.vertices),this.emit("draw-complete",a),a.defaultPrevented||this._removeViewHandles())};l.prototype._undoVertexAdd=function(a,f){this.vertices.splice(f,1);this.emit("undo",new x.VertexRemoveEvent(this.view,
a,f,this.vertices))};l.prototype._redoVertexAdd=function(a,f,k){this.vertices.splice(k,0,f);this.emit("redo",new x.VertexAddEvent(this.view,a,k,this.vertices))};l.prototype._undoVertexRemove=function(a,f,k){this.vertices.splice(k,0,f);this.emit("undo",new x.VertexAddEvent(this.view,a,k,this.vertices))};l.prototype._redoVertexRemove=function(a,f){this.vertices.splice(f,1);this.emit("redo",new x.VertexRemoveEvent(this.view,a,f,this.vertices))};l.prototype._undoVertexUpdate=function(a,f,k){this.vertices[k]=
f;this.emit("undo",new x.VertexUpdateEvent(this.view,a,k,this.vertices))};l.prototype._redoVertexUpdate=function(a,f,k){this.vertices[k]=f;this.emit("redo",new x.VertexUpdateEvent(this.view,a,k,this.vertices))};l.prototype._pushCursorVertex=function(a){this._popCursorVertex();this.vertices.push(a);this._cursorVertexAdded=!0;return this.vertices.length-1};l.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};l.prototype._shouldHandlePointerEvent=
function(a){return("mouse"!==a.pointerType||0===a.button)&&(z.isNone(this._activePointerId)||this._activePointerId===a.pointerId)};l.prototype._vertexAddHandler=function(a){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],a.native);else{var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);z.isSome(e)&&this._addVertex(e,a.native)}};l.prototype._drawCompleteHandler=function(a){this._completeDrawing(a.native)};k.__decorate([t.property({dependsOn:["mode"]})],l.prototype,
"_clickEnabled",null);k.__decorate([t.property({dependsOn:["mode"]})],l.prototype,"_dragEnabled",null);k.__decorate([t.property({cast:function(a){return-1===["hybrid","freehand","click"].indexOf(a)?"hybrid":a}})],l.prototype,"mode",void 0);k.__decorate([t.property({readOnly:!0})],l.prototype,"vertices",void 0);k.__decorate([t.property()],l.prototype,"view",void 0);return l=k.__decorate([t.subclass("esri.views.draw.PolylineDrawAction")],l)}(r);a.PolylineDrawAction=E})},"esri/views/draw/SegmentDrawAction":function(){define("require exports tslib ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../3d/interactive/editingTools/draw/DrawTool ./DrawAction ./input/DrawEvents ./input/Keys ./support/createUtils ../input/InputManager".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l){Object.defineProperty(a,"__esModule",{value:!0});a.SegmentDrawAction=void 0;E=function(a){function e(e){e=a.call(this,e)||this;e._isDragging=!1;e._panEnabled=!1;e._cursorScreenPoint=null;e._viewHandles=new D;e._cursorVertexAdded=!1;e._activePointerId=null;e.viewAlignedCoordinateSystem=null;e.mode="freehand";e.vertices=[];e.view=null;return e}k.__extends(e,a);e.prototype.initialize=function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)};
e.prototype.destroy=function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool();this.emit("destroy")};e.prototype.complete=function(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()};e.prototype.getGeometryZValue=function(){return 0<this.vertices.length&&2<this.vertices[0].length?this.vertices[0][2]:this._get("defaultZ")};e.prototype._addViewHandles=function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):
this._viewHandles.add(this._getDragModeViewHandles())};e.prototype._getDragModeViewHandles=function(){var a=this;return[this.view.on("click",function(e){e.stopPropagation();if(e.mapPoint&&!a._panEnabled){var f=a.getCoordsFromScreenPoint(e.screenPoint);z.isSome(f)&&(a._set("vertices",[f]),a._drawCompleteHandler(e))}},l.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._shouldHandlePointerEvent(e)&&!a._panEnabled&&(a._cursorScreenPoint=u.createScreenPointFromEvent(e),a._set("vertices",
[]),a._activePointerId=e.pointerId,a._vertexAddHandler(e),a._isDragging=!1,"touch"===e.pointerType&&a._cursorUpdateHandler(e))},l.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(e){a._cursorScreenPoint=u.createScreenPointFromEvent(e);z.isNone(a._activePointerId)&&"touch"!==e.pointerType&&0===a.vertices.length&&a._cursorUpdateHandler(e)},l.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(e){a._shouldHandlePointerEvent(e)&&(a._isDragging=!0,a._cursorScreenPoint=u.createScreenPointFromEvent(e),
a._cursorUpdateHandler(e))},l.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(e){a._shouldHandlePointerEvent(e)&&(a._activePointerId=null,a._popCursorVertex(),a._isDragging&&!a._panEnabled&&(a._vertexAddHandler(e),a._drawCompleteHandler(e)),a._isDragging=!1)},l.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){e.key===p.KEYS.drawCompleteKey&&a._cursorScreenPoint?a._drawCompleteHandler(e):e.key===p.KEYS.panKey&&(a._panEnabled=!0)},l.ViewEventPriorities.TOOL),this.view.on("key-up",
function(e){e.key===p.KEYS.panKey&&(a._panEnabled=!1)},l.ViewEventPriorities.TOOL),this.view.on("drag",function(e){z.isSome(a._activePointerId)&&e.stopPropagation()},l.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(a){a.stopPropagation()},l.ViewEventPriorities.TOOL)]};e.prototype._getClickModeViewHandles=function(){var a=this;return[this.view.on("click",function(a){a.stopPropagation()},l.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(e){a._cursorScreenPoint=u.createScreenPointFromEvent(e);
a._activePointerId=e.pointerId;a._isDragging=!1;"touch"===e.pointerType&&a._cursorUpdateHandler(e)},l.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(e){a._cursorScreenPoint=u.createScreenPointFromEvent(e);z.isNone(a._activePointerId)&&"touch"!==e.pointerType&&a._cursorUpdateHandler(e)},l.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(e){a._shouldHandlePointerEvent(e)&&(a._isDragging=!0)},l.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(e){a._shouldHandlePointerEvent(e)&&
(a._activePointerId=null,a._isDragging||a._vertexAddHandler(e),2!==a.vertices.length||a._isDragging||a._drawCompleteHandler(e),a._isDragging=!1)},l.ViewEventPriorities.TOOL),this.view.on("key-down",function(e){e.key===p.KEYS.vertexAddKey&&a._cursorScreenPoint&&(a._vertexAddHandler(e),2===a.vertices.length&&a._drawCompleteHandler(e));e.key===p.KEYS.drawCompleteKey&&a._cursorScreenPoint&&2===a.vertices.length&&a._drawCompleteHandler(e)},l.ViewEventPriorities.TOOL)]};e.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};
e.prototype._addDrawTool=function(a){var e=this;this._drawTool=new v.DrawTool({view:a,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"segment"});this.view.toolViewManager.tools.push(this._drawTool);this.view.activeTool=this._drawTool;this._drawTool.on("vertex-add",function(a){1===a.vertices.length&&e.emit("vertex-add",new x.VertexAddEvent(e.view,null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("cursor-update",function(a){1===a.vertices.length&&e.emit("cursor-update",
new x.CursorUpdateEvent(e.view,null,a.vertices[0].vertexIndex,e._drawTool.getVertexCoords()))});this._drawTool.on("complete",function(a){e.emit("draw-complete",new x.DrawCompleteEvent(null,e._drawTool.getVertexCoords()));e._removeDrawTool()})};e.prototype._removeDrawTool=function(){z.isSome(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)};e.prototype._addVertex=function(a,e){this._popCursorVertex();this.isDuplicateVertex(this.vertices,a)||(this.vertices.push(a),
1===this.vertices.length&&(this.viewAlignedCoordinateSystem=f.createViewAlignedCoordinateSystem(this.view,this.vertices[0])),a=this.vertices.indexOf(a),e=new x.VertexAddEvent(this.view,e,a,this.vertices),this.emit("vertex-add",e))};e.prototype._updateCursor=function(a,e){var f=null;z.isSome(a)&&(f=this._pushCursorVertex(a));a=new x.CursorUpdateEvent(this.view,e,f,this.vertices);this.emit("cursor-update",a)};e.prototype._completeDrawing=function(a){this._activePointerId=null;this._popCursorVertex();
this._isDragging=!1;this._cursorScreenPoint=null;1>this.vertices.length||(a=new x.DrawCompleteEvent(a,this.vertices),this.emit("draw-complete",a),a.defaultPrevented||this._removeViewHandles())};e.prototype._pushCursorVertex=function(a){this._popCursorVertex();this.vertices.push(a);this._cursorVertexAdded=!0;return this.vertices.length-1};e.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};e.prototype._shouldHandlePointerEvent=function(a){return("mouse"!==
a.pointerType||0===a.button)&&(z.isNone(this._activePointerId)||this._activePointerId===a.pointerId)};e.prototype._vertexAddHandler=function(a){var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);z.isSome(e)&&this._addVertex(e,a.native)};e.prototype._cursorUpdateHandler=function(a){var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(e,a.native)};e.prototype._drawCompleteHandler=function(a){this._completeDrawing(a.native)};k.__decorate([t.property({cast:function(a){return-1===
["freehand","click"].indexOf(a)?"freehand":a}})],e.prototype,"mode",void 0);k.__decorate([t.property({readOnly:!0})],e.prototype,"vertices",void 0);k.__decorate([t.property()],e.prototype,"view",void 0);return e=k.__decorate([t.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],e)}(r);a.SegmentDrawAction=E})},"esri/views/draw/support/createUtils":function(){define("require exports tslib ../../../geometry ../../../core/arrayUtils ../../../core/lang ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G){function N(a,e,f){void 0===f&&(f=null);return t.isSome(f)?[a,e,f]:[a,e]}function P(a,e,f){void 0===f&&(f=null);return t.isSome(f)?{x:a,y:e,z:f}:{x:a,y:e}}function R(a,e){e=new D.Point({x:a[0],y:a[1],spatialReference:e});2<a.length&&(e.z=a[2]);return e}function L(a,e,f,k){void 0===k&&(k=!0);a=u.clone(a);a.forEach(function(a){z.equals(a[0],a[a.length-1])&&1!==a.length||a.push(a[0])});a=new D.Polygon({rings:a,spatialReference:e});a.rings.forEach(function(a){B.isClockwise(a,
!1,!1)||a.reverse()});f&&B.unnormalizeGeometryOnDatelineCrossing(a);k&&a.isSelfIntersecting&&G.isValid(e)&&(a=n.simplify(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.createEllipse=a.createCircle=a.createRectangle=a.createSquare=a.createPolygon=a.createPolyline=a.createMultipoint=a.createPoint=a.createViewAlignedCoordinateSystem=a.SceneViewCoordinateSystem=a.AffineCoordinateSystem=a.SurfaceCoordinateSystem=a.makeSurfacePoint=a.makeMapPoint=void 0;a.makeMapPoint=N;a.makeSurfacePoint=
P;E=function(){function a(a){this.spatialReference=a}a.prototype.mapToLocalMultiple=function(a){var e=this;return a.map(function(a){return e.mapToLocal(a)})};Object.defineProperty(a.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!1,configurable:!0});return a}();a.SurfaceCoordinateSystem=E;var M=function(a){function e(e,f,k){void 0===k&&(k=null);f=a.call(this,f)||this;f.defaultZ=k;f.transform=x.mat2df64.create();f.transformInv=x.mat2df64.create();f.transform=x.mat2df64.clone(e);
r.mat2d.invert(f.transformInv,f.transform);return f}k.__extends(e,a);e.prototype.makeMapPoint=function(a,e){return N(a,e,this.defaultZ)};e.prototype.mapToLocal=function(a){return P(this.transform[0]*a[0]+this.transform[2]*a[1]+this.transform[4],this.transform[1]*a[0]+this.transform[3]*a[1]+this.transform[5])};e.prototype.localToMap=function(a){return N(this.transformInv[0]*a.x+this.transformInv[2]*a.y+this.transformInv[4],this.transformInv[1]*a.x+this.transformInv[3]*a.y+this.transformInv[5],this.defaultZ)};
return e}(E);a.AffineCoordinateSystem=M;var I=function(a){function e(e,k){var n=a.call(this,e.spatialReference)||this;n.view=e;n.defaultZ=null;n.pWS=A.vec3f64.create();n.tangentFrameUpWS=A.vec3f64.create();n.tangentFrameRightWS=A.vec3f64.create();n.tangentFrameForwardWS=A.vec3f64.create();n.localFrameRightWS=A.vec3f64.create();n.localFrameUpWS=A.vec3f64.create();n.worldToLocalTransform=f.quatf64.create();n.localToWorldTransform=f.quatf64.create();n.scale=1;n.scale=e.resolution;n.referenceMapPoint=
k;n.defaultZ=k.hasZ?k.z:null;e=e.state.camera.viewRight;n.view.renderCoordsHelper.toRenderCoords(n.referenceMapPoint,n.pWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,0,n.tangentFrameRightWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,1,n.tangentFrameUpWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,2,n.tangentFrameForwardWS);k=A.vec3f64.create();l.vec3.scale(k,n.tangentFrameForwardWS,l.vec3.dot(e,n.tangentFrameForwardWS));l.vec3.subtract(n.localFrameRightWS,e,k);l.vec3.normalize(n.localFrameRightWS,
n.localFrameRightWS);l.vec3.cross(n.localFrameUpWS,n.tangentFrameForwardWS,n.localFrameRightWS);p.quat.rotationTo(n.worldToLocalTransform,n.localFrameRightWS,n.tangentFrameRightWS);p.quat.invert(n.localToWorldTransform,n.worldToLocalTransform);return n}k.__extends(e,a);Object.defineProperty(e.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!1,configurable:!0});e.prototype.makeMapPoint=function(a,e){return N(a,e,this.defaultZ)};e.prototype.mapToLocal=
function(a){var e=A.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new D.Point({x:a[0],y:a[1],spatialReference:this.spatialReference}),e);l.vec3.transformQuat(e,e,this.worldToLocalTransform);a=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return P(a.x/this.scale,a.y/this.scale)};e.prototype.localToMap=function(a){var e=A.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new D.Point({x:a.x*this.scale,y:a.y*this.scale,spatialReference:this.spatialReference}),
e);l.vec3.transformQuat(e,e,this.localToWorldTransform);a=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return N(a.x,a.y,this.defaultZ)};return e}(E);a.SceneViewCoordinateSystem=I;a.createViewAlignedCoordinateSystem=function(a,e){return"2d"===a.type?new M(a.state.transform,a.spatialReference,2<e.length?e[2]:null):"3d"===a.type?(e=2<e.length?new D.Point({x:e[0],y:e[1],z:e[2],spatialReference:a.spatialReference}):new D.Point({x:e[0],y:e[1],spatialReference:a.spatialReference}),
new I(a,e)):null};a.createPoint=R;a.createMultipoint=function(a,e){return new D.Multipoint({points:a,spatialReference:e})};a.createPolyline=function(a,e,f){a=new D.Polyline({paths:a,spatialReference:e});f&&B.unnormalizeGeometryOnDatelineCrossing(a);return a};a.createPolygon=L;a.createSquare=function(a,e,f){var k=e.mapToLocalMultiple(a);a=[];var l=k[0].x,n=k[0].y,p=Math.round(k[1].x-l),t=Math.round(k[1].y-n),k=Math.max(Math.abs(p),Math.abs(t));f?(f=l+k,p=n+k,l-=k,n-=k,a.push(P(f,n),P(l,n),P(l,p),P(f,
p))):(f=0<p?l+k:l-k,k=0<t?n+k:n-k,a.push(P(l,n),P(f,n),P(f,k),P(l,k)));return L([a.map(function(a){return e.localToMap(a)})],e.spatialReference,e.doUnnormalization,!0)};a.createRectangle=function(a,e,f){var k=e.mapToLocalMultiple(a);1===k.length&&(a=k[0],k=[P(a.x-48,a.y+48),P(a.x+48,a.y-48),P(a.x+48,a.y-48),P(a.x-48,a.y+48)]);a=[];var l=k[0].x,n=k[0].y,p=k[1].x,k=k[1].y;if(f){f=Math.round(p-l);var t=Math.round(k-n);a.push(P(l-f,n-t),P(p,n-t),P(p,k),P(l-f,k))}else a.push(P(l,n),P(p,n),P(p,k),P(l,k));
return L([a.map(function(a){return e.localToMap(a)})],e.spatialReference,e.doUnnormalization,!0)};a.createCircle=function(a,f,k,l){var p=f.mapToLocalMultiple(a),t=a=null;k?(a=p[0],t=p[1]):(a=p[0],t=p[1],k=Math.round(t.x-a.x),t=Math.round(t.y-a.y),p=Math.max(Math.abs(k),Math.abs(t)),a=P(0<k?a.x+p/2:a.x-p/2,0<t?a.y+p/2:a.y-p/2),t=P(Math.abs(k)>Math.abs(t)?a.x-p/2:a.x,Math.abs(k)>Math.abs(t)?a.y:a.y-p/2));p=f.localToMap(a);k=f.localToMap(t);f.doUnnormalization&&B.unnormalizeVerticesOnDatelineCrossing([[p,
k]],f.spatialReference);p=R(p,f.spatialReference);k=R(k,f.spatialReference);var u=v.getMetersPerUnitForSR(f.spatialReference),r=0;G.isValid(f.spatialReference)?r=u*n.distance(p,k,null):(k=a.x-t.x,t=a.y-t.y,r=u*Math.sqrt(k*k+t*t)*(l||1));f=new e({center:p,radius:r,radiusUnit:"meters",spatialReference:f.spatialReference});return L(f.rings,f.spatialReference,!1)};a.createEllipse=function(a,e,f){var k=e.mapToLocalMultiple(a);a=k[0];var l=k[1],k=Math.round(l.x-a.x),l=Math.round(l.y-a.y);a=P(f?a.x:a.x+
k/2,f?a.y:a.y+l/2);k=f?k:k/2;f=f?l:l/2;for(var l=[],n=2*Math.PI/60,p=0;60>p;p++){var t=P(k*Math.cos(p*n)+a.x,f*Math.sin(p*n)+a.y);l.push(t)}l.push(l[0]);return L([l.map(function(a){return e.localToMap(a)})],e.spatialReference,e.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/mat2d":function(){define(["require","exports","./math/mat2d"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.mat2d=void 0;a.mat2d=k})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require",
"exports","./common"],function(E,a,k){function D(a,k,v){var t=k[0],u=k[1],p=k[2],f=k[3],l=k[4];k=k[5];var z=v[0],e=v[1],n=v[2],D=v[3],E=v[4];v=v[5];a[0]=t*z+p*e;a[1]=u*z+f*e;a[2]=t*n+p*D;a[3]=u*n+f*D;a[4]=t*E+p*v+l;a[5]=u*E+f*v+k;return a}function z(a,k,v){a[0]=k[0]-v[0];a[1]=k[1]-v[1];a[2]=k[2]-v[2];a[3]=k[3]-v[3];a[4]=k[4]-v[4];a[5]=k[5]-v[5];return a}Object.defineProperty(a,"__esModule",{value:!0});a.sub=a.mul=a.equals=a.exactEquals=a.multiplyScalarAndAdd=a.multiplyScalar=a.subtract=a.add=a.frob=
a.str=a.fromTranslation=a.fromScaling=a.fromRotation=a.translate=a.scale=a.rotate=a.multiply=a.determinant=a.invert=a.set=a.identity=a.copy=void 0;a.copy=function(a,k){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4];a[5]=k[5];return a};a.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a};a.set=function(a,k,v,r,x,p,f){a[0]=k;a[1]=v;a[2]=r;a[3]=x;a[4]=p;a[5]=f;return a};a.invert=function(a,k){var t=k[0],r=k[1],u=k[2],p=k[3],f=k[4];k=k[5];var l=t*p-r*u;if(!l)return null;l=1/l;
a[0]=p*l;a[1]=-r*l;a[2]=-u*l;a[3]=t*l;a[4]=(u*k-p*f)*l;a[5]=(r*f-t*k)*l;return a};a.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};a.multiply=D;a.rotate=function(a,k,v){var t=k[0],u=k[1],p=k[2],f=k[3],l=k[4];k=k[5];var z=Math.sin(v);v=Math.cos(v);a[0]=t*v+p*z;a[1]=u*v+f*z;a[2]=t*-z+p*v;a[3]=u*-z+f*v;a[4]=l;a[5]=k;return a};a.scale=function(a,k,v){var t=k[1],u=k[2],p=k[3],f=k[4],l=k[5],z=v[0];v=v[1];a[0]=k[0]*z;a[1]=t*z;a[2]=u*v;a[3]=p*v;a[4]=f;a[5]=l;return a};a.translate=function(a,k,v){var t=
k[0],u=k[1],p=k[2],f=k[3],l=k[4];k=k[5];var z=v[0];v=v[1];a[0]=t;a[1]=u;a[2]=p;a[3]=f;a[4]=t*z+p*v+l;a[5]=u*z+f*v+k;return a};a.fromRotation=function(a,k){var t=Math.sin(k);k=Math.cos(k);a[0]=k;a[1]=t;a[2]=-t;a[3]=k;a[4]=0;a[5]=0;return a};a.fromScaling=function(a,k){a[0]=k[0];a[1]=0;a[2]=0;a[3]=k[1];a[4]=0;a[5]=0;return a};a.fromTranslation=function(a,k){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=k[0];a[5]=k[1];return a};a.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+
")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};a.add=function(a,k,v){a[0]=k[0]+v[0];a[1]=k[1]+v[1];a[2]=k[2]+v[2];a[3]=k[3]+v[3];a[4]=k[4]+v[4];a[5]=k[5]+v[5];return a};a.subtract=z;a.multiplyScalar=function(a,k,v){a[0]=k[0]*v;a[1]=k[1]*v;a[2]=k[2]*v;a[3]=k[3]*v;a[4]=k[4]*v;a[5]=k[5]*v;return a};a.multiplyScalarAndAdd=function(a,k,v,r){a[0]=k[0]+v[0]*r;a[1]=k[1]+v[1]*r;a[2]=k[2]+v[2]*r;a[3]=k[3]+v[3]*
r;a[4]=k[4]+v[4]*r;a[5]=k[5]+v[5]*r;return a};a.exactEquals=function(a,k){return a[0]===k[0]&&a[1]===k[1]&&a[2]===k[2]&&a[3]===k[3]&&a[4]===k[4]&&a[5]===k[5]};a.equals=function(a,t){var u=a[0],r=a[1],x=a[2],p=a[3],f=a[4];a=a[5];var l=t[0],z=t[1],e=t[2],n=t[3],D=t[4];t=t[5];return Math.abs(u-l)<=k.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(r-z)<=k.EPSILON*Math.max(1,Math.abs(r),Math.abs(z))&&Math.abs(x-e)<=k.EPSILON*Math.max(1,Math.abs(x),Math.abs(e))&&Math.abs(p-n)<=k.EPSILON*Math.max(1,
Math.abs(p),Math.abs(n))&&Math.abs(f-D)<=k.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(a-t)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(t))};a.mul=D;a.sub=z})},"esri/core/libs/gl-matrix-2/mat2df64":function(){define(["require","exports","./factories/mat2df64"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.mat2df64=void 0;a.mat2df64=k})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require","exports"],function(E,a){Object.defineProperty(a,"__esModule",
{value:!0});a.createView=a.fromValues=a.clone=a.create=void 0;a.create=function(){return[1,0,0,1,0,0]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5]]};a.fromValues=function(a,D,z,u,t,v){return[a,D,z,u,t,v]};a.createView=function(a,D){return new Float64Array(a,D,6)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.quat=void 0;a.quat=k})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(E,a,k,D,z,u,t,v){function r(a,e,f){f*=.5;var k=Math.sin(f);a[0]=k*e[0];a[1]=k*e[1];a[2]=k*e[2];a[3]=Math.cos(f);return a}function x(a,e,f){var k=e[0],l=e[1],n=e[2];e=e[3];var p=f[0],t=f[1],r=f[2];f=f[3];a[0]=k*f+e*p+l*r-n*t;a[1]=l*f+e*t+n*p-k*r;a[2]=n*f+e*r+k*t-l*p;a[3]=e*f-k*p-l*t-n*r;return a}function p(a,e,f,k){var l=e[0],n=e[1],p=e[2];e=e[3];var t=f[0],r=f[1],v=f[2];f=f[3];var x,z,D;z=l*t+n*r+p*v+e*f;0>z&&(z=-z,t=-t,r=-r,v=-v,f=-f);1-z>u.EPSILON?(x=Math.acos(z),D=Math.sin(x),z=Math.sin((1-
k)*x)/D,k=Math.sin(k*x)/D):z=1-k;a[0]=z*l+k*t;a[1]=z*n+k*r;a[2]=z*p+k*v;a[3]=z*e+k*f;return a}function f(a,e){var f=e[0]+e[4]+e[8];if(0<f)f=Math.sqrt(f+1),a[3]=.5*f,f=.5/f,a[0]=(e[5]-e[7])*f,a[1]=(e[6]-e[2])*f,a[2]=(e[1]-e[3])*f;else{var k=0;e[4]>e[0]&&(k=1);e[8]>e[3*k+k]&&(k=2);var l=(k+1)%3,n=(k+2)%3,f=Math.sqrt(e[3*k+k]-e[3*l+l]-e[3*n+n]+1);a[k]=.5*f;f=.5/f;a[3]=(e[3*l+n]-e[3*n+l])*f;a[l]=(e[3*l+k]+e[3*k+l])*f;a[n]=(e[3*n+k]+e[3*k+n])*f}return a}Object.defineProperty(a,"__esModule",{value:!0});
a.setAxes=a.sqlerp=a.rotationTo=a.equals=a.exactEquals=a.normalize=a.sqrLen=a.squaredLength=a.len=a.length=a.lerp=a.dot=a.scale=a.mul=a.add=a.set=a.copy=a.str=a.fromEuler=a.fromMat3=a.conjugate=a.invert=a.random=a.slerp=a.calculateW=a.rotateZ=a.rotateY=a.rotateX=a.multiply=a.getAxisAngle=a.setAxisAngle=a.identity=void 0;a.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};a.setAxisAngle=r;a.getAxisAngle=function(a,e){var f=2*Math.acos(e[3]),k=Math.sin(f/2);k>u.EPSILON?(a[0]=e[0]/k,a[1]=e[1]/
k,a[2]=e[2]/k):(a[0]=1,a[1]=0,a[2]=0);return f};a.multiply=x;a.rotateX=function(a,e,f){f*=.5;var k=e[0],l=e[1],n=e[2];e=e[3];var p=Math.sin(f);f=Math.cos(f);a[0]=k*f+e*p;a[1]=l*f+n*p;a[2]=n*f-l*p;a[3]=e*f-k*p;return a};a.rotateY=function(a,e,f){f*=.5;var k=e[0],l=e[1],n=e[2];e=e[3];var p=Math.sin(f);f=Math.cos(f);a[0]=k*f-n*p;a[1]=l*f+e*p;a[2]=n*f+k*p;a[3]=e*f-l*p;return a};a.rotateZ=function(a,e,f){f*=.5;var k=e[0],l=e[1],n=e[2];e=e[3];var p=Math.sin(f);f=Math.cos(f);a[0]=k*f+l*p;a[1]=l*f-k*p;a[2]=
n*f+e*p;a[3]=e*f-n*p;return a};a.calculateW=function(a,e){var f=e[0],k=e[1];e=e[2];a[0]=f;a[1]=k;a[2]=e;a[3]=Math.sqrt(Math.abs(1-f*f-k*k-e*e));return a};a.slerp=p;a.random=function(a){var e=u.RANDOM(),f=u.RANDOM(),k=u.RANDOM(),l=Math.sqrt(1-e),e=Math.sqrt(e);a[0]=l*Math.sin(2*Math.PI*f);a[1]=l*Math.cos(2*Math.PI*f);a[2]=e*Math.sin(2*Math.PI*k);a[3]=e*Math.cos(2*Math.PI*k);return a};a.invert=function(a,e){var f=e[0],k=e[1],l=e[2];e=e[3];var n=f*f+k*k+l*l+e*e,n=n?1/n:0;a[0]=-f*n;a[1]=-k*n;a[2]=-l*
n;a[3]=e*n;return a};a.conjugate=function(a,e){a[0]=-e[0];a[1]=-e[1];a[2]=-e[2];a[3]=e[3];return a};a.fromMat3=f;a.fromEuler=function(a,e,f,k){var l=.5*Math.PI/180;e*=l;f*=l;k*=l;l=Math.sin(e);e=Math.cos(e);var n=Math.sin(f);f=Math.cos(f);var p=Math.sin(k);k=Math.cos(k);a[0]=l*f*k-e*n*p;a[1]=e*n*k+l*f*p;a[2]=e*f*p-l*n*k;a[3]=e*f*k+l*n*p;return a};a.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.copy=v.copy;a.set=v.set;a.add=v.add;a.mul=x;a.scale=v.scale;a.dot=v.dot;a.lerp=
v.lerp;a.length=v.length;a.len=a.length;a.squaredLength=v.squaredLength;a.sqrLen=a.squaredLength;a.normalize=v.normalize;a.exactEquals=v.exactEquals;a.equals=v.equals;a.rotationTo=function(f,k,n){var p=t.dot(k,n);if(-.999999>p)return t.cross(l,A,k),1E-6>t.len(l)&&t.cross(l,e,k),t.normalize(l,l),r(f,l,Math.PI),f;if(.999999<p)return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f;t.cross(l,k,n);f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=1+p;return a.normalize(f,f)};var l=z.create(),A=z.fromValues(1,0,0),e=z.fromValues(0,1,0);
a.sqlerp=function(a,e,f,k,l,t){p(n,e,l,t);p(B,f,k,t);p(a,n,B,2*t*(1-t));return a};var n=D.create(),B=D.create();a.setAxes=function(e,k,l,n){var p=G;p[0]=l[0];p[3]=l[1];p[6]=l[2];p[1]=n[0];p[4]=n[1];p[7]=n[2];p[2]=-k[0];p[5]=-k[1];p[8]=-k[2];return a.normalize(e,f(e,p))};var G=k.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(E,a){Object.defineProperty(a,"__esModule",{value:!0});a.createView=a.fromValues=a.clone=a.create=void 0;a.create=function(){return[1,
0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,D,z,u,t,v,r,x,p){return[a,D,z,u,t,v,r,x,p]};a.createView=function(a,D){return new Float64Array(a,D,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(E,a){function k(){return[0,0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.IDENTITY=a.createView=a.fromValues=a.clone=a.create=void 0;a.create=k;a.clone=function(a){return[a[0],
a[1],a[2],a[3]]};a.fromValues=function(a,k,u,t){return[a,k,u,t]};a.createView=function(a,k){return new Float64Array(a,k,4)};a.IDENTITY=k()})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(E,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.quatf64=void 0;a.quatf64=k})},"esri/geometry/geometryEngine":function(){define(["require","exports","./geometryEngineBase","./geometryAdapters/hydrated"],function(E,a,k,D){function z(a){return Array.isArray(a)?
a[0].spatialReference:a&&a.spatialReference}function u(a){return"xmin"in a?"center"in a?a.center:null:"x"in a?a:"extent"in a?a.extent.center:null}Object.defineProperty(a,"__esModule",{value:!0});a.geodesicLength=a.geodesicArea=a.planarLength=a.planarArea=a.geodesicDensify=a.densify=a.generalize=a.flipVertical=a.flipHorizontal=a.rotate=a.nearestVertices=a.nearestVertex=a.nearestCoordinate=a.geodesicBuffer=a.buffer=a.offset=a.union=a.intersect=a.symmetricDifference=a.difference=a.convexHull=a.simplify=
a.isSimple=a.relate=a.overlaps=a.disjoint=a.within=a.touches=a.intersects=a.equals=a.distance=a.crosses=a.contains=a.cut=a.clip=a.extendedSpatialReferenceInfo=void 0;a.extendedSpatialReferenceInfo=function(a){return k.extendedSpatialReferenceInfo(a)};a.clip=function(a,u){return k.clip(D.hydratedAdapter,z(a),a,u)};a.cut=function(a,u){return k.cut(D.hydratedAdapter,z(a),a,u)};a.contains=function(a,u){return k.contains(D.hydratedAdapter,z(a),a,u)};a.crosses=function(a,u){return k.crosses(D.hydratedAdapter,
z(a),a,u)};a.distance=function(a,u,r){return k.distance(D.hydratedAdapter,z(a),a,u,r)};a.equals=function(a,u){return k.equals(D.hydratedAdapter,z(a),a,u)};a.intersects=function(a,u){return k.intersects(D.hydratedAdapter,z(a),a,u)};a.touches=function(a,u){return k.touches(D.hydratedAdapter,z(a),a,u)};a.within=function(a,u){return k.within(D.hydratedAdapter,z(a),a,u)};a.disjoint=function(a,u){return k.disjoint(D.hydratedAdapter,z(a),a,u)};a.overlaps=function(a,u){return k.overlaps(D.hydratedAdapter,
z(a),a,u)};a.relate=function(a,u,r){return k.relate(D.hydratedAdapter,z(a),a,u,r)};a.isSimple=function(a){return k.isSimple(D.hydratedAdapter,z(a),a)};a.simplify=function(a){return k.simplify(D.hydratedAdapter,z(a),a)};a.convexHull=function(a,u){void 0===u&&(u=!1);return k.convexHull(D.hydratedAdapter,z(a),a,u)};a.difference=function(a,u){return k.difference(D.hydratedAdapter,z(a),a,u)};a.symmetricDifference=function(a,u){return k.symmetricDifference(D.hydratedAdapter,z(a),a,u)};a.intersect=function(a,
u){return k.intersect(D.hydratedAdapter,z(a),a,u)};a.union=function(a,u){void 0===u&&(u=null);return k.union(D.hydratedAdapter,z(a),a,u)};a.offset=function(a,u,r,x,p,f){return k.offset(D.hydratedAdapter,z(a),a,u,r,x,p,f)};a.buffer=function(a,u,r,x){void 0===x&&(x=!1);return k.buffer(D.hydratedAdapter,z(a),a,u,r,x)};a.geodesicBuffer=function(a,u,r,x,p,f){return k.geodesicBuffer(D.hydratedAdapter,z(a),a,u,r,x,p,f)};a.nearestCoordinate=function(a,u,r){void 0===r&&(r=!0);return k.nearestCoordinate(D.hydratedAdapter,
z(a),a,u,r)};a.nearestVertex=function(a,u){return k.nearestVertex(D.hydratedAdapter,z(a),a,u)};a.nearestVertices=function(a,u,r,x){return k.nearestVertices(D.hydratedAdapter,z(a),a,u,r,x)};a.rotate=function(a,v,r){if(null==a)throw Error("Illegal Argument Exception");var t=a.spatialReference;r=null!==r&&void 0!==r?r:u(a);if(null==r)throw Error("Illegal Argument Exception");a=a.constructor.fromJSON(k.rotate(a,v,r));a.spatialReference=t;return a};a.flipHorizontal=function(a,v){if(null==a)throw Error("Illegal Argument Exception");
var t=a.spatialReference;v=null!==v&&void 0!==v?v:u(a);if(null==v)throw Error("Illegal Argument Exception");a=a.constructor.fromJSON(k.flipHorizontal(a,v));a.spatialReference=t;return a};a.flipVertical=function(a,v){if(null==a)throw Error("Illegal Argument Exception");var t=a.spatialReference;v=null!==v&&void 0!==v?v:u(a);if(null==v)throw Error("Illegal Argument Exception");a=a.constructor.fromJSON(k.flipVertical(a,v));a.spatialReference=t;return a};a.generalize=function(a,u,r,x){return k.generalize(D.hydratedAdapter,
z(a),a,u,r,x)};a.densify=function(a,u,r){return k.densify(D.hydratedAdapter,z(a),a,u,r)};a.geodesicDensify=function(a,u,r,x){void 0===x&&(x=0);return k.geodesicDensify(D.hydratedAdapter,z(a),a,u,r,x)};a.planarArea=function(a,u){return k.planarArea(D.hydratedAdapter,z(a),a,u)};a.planarLength=function(a,u){return k.planarLength(D.hydratedAdapter,z(a),a,u)};a.geodesicArea=function(a,u,r){return k.geodesicArea(D.hydratedAdapter,z(a),a,u,r)};a.geodesicLength=function(a,u,r){return k.geodesicLength(D.hydratedAdapter,
z(a),a,u,r)}})},"esri/geometry/geometryEngineBase":function(){define(["require","exports"],function(){function E(a){if("number"===typeof a)return y.$c.vh(a);if(null==a)return null;if(null!=ta[a])return y.$c.vh(ta[a]);throw Error("Unrecognised Unit Type");}function a(a){if("number"===typeof a)return y.$c.vh(a);if(null==a)return null;if(null!=ua[a])return y.$c.vh(ua[a]);throw Error("Unrecognised Unit Type");}function k(a){if(a)switch(a){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;
case "shape-preserving":return 4}return 0}function D(a,e,f,c){if(null==f||f.u())return null;switch(f.G()){case y.po.Point:return a.exportPoint(e,f,c);case y.po.Polygon:return a.exportPolygon(e,f,c);case y.po.Polyline:return a.exportPolyline(e,f,c);case y.po.MultiPoint:return a.exportMultipoint(e,f,c);case y.po.Envelope:return a.exportExtent(e,f,c)}return null}function z(a,e,f,c){if(f.G()!==y.po.Point)throw Error("Geometry not Point");return a.exportPoint(e,f,c)}function u(a){var g=a.wkid;a=a.wkt;
var e=sa.get(g||a);null==e&&(-1!==g&&null!=g?(e=y.ve.create(g),sa.set(g,e)):a&&(e=y.ve.MQ(a),sa.set(a,e)));return e}function t(a){var g;if(null==a)return null;var e=u(a);a=e.Td();e=e.Ho();return g={},g.tolerance=e,g.unitType=null==a?-1:a.sd,g.unitID=null==a?-1:a.Bc(),g.unitBaseFactor=null==a?0:a.Bi,g.unitSquareDerivative=null==a?0:y.$c.cH(a).Bc(),g}function v(a,e,f,c){if(null==f)return null;f=y.gc.clip(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e));return D(a,K,f,e)}function r(a,e,f,
c){f=y.gc.Ml(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e));c=[];for(var b=0;b<f.length;b++)c.push(D(a,K,f[b],e));return c}function x(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.contains(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function p(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.VQ(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function f(a,e,f,c,b){if(null==f||null==c)throw Error("Illegal Argument Exception");
return y.gc.Cb(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e),E(b))}function l(a,e,f,c){return null==f&&null!=c||null==c&&null!=f?!1:y.gc.Eb(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function A(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.pU(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function e(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.touches(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,
c),u(e))}function n(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.WY(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function B(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.mR(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function G(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");return y.gc.TV(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e))}function N(a,e,f,c,b){if(null==
f||null==c)throw Error("Illegal Argument Exception");return y.gc.aC(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e),b)}function P(a,e,f){if(null==f)throw Error("Illegal Argument Exception");return y.gc.AU(a.convertToGEGeometry(K,f),u(e))}function R(a,e,f){if(null==f)throw Error("Illegal Argument Exception");f=y.gc.FC(a.convertToGEGeometry(K,f),u(e));return D(a,K,f,e)}function L(a,e,f,c){void 0===c&&(c=!1);if(null==f)throw Error("Illegal Argument Exception");if(Array.isArray(f)){var b=c,
d=[];for(c=0;c<f.length;c++)d.push(a.convertToGEGeometry(K,f[c]));f=y.gc.GQ(d,b);b=Array(f.length);for(c=0;c<f.length;c++)b[c]=D(a,K,f[c],e);return b}c=y.gc.FQ(a.convertToGEGeometry(K,f),u(e));return D(a,K,c,e)}function M(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(f)){for(var b=[],d=0;d<f.length;d++)b.push(a.convertToGEGeometry(K,f[d]));f=y.gc.jR(b,a.convertToGEGeometry(K,c),u(e));c=Array(f.length);for(d=0;d<f.length;d++)c[d]=D(a,K,f[d],e);return c}d=y.gc.an(a.convertToGEGeometry(K,
f),a.convertToGEGeometry(K,c),u(e));return D(a,K,d,e)}function I(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(f)){for(var b=[],d=0;d<f.length;d++)b.push(a.convertToGEGeometry(K,f[d]));f=y.gc.sY(b,a.convertToGEGeometry(K,c),u(e));c=Array(f.length);for(d=0;d<f.length;d++)c[d]=D(a,K,f[d],e);return c}d=y.gc.Wp(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e));return D(a,K,d,e)}function O(a,e,f,c){if(null==f||null==c)throw Error("Illegal Argument Exception");
if(Array.isArray(f)){for(var b=[],d=0;d<f.length;d++)b.push(a.convertToGEGeometry(K,f[d]));f=y.gc.nU(b,a.convertToGEGeometry(K,c),u(e));c=Array(f.length);for(d=0;d<f.length;d++)c[d]=D(a,K,f[d],e);return c}d=y.gc.Ma(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),u(e));return D(a,K,d,e)}function ea(a,e,f,c){if(null==f)return null;var b=[];if(Array.isArray(f)){if(0===f.length)return null;for(c=0;c<f.length;c++)b.push(a.convertToGEGeometry(K,f[c]))}else b.push(a.convertToGEGeometry(K,f)),null!=
c&&b.push(a.convertToGEGeometry(K,c));return D(a,K,y.gc.LY(b,u(e)),e)}function T(a,e,f,c,b,d,h,m){var q=0;if(null!=d)switch(d){case "round":q=0;break;case "bevel":q=1;break;case "miter":q=2;break;case "square":q=3}if(Array.isArray(f)){if(null==f)a=null;else if(0===f.length)a=[];else{var g=[];for(d=0;d<f.length;d++)g.push(a.convertToGEGeometry(K,f[d]));f=y.gc.RV(g,u(e),c,q,h,m,E(b));c=Array(f.length);for(d=0;d<f.length;d++)c[d]=D(a,K,f[d],e);a=c}return a}f=y.gc.offset(a.convertToGEGeometry(K,f),u(e),
c,q,h,m,E(b));return D(a,K,f,e)}function ba(a,e,f,c,b,d){void 0===d&&(d=!1);if(Array.isArray(f)){if(!Array.isArray(c)){for(var h=[],m=0;m<f.length;m++)h.push(c);c=h}if(c.length!=f.length){if(0==c.length)throw Error("Illegal Argument Exception");for(var h=[],q=0,m=0;m<f.length;m++)void 0===c[m]?h.push(q):(h.push(c[m]),q=c[m]);c=h}return ha(a,e,f,c,b,!1,d,"geodesic",NaN)}f=y.gc.buffer(a.convertToGEGeometry(K,f),u(e),c,E(b),!1,0,NaN);return D(a,K,f,e)}function V(a,e,f,c,b,d,h,m){if(Array.isArray(f)){if(!Array.isArray(c)){for(var q=
[],g=0;g<f.length;g++)q.push(c);c=q}if(c.length!==f.length){if(0===c.length)throw Error("Illegal Argument Exception");for(var q=[],F=0,g=0;g<f.length;g++)void 0===c[g]?q.push(F):(q.push(c[g]),F=c[g]);c=q}return ha(a,e,f,c,b,!0,d,h,m)}void 0===h&&(h=NaN);f=y.gc.buffer(a.convertToGEGeometry(K,f),u(e),c,E(b),!0,k(d),h);return D(a,K,f,e)}function ha(a,e,f,c,b,d,h,m,q){void 0===q&&(q=NaN);if(null==f)return null;if(0===f.length)return[];for(var g=[],F=0;F<f.length;F++)g.push(a.convertToGEGeometry(K,f[F]));
f=y.gc.mP(g,u(e),c,E(b),d,h,k(m),q);c=Array(f.length);for(F=0;F<f.length;F++)c[F]=D(a,K,f[F],e);return c}function Q(a,e,f,c,b){var d;void 0===b&&(b=!0);f=y.gc.bA(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),b);return d={},d.coordinate=z(a,K,f.Qz(),e),d.distance=f.Tz(),d.isRightSide=f.CA(),d.vertexIndex=f.Za(),d.isEmpty=f.u(),d}function S(a,e,f,c){var b;f=y.gc.cA(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c));return b={},b.coordinate=z(a,K,f.Qz(),e),b.distance=f.Tz(),b.isRightSide=
f.CA(),b.vertexIndex=f.Za(),b.isEmpty=f.u(),b}function aa(a,e,f,c,b,d){var h;f=y.gc.dA(a.convertToGEGeometry(K,f),a.convertToGEGeometry(K,c),b,d);c=[];for(b=0;b<f.length;b++)!1===f[b].u()&&c.push((h={},h.coordinate=z(a,K,f[b].Qz(),e),h.distance=f[b].Tz(),h.isRightSide=f[b].CA(),h.vertexIndex=f[b].Za(),h.isEmpty=f[b].u(),h));return c}function W(a,e,f,c,b,d){f=y.gc.gS(a.convertToGEGeometry(K,f),u(e),c,b,E(d));return D(a,K,f,e)}function Z(a,e,f,c,b){f=y.gc.Js(a.convertToGEGeometry(K,f),u(e),c,E(b));
return D(a,K,f,e)}function ka(a,e,f,c,b,d){void 0===d&&(d=0);f=y.gc.Hz(a.convertToGEGeometry(K,f),u(e),c,E(b),d);return D(a,K,f,e)}function ca(g,e,f,c){if(null==f)throw Error("Illegal Argument Exception");return y.gc.aW(g.convertToGEGeometry(K,f),u(e),a(c))}function la(a,e,f,c){if(null==f)throw Error("Illegal Argument Exception");return y.gc.bW(a.convertToGEGeometry(K,f),u(e),E(c))}function ra(g,e,f,c,b){if(null==f)throw Error("Illegal Argument Exception");return y.gc.mS(g.convertToGEGeometry(K,f),
u(e),a(c),k(b))}function va(a,e,f,c,b){if(null==f)throw Error("Illegal Argument Exception");return y.gc.qS(a.convertToGEGeometry(K,f),u(e),E(c),k(b))}function xa(a){y.dN.bind(a)}function ia(a,e,f,c,b){var d=null,h=null;if(c){if(!b)throw y.g.F("AOI missing Spatial Reference");d=a.convertToGEGeometry(K,c);h=u(b).Bh()}a=y.Su.rT(u(e).Bh(),u(f).Bh(),d,h);return null!==a?a:null}function wa(a,e,f,c,b){var d=null,h=null;if(c){if(!b)throw y.g.F("AOI missing Spatial Reference");d=a.convertToGEGeometry(K,c);
h=u(b).Bh()}return y.Su.sT(u(e).Bh(),u(f).Bh(),d,h)}function ya(a,e,f,c,b){void 0===b&&(b=null);if(!1===this.VZ)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(b){var d=b.getCachedGeTransformation(f,c);if(!d)a:{d=b;b=null;if(d){var h=d.getGTListEntry();if(null!==h){b=new y.ky(null);for(var m=0,q=h.steps;m<q.length;m++){var h=q[m],g=new y.oo(h.geogtran);h.isInverse&&g.mt();b.add(g)}b=y.rs.Gs(u(f).Bh(),u(c).Bh(),b);d.assignCachedGe(f,c,b);d=b;break a}}if(null===
b&&d&&d.steps&&0<d.steps.length){b=new y.ky(null);m=0;for(q=d.steps;m<q.length;m++)h=q[m],-1!=h.wkid&&null!=h.wkid?b.add(y.oo.create(h.wkid,h.isInverse)):b.add(y.oo.eG(h.wkt,h.isInverse));b=y.rs.Gs(u(f).Bh(),u(c).Bh(),b);d.assignCachedGe(f,c,b);d=b}else d=y.rs.Gs(u(f).Bh(),u(c).Bh(),b)}}else d=y.rs.Gs(u(f).Bh(),u(c).Bh(),null);f=[];for(h=0;h<e.length;h++)b=e[h],f.push(za(a,b,c,d));return f}function za(a,e,f,c){e=y.gc.Vg(a.convertToGEGeometry(K,e),c);return D(a,K,e,f)}var ga,Y=this&&this.__extends||
function(){function a(g,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(g,e)}return function(g,e){function c(){this.constructor=g}a(g,e);g.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),y;(function(a){var g=function(){function a(){}a.Gm=!1;a.jw=!1;a.yz="";return a}();a.Yh=g;if("undefined"!==typeof window)a.Yh.yz="browser","Float64Array"in window&&(a.Yh.jw=!0),
"ArrayBuffer"in window&&(a.Yh.Gm=!0);else if("undefined"!==typeof process)g.yz="node",a.Yh.Gm=!0,a.Yh.jw=!0;else{g.yz="browser";try{var e=new ArrayBuffer(0);new Uint8Array(e);a.Yh.Gm=!0;a.Yh.jw=!0}catch(c){a.Yh.Gm=!1}}})(y||(y={}));(function(a){(function(a){a[a.Unknown=0]="Unknown";a[a.Point=33]="Point";a[a.Line=322]="Line";a[a.Envelope=197]="Envelope";a[a.MultiPoint=550]="MultiPoint";a[a.Polyline=1607]="Polyline";a[a.Polygon=1736]="Polygon"})(a.po||(a.po={}));(function(a){a[a.enumMild=0]="enumMild";
a[a.enumMedium=1]="enumMedium";a[a.enumHot=2]="enumHot"})(a.eM||(a.eM={}));var g=function(){function g(){this.description=null;this.EB=0}g.prototype.G=function(){return 0};g.prototype.ub=function(){return-1};g.prototype.Eg=function(a){this.zc();a!=this.description&&this.to(a)};g.prototype.to=function(){};g.prototype.tm=function(c){this.zc();c!=this.description&&(c=a.we.WS(this.description,c),c!=this.description&&this.to(c))};g.prototype.hasAttribute=function(a){return this.description.hasAttribute(a)};
g.prototype.Rd=function(c){this.zc();this.description.hasAttribute(c)||(c=a.we.VS(this.description,c),this.to(c))};g.prototype.hg=function(){return null};g.prototype.Wn=function(){};g.prototype.s=function(){};g.prototype.Jp=function(){};g.prototype.ac=function(a){this.s(a)};g.prototype.u=function(){return!0};g.prototype.Oa=function(){};g.prototype.Vc=function(){};g.prototype.Ka=function(){return null};g.prototype.copyTo=function(){};g.prototype.ef=function(){return 0};g.prototype.Rb=function(){return 0};
g.prototype.kH=function(){return this.hasAttribute(1)};g.hf=function(a){return((a&192)>>6)+1>>1};g.Po=function(a){return 0!=(a&32)};g.g_=function(a){return 0!=(a&64)};g.qU=function(a){return 0!=(a&128)};g.Nc=function(a){return 0!=(a&256)};g.fh=function(a){return 0!=(a&512)};g.Hc=function(a){return 0!=(a&1024)};g.prototype.Sf=function(){var a=this.Ka();this.copyTo(a);return a};g.prototype.Fg=function(){return null};g.me=function(a){var b=a.Ka();a.copyTo(b);return b};g.prototype.zc=function(){0<=this.EB&&
(this.EB+=2147483649)};g.gy=function(c){var b=c.G();if(g.fh(b))return c.D();if(c.u())return 0;if(197==b)return 4;if(33==b)return 1;if(g.Nc(b))return 2;throw a.g.X("missing type");};return g}();a.T=g})(y||(y={}));(function(a){var g=function(){function g(){this.y=this.x=0}g.pa=function(a,b){var d=new g;d.x=a;d.y=b;return d};g.Jl=function(a){var b=new g;b.x=a.x;b.y=a.y;return b};g.prototype.ja=function(a,b){this.x=a;this.y=b};g.prototype.L=function(a){this.x=a.x;this.y=a.y};g.prototype.Uq=function(a,
b){return this.x===a&&this.y===b};g.prototype.zA=function(a){return 2.220446049250313E-16>=Math.abs(this.x-a.x)&&2.220446049250313E-16>=Math.abs(this.y-a.y)};g.prototype.vb=function(a){return this.x===a.x&&this.y===a.y};g.prototype.Eb=function(a){return a==this?!0:a instanceof g?this.x==a.x&&this.y==a.y:!1};g.prototype.sub=function(a){this.x-=a.x;this.y-=a.y};g.prototype.xc=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y};g.prototype.add=function(a,b){void 0!==b?(this.x=a.x+b.x,this.y=a.y+b.y):(this.x+=
a.x,this.y+=a.y)};g.prototype.Kr=function(){this.x=-this.x;this.y=-this.y};g.prototype.du=function(a){this.x=-a.x;this.y=-a.y};g.prototype.kU=function(a,b,d){this.x=a.x*(1-d)+b.x*d;this.y=a.y*(1-d)+b.y*d};g.prototype.tu=function(a,b){this.x=this.x*a+b.x;this.y=this.y*a+b.y};g.prototype.iX=function(a,b,d){this.x=b.x*a+d.x;this.y=b.y*a+d.y};g.prototype.scale=function(a){this.x*=a;this.y*=a};g.prototype.compare=function(a){return this.y<a.y?-1:this.y>a.y?1:this.x<a.x?-1:this.x>a.x?1:0};g.prototype.normalize=
function(){var a=this.length();0==a&&(this.x=1,this.y=0);this.x/=a;this.y/=a};g.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.uk=function(){return this.x*this.x+this.y*this.y};g.Cb=function(a,b){return Math.sqrt(this.sc(a,b))};g.wz=function(a,b,d,h){a-=d;b-=h;return Math.sqrt(a*a+b*b)};g.prototype.pi=function(a){return this.x*a.x+this.y*a.y};g.prototype.CE=function(a){return Math.abs(this.x*a.x)+Math.abs(this.y*a.y)};g.prototype.Vi=function(a){return this.x*
a.y-this.y*a.x};g.prototype.su=function(a,b){var d=-this.x*b+this.y*a;this.x=this.x*a+this.y*b;this.y=d};g.prototype.uw=function(){var a=this.x;this.x=-this.y;this.y=a};g.prototype.OH=function(a){this.x=-a.y;this.y=a.x};g.prototype.Tr=function(){var a=this.x;this.x=this.y;this.y=-a};g.prototype.iv=function(){this.y=this.x=NaN};g.prototype.Dy=function(){return isNaN(this.x)};g.prototype.ev=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};g.ts=function(a,b){var d=a.ev(),h=b.ev();return h==
d?(d=a.Vi(b),0>d?1:0<d?-1:0):d<h?-1:1};g.LZ=function(a,b){return g.ts(a,b)};g.sc=function(a,b){var d=a.x-b.x;a=a.y-b.y;return d*d+a*a};g.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};g.prototype.Yc=function(){this.y=this.x=NaN};g.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};g.prototype.nO=function(){return this.Dy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};g.prototype.offset=function(a,b){var d=g.Cb(a,b),h=g.pa(this.x,this.y);
if(0==d)return g.Cb(h,a);var c=new g;c.L(b);c.sub(a);h.sub(a);return h.Vi(c)/d};g.Gp=function(c,b,d){var h=new a.Xb;h.set(b.x);h.sub(c.x);var m=new a.Xb;m.set(d.y);m.sub(c.y);var q=new a.Xb;q.set(b.y);q.sub(c.y);var g=new a.Xb;g.set(d.x);g.sub(c.x);h.Tg(m);q.Tg(g);h.sub(q);if(!h.nt())return d=h.value(),0>d?-1:0<d?1:0;h=new a.$p(b.x);m=new a.$p(c.x);q=new a.$p(c.y);h=h.au(m);c=new a.$p(d.y);c=c.au(q);b=new a.$p(b.y);b=b.au(q);d=new a.$p(d.x);d=d.au(m);h=h.cs(c);b=b.cs(d);h=h.cs(b);return h.SU()?-1:
h.BT()?1:0};g.prototype.kc=function(){return a.J.$i(a.J.$i())};return g}();a.b=g})(y||(y={}));(function(a){var g=function(){function a(a){this.iz=this.Cu=0;this.lY=a}a.prototype.reset=function(){this.iz=this.Cu=0};a.prototype.add=function(a){a-=this.iz;var b=this.Cu+a;this.iz=b-this.Cu-a;this.Cu=b};a.prototype.sub=function(a){this.add(-a)};a.prototype.ln=function(){return this.lY+this.Cu};return a}();a.ny=g;g=function(){function a(){}a.Kl=function(a,b){return 0<=b?Math.abs(a):-Math.abs(a)};a.sign=
function(a){return 0>a?-1:0<a?1:0};a.TL=function(a){return a-360*Math.floor(a/360)};a.round=function(a){return Math.floor(a+.5)};a.Yx=function(a){return a*a};a.Xq=function(a,b,d){var h;.5>=d?h=a+(b-a)*d:h=b-(b-a)*(1-d);return h};a.QH=function(a,b,d,h){.5>=d?(h.x=a.x+(b.x-a.x)*d,h.y=a.y+(b.y-a.y)*d):(h.x=b.x-(b.x-a.x)*(1-d),h.y=b.y-(b.y-a.y)*(1-d))};a.QU=function(a,b,d,h,m,q){.5>=m?(q.x=a+(d-a)*m,q.y=b+(h-b)*m):(q.x=d-(d-a)*(1-m),q.y=h-(h-b)*(1-m))};return a}();a.Ub=g})(y||(y={}));(function(a){var g=
function(g){function c(){var b=g.call(this)||this;b.ua=0;b.ra=0;b.sa=0;b.oa=0;b.ka=null;return b}Y(c,g);c.prototype.ec=function(){return a.b.pa(this.ua,this.ra)};c.prototype.Oq=function(b){b.x=this.ua;b.y=this.ra};c.prototype.Lc=function(b){this.Wm(0,b)};c.prototype.zC=function(b,d){this.Wm(0,a.b.pa(b,d))};c.prototype.Kp=function(b){this.EE(0,b)};c.prototype.setStart=function(b){this.NE(0,b)};c.prototype.bt=function(b,d){return this.Zd(0,b,d)};c.prototype.Tx=function(b,d,a){this.vo(0,b,d,a)};c.prototype.Ac=
function(){return a.b.pa(this.sa,this.oa)};c.prototype.Ns=function(b){b.x=this.sa;b.y=this.oa};c.prototype.Xc=function(b){this.Wm(1,b)};c.prototype.Am=function(b,d){this.Wm(1,a.b.pa(b,d))};c.prototype.Ip=function(b){this.EE(1,b)};c.prototype.setEnd=function(b){this.NE(1,b)};c.prototype.Ms=function(b,d){return this.Zd(1,b,d)};c.prototype.Lx=function(b,d,a){this.vo(1,b,d,a)};c.prototype.ub=function(){return 1};c.prototype.u=function(){return this.Gc()};c.prototype.Oa=function(){};c.prototype.ef=function(){return 0};
c.prototype.Ma=function(b,d,a,c,q){return this.kO(b,d,a,c,q)};c.prototype.Yb=function(b,d){return 0!=this.ws(b,d,!1)};c.prototype.ot=function(b,d){return this.fv(b,d,!1)};c.prototype.fv=function(){return null};c.prototype.Gc=function(){return!1};c.prototype.Fy=function(b){this.zc();if(null==this.ka&&0<b)this.ka=a.J.df(2*b);else if(null!=this.ka&&this.ka.length<2*b){for(var d=this.ka.slice(0),h=this.ka.length;h<2*b;h++)d[h]=0;this.ka=d}};c.Dj=function(b,d,a){if(0<a)var h=0;for(var c=0;c<a;c++)d[0+
h]=b[0],h++};c.prototype.Wm=function(b,d){0!=b?(this.sa=d.x,this.oa=d.y):(this.ua=d.x,this.ra=d.y)};c.prototype.to=function(b){if(null!=this.ka){for(var d=a.we.vx(b,this.description),h=[],m=c.tb(this.description,0),q=c.tb(this.description,1),g=c.tb(b,0),F=c.tb(b,1),e=0,f=1,k=b.Ga;f<k;f++){var w=b.pd(f),l=a.ma.Xa(w);if(-1==d[f])for(var n=a.ma.be(w),w=0;w<l;w++)h[g+e]=n,h[F+e]=n,e++;else for(n=this.description.zk(d[f])-2,w=0;w<l;w++)h[g+e]=this.ka[m+n],h[F+e]=this.ka[q+n],e++,n++}this.ka=h}this.description=
b};c.prototype.EE=function(b,d){if(this.Gc())throw a.g.X("empty geometry");d.Eg(this.description);d.Gc()&&d.nq();for(var h=0;h<this.description.Ga;h++)for(var c=this.description.Qd(h),q=0,g=a.ma.Xa(c);q<g;q++){var F=this.Zd(b,c,q);d.setAttribute(c,q,F)}};c.prototype.NE=function(b,d){this.zc();if(d.Gc())throw a.g.X("empty geometry");for(var h=d.description,c=0,q=h.Ga;c<q;c++)for(var g=h.Qd(c),F=a.ma.Xa(g),e=0;e<F;e++){var f=d.Wc(g,e);this.vo(b,g,e,f)}};c.prototype.Zd=function(b,d,h){if(this.Gc())throw a.g.X("This operation was performed on an Empty Geometry.");
if(0==d)return 0!=b?0!=h?this.oa:this.sa:0!=h?this.ra:this.ua;if(h>=a.ma.Xa(d))throw a.g.vd();var m=this.description.lg(d);return 0<=m?(null!=this.ka&&this.Fy(this.description.Ye.length-2),this.ka[c.tb(this.description,b)+this.description.zk(m)-2+h]):a.ma.be(d)};c.prototype.vo=function(b,d,h,m){this.zc();if(h>=a.ma.Xa(d))throw a.g.vd();var q=this.description.lg(d);0>q&&(this.Rd(d),q=this.description.lg(d));0==d?0!=b?0!=h?this.oa=m:this.sa=m:0!=h?this.ra=m:this.ua=m:(null==this.ka&&this.Fy(this.description.Ye.length-
2),this.ka[c.tb(this.description,b)+this.description.zk(q)-2+h]=m)};c.prototype.copyTo=function(b){if(b.G()!=this.G())throw a.g.F();b.description=this.description;b.Fy(this.description.Ye.length-2);c.Dj(this.ka,b.ka,2*(this.description.Ye.length-2));b.ua=this.ua;b.ra=this.ra;b.sa=this.sa;b.oa=this.oa;b.zc();this.iq(b)};c.prototype.hg=function(b,d){var h=new a.yc;if(this.Gc())return h.Oa(),h;h.ga=this.Zd(0,b,d);h.la=h.ga;h.ol(this.Zd(1,b,d));return h};c.prototype.GJ=function(b){this.Gc()?b.Oa():(b.ga=
this.Zd(0,0,0),b.la=b.ga,b.ol(this.Zd(1,0,0)))};c.prototype.Fx=function(b,d){d.Eg(this.description);d.rb(this.hc(b));for(var h=1,c=this.description.Ga;h<c;h++)for(var q=this.description.Qd(h),g=a.ma.Xa(q),F=0;F<g;F++){var e=this.Wc(b,q,F);d.setAttribute(q,F,e)}};c.prototype.hO=function(b){if(this.description!=b.description||this.ua!=b.ua||this.sa!=b.sa||this.ra!=b.ra||this.oa!=b.oa)return!1;for(var d=0;d<2*(this.description.Ye.length-2);d++)if(this.ka[d]!=b.ka[d])return!1;return!0};c.prototype.CH=
function(){return this.ua==this.sa&&this.ra==this.oa};c.prototype.reverse=function(){var b=this.ua;this.ua=this.sa;this.sa=b;b=this.ra;this.ra=this.oa;this.oa=b;for(var b=1,d=this.description.Ga;b<d;b++)for(var h=this.description.pd(b),c=0,q=a.ma.Xa(h);c<q;c++){var g=this.Zd(0,h,c),F=this.Zd(1,h,c);this.vo(0,h,c,F);this.vo(1,h,c,g)}};c.prototype.ws=function(b,d,h){var c=b.G();switch(this.G()){case 322:if(322==c)return a.Hb.lO(this,b,d,h);throw a.g.za();default:throw a.g.za();}};c.prototype.kO=function(b,
d,h,c,q){var m=b.G();switch(this.G()){case 322:if(322==m)return a.Hb.Cy(this,b,d,h,c,q);throw a.g.za();default:throw a.g.za();}};c.prototype.yy=function(){return null};c.tb=function(b,d){return d*(b.Ye.length-2)};c.prototype.hc=function(b,d){if(void 0===d)return d=new a.b,this.hc(b,d),d;a.Ub.QU(this.ua,this.ra,this.sa,this.oa,b,d)};c.prototype.ne=function(){return null};c.prototype.hH=function(){return null};c.prototype.Tq=function(){return null};c.prototype.eh=function(){return null};c.prototype.Mo=
function(){return null};c.prototype.Dg=function(){return null};c.prototype.zy=function(b,d){return void 0!==d?this.cy(d)-this.cy(b):this.cy(b)};c.prototype.iq=function(){};c.prototype.Ml=function(){return null};c.prototype.yh=function(){};c.prototype.Wc=function(){return null};c.prototype.kf=function(){return null};c.prototype.cy=function(){return null};c.prototype.PH=function(){return null};c.prototype.Cb=function(b,d){if(!d&&0!=this.ws(b,0,!1))return 0;d=1.7976931348623157E308;var a,c;a=this.ec();
c=b.ne(a,!1);a.sub(b.hc(c));a=a.length();a<d&&(d=a);a=this.Ac();c=b.ne(a,!1);a.sub(b.hc(c));a=a.length();a<d&&(d=a);a=b.ec();c=this.ne(a,!1);a.sub(this.hc(c));a=a.length();a<d&&(d=a);a=b.Ac();c=this.ne(a,!1);a.sub(this.hc(c));a=a.length();a<d&&(d=a);return d};c.prototype.Fg=function(){return a.Pi.Xm(this,null)};return c}(a.T);a.iE=g})(y||(y={}));new y.b;(function(a){(function(a){a[a.Unknown=-1]="Unknown";a[a.Not=0]="Not";a[a.Weak=1]="Weak";a[a.Strong=2]="Strong"})(a.gM||(a.gM={}));(function(a){a[a.DirtyIsKnownSimple=
1]="DirtyIsKnownSimple";a[a.IsWeakSimple=2]="IsWeakSimple";a[a.IsStrongSimple=4]="IsStrongSimple";a[a.DirtyOGCFlags=8]="DirtyOGCFlags";a[a.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";a[a.DirtyExactIntervals=64]="DirtyExactIntervals";a[a.DirtyLooseIntervals=128]="DirtyLooseIntervals";a[a.DirtyIntervals=192]="DirtyIntervals";a[a.DirtyIsEnvelope=256]="DirtyIsEnvelope";a[a.DirtyLength2D=512]="DirtyLength2D";a[a.DirtyRingAreas2D=1024]="DirtyRingAreas2D";a[a.DirtyCoordinates=1993]="DirtyCoordinates";
a[a.DirtyAllInternal=65535]="DirtyAllInternal";a[a.DirtyAll=16777215]="DirtyAll"})(a.NL||(a.NL={}));var g=function(g){function c(){var b=g.call(this)||this;b.zn=65535;b.qa=0;b.kh=-1;b.ob=null;return b}Y(c,g);c.prototype.iq=function(){};c.prototype.Ey=function(){};c.prototype.My=function(){};c.prototype.D=function(){return this.qa};c.prototype.u=function(){return this.Gc()};c.prototype.Gc=function(){return 0==this.qa};c.prototype.Ak=function(b){return 0!=(this.zn&b)};c.prototype.kg=function(b,d){this.zn=
d?this.zn|b:this.zn&~b};c.prototype.vc=function(){this.Ak(32)&&this.vO()};c.prototype.Eu=function(){if(this.Gc())throw a.g.X("This operation was performed on an Empty Geometry.");};c.prototype.xe=function(b,d){if(0>b||b>=this.qa)throw a.g.X("index out of bounds");this.vc();d.Eg(this.description);d.u()&&d.nq();for(var h=0;h<this.description.Ga;h++)for(var c=this.description.Qd(h),q=0,g=a.ma.Xa(c);q<g;q++){var F=this.ya[h].Lf(g*b+q);d.setAttribute(c,q,F)}};c.prototype.xu=function(b,d){this.vc();for(var h=
d.description,c=0;c<h.Ga;c++)for(var q=h.Qd(c),g=a.ma.Xa(q),F=0;F<g;F++){var e=d.Wc(q,F);this.setAttribute(q,b,F,e)}};c.prototype.w=function(b,d){if(0>b||b>=this.D())throw a.g.vd();this.vc();this.ya[0].fc(2*b,d)};c.prototype.Ba=function(b){var d=new a.b;this.w(b,d);return d};c.prototype.Mc=function(b,d){this.ya[0].fc(2*b,d)};c.prototype.rb=function(b,d,h){if(0>b||b>=this.qa)throw a.g.vd();this.vc();var c=this.ya[0];void 0!==h?(c.write(2*b,d),c.write(2*b+1,h)):c.mo(2*b,d);this.Cc(1993)};c.prototype.oA=
function(b){if(0>b||b>=this.D())throw a.g.vd();this.vc();var d=this.ya[0],h=new a.od;h.x=d.read(2*b);h.y=d.read(2*b+1);h.z=this.hasAttribute(1)?this.ya[1].Lf(b):a.ma.be(1);return h};c.prototype.EC=function(b,d){if(0>b||b>=this.D())throw a.g.vd();this.Rd(1);this.vc();this.Cc(1993);var h=this.ya[0];h.write(2*b,d.x);h.write(2*b+1,d.y);this.ya[1].Im(b,d.z)};c.prototype.Wc=function(b,d,h){if(0>d||d>=this.qa)throw a.g.vd();var c=a.ma.Xa(b);if(h>=c)throw a.g.vd();this.vc();var q=this.description.lg(b);return 0<=
q?this.ya[q].Lf(d*c+h):a.ma.be(b)};c.prototype.CG=function(b,d,a){return this.Wc(b,d,a)};c.prototype.setAttribute=function(b,d,h,c){if(0>d||d>=this.qa)throw a.g.vd();var m=a.ma.Xa(b);if(h>=m)throw a.g.vd();this.Rd(b);this.vc();b=this.description.lg(b);this.Cc(1993);this.ya[b].Im(d*m+h,c)};c.prototype.Qa=function(b){this.Eu();this.Rd(b);this.vc();return this.ya[this.description.lg(b)]};c.prototype.eo=function(b,d){if(null!=d&&a.ma.ti(b)!=d.ti())throw a.g.F();this.Rd(b);b=this.description.lg(b);null==
this.ya&&(this.ya=a.Tc.LB(this.description.Ga));this.ya[b]=d;this.Cc(16777215)};c.prototype.to=function(b){var d=null;if(null!=this.ya)for(var h=a.we.vx(b,this.description),d=[],c=0,q=b.Ga;c<q;c++)-1!=h[c]&&(d[c]=this.ya[h[c]]);this.description=b;this.ya=d;this.kh=-1;this.Cc(16777215)};c.prototype.SE=function(b){this.kv(!0);b instanceof a.h?this.$.s(b):this.$.Jp(b)};c.prototype.uO=function(b){this.kv(!1);b instanceof a.h?this.$.s(b):this.$.Jp(b)};c.prototype.Wn=function(b){this.kv(!0);this.$.copyTo(b)};
c.prototype.s=function(b){this.SE(b)};c.prototype.Jp=function(b){this.SE(b)};c.prototype.ac=function(b){this.uO(b)};c.prototype.hg=function(b,d){var h=new a.yc;if(this.Gc())return h.Oa(),h;this.kv(!0);return this.$.hg(b,d)};c.prototype.kc=function(){var b=this.description.kc();if(!this.Gc())for(var d=this.D(),h=0,c=this.description.Ga;h<c;h++)b=this.ya[h].Ck(b,0,d*a.ma.Xa(this.description.Qd(h)));return b};c.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof c&&this.description.Eb(b.description))||
this.Gc()!=b.Gc())return!1;if(this.Gc())return!0;var d=this.D();if(d!=b.D())return!1;for(var h=0;h<this.description.Ga;h++){var m=this.description.pd(h),q=this.Qa(m),g=b.Qa(m);if(!q.Eb(g,0,d*a.ma.Xa(m)))return!1}return!0};c.prototype.copyTo=function(b){if(b.G()!=this.G())throw a.g.F();this.BE(b)};c.prototype.BE=function(b){this.vc();b.description=this.description;b.ya=null;var d=this.description.Ga,h=null;if(null!=this.ya)for(var h=[],c=0;c<d;c++)null!=this.ya[c]&&(h[c]=this.ya[c].Sr(this.D()*a.ma.Xa(this.description.Qd(c))));
null!=this.$?(b.$=this.$.Ka(),this.$.copyTo(b.$)):b.$=null;b.qa=this.qa;b.zn=this.zn;b.ya=h;try{this.iq(b)}catch(q){throw b.Oa(),a.g.tN();}};c.prototype.PE=function(){this.qa=0;this.kh=-1;this.ya=null;this.Cc(16777215)};c.prototype.Cc=function(b){16777215==b&&(this.kh=-1,this.Ey());this.zn|=b;this.YN();this.zc()};c.prototype.kv=function(b){this.vc();if(this.Ak(192))if(null==this.$?this.$=new a.di(this.description):this.$.Eg(this.description),this.u())this.$.Oa();else{this.Ly(b);for(var d=1;d<this.description.Ga;d++)for(var h=
this.description.Qd(d),c=a.ma.Xa(h),q=this.ya[d],g=0;g<c;g++){var F=new a.yc;F.Oa();for(var e=0;e<this.qa;e++){var f=q.Lf(e*c+g);F.Nb(f)}this.$.setInterval(h,g,F)}b&&this.kg(192,!1)}};c.prototype.Ly=function(){this.$.Oa();for(var b=this.ya[0],d=new a.b,h=0;h<this.qa;h++)b.fc(2*h,d),this.$.Nb(d)};c.prototype.Bo=function(b){b.Oa();for(var d=this.ya[0],h=new a.b,c=0;c<this.qa;c++)d.fc(2*c,h),b.Nb(h)};c.prototype.vO=function(){if(this.kh<this.qa){null==this.ya&&(this.ya=a.Tc.LB(this.description.Ga));
this.kh=2147483647;for(var b=0;b<this.description.Ga;b++){var d=this.description.Qd(b);if(null!=this.ya[b]){var h=a.ma.Xa(d),c=a.J.truncate(this.ya[b].size/h);c<this.qa&&(c=a.J.truncate(this.kh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[b].resize(c*h,a.ma.be(d)));c<this.kh&&(this.kh=c)}else this.ya[b]=a.Tc.oz(d,this.qa),this.kh=this.qa}}this.My();this.kg(32,!1)};c.prototype.El=function(b){if(0>b)throw a.g.F();b!=this.qa&&(this.qa=b,this.Cc(65535))};c.prototype.Nk=function(b){if(!this.Ak(1)){if(!this.Ak(2))return 0;
if(this.rV>=b)return this.Ak(8)?1:2}return-1};c.prototype.Xg=function(b,d){this.rV=d;if(-1==b)this.kg(1,!0),this.kg(8,!0);else if(this.kg(1,!1),this.kg(8,!0),0==b)this.kg(2,!1),this.kg(4,!1);else if(1==b)this.kg(2,!0),this.kg(4,!1);else if(2==b)this.kg(2,!0),this.kg(4,!0);else throw a.g.X("internal error.");};c.prototype.YN=function(){null!=this.ob&&(this.ob=null)};c.prototype.HE=function(b,d,h,c){if(0>b||b>=this.qa)throw a.g.X("index out of bounds");if(0>d||d>=this.qa)throw a.g.X("index out of bounds");
this.vc();c.Eg(this.description);c.u()&&c.nq();for(var m=0;m<this.description.Ga;m++)for(var g=this.description.Qd(m),F=0,e=a.ma.Xa(g);F<e;F++){var f=this.ya[m].Lf(e*b+F),k=this.ya[m].Lf(e*d+F);c.setAttribute(g,F,a.Ub.Xq(f,k,h))}};c.prototype.vs=function(b,d){var a=this.ya[0].f,c=a[2*b]-a[2*d],a=a[2*b+1]-a[2*d+1];return Math.sqrt(c*c+a*a)};c.prototype.Zh=function(b,d){if(0>b||b>=this.qa)throw a.g.vd();if(d.u())throw a.g.F();this.vc();for(var h=d.description,c=0;c<h.Ga;c++)for(var q=h.pd(c),g=a.ma.Xa(q),
F=0;F<g;F++){var e=d.Wc(q,F);this.setAttribute(q,b,F,e)}};c.prototype.bv=function(){return null};c.prototype.Kj=function(){return null};return c}(a.T);a.Ou=g})(y||(y={}));(function(a){var g=function(){function g(){this.pb=this.Uo=null;this.Mn=124234251;this.Dw=!0;this.mf=-1;this.pb=new a.Zc(7);this.Uo=null}g.prototype.Lp=function(a){this.Uo=a};g.prototype.kR=function(){this.Dw=!1};g.prototype.Ne=function(a){this.pb.Ne(a)};g.prototype.Is=function(a){var b=this.pb.Me();this.RX(b);this.UX(a,b);return b};
g.prototype.fR=function(a){this.pb.jd(a)};g.prototype.addElement=function(a,b){var d;-1==b?(-1==this.mf&&(this.mf=this.Is(-1)),d=this.mf):d=b;return this.YE(a,0,d)};g.prototype.bF=function(a){-1==this.mf&&(this.mf=this.Is(-1));return this.YE(a,1,this.mf)};g.prototype.yo=function(a){var b;-1==this.mf&&(this.mf=this.Is(-1));b=this.mf;var d=this.pb.f;if(-1==b||-1==d[7*b])return a=this.pb.pl([-1,-1,-1,a,this.Ql(),-1,-1]),d=this.pb.f,d[7*b]=a,this.pq(-1,a,b,d),a;var h=-1==b?-1:d[7*b+2];a=this.pb.pl([-1,
-1,h,a,this.Ql(),-1,-1]);d=this.pb.f;d[7*h+1]=a;this.Sy(a,d);-1===d[7*a+2]&&(d[7*b]=a);this.pq(-1,a,b,d);return a};g.prototype.ov=function(c,b,d,h){var m=-1;-1==m&&(-1==this.mf&&(this.mf=this.Is(-1)),m=this.mf);var q=this.pb.f;if(-1==m||-1==q[7*m])return d=this.pb.pl([-1,-1,-1,d,this.Ql(),-1,-1]),q=this.pb.f,q[7*m]=d,this.pq(-1,d,m,q),d;var g;h?(h=-1!=b?this.Uo.compare(this,d,b):-1,g=-1!=c?this.Uo.compare(this,d,c):1):(h=-1,g=1);if(0==h||0==g)return q[7*m+3]=0==h?b:c,-1;(-1!=b&&-1!=c?this.Mn>a.J.KB(this.Mn)>>
1:-1!=b)?c=b:h=g;for(b=!0;;){if(0>h)if(g=q[7*c],-1!=g)c=g;else{h=c;d=this.pb.pl([-1,-1,c,d,this.Ql(),-1,-1]);q=this.pb.f;q[7*c]=d;break}else if(g=q[7*c+1],-1!=g)c=g;else{h=q[7*c+6];d=this.pb.pl([-1,-1,c,d,this.Ql(),-1,-1]);q=this.pb.f;q[7*c+1]=d;break}b&&(h*=-1,b=!1)}this.Sy(d,q);-1===q[7*d+2]&&(q[7*m]=d);this.pq(h,d,m,q);return d};g.prototype.IG=function(){return this.AS(this.mf)};g.prototype.Jd=function(a,b){b=-1==b?this.mf:b;this.Dw?this.eR(a,b):this.KY(a,b)};g.prototype.search=function(a,b){for(b=
this.fw(b);-1!=b;){var d=this.Uo.compare(this,a,b);if(0==d)return b;b=0>d?this.Ul(b):this.Nq(b)}return-1};g.prototype.lX=function(a){for(var b=this.fw(-1),d=-1;-1!=b;){var h=a.compare(this,b);if(0==h)return b;0>h?b=this.Ul(b):(d=b,b=this.Nq(b))}return d};g.prototype.$J=function(a){for(var b=this.fw(-1),d=-1;-1!=b;){var h=a.compare(this,b);if(0==h)return b;0>h?(d=b,b=this.Ul(b)):b=this.Nq(b)}return d};g.prototype.ia=function(a){return this.pb.S(a,3)};g.prototype.Ul=function(a){return this.pb.S(a,0)};
g.prototype.Nq=function(a){return this.pb.S(a,1)};g.prototype.getParent=function(a){return this.pb.S(a,2)};g.prototype.nb=function(a){return this.pb.S(a,6)};g.prototype.Se=function(a){return this.pb.S(a,5)};g.prototype.wc=function(a){return-1==a?this.Tl(this.mf):this.Tl(a)};g.prototype.Ec=function(a){return-1==a?this.Xs(this.mf):this.Xs(a)};g.prototype.tT=function(a){return-1==a?this.eH(this.mf):this.eH(a)};g.prototype.pk=function(a,b){this.qC(a,b)};g.prototype.fw=function(a){return-1==a?this.$G(this.mf):
this.$G(a)};g.prototype.clear=function(){this.pb.Wi(!1);this.mf=-1};g.prototype.size=function(a){return-1==a?this.bH(this.mf):this.bH(a)};g.prototype.kP=function(a,b){for(var d=b[7*a],h=b[7*a+1],c=b[7*a+4];-1!=d||-1!=h;){var q=-1!=d?b[7*d+4]:2147483647,h=-1!=h?b[7*h+4]:2147483647;if(c<=Math.min(q,h))break;q<=h?this.XJ(d,b):this.WJ(a,b);d=b[7*a];h=b[7*a+1]}};g.prototype.Sy=function(a,b){if(this.Dw)for(var d=b[7*a+4],h=b[7*a+2];-1!=h&&b[7*h+4]>d;)b[7*h]==a?this.XJ(a,b):this.WJ(h,b),h=b[7*a+2]};g.prototype.WJ=
function(a,b){var d=b[7*a+1],h;b[7*d+2]=b[7*a+2];b[7*a+2]=d;h=b[7*d];b[7*a+1]=h;-1!=h&&(b[7*h+2]=a);b[7*d]=a;h=b[7*d+2];-1!=h&&(b[7*h]==a?b[7*h]=d:b[7*h+1]=d)};g.prototype.XJ=function(a,b){var d=b[7*a+2],h;b[7*a+2]=b[7*d+2];b[7*d+2]=a;h=b[7*a+1];b[7*d]=h;-1!=h&&(b[7*h+2]=d);b[7*a+1]=d;h=b[7*a+2];-1!=h&&(b[7*h]===d?b[7*h]=a:b[7*h+1]=a)};g.prototype.ul=function(a,b){this.pb.R(a,2,b)};g.prototype.uC=function(a,b){this.pb.R(a,0,b)};g.prototype.yC=function(a,b){this.pb.R(a,1,b)};g.prototype.xC=function(a,
b){this.pb.R(a,5,b)};g.prototype.Qx=function(a,b){this.pb.R(a,6,b)};g.prototype.CK=function(a,b){this.pb.R(b,0,a)};g.prototype.RX=function(a){this.pb.R(a,4,0)};g.prototype.UX=function(a,b){this.pb.R(b,5,a)};g.prototype.$G=function(a){return-1==a?-1:this.pb.S(a,0)};g.prototype.Tl=function(a){return-1==a?-1:this.pb.S(a,1)};g.prototype.Xs=function(a){return-1==a?-1:this.pb.S(a,2)};g.prototype.AS=function(a){return-1==a?-1:this.pb.S(a,3)};g.prototype.bH=function(a){return-1==a?0:this.pb.S(a,4)};g.prototype.eH=
function(a){return this.pb.S(a,5)};g.prototype.Bx=function(a){return this.pb.pl([-1,-1,-1,a,this.Ql(),-1,-1])};g.prototype.Pl=function(a){-1!=a&&this.pb.jd(a)};g.prototype.Ql=function(){this.Mn=a.J.KB(this.Mn);return this.Mn&1073741823};g.prototype.YE=function(a,b,d){var h=this.pb.f;if(-1==d||-1==h[7*d])return a=this.pb.pl([-1,-1,-1,a,this.Ql(),-1,-1]),h=this.pb.f,h[7*d]=a,this.pq(-1,a,d,h),a;for(var c=-1==d?-1:h[7*d];;){var q=-1==b?1:this.Uo.compare(this,a,c);if(0>q)if(q=this.Ul(c),-1!=q)c=q;else{b=
c;a=this.pb.pl([-1,-1,c,a,this.Ql(),-1,-1]);h=this.pb.f;h[7*c]=a;break}else{if(1==b&&0==q)return h[7*d+3]=c,-1;q=h[7*c+1];if(-1!=q)c=q;else{b=h[7*c+6];a=this.pb.pl([-1,-1,c,a,this.Ql(),-1,-1]);h=this.pb.f;h[7*c+1]=a;break}}}this.Sy(a,h);-1===h[7*a+2]&&(h[7*d]=a);this.pq(b,a,d,h);return a};g.prototype.pq=function(a,b,d,h){var c;-1!=a?(c=h[7*a+5],h[7*a+5]=b):c=-1==d?-1:h[7*d+2];h[7*b+5]=c;-1!=c&&(h[7*c+6]=b);h[7*b+6]=a;a==(-1==d?-1:h[7*d+1])&&(h[7*d+1]=b);-1==a&&(h[7*d+2]=b);h[7*d+4]=(-1==d?0:h[7*d+
4])+1};g.prototype.cC=function(a,b){var d=this.pb.f,h=d[7*a+5];a=d[7*a+6];-1!=h?d[7*h+6]=a:d[7*b+1]=a;-1!=a?d[7*a+5]=h:d[7*b+2]=h;d[7*b+4]=-1===b?-1:d[7*b+4]-1};g.prototype.KY=function(c,b){this.cC(c,b);var d=this.Ul(c),h=this.Nq(c),m=this.getParent(c),q=c;if(-1!=d&&-1!=h){this.Mn=a.J.KB(this.Mn);var g;g=1073741823<this.Mn?this.nb(c):this.Se(c);var F=this.getParent(g)==c;this.pb.ay(c,g,0);this.pb.ay(c,g,1);this.pb.ay(c,g,2);-1!=m?this.Ul(m)==c?this.uC(m,g):this.yC(m,g):this.CK(g,b);F?(d==g?(this.uC(g,
c),this.ul(h,g)):h==g&&(this.yC(g,c),this.ul(d,g)),this.ul(c,g),m=g):(this.ul(d,g),this.ul(h,g),m=this.getParent(c),q=g);d=this.Ul(c);h=this.Nq(c);-1!=d&&this.ul(d,c);-1!=h&&this.ul(h,c)}d=-1!=d?d:h;-1==m?this.CK(d,b):this.Ul(m)==q?this.uC(m,d):this.yC(m,d);-1!=d&&this.ul(d,m);this.Pl(c,b)};g.prototype.eR=function(a,b){var d=this.pb.f;d[7*a+4]=2147483647;var h=-1,c=-1,q=-1===b?-1:d[7*b],g=q==a;g&&(h=d[7*q],c=d[7*q+1],-1==h&&-1==c)?(this.cC(q,b),this.Pl(q,b),d[7*b]=-1):(this.kP(a,d),q=d[7*a+2],-1!=
q&&(d[7*q]==a?d[7*q]=-1:d[7*q+1]=-1),this.cC(a,b),this.Pl(a,b),g&&(d[7*b]=-1==h||-1!=d[7*h+2]?c:h))};g.prototype.qC=function(a,b){this.pb.R(a,3,b)};return g}();a.xk=g})(y||(y={}));(function(a){var g=function(){function g(a,b){void 0!==a&&this.I(a,b)}g.prototype.I=function(a,b){this.ga=a;this.la=b;this.normalize()};g.prototype.Yb=function(a){return this.ga<=a.ga?this.la>=a.ga:a.la>=this.ga};g.prototype.move=function(a){this.u()||(this.ga+=a,this.la+=a)};g.prototype.normalize=function(){if(!isNaN(this.ga)){if(this.ga>
this.la){var a=this.ga;this.ga=this.la;this.la=a}isNaN(this.la)&&this.Oa()}};g.prototype.Oa=function(){this.la=this.ga=NaN};g.prototype.u=function(){return isNaN(this.ga)};g.prototype.Nb=function(a){"number"===typeof a?this.u()?this.la=this.ga=a:this.ol(a):a.u()||(this.u()?(this.ga=a.ga,this.la=a.la):(this.ga>a.ga&&(this.ga=a.ga),this.la<a.la&&(this.la=a.la),this.ga>this.la&&this.Oa()))};g.prototype.ol=function(a){a<this.ga?this.ga=a:a>this.la&&(this.la=a)};g.prototype.contains=function(a){return"number"===
typeof a?a>=this.ga&&a<=this.la:a.ga>=this.ga&&a.la<=this.la};g.prototype.Ma=function(a){this.u()||a.u()?this.Oa():(this.ga<a.ga&&(this.ga=a.ga),this.la>a.la&&(this.la=a.la),this.ga>this.la&&this.Oa())};g.prototype.P=function(a){this.u()||(this.ga-=a,this.la+=a,this.la<this.ga&&this.Oa())};g.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ga)+Math.abs(this.la)+1)};g.prototype.nC=function(a,b){a>b?(this.ga=b,this.la=a):(this.ga=a,this.la=b)};g.prototype.yu=
function(c){return a.J.tk(c,this.ga,this.la)};g.prototype.O=function(){return this.la-this.ga};g.prototype.Tf=function(){return.5*(this.ga+this.la)};g.prototype.Eb=function(a){return a==this?!0:a instanceof g?this.u()&&a.u()?!0:this.ga!=a.ga||this.la!=a.la?!1:!0:!1};g.prototype.kc=function(){return a.J.$i(a.J.$i())};return g}();a.yc=g})(y||(y={}));(function(a){var g=new a.yc,e=new a.yc,c=function(){return function(){this.Ie=null;this.qb=-1;this.xb=new a.Hb;this.aB=55555555;this.Fw=this.Iw=!1;this.qg=
new a.yc;this.qg.nC(0,0)}}();a.MZ=c;var b=function(){function b(b,d,q){this.a=b;this.kl=NaN;this.OI=this.Ar=0;this.QI=NaN;this.ta=d;this.Dr=10*d;this.RI=this.SI=NaN;this.Lg=!1;this.xn=this.$t=this.Cp=this.Ut=this.Tt=-1;this.SA=q;this.CB=new c;this.ZI=new c;a.J.truncate(3*b.ud/2)}b.prototype.oH=function(b,d,a,c){b.Ie=null===c?null:c[a[5*d]];b.Fw=null!=b.Ie;b.Fw||(c=a[5*d+2],-1!==c&&this.a.LW(a[5*d],a[5*c],b.xb),b.Ie=b.xb,b.qg.nC(b.xb.ua,b.xb.sa),b.qg.la+=this.ta,b.xb.pJ(),b.Iw=b.xb.oa==b.xb.ra,b.Iw||
(b.aB=(b.xb.sa-b.xb.ua)/(b.xb.oa-b.xb.ra)))};b.prototype.nQ=function(b,d){var a=b.ws(d,this.ta,!0);if(0!=a)return 2==a?this.Az():this.Xi();b.Oq(ja);b.Ns(ma);d.Oq(na);d.Ns(qa);fa.ja(this.Ar,this.kl);ja.vb(na)&&this.kl==ja.y?0>ma.compare(qa)?fa.L(ma):fa.L(qa):ja.vb(qa)&&this.kl==ja.y?0>ma.compare(na)?fa.L(ma):fa.L(na):na.vb(ma)&&this.kl==na.y?0>ja.compare(qa)?fa.L(ja):fa.L(qa):ma.vb(qa)&&this.kl==ma.y&&(0>ja.compare(na)?fa.L(ja):fa.L(na));return b.kf(fa.y,fa.x)<d.kf(fa.y,fa.x)?-1:1};b.prototype.lQ=
function(b,d){if(b.xb.ra==d.xb.ra&&b.xb.ua==d.xb.ua)return b.xb.oa==d.xb.oa&&b.xb.sa==d.xb.sa?this.SA?this.Az():0:this.VF(b,d);if(b.xb.oa==d.xb.oa&&b.xb.sa==d.xb.sa)return this.UF(b,d);var a=this.UF(b,d);b=this.VF(b,d);return 0>a&&0>b?-1:0<a&&0<b?1:this.Xi()};b.prototype.hQ=function(b,d){if(b.sa>d.sa){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&b.Ti(d.sa,d.oa,this.ta))return this.Xi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(b.sa-b.ua)<this.Dr&&d.Ti(b.sa,b.oa,this.ta))return this.Xi();return 1};b.prototype.iQ=function(b,
d){if(b.ua<d.ua){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&b.Ti(d.sa,d.oa,this.ta))return this.Xi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(b.ua-b.sa)<this.Dr&&d.Ti(b.ua,b.ra,this.ta))return this.Xi();return-1};b.prototype.jQ=function(b,d){var h=new a.b;h.xc(d.Ac(),d.ec());h.Tr();h.normalize();var c=new a.b;c.xc(b.ec(),d.ec());var m=new a.b;m.xc(b.Ac(),d.ec());var c=c.pi(h),h=m.pi(h),m=Math.abs(c),g=Math.abs(h);if(m<g){if(m<this.Dr&&d.Ti(b.ua,b.ra,this.ta))return this.Xi()}else if(g<this.Dr&&d.Ti(b.sa,b.oa,this.ta))return this.Xi();
return 0>c&&0>h?-1:0<c&&0<h?1:this.Xi()};b.prototype.TF=function(b,d){return b.ra==d.ra&&b.ua==d.ua?this.hQ(b,d):b.oa==d.oa&&b.sa==d.sa?this.iQ(b,d):this.jQ(b,d)};b.prototype.kQ=function(b,d){return b.oa==d.oa&&b.sa==d.sa&&b.ra==d.ra&&b.ua==d.ua?this.SA?this.Az():0:this.Xi()};b.prototype.UF=function(b,d){var a=1;if(b.xb.ra<d.xb.ra){var a=-1,h=b;b=d;d=h}h=b.xb;b=d.xb;var c=h.ua-b.ua;d=d.aB*(h.ra-b.ra);var m=this.Dr;return c<d-m?-a:c>d+m?a:b.Ti(h.ua,h.ra,this.ta)?this.Xi():c<d?-a:a};b.prototype.VF=
function(b,d){var a=1;if(d.xb.oa<b.xb.oa){var a=-1,h=b;b=d;d=h}h=b.xb;b=d.xb;var c=h.sa-b.ua;d=d.aB*(h.oa-b.ra);var m=this.Dr;return c<d-m?-a:c>d+m?a:b.Ti(h.sa,h.oa,this.ta)?this.Xi():c<d?-a:a};b.prototype.Az=function(){this.Lg=!0;this.nj=new a.Yd(5,this.Cp,this.$t);return-1};b.prototype.Xi=function(){this.Lg=!0;this.SA?this.nj=new a.Yd(4,this.Cp,this.$t):this.$t=this.Cp=this.Ut=this.Tt=-1;return-1};b.prototype.mQ=function(b,d,a,c){if(this.Lg)return-1;var h=this.QI==this.kl&&this.OI==this.Ar,m;h&&
b==this.Tt?m=this.RI:(m=NaN,this.Tt=-1);h&&d==this.Ut?h=this.SI:(h=NaN,this.Ut=-1);a.Ie.GJ(g);c.Ie.GJ(e);if(g.la<e.ga)return-1;if(e.la<g.ga)return 1;this.QI=this.kl;this.OI=this.Ar;isNaN(m)&&(this.Tt=b,this.RI=m=b=a.Ie.kf(this.kl,this.Ar));isNaN(h)&&(this.Ut=d,this.SI=h=b=c.Ie.kf(this.kl,this.Ar));return Math.abs(m-h)<=this.ta?this.nQ(a.Ie,c.Ie):m<h?-1:m>h?1:0};b.prototype.Es=function(){this.Lg=!1};b.prototype.ln=function(){return this.nj};b.prototype.EK=function(b,d){this.kl=b;this.Ar=d;this.$t=
this.Cp=this.Ut=this.Tt=-1};b.prototype.compare=function(b,d,a){if(this.Lg)return-1;b=b.ia(a);this.xn=a;return this.XF(d,d,b,b)};b.prototype.XF=function(b,d,a,c){var h;this.Cp==d?h=this.CB:(this.Cp=d,h=this.CB,this.CB.qb=b,this.oH(h,d,this.a.Cd.f,this.a.tf));var m;null==m&&(this.$t=c,m=this.ZI,this.ZI.qb=a,this.oH(m,c,this.a.Cd.f,this.a.tf));if(h.Fw||m.Fw)return this.mQ(d,c,h,m);if(h.qg.la<m.qg.ga)return-1;if(m.qg.la<h.qg.ga)return 1;b=h.Iw?1:0;b|=m.Iw?2:0;return 0==b?this.lQ(h,m):1==b?this.TF(h.xb,
m.xb):2==b?-1*this.TF(m.xb,h.xb):this.kQ(h.xb,m.xb)};return b}();a.lE=b})(y||(y={}));(function(a){var g=function(){function g(c,b){this.a=c;this.ta=b;this.Lg=!1;this.Cp=-1;this.qg=new a.yc;this.wr=new a.b;this.wr.Yc();this.Ce=new a.Hb;this.xn=-1;this.kB=1.7976931348623157E308}g.prototype.Es=function(){this.Lg=!1;this.kB=1.7976931348623157E308};g.prototype.Zh=function(a){this.wr.L(a)};g.prototype.compare=function(a,b){return this.YF(b,a.ia(b))};g.prototype.YF=function(c,b){var d=null!=this.a.jc(b);
d||(this.a.nd(b,this.Ce),this.qg.nC(this.Ce.ua,this.Ce.sa));if(d)throw a.g.X("not implemented");if(this.wr.x+this.ta<this.qg.ga)return-1;if(this.wr.x-this.ta>this.qg.la)return 1;if(this.Ce.ra==this.Ce.oa)return this.xn=c,this.Lg=!0,0;this.Ce.pJ();b=this.Ce.ec();d=new a.b;d.xc(this.Ce.Ac(),b);d.Tr();var h=new a.b;h.xc(this.wr,b);b=d.pi(h);b/=d.length();return b<10*-this.ta?-1:b>10*this.ta?1:this.Ce.ot(this.wr,this.ta)&&(d=Math.abs(b),d<this.kB&&(this.xn=c,this.kB=d),this.Lg=!0,d<.25*this.ta)?0:0>b?
-1:1};return g}();a.AN=g})(y||(y={}));(function(a){function g(a,b,d,h){d=new Float64Array(a.subarray(d,h));a.set(d,b)}var e=function(){function c(b){this.xa=this.ze=!1;this.f=[];var d=b;2>d&&(d=2);this.f=a.J.df(d,c.tb);this.size=b}c.prototype.rotate=function(b,d,h){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>h||b>h)throw a.g.F();b!=d&&h!=d&&(this.Xd(b,d-b,1),this.Xd(d,h-d,1),this.Xd(b,h-b,1))};c.yd=function(b,d){c.tb=d;b=new c(b);c.tb=0;return b};c.Dk=function(b){var d=new c(0);d.f=b.f.slice(0);
d.size=b.size;return d};c.N=function(b,d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);a.f=b.f.slice(0,a.size);return a};c.prototype.zb=function(){};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.TW=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=
d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(b<=this.size){if(a.J.truncate(5*b/4)<this.f.length){var h=this.f.slice(0,b);this.f=h}}else if(b>this.f.length){a.J.truncate(64>
b?Math.max(2*b,4):5*b/4);for(var h=this.f.slice(0),c=this.f.length;c<b;c++)h[c]=d;this.f=h}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=function(b,d,h){for(var c=this.size;d<c&&d<h;d++)b=a.J.$i(this.read(d));return b};c.prototype.Eb=function(b,d,a){if(null==b||!(b instanceof c))return!1;var h=
this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=b.read(d))return!1;return!0};c.prototype.Sq=function(b,d,h,c,q,g){if(this.xa)throw a.g.Da();0>g&&(g=this.size);this.size+2*c>this.f.length?this.resize(this.size+2*c):this.size+=2*c;g-=b;for(var m=this.f.slice(b,b+g),C=0;C<g;C++)this.f[b+2*c+C]=m[C];if(q)for(q=0;q<c;q++)g=d[h++],this.f[b++]=g.x,this.f[b++]=g.y;else for(q=0,m=c-1;q<c;++q)g=d[h+m],this.f[b++]=g.x,this.f[b++]=g.y,m--};c.prototype.Tk=function(b,d,h,c,
q,g,F){if(this.xa)throw a.g.Da();if(!q&&(1>g||0!=c%g))throw a.g.F();var m=this.size-F;m<c&&this.resize(this.size+c-m);for(m=0;m<F-b;m++)this.f[b+c+m]=this.f[b+m];this.f==d.f&&b<h&&(h+=c);if(q)for(m=0;m<c;m++)this.f[m+b]=d.f[h+m];else for(q=c,F=0;F<c;F+=g)for(q-=g,m=0;m<g;m++)this.f[b+F+m]=d.f[h+q+m]};c.prototype.Zj=function(b,d,h,c){if(this.xa)throw a.g.Da();c-=b;for(var m=this.f.slice(b,b+c),g=0;g<c;g++)this.f[b+h+g]=m[g];for(c=0;c<h;c++)this.f[b+c]=d};c.prototype.dh=function(b,d,h){if(this.xa)throw a.g.Da();
for(var c=this.f.slice(b,b+(h-b)),q=0;q<h-b;q++)this.f[q+b+2]=c[q];this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(h.length<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),q)for(q=0;q<d;q++)this.f[b+q]=h[c+q];else for(q||(b+=d-1),d=c+d;c<d;c++)this.f[b]=h[c],b--};c.prototype.no=function(b,d,h,c,q,g){if(0>b||0>d||0>c)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(h.size<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+
b),h==this)this.Mj(b,d,c,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c++;else if(c=c+d-g,1==g)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var m=0;m<g;m++)this.f[b+m]=h.f[c+m];b+=g;c-=g}};c.prototype.Hk=function(b,d,h){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();if(0<h-(b+d)){h-=b+d;for(var c=this.f.slice(b+d,b+h+d),q=0;q<h;q++)this.f[b+q]=c[q]}this.size-=d};c.prototype.Xd=function(b,d,h){if(this.xa)throw a.g.Da();if(1>h||0!=d%h)throw a.g.Da();
for(var c=d>>1,q=0;q<c;q+=h){d-=h;for(var g=0;g<h;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=F}}};c.prototype.$h=function(b,d,h){if(0>d||0>h||0>d||h+d>this.size)throw a.g.F();for(var c=d;c<d+h;c++)this.f[c]=b};c.prototype.Mj=function(b,d,h,c,q){if(!c||b!=h){for(var m=0;m<d;m++)this.f[b+m]=this.f[h+m];if(!c)for(h=b,b=b+d-q,c=0,d=a.J.truncate(d/2);c<d;c++){for(m=0;m<q;m++){var g=this.f[h+m];this.f[h+m]=this.f[b+m];this.f[b+m]=g}h+=q;b-=q}}};c.prototype.js=function(b,d,h,c,q){if(0>
b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c].x,this.f[b+1]=h[c].y,b+=q};c.prototype.hy=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c][0],this.f[b+1]=h[c][1],b+=q};c.prototype.rl=function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<d+b)throw a.g.F();if(q)for(q=0;q<d;q++)h[c+q]=this.f[b+q];else for(c=c+d-1;b<d;b++)h[c]=
this.f[b],c--};c.prototype.Hx=function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<(d>>1)+b)throw a.g.F();if(0!=d)for(q||(b+=d-1),q=q?2:-2,d=c+d;c<d;c++)h[c][0]=this.f[b],h[c][1]=this.f[b+1],b+=q};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){var h=this.f.slice(0,b),c=this.f.slice(d);b=this.f.slice(b,d).sort(a);this.f.length=0;this.f.push.apply(this.f,h.concat(b).concat(c))};c.prototype.ti=function(){return 1};c.tb=
0;return c}();a.Pd=e;e=function(){function c(b){this.xa=this.ze=!1;this.f=null;var d=b;2>d&&(d=2);this.f=new Float64Array(d);this.size=b}c.prototype.rotate=function(b,d,h){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>h||b>h)throw a.g.F();b!=d&&h!=d&&(this.Xd(b,d-b,1),this.Xd(d,h-d,1),this.Xd(b,h-b,1))};c.yd=function(b,d){var a=new c(b),m=a.f;2>b&&(b=2);if(0!==d)for(var q=0;q<b;q++)m[q]=d;return a};c.Dk=function(b){var d=new c(0);d.f=new Float64Array(b.f);d.size=b.size;return d};c.N=function(b,
d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);d=a.size;2>d&&(d=2);a.f=new Float64Array(d);a.f.set(b.f.length<=d?b.f:b.f.subarray(0,d),0);return a};c.prototype.zb=function(b){0>=b||(null==this.f?this.f=new Float64Array(b):b<=this.f.length||(0<this.f.length?(b=new Float64Array(b),b.set(this.f),this.f=b):this.f=new Float64Array(b)))};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=
function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");
if(b<=this.size){if(30<this.f.length&&5*b/4<this.f.length){var h=new Float64Array(this.f,0,b);this.f=h}}else{b>this.f.length&&(h=a.J.truncate(64>b?Math.max(2*b,4):5*b/4),h=new Float64Array(h),h.set(this.f),this.f=h);for(var h=this.f,c=this.size;c<b;c++)h[c]=d}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=
function(b,d,h){for(var c=this.size;d<c&&d<h;d++)b=a.J.$i(this.read(d));return b};c.prototype.Eb=function(b,d,a){if(null==b||!(b instanceof c))return!1;var h=this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=b.read(d))return!1;return!0};c.prototype.Tk=function(b,d,h,c,q,C,F){if(this.xa)throw a.g.Da();if(!q&&(1>C||0!=c%C))throw a.g.F();var m=this.size-F;m<c&&this.resize(this.size+c-m);g(this.f,b+c,b,b+(F-b));this.f==d.f&&b<h&&(h+=c);if(q)this.f.set(d.f.subarray(h,
h+c),b);else for(q=c,F=0;F<c;F+=C)for(q-=C,m=0;m<C;m++)this.f[b+F+m]=d.f[h+q+m]};c.prototype.Sq=function(b,d,h,c,q,C){if(this.xa)throw a.g.Da();0>C&&(C=this.size);this.size+2*c>this.f.length?this.resize(this.size+2*c):this.size+=2*c;g(this.f,b+2*c,b,b+(C-b));if(q)for(q=0;q<c;q++)C=d[h++],this.f[b++]=C.x,this.f[b++]=C.y;else{q=0;for(var m=c-1;q<c;++q)C=d[h+m],this.f[b++]=C.x,this.f[b++]=C.y,m--}};c.prototype.Zj=function(b,d,h,c){if(this.xa)throw a.g.Da();c-=b;g(this.f,b+c,b,b+c);for(c=0;c<h;c++)this.f[b+
c]=d};c.prototype.dh=function(b,d,h){if(this.xa)throw a.g.Da();g(this.f,b+2,b,b+(h-b));this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(h.length<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),q)this.f.set(h.subarray(c,d),b);else for(q||(b+=d-1),d=c+d;c<d;c++)this.f[b]=h[c],b--};c.prototype.no=function(b,d,h,c,q,g){if(0>b||0>d||0>c)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(h.size<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&
this.resize(d+b),h==this)this.Mj(b,d,c,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c++;else if(c=c+d-g,1==g)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var m=0;m<g;m++)this.f[b+m]=h.f[c+m];b+=g;c-=g}};c.prototype.Hk=function(b,d,h){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();0<h-(b+d)&&g(this.f,b,b+d,b+(h-(b+d))+d);this.size-=d};c.prototype.Xd=function(b,d,h){if(this.xa)throw a.g.Da();if(1>h||0!=d%h)throw a.g.Da();for(var c=d>>1,q=0;q<
c;q+=h){d-=h;for(var g=0;g<h;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=F}}};c.prototype.$h=function(b,d,h){if(0>d||0>h||0>d||h+d>this.size)throw a.g.F();for(var c=d;c<d+h;c++)this.f[c]=b};c.prototype.Mj=function(b,d,h,c,q){if(!c||b!=h)if(this.f.set(this.f.subarray(h,h+d),b),!c)for(h=b,b=b+d-q,c=0,d=a.J.truncate(d/2);c<d;c++){for(var m=0;m<q;m++){var g=this.f[h+m];this.f[h+m]=this.f[b+m];this.f[b+m]=g}h+=q;b-=q}};c.prototype.js=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();
if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c].x,this.f[b+1]=h[c].y,b+=q};c.prototype.hy=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c][0],this.f[b+1]=h[c][1],b+=q};c.prototype.rl=function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<d+b)throw a.g.F();if(q)for(q=0;q<d;q++)h[c+q]=this.f[b+q];else for(c=c+d-1;b<d;b++)h[c]=this.f[b],c--};c.prototype.Hx=
function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<(d>>1)+b)throw a.g.F();if(0!=d)for(q||(b+=d-1),q=q?2:-2,d=c+d;c<d;c++)h[c][0]=this.f[b],h[c][1]=this.f[b+1],b+=q};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){Array.prototype.sort.call(this.f.subarray(b,d),a)};c.prototype.ti=function(){return 1};return c}();a.zL=e})(y||(y={}));!0===y.Yh.Gm&&!0===y.Yh.jw&&(y.Pd=y.zL);(function(a){function g(a,b,d,h){d=new Int32Array(a.subarray(d,
h));a.set(d,b)}a.dZ=function(){return function(){this.random=1973}}();var e=function(){function c(b){this.xa=this.ze=!1;this.f=[];var d=b;2>d&&(d=2);this.f=this.f=a.J.df(d,c.tb);this.size=b}c.prototype.rotate=function(b,d,h){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>h||b>h)throw a.g.F();b!=d&&h!=d&&(this.Xd(b,d-b,1),this.Xd(d,h-d,1),this.Xd(b,h-b,1))};c.yd=function(b,d){c.tb=d;b=new c(b);c.tb=0;return b};c.Dk=function(b){var d=new c(0);d.f=b.f.slice(0);d.size=b.size;return d};c.N=function(b,
d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);a.f=b.f.slice(0,a.size);return a};c.prototype.zb=function(){};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=
function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(b<=this.size){if(a.J.truncate(5*b/4)<this.f.length){var h=this.f.slice(0,b);this.f=h}}else if(b>this.f.length){a.J.truncate(64>b?Math.max(2*b,4):5*b/4);for(var h=this.f.slice(0),c=this.f.length;c<b;c++)h[c]=
d;this.f=h}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=function(b,d,h){for(var c=this.size;d<c&&d<h;d++)b=a.J.bh(this.read(d),b);return b};c.prototype.Eb=function(b,d,a){if(null==b||!(b instanceof c))return!1;var h=this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=
b.read(d))return!1;return!0};c.prototype.Tk=function(b,d,h,c,q,g,F){if(this.xa)throw a.g.Da();if(!q&&(1>g||0!=c%g))throw a.g.F();for(var m=0;m<F-b;m++)this.f[b+c+m]=this.f[b+m];this.f==d.f&&b<h&&(h+=c);if(q)for(m=0;m<c;m++)this.f[m+b]=d.f[h+m];else for(q=c,F=0;F<c;F+=g)for(q-=g,m=0;m<g;m++)this.f[b+F+m]=d.f[h+q+m]};c.prototype.Sq=function(b,d,h,c,q,g){if(this.xa)throw a.g.Da();0>g&&(g=this.size);this.size+2*c>this.f.length?this.resize(this.size+2*c):this.size+=2*c;g-=b;for(var m=this.f.slice(b,b+
g),C=0;C<g;C++)this.f[b+2*c+C]=m[C];if(q)for(q=0;q<c;q++)g=d[h++],this.f[b++]=g.x,this.f[b++]=g.y;else for(q=0,m=c-1;q<c;++q)g=d[h+m],this.f[b++]=g.x,this.f[b++]=g.y,m--};c.prototype.Zj=function(b,d,h,c){if(this.xa)throw a.g.Da();c-=b;for(var m=this.f.slice(b,b+c),g=0;g<c;g++)this.f[b+h+g]=m[g];for(c=0;c<h;c++)this.f[b+c]=d};c.prototype.dh=function(b,d,h){if(this.xa)throw a.g.Da();for(var c=this.f.slice(b,b+(h-b)),q=0;q<h-b;q++)this.f[q+b+2]=c[q];this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,
d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(h.length<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),q)for(q=0;q<d;q++)this.f[b+q]=h[c+q];else for(q||(b+=d-1),d=c+d;c<d;c++)this.f[b]=h[c],b--};c.prototype.no=function(b,d,h,c,q,g){if(0>b||0>d||0>c)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(h.size<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),h==this)this.Mj(b,d,c,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c++;else if(c=c+d-g,1==g)for(q=0;q<d;q++)this.f[b]=
h.f[c],b++,c--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var m=0;m<g;m++)this.f[b+m]=h.f[c+m];b+=g;c-=g}};c.prototype.Hk=function(b,d,h){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();if(0<h-(b+d)){h-=b+d;for(var c=this.f.slice(b+d,b+h+d),q=0;q<h;q++)this.f[b+q]=c[q]}this.size-=d};c.prototype.Xd=function(b,d,h){if(this.xa)throw a.g.Da();if(1>h||0!=d%h)throw a.g.Da();for(var c=d>>1,q=0;q<c;q+=h){d-=h;for(var g=0;g<h;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=
F}}};c.prototype.$h=function(b,d,h){if(0>d||0>h||0>d||h+d>this.size)throw a.g.F();for(var c=d;c<d+h;c++)this.f[c]=b};c.prototype.Mj=function(b,d,h,c,q){if(!c||b!=h){for(var m=0;m<d;m++)this.f[b+m]=this.f[h+m];if(!c)for(h=b,b=b+d-q,c=0,d=a.J.truncate(d/2);c<d;c++){for(m=0;m<q;m++){var g=this.f[h+m];this.f[h+m]=this.f[b+m];this.f[b+m]=g}h+=q;b-=q}}};c.prototype.js=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<
d;c++)this.f[b]=h[c].x,this.f[b+1]=h[c].y,b+=q};c.prototype.rl=function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<d+b)throw a.g.F();if(q)for(q=0;q<d;q++)h[c+q]=this.f[b+q];else for(c=c+d-1;b<d;b++)h[c]=this.f[b],c--};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){var h=this.f.slice(0,b),c=this.f.slice(d);b=this.f.slice(b,d).sort(a);this.f.length=0;this.f.push.apply(this.f,h.concat(b).concat(c))};c.prototype.ti=function(){return 2};
c.prototype.Ec=function(){return this.f[this.size-1]};c.prototype.Mf=function(){this.resize(this.size-1)};c.prototype.qK=function(b){this.f[this.size-1]=b};c.prototype.vJ=function(b){b<this.size-1&&(this.f[b]=this.f[this.size-1]);this.resize(this.size-1)};c.prototype.Pv=function(b){for(var d=0,a=this.size;d<a;d++)if(this.f[d]==b)return d;return-1};c.prototype.qA=function(b){return 0<=this.Pv(b)};c.tb=0;return c}();a.ha=e;e=function(){function c(b){this.xa=this.ze=!1;this.f=null;var d=b;2>d&&(d=2);
this.f=new Int32Array(d);this.size=b}c.prototype.rotate=function(b,d,h){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>h||b>h)throw a.g.F();b!=d&&h!=d&&(this.Xd(b,d-b,1),this.Xd(d,h-d,1),this.Xd(b,h-b,1))};c.yd=function(b,d){var a=new c(b),m=a.f;2>b&&(b=2);if(0!==d)for(var q=0;q<b;q++)m[q]=d;return a};c.Dk=function(b){var d=new c(0);d.f=new Int32Array(b.f);d.size=b.size;return d};c.N=function(b,d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);d=a.size;2>d&&(d=2);a.f=new Int32Array(d);a.f.set(b.f.length<=
d?b.f:b.f.subarray(0,d),0);return a};c.prototype.zb=function(b){0>=b||(null==this.f?this.f=new Int32Array(b):b<=this.f.length||(0<this.f.length?(b=new Int32Array(b),b.set(this.f),this.f=b):this.f=new Int32Array(b)))};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=
d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(b<=this.size){if(30<this.f.length&&5*b/4<this.f.length){var h=new Int32Array(this.f,0,b);this.f=h}}else{b>
this.f.length&&(h=a.J.truncate(64>b?Math.max(2*b,4):5*b/4),h=new Int32Array(h),h.set(this.f),this.f=h);for(var h=this.f,c=this.size;c<b;c++)h[c]=d}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=function(b,d,h){for(var c=this.size;d<c&&d<h;d++)b=a.J.bh(this.read(d),b);return b};c.prototype.Eb=function(b,
d,a){if(null==b||!(b instanceof c))return!1;var h=this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=b.read(d))return!1;return!0};c.prototype.Tk=function(b,d,h,c,q,C,F){if(this.xa)throw a.g.Da();if(!q&&(1>C||0!=c%C))throw a.g.F();g(this.f,b+c,b,b+(F-b));this.f==d.f&&b<h&&(h+=c);if(q)this.f.set(d.f.subarray(h,h+c),b);else for(q=c,F=0;F<c;F+=C){q-=C;for(var m=0;m<C;m++)this.f[b+F+m]=d.f[h+q+m]}};c.prototype.Sq=function(b,d,h,c,q,C){if(this.xa)throw a.g.Da();0>C&&(C=
this.size);this.size+2*c>this.f.length?this.resize(this.size+2*c):this.size+=2*c;g(this.f,b+2*c,b,b+(C-b));if(q)for(q=0;q<c;q++)C=d[h++],this.f[b++]=C.x,this.f[b++]=C.y;else{q=0;for(var m=c-1;q<c;++q)C=d[h+m],this.f[b++]=C.x,this.f[b++]=C.y,m--}};c.prototype.Zj=function(b,d,h,c){if(this.xa)throw a.g.Da();c-=b;g(this.f,b+c,b,b+c);for(c=0;c<h;c++)this.f[b+c]=d};c.prototype.dh=function(b,d,h){if(this.xa)throw a.g.Da();g(this.f,b+2,b,b+(h-b));this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,d,
h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(h.length<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),q)this.f.set(h.subarray(c,d),b);else for(q||(b+=d-1),d=c+d;c<d;c++)this.f[b]=h[c],b--};c.prototype.no=function(b,d,h,c,q,g){if(0>b||0>d||0>c)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(h.size<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),h==this)this.Mj(b,d,c,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c++;else if(c=c+d-g,1==g)for(q=0;q<d;q++)this.f[b]=h.f[c],
b++,c--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var m=0;m<g;m++)this.f[b+m]=h.f[c+m];b+=g;c-=g}};c.prototype.Hk=function(b,d,h){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();0<h-(b+d)&&g(this.f,b,b+d,b+(h-(b+d))+d);this.size-=d};c.prototype.Xd=function(b,d,h){if(this.xa)throw a.g.Da();if(1>h||0!=d%h)throw a.g.Da();for(var c=d>>1,q=0;q<c;q+=h){d-=h;for(var g=0;g<h;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=F}}};c.prototype.$h=function(b,d,h){if(0>d||0>h||0>
d||h+d>this.size)throw a.g.F();for(var c=d;c<d+h;c++)this.f[c]=b};c.prototype.Mj=function(b,d,h,c,q){if(!c||b!=h)if(this.f.set(this.f.subarray(h,h+d),b),!c)for(h=b,b=b+d-q,c=0,d=a.J.truncate(d/2);c<d;c++){for(var m=0;m<q;m++){var g=this.f[h+m];this.f[h+m]=this.f[b+m];this.f[b+m]=g}h+=q;b-=q}};c.prototype.js=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c].x,this.f[b+1]=h[c].y,b+=q};c.prototype.rl=
function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<d+b)throw a.g.F();if(q)for(q=0;q<d;q++)h[c+q]=this.f[b+q];else for(c=c+d-1;b<d;b++)h[c]=this.f[b],c--};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){10>d-b?c.Gj(this.f,b,d,a):c.Yg(this.f,b,d-1,a)};c.prototype.ti=function(){return 2};c.prototype.Ec=function(){return this.f[this.size-1]};c.prototype.Mf=function(){this.resize(this.size-1)};c.prototype.qK=function(b){this.f[this.size-
1]=b};c.prototype.vJ=function(b){b<this.size-1&&(this.f[b]=this.f[this.size-1]);this.resize(this.size-1)};c.prototype.Pv=function(b){for(var d=0,a=this.size;d<a;d++)if(this.f[d]==b)return d;return-1};c.prototype.qA=function(b){return 0<=this.Pv(b)};c.Gj=function(b,d,a,c){for(var h=d;h<a;h++){for(var m=b[h],g=h-1;g>=d&&0<c(b[g],m);)b[g+1]=b[g],g--;b[g+1]=m}};c.Ug=function(b,d,a){var h=b[a];b[a]=b[d];b[d]=h};c.Yg=function(b,d,a,m){if(!(d>=a))for(;;){if(9>a-d){c.Gj(b,d,a+1,m);break}var h=b[d];c.Ug(b,
d,a);for(var g=d,F=d;F<a;F++)0>=m(b[F],h)&&(c.Ug(b,g,F),g+=1);c.Ug(b,g,a);g-d<a-g?(c.Yg(b,d,g-1,m),d=g+1):(c.Yg(b,g+1,a,m),a=g-1)}};return c}();a.iy=e})(y||(y={}));!0===y.Yh.Gm&&(y.ha=y.iy);(function(a){function g(a,b,d,h){d=new Int8Array(a.subarray(d,h));a.set(d,b)}var e=function(){function c(b){this.xa=this.ze=!1;this.f=[];var d=b;2>d&&(d=2);this.f=a.J.df(d,c.tb);this.size=b}c.prototype.rotate=function(b,d,h){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>h||b>h)throw a.g.F();b!=d&&h!=d&&(this.Xd(b,
d-b,1),this.Xd(d,h-d,1),this.Xd(b,h-b,1))};c.yd=function(b,d){c.tb=d;b=new c(b);c.tb=0;return b};c.Dk=function(b){var d=new c(0);d.f=b.f.slice(0);d.size=b.size;return d};c.N=function(b,d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);a.f=b.f.slice(0,a.size);return a};c.prototype.zb=function(){};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=function(b,d){if(this.xa)throw a.g.Da();
this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(b<=this.size){if(a.J.truncate(5*
b/4)<this.f.length){var h=this.f.slice(0,b);this.f=h}}else if(b>this.f.length){a.J.truncate(64>b?Math.max(2*b,4):5*b/4);for(var h=this.f.slice(0),c=this.f.length;c<b;c++)h[c]=d;this.f=h}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=function(b,d,h){for(var c=this.size;d<c&&d<h;d++)b=a.J.bh(this.read(d),
b);return b};c.prototype.Eb=function(b,d,a){if(null==b||!(b instanceof c))return!1;var h=this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=b.read(d))return!1;return!0};c.prototype.Tk=function(b,d,h,c,q,g,F){if(this.xa)throw a.g.Da();if(!q&&(1>g||0!=c%g))throw a.g.F();for(var m=0;m<F-b;m++)this.f[b+c+m]=this.f[b+m];this.f==d.f&&b<h&&(h+=c);if(q)for(m=0;m<c;m++)this.f[m+b]=d.f[h+m];else for(q=c,F=0;F<c;F+=g)for(q-=g,m=0;m<g;m++)this.f[b+F+m]=d.f[h+q+m]};c.prototype.Sq=
function(b,d,h,c,q,g){if(this.xa)throw a.g.Da();0>g&&(g=this.size);this.size+2*c>this.f.length?this.resize(this.size+2*c):this.size+=2*c;g-=b;for(var m=this.f.slice(b,b+g),C=0;C<g;C++)this.f[b+2*c+C]=m[C];if(q)for(q=0;q<c;q++)g=d[h++],this.f[b++]=g.x,this.f[b++]=g.y;else for(q=0,m=c-1;q<c;++q)g=d[h+m],this.f[b++]=g.x,this.f[b++]=g.y,m--};c.prototype.Zj=function(b,d,h,c){if(this.xa)throw a.g.Da();c-=b;for(var m=this.f.slice(b,b+c),g=0;g<c;g++)this.f[b+h+g]=m[g];for(c=0;c<h;c++)this.f[b+c]=d};c.prototype.dh=
function(b,d,h){if(this.xa)throw a.g.Da();for(var c=this.f.slice(b,b+(h-b)),q=0;q<h-b;q++)this.f[q+b+2]=c[q];this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(h.length<c+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),q)for(q=0;q<d;q++)this.f[b+q]=h[c+q];else for(q||(b+=d-1),d=c+d;c<d;c++)this.f[b]=h[c],b--};c.prototype.no=function(b,d,h,c,q,g){if(0>b||0>d||0>c)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(h.size<c+d)throw a.g.F();
if(0!=d)if(this.size<d+b&&this.resize(d+b),h==this)this.Mj(b,d,c,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c++;else if(c=c+d-g,1==g)for(q=0;q<d;q++)this.f[b]=h.f[c],b++,c--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var m=0;m<g;m++)this.f[b+m]=h.f[c+m];b+=g;c-=g}};c.prototype.Hk=function(b,d,h){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();if(0<h-(b+d)){h-=b+d;for(var c=this.f.slice(b+d,b+h+d),q=0;q<h;q++)this.f[b+q]=c[q]}this.size-=d};c.prototype.Xd=function(b,d,h){if(this.xa)throw a.g.Da();
if(1>h||0!=d%h)throw a.g.Da();for(var c=d>>1,q=0;q<c;q+=h){d-=h;for(var g=0;g<h;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=F}}};c.prototype.$h=function(b,d,h){if(0>d||0>h||0>d||h+d>this.size)throw a.g.F();for(var c=d;c<d+h;c++)this.f[c]=b};c.prototype.Mj=function(b,d,h,c,q){if(!c||b!=h){for(var m=0;m<d;m++)this.f[b+m]=this.f[h+m];if(!c)for(h=b,b=b+d-q,c=0,d=a.J.truncate(d/2);c<d;c++){for(m=0;m<q;m++){var g=this.f[h+m];this.f[h+m]=this.f[b+m];this.f[b+m]=g}h+=q;b-=q}}};c.prototype.js=
function(b,d,h,c,q){if(0>b||0>d||0>c)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=c;c<d;c++)this.f[b]=h[c].x,this.f[b+1]=h[c].y,b+=q};c.prototype.rl=function(b,d,h,c,q){if(0>b||0>d||0>c||this.size<d+b)throw a.g.F();if(q)for(q=0;q<d;q++)h[c+q]=this.f[b+q];else for(c=c+d-1;b<d;b++)h[c]=this.f[b],c--};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){var c=this.f.slice(0,
b),h=this.f.slice(d);b=this.f.slice(b,d).sort(a);this.f.length=0;this.f.push.apply(this.f,c.concat(b).concat(h))};c.prototype.ti=function(){return 1};c.prototype.lC=function(b,d){if(this.xa)throw a.g.X("invalid call. Attribute Stream is read only.");this.f[b]|=d};c.prototype.dz=function(b,d){if(this.xa)throw a.g.X("invalid call. Attribute Stream is read only.");this.f[b]&=~d};c.tb=0;return c}();a.Km=e;e=function(){function c(b){this.f=null;var d=b;2>d&&(d=2);this.f=new Int8Array(d);this.size=b}c.prototype.rotate=
function(b,d,c){if(this.xa)throw a.g.X("invalid_call");if(d<b||d>c||b>c)throw a.g.F();b!=d&&c!=d&&(this.Xd(b,d-b,1),this.Xd(d,c-d,1),this.Xd(b,c-b,1))};c.yd=function(b,d){var a=new c(b),m=a.f;2>b&&(b=2);if(0!==d)for(var q=0;q<b;q++)m[q]=d;return a};c.Dk=function(b){var d=new c(0);d.f=new Int8Array(b.f);d.size=b.size;return d};c.N=function(b,d){var a=new c(0);a.size=b.size;a.size>d&&(a.size=d);d=a.size;2>d&&(d=2);a.f=new Int8Array(d);a.f.set(b.f.length<=d?b.f:b.f.subarray(0,d),0);return a};c.prototype.zb=
function(b){0>=b||(null==this.f?this.f=new Int8Array(b):b<=this.f.length||(0<this.f.length?(b=new Int8Array(b),b.set(this.f),this.f=b):this.f=new Int8Array(b)))};c.prototype.read=function(b){return this.f[b]};c.prototype.fc=function(b,d){d.x=this.f[b];d.y=this.f[b+1]};c.prototype.get=function(b){return this.f[b]};c.prototype.write=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.set=function(b,d){if(this.xa)throw a.g.Da();this.f[b]=d};c.prototype.mo=function(b,d){if(this.xa)throw a.g.Da();
this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.add=function(b){this.resize(this.size+1);this.f[this.size-1]=b};c.prototype.Sr=function(b){return c.N(this,b)};c.prototype.Lf=function(b){return this.read(b)};c.prototype.resize=function(b,d){void 0===d&&(d=0);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(b<=this.size){if(30<this.f.length&&5*b/4<this.f.length){var c=new Int8Array(this.f,0,b);this.f=c}}else{b>this.f.length&&(c=a.J.truncate(64>b?Math.max(2*b,4):
5*b/4),c=new Int8Array(c),c.set(this.f),this.f=c);for(var c=this.f,m=this.size;m<b;m++)c[m]=d}this.size=b};c.prototype.uf=function(b){(null==this.f||b>this.f.length)&&this.resize(b);if(this.ze)throw a.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=b};c.prototype.Im=function(b,d){this.write(b,d)};c.prototype.Ck=function(b,d,c){for(var h=this.size;d<h&&d<c;d++)b=a.J.bh(this.read(d),b);return b};c.prototype.Eb=function(b,d,a){if(null==b||!(b instanceof c))return!1;var h=
this.size,q=b.size;if(a>h||a>q&&h!=q)return!1;for(a>h&&(a=h);d<a;d++)if(this.read(d)!=b.read(d))return!1;return!0};c.prototype.Tk=function(b,d,c,m,q,C,F){if(this.xa)throw a.g.Da();if(!q&&(1>C||0!=m%C))throw a.g.F();g(this.f,b+m,b,b+(F-b));this.f==d.f&&b<c&&(c+=m);if(q)this.f.set(d.f.subarray(c,c+m),b);else for(q=m,F=0;F<m;F+=C){q-=C;for(var h=0;h<C;h++)this.f[b+F+h]=d.f[c+q+h]}};c.prototype.Zj=function(b,d,c,m){if(this.xa)throw a.g.Da();m-=b;g(this.f,b+m,b,b+m);for(m=0;m<c;m++)this.f[b+m]=d};c.prototype.Sq=
function(b,d,c,m,q,C){if(this.xa)throw a.g.Da();0>C&&(C=this.size);this.size+2*m>this.f.length?this.resize(this.size+2*m):this.size+=2*m;g(this.f,b+2*m,b,b+(C-b));if(q)for(q=0;q<m;q++)C=d[c++],this.f[b++]=C.x,this.f[b++]=C.y;else{q=0;for(var h=m-1;q<m;++q)C=d[c+h],this.f[b++]=C.x,this.f[b++]=C.y,h--}};c.prototype.dh=function(b,d,c){if(this.xa)throw a.g.Da();g(this.f,b+2,b,b+(c-b));this.f[b]=d.x;this.f[b+1]=d.y};c.prototype.hs=function(b,d,c,m,q){if(0>b||0>d||0>m)throw a.g.F();if(c.length<m+d)throw a.g.F();
if(0!=d)if(this.size<d+b&&this.resize(d+b),q)this.f.set(c.subarray(m,d),b);else for(q||(b+=d-1),d=m+d;m<d;m++)this.f[b]=c[m],b--};c.prototype.no=function(b,d,c,m,q,g){if(0>b||0>d||0>m)throw a.g.F();if(!q&&(0>=g||0!=d%g))throw a.g.F();if(c.size<m+d)throw a.g.F();if(0!=d)if(this.size<d+b&&this.resize(d+b),c==this)this.Mj(b,d,m,q,g);else if(q)for(q=0;q<d;q++)this.f[b]=c.f[m],b++,m++;else if(m=m+d-g,1==g)for(q=0;q<d;q++)this.f[b]=c.f[m],b++,m--;else for(q=0,d=a.J.truncate(d/g);q<d;q++){for(var h=0;h<
g;h++)this.f[b+h]=c.f[m+h];b+=g;m-=g}};c.prototype.Hk=function(b,d,c){if(this.xa)throw a.g.Da();if(b+d>this.size)throw a.g.Da();0<c-(b+d)&&g(this.f,b,b+d,b+(c-(b+d))+d);this.size-=d};c.prototype.Xd=function(b,d,c){if(this.xa)throw a.g.Da();if(1>c||0!=d%c)throw a.g.Da();for(var h=d>>1,q=0;q<h;q+=c){d-=c;for(var g=0;g<c;g++){var F=this.f[b+q+g];this.f[b+q+g]=this.f[b+d+g];this.f[b+d+g]=F}}};c.prototype.$h=function(b,d,c){if(0>d||0>c||0>d||c+d>this.size)throw a.g.F();for(var h=d;h<d+c;h++)this.f[h]=
b};c.prototype.Mj=function(b,d,c,m,q){if(!m||b!=c)if(this.f.set(this.f.subarray(c,c+d),b),!m)for(c=b,b=b+d-q,m=0,d=a.J.truncate(d/2);m<d;m++){for(var h=0;h<q;h++){var g=this.f[c+h];this.f[c+h]=this.f[b+h];this.f[b+h]=g}c+=q;b-=q}};c.prototype.js=function(b,d,c,m,q){if(0>b||0>d||0>m)throw a.g.F();if(0!=d)for(this.size<(d<<1)+b&&this.resize((d<<1)+b),q||(b+=d-1<<1),q=q?2:-2,d+=m;m<d;m++)this.f[b]=c[m].x,this.f[b+1]=c[m].y,b+=q};c.prototype.rl=function(b,d,c,m,q){if(0>b||0>d||0>m||this.size<d+b)throw a.g.F();
if(q)for(q=0;q<d;q++)c[m+q]=this.f[b+q];else for(m=m+d-1;b<d;b++)c[m]=this.f[b],m--};c.prototype.clear=function(b){b?this.resize(0):this.uf(0)};c.prototype.Tp=function(){this.ze=this.xa=!0};c.prototype.Fd=function(b,d,a){d=this.f.subarray(b,d);Array.prototype.sort.call(d,a);this.f.set(d,b)};c.prototype.lC=function(b,d){if(this.xa)throw a.g.X("invalid call. Attribute Stream is read only.");this.f[b]|=d};c.prototype.dz=function(b,d){if(this.xa)throw a.g.X("invalid call. Attribute Stream is read only.");
this.f[b]&=~d};c.prototype.ti=function(){return 1};return c}();a.jy=e})(y||(y={}));!0===y.Yh.Gm&&(y.Km=y.jy);(function(a){var g=function(){function g(){}g.vq=function(c,b){return a.Km.yd(c,b)};g.$m=function(c,b){return a.Pd.yd(c,b)};g.nz=function(c,b,d){switch(c){case 1:c=a.Pd.yd(b,d);break;case 2:c=a.ha.yd(b,d);break;case 4:c=a.Km.yd(b,d);break;default:throw a.g.za();}return c};g.oz=function(c,b){return g.nz(a.ma.ti(c),b*a.ma.Xa(c),a.ma.be(c))};g.wh=function(c,b){return a.ha.yd(c,b)};g.LB=function(a){var b,
d=[];for(b=0;b<a;b++)d.push(null);return d};return g}();a.Tc=g})(y||(y={}));(function(a){var g=function(){function g(){}g.vq=function(c,b){return a.jy.yd(c,b)};g.$m=function(c,b){return a.Pd.yd(c,b)};g.nz=function(c,b,d){switch(c){case 1:c=a.Pd.yd(b,d);break;case 2:c=a.iy.yd(b,d);break;case 4:c=a.jy.yd(b,d);break;default:throw a.g.za();}return c};g.oz=function(c,b){return a.Tc.nz(a.ma.ti(c),b*a.ma.Xa(c),a.ma.be(c))};g.wh=function(c,b){return a.iy.yd(c,b)};g.LB=function(a){var b,d=[];for(b=0;b<a;b++)d.push(null);
return d};return g}();a.AL=g})(y||(y={}));!0===y.Yh.Gm&&(y.Tc=y.AL);(function(a){a.da=function(){return function(a){void 0===a&&(a=0);this.j=a}}()})(y||(y={}));(function(a){var g=function(){function g(){}g.bind=function(c){a.Uc=c.PeDefs;a.Qf=c.PeFactory;a.WD=c.PeVertcs;a.TD=c.PeCoordsys;a.fi=c.PeCSTransformations;a.VD=c.PeGTTransformations;a.bN=c.PeGeogtran;a.aN=c.PeFactoryCodechange;a.UD=c.PeGCSExtent;a.Ag=c.PePCSInfo;a.cN=c.PeHorizon;a.TD=c.PeCoordsys;a.fq=c.PeGTlistExtended;a.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;a.Qf.initialize(null);a.sy=c.PeGTlistExtendedEntry;g.JN=a.Qf.fromString(a.Uc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};g.D_=function(){};g.JN=null;return g}();a.dN=g;a.Qf=null;a.WD=null;a.TD=null;a.cN=null;a.Ag=null;a.fq=null;a.sy=null;a.UD=null;a.aN=null;a.bN=null;a.Uc=null;a.VD=null;a.fi=null})(y||(y={}));(function(a){var g=function(){function a(){}a.Bb=function(b,d){return 0<=d?a.K(b):-a.K(b)};a.K=function(b){return 0>b?-b:b};a.Ri=function(b){return 3.552713678800501E-15>b};a.SD=function(b,d,c){return a.K(b-
d)<=c*(1+(a.K(b)+a.K(d))/2)};a.W=function(b,d){return a.SD(b,d,3.552713678800501E-15)};a.wO=function(b){return 3.552713678800501E-15>=a.K(b)};a.wd=function(b){return a.wO(b)};return a}();a.l=g;var e=function(){function c(){}c.Zp=function(b,a){b=g.K(b);a=g.K(a);var d=0;0!=b+a&&(b>a?(d=a/b,d=b*Math.sqrt(1+d*d)):(d=b/a,d=a*Math.sqrt(1+d*d)));return d};c.Nr=function(b,a,h,m,q){for(var d=[0,0,0],F=[0,0,0],e=0;2>=e;e++)a[e]-=b[e],h[e]-=a[e];h=d[1]*F[2]-d[2]*F[1];a=d[2]*F[0]-d[0]*F[2];d=d[0]*F[1]-d[1]*F[0];
b=-1*(h*b[0]+a*b[1]+d*b[2]);m[0]=h;m[1]=a;m[2]=d;m[3]=b;F=c.lo(m);m[0]/=F;m[1]/=F;m[2]/=F;m[3]/=F;0!=q&&(F=g.wd(d)?g.wd(b)?g.Bb(1,a):-g.Bb(1,b):g.Bb(1,d),F*=g.Bb(1,q),m[0]*=F,m[1]*=F,m[2]*=F,m[3]*=F)};c.fy=function(b,a,c){c[0]=b[1]*a[2]-a[1]*b[2];c[1]=b[2]*a[0]-a[2]*b[0];c[2]=b[0]*a[1]-a[0]*b[1]};c.Gu=function(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]};c.lo=function(b){return c.Zp(c.Zp(b[0],b[1]),b[2])};c.Fk=function(b,a,h,m,q,g,e,f){b=c.n(b,a,h);var d=Math.cos(h);g.j=(b+q)*d*Math.cos(m);e.j=(b+q)*
d*Math.sin(m);f.j=(b*(1-a)+q)*Math.sin(h)};c.GP=function(b,a,h,m,q,C,e){var d=c.Zp(a,h),F=1*Math.sqrt(1-b),f=F/1;if(g.W(d,0))C.j=0,q.j=g.Bb(1.570796326794897,m),e.j=g.K(m)-F;else{C.j=Math.atan2(h,a);h=Math.atan2(1*m,F*d);C=Math.cos(h);var k=Math.sin(h);a=F*b/(1-b);b*=1;h=Math.atan2(m+a*k*k*k,d-b*C*C*C);3.141592653589793<g.K(h)&&(h=g.Bb(3.141592653589793,h)-h);h=Math.atan(f*Math.tan(h));k=Math.sin(h);C=Math.cos(h);q.j=Math.atan2(m+a*k*k*k,d-b*C*C*C);1.570796326794897<g.K(q.j)&&(q.j=g.Bb(3.141592653589793,
q.j)-q.j);h=Math.atan(f*Math.tan(q.j));k=Math.sin(h);C=Math.cos(h);e.j=(m-F*k)*Math.sin(q.j)+(d-1*C)*Math.cos(q.j)}};c.n=function(b,a,c){c=Math.sin(c);return b/Math.sqrt(1-a*c*c)};c.fu=function(b,a){return Math.atan2(Math.sin(a)*(1-b),Math.cos(a))};c.mk=function(b,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-b))};c.Ep=function(b,a){if(g.Ri(b)||0==a||g.W(g.K(a),1.570796326794897))return a;var d,m,q,C,e,f,k,w,U;if(.006884661117170036>b){C=Math.sqrt(1-b);e=(1-C)/(1+C);f=e*e;k=e*f;w=e*k;d=e*w;U=e*
d;m=e*U;q=1.572916666666667*k-3.2578125*d+4.295068359375*m;C=2.142578125*w-6.071484375*U;b=3.129296875*d-11.249837239583334*m;var l=4.775276692708333*U,n=7.958636765252976*m,p=Math.cos(2*a);return a+Math.sin(2*a)*(1.5*e-.84375*k+.525390625*d-.2688395182291667*m-q+b-n+p*(2*(1.3125*f-1.71875*w+1.650146484375*U)-4*C+6*l+p*(4*q-12*b+24*n+p*(8*C-32*l+p*(16*b-80*n+p*(32*l+64*p*n))))))}C=1-b;e=b/2;f=g.K(a);k=f*c.Ru(b)/(1.570796326794897*C);w=9999;U=f;for(f=0;1E-16<w&&50>f;f++)m=c.Hm(b,U),d=(c.xE(U,b)-e*
Math.sin(2*U)/m)/C-k,m=1/(m*m*m),q=d/m,d=U-q,w=g.K(q),U=d;return 0<=a?U:-U};c.UW=function(b,a){return g.Ri(a)?b:b*c.Ru(a)/1.570796326794897};c.ca=function(b){b=c.sE(b,6.283185307179586);return 0>b?b+6.283185307179586:3.141592653589793>g.K(b)||g.W(g.K(b),3.141592653589793)?b:b-6.283185307179586};c.sE=function(b,a){return b-Math.floor(b/a)*a};c.Wg=function(b,a){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a,m=d*d;return b/(1+a)*(1+.25*d+.015625*m+.00390625*d*m)*1.570796326794897}return b*
c.Ru(a)};c.Mr=function(b,a){var d=g.Bb(1,Math.sin(a));a=g.K(c.sE(a,3.141592653589793));a=1.570796326794897>=a?a:3.141592653589793-a;var m;g.W(a,1.570796326794897)?m=a:m=Math.atan(Math.sqrt(1-b)*Math.tan(a));return m*d};c.q=function(b,a,h){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a,q=a*d,g=a*q,e=a*g,f=a*e,k=a*f,w=-.7291666666666666*q+.2278645833333333*e+.03987630208333334*k,U=.615234375*g-.21533203125*f,l=-.54140625*e+.20302734375*k,n=.48876953125*f,p=-.4488699776785715*k,t=
Math.cos(2*h);return b/(1+a)*((1+.25*d+.015625*g+.00390625*f)*h+Math.sin(2*h)*(-1.5*a+.1875*q+.0234375*e+.00732421875*k-w+l-p+t*(2*(.9375*d-.234375*g-.03662109375*f)-4*U+6*n+t*(4*w-12*l+24*p+t*(8*U-32*n+t*(16*l-80*p+t*(32*n+64*t*p)))))))}return b*(c.xE(h,a)-.5*a*Math.sin(2*h)/c.Hm(a,h))};c.Hm=function(b,a){a=Math.sin(a);return Math.sqrt(1-b*a*a)};c.Ru=function(b){return g.SD(b,1,2.220446049250313E-16)?1:1>b?c.mv(0,1-b)-b/3*c.Hu(0,1-b):NaN};c.xE=function(b,d){var h=g.Bb(1,b);b=g.K(b);var m=Math.floor(b/
1.570796326794897),q;if(1<d)q=0==b?0:NaN;else if(g.wd(m))q=c.sin(b),q=q*c.mv(1-q*q,1-d*q*q)-d/3*q*q*q*c.Hu(1-q*q,1-d*q*q);else{q=a.J.truncate(m%2);var C=c.Ru(d);0<q?(q=Math.sin(1.570796326794897*(m+1)-b),q=q*c.mv(1-q*q,1-d*q*q)-d/3*q*q*q*c.Hu(1-q*q,1-d*q*q),q=C*(m+1)-q):(q=Math.sin(b-1.570796326794897*m),q=q*c.mv(1-q*q,1-d*q*q)-d/3*q*q*q*c.Hu(1-q*q,1-d*q*q),q=C*m+q)}return q*h};c.sin=function(b){b=c.ca(b);var a=g.Bb(1,b);b=g.K(b);return g.W(b,3.141592653589793)?0:g.W(b,1.570796326794897)?1*a:Math.sin(b)*
a};c.Hu=function(b,a){for(var d=1,c=0,q=1,C,e,f,k;;){C=.2*(b+a+3*d);e=(C-b)/C;f=(C-a)/C;k=(C-d)/C;if(1E-4>g.K(e)&&1E-4>g.K(f)&&1E-4>g.K(k))break;k=Math.sqrt(a);C=Math.sqrt(d);k=Math.sqrt(b)*(k+C)+k*C;c+=q/(C*(d+k));q*=.25;b=.25*(b+k);a=.25*(a+k);d=.25*(d+k)}b=e*f;d=k*k;a=b-d;d=b-6*d;e=d+a+a;return 3*c+q*(1+d*(-.2142857142857143+.10227272727272728*d-.1730769230769231*k*e)+k*(.1666666666666667*e+k*(-.4090909090909091*a+.1153846153846154*k*b)))/(C*Math.sqrt(C))};c.mv=function(b,a){for(var d,c,q,C,e=
1;;e=.25*(e+d)){d=(b+a+e)/3;c=2-(d+b)/d;q=2-(d+a)/d;C=2-(d+e)/d;if(1E-4>g.K(c)&&1E-4>g.K(q)&&1E-4>g.K(C))break;d=Math.sqrt(a);c=Math.sqrt(e);d=Math.sqrt(b)*(d+c)+d*c;b=.25*(b+d);a=.25*(a+d)}b=c*q-C*C;a=c*q*C;return(1+(.04166666666666666*b-.1-.06818181818181818*a)*b+.07142857142857142*a)/Math.sqrt(d)};c.Cx=function(b,a){if(g.Ri(b)||0==a||g.W(g.K(a),1.570796326794897))return a;var d,c,q;if(.006884661117170036>b){d=b*b;c=b*d;q=b*c;var C=b*q,e=b*C,f=b*e,k=-(.02708333333333333*c+.03430059523809524*q+.03149181547619048*
C+.02634359154541446*e+.02156896735835538*f),w=.007669890873015873*q+.01299603174603175*C+.0148051353064374*e+.01454454953803912*f,U=-(.002275545634920635*C+.004830845032667949*e+.006558395368616723*f),l=6.957236677288761E-4*e+.001775193002406544*f,n=-(2.17324089394402E-4*f),p=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*b+.2083333333333333*d+.09375*c+.04878472222222222*q+.02916666666666667*C+.01938905423280423*e+.01388255931712963*f)-k+U-n+p*(2*(.1041666666666667*d+.0875*c+.06050347222222222*q+.04151785714285714*
C+.02958958540013228*e+.02203667534722222*f)-4*w+6*l+p*(4*k-12*U+24*n+p*(8*w-32*l+p*(16*U-80*n+p*(32*l+64*p*n))))))}0==a||g.W(g.K(a),1.570796326794897)?d=a:(c=Math.sqrt(b),q=c*Math.sin(a),d=Math.tan(.7853981633974483+a/2)*Math.pow((1-q)/(1+q),c/2),d=2*Math.atan(d)-1.570796326794897);return d};c.YP=function(b,a){if(g.Ri(b)||0==a||g.W(g.K(a),1.570796326794897))return a;var d,c;if(.006884661117170036>b){p=b*b;U=b*p;l=b*U;d=b*l;n=b*d;c=b*n;var q=.05833333333333333*U+.07232142857142858*l+.05634300595238095*
d+.0355325796406526*n+.020235546186067*c,C=.02653149801587302*l+.04379960317460317*d+.0429211791776896*n+.03255384637546096*c,e=.01294022817460318*d+.02668104344536636*n+.03155651254609588*c,f=.00659454790965208*n+.0163075268674227*c,k=.003463473736911237*c,w=Math.cos(2*a);return a+Math.sin(2*a)*(.5*b+.2083333333333333*p+.08333333333333333*U+.03611111111111111*l+.01875*d+.01195601851851852*n+.008863673941798942*c-q+e-k+w*(2*(.1458333333333333*p+.1208333333333333*U+.07039930555555556*l+.03616071428571429*
d+.01839451058201058*n+.01017113095238095*c)-4*C+6*f+w*(4*q-12*e+24*k+w*(8*C-32*f+w*(16*e-80*k+w*(32*f+64*w*k))))))}for(var U=Math.sqrt(b),l=U/2,n=Math.tan(.7853981633974483+a/2),q=0,C=1,p=a;0!=C;p=c)if(d=U*Math.sin(p),c=n*Math.pow((1+d)/(1-d),l),c=2*Math.atan(c)-1.570796326794897,q++,g.W(c,p)||3E4<q)C=0;return p};return c}();a.C=e})(y||(y={}));(function(a){var g=function(){function g(c){this.dm=this.Rt=null;this.vw=!1;this.pB=this.qB=0;this.nB=new a.b;this.AB=new a.b;this.ix=!1;this.kr=new a.h;this.vI=
this.fx=0;this.gx=null;this.cl=!1;this.yp=null;this.NA=0;this.rf=c;this.yt=a.Ib.iw(this.rf,0,!0);this.nB.Yc();this.AB.Yc();this.TI=NaN;var b=c.getCode();0<b?(this.nl=b,a.Qf.getCode(c)):this.nl=a.Qf.getCode(c);0>this.nl&&(this.nl=0);var d=this.rf.getType();this.iI=d==a.Uc.PE_TYPE_PROJCS?2:1;if(d==a.Uc.PE_TYPE_PROJCS&&!c.loadConstants())throw a.g.F("PeProjcs.loadConstants failed");b=d==a.Uc.PE_TYPE_GEOGCS?this.rf:this.rf.getGeogcs();d!=a.Uc.PE_TYPE_GEOGCS&&a.Qf.getCode(b);this.yp=c.getUnit();this.TI=
b.getPrimem().getLongitude();this.vI=c=b.getUnit().getUnitFactor();c=Math.PI/(180*c);1E-10>Math.abs(c-1)&&(c=1);this.pB=c;0!=(d&a.Uc.PE_TYPE_PROJCS)?(b=this.rf,this.qB=1/b.getUnit().getUnitFactor(),this.fx=.001/this.rf.getUnit().getUnitFactor(),this.gx=a.Ag.generate(b,a.Ag.PE_PCSINFO_OPTION_NONE),this.cl=this.gx.isPannableRectangle(),this.NA=a.Ib.OO(this.gx.getCentralMeridian(),this.pB)):(this.ix=this.cl=!0,this.qB=0,d=1/b.getUnit().getUnitFactor(),this.fx=.001/b.getDatum().getSpheroid().getAxis()*
d,this.NA=0);this.cl&&(this.dy(),this.hL(),this.iL(),this.gL(),this.NY(),this.OY())}g.prototype.Ys=function(){return this.nl};g.prototype.Wj=function(){return this.gx};g.zz=function(a,b){return a==b?!0:null!=a&&null!=b&&0==a.nl&&0==b.nl?a.yt===b.yt:!1};g.prototype.Ic=function(){return this.cl};g.prototype.Ch=function(a){a.I(this.mp)};g.prototype.bw=function(){return this.mp.o};g.prototype.aw=function(){return this.mp.v};g.prototype.$S=function(a){a.I(this.hx)};g.prototype.NY=function(){var c=this.rf.getType();
if(c==a.Uc.PE_TYPE_PROJCS){var c=this.rf,b=this.Wj().getCentralMeridian(),d=c.getGeogcs();if(null==d)throw a.g.X("internal error");d=1/d.getUnit().getUnitFactor()*Math.PI;b=[[b+d,0]];a.fi.geogToProj(c,1,b);var b=b[0][0],d=c.getParameters()[a.Uc.PE_PARM_X0].getValue(),h=this.Ok(),c=new a.h;h.s(c);var h=Math.abs(b-d),b=h+d,d=-1*h+d,h=c.B,c=c.A,m=new a.h;m.I(d,c,b,h);null==this.mp&&(this.mp=m)}else if(c==a.Uc.PE_TYPE_GEOGCS)d=1/this.rf.getUnit().getUnitFactor()*Math.PI,c=new a.h,c.I(-d,-d/2,d,d/2),null==
this.mp&&(this.mp=c);else throw a.g.X("internal error");};g.prototype.OY=function(){var c=this.rf.getType();if(c==a.Uc.PE_TYPE_PROJCS){var b=this.rf,c=this.Wj().getCentralMeridian(),b=b.getGeogcs();if(null==b)throw a.g.X("internal error");var b=1/b.getUnit().getUnitFactor()*Math.PI,d=this.Ts(),h=new a.h;d.s(h);d=new a.h;d.I(c-b,h.A,c+b,h.B);null==this.hx&&(this.hx=d)}else if(c==a.Uc.PE_TYPE_GEOGCS)b=1/this.rf.getUnit().getUnitFactor()*Math.PI,c=new a.h,c.I(-b,-b/2,b,b/2),null==this.hx&&(this.hx=c);
else throw a.g.X("internal error");};g.prototype.ce=function(){return this.pB};g.prototype.hn=function(){return this.qB};g.prototype.Ts=function(){if(this.cl)return this.dm;var a=this.dm;if(null!=a)return a;this.dy();return this.dm};g.prototype.Us=function(){if(this.cl)return null;if(null!=this.dm)return this.VH;this.dy();return this.VH};g.prototype.dy=function(){if(this.rf.getType()==a.Uc.PE_TYPE_PROJCS){var c;c=this.rf;var b=c.getGeogcs(),d=c.horizonGcsGenerate();if(null!=d){var h=d[0].getNump(),
m=d[0].getKind();c=0<d[0].getInclusive();var q=this.ce(),g=90*q,e=360*q,f=370*q,k=180*q*a.Uc.PE_HORIZON_DELTA/Math.PI,w=new a.h,U=null;if(1<h)for(var l=1;l<h;l++)if(d[l].getKind()==a.Uc.PE_HORIZON_LINE){null==U&&(U=new a.Ua);var n=d[l].getCoord();U.$x(n[0][0],n[0][1]);U.ak(n[1][0],n[1][1])}if(m==a.Uc.PE_HORIZON_RECT)d=d[0].getCoord(),w.I(d[0][0],d[0][1]),w.Nb(d[1][0],d[1][1]),Math.abs(w.B-g)<1E-7*k&&(w.B=g),Math.abs(w.A+g)<1E-7*k&&(w.A=-g),w.O()>f&&(d=-400*q,w.I(d,w.A,d+5*e,w.B)),d=new a.di(w),null==
this.dm&&(this.dm=d,this.vw=c);else{f=new a.Ja;e=this.Wj().isGcsHorizonMultiOverlap();w=a.Su.hG(b,a.Tu.Integer64);if(e){f=new a.wM;k=a.ei.local().V(f,w,null);for(l=0;l<h;l++)if(d[l].getKind()==a.Uc.PE_HORIZON_POLY){b=d[l].getSize();q=d[l].getCoord();m=[];for(g=0;g<b;g++)m[g]=a.b.pa(q[g][0],q[g][1]);d[l].getInclusive();e&&(q=new a.Ja,q.Gl(m,b-1),f.wY(q),k.Oe())}f=k.next()}else for(l=0;l<h;l++)if(d[l].getKind()==a.Uc.PE_HORIZON_POLY){b=d[l].getSize();q=d[l].getCoord();e=[];for(g=0;g<b;g++)e[g]=a.b.pa(q[g][0],
q[g][1]);d[l].getInclusive();f.Gl(e,b-1)}c?a.wk.local().xo(f,w,1):a.eq.local().xo(f,w,1);a.Jj.local().xo(f,w,1);null==this.dm&&(this.dm=f,this.vw=c,this.VH=U)}}}};g.prototype.Uv=function(){if(this.cl)return this.vw;null==this.dm&&this.dy();return this.vw};g.prototype.hL=function(){if(2==this.iI){var c=this.rf.horizonPcsGenerate();if(null!=c){var b=c[0].getKind();c[0].getInclusive();var d=c[0].getNump(),h=!1;if(b==a.Uc.PE_HORIZON_RECT)c=c[0].getCoord(),d=new a.h,d.I(c[0][0],c[0][1]),d.Nb(c[1][0],c[1][1]),
c=new a.di(d);else{b=-1;for(h=0;h<d;h++)c[h].getKind()==a.Uc.PE_HORIZON_POLY&&(b=h);h=c[b].getSize()-1;c=c[b].getCoord();d=[];for(b=0;b<h;b++)d[b]=a.b.pa(c[b][0],c[b][1]);c=b=new a.Ja;b.Gl(d,h);h=!0}this.Wj().isDensificationNeeded()&&(d=1E5*this.hn(),c=a.Pm.local().V(c,d,null));h&&(h=new a.di,c.Wn(h),c.ef(),c.Rb(),c.HS(),a.wk.local().xo(c,null,1));null==this.Rt&&(this.Rt=c)}}};g.prototype.Ok=function(){if(this.cl)return this.Rt;var a=this.Rt;if(null!=a)return a;this.hL();return this.Rt};g.prototype.iL=
function(){if(this.rf.getType()==a.Uc.PE_TYPE_PROJCS){var c=90*this.ce(),c=[[0,c],[0,-c]];a.fi.geogToProj(this.rf,2,c);var b=this.Wj(),d=b.getNorthPoleLocation()!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY,b=b.getSouthPoleLocation()!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(d&&this.nB.ja(c[0][0],c[0][1]),b&&this.AB.ja(c[1][0],c[1][1]))}this.ix=!0};g.prototype.gA=function(a,b){this.cl||this.ix||this.iL();a?b.L(this.AB):b.L(this.nB)};g.prototype.gL=function(){if(1==this.iI){var c=400*this.ce();this.kr.I(-c,-c,c,
c)}else c=a.Ag.generate(this.rf,a.Ag.PE_PCSINFO_OPTION_DOMAIN),c=a.h.pa(c.getDomainMinx(),c.getDomainMiny(),c.getDomainMaxx(),c.getDomainMaxy()),this.kr.u()&&this.kr.I(c)};g.prototype.zS=function(a){this.cl&&a.I(this.kr);this.kr.u()&&this.gL();a.I(this.kr)};g.prototype.kn=function(){return this.TI};g.prototype.ri=function(){return this.NA};g.prototype.Td=function(){return this.yp};g.prototype.Vs=function(){return this.vI};return g}();a.ZD=g})(y||(y={}));(function(a){var g=function(){function g(c){this.lV=
c;this.yt=a.Ib.iw(c,0,!0);var b=c.getCode();this.pt=0<b?b:a.Qf.getCode(c);0>this.pt&&(this.pt=0);this.yp=b=this.lV.getUnit();this.JI=1/b.getUnitFactor();a.Qf.getCode(c)}g.zz=function(a,b){return a==b?!0:null!=a&&null!=b&&0==a.pt&&0==b.pt?a.yt===b.yt:!1};g.prototype.Ys=function(){return this.pt};return g}();a.hN=g})(y||(y={}));(function(a){var g=function(){function g(){}g.Cb=function(c,b,d,h,m,q,g,e){if(null!=q||null!=g||null!=e){h=a.C.ca(h);b=a.C.ca(b);d=a.C.ca(d);m=a.C.ca(m);1.570796326794897<a.l.K(d)&&
(d=a.l.Bb(3.141592653589793,d)-d,b=a.C.ca(b+3.141592653589793));1.570796326794897<a.l.K(m)&&(m=a.l.Bb(3.141592653589793,m)-m,h=a.C.ca(h+3.141592653589793));var C=a.C.ca(h-b);if(a.l.W(d,m)&&(a.l.W(b,h)||a.l.W(a.l.K(d),1.570796326794897)))null!=q&&(q.j=0),null!=g&&(g.j=0),null!=e&&(e.j=0);else{if(a.l.W(d,-m)){if(a.l.W(a.l.K(d),1.570796326794897)){null!=q&&(q.j=3.141592653589793*c);null!=g&&(g.j=0<d?a.C.ca(3.141592653589793-a.C.ca(h)):a.C.ca(h));null!=e&&(e.j=0<d?a.C.ca(h):a.C.ca(3.141592653589793-a.C.ca(h)));
return}if(a.l.W(a.l.K(C),3.141592653589793)){null!=q&&(q.j=3.141592653589793*c);null!=g&&(g.j=0);null!=e&&(e.j=0);return}}var F=1.570796326794897==a.l.K(d)?0:Math.cos(d),f=Math.sin(d),k=1.570796326794897==a.l.K(m)?0:Math.cos(m),w=Math.sin(m),l=1.570796326794897==a.l.K(C)?0:Math.cos(C),n=3.141592653589793==a.l.K(C)?0:Math.sin(C);if(null!=q){var p=Math.sin((m-d)/2),C=Math.sin(C/2);q.j=2*Math.asin(Math.sqrt(p*p+F*k*C*C))*c}null!=g&&(a.l.W(a.l.K(d),1.570796326794897)?g.j=0>d?h:a.C.ca(3.141592653589793-
h):g.j=Math.atan2(k*n,F*w-f*k*l));null!=e&&(a.l.W(a.l.K(m),1.570796326794897)?e.j=0>m?b:a.C.ca(3.141592653589793-b):(e.j=Math.atan2(F*n,w*F*l-k*f),e.j=a.C.ca(e.j+3.141592653589793)))}}};g.Rf=function(c,b,d,h,m,q,g){if(null!=q||null!=g){b=a.C.ca(b);d=a.C.ca(d);1.570796326794897<a.l.K(d)&&(d=a.l.Bb(3.141592653589793,d)-d,b=a.C.ca(b+3.141592653589793));a.l.W(a.l.K(d),1.570796326794897)&&(b=0);m=a.C.ca(m);var C=a.l.W(a.l.K(m),1.570796326794897)?0:Math.cos(m),e=a.l.W(a.l.K(m),3.141592653589793)?0:Math.sin(m),
f=a.l.W(a.l.K(d),1.570796326794897)?0:Math.cos(d),k=Math.sin(d);c=h/c;h=a.l.W(a.l.K(c),1.570796326794897)?0:Math.cos(c);var w=a.l.W(a.l.K(c),3.141592653589793)?0:Math.sin(c),l=Math.asin(k*h+f*w*C);null!=g&&(g.j=l);null!=q&&(q.j=a.l.W(a.l.K(l),1.570796326794897)?a.l.W(d,-l)?0>l?m:a.C.ca(3.141592653589793-m):b:a.l.W(a.l.K(d),1.570796326794897)&&a.l.W(c,3.141592653589793)?0>d?m:a.C.ca(3.141592653589793-m):a.C.ca(b+Math.atan2(w*e,f*h-k*w*C)))}};return g}();a.uh=g})(y||(y={}));(function(a){var g=function(){function g(){}
g.Cb=function(c,b,d,h,m,q,g,e,f){var C=new a.da(0),F=new a.da(0),k=[0,0,0],H=[0,0,0],w=[0,0,0],l=new a.da(0),n=new a.da(0),p=new a.da(0),t=new a.da(0),r=new a.da(0);if(null!=g||null!=e||null!=f)if(a.l.Ri(b))a.uh.Cb(c,d,h,m,q,g,e,f);else{m=a.C.ca(m);d=a.C.ca(d);var u=a.C.ca(m-d);if(a.l.W(h,q)&&(a.l.W(d,m)||a.l.W(a.l.K(h),1.570796326794897)))null!=g&&(g.j=0),null!=e&&(e.j=0),null!=f&&(f.j=0);else{if(a.l.W(h,-q)){if(a.l.W(a.l.K(h),1.570796326794897)){null!=g&&(g.j=2*a.C.Wg(c,b));null!=e&&(e.j=0<h?a.C.ca(3.141592653589793-
a.C.ca(m)):a.C.ca(m));null!=f&&(f.j=0<h?a.C.ca(m):a.C.ca(3.141592653589793-a.C.ca(m)));return}a.l.W(a.l.K(u),3.141592653589793)&&(null!=g&&(g.j=2*a.C.Wg(c,b)),null!=e&&(e.j=0),null!=f&&(f.j=0))}else if(a.l.W(a.l.K(h),1.570796326794897)||a.l.W(a.l.K(q),1.570796326794897))a.l.W(a.l.K(h),1.570796326794897)?d=m:m=d;var v=0,x;0>u&&(v=1,x=d,d=m,m=x,x=h,h=q,q=x);var u=a.C.fu(b,h),z=a.C.fu(b,q);if(null!=e||null!=f)a.uh.Cb(c,d,u,m,z,null,C,F),C=Math.atan2(Math.sin(C.j)*Math.cos(h-u),Math.cos(C.j)),F=Math.atan2(Math.sin(F.j)*
Math.cos(q-z),Math.cos(F.j)),0!=v&&(x=C,C=F,F=x),null!=e&&(e.j=C),null!=f&&(f.j=F);null!=g&&(a.C.Fk(1,b,h,d,0,p,t,r),k[0]=p.j,k[1]=t.j,k[2]=r.j,a.C.Fk(1,b,q,m,0,p,t,r),H[0]=p.j,H[1]=t.j,H[2]=r.j,w[0]=k[1]*H[2]-H[1]*k[2],w[1]=-(k[0]*H[2]-H[0]*k[2]),w[2]=k[0]*H[1]-H[0]*k[1],b=1-a.C.Hm(b,a.C.Mr(b,a.C.mk(b,Math.acos(w[2]/Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]))))),b*=2-b,e=Math.atan2(-w[1],-w[0]),w=a.C.ca(e-1.570796326794897),e=a.C.ca(e+1.570796326794897),w=a.l.K(a.C.ca(d-w))<=a.l.K(a.C.ca(d-e))?w:e,
a.uh.Cb(1,w,0,d,u,l,null,null),a.uh.Cb(1,w,0,m,z,n,null,null),3.141592653589793<l.j+n.j&&(w=a.C.ca(w+3.141592653589793),a.uh.Cb(1,w,0,d,u,l,null,null),a.uh.Cb(1,w,0,m,z,n,null,null)),l.j*=a.l.Bb(1,h),n.j*=a.l.Bb(1,q),l.j=a.C.mk(b,l.j),n.j=a.C.mk(b,n.j),d=a.C.q(c,b,l.j),c=a.C.q(c,b,n.j),g.j=a.l.K(c-d))}}};g.Rf=function(c,b,d,h,m,q,g,e){var C=0,F=new a.da(0),f=new a.da(0),k=[0,0,0],w=[0,0,0],l=new a.da(0),n=new a.da(0),p=new a.da(0);if(null!=g||null!=e)if(a.l.Ri(b))a.uh.Rf(c,d,h,m,q,g,e);else if(a.l.wd(m))null!=
g&&(g.j=d),null!=e&&(e.j=h);else{q=a.C.ca(q);0>m&&(m=a.l.K(m),q=a.C.ca(q+3.141592653589793));d=a.C.ca(d);h=a.C.ca(h);1.570796326794897<a.l.K(h)&&(d=a.C.ca(d+3.141592653589793),h=a.l.Bb(3.141592653589793,h)-h);a.l.W(a.l.K(h),1.570796326794897)&&(d=0);var t;if(a.l.wd(h))t=a.l.K(1.570796326794897-a.l.K(q)),t=a.C.mk(b,t),t=1-a.C.Hm(b,a.C.Mr(b,t)),t*=2-t,c=m/a.C.Wg(c,t)*1.570796326794897,c=a.C.Ep(t,c),c=a.C.fu(t,c),a.uh.Rf(1,d,h,c,q,g,F),null!=e&&(C=F.j),null!=e&&(e.j=a.C.mk(b,C));else if(a.l.W(a.l.K(h),
1.570796326794897))C=a.C.Wg(c,b),F=2*C,c=a.l.Bb(1.570796326794897,h),q=0<c?a.C.ca(3.141592653589793-q):q,h=C-m,a.l.K(h)<=C?null!=g&&(g.j=q):(h=Math.floor(m/F),0==a.J.truncate(h%2)?(null!=g&&(g.j=q),h=C-(m-h*F)):(null!=g&&(g.j=a.C.ca(q+3.141592653589793)),h=C-((h+1)*F-m))),null!=e&&(e.j=a.C.Ep(b,h/C*c));else{t=a.C.fu(b,h);q=Math.atan2(Math.sin(q),Math.cos(q)*Math.cos(h-t));var r=a.J.truncate(a.l.Bb(1,t))*(1.570796326794897>=a.l.K(q)?1:-1);q=a.C.ca(d+Math.atan(Math.tan(q)*-Math.sin(t)));a.uh.Cb(c,q,
0,d,t,null,f,null);t=a.l.K(1.570796326794897-a.l.K(f.j));t=a.C.mk(b,t);t=1-a.C.Hm(b,a.C.Mr(b,t));t*=2-t;a.C.Fk(1,b,0,q,0,l,n,p);k[0]=l.j;k[1]=n.j;k[2]=p.j;a.C.Fk(1,b,h,d,0,l,n,p);w[0]=l.j;w[1]=n.j;w[2]=p.j;h=Math.acos((k[0]*w[0]+k[1]*w[1]+k[2]*w[2])/Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]));h=a.C.mk(t,h);h=a.C.q(c,t,h)+m*r;m=0<h?f.j:a.C.ca(f.j+3.141592653589793);c=a.l.K(h)/a.C.Wg(c,t)*1.570796326794897;c=a.C.Ep(t,c);c=a.C.fu(t,c);a.uh.Rf(1,q,0,c,m,g,F);null!=e&&(C=F.j);null!=e&&(e.j=a.C.mk(b,C))}}};
return g}();a.Cl=g})(y||(y={}));(function(a){var g=function(){function g(){}g.Cb=function(c,b,d,h,m,q,g,e,f){var C=0,F=0,k=0;if(null!=g||null!=e||null!=f)if(a.l.Ri(b))a.uh.Cb(c,d,h,m,q,g,e,f);else{var H=a.C.ca(m-d);if(a.l.W(h,q)&&(a.l.wd(H)||a.l.W(a.l.K(h),1.570796326794897)))null!=g&&(g.j=0),null!=e&&(e.j=0),null!=f&&(f.j=0);else{if(a.l.W(h,-q)){if(a.l.W(a.l.K(h),1.570796326794897)){null!=g&&(g.j=2*a.C.Wg(c,b));null!=e&&(e.j=0<h?a.C.ca(3.141592653589793-a.C.ca(m)):a.C.ca(m));null!=f&&(f.j=0<h?a.C.ca(m):
a.C.ca(3.141592653589793-a.C.ca(m)));return}a.l.W(a.l.K(H),3.141592653589793)&&(null!=g&&(g.j=2*a.C.Wg(c,b)),null!=e&&(e.j=0),null!=f&&(f.j=0))}else{if(a.l.W(a.l.K(h),1.570796326794897)||a.l.W(a.l.K(q),1.570796326794897)){a.Cl.Cb(c,b,d,h,m,q,g,e,f);return}if(a.l.wd(H)||a.l.W(a.l.K(H),3.141592653589793)){a.Cl.Cb(c,b,d,h,m,q,g,e,f);return}}var w=1-Math.sqrt(1-b),l=b/(1-b),n=c*(1-w);c=a.C.Mr(b,h);var p=a.C.Mr(b,q);b=1.570796326794897==a.l.K(c)?0:Math.cos(c);var t=Math.sin(c),r=1.570796326794897==a.l.K(p)?
0:Math.cos(p),u=Math.sin(p),v=H,x=Math.cos(v),z=Math.sin(v),y=1,D=0,A,B,J,E,G;do{A=v;B=Math.sqrt(Math.pow(r*z,2)+Math.pow(b*u-t*r*x,2));J=t*u+b*r*x;E=Math.atan2(B,J);if(0==B){y=0;break}G=b*r*z/B;C=Math.cos(Math.asin(G));C*=C;F=J-2*t*u/C;1<a.l.K(F)&&(F=a.l.Bb(1,F));k=F*F;v=w/16*C*(4+w*(4-3*C));v=H+(1-v)*w*G*(E+v*B*(F+v*J*(2*k-1)));x=Math.cos(v);z=Math.sin(v);D++;if(3.141592653589793<a.l.K(v)&&30<D){y=0;break}}while(5E3>=D&&!a.l.W(A,v));if(0!=y)l*=C,w=l*(256+l*(-128+l*(74-47*l)))/1024,null!=g&&(g.j=
n*(1+l*(4096+l*(-768+l*(320-175*l)))/16384)*(E-w*B*(F+w/4*(J*(2*k-1)-w/6*F*(4*B*B-3)*(4*k-3))))),null!=e&&(a.l.W(a.l.K(h),1.570796326794897)?e.j=0>h?m:a.C.ca(3.141592653589793-m):e.j=Math.atan2(r*z,b*u-t*r*x)),null!=f&&(a.l.W(a.l.K(q),1.570796326794897)?f.j=0>q?d:a.C.ca(3.141592653589793-d):(f.j=Math.atan2(b*z,b*u*x-t*r),f.j=a.C.ca(f.j+3.141592653589793)));else{v=a.l.Bb(3.141592653589793,H);J=t*u-b*r;E=Math.acos(J);B=Math.sin(E);C=1;D=G=0;do k=G,C*=C,x=C*C,G=w*C*(1+w+w*w),F=w*w*x*(1+2.25*w),y=w*w*
w*x*C,x=1-.25*G+.1875*F-.1953125*y,G=.25*G-.25*F+.29296875*y,z=.03125*F-.05859375*y,y*=.00651041666666667,F=J-2*t*u/C,1<a.l.K(F)&&(F=a.l.Bb(1,F)),C=Math.acos(F),J=Math.cos(2*C),A=Math.cos(3*C),G=a.l.W(h,-q)?a.C.ca(3.141592653589793-H)/(3.141592653589793*w*x):a.C.ca(v-H)/(w*(x*E+G*B*F+z*Math.sin(2*E)*J+y*Math.sin(3*E)*A)),z=G*B/(b*r),v=1.570796326794897<a.l.K(H)?a.l.Bb(3.141592653589793,z)-Math.asin(z):Math.asin(z),x=Math.cos(v),B=Math.sqrt(Math.pow(r*z,2)+Math.pow(b*u-t*r*x,2)),E=3.141592653589793-
Math.asin(a.l.K(B)),J=Math.cos(E),C=Math.cos(Math.asin(G)),D++;while(70>=D&&!a.l.W(k,G));null!=g&&(C*=C,l*=C,x=1+l*(4096+l*(-768+l*(320-175*l)))/16384,a.l.W(h,-q)?g.j=3.141592653589793*n*x:(F=J-2*t*u/C,C=Math.acos(F),J=Math.cos(2*C),A=Math.cos(3*C),g.j=n*(x*E+l*(-512+l*(128+l*(-60+35*l)))/2048*B*F+l*(-4+5*l)/6144*l*l*Math.sin(2*E)*J+y*Math.sin(3*E)*A+-7.62939453125E-5*l*l*l*l*Math.sin(4*E)*Math.cos(4*C))));null!=e&&(a.l.wd(h)&&a.l.wd(q)?(C=Math.sqrt(1-G*G),e.j=Math.acos(C),0>H&&(e.j*=-1)):a.l.W(a.l.K(h),
1.570796326794897)?e.j=0>h?m:a.C.ca(3.141592653589793-m):(g=G/b,n=Math.sqrt(1-g*g),0>b*u-t*r*Math.cos(v)&&(n*=-1),e.j=Math.atan2(g,n),a.l.W(h,-q)&&a.l.K(a.C.ca(d-m))>3.141592653589793*(1-w*Math.cos(h))&&(0<h&&1.570796326794897>a.l.K(e.j)||0>h&&1.570796326794897<a.l.K(e.j))&&(e.j=a.l.Bb(3.141592653589793,e.j)-e.j)));if(null!=f)if(a.l.wd(h)&&a.l.wd(q))C=Math.sqrt(1-G*G),f.j=Math.acos(C),0<=H&&(f.j*=-1);else if(a.l.W(a.l.K(q),1.570796326794897))f.j=0>q?d:a.C.ca(3.141592653589793-d);else if(H=G/r,g=Math.sqrt(1-
H*H),n=Math.sin(v/2),0>Math.sin(p-c)-2*b*u*n*n&&(g*=-1),f.j=Math.atan2(H,g),f.j=a.C.ca(f.j+3.141592653589793),a.l.W(h,-q)&&!a.l.wd(h)&&!a.l.W(a.l.K(h),1.570796326794897)&&a.l.K(a.C.ca(d-m))>3.141592653589793*(1-w*Math.cos(h))&&(null!=e?n=e.j:(g=G/b,n=Math.sqrt(1-g*g),0>b*u-t*r*Math.cos(v)&&(n*=-1),n=Math.atan2(g,n),a.l.W(h,-q)&&a.l.K(a.C.ca(d-m))>3.141592653589793*(1-w*Math.cos(h))&&(0<h&&1.570796326794897>a.l.K(n)||0>h&&1.570796326794897<a.l.K(n))&&(n=a.l.Bb(3.141592653589793,n)-n)),1.570796326794897>=
a.l.K(n)&&1.570796326794897<a.l.K(f.j)||1.570796326794897<=a.l.K(n)&&1.570796326794897>a.l.K(f.j)))f.j=-1*a.C.ca(f.j+3.141592653589793)}}}};g.Rf=function(c,b,d,h,m,q,g,e){if(null!=g||null!=e)if(a.l.Ri(b))a.uh.Rf(c,d,h,m,q,g,e);else if(q=a.C.ca(q),a.l.W(a.l.K(h),1.570796326794897)||a.l.wd(q)||a.l.W(a.l.K(q),3.141592653589793))a.Cl.Rf(c,b,d,h,m,q,g,e);else{var C=1.570796326794897==a.l.K(q)?0:Math.cos(q),F=3.141592653589793==a.l.K(q)?0:Math.sin(q);a.l.W(a.l.K(h),1.570796326794897)&&(d=0);q=1-Math.sqrt(1-
b);var f=a.C.Mr(b,h);h=1.570796326794897==a.l.K(f)?0:Math.cos(f);var k=Math.sin(f),f=Math.atan2(Math.tan(f),C),w=h*F,l=w*w,n=1-l,p=b/(1-b)*n;b=p*(256+p*(-128+p*(74-47*p)))/1024;var t=b/4,r=b/6,u=m/(c*(1-q)*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)),v=u,x;do{x=v;m=1.570796326794897==a.l.K(v)?0:Math.cos(v);var p=3.141592653589793==a.l.K(v)?0:Math.sin(v),z=p*p;c=Math.cos(2*f+v);v=c*c;v=b*p*(c+t*(m*(2*v-1)-r*c*(4*z-3)*(4*v-3)))+u}while(!a.l.W(x,v));m=1.570796326794897==a.l.K(v)?0:Math.cos(v);p=3.141592653589793==
a.l.K(v)?0:Math.sin(v);null!=g&&(F=Math.atan2(p*F,h*m-k*p*C),n=q/16*n*(4+q*(4-3*n)),c=Math.cos(2*f+v),g.j=a.C.ca(d+(F-(1-n)*q*w*(v+n*p*(c+n*m*(2*c*c-1))))));null!=e&&(n=k*p-h*m*C,n=(1-q)*Math.sqrt(l+n*n),e.j=Math.atan2(k*m+h*p*C,n))}};return g}();a.Pu=g})(y||(y={}));(function(a){var g=function(){function g(){}g.Cb=function(c,b,d,h,m,q,g,e,f){var C=a.C.ca(m-d),F=a.l.W(a.l.K(h),1.570796326794897),k=a.l.W(a.l.K(q),1.570796326794897);if(a.l.W(h,q)&&(a.l.wd(C)||F))null!=g&&(g.j=0),null!=e&&(e.j=0),null!=
f&&(f.j=0);else{var H,w;a.l.Ri(b)?(H=Math.sin(h),w=Math.sin(q),H=Math.sqrt((1+H)/(1-H)),w=Math.sqrt((1+w)/(1-w)),H=Math.log(w)-Math.log(H),H=Math.atan2(C,H),null!=g&&(g.j=a.l.W(h,q)?a.l.K(c*Math.cos(h)*C):a.l.K((c*q-c*h)/Math.cos(H)))):(w=a.C.Cx(b,q),H=Math.sin(a.C.Cx(b,h)),w=Math.sin(w),H=Math.sqrt((1+H)/(1-H)),w=Math.sqrt((1+w)/(1-w)),H=Math.log(w)-Math.log(H),H=Math.atan2(C,H),null!=g&&(a.l.W(h,q)?g.j=a.l.K(c*C*Math.cos(h)/a.C.Hm(b,h)):(C=a.C.q(c,b,h),c=a.C.q(c,b,q),g.j=a.l.K((c-C)/Math.cos(H)))));
if(null!=e||null!=f)g=a.C.ca(H+3.141592653589793),F&&k||!F&&!k||(F?H=0>h?m:a.C.ca(3.141592653589793-m):k&&(g=0>q?d:a.C.ca(3.141592653589793-d))),null!=e&&(e.j=H),null!=f&&(f.j=g)}};g.Rf=function(c,b,d,h,m,q,g,e){q=a.C.ca(q);0>m&&(m=a.l.K(m),q=a.C.ca(q+3.141592653589793));a.l.Ri(b)?a.l.W(a.l.K(h),1.570796326794897)?(d=0>h?q:a.C.ca(3.141592653589793-q),q=m/c%6.283185307179586,3.141592653589793>=q?c=h-a.l.Bb(q,h):(d=a.C.ca(d+3.141592653589793),c=-h+a.l.Bb(q-3.141592653589793,h))):a.l.W(a.l.K(q),1.570796326794897)?
(d=a.C.ca(d+a.l.Bb(m,q)/(c*Math.cos(h))),c=h):(c=h+m*Math.cos(q)/c,1.570796326794897<a.l.K(c)&&(c=1.570796326794897),a.l.W(a.l.K(c),1.570796326794897)&&(a.l.wd(q)||a.l.W(a.l.K(q),3.141592653589793))||(1.570796316258184<a.l.K(c)&&(c=a.l.Bb(1.570796316258184,c)),b=Math.sin(h),h=Math.sin(c),b=Math.sqrt((1+b)/(1-b)),h=Math.sqrt((1+h)/(1-h)),b=Math.log(h)-Math.log(b),d=a.C.ca(d+Math.tan(q)*b))):a.l.W(a.l.K(h),1.570796326794897)?(d=0>h?q:a.C.ca(3.141592653589793-q),q=m/a.C.UW(c,b),q%=6.283185307179586,
3.141592653589793>=q?(c=h-a.l.Bb(q,h),c=a.C.Ep(b,c)):(d=a.C.ca(d+3.141592653589793),c=-h+a.l.Bb(q-3.141592653589793,h),c=a.C.Ep(b,c))):a.l.W(a.l.K(q),1.570796326794897)?(d=a.C.ca(d+a.l.Bb(m,q)*a.C.Hm(b,h)/(c*Math.cos(h))),c=h):(c=1.570796326794897*(m*Math.cos(q)+a.C.q(c,b,h))/a.C.Wg(c,b),1.570796326794897<a.l.K(c)&&(c=a.l.Bb(1.570796326794897,c)),c=a.C.Ep(b,c),a.l.W(a.l.K(c),1.570796326794897)&&(a.l.wd(q)||a.l.W(a.l.K(q),3.141592653589793))||(m=a.C.Cx(b,h),h=a.C.Cx(b,c),1.570796316258184<a.l.K(h)&&
(h=a.l.Bb(1.570796316258184,c),c=a.C.YP(b,h)),b=Math.sin(m),h=Math.sin(h),b=Math.sqrt((1+b)/(1-b)),h=Math.sqrt((1+h)/(1-h)),b=Math.log(h)-Math.log(b),d=a.C.ca(d+Math.tan(q)*b)));null!=g&&(g.j=d);null!=e&&(e.j=c)};return g}();a.$D=g})(y||(y={}));(function(a){var g=function(){function g(){}g.Iz=function(c,b,d,h,m,q,g){a.Pu.Cb(c,b,d,h,m,q,null,g,null)};g.Yi=function(c,b,d,h,m,q,g,e){a.Pu.Rf(c,b,d,h,m,q,g,e)};g.Kd=function(c,b,d,h,m,q,g,e,f,k){switch(k){case 2:a.Cl.Cb(c,b,d,h,m,q,g,e,f);break;case 3:a.aE.Cb(c,
b,d,h,m,q,g,e,f);break;case 1:a.$D.Cb(c,b,d,h,m,q,g,e,f);break;default:a.Pu.Cb(c,b,d,h,m,q,g,e,f)}};g.Sj=function(c,b,d,h,m,q,g,e,f){switch(f){case 2:a.Cl.Rf(c,b,d,h,m,q,g,e);break;case 3:a.aE.Rf(c,b,d,h,m,q,g,e);break;case 1:a.$D.Rf(c,b,d,h,m,q,g,e);break;default:a.Pu.Rf(c,b,d,h,m,q,g,e)}};return g}();a.mb=g})(y||(y={}));(function(a){var g=function(){function b(){this.y=this.x=null}b.pa=function(d){var c=new b;c.x=new a.Xb;c.x.set(d.x);c.y=new a.Xb;c.y.set(d.y);return c};b.aG=function(d,c){var h=
new b;h.x=new a.Xb;h.x.set(d);h.y=new a.Xb;h.y.set(c);return h};b.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()};b.prototype.value=function(){return a.b.pa(this.x.value(),this.y.value())};return b}();a.jZ=g;var e=function(){function b(){this.z=this.y=this.x=null}b.pa=function(d){var c=new b;c.x=new a.Xb;c.x.set(d.x);c.y=new a.Xb;c.y.set(d.y);c.z=new a.Xb;c.z.set(d.z);return c};b.aG=function(d,c,m){var h=new b;h.x=new a.Xb;h.x.set(d);h.y=new a.Xb;h.y.set(c);h.z=new a.Xb;h.z.set(m);return h};
b.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()&&this.z.Kg()};b.prototype.value=function(){return new a.od(this.x.value(),this.y.value(),this.z.value())};b.prototype.pi=function(b){var d=new a.Xb,c=new a.Xb,q=new a.Xb;d.um(this.x,b.x);c.um(this.y,b.y);q.um(this.z,b.z);b=new a.Xb;b.zO(d,c);b.add(q);return b};b.prototype.iG=function(d){var c=new b;c.x.um(this.y,d.z);c.y.um(this.z,d.x);c.z.um(this.x,d.y);var m=new a.Xb,q=new a.Xb,g=new a.Xb;m.um(this.z,d.y);q.um(this.x,d.z);g.um(this.y,d.x);
c.x.sub(m);c.y.sub(q);c.z.sub(g);return c};return b}();a.kZ=e;var c=function(){function b(){}b.vL=function(a,c,m){var d=c.x;c=c.y;b.Fk(1,a,Math.cos(d),Math.sin(d),Math.cos(c),Math.sin(c),m)};b.aZ=function(d,c){var h=new a.od;b.vL(d,c,h);return h};b.QZ=function(d,c,m,q,g,e){var h=new a.od;b.Fk(d,c,m,q,g,e,h);return h};b.Fk=function(b,a,c,q,g,e,f){b/=Math.sqrt(1-a*e*e);f.I(b*g*c,b*g*q,b*(1-a)*e)};b.Qu=function(b,c){var d=new a.Xb,h=new a.Xb,g=new a.Xb,F=new a.Xb;d.cos(c.x);h.sin(c.x);g.cos(c.y);F.sin(c.y);
c=new a.Xb;c.set(F);c.Tg(F);c.Fp(b);c.Fp(-1);c.GO();c.sqrt();var f=new a.Xb;f.set(1);f.bn(c);c=new a.Xb;c.set(f);c.Tg(g);c.Tg(d);d=new a.Xb;d.set(f);d.Tg(g);d.Tg(h);h=new a.Xb;h.set(f);h.Fp(1-b);h.Tg(F);return e.aG(c,d,h)};b.tY=function(b,a,c){var d=a.x,h=a.y;c.ja(Math.atan2(h,d),Math.atan2(a.z,(1-b)*Math.sqrt(d*d+h*h)))};b.EZ=function(d,c,m){d=new a.b;b.tY(c,m,d);return d};b.oU=function(d,c,m,q){if(Math.abs(c.x-m.x)>Math.PI||Math.abs(c.y)>.5*Math.PI||Math.abs(m.y)>.5*Math.PI||(Math.abs(c.y)==.5*
Math.PI||Math.abs(m.y)==.5*Math.PI)&&c.x!=m.x)return NaN;q=b.UB(q,Math.min(c.x,m.x),Math.max(c.x,m.x));if(!(new a.yc(c.x,m.x)).contains(q))return NaN;var h=g.pa(c);m=g.pa(m);h=b.Qu(d,h);m=b.Qu(d,m);m=h.iG(m);if(m.z.Kg())return c=c.y;var e=new a.Xb;e.set(m.x);e.bn(m.z);e.Fp(-1);var f=new a.Xb;f.set(m.y);f.bn(m.z);f.Fp(-1);var k=new a.Xb;k.set(f);k.Tg(f);h=new a.Xb;h.set(e);h.Tg(e);h.add(k);h.sqrt();if(h.Kg()||e.Kg()&&f.Kg())return c=c.y;c=Math.atan2(f.value(),e.value());c=Math.atan2(h.value()*Math.cos(c-
q),1-d);q=b.aZ(d,a.b.pa(q,c));d=new a.od(q.x,q.y,-q.z);q=m.value().pi(q);d=m.value().pi(d);Math.abs(d)<Math.abs(q)&&(c=-c);return c};b.xA=function(d,c,m,q,C,e){e[0]=NaN;e[1]=NaN;if(Math.abs(m.x-q.x)>Math.PI||Math.abs(m.y)>.5*Math.PI||Math.abs(q.y)>.5*Math.PI||(Math.abs(m.y)==.5*Math.PI||Math.abs(q.y)==.5*Math.PI)&&m.x!=q.x||Math.abs(C)>=.5*Math.PI||0<m.y&&0<q.y&&m.y>C&&q.y>C||0>m.y&&0>q.y&&m.y<C&&q.y<C)return 0;var h=g.pa(m);d=g.pa(q);h=b.Qu(c,h);d=b.Qu(c,d);var F=h.iG(d);if(F.z.Kg())return(new a.yc(m.y,
q.y)).contains(C)?(e[0]=m.x,1):0;d=new a.Xb;d.set(F.x);d.bn(F.z);d.Fp(-1);h=new a.Xb;h.set(F.y);h.bn(F.z);h.Fp(-1);F=new a.Xb;F.set(h);F.Tg(h);var f=new a.Xb;f.set(d);f.Tg(d);f.add(F);f.sqrt();if(f.Kg()||d.Kg()&&h.Kg())return 0==C?(e[0]=m.x,e[1]=q.x,2):0;c=(1-c)*Math.tan(C)/f.value();if(1<Math.abs(c))return 0;c=Math.acos(c);F=Math.atan2(h.value(),d.value());d=Math.min(m.x,q.x);h=Math.max(m.x,q.x);q=b.UB(F-c,d,h);c=0!=C?b.UB(F+c,d,h):q;C=0;d<=q&&q<=h&&(e[C]=q,C++);c!=q&&d<=c&&c<=h&&(e[C]=c,C++,2==
C&&Math.abs(e[0]-m.x)>Math.abs(e[1]-m.x)&&(m=e[0],e[0]=e[1],e[1]=m));return C};b.UB=function(b,a,c){b>c?(a=Math.ceil((b-c)/(2*Math.PI)),b-=2*a*Math.PI):b<a&&(a=Math.ceil((a-b)/(2*Math.PI)),b+=2*a*Math.PI);return b};b.HA=function(b,a){a[0]>.5*Math.PI?(b[0]+=Math.PI,a[0]=Math.PI-a[0]):a[0]<-.5*Math.PI&&(b[0]-=Math.PI,a[0]=-Math.PI-a[0])};return b}();a.uy=c})(y||(y={}));(function(a){var g=function(){function g(){}g.xY=function(c,b){var d=8;0>d&&(d=8);var h=[0,0,0,0],m=new a.b;m.L(b);m.scale(9102==a.fb.lc(c).Td().Bc()?
1:a.fb.lc(c).Td().Bi/3.141592653589793*180);-180>m.x?(m.x-=m.x%360,-180>m.x&&(m.x+=360)):180<m.x&&(m.x-=m.x%360,180<m.x&&(m.x-=360));90<m.y&&(m.y=90);-90>m.y&&(m.y=-90);c=5*d;b=(c+31)/32;for(var q=-180,C=180,e=c-1,f=b-1;0<=f;f--)for(var k=e-32*f,w=Math.min(32,c-32*f),l=1;l<w;l+=2){var n=.5*(C+q);m.x>=n?(h[f]|=1<<k,q=n):C=n;k-=2;e-=2}q=-90;C=90;e=c-2;for(f=b-1;0<=f;f--)for(k=e-32*f,w=Math.min(32,c-32*f),l=0;l<w;l+=2)n=.5*(C+q),m.y>=n?(h[f]|=1<<k,q=n):C=n,k-=2,e-=2;return g.FL(h,d,d)};g.FL=function(a,
b,d){for(var c=[],m=0;m<b;m++)c[m]="";for(var q=m=0,g=0;g<b;g++){var e=a[m]>>q&31,q=q+5;if(31<q){var f=37-q,e=e&(1<<f)-1,q=q-32;m++;e|=(a[m]&(1<<q)-1)<<f}c[b-1-g]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[e]}if(d>b)for(g=0;g<d-b;g++)c.push("0");else d<b&&(c.length=d);return c.join("")};return g}();a.dM=g})(y||(y={}));(function(a){var g={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,
8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,
30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,
51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,
73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,
94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,
115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,
136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,
2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,
7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,
102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,
102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,
102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,
102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,
3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,
6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,
6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,
6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,
6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,
6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,
6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,
6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,
6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,
6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,
103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,
103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,
8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,
102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,
32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,
5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,
5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,
5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,
5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,
5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,
10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,
5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},e={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},c=function(){function a(){}a.Dz=function(b){!1===a.Ej&&a.Om();var d=a.uM(b);if(-1==d){var c=a.uv(b);c!=b&&(d=a.Dz(c))}-1==d&&(c=a.nL(b),c!=b&&(d=a.Dz(c)));return d};a.uM=
function(b){return void 0!==a.Yu[b]?a.Yu[b]:-1};a.SR=function(b){!1===a.Ej&&a.Om();var d=a.qE(b);if(1E38==d){var c=a.uv(b);c!=b&&(d=a.qE(c));if(1E38==d)return 1E-10}return d};a.uU=function(b){if(void 0!==a.Al[b])return!0;var d=a.uv(b);return d!=b&&void 0!==a.Al[d]?!0:!1};a.wU=function(b){if(void 0!==a.Yg[b])return!0;var d=a.uv(b);return d!=b&&void 0!==a.Yg[d]?!0:!1};a.qE=function(b){!1===a.Ej&&a.Om();return void 0!==a.Al[b]?a.Al[b]:void 0!==a.Yg[b]?a.Yg[b]:1E38};a.nL=function(b){!1===a.Ej&&a.Om();
return void 0!==a.MB[b]?a.MB[b]:b};a.uv=function(b){!1===a.Ej&&a.Om();return void 0!==a.NB[b]?a.NB[b]:b};a.Om=function(){for(var b=g,c,m=0;m<b.pcsid.length;m+=2)a.Yg[b.pcsid[m]]=b.pcstol[2*b.pcsid[m+1]+1];for(m=0;m<b.pcsidc.length;m+=1){c=b.pcsidc[m];for(var q=c[0];q<=c[1];q++)a.Yg[q]=b.pcstol[2*c[2]+1]}for(m=0;m<b.gcsid.length;m+=2)a.Al[b.gcsid[m]]=b.gcstol[2*b.gcsid[m+1]+1];for(m=0;m<b.gcsidc.length;m+=1)for(c=b.gcsidc[m],q=c[0];q<=c[1];q++)a.Yg[q]=b.gcstol[2*c[2]+1];for(m=0;m<e.c.length;m+=1)for(c=
e.c[m],q=c[0];q<=c[1];q++)a.Yu[q]=c[2];for(m=0;m<e.nc.length;m+=2)a.Yu[e.nc[m]]=e.nc[m+1];e=null;for(m=0;m<b.newtoold.length;m+=2)a.MB[b.newtoold[m+1]]=b.newtoold[m],a.NB[b.newtoold[m]]=b.newtoold[m+1];g=null;a.Ej=!0};a.Ej=!1;a.Al=[];a.Yg=[];a.MB=[];a.NB=[];a.Yu=[];return a}();a.ss=c})(y||(y={}));(function(a){function g(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var e=[],c=function(){function b(){}b.UR=function(d){try{for(var c=0;c<e.length;c++)if(e[c].wkttext===
d)return e[c].unit;for(var m,q=c="",C=!1,F=0;F<d.length;F++){var f=d[F];!0===C?'"'==f?'"'==d[F+1]?c+=f:C=!1:c+=f:/[\s]/.test(f)||(","==f?(q=""!==c?q+(g(c)+","):q+",",c=""):")"==f||"]"==f?(q=""!==c?q+(g(c)+"]}"):q+"]}",c=""):"("==f||"["==f?(q+='{ "entity": "'+c.toUpperCase().trim()+'", "values":[',c=""):'"'==f?(C=!0,c=""):c+=f)}m=JSON.parse(q);var k=b.oE(m);if(null===k)return null;m=null;for(f=0;f<k.values.length;f++)if("object"===typeof k.values[f]&&"UNIT"===k.values[f].entity){m=k.values[f];break}if(null===
m)return null;var w=a.$c.yQ("GEOGCS"===k.entity?1:0,m.values[1],m.values[2]);e.push({wkttext:d,unit:w});10<e.length&&e.shift();return w}catch(U){return null}};b.oE=function(a){if(null===a)return null;if("GEOGCS"===a.entity||"PROJCS"===a.entity)return a;for(var d=[],c=0;c<a.values.length;c++)if("object"===typeof a.values[c]&&void 0!==a.values[c].entity){if("GEOGCS"===a.values[c].entity||"PROJCS"==a.values[c].entity)return a.values[c];d.push(a.values[c])}for(a=0;a<d.length;a++)if(c=b.oE(d[a]),null!==
c)return c;return null};b.TR=function(a){var b=-1;if(null!=a&&0<a.length){var d,c;d=a.indexOf("PROJCS");if(0<=d){var g=0;d=a.lastIndexOf("UNIT");if(0<=d&&(d=a.indexOf(",",d+4),0<d&&(d++,c=a.indexOf("]",d+1),0<c)))try{g=parseFloat(a.substring(d,c))}catch(H){g=0}0<g&&(b=.001/g)}else if(d=a.indexOf("GEOGCS"),0<=d){var e=0,g=0;d=a.indexOf("SPHEROID",d+6);if(0<d&&(d=a.indexOf(",",d+8),0<d)){d++;c=a.indexOf(",",d+1);if(0<c)try{e=parseFloat(a.substring(d,c))}catch(H){e=0}if(0<e&&(d=a.indexOf("UNIT",c+1),
0<=d&&(d=a.indexOf(",",d+4),0<d&&(d++,c=a.indexOf("]",d+1),0<c))))try{g=parseFloat(a.substring(d,c))}catch(H){g=0}}0<e&&0<g&&(b=.001/(e*g))}}return b};return b}();a.uE=c})(y||(y={}));(function(a){(function(a){a[a.NONE=0]="NONE";a[a.LINEAR=1]="LINEAR";a[a.ANGULAR=2]="ANGULAR"})(a.oM||(a.oM={}));(function(a){a[a.enumFloat=0]="enumFloat";a[a.enumDouble=1]="enumDouble";a[a.enumInt32=2]="enumInt32";a[a.enumInt64=3]="enumInt64";a[a.enumInt8=4]="enumInt8";a[a.enumInt16=5]="enumInt16"})(a.iN||(a.iN={}));
(function(a){a[a.POSITION=0]="POSITION";a[a.Z=1]="Z";a[a.M=2]="M";a[a.ID=3]="ID";a[a.NORMAL=4]="NORMAL";a[a.TEXTURE1D=5]="TEXTURE1D";a[a.TEXTURE2D=6]="TEXTURE2D";a[a.TEXTURE3D=7]="TEXTURE3D";a[a.ID2=8]="ID2";a[a.MAXSEMANTICS=10]="MAXSEMANTICS"})(a.hi||(a.hi={}));var g=function(){function g(a,b){this.St=this.Ye=null;this.Er=this.Ga=0;this.Th=this.vg=null;this.gm=0;if(void 0!==b){this.Ga=b.Ga;this.Er=b.Er;this.vg=b.vg.slice(0);this.Th=b.Th.slice(0);this.gm=b.gm;this.St=[];for(b=a=0;b<this.Ga;b++)this.St[b]=
a,a+=g.Xa(this.vg[b]);this.Er=a;this.Ye=[];for(b=0;b<this.Ga;b++){a=g.Xa(this.pd(b));for(var d=g.be(this.pd(b)),c=0;c<a;c++)this.Ye[this.St[b]+c]=d}}else this.Er=this.Ga=0}g.prototype.pd=function(c){if(0>c||c>this.Ga)throw a.g.F();return this.vg[c]};g.prototype.lg=function(a){return this.Th[a]};g.Zz=function(a){return g.dc[a]};g.ti=function(a){return g.ad[a]};g.lf=function(a){return g.de[a]};g.Yg=function(a){return g.lf(g.ti(a))*g.Xa(a)};g.Xa=function(a){return g.tb[a]};g.Xf=function(a){return 2>
a};g.Dj=function(a){return g.Xf(g.ti(a))};g.prototype.hasAttribute=function(a){return 0<=this.Th[a]};g.prototype.kH=function(){return this.hasAttribute(1)};g.be=function(a){return g.N[a]};g.prototype.eT=function(a){return this.St[a]};g.DH=function(a,b){return g.N[a]===b};g.Ug=function(c){if(4==c)return 2;if(8==c)return 3;throw a.g.F();};g.prototype.Eb=function(a){return this===a};g.prototype.Ck=function(){for(var c=a.J.bh(this.vg[0]),b=1;b<this.Ga;b++)c=a.J.bh(this.vg[b],c);return c};g.prototype.zk=
function(a){return this.St[a]};g.prototype.kc=function(){return this.gm};g.prototype.Qd=function(a){return this.vg[a]};g.N=[0,0,NaN,0,0,0,0,0,0];g.dc=[1,1,1,0,2,1,1,1,0];g.ad=[1,1,1,2,0,0,0,0,2];g.de=[4,8,4,8,1,2];g.tb=[2,1,1,1,3,1,2,3,2];return g}();a.ma=g})(y||(y={}));(function(a){function g(a,b,c,q){var d=a.Id,h=a.e+b+1;1===c?q=5<=d[h]:2===c?q=5<d[h]||5==d[h]&&(q||0>h||void 0!==d[h+1]||d[h-1]&1):3===c?q=q||void 0!==d[h]||0>h:(q=!1,0!==c&&e("!Big.RM!"));if(1>h||!d[0])q?(a.e=-b,a.Id=[1]):a.Id=[a.e=
0];else{d.length=h--;if(q)for(;9<++d[h];)d[h]=0,h--||(++a.e,d.unshift(1));for(h=d.length;!d[--h];d.pop());}}function e(a){a=Error(a);a.name="BigError";throw a;}var c=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,b=function(){function a(b){if(b instanceof a)this.ke=b.ke,this.e=b.e,this.Id=b.Id.slice();else{var d,h,g;0===b&&0>1/b?b="-0":c.test(b+="")||e(NaN);this.ke="-"==b.charAt(0)?(b=b.slice(1),-1):1;-1<(d=b.indexOf("."))&&(b=b.replace(".",""));0<(h=b.search(/e/i))?(0>d&&(d=h),d+=+b.slice(h+1),b=b.substring(0,
h)):0>d&&(d=b.length);for(h=0;"0"==b.charAt(h);h++);if(h==(g=b.length))this.Id=[this.e=0];else{for(;"0"==b.charAt(--g););this.e=d-h-1;this.Id=[];for(d=0;h<=g;this.Id[d++]=+b.charAt(h++));}}}a.prototype.abs=function(){var b=new a(this);b.ke=1;return b};a.prototype.RF=function(){var b=0,d=this.Id,c=(b=new a(b)).Id,g=this.ke,e=b.ke,f=this.e,k=b.e;if(!d[0]||!c[0])return d[0]?g:c[0]?-e:0;if(g!=e)return g;b=0>g;if(f!=k)return f>(k^b)?1:-1;g=-1;for(e=(f=d.length)<(k=c.length)?f:k;++g<e;)if(d[g]!=c[g])return d[g]>
(c[g]^b)?1:-1;return f==k?0:f>(k^b)?1:-1};a.prototype.bn=function(b){var d=this.Id,c=(b=new a(b)).Id,h=this.ke==b.ke?1:-1,f=a.ad;(f!==~~f||0>f||1E6<f)&&e("!Big.DP!");if(!d[0]||!c[0])return d[0]==c[0]&&e(NaN),c[0]||e(h/0),new a(0*h);var k,X,w,l,n=c.slice(),p=k=c.length,t=d.length,r=d.slice(0,k),u=r.length,v=b,x=v.Id=[],z=0,y=f+(v.e=this.e-b.e)+1;v.ke=h;h=0>y?0:y;for(n.unshift(0);u++<k;r.push(0));do{for(X=0;10>X;X++){if(k!=(u=r.length))w=k>u?1:-1;else for(l=-1,w=0;++l<k;)if(c[l]!=r[l]){w=c[l]>r[l]?
1:-1;break}if(0>w){for(b=u==k?c:n;u;){if(r[--u]<b[u]){for(l=u;l&&!r[--l];r[l]=9);--r[l];r[u]+=10}r[u]-=b[u]}for(;!r[0];r.shift());}else break}x[z++]=w?X:++X;r[0]&&w?r[u]=d[p]||0:r=[d[p]]}while((p++<t||void 0!==r[0])&&h--);x[0]||1==z||(x.shift(),v.e--);z>y&&g(v,f,a.Xf,void 0!==r[0]);return v};a.prototype.BT=function(){return 0<this.RF()};a.prototype.SU=function(){return 0>this.RF()};a.prototype.au=function(b){var d,c,h=this.ke,g=(b=new a(b)).ke;if(h!=g)return b.ke=-g,this.sJ(b);var e=this.Id.slice();
c=this.e;var f=b.Id,k=b.e;if(!e[0]||!f[0])return f[0]?(b.ke=-g,b):new a(e[0]?this:0);if(h=c-k){(d=0>h)?(h=-h,c=e):(k=c,c=f);c.reverse();for(g=h;g--;c.push(0));c.reverse()}else for(c=((d=e.length<f.length)?e:f).length,h=g=0;g<c;g++)if(e[g]!=f[g]){d=e[g]<f[g];break}d&&(c=e,e=f,f=c,b.ke=-b.ke);if(0<(g=(c=f.length)-(d=e.length)))for(;g--;e[d++]=0);for(g=d;c>h;){if(e[--c]<f[c]){for(d=c;d&&!e[--d];e[d]=9);--e[d];e[c]+=10}e[c]-=f[c]}for(;0==e[--g];e.pop());for(;0==e[0];)e.shift(),--k;e[0]||(b.ke=1,e=[k=
0]);b.Id=e;b.e=k;return b};a.prototype.sJ=function(b){var d,c=this.ke;d=(b=new a(b)).ke;if(c!=d)return b.ke=-d,this.au(b);d=this.e;var h=this.Id,g=b.e,e=b.Id;if(!h[0]||!e[0])return e[0]?b:new a(h[0]?this:0*c);h=h.slice();if(c=d-g){0<c?(g=d,d=e):(c=-c,d=h);for(d.reverse();c--;d.push(0));d.reverse()}0>h.length-e.length&&(d=e,e=h,h=d);c=e.length;for(d=0;c;)d=(h[--c]=h[c]+e[c]+d)/10|0,h[c]%=10;d&&(h.unshift(d),++g);for(c=h.length;0==h[--c];h.pop());b.Id=h;b.e=g;return b};a.prototype.pow=function(b){var d=
this,c=new a(1),h=c,g=0>b;(b!==~~b||-1E6>b||1E6<b)&&e("!pow!");for(b=g?-b:b;;){b&1&&(h=h.cs(d));b>>=1;if(!b)break;d=d.cs(d)}return g?c.bn(h):h};a.prototype.round=function(b,d){var c=this;null==b?b=0:(b!==~~b||0>b||1E6<b)&&e("!round!");g(c=new a(c),b,null==d?a.Xf:d);return c};a.prototype.sqrt=function(){var b,d,c;d=this.Id;b=this.ke;c=this.e;var C=new a("0.5");if(!d[0])return new a(this);0>b&&e(NaN);b=Math.sqrt(this.toString());0==b||b==1/0?(b=d.join(""),b.length+c&1||(b+="0"),d=new a(Math.sqrt(b).toString()),
d.e=((c+1)/2|0)-(0>c||c&1)):d=new a(b.toString());b=d.e+(a.ad+=4);do c=d,d=C.cs(c.sJ(this.bn(c)));while(c.Id.slice(0,b).join("")!==d.Id.slice(0,b).join(""));g(d,a.ad-=4,a.Xf);return d};a.prototype.cs=function(b){var d,c=this.Id,h=(b=new a(b)).Id,g=c.length,e=h.length,f=this.e,k=b.e;b.ke=this.ke==b.ke?1:-1;if(!c[0]||!h[0])return new a(0*b.ke);b.e=f+k;g<e&&(d=c,c=h,h=d,k=g,g=e,e=k);for(d=Array(k=g+e);k--;d[k]=0);for(f=e;f--;){e=0;for(k=g+f;k>f;)e=d[k]+h[f]*c[k-f-1]+e,d[k--]=e%10,e=e/10|0;d[k]=(d[k]+
e)%10}e&&++b.e;d[0]||d.shift();for(f=d.length;!d[--f];d.pop());b.Id=d;return b};a.prototype.toString=function(){var a=this.e,b=this.Id.join(""),d=b.length;if(-7>=a||21<=a)b=b.charAt(0)+(1<d?"."+b.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;b="0"+b);b="0."+b}else if(0<a)if(++a>d)for(a-=d;a--;b+="0");else a<d&&(b=b.slice(0,a)+"."+b.slice(a));else 1<d&&(b=b.charAt(0)+"."+b.slice(1));return 0>this.ke&&this.Id[0]?"-"+b:b};a.ad=20;a.Xf=1;return a}();a.$p=b})(y||(y={}));(function(a){var g=function(){function c(a){this.Kf=
a}c.prototype.gs=function(b,d,c){var h=new a.b,q=new a.b,g=this.Kf;c.Fd(b,d,function(a,b){g.fc(2*a,h);g.fc(2*b,q);return h.compare(q)})};c.prototype.Qq=function(a){return this.Kf.read(2*a+1)};return c}(),e=function(){function c(){}c.Rq=function(b){if(b.u())return!1;var d=b.G();return 1736==d?0==b.ef()?!1:!0:1607==d?(d=[!1],c.GD(b,!0,d),d[0]):197==d||a.T.Nc(d)&&!b.CH()?!0:!1};c.Xm=function(b){var d=b.G();if(1736==d)return d=new a.Ua(b.description),b.u()||b.BE(d),d;if(1607==d)return c.GD(b,!1,null);
if(197==d)return d=new a.Ua(b.description),b.u()||d.hd(b,!1),d;if(a.T.Nc(d)){d=new a.Dd(b.description);if(!b.u()&&!b.CH()){var h=new a.Wa;b.Kp(h);d.add(h);b.Ip(h);d.add(h)}return d}if(a.T.Po(d))return null;throw a.g.F();};c.GD=function(b,d,c){null!=c&&(c[0]=!1);var h=null;d||(h=new a.Dd(b.description));if(!b.u()){var q=new a.ha(0);q.zb(2*b.aa());for(var C=0,e=b.aa();C<e;C++)if(0<b.La(C)&&!b.Ko(C)){var f=b.wa(C);q.add(f);f=b.Fc(C)-1;q.add(f)}if(0<q.size){e=new a.Ju;C=b.Qa(0);e.sort(q,0,q.size,new g(C));
e=new a.b;C.fc(2*q.get(0),e);for(var f=0,k=1,w=new a.Wa,l=new a.b,n=1,p=q.size;n<p;n++)if(C.fc(2*q.get(n),l),l.vb(e))q.get(f)>q.get(n)?(q.set(f,2147483647),f=n):q.set(n,2147483647),k++;else{if(0==(k&1))q.set(f,2147483647);else if(d)return null!=c&&(c[0]=!0),null;e.L(l);f=n;k=1}if(0==(k&1))q.set(f,2147483647);else if(d)return null!=c&&(c[0]=!0),null;if(!d)for(q.Fd(0,q.size,function(a,b){return a-b}),n=0,p=q.size;n<p&&2147483647!=q.get(n);n++)b.xe(q.get(n),w),h.add(w)}}return d?null:h};return c}();
a.Pi=e})(y||(y={}));(function(a){var g=function(){function g(){this.Zf=new a.ha(0);this.wt=new a.ha(0);this.GI=1;this.Ct=NaN}g.prototype.sort=function(a,b,d,h){if(32>d-b)h.gs(b,d,a);else{var c=!0;try{for(var q=Infinity,g=-Infinity,e=b;e<d;e++){var f=h.Qq(a.get(e));f<q&&(q=f);f>g&&(g=f)}if(this.reset(d-b,q,g,d-b)){for(e=b;e<d;e++){var k=a.get(e),f=h.Qq(k),w=this.DG(f);this.Zf.set(w,this.Zf.get(w)+1);this.wt.write(e-b,k)}var l=this.Zf.get(0);this.Zf.set(0,0);for(var e=1,n=this.Zf.size;e<n;e++){var p=
this.Zf.get(e);this.Zf.set(e,l);l+=p}for(e=b;e<d;e++){var k=this.wt.read(e-b),f=h.Qq(k),w=this.DG(f),t=this.Zf.get(w);a.set(t+b,k);this.Zf.set(w,t+1)}c=!1}}catch(Aa){this.Zf.resize(0),this.wt.resize(0)}if(c)h.gs(b,d,a);else{e=d=0;for(n=this.Zf.size;e<n;e++)c=d,d=this.Zf.get(e),d>c&&h.gs(b+c,b+d,a);100<this.Zf.size&&(this.Zf.resize(0),this.wt.resize(0))}}};g.prototype.reset=function(a,b,d,h){if(2>a||d==b)return!1;a=Math.min(g.sL,a);this.Zf.zb(a);this.Zf.resize(a);this.Zf.$h(0,0,this.Zf.size);this.GI=
b;this.wt.resize(h);this.Ct=(d-b)/(a-1);return!0};g.prototype.DG=function(c){return a.J.truncate((c-this.GI)/this.Ct)};g.sL=65536;return g}();a.Ju=g})(y||(y={}));(function(a){var g;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(g||(g={}));var e=function(){function b(){}b.Iv=function(d,c,h,m,g,e){var q=new b;q.An=new a.b;q.On=new a.b;q.Ow=new a.b;q.An.L(d);q.On.L(c);
q.Ow.L(h);q.wp=m;q.Oh=g;q.Rh=e;return q};b.pa=function(d,c,h,m){var q=new b;q.An=new a.b;q.On=new a.b;q.Ow=new a.b;q.An.L(d);q.On.L(c);q.Ow.Yc();q.wp=4;q.Oh=h;q.Rh=m;return q};return b}(),c=function(){function b(a,b,d,c,h,m){this.Lw=null;this.Ca=0;this.mB=a;this.cJ=this.aJ=0;this.Pa=b;this.jk=d;this.Zk=c;this.tr=h;this.mc=m}b.prototype.next=function(){for(var b=new a.Wa;;){if(this.Ca==this.mB.D())return null;this.mB.xe(this.Ca,b);this.Ca++;if(!b.u())break}var d=!1;null==this.Lw&&(this.aJ=b.Te(),this.cJ=
b.Cf(),this.Lw=h.buffer(b,this.Pa,this.jk,this.Zk,this.tr,this.mc),d=!0);var c;this.Ca<this.mB.D()?(c=new a.Ja,this.Lw.copyTo(c)):c=this.Lw;if(!d){var d=new a.Gd,m=b.Te()-this.aJ,b=b.Cf()-this.cJ;d.zg(m,b);c.Vc(d)}return c};b.prototype.Ia=function(){return 0};b.prototype.Oe=function(){return!0};return b}(),b=function(){function b(a,b){this.$a=a;this.Ca=0;this.dr=b}b.prototype.next=function(){var b=this.$a.Y;if(this.Ca<b.aa()){var d=this.Ca;this.Ca++;if(!b.Ko(d))for(var c=b.Ba(b.Fc(d)-1);this.Ca<b.aa();){var h=
b.Ba(b.wa(this.Ca));if(b.Ko(this.Ca))break;if(h!=c)break;c=b.Ba(b.Fc(this.Ca)-1);this.Ca++}if(1==this.Ca-d)return this.$a.yF(this.$a.Y,d,this.dr);c=new a.Ua(this.$a.Y.description);c.Ui(this.$a.Y,d,!0);for(d+=1;d<this.Ca;d++)c.zs(this.$a.Y,d,0,b.ew(d),!1);return this.$a.yF(c,0,this.dr)}return null};b.prototype.Ia=function(){return 0};b.prototype.Oe=function(){return!0};return b}(),d=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var b=this.Ca;
a.Ym(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Ym(this.Ca));)this.Ca++;return 0==b&&this.Ca==a.aa()?this.$a.Ty(a,0,a.aa()):this.$a.Ty(a,b,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),h=function(){function h(a){this.Ht=this.Zw=this.It=this.Ud=null;this.qe=[];this.mc=a;this.wb=this.xw=this.kV=this.Pa=this.bB=this.Xt=this.ta=0;this.ZA=this.Zk=-1;this.dr=!0}h.buffer=function(b,d,c,m,g,e){if(null==b)throw a.g.F();if(0>m)throw a.g.F();if(b.u())return new a.Ja(b.description);
var q=new a.h;b.ac(q);0<d&&q.P(d,d);e=new h(e);e.jk=c;e.Y=b;e.ta=a.na.$d(c,q,!0);e.Xt=a.na.$d(null,q,!0);e.Pa=d;e.kV=b.G();0>=g&&(g=96);e.wb=Math.abs(e.Pa);e.xw=0!=e.wb?1/e.wb:0;isNaN(m)||0==m?m=1E-5*e.wb:m>.5*e.wb&&(m=.5*e.wb);12>g&&(g=12);b=Math.abs(d)*(1-Math.cos(Math.PI/g));b>m?m=b:(b=Math.PI/Math.acos(1-m/Math.abs(d)),b<g-1&&(g=a.J.truncate(b),12>g&&(g=12,m=Math.abs(d)*(1-Math.cos(Math.PI/g)))));e.Zk=m;e.tr=g;e.bB=Math.min(e.Xt,.25*m);return e.zF()};h.prototype.Rv=function(){if(null==this.Ud)this.Ud=
[];else if(0!==this.Ud.length)return;var b=this.DF(),b=a.J.truncate((b+3)/4),d=.5*Math.PI/b;this.ZA=d;for(var c=0;c<4*b;c++)this.Ud.push(null);for(var h=Math.cos(d),d=Math.sin(d),m=a.b.pa(0,1),c=0;c<b;c++)this.Ud[c+0*b]=a.b.pa(m.y,-m.x),this.Ud[c+1*b]=a.b.pa(-m.x,-m.y),this.Ud[c+2*b]=a.b.pa(-m.y,m.x),this.Ud[c+3*b]=m,m=a.b.pa(m.x,m.y),m.su(h,d)};h.prototype.zF=function(){var b=this.Y.G();if(a.T.Nc(b))return b=new a.Ua(this.Y.description),b.cc(this.Y,!0),this.Y=b,this.zF();if(this.Pa<=this.ta)if(a.T.qU(b)){if(0>=
this.Pa&&(b=new a.h,this.Y.s(b),b.O()<=2*-this.Pa||b.ea()<=2*this.Pa))return new a.Ja(this.Y.description)}else return new a.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.oP();case 550:return this.nP();case 1607:return this.qP();case 1736:return this.pP();case 197:return this.lP();default:throw a.g.za();}};h.prototype.qP=function(){if(this.EH(this.Y)){var d=new a.Wa;this.Y.xe(0,d);var c=new a.h;this.Y.s(c);d.rb(c.Tf());return this.wv(d)}this.Y=this.rW(this.Y);d=new b(this,this.dr);
return a.ei.local().V(d,this.jk,this.mc).next()};h.prototype.pP=function(){if(0==this.Pa)return this.Y;var b=a.Qm.local();this.Rv();this.Y=b.V(this.Y,null,!1,this.mc);if(0>this.Pa){var c=this.Y,c=this.Ty(c,0,c.aa());return b.V(c,this.jk,!1,this.mc)}if(this.EH(this.Y))return b=new a.Wa,this.Y.xe(0,b),c=new a.h,this.Y.s(c),b.rb(c.Tf()),this.wv(b);b=new d(this);return a.ei.local().V(b,this.jk,this.mc).next()};h.prototype.Ty=function(b,d,c){for(var m=new a.Ja(b.description);d<c;d++)if(!(1>b.La(d))){var q=
b.Ym(d),g=new a.h;b.nk(d,g);if(0<this.Pa)if(0<q)if(this.FH(b,d))q=new a.Wa,b.xe(b.wa(d),q),q.rb(g.Tf()),this.nv(m,q);else{var C=q=new a.Ua(b.description),C=a.Lu.JH(this.Y,d)||2==this.Ao(this.Y,d,C,!0,1)?this.xF(b,d):this.zo(q);m.add(C,!1)}else{if(!(g.O()+this.ta<=2*this.wb||g.ea()+this.ta<=2*this.wb||(C=q=new a.Ua(b.description),this.Ao(this.Y,d,C,!0,1),q.u()))){var e=new a.h;e.I(g);e.P(this.wb,this.wb);C.oq(e);C=this.zo(q);g=1;for(q=C.aa();g<q;g++)m.Ui(C,g,!0)}}else if(0<q){if(!(g.O()+this.ta<=2*
this.wb||g.ea()+this.ta<=2*this.wb||(C=q=new a.Ua(b.description),this.Ao(this.Y,d,C,!0,-1),q.u())))for(e=new a.h,C.ac(e),e.P(this.wb,this.wb),C.oq(e),C=this.zo(q),g=1,q=C.aa();g<q;g++)m.Ui(C,g,!0)}else for(C=q=new a.Ua(b.description),this.Ao(this.Y,d,C,!0,-1),C=this.zo(q),g=0,q=C.aa();g<q;g++)m.Ui(C,g,!0)}if(0<this.Pa)return 1<m.aa()?m=this.zo(m):h.lf(m);b=new a.h;m.ac(b);if(m.u())return h.lf(m);b.P(this.wb,this.wb);m.oq(b);m=this.zo(m);b=new a.Ja(m.description);g=1;for(q=m.aa();g<q;g++)b.Ui(m,g,
!1);return h.lf(b)};h.prototype.oP=function(){return this.wv(this.Y)};h.prototype.wv=function(b){var d=new a.Ja(this.Y.description);this.nv(d,b);return this.SX(d)};h.prototype.nP=function(){var b=new c(this.Y,this.Pa,this.jk,this.Zk,this.tr,this.mc);return a.ei.local().V(b,this.jk,this.mc).next()};h.prototype.lP=function(){var b=new a.Ja(this.Y.description);if(0>=this.Pa){if(0==this.Pa)b.hd(this.Y,!1);else{var d=new a.di;this.Y.Wn(d);d.P(this.Pa,this.Pa);b.hd(d,!1)}return b}b.hd(this.Y,!1);this.Y=
b;return this.xF(b,0)};h.prototype.xF=function(b,d){this.Rv();var c=new a.Ja(b.description),m=new a.b,q=new a.b,g=new a.b,C=new a.b,e=new a.b,f=new a.b,k=new a.b,w=new a.b,l=b.La(d),n=b.wa(d),p=0;for(d=b.La(d);p<d;p++){b.w(n+p,q);b.w(n+(p+1)%l,C);b.w(n+(p+2)%l,f);k.xc(C,q);if(0==k.length())throw a.g.za();k.uw();k.normalize();k.scale(this.wb);m.add(k,q);g.add(k,C);0==p?c.Bu(m):c.bj(m);c.bj(g);w.xc(f,C);if(0==w.length())throw a.g.za();w.uw();w.normalize();w.scale(this.wb);e.add(w,C);this.ZE(c,C,g,e,
!1)}return h.lf(c)};h.prototype.yF=function(b,d,c){this.Rv();if(1>b.La(d))return null;if(this.FH(b,d)&&0<this.Pa){c=new a.Wa;b.xe(b.wa(d),c);var h=new a.h;b.nk(d,h);c.rb(h.Tf());return this.wv(c)}h=new a.Ua(b.description);if(b.Ko(d))this.Ao(b,d,h,c,1),this.Ao(b,d,h,c,-1);else{var m=new a.Ua(b.description);m.Ui(b,d,!1);m.zs(b,d,0,b.ew(d),!1);this.Ao(m,0,h,c,1)}return this.zo(h)};h.prototype.Or=function(){this.kx++};h.prototype.zo=function(b){return a.Cg.ql(b,this.Xt,!0,!0,this.mc)};h.prototype.DF=
function(){if(0==this.Zk)return this.tr;var b=1-this.Zk*Math.abs(this.xw),d;-1>b?d=4:d=2*Math.PI/Math.acos(b)+.5;4>d?d=4:d>this.tr&&(d=this.tr);return a.J.truncate(d)};h.prototype.ZE=function(b,d,c,h,m){this.Rv();var q=new a.b;q.xc(c,d);q.scale(this.xw);var g=new a.b;g.xc(h,d);g.scale(this.xw);q=Math.atan2(q.y,q.x)/this.ZA;0>q&&(q=this.Ud.length+q);q=this.Ud.length-q;g=Math.atan2(g.y,g.x)/this.ZA;0>g&&(g=this.Ud.length+g);g=this.Ud.length-g;g<q&&(g+=this.Ud.length);var C=a.J.truncate(g),g=a.J.truncate(Math.ceil(q)),
q=new a.b;q.L(this.Ud[g%this.Ud.length]);q.tu(this.wb,d);var e=10*this.ta;q.sub(c);q.length()<e&&(g+=1);q.L(this.Ud[C%this.Ud.length]);q.tu(this.wb,d);q.sub(h);q.length()<e&&--C;c=C-g;c++;C=0;for(g%=this.Ud.length;C<c;C++,g=(g+1)%this.Ud.length)q.L(this.Ud[g]),q.tu(this.wb,d),b.bj(q),this.Or();m&&b.bj(h)};h.prototype.Ao=function(b,d,c,h,m){var q=new a.ed,g=q.IO(b,d);q.zq(this.bB,!1,!1);if(2>q.D(g)){if(0>m)return 1;m=b;q=new a.Wa;m.xe(m.wa(d),q);this.nv(c,q);return 1}var C=q.Ba(q.cb(q.Pb(g))),f=new a.Gd;
f.zg(-C.x,-C.y);q.Vc(f);if(h&&(this.MR(q,g,m),2>q.D(g))){if(0>m)return 1;m=b;q=new a.Wa;m.xe(m.wa(d),q);this.nv(c,q);return 1}this.qe.length=0;var F=q.Pb(g);d=q.cb(F);var k=1==m?q.Ra(d):q.U(d);b=1==m?q.U(d):q.Ra(d);var H=!0;h=new a.b;for(var g=new a.b,X=new a.b,w=new a.b,l=new a.b,n=new a.b,p=new a.b,t=new a.b,r=new a.b,u=new a.b,v=this.wb,F=q.La(F),x=0;x<F;x++)q.w(b,g),H&&(q.w(d,h),q.w(k,X),t.xc(h,X),t.normalize(),u.OH(t),u.scale(v),w.add(u,h)),p.xc(g,h),p.normalize(),r.OH(p),r.scale(v),l.add(h,
r),k=t.Vi(p),H=t.pi(p),0>k||0>H&&0==k?this.qe.push(e.Iv(w,l,h,2,this.qe.length+1,this.qe.length-1)):w.vb(l)||(this.qe.push(e.pa(w,h,this.qe.length+1,this.qe.length-1,"dummy")),this.qe.push(e.pa(h,l,this.qe.length+1,this.qe.length-1,"dummy"))),n.add(g,r),this.qe.push(e.Iv(l,n,h,1,this.qe.length+1,this.qe.length-1)),w.L(n),u.L(r),X.L(h),h.L(g),t.L(p),k=d,d=b,H=!1,b=1==m?q.U(d):q.Ra(d);this.qe[this.qe.length-1].Oh=0;this.qe[0].Rh=this.qe.length-1;this.tW(c);f.zg(C.x,C.y);c.mF(f,c.aa()-1);return 1};h.prototype.tW=
function(a){for(var b=this.ZP(),d=!0,c=b+1,h=b;c!=b;h=c){var m=this.qe[h],c=-1!=m.Oh?m.Oh:(h+1)%this.qe.length;0!=m.wp&&(d&&a.Bu(m.An),2==m.wp?this.ZE(a,m.Ow,m.An,m.On,!0):a.bj(m.On),d=!1)}};h.prototype.ZP=function(){null==this.Ht&&(this.Ht=[null,null,null,null,null,null,null,null,null]);for(var b=0,d=0,c=this.qe.length;d<c;){var h=this.qe[d];if(0!=(h.wp&3)){b=d;break}d=h.Oh}c=b+1;for(d=b;c!=b;d=c){for(var h=this.qe[d],c=h.Oh,m=1,g=null;c!=d;){g=this.qe[c];if(0!=(g.wp&3))break;c=g.Oh;m++}1!=m&&1==
(h.wp&g.wp)&&(null==this.It&&(this.It=new a.Hb,this.Zw=new a.Hb),this.It.Lc(h.An),this.It.Xc(h.On),this.Zw.Lc(g.An),this.Zw.Xc(g.On),1==this.It.Ma(this.Zw,this.Ht,null,null,this.Xt)&&(h.On.L(this.Ht[0]),g.An.L(this.Ht[0]),h.Oh=c,g.Rh=d))}return b};h.prototype.sw=function(b,d,c){var h=new a.b;h.xc(c,b);c=h.length();c=this.wb*this.wb-c*c*.25;if(0<c){c=Math.sqrt(c);h.normalize();h.Tr();var m=new a.b;m.xc(d,b);if(m.pi(h)+c>=this.wb)return!0}return!1};h.prototype.MR=function(b,d,c){for(var h=0;1>h;h++){var m=
!1,q=b.Pb(d),g=b.La(q);if(0==g)break;var C=g;if(3>g)break;!b.Qb(q)&&(C=g-1);for(var q=b.cb(q),g=0<c?b.Ra(q):b.U(q),e=0<c?b.U(q):b.Ra(q),f=g,F=!0,k=new a.b,w=new a.b,l=new a.b,n=new a.b,p=new a.b,t=a.b.pa(0,0),r=new a.b,u=new a.b,v=new a.b,x=new a.b,z=this.wb,y=0,D=0;D<C;){b.w(e,w);F&&(b.w(q,k),b.w(g,l),f=g);u.xc(k,l);u.normalize();r.xc(w,k);r.normalize();if(f==e)break;var B=u.Vi(r),A=u.pi(r),J=!0;0>B||0>A&&0==B||!this.sw(l,k,w)||(t.L(w),J=!1,++y,m=!0);if(J){if(0<y)for(;;){B=0<c?b.Ra(f):b.U(f);if(B==
q)break;b.w(B,n);if(this.sw(n,l,t))l.L(n),f=B,J=!1,++y;else{B!=e&&this.sw(n,l,w)&&this.sw(n,k,w)&&(l.L(n),f=B,J=!1,++y);break}}if(!J)continue;if(0<y){f=0<c?b.Ra(g):b.U(g);for(F=1;F<y;F++)J=0<c?b.Ra(f):b.U(f),b.td(f,!0),f=J;v.xc(k,l);y=v.length();y=z*z-y*y*.25;y=Math.sqrt(y);z-y>.5*this.Zk?(p.add(l,k),p.scale(.5),v.normalize(),v.Tr(),x.L(v),x.scale(z-y),p.add(x),b.Nf(g,p)):b.td(g,!0);y=0}l.L(k);f=q}k.L(w);g=q;q=e;e=0<c?b.U(q):b.Ra(q);D++;F=!1}if(0<y){f=0<c?b.Ra(g):b.U(g);for(F=1;F<y;F++)J=0<c?b.Ra(f):
b.U(f),b.td(f,!0),f=J;p.add(l,k);p.scale(.5);v.xc(k,l);y=v.length();y=z*z-y*y*.25;y=Math.sqrt(y);v.normalize();v.Tr();x.L(v);x.scale(z-y);p.add(x);b.Nf(g,p)}b.zq(this.bB,!1,!1);if(!m)break}};h.prototype.FH=function(b,d){if(1==b.La(d))return!0;var c=new a.h;b.nk(d,c);return Math.max(c.O(),c.ea())<.5*this.Zk?!0:!1};h.prototype.EH=function(b){var d=new a.h;b.s(d);return Math.max(d.O(),d.ea())<.5*this.Zk?!0:!1};h.prototype.rW=function(b){b=a.ND.local().V(b,.25*this.Zk,!1,this.mc);for(var d=0,c=0,h=b.aa();c<
h;c++)d=Math.max(b.La(c),d);if(32>d)return this.dr=!1,b;this.dr=!0;return a.Cg.ql(b,this.Xt,!1,!0,this.mc)};h.prototype.nv=function(b,d){d=d.w();if(null!=this.Ud&&0!==this.Ud.length){var c=new a.b;c.L(this.Ud[0]);c.tu(this.wb,d);b.Bu(c);for(var h=1,m=this.Ud.length;h<m;h++)c.L(this.Ud[h]),c.tu(this.wb,d),b.bj(c)}else for(var h=this.DF(),c=a.J.truncate((h+3)/4),h=.5*Math.PI/c,m=Math.cos(h),q=Math.sin(h),g=new a.b,C=3;0<=C;C--){g.ja(0,this.wb);switch(C){case 0:for(h=0;h<c;h++)b.ak(g.x+d.x,g.y+d.y),
g.su(m,q);break;case 1:for(h=0;h<c;h++)b.ak(-g.y+d.x,g.x+d.y),g.su(m,q);break;case 2:for(h=0;h<c;h++)b.ak(-g.x+d.x,-g.y+d.y),g.su(m,q);break;default:for(b.$x(g.y+d.x,-g.x+d.y),h=1;h<c;h++)g.su(m,q),b.ak(g.y+d.x,-g.x+d.y)}this.Or()}};h.lf=function(a){a.Xg(1,0);return a};h.prototype.SX=function(a){a.Xg(2,this.ta);a.Fl();return a};return h}();a.EL=h})(y||(y={}));(function(a){var g=function(){function g(c){this.Ha=c;this.a=new a.ed;this.md=new a.ha(0)}g.prototype.ki=function(a,b,d){switch(b){case 0:if(a.o<
d&&a.v<=d)break;else return a.o>=d?1:-1;case 1:if(a.A<d&&a.B<=d)break;else return a.A>=d?1:-1;case 2:if(a.o>=d&&a.v>d)break;else return a.v<=d?1:-1;case 3:if(!(a.A>=d&&a.B>d))return a.B<=d?1:-1}return 0};g.prototype.fz=function(a,b,d){return 1736==a.G()?this.gz(a,b,d):this.hz(a,b)};g.prototype.gz=function(c,b,d){if(0==this.Ha.O()||0==this.Ha.ea())return c.Ka();b=new a.h;c.ac(b);this.Y=this.a.Jb(c);var h=new a.h,m=new a.h,q=new a.b,g=new a.b,e=[0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0];new a.Bg;var k=
new a.Hb,w=new a.ha(0);w.zb(Math.min(100,c.D()));for(var l=!1,n=0;!l&&4>n;n++){var p=!1,t=0!=(n&1),r=0;switch(n){case 0:r=this.Ha.o;p=b.o<=r&&b.v>=r;break;case 1:r=this.Ha.A;p=b.A<=r&&b.B>=r;break;case 2:r=this.Ha.v;p=b.o<=r&&b.v>=r;break;case 3:r=this.Ha.B,p=b.A<=r&&b.B>=r}if(p)for(l=!0,p=this.a.Pb(this.Y);-1!=p;){var u=-1,v=-1,x=this.a.cb(p),z=x;do{var y=this.a.jc(z);null==y&&(y=k,this.a.w(z,q),y.Lc(q),this.a.w(this.a.U(z),g),y.Xc(g));y.s(h);var B=this.ki(h,n,r),D=0,A=-1;if(-1==B){y=y.Tq(t,r,e,
f);0<y?D=this.a.Em(z,f,y):D=0;for(var D=D+1,J=z,E=this.a.U(J),y=0;y<D;y++){this.a.w(J,q);this.a.w(E,g);A=this.a.jc(J);null==A&&(A=k,A.Lc(q),A.Xc(g));A.s(m);A=this.ki(m,n,r);if(-1==A){if(t)A=Math.abs(q.y-r),G=Math.abs(g.y-r),A<G?(q.y=r,this.a.Nf(J,q)):(g.y=r,this.a.Nf(E,g));else{var A=Math.abs(q.x-r),G=Math.abs(g.x-r);A<G?(q.x=r,this.a.Nf(J,q)):(g.x=r,this.a.Nf(E,g))}A=this.a.jc(J);null==A&&(A=k,A.Lc(q),A.Xc(g));A.s(m);A=this.ki(m,n,r)}G=u;u=A;-1==v&&(v=u);if(0!=G||1!=u)1==G&&0==u||0!=G||0!=u||w.add(J);
1==u&&(l=!1);A=J=E;E=this.a.U(E)}}if(0==D){G=u;u=B;-1==v&&(v=u);if(0!=G||1!=u)1==G&&0==u||0!=G||0!=u||w.add(z);1==u&&(l=!1);A=this.a.U(z)}z=A}while(z!=x);0==v&&0==u&&w.add(x);y=0;for(u=w.size;y<u;y++)v=w.get(y),this.a.td(v,!1);w.clear(!1);p=3>this.a.La(p)?this.a.Qr(p):this.a.Sb(p)}}if(l)return c.Ka();this.iC();0<d&&this.uz(d);return this.a.Pe(this.Y)};g.prototype.hz=function(c){var b=new a.h,d=new a.h,h=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],q=new a.Bg,g=c,e=new a.h;c.ac(e);for(var f=0;4>f;f++){var k=
!1,w=0!=(f&1),l=0;switch(f){case 0:l=this.Ha.o;k=e.o<=l&&e.v>=l;break;case 1:l=this.Ha.A;k=e.A<=l&&e.B>=l;break;case 2:l=this.Ha.v;k=e.o<=l&&e.v>=l;break;case 3:l=this.Ha.B,k=e.A<=l&&e.B>=l}if(k){k=g;g=c.Ka();k=k.Fa();k.zj();for(var n,p=new a.b;k.Ya();)for(var r,t=!0;k.Ea();){var u=k.ba();u.s(b);var v=this.ki(b,f,l);if(-1==v){if(v=u.Tq(w,l,h,m),0<v){var x=0;n=u.ec();for(var z=0;z<=v;z++)if(r=z<v?m[z]:1,x!=r){u.yh(x,r,q);var y=q.get();y.Lc(n);z<v&&(w?(p.x=h[z],p.y=l):(p.x=l,p.y=h[z]),y.Xc(p));y.s(d);
var A=this.ki(d,f,l);if(-1==A){n=y.ec();x=y.Ac();if(w)A=Math.abs(n.y-l),B=Math.abs(x.y-l),A<B?(n.y=l,y.Lc(n)):(x.y=l,y.Xc(x));else{var A=Math.abs(n.x-l),B=Math.abs(x.x-l);A<B?(n.x=l,y.Lc(n)):(x.x=l,y.Xc(x))}y.s(d);A=this.ki(d,f,l)}n=y.Ac();x=r;r=A;1==r?(g.cc(y,t),t=!1):t=!0}}}else r=v,1==r?(g.cc(u,t),t=!1):t=!0}}}return g};g.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();
for(var c=new a.b,b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))for(var d=this.a.cb(b),h=0,m=this.a.La(b);h<m;h++,d=this.a.U(d))if(this.a.w(d,c),this.Ha.o==c.x||this.Ha.v==c.x||this.Ha.A==c.y||this.Ha.B==c.y)this.a.Va(d,this.Li,this.md.size),this.md.add(d);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};g.prototype.uz=function(c){for(var b=new a.b,d=new a.b,h=a.J.df(2048,0),m=this.a.Pb(this.Y);-1!=m;m=this.a.Sb(m)){var q=this.a.cb(m),g=q;do{var e=this.a.U(g);
this.a.w(g,b);var f=-1;b.x==this.Ha.o?(this.a.w(e,d),d.x==this.Ha.o&&(f=1)):b.x==this.Ha.v&&(this.a.w(e,d),d.x==this.Ha.v&&(f=1));b.y==this.Ha.A?(this.a.w(e,d),d.y==this.Ha.A&&(f=0)):b.y==this.Ha.B&&(this.a.w(e,d),d.y==this.Ha.B&&(f=0));if(-1!=f&&(f=a.b.Cb(b,d),f=a.J.truncate(Math.min(Math.ceil(f/c),2048)),!(1>=f))){for(var k=1;k<f;k++)h[k-1]=1*k/f;this.a.Em(g,h,f-1)}g=e}while(g!=q)}};g.prototype.Fm=function(c,b){var d=this.a.Sd(),h=new a.b,m=new a.ha(0);m.zb(100);for(var q=this.a.Pb(this.Y);-1!=
q;q=this.a.Sb(q))for(var g=this.a.cb(q),e=0,f=this.a.La(q);e<f;e++){var k=this.a.U(g);this.a.w(g,h);if(c?h.y==b:h.x==b)if(this.a.w(k,h),c?h.y==b:h.x==b)1!=this.a.Sa(g,d)&&(m.add(g),this.a.Va(g,d,1)),1!=this.a.Sa(k,d)&&(m.add(k),this.a.Va(k,d,1));g=k}this.a.je(d);if(!(3>m.size)){var w=this;m.Fd(0,m.size,function(a,b){return w.li(a,b)});d=new a.b;q=new a.b;g=new a.b;q.Yc();for(var l=-1,e=new a.ha(0),f=new a.ha(0),k=this.a.Sd(),n=this.a.Sd(),p=0,r=m.size;p<r;p++){var t=m.get(p);this.a.w(t,h);if(!h.vb(q)){if(-1!=
l){for(var u=l;u<p;u++){var l=m.get(u),v=this.a.U(l),t=this.a.Ra(l),x=!1;0>this.li(l,v)&&(this.a.w(v,d),c?d.y==b:d.x==b)&&(e.add(l),x=!0,this.a.Va(l,n,1));0>this.li(l,t)&&(this.a.w(t,d),c?d.y==b:d.x==b)&&(x||e.add(l),this.a.Va(l,k,1))}u=0;for(x=e.size;u<x;u++){l=e.get(u);t=this.a.Sa(l,k);v=this.a.Sa(l,n);if(1==t){t=this.a.Ra(l);this.a.w(t,g);var z=[0];z[0]=0;if(!g.vb(h)){var y=a.b.Cb(q,g);z[0]=a.b.Cb(g,h)/y;0==z[0]?z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998);this.a.Em(t,z,1);t=this.a.Ra(l);
this.a.Nf(t,h);f.add(t);this.a.Va(t,k,1);this.a.Va(t,n,-1)}}1==v&&(v=this.a.U(l),this.a.w(v,g),z=[0],z[0]=0,g.vb(h)||(y=a.b.Cb(q,g),z[0]=a.b.Cb(q,h)/y,0==z[0]?z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998),this.a.Em(l,z,1),t=this.a.U(l),this.a.Nf(t,h),f.add(t),this.a.Va(t,k,-1),this.a.Va(t,n,1)))}l=e;e=f;f=l;f.clear(!1)}l=p;q.L(h)}}this.a.je(k);this.a.je(n)}};g.prototype.xm=function(c,b){var d=new a.b,h=new a.ha(0);h.zb(100);for(var m=this.a.Sd(),q=0,g=this.md.size;q<g;q++){var e=this.md.get(q);
if(-1!=e){var f=this.a.U(e);this.a.w(e,d);if(c?d.y==b:d.x==b)if(this.a.w(f,d),c?d.y==b:d.x==b)-2!=this.a.Sa(e,m)&&(h.add(e),this.a.Va(e,m,-2)),-2!=this.a.Sa(f,m)&&(h.add(f),this.a.Va(f,m,-2))}}if(0!=h.size){var k=this;h.Fd(0,h.size,function(a,b){return k.li(a,b)});q=0;for(g=h.size;q<g;q++){var w=h.get(q);this.a.Va(w,m,q)}e=new a.b;f=new a.b;f.Yc();for(var l=-1,q=0,g=h.size;q<g;q++)if(w=h.get(q),-1!=w&&(this.a.w(w,d),!d.vb(f))){if(-1!=l)for(;;){for(var w=!1,n=1<q-l?q-1:q,p=l;p<n;p++){var t=h.get(p);
if(-1!=t){var r=-1,u=this.a.U(t);0>this.li(t,u)&&(this.a.w(u,e),c?e.y==b:e.x==b)&&(r=u);var u=-1,v=this.a.Ra(t);0>this.li(t,v)&&(this.a.w(v,e),c?e.y==b:e.x==b)&&(u=v);if(-1!=r&&-1!=u)this.ji(t,h,m),this.a.td(t,!1),this.ji(r,h,m),this.a.td(r,!1),w=!0;else if(-1!=r||-1!=u){for(v=p+1;v<q;v++){var x=h.get(v);if(-1!=x){var z=this.a.U(x),y=-1;0>this.li(x,z)&&(this.a.w(z,e),c?e.y==b:e.x==b)&&(y=z);var z=this.a.Ra(x),A=-1;0>this.li(x,z)&&(this.a.w(z,e),c?e.y==b:e.x==b)&&(A=z);if(-1!=y&&-1!=A){this.ji(x,h,
m);this.a.td(x,!1);this.ji(y,h,m);this.a.td(y,!1);w=!0;break}if(-1!=r&&-1!=A){this.qu(h,t,r,x,A,m);w=!0;break}else if(-1!=u&&-1!=y){this.qu(h,x,y,t,u,m);w=!0;break}}}if(w)break}}}if(!w)break}l=q;f.L(d)}}this.a.je(m)};g.prototype.ji=function(a,b,d){d=this.a.Sa(a,d);b.set(d,-1);d=this.a.Sa(a,this.Li);this.md.set(d,-1);b=this.a.kd(a);-1!=b&&this.a.cb(b)==a&&(this.a.ig(b,-1),this.a.rh(b,-1))};g.prototype.qu=function(a,b,d,h,m,q){this.a.Jc(b,h);this.a.Kc(h,b);this.a.Kc(d,m);this.a.Jc(m,d);this.ji(h,a,
q);this.a.Ni(h,!1);this.ji(m,a,q);this.a.Ni(m,!0)};g.prototype.Ez=function(){for(var a=0,b=this.md.size;a<b;a++){var d=this.md.get(a);-1!=d&&this.a.Bj(d,-1)}for(var h=0,m=0,q=this.a.Pb(this.Y);-1!=q;){var g=this.a.cb(q);if(-1==g||q!=this.a.kd(g)){var e=q,q=this.a.Sb(q);this.a.ig(e,-1);this.a.Rr(e)}else{d=g;e=0;do this.a.Bj(d,q),e++,d=this.a.U(d);while(d!=g);2>=e?(d=this.a.Sa(g,this.Li),this.md.set(d,-1),g=this.a.td(g,!1),2==e&&(d=this.a.Sa(g,this.Li),this.md.set(d,-1),this.a.td(g,!1)),e=q,q=this.a.Sb(q),
this.a.ig(e,-1),this.a.Rr(e)):(this.a.Up(q,!1),this.a.rh(q,this.a.Ra(g)),this.a.sk(q,e),m+=e,h++,q=this.a.Sb(q))}}a=0;for(b=this.md.size;a<b;a++)if(d=this.md.get(a),-1!=d&&(q=this.a.kd(d),-1==q)){q=this.a.Vf(this.Y,-1);e=0;g=d;do this.a.Bj(d,q),e++,d=this.a.U(d);while(d!=g);2>=e?(d=this.a.Sa(g,this.Li),this.md.set(d,-1),g=this.a.td(g,!1),2==e&&(d=this.a.Sa(g,this.Li),0<=d&&this.md.set(d,-1),this.a.td(g,!1)),e=q,this.a.ig(e,-1),this.a.Rr(e)):(this.a.ho(q,!0),this.a.sk(q,e),this.a.ig(q,g),this.a.rh(q,
this.a.Ra(g)),this.a.Up(q,!1),m+=e,h++)}this.a.Bm(this.Y,h);this.a.qk(this.Y,m);a=0;for(b=this.a.qd;-1!=b;b=this.a.Re(b))a+=this.a.D(b);this.a.CC(a)};g.xl=function(a,b,d,h){return(new g(b)).fz(a,d,h)};g.clip=function(c,b,d,h){if(c.u())return c;if(b.u())return c.Ka();var m=c.G();if(33==m)return d=c.w(),b.contains(d)?c:c.Ka();if(197==m)return d=new a.h,c.s(d),d.Ma(b)?(b=new a.di,c.copyTo(b),b.Np(d),b):c.Ka();var q=new a.h;c.ac(q);if(b.contains(q))return c;if(!b.Yb(q))return c.Ka();q=c.ob;if(null!=q&&
(q=q.Ii,null!=q)){q=q.Xn(b);if(1==q){if(1736!=m)throw a.g.za();c=new a.Ja(c.description);c.oq(b);return c}if(0==q)return c.Ka()}switch(m){case 550:h=null;for(var m=c.D(),q=c.Qa(0),e=0,f=0;f<m;f++)d=new a.b,q.fc(2*f,d),b.contains(d)||(0==e&&(h=c.Ka()),e<f&&h.Hd(c,e,f),e=f+1);0<e&&h.Hd(c,e,m);return 0==e?c:h;case 1736:case 1607:return g.xl(c,b,d,h);default:throw a.g.za();}};g.prototype.li=function(c,b){var d=new a.b;this.a.w(c,d);c=new a.b;this.a.w(b,c);return d.compare(c)};return g}();a.le=g})(y||
(y={}));(function(a){var g=function(){function g(c,b){this.Ha=c;this.a=new a.ed;this.md=new a.ha(0);this.ie=b}g.prototype.ki=function(a,b,d){switch(b){case 0:if(a.o<d&&a.v<=d)break;else return a.o>=d?1:-1;case 1:if(a.A<d&&a.B<=d)break;else return a.A>=d?1:-1;case 2:if(a.o>=d&&a.v>d)break;else return a.v<=d?1:-1;case 3:if(!(a.A>=d&&a.B>d))return a.B<=d?1:-1}return 0};g.prototype.fz=function(a,b,d){return 1736==a.G()?this.gz(a,b,d):this.hz(a,b)};g.prototype.gz=function(c,b,d){if(0==this.Ha.O()||0==
this.Ha.ea())return c.Ka();b=new a.h;c.ac(b);this.Y=this.a.Jb(c);var h=new a.h,m=new a.h,q=new a.b,g=new a.b,e=[0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0],k=new a.Hb,w=new a.ha(0);w.zb(256);for(var l=!1,n=0;!l&&4>n;n++){var p=!1,t=0!=(n&1),r=0;switch(n){case 0:r=this.Ha.o;p=b.o<=r&&b.v>=r;break;case 1:r=this.Ha.A;p=b.A<=r&&b.B>=r;break;case 2:r=this.Ha.v;p=b.o<=r&&b.v>=r;break;case 3:r=this.Ha.B,p=b.A<=r&&b.B>=r}if(p)for(l=!0,p=this.a.Pb(this.Y);-1!=p;){var u=!0,v=-1,x=-1,z=this.a.cb(p),y=z;do{var A=
this.a.jc(y);null==A&&(A=k,this.a.w(y,q),A.Lc(q),this.a.w(this.a.U(y),g),A.Xc(g));A.s(h);var B=this.ki(h,n,r),D=0,J=-1;if(-1==B){A=A.Tq(t,r,e,f);0<A?D=this.a.iY(y,f,A):D=0;for(var D=D+1,E=y,G=this.a.U(E),A=0;A<D;A++){this.a.w(E,q);this.a.w(G,g);J=this.a.jc(E);null==J&&(J=k,J.Lc(q),J.Xc(g));J.s(m);J=this.ki(m,n,r);if(-1==J){if(t)J=Math.abs(q.y-r),L=Math.abs(g.y-r),J<L?(q.y=r,this.a.Nf(E,q)):(g.y=r,this.a.Nf(G,g));else{var J=Math.abs(q.x-r),L=Math.abs(g.x-r);J<L?(q.x=r,this.a.Nf(E,q)):(g.x=r,this.a.Nf(G,
g))}J=this.a.jc(E);null==J&&(J=k,J.Lc(q),J.Xc(g));J.s(m);J=this.ki(m,n,r)}L=v;v=J;-1==x&&(x=v);if(0!=L||1!=v)1==L&&0==v||0!=L||0!=v||w.add(E);1==v&&(u=l=!1);J=E=G;G=this.a.U(G)}}if(0==D){L=v;v=B;-1==x&&(x=v);if(0!=L||1!=v)1==L&&0==v||0!=L||0!=v||w.add(y);1==v&&(u=l=!1);J=this.a.U(y)}y=J;if(256<=w.size){A=1;for(B=w.size-1;A<B;A++)D=w.get(A),this.a.td(D,!1);w.set(1,w.Ec());w.uf(2)}}while(y!=z);if(!u)for(0==x&&0==v&&w.add(z),A=0,B=w.size;A<B;A++)D=w.get(A),this.a.td(D,!1);w.clear(!1);p=u||0==this.a.La(p)?
this.a.Qr(p):this.a.Sb(p)}}if(l)return c.Ka();this.iC();0<d&&this.uz(d);return this.a.Pe(this.Y)};g.prototype.hz=function(c){var b=new a.h,d=new a.h,h=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],q=new a.Bg,g=c,e=new a.h;c.ac(e);for(var f=new a.b,k=new a.b,w=null,l=null,n=0;4>n;n++){var p=!1,r=0!=(n&1),t=0;switch(n){case 0:t=this.Ha.o;p=e.o<=t&&e.v>=t;break;case 1:t=this.Ha.A;p=e.A<=t&&e.B>=t;break;case 2:t=this.Ha.v;p=e.o<=t&&e.v>=t;break;case 3:t=this.Ha.B,p=e.A<=t&&e.B>=t}if(p)for(p=g,g=c.Ka(),p=
p.Fa(),p.zj();p.Ya();)for(var u,v=!0;p.Ea();){var x=p.ba();x.s(b);var z=this.ki(b,n,t);if(-1==z){if(z=x.Tq(r,t,h,m),0<z){var y=0;x.Oq(f);for(var A=0;A<=z;A++)if(u=A<z?m[A]:1,y!=u){x.yh(y,u,q);var B=q.get();B.Lc(f);A<z&&(r?(k.x=h[A],k.y=t):(k.x=t,k.y=h[A]),B.Xc(k));B.s(d);var D=this.ki(d,n,t);-1==D&&(null==w&&(w=new a.b),null==l&&(l=new a.b),B.Oq(w),B.Ns(l),r?(y=Math.abs(w.y-t),D=Math.abs(l.y-t),y<D?(w.y=t,B.Lc(w)):(l.y=t,B.Xc(l))):(y=Math.abs(w.x-t),D=Math.abs(l.x-t),y<D?(w.x=t,B.Lc(w)):(l.x=t,B.Xc(l))),
B.s(d),D=this.ki(d,n,t));B.Ns(f);y=u;u=D;1==u?(g.cc(B,v),v=!1):v=!0}}}else u=z,1==u?(g.cc(x,v),v=!1):v=!0}}return g};g.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();for(var c=new a.b,b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))for(var d=this.a.cb(b),h=0,m=this.a.La(b);h<m;h++,d=this.a.U(d))if(this.a.w(d,c),this.Ha.o==c.x||this.Ha.v==c.x||this.Ha.A==c.y||this.Ha.B==c.y)this.a.Va(d,
this.Li,this.md.size),this.md.add(d);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};g.prototype.uz=function(c){for(var b=new a.b,d=new a.b,h=null,m=null,q=a.J.df(2048,0),g=this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g)){var e=this.a.cb(g),f=e;do{var k=this.a.U(f);this.a.w(f,b);var w=-1;b.x==this.Ha.o?(this.a.w(k,d),d.x==this.Ha.o&&(w=1)):b.x==this.Ha.v&&(this.a.w(k,d),d.x==this.Ha.v&&(w=1));b.y==this.Ha.A?(this.a.w(k,d),d.y==this.Ha.A&&(w=0)):b.y==this.Ha.B&&
(this.a.w(k,d),d.y==this.Ha.B&&(w=0));if(-1!=w){null==h&&(h=new a.b);null==m&&(m=new a.b);h.L(b);m.ja(0,0);if(0==w){var l=b.x-this.Ha.o;m.x=a.Ub.sign(d.x-b.x);h.x=c*a.Ub.Kl(Math.floor(Math.abs(l/c)),l)+this.Ha.o;0>h.x&&(h.x+=c)}else l=b.y-this.Ha.A,m.y=a.Ub.sign(d.y-b.y),h.y=c*a.Ub.Kl(Math.floor(Math.abs(l/c)),l)+this.Ha.A,0>h.y&&(h.y+=c);var l=0!=w?d.y-b.y:d.x-b.x,n=Math.abs(l);if(65536<n/c)throw a.g.X("internal error");if(0<n){n=a.J.truncate(n/c)+2;q.length<n&&(q=a.J.df(n));for(var p=n=0;;p++){var t=
new a.b;t.x=h.x+m.x*p*c;t.y=h.y+m.y*p*c;t=(0!=w?t.y-b.y:t.x-b.x)/l;if(1<=t)break;0>=t||(q[n]=t,n++)}0!=n&&this.a.Em(f,q,n)}}f=k}while(f!=e)}};g.prototype.Fm=function(c,b){for(var d=-1,h=new a.b,m=null,q=this.a.Pb(this.Y);-1!=q;q=this.a.Sb(q))for(var g=this.a.cb(q),e=0,f=this.a.La(q);e<f;e++){var k=this.a.U(g);this.a.w(g,h);if(c?h.y==b:h.x==b)if(this.a.w(k,h),c?h.y==b:h.x==b)-1==d&&(d=this.a.Sd()),null==m&&(m=new a.ha(0),m.zb(100)),1!=this.a.Sa(g,d)&&(m.add(g),this.a.Va(g,d,1)),1!=this.a.Sa(k,d)&&
(m.add(k),this.a.Va(k,d,1));g=k}-1!=d&&this.a.je(d);if(!(null==m||3>m.size)){var w=this;m.Fd(0,m.size,function(a,b){return w.li(a,b)});d=new a.b;q=new a.b;g=new a.b;q.Yc();for(var l=-1,e=new a.ha(0),f=new a.ha(0),k=null,n=this.a.Sd(),p=this.a.Sd(),t=0,r=m.size;t<r;t++){var u=m.get(t);this.a.w(u,h);if(!h.vb(q)){if(-1!=l){for(var v=l;v<t;v++){var l=m.get(v),x=this.a.U(l),u=this.a.Ra(l),z=!1;this.a.w(x,d);0>q.compare(d)&&(c?d.y==b:d.x==b)&&(e.add(l),z=!0,this.a.Va(l,p,1));this.a.w(u,d);0>q.compare(d)&&
(c?d.y==b:d.x==b)&&(z||e.add(l),this.a.Va(l,n,1))}v=0;for(z=e.size;v<z;v++){l=e.get(v);u=this.a.Sa(l,n);x=this.a.Sa(l,p);if(1==u&&(u=this.a.Ra(l),this.a.w(u,g),!g.vb(h))){null==k&&(k=[]);var y=a.b.Cb(q,g);k[0]=a.b.Cb(g,h)/y;0==k[0]?k[0]=2.220446049250313E-16:1==k[0]&&(k[0]=.9999999999999998);this.a.Em(u,k,1);u=this.a.Ra(l);this.a.Nf(u,h);f.add(u);this.a.Va(u,n,1);this.a.Va(u,p,-1)}1==x&&(x=this.a.U(l),this.a.w(x,g),g.vb(h)||(null==k&&(k=[]),y=a.b.Cb(q,g),k[0]=a.b.Cb(q,h)/y,0==k[0]?k[0]=2.220446049250313E-16:
1==k[0]&&(k[0]=.9999999999999998),this.a.Em(l,k,1),u=this.a.U(l),this.a.Nf(u,h),f.add(u),this.a.Va(u,n,-1),this.a.Va(u,p,1)))}l=e;e=f;f=l;f.clear(!1)}l=t;q.L(h)}}this.a.je(n);this.a.je(p)}};g.prototype.xm=function(c,b){for(var d=new a.b,h=null,m=-1,q=0,g=this.md.size;q<g;q++){var e=this.md.get(q);if(-1!=e){var f=this.a.U(e);this.a.w(e,d);if(c?d.y==b:d.x==b)if(this.a.w(f,d),c?d.y==b:d.x==b)-1==m&&(m=this.a.Sd()),null==h&&(h=new a.ha(0),h.zb(100)),-2!=this.a.Sa(e,m)&&(h.add(e),this.a.Va(e,m,-2)),-2!=
this.a.Sa(f,m)&&(h.add(f),this.a.Va(f,m,-2))}}if(null==h)-1!=m&&this.a.je(m);else{var k=this;h.Fd(0,h.size,function(a,b){return k.li(a,b)});q=0;for(g=h.size;q<g;q++){var w=h.get(q);this.a.Va(w,m,q)}e=new a.b;f=new a.b;f.Yc();for(var l=-1,q=0,g=h.size;q<g;q++)if(w=h.get(q),-1!=w&&(this.a.w(w,d),!d.vb(f))){if(-1!=l)for(;;){for(var w=!1,n=1<q-l?q-1:q,p=l;p<n;p++){var t=h.get(p);if(-1!=t){var r=-1,u=this.a.U(t);this.a.w(u,e);0>f.compare(e)&&(c?e.y==b:e.x==b)&&(r=u);var u=-1,v=this.a.Ra(t);this.a.w(v,
e);0>f.compare(e)&&(c?e.y==b:e.x==b)&&(u=v);if(-1!=r&&-1!=u)this.ji(t,h,m),this.a.td(t,!1),this.ji(r,h,m),this.a.td(r,!1),w=!0;else if(-1!=r||-1!=u){for(v=p+1;v<q;v++){var x=h.get(v);if(-1!=x){var z=this.a.U(x),y=-1;this.a.w(z,e);0>f.compare(e)&&(c?e.y==b:e.x==b)&&(y=z);var z=this.a.Ra(x),A=-1;this.a.w(z,e);0>f.compare(e)&&(c?e.y==b:e.x==b)&&(A=z);if(-1!=y&&-1!=A){this.ji(x,h,m);this.a.td(x,!1);this.ji(y,h,m);this.a.td(y,!1);w=!0;break}if(-1!=r&&-1!=A){this.qu(h,t,r,x,A,m);w=!0;break}else if(-1!=
u&&-1!=y){this.qu(h,x,y,t,u,m);w=!0;break}}}if(w)break}}}if(!w)break}l=q;f.L(d)}this.a.je(m)}};g.prototype.ji=function(a,b,d){d=this.a.Sa(a,d);b.set(d,-1);d=this.a.Sa(a,this.Li);this.md.set(d,-1);b=this.a.kd(a);-1!=b&&this.a.cb(b)==a&&(this.a.ig(b,-1),this.a.rh(b,-1))};g.prototype.qu=function(a,b,d,h,m,q){this.a.Jc(b,h);this.a.Kc(h,b);this.a.Kc(d,m);this.a.Jc(m,d);this.ji(h,a,q);this.a.Ni(h,!1);this.ji(m,a,q);this.a.Ni(m,!0)};g.prototype.Ez=function(){for(var a=0,b=this.md.size;a<b;a++){var d=this.md.get(a);
-1!=d&&this.a.Bj(d,-1)}for(var h=0,m=0,q=this.a.Pb(this.Y);-1!=q;){var g=this.a.cb(q);if(-1==g||q!=this.a.kd(g)){var e=q,q=this.a.Sb(q);this.a.ig(e,-1);this.a.Rr(e)}else{d=g;e=0;do this.a.Bj(d,q),e++,d=this.a.U(d);while(d!=g);this.a.Up(q,!1);this.a.rh(q,this.a.Ra(g));this.a.sk(q,e);m+=e;h++;q=this.a.Sb(q)}}a=0;for(b=this.md.size;a<b;a++)if(d=this.md.get(a),-1!=d&&(q=this.a.kd(d),-1==q)){q=this.a.Vf(this.Y,-1);e=0;g=d;do this.a.Bj(d,q),e++,d=this.a.U(d);while(d!=g);2>=e?(d=this.a.Sa(g,this.Li),this.md.set(d,
-1),g=this.a.td(g,!1),2==e&&(d=this.a.Sa(g,this.Li),0<=d&&this.md.set(d,-1),this.a.td(g,!1)),e=q,this.a.ig(e,-1),this.a.Rr(e)):(this.a.ho(q,!0),this.a.sk(q,e),this.a.ig(q,g),this.a.rh(q,this.a.Ra(g)),this.a.Up(q,!1),m+=e,h++)}this.a.Bm(this.Y,h);this.a.qk(this.Y,m);a=0;for(b=this.a.qd;-1!=b;b=this.a.Re(b))a+=this.a.D(b);this.a.CC(a)};g.ye=function(a,b,d,h,m){return(new g(b,m)).fz(a,d,h)};g.clip=function(a,b,d,h,m){return g.rq(a,b,null,d,h,m)};g.rq=function(c,b,d,h,m,q){var e=c.G();if(33==e)return m=
c.w(),b.contains(m)?c:c.Ka();if(197==e)return m=new a.h,c.s(m),m.Ma(b)?(b=new a.di,c.copyTo(b),b.Np(m),b):c.Ka();if(c.u())return c;if(b.u())return c.Ka();var f=new a.h;c.ac(f);if(b.contains(f))return c;if(!b.Yb(f))return c.Ka();if(null!=d||isNaN(h))h=a.na.Xy(d,b,!1);if(!a.T.fh(e))throw a.g.F();d=c.ob;if(null!=d&&(d=d.Ii,null!=d)){d=d.Xn(b);if(1==d){if(1736!=e)throw a.g.X("internal error");c=new a.Ja(c.description);c.oq(b);return c}if(0==d)return c.Ka()}switch(e){case 550:q=null;e=c.D();h=c.Qa(0);
d=0;m=new a.b;for(f=0;f<e;f++)h.fc(2*f,m),b.contains(m)||(0==d&&(q=c.Ka()),d<f&&q.Hd(c,d,f),d=f+1);0<d&&q.Hd(c,d,e);return 0==d?c:q;case 1736:case 1607:return g.ye(c,b,h,m,q);default:throw a.g.X("internal error");}};g.prototype.li=function(c,b){var d=new a.b;this.a.w(c,d);c=new a.b;this.a.w(b,c);return d.compare(c)};return g}();a.th=g})(y||(y={}));(function(a){var g=new a.b,e=function(){function b(b,c,m,q,g){this.In=new a.b;this.hl=new a.b;this.pj=new a.b;this.a=b;this.px=m;this.hp=q;this.In=c;this.im=
g;this.hl.Yc();this.pj.Yc()}b.prototype.HF=function(b){this.a.w(b,this.hl);b=a.J.truncate((this.hl.x-this.In.x)*this.hp+.5);var d=a.J.truncate((this.hl.y-this.In.y)*this.hp+.5);return c.lH(b,d)};b.prototype.Yz=function(a){return this.a.Sa(a,this.im)};b.prototype.zz=function(a,b){this.a.w(a,this.hl);this.a.w(b,this.pj);return c.pw(this.hl.x,this.hl.y,this.pj.x,this.pj.y,this.px)};return b}();a.fZ=function(){return function(){}}();var c=function(){function b(){this.In=new a.b;this.er=[0,0,0,0];this.vt=
[0,0,0,0];this.kp=this.im=-1}b.zR=function(a,c){var d=new b;d.a=a;d.ta=c;d.px=c*c;d.Nw=2*c;d.hp=1/d.Nw;return d.aQ()};b.pw=function(a,b,c,q,g){a-=c;b-=q;return a*a+b*b<=g};b.lH=function(b,c){return a.J.bh(c,a.J.bh(b))};b.prototype.cQ=function(d,c){this.a.Mc(d,g);for(var h=(g.y-this.In.y)*this.hp,q=a.J.truncate((g.x-this.In.x)*this.hp),e=a.J.truncate(h),f=h=0;1>=f;f+=1)for(var k=0;1>=k;k+=1){var w=b.lH(q+f,e+k),l=this.hm.IS(w);-1!=l&&(this.er[h]=l,this.vt[h]=w,h++)}for(q=h-1;1<=q;q--)for(l=this.er[q],
e=q-1;0<=e;e--)if(l==this.er[e]){this.vt[e]=-1;h--;q!=h&&(this.vt[q]=this.vt[h],this.er[q]=this.er[h]);break}for(e=0;e<h;e++)this.dQ(d,this.vt[e],g,this.er[e],c)};b.prototype.dQ=function(d,c,m,q,g){for(var h=new a.b;-1!=q;q=this.hm.YS(q)){var e=this.hm.ia(q);d==e||-1!=c&&this.a.Sa(e,this.im)!=c||(this.a.Mc(e,h),b.pw(m.x,m.y,h.x,h.y,this.px)&&g.add(q))}};b.prototype.Rn=function(a,b,c){var d=this.a.Sa(a,this.kp),h=this.a.Sa(b,this.kp);-1==d&&(d=this.Md.ni(),this.Md.addElement(d,a),this.a.Va(a,this.kp,
d));-1==h?this.Md.addElement(d,b):this.Md.kz(d,h);this.a.Va(b,this.kp,-2);b=this.AV(a,b);c&&(c=this.Yw.HF(a),this.a.Va(a,this.im,c));return b};b.zV=function(d,c,m){d.Eb(c);m=d;var h=new a.b;b.HN(d.w(),c.w(),h);m.rb(h)};b.HN=function(a,b,c){var d=a.x;a.x!=b.x&&(d=(1*a.x+1*b.x)/2);var h=a.y;a.y!=b.y&&(h=(1*a.y+1*b.y)/2);c.ja(d,h)};b.prototype.AV=function(b,c){var d=new a.b;this.a.w(b,d);var h=new a.b;this.a.w(c,h);var g=this.a.fH(b);c=this.a.fH(c);var e=g+c,f=0,k=d.x;d.x!=h.x&&(k=(d.x*g+h.x*c)/e,f++);
var w=d.y;d.y!=h.y&&(w=(d.y*g+h.y*c)/e,f++);0<f&&this.a.rb(b,k,w);this.a.VX(b,e);return 0!=f};b.prototype.aQ=function(){var b=this.a.ud,c=this.a.LG();this.In=c.aA();c=Math.max(c.ea(),c.O())/2147483646;this.Nw<c&&(this.Nw=c,this.hp=1/this.Nw);this.Md=new a.Nu;this.Md.ru(a.J.truncate(this.a.ud/3+1));this.Md.ao(a.J.truncate(this.a.ud/3+1));this.im=this.a.Sd();this.kp=this.a.Sd();this.Yw=new e(this.a,this.In,this.px,this.hp,this.im);this.hm=new a.nM(a.J.truncate(4*b/3),this.Yw);this.hm.bX(this.a.ud);
b=!1;for(c=this.a.qd;-1!=c;c=this.a.Re(c))for(var m=this.a.Pb(c);-1!=m;m=this.a.Sb(m))for(var q=this.a.cb(m),g=0,f=this.a.La(m);g<f;g++){var k=this.Yw.HF(q);this.a.Va(q,this.im,k);this.hm.addElement(q,k);q=this.a.U(q)}var w=new a.ha(0);w.zb(10);for(c=this.a.qd;-1!=c;c=this.a.Re(c))for(m=this.a.Pb(c);-1!=m;m=this.a.Sb(m))for(q=this.a.cb(m),g=0,f=this.a.La(m);g<f;g++){if(-2!=this.a.Sa(q,this.kp))for(k=this.a.Sa(q,this.im),this.hm.jd(q,k);;){this.cQ(q,w);if(0==w.size)break;for(var k=!1,l=0,n=w.size;l<
n;l++){var p=w.get(l),t=this.hm.ia(p);this.hm.Jd(p);k=this.Rn(q,t,l+1==n)||k}b=b||k;w.clear(!1);if(!k)break}q=this.a.U(q)}b&&this.UO();this.Yw=this.hm=null;this.a.je(this.im);this.a.je(this.kp);return b};b.prototype.UO=function(){for(var b=new a.b,c=this.Md.De;-1!=c;c=this.Md.eA(c)){var m=this.Md.wc(c);this.a.w(this.Md.ia(m),b);for(m=this.Md.nb(m);-1!=m;m=this.Md.nb(m))this.a.Nf(this.Md.ia(m),b)}};return b}();a.Ku=c})(y||(y={}));(function(a){var g=function(){function g(a){void 0===a&&(a=null);this.Le=
null;this.xa=!1;null===a?this.Le=[]:this.Le=a}g.prototype.copyTo=function(c){if(c.xa)throw a.g.X("CompositeGeographicTransformation is read-only");for(var b=0;b<this.Le.length;b++)c.Le.push(this.Le[b].Sf())};g.prototype.count=function(){return this.Le.length};g.prototype.KS=function(a){return this.Le[a]};g.prototype.add=function(c){if(this.xa)throw a.g.X("CompositeGeographicTransformation is read-only");this.Le.push(c.Sf())};g.prototype.clear=function(){if(this.xa)throw a.g.X("CompositeGeographicTransformation is read-only");
this.Le.length=0};g.prototype.remove=function(c){if(this.xa)throw a.g.X("CompositeGeographicTransformation is read-only");this.Le.splice(c,1)};g.prototype.Wv=function(){for(var a=this.me(),b=0;b<a.count();b++)a.KS(b).mt();a.Le=a.Le.reverse();return a};g.prototype.me=function(){var a=new g;this.copyTo(a);return a};g.prototype.Sf=function(){return this.me()};g.prototype.transform=function(c,b,d,h){if(c.length<b)throw a.g.X("invalid Argument");var m=d;for(d=0;d<this.Le.length;d++){var q=this.Le[d];if(null!=
q.jn()){var g=q.tn,e=g?1:0,f=g?q.jn().getGeogcs2():q.jn().getGeogcs1(),f=f.getUnit().getUnitFactor(),f=m/f;if(3.552713678800501E-15<Math.abs(f-1))for(m=0;m<b;m++)c[m][0]*=f,c[m][1]*=f;a.VD.geogToGeog(q.jn(),b,c,null,e);m=(g?q.jn().getGeogcs1():q.jn().getGeogcs2()).getUnit().getUnitFactor()}}f=m/h;if(3.552713678800501E-15<Math.abs(f-1))for(m=0;m<b;m++)c[m][0]*=f,c[m][1]*=f;return b};g.prototype.getName=function(){if(0==this.Le.length)return"";for(var a="",b=0,d=this.Le.length;b<d;++b)""!==a&&(a+=" + "),
a+=this.Le[b].getName();return a};g.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof g)||this.Le.length!=a.Le.length)return!1;for(var b=0;b<this.Le.length;b++)if(!this.Le[b].Eb(a.Le[b]))return!1;return!0};g.prototype.Tp=function(){this.xa=!0};g.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};g.create=function(){return new g};g.Om=function(c,b){var d=new g;d.add(a.oo.create(c,b));return d};g.ro=function(c,
b){var d=new g;d.add(a.oo.eG(c,b));return d};return g}();a.ky=g})(y||(y={}));(function(a){var g=Math.PI,e=2*Math.PI,c=Math.PI/2,b=function(){function a(){}a.sQ=function(b,d){var c=new a;c.x=b;c.y=d;c.type=0;c.vi=0;return c};a.Jl=function(b){var d=new a;d.x=b.x;d.y=b.y;d.type=0;d.vi=0;return d};a.rQ=function(b){var d=new a;d.x=b.x;d.y=b.y;d.type=b.type;d.vi=b.vi;return d};a.ae=function(b,d,c){var h=new a;h.x=b.x+d*Math.cos(c);h.y=b.y+d*Math.sin(c);h.type=b.type;h.vi=b.vi;return h};a.Hv=function(b,
d){var c=new a;c.x=.5*(b.x+d.x);c.y=.5*(b.y+d.y);c.type=b.type;c.vi=b.vi;return c};a.ZF=function(b,d){var c=new a;c.x=b.x+.001*(d.x-b.x);c.y=b.y+.001*(d.y-b.y);c.type=b.type;c.vi=b.vi;return c};return a}(),d=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(a.rM||(a.rM={}));var h=function(){function h(a){this.vB=this.$b=this.Qg=null;this.ie=a}h.V=function(b,d,c,m,g,e){if(null==b)throw a.g.F();if(1>b.ub())throw a.g.F();
if(0==d||b.u())return b;e=new h(e);e.ep=b;e.Pa=d;e.ta=g;e.kj=c;e.lB=m;return e.wy()};h.prototype.UN=function(){var b=this.ep,d=b.ec(),c=b.Ac(),h=new a.b;h.xc(c,d);h.normalize();h.uw();h.scale(this.Pa);d.add(h);c.add(h);h=b.Ka();b.Lc(d);b.Xc(c);return h};h.prototype.TN=function(){var b=this.ep;if(0<this.Pa&&2!=this.kj){var d=new a.Ja;d.hd(b,!1);this.ep=d;return this.wy()}b=new a.di(b.$);b.P(this.Pa,this.Pa);return b};h.prototype.ZJ=function(a,b,d,c){return(b.x-a.x)*(c.x-d.x)+(b.y-a.y)*(c.y-d.y)};h.prototype.pc=
function(a,d){if(void 0===d)this.$b.push(a),this.Hf++;else if(0==this.Hf)this.pc(a);else{var h=this.qx,m,q;m=this.Qg[0==d?h-1:d-1];q=this.Qg[d];var g=this.ZJ(m,q,this.$b[this.Hf-1],a);0<g?this.pc(a):0>g&&(0<this.ZJ(m,q,q,this.$b[this.Hf-1])?(q=this.Qg[0==d?h-2:1==d?h-1:d-2],h=b.ae(m,this.Pa,Math.atan2(m.y-q.y,m.x-q.x)-c),this.$b[this.Hf-1]=h,1==this.kj||2==this.kj?(h=b.Hv(h,m),this.pc(h),h=b.ae(m,this.Pa,this.ww+c),m=b.Hv(h,m),m.type|=256,this.pc(m)):(h=b.ae(m,this.Pa,this.ww+c),h.type|=256),this.pc(h),
this.pc(a,d)):(h=b.ae(q,this.Pa,this.ww+c),this.pc(h),1==this.kj||2==this.kj?(h=b.Hv(h,q),this.pc(h),h=b.ae(q,this.Pa,this.MA-c),m=b.Hv(h,q),m.type|=256,this.pc(m)):(h=b.ae(q,this.Pa,this.MA-c),h.type|=256),this.pc(h)))}};h.prototype.AF=function(){var d,h,m,f,k,w,l=this.qx;this.Hf=0;var n=.5*this.ta,p=0,t=0;for(d=0;d<l;d++){f=this.Qg[d];k=0==d?this.Qg[l-1]:this.Qg[d-1];w=d==l-1?this.Qg[0]:this.Qg[d+1];var r=k.x-f.x,u=k.y-f.y,v=w.x-f.x,x=w.y-f.y;h=Math.atan2(u,r);m=Math.atan2(x,v);this.ww=h;this.MA=
m;0==d&&(p=h,t=m);r=r*x-v*u;u=m;m<h&&(m+=e);if(0<r*this.Pa)1==this.kj||2==this.kj?(h=b.ae(f,this.Pa,h+c),this.pc(h),h=b.ZF(f,h),this.pc(h),h=b.ae(f,this.Pa,m-c),f=b.ZF(f,h),f.type|=256,this.pc(f),this.pc(h)):(r=.5*(m-h),r=this.Pa/Math.abs(Math.sin(r)),h=b.ae(f,r,.5*(h+m)),this.pc(h,d));else if(0!=(f.type&512)){r=1-n/Math.abs(this.Pa);k=1;w=0>this.Pa?-g:g;-1<r&&1>r&&(u=2*Math.acos(r),.017453292519943295>u&&(u=.017453292519943295),k=a.J.truncate(g/u+1.5),1<k&&(w/=k));u=h+c;h=b.ae(f,this.Pa,u);0==d&&
(h.type|=1024);this.pc(h,d);r=this.Pa/Math.cos(w/2);u+=w/2;h=b.ae(f,r,u);h.type|=1024;for(this.pc(h);0<--k;)u+=w,h=b.ae(f,r,u),h.type|=1024,this.pc(h);h=b.ae(f,this.Pa,m-c);h.type|=1024;this.pc(h)}else if(1==this.kj)h=b.ae(f,this.Pa,h+c),this.pc(h,d),h=b.ae(f,this.Pa,m-c),this.pc(h);else if(0==this.kj)for(r=1-n/Math.abs(this.Pa),k=1,w=m-c-(h+c),-1<r&&1>r&&(u=2*Math.acos(r),.017453292519943295>u&&(u=.017453292519943295),k=a.J.truncate(Math.abs(w)/u+1.5),1<k&&(w/=k)),r=this.Pa/Math.cos(.5*w),u=h+c+
.5*w,h=b.ae(f,r,u),this.pc(h,d);0<--k;)u+=w,h=b.ae(f,r,u),this.pc(h);else 2==this.kj?(r=k.x-f.x,u=k.y-f.y,v=w.x-f.x,x=w.y-f.y,k=(r*v+u*x)/Math.sqrt(r*r+u*u)/Math.sqrt(v*v+x*x),.99999999<k?(h=b.ae(f,1.4142135623730951*this.Pa,m-.25*g),this.pc(h,d),h=b.ae(f,1.4142135623730951*this.Pa,m+.25*g),this.pc(h)):(k=Math.abs(this.Pa/Math.sin(.5*Math.acos(k))),w=Math.abs(this.lB*this.Pa),k>w?(r=.5*(m-h),r=this.Pa/Math.abs(Math.sin(r)),h=b.ae(f,r,.5*(h+m)),m=a.b.pa(h.x,h.y),h=a.b.pa(f.x,f.y),f=new a.b,f.xc(m,
h),m=new a.b,m.iX(w/f.length(),f,h),h=(k-w)*Math.abs(this.Pa)/Math.sqrt(k*k-this.Pa*this.Pa),0<this.Pa?f.uw():f.Tr(),f.scale(h/f.length()),h=new a.b,h.add(m,f),k=new a.b,k.xc(m,f),h=b.Jl(h),this.pc(h,d),h=b.Jl(k),this.pc(h)):(r=.5*(m-h),r=this.Pa/Math.abs(Math.sin(r)),h=b.ae(f,r,.5*(h+m)),this.pc(h,d)))):(m=u,0<this.Pa?(m>h&&(m-=e),k=h-m<c):(m<h&&(m+=e),k=m-h<c),k?(r=1.4142135623730951*this.Pa,u=0>r?h+.25*g:h+.75*g,h=b.ae(f,r,u),this.pc(h,d),u=0>r?m-.25*g:m-.75*g,h=b.ae(f,r,u),this.pc(h)):(r=.5*(m-
h),r=this.Pa/Math.abs(Math.sin(r)),m<h&&(m+=e),h=b.ae(f,r,(h+m)/2),this.pc(h,d)))}this.ww=p;this.MA=t;this.pc(this.$b[0],0);f=b.rQ(this.$b[this.Hf-1]);this.$b[0]=f;return this.YW()};h.prototype.pv=function(b,d){if(!(2>d))for(var c=0;c<d;c++){var h=this.$b[b+c];0!=c?this.vB.bj(a.b.pa(h.x,h.y)):this.vB.Bu(a.b.pa(h.x,h.y))}};h.prototype.VN=function(a,d,c){var h=a.wa(d),m=a.Fc(d);this.$b=[];this.vB=c;if(a.Qb(d)){for(d=a.Ba(h);a.Ba(m-1).vb(d);)m--;if(2<=m-h){this.qx=m-h;this.Qg=[];for(d=h;d<m;d++)this.Qg.push(b.Jl(a.Ba(d)));
this.AF()&&this.pv(0,this.Hf-1)}}else{for(d=a.Ba(h);h<m&&a.Ba(h+1).vb(d);)h++;for(d=a.Ba(m-1);h<m&&a.Ba(m-2).vb(d);)m--;if(2<=m-h){this.qx=2*(m-h)-2;this.Qg=[];c=b.Jl(a.Ba(h));c.type|=1536;this.Qg.push(c);for(d=h+1;d<m-1;d++)c=b.Jl(a.Ba(d)),this.Qg.push(c);c=b.Jl(a.Ba(m-1));c.type|=512;this.Qg.push(c);for(d=m-2;d>=h+1;d--)c=b.Jl(a.Ba(d)),c.type|=1024,this.Qg.push(c);if(this.AF())if(2<=this.$b.length){a=-1;(m=0!=(this.$b[this.Hf-1].type&1024))||(a=0);for(d=1;d<this.Hf;d++)(h=0!=(this.$b[d].type&1024))?
m||(m=d-1,1<m-a+1&&this.pv(a,m-a+1)):m&&(a=d-1),m=h;m||(m=this.Hf-1,1<m-a+1&&this.pv(a,m-a+1))}else a=0,m=this.Hf-1,0<=a&&1<=m-a&&this.pv(a,m-a+1)}}this.Qg=null;this.qx=0;this.$b=null;this.Hf=0};h.prototype.YW=function(){for(var a=!1,b=0;b<this.Hf;b++){var d=this.$b[b];d.Oh=b+1;d.Rh=b-1;this.$b[b]=d}d=this.$b[0];d.Rh=this.Hf-2;this.$b[0]=d;d=this.$b[this.Hf-2];d.Oh=0;this.$b[this.Hf-2]=d;for(b=d=0;b<this.Hf;b++)if(0!=(this.$b[d].type&256)){var c=this.$Q(d);if(-1!=c)d=c;else{a=!0;break}}else d=this.$b[d].Oh;
if(a)return!1;this.pQ(d);return!0};h.prototype.$Q=function(a){for(var b=this.Hf-1,d=a,c,h,m=1;m<=b-2;m++){c=d=this.$b[d].Oh;h=a;for(var q=1;q<=m;q++){h=this.$b[h].Rh;if(0==(this.$b[h].type&256)&&0==(this.$b[c].type&256)){var g=this.CT(h,c);if(-1!=g)return g}c=this.$b[c].Rh}}return-1};h.prototype.CT=function(b,c){var h,m,q,g;h=this.$b[this.$b[b].Rh];m=this.$b[b];q=this.$b[this.$b[c].Rh];g=this.$b[c];if(!this.mX(h,m,q,g))return-1;var e=new d;return this.NR(h,m,q,g,e)&&!e.qF&&a.J.GK((m.x-h.x)*(g.y-q.y)-
(m.y-h.y)*(g.x-q.x))!=a.J.GK(this.Pa)?(h=this.$b[b].Rh,e.Vn.type=m.type,e.Vn.Oh=c,e.Vn.Rh=h,this.$b[b]=e.Vn,e.Vn=this.$b[c],e.Vn.Rh=b,this.$b[c]=e.Vn,c):-1};h.prototype.mX=function(a,b,d,c){return Math.max(a.x,b.x)>=Math.min(d.x,c.x)&&Math.max(d.x,c.x)>=Math.min(a.x,b.x)&&Math.max(a.y,b.y)>=Math.min(d.y,c.y)&&Math.max(d.y,c.y)>=Math.min(a.y,b.y)};h.prototype.NR=function(a,d,c,h,m){m.qF=!1;var q,g,e;q=(d.y-a.y)*(h.x-c.x)-(d.x-a.x)*(h.y-c.y);g=(c.y-a.y)*(d.x-a.x)-(c.x-a.x)*(d.y-a.y);q=0==q?2:g/q;return 0<=
q&&1>=q&&(e=q,q=(h.y-c.y)*(d.x-a.x)-(h.x-c.x)*(d.y-a.y),g=(a.y-c.y)*(h.x-c.x)-(a.x-c.x)*(h.y-c.y),q=0==q?2:g/q,0<=q&&1>=q)?(m.Vn=b.sQ(a.x+q*(d.x-a.x),a.y+q*(d.y-a.y)),m.Vn.vi=c.vi+e*(h.vi-c.vi),0!=e&&1!=e||0!=q&&1!=q||(m.qF=!0),m.s_=q,m.t_=e,(0==e||1==e)&&0<q&&1>q||(0==q||1==q)&&0<e&&1>e?!1:!0):!1};h.prototype.pQ=function(a){for(;this.$b[a].Rh<a;)a=this.$b[a].Rh;var b=0,d=a;do d=this.$b[d],this.$b[b]=d,d=d.Oh,b++;while(d!=a);this.$b[b]=this.$b[0];this.Hf=b+1};h.prototype.zE=function(a){var b=this.ep,
d=b.Fa();if(null!=d){d.zj();for(var c=-1;d.Ya();)c++,this.VN(b,c,a)}};h.prototype.wy=function(){var b=this.ep.G();return 322==b?this.UN():197==b?this.TN():a.T.Nc(b)?(b=new a.Ua,b.cc(this.ep,!0),this.ep=b,this.wy()):1607==b?(b=new a.Ua,this.zE(b),b):1736==b?(b=new a.Ja,this.zE(b),b):null};return h}();a.HL=h})(y||(y={}));(function(a){var g=function(){function a(a){this.Uk=a}a.prototype.w=function(a,b){this.Uk.a.w(a,b)};a.prototype.Jd=function(a){var b=this.Uk.Na.ia(a);this.Uk.Na.Jd(a,-1);this.Uk.a.td(b,
!1)};return a}(),e=function(){function a(a){this.Uk=a}a.prototype.w=function(a,b){this.Uk.jV.w(a,b)};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),c=function(){function a(a){this.Uk=a}a.prototype.w=function(a,b){b.L(this.Uk.mV[a])};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),b=function(){function b(b){void 0===b?(this.Na=new a.xk,this.Na.Ne(20),this.a=new a.ed,this.aV=this.a.ah(550),this.Pt=this.a.Vf(this.aV,-1),this.xi=new g(this)):b instanceof Array?(this.Na=new a.xk,
this.Na.Ne(20),this.mV=b,this.xi=new c(this)):(this.Na=new a.xk,this.Na.Ne(20),this.jV=b,this.xi=new e(this))}b.prototype.Jb=function(b){var d=b.G();if(a.Ou.fh(d))this.FO(b);else if(a.Bl.Nc(d))this.MO(b);else if(197==d)this.CO(b);else if(33==d)this.JO(b);else throw a.g.F("invalid shape type");};b.prototype.uS=function(){var b=new a.Wa,d=this.Na.wc(-1),c=new a.Ja(this.a.Gr);this.a.xj(this.Na.ia(d),b);c.Of(b);for(d=this.Na.nb(d);-1!=d;d=this.Na.nb(d))this.a.xj(this.Na.ia(d),b),c.lineTo(b);return c};
b.qQ=function(d){var c=new b(d),h=d.D(),g=1,e=new a.b,f=new a.b,k=new a.b;for(d.w(0,e);;){d.w(g,f);if(!(f.zA(e)&&g<h-1))break;g++}c.Na.addElement(0,-1);c.Na.yo(g);for(h=g+1;h<d.D();h++)d.w(h,k),g=c.RC(k),-1!=g&&c.Na.pk(g,h);k=new a.Wa;g=c.Na.wc(-1);h=new a.Ja(d.description);d.xe(c.Na.ia(g),k);h.Of(k);for(g=c.Na.nb(g);-1!=g;g=c.Na.nb(g))d.xe(c.Na.ia(g),k),h.lineTo(k);return h};b.pa=function(a,d,c){for(var h=new b(a),m=1,q=a[0];a[m].zA(q)&&m<d-1;)m++;h.Na.addElement(0,-1);h.Na.yo(m);for(m+=1;m<d;m++)q=
h.RC(a[m]),-1!=q&&h.Na.pk(q,m);a=0;for(d=h.Na.wc(-1);-1!=d;d=h.Na.nb(d))c[a++]=h.Na.ia(d);return a};b.JH=function(d,c){var h=d.wa(c),m=d.Fc(c);c=!d.Qb(c)&&d.Ko(c);d=d.Qa(0);h*=2;m*=2;c&&(m-=2);if(6>m-h)return!0;c=new a.b;var g=new a.b,e=new a.b;d.fc(h,c);d.fc(h+2,g);d.fc(h+4,e);var f=b.de(g,e,c);if(f.nt()||!b.dc(f.value()))return!1;for(var k=a.b.pa(g.x,g.y),w=new a.b,h=h+6;h<m;h+=2){w.L(g);g.L(e);d.fc(h,e);f=b.de(g,e,c);if(f.nt()||!b.dc(f.value()))return!1;f=b.de(k,e,c);if(f.nt()||!b.dc(f.value()))return!1;
f=b.de(g,e,w);if(f.nt()||!b.dc(f.value()))return!1}return!0};b.prototype.FO=function(b){for(var d=new a.Wa,c=new a.b,h=0;h<b.D();h++){b.w(h,c);var g=this.ys(c);if(-1!=g){b.xe(h,d);var e=this.a.pc(this.Pt,d);this.Na.pk(g,e)}}};b.prototype.CO=function(b){for(var d=new a.Wa,c=new a.b,h=0;4>h;h++){b.Gx(h,c);var g=this.ys(c);if(-1!=g){b.gg(h,d);var e=this.a.pc(this.Pt,d);this.Na.pk(g,e)}}};b.prototype.MO=function(b){var d=new a.Wa,c=b.ec(),c=this.ys(c);if(-1!=c){b.Kp(d);var h=this.a.pc(this.Pt,d);this.Na.pk(c,
h)}c=b.Ac();c=this.ys(c);-1!=c&&(b.Ip(d),b=this.a.pc(this.Pt,d),this.Na.pk(c,b))};b.prototype.JO=function(a){var b=a.w(),b=this.ys(b);-1!=b&&(a=this.a.pc(this.Pt,a),this.Na.pk(b,a))};b.prototype.ys=function(a){var b=-1;if(0==this.Na.size(-1))return b=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var d=this.a.Ba(this.Na.ia(this.Na.wc(-1)));a.zA(d)||(b=this.Na.yo(-5));return b}return b=this.RC(a)};b.prototype.RC=function(d){var c=-1,h=this.Na.wc(-1),g=this.Na.Ec(-1),e=this.Na.ia(h),f=this.Na.ia(g),
k=new a.b,w=new a.b;this.xi.w(e,k);this.xi.w(f,w);e=a.b.Gp(w,d,k);if(b.dc(e))c=this.Na.yo(-1),k=this.PC(d,g,h),k!=h&&this.QC(d,h,this.Na.Se(k));else if(b.Hj(e)){for(var w=this.Na.fw(-1),l=this.Na.wc(-1),n=this.Na.Ec(-1),p,e=new a.b,f=new a.b;l!=this.Na.Se(n);)p=this.Na.ia(w),this.xi.w(p,e),p=a.b.Gp(e,d,k),b.Hj(p)?(n=w,w=this.Na.Ul(w)):(l=w,w=this.Na.Nq(w));w=n;k=l;p=this.Na.ia(w);l=this.Na.ia(k);this.xi.w(p,e);this.xi.w(l,f);if(k==h||(e=a.b.Gp(f,d,e),b.dc(e)))c=this.Na.ov(k,w,-2,!1),this.QC(d,w,g),
this.PC(d,k,h)}else null==this.xb&&(this.xb=new a.Hb),this.xb.Lc(w),this.xb.Xc(k),k=this.xb.ne(d,!0),0>k?(k=this.Na.Se(g),this.Na.Jd(g,-1),c=this.Na.yo(-3),this.PC(d,k,h)):1<k&&(k=this.Na.nb(h),this.Na.Jd(h,-1),c=this.Na.ov(-1,k,-3,!1),this.QC(d,k,g));return c};b.prototype.QC=function(d,c,q){if(c!=q){var h=this.Na.ia(c),m=this.Na.nb(c),g=new a.b,e=new a.b;for(this.xi.w(h,g);c!=q&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(m),e);h=a.b.Gp(e,d,g);if(b.dc(h))break;h=c;c=m;g.L(e);m=this.Na.nb(c);this.xi.Jd(h)}}};
b.prototype.PC=function(d,c,q){if(c==q)return q;var h=this.Na.ia(c),m=this.Na.Se(c),g=new a.b,e=new a.b;for(this.xi.w(h,g);c!=q&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(m),e);h=a.b.Gp(g,d,e);if(b.dc(h))break;h=c;c=m;g.L(e);m=this.Na.Se(c);this.xi.Jd(h)}return c};b.de=function(b,d,c){var h=new a.Xb;h.set(d.x);h.sub(b.x);var m=new a.Xb;m.set(c.y);m.sub(b.y);var q=new a.Xb;q.set(d.y);q.sub(b.y);d=new a.Xb;d.set(c.x);d.sub(b.x);h.Tg(m);q.Tg(d);h.sub(q);return h};b.dc=function(a){return 0>a};b.Hj=function(a){return 0<
a};b.os=function(a){return 0==a};return b}();a.Lu=b})(y||(y={}));(function(a){var g=function(){function g(a){this.ie=this.a=null;this.sI=!0;this.ie=a}g.mJ=function(c,b,d){c=a.na.As(c);return a.Ku.pw(b.Te(),b.Cf(),d.Te(),d.Cf(),a.Ub.Yx(c))};g.bQ=function(c,b){var d=new a.Wa;a.Ku.zV(c,b,d);return d};g.V=function(a,b,d,h){d=new g(d);d.a=a;d.ta=b;d.sI=h;return d.gO()};g.prototype.$N=function(c){return a.Ku.zR(this.a,c)};g.prototype.dO=function(c){return a.Mu.V(this.a,c,this.ie)};g.prototype.gO=function(){for(var c=
this.ta,b=a.na.As(c),c=a.na.PO(c),d=1.00001*c,c=1.000001*c,h=!1,m=30<this.a.ud+10?1E3:(this.a.ud+10)*(this.a.ud+10),q=0,g=this.a.FT();;q++){if(q>m)throw a.g.X("Internal Error: max number of iterations exceeded");var e=this.$N(b),h=h||e;this.sI&&(e=0!=this.a.zq(b,!0,!1),h=h||e);e=!1;if(0==q||g||a.Mu.hJ(!0,this.a,c,null,this.ie))e=this.dO(d),h=h||e;if(!e)break}return h};return g}();a.vk=g})(y||(y={}));(function(a){var g=function(){function c(a){this.te=this.Sc=null;this.kx=0;this.mc=a;this.OA=!0}c.prototype.gw=
function(a,d){var b=this.a.jc(a);if(null==b){if(!this.a.nd(a,d))return null;b=d}return b};c.prototype.Or=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};c.prototype.KQ=function(){var b=this.a.Pr(!1),d=!1,c=new a.Hb,m=new a.Hb,q=new a.h;q.Oa();var g=new a.h;g.Oa();for(var e=new a.Wa,f=new a.jE,k=b.next();-1!=k;k=b.next()){var w=null,l=!1;if(!a.T.Po(this.a.ic(b.Ek))){w=this.gw(k,c);if(null==w)continue;w.s(q);q.P(this.ta,this.ta);if(w.eh(this.ta))if(w.eh(0))l=!0,w=null;else continue}var n=
this.a.Pr(b),p=n.next();for(-1!=p&&(p=n.next());-1!=p;p=n.next()){var r=null,t=!1;if(!a.T.Po(this.a.ic(n.Ek))){r=this.gw(p,m);if(null==r)continue;r.s(g);if(r.eh(this.ta))if(r.eh(0))t=!0,r=null;else continue}var u=0,v=0;if(null!=w&&null!=r)q.HH(g)&&(f.Hp(w),f.Hp(r),f.Ma(this.ta,!1),u=f.Wl(0),v=f.Wl(1),0<u+v&&(this.a.as(k,f,0,!0),this.a.as(p,f,1,!0)),f.clear());else if(null!=w){var x=new a.b;this.a.w(p,x);if(q.contains(x)){f.Hp(w);this.a.xj(p,e);f.vA(this.ta,e,!1);u=f.Wl(0);if(0<u)if(this.a.as(k,f,
0,!0),t){t=-1;for(x=this.a.U(p);-1!=x&&x!=p&&(r=this.gw(x,m),t=x,null!=r&&r.eh(0));x=this.a.U(x));for(x=p;-1!=x&&(this.a.Zh(x,f.ag),x!=t);x=this.a.U(x));}else this.a.Zh(p,f.ag);f.clear()}}else if(null!=r){if(x=new a.b,this.a.w(k,x),g.P(this.ta,this.ta),g.contains(x)){f.Hp(r);this.a.xj(k,e);f.vA(this.ta,e,!1);v=f.Wl(0);if(0<v)if(this.a.as(p,f,0,!0),l){t=-1;for(x=this.a.U(k);-1!=x&&x!=k&&(r=this.gw(x,m),t=x,null!=r&&r.eh(0));x=this.a.U(x));for(x=k;-1!=x&&(this.a.Zh(x,f.ag),x!=t);x=this.a.U(x));}else this.a.Zh(k,
f.ag);f.clear()}}else continue;if(0!=u+v){if(0!=u){w=this.a.jc(k);if(null==w){if(!this.a.nd(k,c))continue;w=c;c.s(q)}else w.s(q);if(w.eh(this.ta))break}d=!0}}}return d};c.prototype.LQ=function(){return this.gW()};c.prototype.gW=function(){return(new a.bE).mY(this.a,this.ta)};c.prototype.iJ=function(){var b=!1,d,c;null==this.Sc&&(this.Sc=new a.xk);var m=new a.ha(0);m.zb(this.a.ud+1);for(var q=this.a.Pr(),g=q.next();-1!=g;g=q.next())m.add(g);this.a.Xx(m,m.size);m.add(-1);q=this.a.Sd();g=this.a.Sd();
this.te=new a.lE(this.a,this.ta,!this.OA);this.Sc.Lp(this.te);var e=new a.ha(0),f=new a.ha(0),k=0;new a.b;var w=this.a.Cd;this.a.yb.vc();for(var l=this.a.yb.ya[0].f,n,p,r=m.get(k++);-1!=r;){p=w.S(r,0);n=l[2*p];p=l[2*p+1];var t=n,u=p;do{var v=w.S(r,2),x=w.S(r,1);-1!=v&&(d=w.S(v,0),c=l[2*d],d=l[2*d+1],0>(u<d?-1:u>d?1:t<c?-1:t>c?1:0)&&(f.add(r),f.add(v)));-1!=x&&(d=w.S(x,0),c=l[2*d],d=l[2*d+1],0>(u<d?-1:u>d?1:t<c?-1:t>c?1:0)&&(f.add(x),f.add(x)));c=this.a.Sa(r,q);-1!=c&&(e.add(c),this.a.Va(r,q,-1));
c=this.a.Sa(r,g);-1!=c&&(e.add(c),this.a.Va(r,g,-1));r=m.get(k++);-1!==r&&(u=w.S(r,0),t=l[2*u],u=l[2*u+1])}while(-1!=r&&t===n&&u===p);t=1==e.size&&2==f.size;c=u=-1;v=0;for(x=e.size;v<x;v++){d=e.get(v);var z=this.Sc.Se(d);-1==z||e.qA(z)||(u=z);d=this.Sc.nb(d);-1==d||e.qA(d)||(c=d);if(-1!=u&&-1!=c)break}this.te.EK(p,n);v=0;for(x=e.size;v<x;v++)d=e.get(v),this.Sc.Jd(d,-1);e.clear(!1);if(!t&&-1!=u&&-1!=c&&this.QP(u,c)){b=!0;this.nj=this.te.ln();break}v=0;for(x=f.size;v<x;v+=2){p=f.get(v);n=f.get(v+1);
t?(p=this.Sc.ov(u,c,p,!0),t=!1):p=this.Sc.addElement(p,-1);if(this.te.Lg){this.nj=this.te.ln();b=!0;break}-1==this.a.Sa(n,q)?this.a.Va(n,q,p):this.a.Va(n,g,p)}if(b)break;f.uf(0)}this.a.je(q);this.a.je(g);return b};c.prototype.QP=function(a,d){this.te.compare(this.Sc,this.Sc.ia(a),d);a=this.te.Lg;this.te.Es();return a};c.Dj=function(b){for(var d=b.qd;-1!=d;d=b.Re(d))if(a.T.Hc(b.ic(d)))return!0;return!1};c.wl=function(a,d,h,m){if(!c.Dj(a))return!1;d=new c(m);d.a=a;d.ta=h;if(15>a.ud)a=d.KQ();else return d.LQ();
return a};c.V=function(a,d,h){return c.wl(a,a.LG(),d,h)};c.hJ=function(b,d,h,m,q){if(!c.Dj(d))return!1;var g=new c(q);g.a=d;g.ta=h;g.OA=b;if(g.iJ())return null!=m&&m.ls(g.nj),!0;var e=new a.Gd;e.AC();d.Vc(e);g=new c(q);g.a=d;g.ta=h;g.OA=b;b=g.iJ();e.AC();d.Vc(e);return b?(null!=m&&m.ls(g.nj),!0):!1};c.vm=function(a,d){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*d<1*a*d};c.IQ=function(b,d,h,m){if(a.T.Hc(d.G()))return(new c(m)).JQ(b,d,h);throw a.g.X("crack_A_with_B");};c.prototype.JQ=
function(b,d,h){var m=new a.h;b.ac(m);var q=new a.h;d.ac(q);q.P(h,h);if(!q.Yb(m))return b;var g=b.ob,f=null;null!=g&&(f=g.Mb);c.vm(b,b.D())&&(f=a.na.Pj(b,q));var k=null!=f?f.jf():null,w=d.Fa();d=b.Fa();for(var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=[];w.Ya();)for(;w.Ea();){var n=w.ba();if(null!=f)for(k.bo(n,h),g=k.next();-1!=g;g=k.next()){if(this.Or(),d.Tb(f.ia(g),-1),d.Ea())for(var g=d.ba(),p=g.Ma(n,null,l,null,h),g=0;g<p;++g){var r=l[g];if(0!=r&&1!=r){var t=d.Db(),u=new e;u.t=r;u.index=t;q.push(u)}}}else{var v=
new a.h;n.ac(v);v.P(h,h);if(m.Yb(v))for(d.zj();d.Ya();)for(;d.Ea();)if(this.Or(),g=d.ba(),r=new a.h,g.ac(r),r.Yb(v))for(p=g.Ma(n,null,l,null,h),g=0;g<p;++g)r=l[g],0!=r&&1!=r&&(t=d.Db(),u=new e,u.t=r,u.index=t,q.push(u))}}if(0==q.length)return b;q=q.sort(e.Fs);b=b.Ka();for(d.zj();d.Ya()&&!d.Ea(););h=d.ba();m=new a.Bg;f=-1;g=0;for(k=q.length;g<k;){l=q[g].index;for(w=g+1;w<k&&q[w].index==l;)++w;for(;d.Db()<l;){this.Or();n=d.Ea();r=d.Ta;(v=n||!d.Lo()||d.Mo())&&b.cc(h,f!=r);f=r;if(!n)for(;d.Ya()&&!d.Ea(););
h=d.ba()}for(l=0;g<w;g++)r=q[g].t,r!=l&&(h.yh(l,r,m),l=r,r=d.Ta,b.cc(m.get(),f!=r),f=r);if(v=(n=d.Ea())||!d.Lo()||d.Mo())h.yh(l,1,m),b.cc(m.get(),!1);if(n)h=d.ba();else{for(;d.Ya()&&!d.Ea(););d.Ea()?h=d.ba():h=null}g=w}null!=h&&(r=d.Ta,(v=(n=d.Ea())||!d.Lo()||d.Mo())&&b.cc(h,f!=r),f=r);for(n=d.Ea();;){if(!n){for(;d.Ya()&&!(n=d.Ea()););if(!n)break}h=d.ba();r=d.Ta;(v=(n=d.Ea())||!d.Lo()||d.Mo())&&b.cc(h,f!=r);f=r}return b};return c}();a.Mu=g;var e=function(){function a(){}a.Fs=function(a,d){return a.index==
d.index?a.t>d.t?1:a.t<d.t?-1:0:a.index>d.index?1:-1};return a}()})(y||(y={}));(function(a){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(a.JL||(a.JL={}));var g=function(){return function(a,b,c,q,g,e,f,k,w,l,n){this.Y=a;this.nx=b;this.Kt=c;this.Ng=q;this.En=l;this.jm=n}}();a.hZ=g;var e=function(){function b(a,b){this.KI=a;this.hj=b}b.prototype.cO=function(b,d){var c=new a.b;this.hj.w(b,c);var h=new a.b;this.hj.w(d,
h);c=c.compare(h);if(0!=c)return c;c=this.hj.Sa(b,this.KI);h=this.hj.Sa(d,this.KI);return c<h?-1:c==h?0:1};return b}(),c=function(){return function(a,b,c,q,g,e,f,k,w){this.Ng=a;this.Kt=b;this.wB=c;this.WI=q;this.ej=g;this.jm=e;this.En=f;this.XI=k;this.pV=w}}();a.gZ=c;var b=function(){function b(){}b.IL=function(d,c,q,e,f,k){if(c.u())d=new g(c,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),f.push(d);else{var h=new a.ed;h.Jb(c);h.Jb(q);a.vk.V(h,e,k,!0);c=0;q=h.Sd();for(e=h.qd;-1!=e;e=h.Re(e))for(k=h.Pb(e);-1!=
k;k=h.Sb(k))for(var m=h.cb(k),C=0,F=h.La(k);C<F;m=h.U(m),C++)h.Va(m,q,c++);c=b.MU(q,h);b.ZO(d,c,h,f)}};b.MU=function(d,c){for(var h=c.ud,m=new a.ha(0),g=c.qd;-1!=g;g=c.Re(g))for(var f=c.Pb(g);-1!=f;f=c.Sb(f))for(var k=c.cb(f),w=0,l=c.La(f);w<l;k=c.U(k),w++)m.add(k);var n=new e(d,c);m.Fd(0,h,function(a,b){return n.cO(a,b)});d=[];var p=[],r=c.Sd(),t=c.Sd(),g=c.qd,f=c.Re(g),l=new a.b,u=new a.b,v=m.get(0),x=c.kd(v),z=c.mg(x);c.w(v,l);for(var y=1,k=0;y<h-1;){for(var A=!1,w=y;w<h;w++)if(w!=k){var B=m.get(w),
D=c.kd(B),J=c.mg(D);c.w(B,u);if(l.vb(u))z==g&&J==f&&(A=b.HP(r,t,c,d,p,x,v,D,B));else break}if(A||k==y-1){A&&k==y-1&&y--;if(++k==h)break;v=m.get(k);x=c.kd(v);z=c.mg(x);c.w(v,l)}A||(y=k+1)}h=[];for(g=c.qd;-1!=g;g=c.Re(g))for(f=c.Pb(g);-1!=f;f=c.Sb(f))for(m=c.cb(f),w=0,l=c.La(f);w<l;m=c.U(m),w++){k=c.Sa(m,t);if(0<=k)for(;k<p.length&&p[k].Ng==m;)h.push(p[k++]);k=c.Sa(m,r);if(0<=k)for(;k<d.length&&d[k].Ng==m;)h.push(d[k++])}c.je(r);c.je(t);return h};b.HP=function(a,d,c,g,e,f,k,w,l){var h=c.Vj(f),m=c.Vj(w),
q=c.cb(f),C=c.cb(w),F=c.Ra(k),H=c.Ra(l),n=!1,X=!1,p=!1,da=!1;k!=q&&(l!=C&&(n=b.XQ(a,c,g,f,F,w,H)),l!=m&&(X=b.qR(a,c,g,f,F,w,l)));k!=h&&(l!=C&&(p=b.ER(d,c,e,f,k,w,H,q)),l!=m&&(da=b.cS(d,c,e,f,k,w,l,q)));n&&X&&p?(a=g.length-1,2==e[da?e.length-2:e.length-1].ej&&(g[a-1]=g[a],--g.length)):n&&X&&da&&2==e[e.length-1].ej&&(e=g[g.length-1],--g.length,c.Sa(e.Ng,a)==g.length&&c.Va(e.Ng,a,-1));return n||X||p||da};b.XQ=function(b,d,q,g,e,f,k){var h,m;m=new a.Hb;var C=new a.Hb,F=[0,0],H=[0,0];h=d.jc(e);null==h&&
(d.nd(e,m),h=m);m=d.jc(k);null==m&&(d.nd(k,C),m=C);h=h.Ma(m,null,F,H,0);2>h&&(g=new c(e,g,F[0],NaN,h,k,f,H[0],NaN),q.push(g),g=d.Sa(e,b),0>g&&d.Va(e,b,q.length-1));return!0};b.qR=function(b,d,g,e,f,k,w){var h,m;m=new a.Hb;var q=new a.Hb,C=[0,0],F=[0,0];h=d.jc(f);null==h&&(d.nd(f,m),h=m);m=d.jc(w);null==m&&(d.nd(w,q),m=q);h=h.Ma(m,null,C,F,0);return 2>h?(e=new c(f,e,C[0],NaN,h,w,k,F[0],NaN),g.push(e),e=d.Sa(f,b),0>e&&d.Va(f,b,g.length-1),!0):!1};b.ER=function(b,d,g,e,f,k,w,l){var h,m;m=new a.Hb;var q=
new a.Hb,C=[0,0],F=[0,0];h=d.jc(f);null==h&&(d.nd(f,m),h=m);m=d.jc(w);null==m&&(d.nd(w,q),m=q);h=h.Ma(m,null,C,F,0);if(2==h)return e=new c(f,e,C[0],C[1],h,w,k,F[0],F[1]),g.push(e),e=d.Sa(f,b),0>e&&d.Va(f,b,g.length-1),!0;q=!1;f==l&&(e=new c(f,e,C[0],NaN,h,w,k,F[0],NaN),g.push(e),e=d.Sa(f,b),0>e&&d.Va(f,b,g.length-1),q=!0);return q};b.cS=function(b,d,g,e,f,k,w,l){var h,m;m=new a.Hb;var q=new a.Hb,C=[0,0],F=[0,0];h=d.jc(f);null==h&&(d.nd(f,m),h=m);m=d.jc(w);null==m&&(d.nd(w,q),m=q);h=h.Ma(m,null,C,
F,0);if(2==h)return e=new c(f,e,C[0],C[1],h,w,k,F[0],F[1]),g.push(e),e=d.Sa(f,b),0>e&&d.Va(f,b,g.length-1),!0;q=!1;f==l&&(e=new c(f,e,C[0],NaN,h,w,k,F[0],NaN),g.push(e),e=d.Sa(f,b),0>e&&d.Va(f,b,g.length-1),q=!0);return q};b.ZO=function(d,c,q,e){var h,m=[];m[0]=new a.b;m[1]=new a.b;m[2]=new a.b;m[3]=new a.b;var f=new a.b,C=new a.b,k=new a.b,w=new a.b,l=null;null!=e&&(l=new a.Bg,l.Hs());var n,p=0,r=null,t=new a.Hb;new a.Hb;for(var u=q.Pb(q.qd);-1!=u;u=q.Sb(u)){var v,x=4,z=-1,y,A,B,D=-1,J,E,G,L,I=-1,
M=-1,O=NaN;v=!0;var R=!1,K=!0,N=!0,P=!0,T=0;B=u;J=0;for(var V=q.cb(u),ba=q.La(u),ea=0;ea<ba;V=q.U(V),ea++){n=q.jc(V);if(null==n){if(!q.nd(V,t))continue;n=t}-1==D&&(D=V);for(var Q=0;p<c.length&&V==c[p].Ng;){z=c[p].Kt;y=c[p].Ng;A=c[p].wB;E=c[p].En;G=c[p].jm;L=c[p].XI;if(2==c[p].ej){if(R||(B=z,D=y,J=A,I=E,M=G,O=L,x=2,null!=e?r=new a.Ua:T=0,P=!1,N=!0),A=c[p].WI,L=c[p].pV,null!=e?(n.yh(Q,c[p].WI,l),r.cc(l.get(),N)):T++,Q=A,R=!0,N=v=!1,p+1==c.length||2!=c[p+1].ej||c[p+1].Ng==y&&c[p+1].wB!=Q)null!=e?(h=
new g(r,2,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T),B=z,D=y,J=A,I=E,M=G,O=L,x=2,R=v=!1,N=P=!0}else{var W=q.U(y);if(p<c.length-1&&c[p+1].Ng==W&&c[p+1].jm==G&&2==c[p+1].ej)A!=Q&&(P&&(null!=e?r=new a.Ua:T=0),v=0<p&&c[p-1].Kt==z?1==x?0:0==x?1:3:3,null!=e?(n.yh(Q,A,l),r.cc(l.get(),N),h=new g(r,v,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):(T++,null.add(T)),Q=A,B=z,D=y,J=A,I=E,M=G,O=L,x=v,v=K=!1,N=P=!0);else if(!b.JU(d,q,c,p,f,C)){b.GT(q,c,p,u,V,k,w);var S=!1,W=!1;h=!0;if(!(f.vb(k)||C.vb(k)||f.vb(w)||
C.vb(w))){m[0].L(f);m[1].L(C);m[2].L(k);m[3].L(w);m.sort(a.b.ts);var Y=m[0],Z=m[1],aa=m[2],ca=m[3];Y.vb(f)?Z.vb(C)?d?(W=S=!0,h=!1):S=!1:ca.vb(C)?d?h=W=S=!0:S=!1:(S=!0,h=Z.vb(k)):Z.vb(f)?aa.vb(C)?d?(W=S=!0,h=!1):S=!1:Y.vb(C)?d?h=W=S=!0:S=!1:(S=!0,h=aa.vb(k)):aa.vb(f)?ca.vb(C)?d?(W=S=!0,h=!1):S=!1:Z.vb(C)?d?h=W=S=!0:S=!1:(S=!0,h=ca.vb(k)):Y.vb(C)?d?(W=S=!0,h=!1):S=!1:aa.vb(C)?d?h=W=S=!0:S=!1:(S=!0,h=Y.vb(k))}if(S){S=V==y;if(A!=Q||S&&0==Q)P&&(null!=e?r=new a.Ua:T=0),null!=e?(n.yh(Q,A,l),r.cc(l.get(),
N)):T++;if(h)if(1!=x){if(A!=Q||S&&0==Q)null!=e?(h=new g(r,1,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T);if(!W)x=1;else if(p==c.length-2||c[p+2].Kt!=z)x=0}else{if(A!=Q||S&&0==Q)null!=e?(h=new g(r,3,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T);x=1}else if(0!=x){if(A!=Q||S&&0==Q)null!=e?(h=new g(r,0,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T);if(!W)x=0;else if(p==c.length-2||c[p+2].Kt!=z)x=1}else{if(A!=Q||S&&0==Q)null!=e?(h=new g(r,3,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T);
x=0}if(A!=Q||S&&0==Q)Q=A,B=z,D=y,J=A,I=E,M=G,O=L,v=K=!1,N=P=!0}}}p++}1!=Q&&(P&&(null!=e?r=new a.Ua:T=0),null!=e?(n.yh(Q,1,l),r.cc(l.get(),N)):T++,N=P=!1,K=!0)}K&&(A=1,y=q.Vj(u),y=q.Ra(y),G=E=-1,L=NaN,v?null!=e?(h=new g(r,4,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T):(v=1==x?0:0==x?1:3,null!=e?(h=new g(r,v,z,y,A,x,B,D,J,E,G,L,I,M,O),e.push(h)):null.add(T)))}};b.JU=function(d,c,g,e,f,k){var h=g[e].XI;if(1==h)return b.KT(d,c,g,e,f,k);if(0==h)return b.GU(d,c,g,e,f,k);throw a.g.za();};b.KT=function(b,
d,c,g,e,f){var h=new a.Hb,m=c[g].Ng,q=c[g].En,C=c[g].jm,k=-1,F=-1,H=-1,w=-1;if(!b&&0<g)var l=c[g-1],k=l.Ng,F=l.En,H=l.jm,w=l.ej;var n=-1,p=-1,r=-1,t=-1;g<c.length-1&&(l=c[g+1],n=l.Ng,p=l.En,r=l.jm,t=l.ej);var u=d.U(m),l=d.U(C);if(!b)return 0<g&&k==m&&F==q&&H==l&&2==w||g<c.length-1&&n==u&&p==q&&r==l&&2==t?(b=d.jc(C),null==b&&(d.nd(C,h),b=h),f.L(b.Dg(1)),e.du(f),f.normalize(),e.normalize(),!1):g<c.length-1&&n==m&&p==q&&r==l?(b=d.jc(C),null==b&&(d.nd(C,h),b=h),e.L(b.Dg(1)),b=d.jc(l),null==b&&(d.nd(l,
h),b=h),f.L(b.Dg(0)),e.Kr(),f.normalize(),e.normalize(),!1):!0;if(g==c.length-1||n!=m||p!=q||r!=l||2==t)return b=d.jc(C),null==b&&(d.nd(C,h),b=h),f.L(b.Dg(1)),e.du(f),f.normalize(),e.normalize(),!1;b=d.jc(C);null==b&&(d.nd(C,h),b=h);e.L(b.Dg(1));b=d.jc(l);null==b&&(d.nd(l,h),b=h);f.L(b.Dg(0));e.Kr();f.normalize();e.normalize();return!1};b.GU=function(b,d,c,g,e,f){var h=new a.Hb,m=c[g].Ng,q=c[g].En,C=c[g].jm,k=-1,F=-1,H=-1,w=-1;if(!b&&g<c.length-1)var l=c[g+1],k=l.Ng,F=l.En,H=l.jm,w=l.ej;var n=-1,
p=-1,r=-1,l=-1;0<g&&(l=c[g-1],n=l.Ng,p=l.En,r=l.jm,l=l.ej);var t=d.U(m),u=d.Ra(C);return b?0==g||n!=m||p!=q||r!=u||2==l?(b=d.jc(C),null==b&&(d.nd(C,h),b=h),f.L(b.Dg(0)),e.du(f),f.normalize(),e.normalize(),!1):!0:0<g&&n==m&&p==q&&r==u&&2==l||g<c.length-1&&k==t&&F==q&&H==u&&2==w?(b=d.jc(C),null==b&&(d.nd(C,h),b=h),f.L(b.Dg(0)),e.du(f),f.normalize(),e.normalize(),!1):!0};b.GT=function(b,d,c,g,e,f,k){var h=new a.Hb,m=b.jc(e);null==m&&(b.nd(e,h),m=h);c=d[c];d=c.Ng;c=c.wB;e=b.U(d);if(1==c)f.L(m.Dg(1)),
-1!=e&&e!=b.Vj(g)?(m=b.jc(e),null==m&&(b.nd(e,h),m=h),k.L(m.Dg(0)),m=b.jc(d),null==m&&b.nd(d,h)):k.L(f),f.Kr(),k.normalize(),f.normalize();else if(0==c)k.L(m.Dg(c)),f.du(k),k.normalize(),f.normalize();else throw a.g.za();};return b}();a.KL=b})(y||(y={}));(function(a){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(a.GN||(a.GN={}));var g=function(){function b(a,b,d){this.sd=b;this.Bi=d;this.eB=a}b.prototype.Eb=function(a){return a instanceof b?this.Bi===a.Bi:!1};b.cH=
function(a){return 0!==a.sd?null:-1===a.eB?new b(-1,2,a.Bi*a.Bi):b.vh(h[a.eB])};b.vh=function(a){a=d[a];return void 0===a?null:a};b.yQ=function(a,d,c){var h=null;if(void 0!==c&&null!==c)try{"EPSG"===c.values[0]&&(h=b.vh(parseInt(c.values[1])))}catch(da){}null===h&&(h=new b(-1,a,d));return h};b.prototype.Bc=function(){return this.eB};b.prototype.GG=function(b){if(b.sd!=this.sd)throw a.g.Da();return this.Bi/b.Bi};b.mi=function(a,b,d){return b.GG(d)*a};b.cG=function(a,b,d,c,h){d=d.GG(c);for(c=0;c<b;c++)h[c]=
a[c]*d};return b}();a.$c=g;for(var e=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,
.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,
109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],c=[1031,4.84813681109536E-9,
9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],b=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,
109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,
109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,
109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],d=[],h=[],m=0;m<e.length;m+=2)d[e[m]]=new g(e[m],2,e[m+1]);e=null;for(m=0;m<c.length;m+=2)d[c[m]]=new g(c[m],1,c[m+1]);c=null;for(m=0;m<b.length;m+=3)d[b[m]]=new g(b[m],
0,b[m+1]),h[b[m]]=b[m+2];b=null})(y||(y={}));(function(a){var g=function(){function a(){this.Gb=this.qb=0}a.prototype.set=function(a,b){void 0!==b?(this.qb=a,this.Gb=b):"number"===typeof a?(this.qb=a,this.Gb=0):(this.qb=a.qb,this.Gb=a.Gb)};a.prototype.value=function(){return this.qb};a.prototype.add=function(a){var b=this.qb+a.qb;a=this.Gb+a.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};a.prototype.GO=function(){var a=this.qb+1,b=this.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=
b};a.prototype.zO=function(a,b){this.qb=a.qb+b.qb;this.Gb=a.Gb+b.Gb+2.220446049250313E-16*Math.abs(this.qb)};a.prototype.sub=function(a){if("number"===typeof a){var b=this.qb-a;a=this.Gb+2.220446049250313E-16*Math.abs(b)}else b=this.qb-a.qb,a=this.Gb+a.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};a.prototype.Tg=function(a){var b=this.qb*a.qb;this.Gb=this.Gb*Math.abs(a.qb)+a.Gb*Math.abs(this.qb)+this.Gb*a.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b};a.prototype.Fp=function(a){var b=
this.qb*a;this.Gb=this.Gb*Math.abs(a)+2.220446049250313E-16*Math.abs(b);this.qb=b};a.prototype.um=function(a,b){var d=Math.abs(a.qb)*Math.abs(b.qb);this.Gb=a.Gb*Math.abs(b.qb)+b.Gb*Math.abs(a.qb)+a.Gb*b.Gb+2.220446049250313E-16*Math.abs(d);this.qb=d};a.prototype.bn=function(a){var b=Math.abs(a.qb),d=this.qb/a.qb,c=(this.Gb+Math.abs(d)*a.Gb)/b;a.Gb>.01*b&&(a=a.Gb/b,c*=1+(1+a)*a);this.qb=d;this.Gb=c+2.220446049250313E-16*Math.abs(d)};a.prototype.sqrt=function(){var a,b;0<=this.qb?(a=Math.sqrt(this.qb),
b=this.qb>10*this.Gb?.5*this.Gb/a:this.qb>this.Gb?a-Math.sqrt(this.qb-this.Gb):Math.max(a,Math.sqrt(this.qb+this.Gb)-a),b+=2.220446049250313E-16*Math.abs(a)):this.qb<-1*this.Gb?b=a=NaN:(a=0,b=Math.sqrt(this.Gb));this.qb=a;this.Gb=b};a.prototype.sin=function(a){var b=Math.sin(a.qb),d=Math.cos(a.qb);this.qb=b;b=Math.abs(b);this.Gb=(Math.abs(d)+.5*b*a.Gb)*a.Gb+2.220446049250313E-16*b};a.prototype.cos=function(a){var b=Math.sin(a.qb),d=Math.cos(a.qb);this.qb=d;d=Math.abs(d);this.Gb=(Math.abs(b)+.5*d*
a.Gb)*a.Gb+2.220446049250313E-16*d};a.prototype.Kg=function(){return Math.abs(this.qb)<=this.Gb};a.prototype.nt=function(){return this.Kg()&&0!=this.Gb};return a}();a.Xb=g})(y||(y={}));var fa=new y.b,ja=new y.b,ma=new y.b,na=new y.b,qa=new y.b;(function(a){var g;(function(a){a[a.closedPath=1]="closedPath";a[a.exteriorPath=2]="exteriorPath";a[a.ringAreaValid=4]="ringAreaValid"})(g||(g={}));var e=function(){function c(a,d,c,m,g,e,f){void 0!==d?(this.bb=a,this.Ek=d,this.Ll=c,this.Ki=m,this.Ca=e,this.TA=
f,this.Uw=g):(this.bb=a.bb,this.Ek=a.Ek,this.Ll=a.Ll,this.Ki=a.Ki,this.Ca=a.Ca,this.TA=a.TA,this.Uw=a.Uw);this.aI=!0}c.prototype.next=function(){return this.aI?(this.aI=!1,this.Ki):-1!=this.Ki?(this.Ki=this.bb.U(this.Ki),this.Ca++,-1!=this.Ki&&this.Ki!=this.Uw?this.Ki:this.CV()):-1};c.prototype.CV=function(){this.Ll=this.bb.Sb(this.Ll);for(this.Ca=0;-1!=this.Ek;){for(;-1!=this.Ll;this.Ll=this.bb.Sb(this.Ll))if(this.Uw=this.Ki=this.bb.cb(this.Ll),-1!=this.Ki)return this.Ki;this.Ek=this.bb.Re(this.Ek);
if(-1==this.Ek)break;if(!this.TA||a.T.Hc(this.bb.ic(this.Ek)))this.Ll=this.bb.Pb(this.Ek)}return-1};c.UQ=function(a,d,h,m,g,e,f){return new c(a,d,h,m,g,e,f)};return c}();a.nZ=e;g=function(){function c(){this.cp=this.un=this.$k=this.ld=this.gl=this.pp=this.oj=this.rd=this.Ci=this.oh=this.tf=this.Gr=this.Jr=this.yb=this.sm=null;this.cx=this.qd=-1;this.ud=0;this.RA=!1;this.Gr=this.Jr=this.yb=null}c.prototype.ui=function(a){return null!=this.tf?this.tf[a]:null};c.prototype.sh=function(a,d){if(null==this.tf){if(null==
d)return;this.tf=[];for(var b=0,c=this.yb.D();b<c;b++)this.tf.push(null)}this.tf[a]=d};c.prototype.Sp=function(a,d){this.rd.R(a,1,d)};c.prototype.Rp=function(a,d){this.rd.R(a,2,d)};c.prototype.wC=function(a,d){this.rd.R(a,6,d)};c.prototype.Lq=function(a){return this.rd.S(a,6)};c.prototype.Rx=function(a,d){this.rd.R(a,7,d)};c.prototype.dw=function(a){return this.rd.S(a,0)};c.prototype.tK=function(a,d){this.ld.R(a,1,d)};c.prototype.xK=function(a,d){this.ld.R(a,0,d)};c.prototype.MG=function(a){return this.ld.S(a,
7)};c.prototype.Pp=function(a,d){this.ld.R(a,3,d)};c.prototype.Qp=function(a,d){this.ld.R(a,4,d)};c.prototype.JV=function(b){null==this.ld&&(this.ld=new a.Zc(8));var d=this.ld.Me();this.ld.R(d,2,b);this.ld.R(d,5,0);this.ld.R(d,6,0);this.ld.R(d,7,d);return d};c.prototype.bS=function(a){this.ld.jd(a)};c.prototype.LV=function(b){null==this.rd&&(this.rd=new a.Zc(8),this.Cd=new a.Zc(5),this.oj=new a.Pd(0),this.pp=new a.Pd(0));var d=this.rd.Me();this.rd.R(d,0,d);this.rd.R(d,3,0);this.rd.R(d,6,0);this.Rx(d,
b);d>=this.oj.size&&(b=16>d?16:a.J.truncate(3*d/2),this.oj.resize(b),this.pp.resize(b));this.oj.set(d,0);this.pp.set(d,0);return d};c.prototype.wG=function(a){this.rd.jd(a)};c.prototype.Fz=function(a){this.Cd.jd(a);this.ud--};c.prototype.lJ=function(b){null==this.rd&&(this.rd=new a.Zc(8),this.Cd=new a.Zc(5),this.oj=new a.Pd(0),this.pp=new a.Pd(0));var d=this.Cd.Me(),c=0<=b?b:d;this.Cd.R(d,0,c);if(0>b){if(c>=this.yb.D()){b=16>c?16:a.J.truncate(3*c/2);this.yb.resize(b);if(null!=this.tf)for(var m=0;m<
b;m++)this.tf.push(null);null!=this.oh&&this.oh.resize(b);this.Jr=this.yb.Qa(0)}this.yb.rb(c,-1E38,-1E38);null!=this.tf&&(this.tf[c]=null);null!=this.oh&&this.oh.write(c,1)}this.Cd.R(d,4,2*c);this.ud++;return d};c.prototype.$j=function(a,d,c){var b=-1!=d?this.Ra(d):this.Vj(a),h=-1!=b?this.U(b):-1,g=this.lJ(null==c?this.ud:-1),e=this.Za(g);null!=c&&this.yb.xu(e,c);this.Bj(g,a);this.Jc(g,h);this.Kc(g,b);-1!=h&&this.Kc(h,g);-1!=b&&this.Jc(b,g);c=this.Qb(a);b=this.cb(a);-1==d&&this.rh(a,g);d==b&&this.ig(a,
g);c&&-1==h&&(this.Jc(g,g),this.Kc(g,g));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return g};c.prototype.gn=function(){null==this.cp&&(this.cp=new a.Wa(this.yb.description));return this.cp};c.prototype.Op=function(a,d){this.ld.R(a,2,this.ld.S(a,2)&-134217729||(1==d?134217728:0))};c.prototype.Eo=function(a){return 0!=(this.ld.S(a,2)&134217728)?1:0};c.prototype.DO=function(a){var b=this.ah(a.G(),a.description);1736==a.G()&&this.Op(b,a.Eo());this.iF(b,a);return b};c.prototype.EO=function(a){var b=
this.ah(a.G(),a.description);this.jF(b,a);return b};c.prototype.sW=function(b,d){null==this.rd&&(this.rd=new a.Zc(8),this.Cd=new a.Zc(5),this.oj=new a.Pd(0),this.pp=new a.Pd(0));this.rd.Ne(this.rd.xd+b);this.Cd.Ne(this.Cd.xd+d);this.oj.zb(this.oj.size+b);this.pp.zb(this.pp.size+b)};c.prototype.iF=function(b,d){this.sW(d.aa(),d.D());this.sm.Hd(d,0,d.D());this.Jr=this.yb.Qa(0);for(var c=null!=this.tf&&null!=d.$e,m=0,g=d.aa();m<g;m++)if(!(2>d.La(m))){var e=this.Vf(b,-1);this.ho(e,d.Qb(m));for(var f=
d.wa(m),k=d.Fc(m);f<k;f++){var w=this.$j(e,-1,null);if(c)if(w=this.Za(w),0!=(d.aH(f)&1))this.sh(w,null);else{var l=new a.Bg;d.jc(f,l,!0);this.sh(w,l.get())}}}};c.prototype.jF=function(a,d){this.sm.Hd(d,0,d.D());this.Jr=this.yb.Qa(0);a=this.Vf(a,-1);var b=0;for(d=d.D();b<d;b++)this.$j(a,-1,null)};c.prototype.kY=function(b,d,c){var h=this.U(b);if(-1==h)throw a.g.za();for(var g=this.gn(),e=this.kd(b),f=0,k=d.Wl(c);f<k;f++){var w=this.Za(b),l=this.U(b),n=d.Mq(c,f);0==f&&(n.Kp(g),this.Zh(b,g));322==n.G()?
this.sh(w,null):this.sh(w,a.T.me(n));n.Ip(g);f<k-1?b=this.$j(e,l,g):this.Zh(h,g)}};c.prototype.jY=function(b,d,c){var h=this.U(b);if(-1==h)throw a.g.za();for(var g=this.gn(),e=this.kd(b),f=0,k=d.Wl(c);f<k;f++){var w=this.Za(b),l=this.U(b),n=d.Mq(c,k-f-1);0==f&&(n.Ip(g),this.Zh(b,g));322==n.G()?this.sh(w,null):this.sh(w,a.T.me(n));n.Kp(g);f<k-1?b=this.$j(e,l,g):this.Zh(h,g)}};c.prototype.LG=function(){var b=new a.h;b.Oa();for(var d=this.Pr(),c=new a.b,m=!0,g=d.next();-1!=g;g=d.next())this.w(g,c),m?
b.Nb(c.x,c.y):b.ol(c.x,c.y),m=!1;return b};c.prototype.Jb=function(b){var d=b.G();if(a.T.Hc(d))return this.DO(b);if(550==d)return this.EO(b);throw a.g.za();};c.prototype.TO=function(b,d){var c=d.G();if(a.T.Hc(c))this.iF(b,d);else if(550==c)this.jF(b,d);else throw a.g.za();};c.prototype.IO=function(b,d){var c=this.ah(1736,b.description);if(2>b.La(d))return c;this.sm.Hd(b,b.wa(d),b.Fc(d));this.Jr=this.yb.Qa(0);var m=this.Vf(c,-1);this.ho(m,b.Qb(d)||!0);var g=null!=this.tf&&null!=b.$e,e=b.wa(d);for(d=
b.Fc(d);e<d;e++){var f=this.$j(m,-1,null);if(g)if(f=this.Za(f),0!=(b.aH(e)&1))this.sh(f,null);else{var k=new a.Bg;b.jc(e,k,!0);this.sh(f,k.get())}}return c};c.prototype.Pe=function(b){var d=this.ic(b),c=a.fM.ah(d,this.sm.description),m=this.D(b);if(0==m)return c;if(a.T.Hc(d)){for(var d=this.aa(b),g=a.Tc.wh(d+1),e=a.Tc.vq(d+1,0),f=c.description,k=0,w=f.Ga;k<w;k++){for(var l=f.pd(k),n=a.ma.Xa(l),p=a.Tc.oz(l,m),r=this.yb.Qa(l),t=0,u=0,v=0,x=this.Pb(b);-1!=x;x=this.Sb(x)){var z=0;this.Qb(x)&&(z|=1);this.tU(x)&&
(z|=4);0!=z&&e.lC(u,z);var y=this.La(x);g.write(u++,v);v+=y;if(0==l)for(var y=r,A=p,B=new a.b,z=this.cb(x);t<v;z=this.U(z),t++){var D=this.Za(z);y.fc(2*D,B);A.mo(2*t,B)}else for(z=this.cb(x);t<v;z=this.U(z),t++)for(D=this.Za(z),A=0;A<n;A++)B=r.Lf(D*n+A),p.Im(t*n+A,B)}c.eo(l,p);g.write(d,m)}c.uK(e);c.vK(g);c.Cc(16777215)}else if(550==d){f=c.description;c.resize(m);k=0;for(w=f.Ga;k<w;k++){l=f.pd(k);n=a.ma.Xa(l);p=c.Qa(l);r=this.yb.Qa(l);t=0;x=this.Pb(b);y=this.La(x);for(z=this.cb(x);t<y;z=this.U(z),
t++)for(D=this.Za(z),A=0;A<n;A++)B=r.Lf(D*n+A),p.Im(t*n+A,B);c.eo(l,p)}c.Cc(16777215)}return c};c.prototype.dC=function(a){for(var b=this.Pb(a);-1!=b;b=this.Qr(b));var b=this.iT(a),c=this.Re(a);-1!=b?this.tK(b,c):this.qd=c;-1!=c?this.xK(c,b):this.cx=b;this.bS(a)};c.prototype.ah=function(b,d){return void 0===d?this.fG(b,a.we.Hg()):this.fG(b,d)};c.prototype.fG=function(b,d){b=this.JV(b);null==this.yb?this.yb=this.sm=new a.Dd(d):this.sm.tm(d);this.Gr=this.sm.description;this.RA=1<this.Gr.Ga;-1==this.qd?
this.qd=b:(this.xK(b,this.cx),this.tK(this.cx,b));return this.cx=b};c.prototype.Re=function(a){return this.ld.S(a,1)};c.prototype.iT=function(a){return this.ld.S(a,0)};c.prototype.ic=function(a){return this.ld.S(a,2)&2147483647};c.prototype.lK=function(b,d,c){d=this.$k[d];b=this.MG(b);b>=d.size&&d.resize(Math.max(a.J.truncate(1.25*b),16),-1);d.write(b,c)};c.prototype.NG=function(a,d){a=this.MG(a);d=this.$k[d];return a<d.size?d.read(a):-1};c.prototype.gG=function(){null==this.$k&&(this.$k=[]);for(var b=
0;b<this.$k.length;b++)if(null==this.$k[b])return this.$k[b]=a.Tc.wh(0),b;this.$k.push(a.Tc.wh(0));return this.$k.length-1};c.prototype.ZW=function(a){this.$k[a]=null};c.prototype.Pb=function(a){return this.ld.S(a,3)};c.prototype.Xv=function(a){return this.ld.S(a,4)};c.prototype.D=function(a){return this.ld.S(a,5)};c.prototype.aa=function(a){return this.ld.S(a,6)};c.prototype.zq=function(b,d,c){for(var h=0,g=this.qd;-1!=g;g=this.Re(g)){var e=this.ic(g);if(a.T.Hc(e)&&(!c||1736==e))for(var e=1736==
this.ic(g),f=this.Pb(g);-1!=f;){for(var k=0,w=this.cb(f);k<a.J.truncate(this.La(f)/2);){var l=this.U(w);if(-1==l)break;var n=this.Za(w),p=this.ui(n);null!=p?n=p.Rb():(p=this.Za(l),n=this.yb.vs(n,p));n<=b?(0==n?0==h&&(h=-1):h=1,l!=this.Vj(f)&&(this.MC(l,w),this.td(l,!0))):w=this.U(w);k++}k=this.cb(f);for(w=this.Qb(f)?k:this.Vj(f);0<this.La(f);)if(l=this.Ra(w),-1!=l){var r=this.Za(l),p=this.ui(r);null!=p?n=p.Rb():(n=this.Za(w),n=this.yb.vs(n,r));if(n<=b)0==n?0==h&&(h=-1):h=1,this.MC(l,w),this.td(l,
!1),k==l&&(k=this.cb(f));else if(w=this.Ra(w),w==k)break}else{this.td(w,!0);0==h&&(h=-1);break}w=this.La(f);d&&(e?3>w:2>w)?(f=this.Qr(f),h=0<w?1:0==h?-1:h):f=this.Sb(f)}}return h};c.prototype.MC=function(a,d){var b=this.Za(a),c=this.Za(d);null!=this.oh&&(b=this.oh.read(b),this.oh.write(c,b));if(null!=this.Ci)for(c=0,b=this.Ci.length;c<b;c++)if(null!=this.Ci[c]){var g=this.Sa(a,c);-1!=g&&this.Va(d,c,g)}};c.prototype.Em=function(b,d,c){var h=0,g=this.U(b);if(-1==g)throw a.g.za();for(var e=this.Za(b),
f=this.Za(g),k=this.ui(e),w=null==k?this.yb.vs(e,f):k.Rb(),l=0;l<c;l++){var n=d[l];if(0<n&&1>n){var p=n;null!=k&&(p=0<w?k.zy(n)/w:0);this.yb.HE(e,f,p,this.gn());var r=this.$j(this.kd(b),g,this.gn());h++;if(null!=k){var t=k.Ml(0,n),p=this.Za(this.Ra(r));this.sh(p,t);this.Nf(r,t.Ac());if(l==c-1||1==d[l+1])n=k.Ml(n,1),this.sh(p,n)}}}return h};c.prototype.iY=function(b,d,c){var h=0,g=this.U(b);if(-1==g)throw a.g.X("internal error");var e=this.Za(b),f=this.Za(g),k=this.ui(e),w=null==k?this.yb.vs(e,f):
k.Rb(),l=0;b=this.kd(b);for(var n=0;n<c;n++){var p=d[n];if(l<p&&1>p){var r=p;null!=k&&(r=0<w?k.zy(p)/w:0);this.yb.HE(e,f,r,this.gn());r=this.WT(b,g,this.gn());h++;if(null!=k){var l=k.Ml(l,p),t=this.Za(this.Ra(r));this.sh(t,l);this.rb(r,l.sa,l.oa);if(n==c-1||1==d[n+1])l=k.Ml(p,1),r=this.Za(r),this.sh(r,l)}}l=p}return h};c.prototype.WT=function(a,d,c){var b=-1!=d?this.Ra(d):this.Vj(a),h=-1!=b?this.U(b):-1,g=this.lJ(null==c?this.ud:-1),e=this.Za(g);null!=c&&this.yb.xu(e,c);this.Bj(g,a);this.Jc(g,h);
this.Kc(g,b);-1!=h&&this.Kc(h,g);-1!=b&&this.Jc(b,g);c=this.Qb(a);b=this.cb(a);-1==d&&this.rh(a,g);d==b&&(c&&-1!=b||this.ig(a,g));c&&-1==h&&(this.Jc(g,g),this.Kc(g,g));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return g};c.prototype.FF=function(b,d,c){var h=this.Za(d),g=this.Za(c);if(0>h||g>this.ud-1)throw a.g.F("invalid call");if(h>g&&!this.Qb(b))throw a.g.F("cannot iterate across an open path");for(b=0;d!=c;d=this.U(d))h=this.Za(d),g=this.ui(h),null!=g?b+=g.Rb():(g=this.Za(this.U(d)),
b+=this.yb.vs(h,g));return b};c.prototype.Zh=function(a,d){var b=this.Za(a);this.yb.xu(b,d);b=this.ui(b);null!=b&&b.setStart(d);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&b.setEnd(d))};c.prototype.xj=function(a,d){a=this.Za(a);this.yb.xe(a,d)};c.prototype.Nf=function(a,d){this.rb(a,d.x,d.y)};c.prototype.rb=function(a,d,c){var b=this.Za(a);this.yb.rb(b,d,c);b=this.ui(b);null!=b&&b.zC(d,c);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&b.Am(d,c))};c.prototype.w=function(a,d){this.yb.w(this.Cd.S(a,
0),d)};c.prototype.Mc=function(a,d){this.yb.ya[0].fc(2*this.Cd.S(a,0),d)};c.prototype.Ba=function(b){var d=new a.b;this.yb.w(this.Cd.S(b,0),d);return d};c.prototype.gH=function(a,d){this.Jr.fc(2*a,d)};c.prototype.Wc=function(a,d,c){return this.yb.Wc(a,this.Za(d),c)};c.prototype.setAttribute=function(a,d,c,m){this.yb.setAttribute(a,this.Za(d),c,m)};c.prototype.Za=function(a){return this.Cd.S(a,0)};c.prototype.Cf=function(b){var d=new a.b;this.w(b,d);return d.y};c.prototype.Uq=function(a,d){a=this.Za(a);
d=this.Za(d);var b=this.yb.ya[0].f;return b[2*a]===b[2*d]&&b[2*a+1]===b[2*d+1]};c.prototype.qw=function(a,d){a=this.Za(a);var b=this.yb.ya[0].f;return b[2*a]===d.x&&b[2*a+1]===d.y};c.prototype.VX=function(b,d){1>d&&(d=1);if(null==this.oh){if(1==d)return;this.oh=a.Tc.$m(this.yb.D(),1)}b=this.Za(b);b>=this.oh.size&&this.oh.resize(b+1,1);this.oh.write(b,d)};c.prototype.fH=function(a){a=this.Za(a);return null==this.oh||a>=this.oh.size?1:this.oh.read(a)};c.prototype.Va=function(a,d,c){d=this.Ci[d];a=this.Za(a);
d.size<this.yb.D()&&d.resize(this.yb.D(),-1);d.write(a,c)};c.prototype.Sa=function(a,d){a=this.Za(a);d=this.Ci[d];return a<d.size?d.read(a):-1};c.prototype.Sd=function(){null==this.Ci&&(this.Ci=[]);for(var b=0;b<this.Ci.length;b++)if(null==this.Ci[b])return this.Ci[b]=a.Tc.wh(0,-1),b;this.Ci.push(a.Tc.wh(0,-1));return this.Ci.length-1};c.prototype.je=function(a){this.Ci[a]=null};c.prototype.jc=function(a){return null!=this.tf?(a=this.Za(a),this.tf[a]):null};c.prototype.nd=function(b,d){var c=this.Cd.S(b,
2);if(-1==c)return!1;if(this.RA){var m=new a.Wa;this.xj(b,m);d.setStart(m);this.xj(c,m);d.setEnd(m)}else this.yb.Mc(this.Cd.S(b,0),fa),d.Wm(0,fa),this.yb.Mc(this.Cd.S(c,0),fa),d.Wm(1,fa);return!0};c.prototype.LW=function(b,d,c){if(this.RA){var h=new a.Wa;this.xj(b,h);c.setStart(h);this.xj(d,h);c.setEnd(h)}else this.yb.Mc(b,fa),c.Wm(0,fa),this.yb.Mc(d,fa),c.Wm(1,fa)};c.prototype.Vf=function(b,d){var c;if(-1!=d){if(b!=this.mg(d))throw a.g.za();c=this.at(d)}else c=this.Xv(b);var m=this.LV(b);-1!=d&&
this.Sp(d,m);this.Rp(m,d);this.Sp(m,c);-1!=c?this.Rp(c,m):this.Pp(b,m);-1==d&&this.Qp(b,m);this.Bm(b,this.aa(b)+1);return m};c.prototype.pH=function(a,d,c,m){a=this.Vf(a,-1);for(var b=0,h=d,g=!1;h==c&&(g=!0),this.Bj(h,a),b++,h=this.U(h),h!=d;);this.ho(a,!0);this.sk(a,b);g&&(d=c);this.ig(a,d);this.rh(a,this.Ra(d));this.Up(a,!1);null!=m&&(m[0]=g);return a};c.prototype.Qr=function(a){var b=this.at(a),c=this.Sb(a),m=this.mg(a);-1!=b?this.Rp(b,c):this.Pp(m,c);-1!=c?this.Sp(c,b):this.Qp(m,b);this.$P(a);
this.Bm(m,this.aa(m)-1);this.wG(a);return c};c.prototype.$P=function(a){var b=this.cb(a);if(-1!=b){for(var c=0,m=this.La(a);c<m;c++){var g=b,b=this.U(b);this.Fz(g)}b=this.mg(a);this.qk(b,this.D(b)-this.La(a))}this.sk(a,0)};c.prototype.Sb=function(a){return this.rd.S(a,2)};c.prototype.at=function(a){return this.rd.S(a,1)};c.prototype.La=function(a){return this.rd.S(a,3)};c.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};c.prototype.ho=function(a,d){if(this.Qb(a)!=d){if(0<this.La(a)){var b=this.cb(a),
c=this.Vj(a);d?(this.Jc(c,b),this.Kc(b,c)):(this.Jc(c,-1),this.Kc(b,-1));b=this.Za(c);this.sh(b,null)}this.wC(a,(this.Lq(a)|1)-1|(d?1:0))}};c.prototype.mg=function(a){return this.rd.S(a,7)};c.prototype.tU=function(a){return 0!=(this.Lq(a)&2)};c.prototype.rC=function(a,d){this.wC(a,(this.Lq(a)|2)-2|(d?2:0))};c.prototype.jA=function(b){if(this.zU(b))return this.oj.get(this.dw(b));var d=new a.Hb,c=this.cb(b);if(-1==c)return 0;var m=new a.b;this.w(c,m);for(var g=0,e=0,f=this.La(b);e<f;e++,c=this.U(c)){var k=
this.jc(c);if(null==k){if(!this.nd(c,d))continue;k=d}g+=k.yy(m.x,m.y)}this.Up(b,!0);this.oj.set(this.dw(b),g);return g};c.prototype.Zr=function(a,d,c){d=this.gl[d];a=this.dw(a);d.size<this.oj.size&&d.resize(this.oj.size,-1);d.write(a,c)};c.prototype.Xj=function(a,d){a=this.dw(a);d=this.gl[d];return a<d.size?d.read(a):-1};c.prototype.pz=function(){null==this.gl&&(this.gl=[]);for(var b=0;b<this.gl.length;b++)if(null==this.gl[b])return this.gl[b]=a.Tc.wh(0),b;this.gl.push(a.Tc.wh(0));return this.gl.length-
1};c.prototype.eC=function(a){this.gl[a]=null};c.prototype.BV=function(b,d,c){if(-1==c)throw a.g.F();if(d!=c){var h=this.Sb(c),g=this.at(c),e=this.mg(c);-1==g?this.Pp(e,h):this.Rp(g,h);-1==h?this.Qp(e,g):this.Sp(h,g);this.qk(e,this.D(e)-this.La(c));this.Bm(e,this.aa(e)-1);g=-1==d?this.Xv(b):this.at(d);this.Sp(c,g);this.Rp(c,d);-1==d?this.Qp(b,c):this.Sp(d,c);-1==g?this.Pp(b,c):this.Rp(g,c);this.qk(b,this.D(b)+this.La(c));this.Bm(b,this.aa(b)+1);this.Rx(c,b)}};c.prototype.Oj=function(a,d){this.yb.xe(this.Za(d),
this.gn());this.$j(a,-1,this.gn())};c.prototype.td=function(b,d){var c=this.kd(b),m=this.Ra(b),g=this.U(b);-1!=m&&this.Jc(m,g);var e=this.La(c);b==this.cb(c)&&this.ig(c,1<e?g:-1);-1!=g&&this.Kc(g,m);b==this.Vj(c)&&this.rh(c,1<e?m:-1);if(-1!=m&&-1!=g){var m=this.Za(m),f=this.Za(g);d?(d=this.ui(m),null!=d&&(m=new a.b,this.yb.w(f,m),d.Xc(m))):(f=this.Za(b),d=this.ui(f),this.sh(m,d),null!=d&&(m=this.yb.Ba(m),d.Lc(m)))}this.sk(c,e-1);c=this.mg(c);this.qk(c,this.D(c)-1);this.Fz(b);return g};c.prototype.cb=
function(a){return this.rd.S(a,4)};c.prototype.Vj=function(a){return this.rd.S(a,5)};c.prototype.U=function(a){return this.Cd.S(a,2)};c.prototype.Ra=function(a){return this.Cd.S(a,1)};c.prototype.kd=function(a){return this.Cd.S(a,3)};c.prototype.pc=function(a,d){return this.$j(a,-1,d)};c.prototype.Pr=function(b){if(void 0===b)return this.Pr(!1);if(b instanceof e)return new e(b);var d,c=-1,m=-1,g=-1,f=0,k=!1;for(d=this.qd;-1!=d;d=this.Re(d))if(!b||a.T.Hc(this.ic(d))){for(c=this.Pb(d);-1!=c;c=this.Sb(c))if(g=
m=this.cb(c),f=0,-1!=m){k=!0;break}if(k)break}return e.UQ(this,d,c,m,g,f,b)};c.prototype.Vc=function(a){this.sm.Vc(a);if(null!=this.tf)for(var b=0,c=this.tf.length;b<c;b++)null!=this.tf[b]&&this.tf[b].Vc(a)};c.prototype.as=function(a,d,c,m){m?this.kY(a,d,c):this.jY(a,d,c)};c.prototype.Kc=function(a,d){this.Cd.R(a,1,d)};c.prototype.Jc=function(a,d){this.Cd.R(a,2,d)};c.prototype.Bj=function(a,d){this.Cd.R(a,3,d)};c.prototype.sk=function(a,d){this.rd.R(a,3,d)};c.prototype.ig=function(a,d){this.rd.R(a,
4,d)};c.prototype.rh=function(a,d){this.rd.R(a,5,d)};c.prototype.Bm=function(a,d){this.ld.R(a,6,d)};c.prototype.qk=function(a,d){this.ld.R(a,5,d)};c.prototype.UJ=function(a){var b=a;do{var c=this.U(b);this.Jc(b,this.Ra(b));this.Kc(b,c);b=c}while(b!=a)};c.prototype.CC=function(a){this.ud=a};c.prototype.Rr=function(a){var b=this.at(a),c=this.Sb(a),m=this.mg(a);-1!=b?this.Rp(b,c):this.Pp(m,c);-1!=c?this.Sp(c,b):this.Qp(m,b);this.ig(a,-1);this.rh(a,-1);this.wG(a)};c.prototype.Ni=function(b,d){var c=this.Ra(b),
m=this.U(b);-1!=c&&this.Jc(c,m);-1!=m&&this.Kc(m,c);if(-1!=c&&-1!=m)if(c=this.Za(c),m=this.Za(m),d){if(d=this.ui(c),null!=d){var g=new a.b;this.yb.w(m,g);d.Xc(g)}}else m=this.Za(b),d=this.ui(m),this.sh(c,d),null!=d&&(g=new a.b,this.yb.w(c,g),d.Lc(g));this.Fz(b)};c.prototype.zU=function(a){return 0!=(this.Lq(a)&4)};c.prototype.Up=function(a,d){this.wC(a,(this.Lq(a)|4)-4|(d?4:0))};c.prototype.Xx=function(a,d){var b=this.Cd.f;this.yb.vc();var c=this.yb.ya[0].f;a.Fd(0,d,function(a,d){a=b[5*a];d=b[5*d];
var h=c[2*a];a=c[2*a+1];var m=c[2*d];d=c[2*d+1];return a<d?-1:a>d?1:h<m?-1:h>m?1:0})};c.prototype.FT=function(){for(var b=this.qd;-1!=b;b=this.Re(b))if(!a.T.Hc(this.ic(b)))return!0;return!1};c.prototype.HC=function(a,d){for(var b=this.Pb(a),c=this.Pb(d),g=this.Xv(a),e=this.Xv(d),f=this.Pb(a);-1!=f;f=this.Sb(f))this.Rx(f,d);for(f=this.Pb(d);-1!=f;f=this.Sb(f))this.Rx(f,a);this.Pp(a,c);this.Pp(d,b);this.Qp(a,e);this.Qp(d,g);b=this.D(a);c=this.aa(a);g=this.aa(d);this.qk(a,this.D(d));this.qk(d,b);this.Bm(a,
g);this.Bm(d,c);b=this.ld.S(a,2);this.ld.R(a,2,this.ld.S(d,2));this.ld.R(d,2,b)};return c}();a.ed=g})(y||(y={}));(function(a){var g=function(g){function c(b,d,c,m){var h=g.call(this)||this;h.$=new a.h;void 0===b?h.$F():"number"===typeof b?h.uQ(b,d,c,m):b instanceof a.Wa?void 0!==d?h.Iv(b,d,c):h.vQ(b):b instanceof a.ma?void 0!==d?h.xQ(b,d):h.wQ(b):b instanceof a.h?h.tQ(b):h.$F();return h}Y(c,g);c.prototype.Iv=function(b,d,c){this.description=a.we.Hg();this.$.Oa();b.u()||this.hv(b,d,c)};c.prototype.tQ=
function(b){this.description=a.we.Hg();this.$.I(b);this.$.normalize()};c.prototype.wQ=function(b){if(null==b)throw a.g.F();this.description=b;this.$.Oa()};c.prototype.xQ=function(b,d){if(null==b)throw a.g.F();this.description=b;this.$.I(d);this.$.normalize()};c.prototype.$F=function(){this.description=a.we.Hg();this.$.Oa()};c.prototype.vQ=function(b){this.description=a.we.Hg();this.$.Oa();b.u()||this.hv(b)};c.prototype.uQ=function(b,d,c,m){this.description=a.we.Hg();this.I(b,d,c,m)};c.prototype.I=
function(a,d,c,m){this.zc();if("number"===typeof a)this.$.I(a,d,c,m);else for(this.Oa(),d=0,c=a.length;d<c;d++)this.Nb(a[d])};c.prototype.Np=function(b){this.zc();if(!b.BU())throw a.g.F();this.$.I(b)};c.prototype.Oa=function(){this.zc();this.$.Oa()};c.prototype.u=function(){return this.$.u()};c.prototype.O=function(){return this.$.O()};c.prototype.ea=function(){return this.$.ea()};c.prototype.Jk=function(){return this.$.Jk()};c.prototype.Cq=function(){return this.$.Cq()};c.prototype.Bq=function(){return this.$.Tf()};
c.prototype.Nb=function(b){if(b instanceof a.b)this.zc(),this.$.Nb(b);else if(b instanceof a.h)this.zc(),this.$.Nb(b);else if(b instanceof a.Wa){if(this.zc(),!b.Gc()){var d=b.description;this.description!=d&&this.tm(d);if(this.u())this.hv(b);else{this.$.Nb(b.w());for(var h=1,m=d.Ga;h<m;h++)for(var g=d.Qd(h),e=a.ma.Xa(g),f=0;f<e;f++){var k=b.Wc(g,f),w=this.hg(g,f);w.Nb(k);this.setInterval(g,f,w)}}}}else if(b instanceof c&&!b.u())for(d=b.description,d!=this.description&&this.tm(d),this.$.Nb(b.$),h=
1,m=d.Ga;h<m;h++)for(g=d.pd(h),e=a.ma.Xa(g),f=0;f<e;f++)k=b.hg(g,f),w=this.hg(g,f),w.Nb(k),this.setInterval(g,f,w)};c.prototype.hv=function(b,d,c){if(void 0!==d){this.$.I(b.w(),d,c);d=b.description;c=1;for(var h=d.Ga;c<h;c++)for(var g=d.Qd(c),e=a.ma.Xa(g),f=0;f<e;f++){var k=b.Wc(g,f);this.setInterval(g,f,k,k)}}else for(this.$.I(b.ka[0],b.ka[1]),d=b.description,c=1,h=d.Ga;c<h;c++)for(g=d.Qd(c),e=a.ma.Xa(g),f=0;f<e;f++)k=b.Wc(g,f),this.setInterval(g,f,k,k)};c.prototype.setInterval=function(b,d,c,m){var h=
null;"number"===typeof c?h=new a.yc(c,m):h=c;this.zc();if(0==b)if(0==d)this.$.o=h.ga,this.$.v=h.la;else if(1==d)this.$.A=h.ga,this.$.B=h.la;else throw a.g.vd();else this.OE(0,b,d,h.ga),this.OE(1,b,d,h.la)};c.prototype.P=function(a,d){this.zc();this.$.P(a,d)};c.prototype.Vc=function(b){if(b instanceof a.Gd)this.zc(),b.NC(this.$);else if(this.zc(),!this.$.u()){var d=new a.QL;this.Jp(d);d.sU()?d.Oa():b.NC(d)}};c.prototype.copyTo=function(b){if(b.G()!=this.G())throw a.g.F();b.zc();b.description=this.description;
b.$.I(this.$);b.ka=null;if(null!=this.ka){b.cv();for(var d=0;d<2*(this.description.Ye.length-2);d++)b.ka[d]=this.ka[d]}};c.prototype.Ka=function(){return new c(this.description)};c.prototype.ef=function(){return this.$.AG()};c.prototype.Rb=function(){return this.$.RG()};c.prototype.G=function(){return 197};c.prototype.ub=function(){return 2};c.prototype.Wn=function(a){this.copyTo(a)};c.prototype.s=function(a){a.o=this.$.o;a.A=this.$.A;a.v=this.$.v;a.B=this.$.B};c.prototype.Jp=function(a){a.o=this.$.o;
a.A=this.$.A;a.v=this.$.v;a.B=this.$.B;a.I(this.$.o,this.$.A,this.Zd(0,1,0),this.$.v,this.$.B,this.Zd(1,1,0))};c.prototype.hg=function(b,d){var c=new a.yc;c.I(this.Zd(0,b,d),this.Zd(1,b,d));return c};c.prototype.gg=function(b,d){d.Eg(this.description);var c=this.description.Ga-1;switch(b){case 0:for(b=0;b<c;b++)for(var m=this.description.pd(b),g=a.ma.Xa(m),e=0;e<g;e++)d.setAttribute(m,e,this.Zd(0,m,e));d.rb(this.$.o,this.$.A);break;case 1:for(b=0;b<c;b++)for(m=this.description.pd(b),g=a.ma.Xa(m),
e=0;e<g;e++)d.setAttribute(m,e,this.Zd(1,m,e));d.rb(this.$.o,this.$.B);break;case 2:for(b=0;b<c;b++)for(m=this.description.pd(b),g=a.ma.Xa(m),e=0;e<g;e++)d.setAttribute(m,e,this.Zd(0,m,e));d.rb(this.$.v,this.$.B);break;case 3:for(b=0;b<c;b++)for(m=this.description.pd(b),g=a.ma.Xa(m),e=0;e<g;e++)d.setAttribute(m,e,this.Zd(1,m,e));d.rb(this.$.v,this.$.A);break;default:throw a.g.vd();}};c.prototype.Gx=function(a,d){a=this.$.Gx(a);d.ja(a.x,a.y)};c.prototype.CS=function(a,d){return d*(a.Er-2)};c.prototype.BG=
function(b,d,c){if(this.$.u())throw a.g.X("empty geometry");if(0==d)return 0!=b?0!=c?this.$.B:this.$.v:0!=c?this.$.A:this.$.o;if(c>=a.ma.Xa(d))throw a.g.F();var h=this.description.lg(d);this.cv();return 0<=h?this.ka[this.CS(this.description,b)+this.description.eT(h)-2+c]:a.ma.be(d)};c.prototype.cv=function(){this.zc();if(null==this.ka&&2<this.description.Ye.length){this.ka=[];for(var b=c.N(this.description,0),d=c.N(this.description,1),h=0,m=1,g=this.description.Ga;m<g;m++)for(var e=this.description.pd(m),
f=a.ma.Xa(e),e=a.ma.be(e),k=0;k<f;k++)this.ka[b+h]=e,this.ka[d+h]=e,h++}};c.prototype.to=function(b){if(null!=this.ka)if(2<b.Ye.length){for(var d=a.we.vx(b,this.description),h=[],m=c.N(this.description,0),g=c.N(this.description,1),e=c.N(b,0),f=c.N(b,1),k=0,w=1,l=b.Ga;w<l;w++){var n=b.pd(w),p=a.ma.Xa(n);if(-1==d[w])for(var r=a.ma.be(n),n=0;n<p;n++)h[e+k]=r,h[f+k]=r,k++;else for(r=this.description.zk(d[w])-2,n=0;n<p;n++)h[e+k]=this.ka[m+r],h[f+k]=this.ka[g+r],k++,r++}this.ka=h}else this.ka=null;this.description=
b};c.prototype.Zd=function(b,d,h){if(this.$.u())throw a.g.X("This operation was performed on an Empty Geometry.");if(0==d)return 0!=b?0!=h?this.$.B:this.$.v:0!=h?this.$.A:this.$.o;if(h>=a.ma.Xa(d))throw a.g.vd();var m=this.description.lg(d);return 0<=m?(this.cv(),this.ka[c.N(this.description,b)+this.description.zk(m)-2+h]):a.ma.be(d)};c.prototype.OE=function(b,d,h,m){this.zc();if(0==d)0!=b?0!=h?this.$.B=m:this.$.v=m:0!=h?this.$.A=m:this.$.o=m;else{if(h>=a.ma.Xa(d))throw a.g.vd();if(!this.hasAttribute(d)){if(a.ma.DH(d,
m))return;this.Rd(d)}d=this.description.lg(d);this.cv();this.ka[c.N(this.description,b)+this.description.zk(d)-2+h]=m}};c.N=function(a,d){return d*(a.Ye.length-2)};c.prototype.Ma=function(b){this.zc();var d=new a.h;b.s(d);return this.$.Ma(d)};c.prototype.Yb=function(b){return b instanceof a.h?this.$.Yb(b):this.$.Yb(b.$)};c.prototype.Bv=function(a,d,c){this.zc();a.u()?this.Oa():void 0!==d?this.hv(a,d,c):this.$.Bv(a.Te(),a.Cf())};c.prototype.offset=function(a,d){this.zc();this.$.offset(a,d)};c.prototype.normalize=
function(){this.zc();this.$.normalize()};c.prototype.Tf=function(b){if(void 0!==b)if(b.Eg(this.description),this.u())b.Oa();else{for(var d=this.description.Ga,c=1;c<d;c++)for(var m=this.description.pd(c),g=a.ma.Xa(m),e=0;e<g;e++){var f=.5*(this.BG(0,m,e)+this.BG(1,m,e));b.setAttribute(m,e,f)}b.rb(this.$.Tf())}else{b=new a.Wa(this.description);if(this.u())return b;d=this.description.Ga;for(c=1;c<d;c++)for(m=this.description.Qd(c),g=a.ma.Xa(m),e=0;e<g;e++)f=.5*(this.Zd(0,m,e)+this.Zd(1,m,e)),b.setAttribute(m,
e,f);b.rb(this.$.Jk(),this.$.Cq());return b}};c.prototype.aA=function(){return new a.Wa(this.$.aA())};c.prototype.contains=function(b){return b instanceof a.Wa?b.u()?!1:this.$.contains(b.Te(),b.Cf()):this.$.contains(b.$)};c.prototype.DQ=function(a){return this.$.contains(a)};c.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.$.Eb(a.$))return!1;for(var b=0,h=2*(this.description.Ye.length-2);b<h;b++)if(this.ka[b]!=
a.ka[b])return!1;return!0};c.prototype.kc=function(){var b=this.description.kc(),b=a.J.bh(b,this.$.kc());if(!this.u()&&null!=this.ka)for(var d=0,c=2*(this.description.Ye.length-2);d<c;d++)b=a.J.bh(b,this.ka[d]);return b};c.prototype.dt=function(){return this.$.o};c.prototype.ft=function(){return this.$.A};c.prototype.ct=function(){return this.$.v};c.prototype.et=function(){return this.$.B};c.prototype.Fg=function(){return a.Pi.Xm(this,null)};c.prototype.toString=function(){return this.u()?"Envelope: []":
"Envelope: ["+this.$.o+", "+this.$.A+", "+this.$.v+", "+this.$.B+"]"};return c}(a.T);a.di=g})(y||(y={}));(function(a){var g=function(){function g(a,b,d,h){void 0===a?this.Oa():(this.o=a,this.A=b,this.v=d,this.B=h)}g.pa=function(a,b,d,h){var c=new g;c.o=a;c.A=b;c.v=d;c.B=h;return c};g.prototype.I=function(c,b,d,h){"number"===typeof c?void 0!==d?(this.o=c,this.A=b,this.v=d,this.B=h,this.normalize()):(this.o=c,this.A=b,this.v=c,this.B=b):c instanceof a.b?void 0!==b?(this.o=c.x-.5*b,this.v=this.o+b,this.A=
c.y-.5*d,this.B=this.A+d,this.normalize()):(this.o=c.x,this.A=c.y,this.v=c.x,this.B=c.y):c instanceof g?this.I(c.o,c.A,c.v,c.B):c instanceof a.yc&&(c.u()||b.u()?this.Oa():(this.o=c.ga,this.v=c.la,this.A=b.ga,this.B=b.la))};g.prototype.OS=function(a,b){var d=new g;d.I(this.o,this.A,this.v,this.B);d.P(a,b);return d};g.prototype.Mx=function(a,b){if(void 0!==b)if(0==b)this.Oa();else{this.o=a[0].x;this.A=a[0].y;this.v=this.o;this.B=this.A;for(var d=1;d<b;d++){var c=a[d];c.x<this.o?this.o=c.x:c.x>this.v&&
(this.v=c.x);c.y<this.A?this.A=c.y:c.y>this.B&&(this.B=c.y)}}else if(null==a||0==a.length)this.Oa();else for(c=a[0],this.I(c.x,c.y),d=1;d<a.length;d++)c=a[d],this.ol(c.x,c.y)};g.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};g.prototype.u=function(){return isNaN(this.o)};g.prototype.Nb=function(c,b){"number"===typeof c?this.u()?(this.o=c,this.A=b,this.v=c,this.B=b):(this.o>c?this.o=c:this.v<c&&(this.v=c),this.A>b?this.A=b:this.B<b&&(this.B=b)):c instanceof a.b?this.Nb(c.x,c.y):c instanceof
a.od?this.Nb(c.x,c.y):c instanceof g&&!c.u()&&(this.Nb(c.o,c.A),this.Nb(c.v,c.B))};g.prototype.ol=function(a,b){this.o>a?this.o=a:this.v<a&&(this.v=a);this.A>b?this.A=b:this.B<b&&(this.B=b)};g.prototype.P=function(a,b){this.u()||(this.o-=a,this.v+=a,this.A-=b,this.B+=b,(this.o>this.v||this.A>this.B)&&this.Oa())};g.prototype.scale=function(a){0>a&&this.Oa();this.u()||(this.o*=a,this.v*=a,this.A*=a,this.B*=a)};g.prototype.Yb=function(a){return!this.u()&&!a.u()&&(this.o<=a.o?this.v>=a.o:a.v>=this.o)&&
(this.A<=a.A?this.B>=a.A:a.B>=this.A)};g.prototype.HH=function(a){return(this.o<=a.o?this.v>=a.o:a.v>=this.o)&&(this.A<=a.A?this.B>=a.A:a.B>=this.A)};g.prototype.Ma=function(a){if(this.u()||a.u())return!1;a.o>this.o&&(this.o=a.o);a.v<this.v&&(this.v=a.v);a.A>this.A&&(this.A=a.A);a.B<this.B&&(this.B=a.B);(a=this.o<=this.v&&this.A<=this.B)||this.Oa();return a};g.prototype.Gx=function(c){switch(c){case 0:return a.b.pa(this.o,this.A);case 1:return a.b.pa(this.o,this.B);case 2:return a.b.pa(this.v,this.B);
case 3:return a.b.pa(this.v,this.A);default:throw a.g.vd();}};g.prototype.SB=function(c){if(null==c||4>c.length)throw a.g.F();null!=c[0]?c[0].ja(this.o,this.A):c[0]=a.b.pa(this.o,this.A);null!=c[1]?c[1].ja(this.o,this.B):c[1]=a.b.pa(this.o,this.B);null!=c[2]?c[2].ja(this.v,this.B):c[2]=a.b.pa(this.v,this.B);null!=c[3]?c[3].ja(this.v,this.A):c[3]=a.b.pa(this.v,this.A)};g.prototype.AG=function(){return this.u()?0:this.O()*this.ea()};g.prototype.RG=function(){return this.u()?0:2*(this.O()+this.ea())};
g.prototype.Jk=function(){return(this.v+this.o)/2};g.prototype.Cq=function(){return(this.B+this.A)/2};g.prototype.O=function(){return this.v-this.o};g.prototype.ea=function(){return this.B-this.A};g.prototype.move=function(a,b){this.u()||(this.o+=a,this.A+=b,this.v+=a,this.B+=b)};g.prototype.Bv=function(c,b){if(void 0!==b)this.move(c-this.Jk(),b-this.Cq());else if(c instanceof a.b)this.Bv(c.x,c.y);else if(c instanceof a.Wa){b=(this.v-this.o)/2;var d=(this.B-this.A)/2;this.o=c.Te()-b;this.v=c.Te()+
b;this.A=c.Cf()-d;this.B=c.Cf()+d}else throw a.g.F();};g.prototype.offset=function(a,b){this.o+=a;this.v+=a;this.A+=b;this.B+=b};g.prototype.normalize=function(){if(!this.u()){var a=Math.min(this.o,this.v),b=Math.max(this.o,this.v);this.o=a;this.v=b;a=Math.min(this.A,this.B);b=Math.max(this.A,this.B);this.A=a;this.B=b}};g.prototype.Zn=function(a){a.ja(this.o,this.A)};g.prototype.HJ=function(a){a.ja(this.v,this.A)};g.prototype.KJ=function(a){a.ja(this.o,this.B)};g.prototype.$n=function(a){a.ja(this.v,
this.B)};g.prototype.BU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};g.prototype.Tf=function(){return a.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};g.prototype.aA=function(){return a.b.pa(this.o,this.A)};g.prototype.contains=function(c,b){if(void 0!==b)return c>=this.o&&c<=this.v&&b>=this.A&&b<=this.B;if(c instanceof a.Wa)return this.contains(c.Te(),c.Cf());if(c instanceof a.b)return this.contains(c.x,c.y);if(c instanceof g)return c.o>=this.o&&c.v<=this.v&&c.A>=this.A&&c.B<=this.B;throw a.g.F();
};g.prototype.Zm=function(c,b){if(void 0!==b)return c>this.o&&c<this.v&&b>this.A&&b<this.B;if(c instanceof a.b)return this.Zm(c.x,c.y);if(c instanceof g)return c.o>this.o&&c.v<this.v&&c.A>this.A&&c.B<this.B;throw a.g.F();};g.prototype.Eb=function(a){return a==this?!0:a instanceof g?this.u()&&a.u()?!0:this.o!=a.o||this.A!=a.A||this.v!=a.v||this.B!=a.B?!1:!0:!1};g.prototype.kc=function(){var c=this.o,c=a.J.truncate(c^c>>>32),b=a.J.bh(c),c=this.v,c=a.J.truncate(c^c>>>32),b=a.J.bh(c,b),c=this.A,c=a.J.truncate(c^
c>>>32),b=a.J.bh(c,b),c=this.B,c=a.J.truncate(c^c>>>32);return b=a.J.bh(c,b)};g.prototype.Ky=function(c){var b=new a.b;b.L(c);if(b.Dy())return b;if(this.u())return b.iv(),b;b.x<this.o?b.x=this.o:b.x>this.v&&(b.x=this.v);b.y<this.A?b.y=this.A:b.y>this.B&&(b.y=this.B);if(!b.Eb(c))return b;c=this.Tf();(b.x<c.x?b.x-this.o:this.v-b.x)<(b.y<c.y?b.y-this.A:this.B-b.y)?b.x=b.x<c.x?this.o:this.v:b.y=b.y<c.y?this.A:this.B;return b};g.prototype.av=function(a){if(this.u())return NaN;if(a.x==this.o)return a.y-
this.A;var b=this.B-this.A,d=this.v-this.o;return a.y==this.B?b+a.x-this.o:a.x==this.v?b+d+this.B-a.y:a.y==this.A?2*b+d+this.v-a.x:this.av(this.Ky(a))};g.prototype.DE=function(a){if(this.u())return-1;a=this.av(a);var b=this.B-this.A,d=this.v-this.o;return a<b?0:(a-=b)<d?1:a-d<b?2:3};g.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};g.prototype.ez=function(a,b){var d=this.yk(a),c=this.yk(b);
if(0!=(d&c))return 0;if(0==(d|c))return 4;var m=(0!=d?1:0)|(0!=c?2:0);do{var q=b.x-a.x,e=b.y-a.y;q>e?0!=(d&g.dc)?(0!=(d&g.N)?(a.y+=e*(this.o-a.x)/q,a.x=this.o):(a.y+=e*(this.v-a.x)/q,a.x=this.v),d=this.yk(a)):0!=(c&g.dc)?(0!=(c&g.N)?(b.y+=e*(this.o-b.x)/q,b.x=this.o):(b.y+=e*(this.v-b.x)/q,b.x=this.v),c=this.yk(b)):0!=d?(0!=(d&g.tb)?(a.x+=q*(this.A-a.y)/e,a.y=this.A):(a.x+=q*(this.B-a.y)/e,a.y=this.B),d=this.yk(a)):(0!=(c&g.tb)?(b.x+=q*(this.A-b.y)/e,b.y=this.A):(b.x+=q*(this.B-b.y)/e,b.y=this.B),
c=this.yk(b)):0!=(d&g.ad)?(0!=(d&g.tb)?(a.x+=q*(this.A-a.y)/e,a.y=this.A):(a.x+=q*(this.B-a.y)/e,a.y=this.B),d=this.yk(a)):0!=(c&g.ad)?(0!=(c&g.tb)?(b.x+=q*(this.A-b.y)/e,b.y=this.A):(b.x+=q*(this.B-b.y)/e,b.y=this.B),c=this.yk(b)):0!=d?(0!=(d&g.N)?(a.y+=e*(this.o-a.x)/q,a.x=this.o):(a.y+=e*(this.v-a.x)/q,a.x=this.v),d=this.yk(a)):(0!=(c&g.N)?(b.y+=e*(this.o-b.x)/q,b.x=this.o):(b.y+=e*(this.v-b.x)/q,b.x=this.v),c=this.yk(b));if(0!=(d&c))return 0}while(0!=(d|c));return m};g.prototype.yk=function(a){return(a.x<
this.o?1:0)|(a.x>this.v?1:0)<<1|(a.y<this.A?1:0)<<2|(a.y>this.B?1:0)<<3};g.prototype.eh=function(a){return!this.u()&&(this.O()<=a||this.ea()<=a)};g.prototype.Cb=function(c){return c instanceof a.b?Math.sqrt(this.NK(c)):Math.sqrt(this.Zx(c))};g.prototype.Zx=function(a){var b=0,d=0,c;c=this.o-a.v;c>b&&(b=c);c=this.A-a.B;c>d&&(d=c);c=a.o-this.v;c>b&&(b=c);c=a.A-this.B;c>d&&(d=c);return b*b+d*d};g.prototype.NK=function(a){var b=0,d=0,c;c=this.o-a.x;c>b&&(b=c);c=this.A-a.y;c>d&&(d=c);c=a.x-this.v;c>b&&
(b=c);c=a.y-this.B;c>d&&(d=c);return b*b+d*d};g.prototype.Yn=function(a){this.u()?a.Oa():a.I(this.o,this.v)};g.XN=function(a,b,d,h){var c=1;isNaN(a)||(c+=Math.abs(a));isNaN(b)||(c+=Math.abs(b));isNaN(d)||(c+=Math.abs(d));isNaN(h)||(c+=Math.abs(h));return 2.220446049250313E-14*c};g.N=1;g.tb=4;g.dc=3;g.ad=12;return g}();a.h=g})(y||(y={}));(function(a){var g;(function(a){a[a.initialize=0]="initialize";a[a.initializeRed=1]="initializeRed";a[a.initializeBlue=2]="initializeBlue";a[a.initializeRedBlue=3]=
"initializeRedBlue";a[a.sweep=4]="sweep";a[a.sweepBruteForce=5]="sweepBruteForce";a[a.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";a[a.sweepRedBlue=7]="sweepRedBlue";a[a.sweepRed=8]="sweepRed";a[a.sweepBlue=9]="sweepBlue";a[a.iterate=10]="iterate";a[a.iterateRed=11]="iterateRed";a[a.iterateBlue=12]="iterateBlue";a[a.iterateBruteForce=13]="iterateBruteForce";a[a.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";a[a.resetRed=15]="resetRed";a[a.resetBlue=16]="resetBlue"})(g||(g={}));var e=
function(){function a(a,d){this.Di=a;this.cI=d}a.prototype.gs=function(a,d,c){this.Di.hY(c,a,d,this.cI)};a.prototype.Qq=function(a){return this.Di.Ks(a,this.cI)};return a}();g=function(){function c(){this.ax=this.ip=this.Ff=this.Ad=null;this.lr=new a.h;this.un=this.gk=this.hk=this.Od=this.dg=this.Wd=this.Qw=this.$o=this.zd=this.Lb=null;this.Zb=-1;this.ta=0;this.sl()}c.prototype.bs=function(){this.sl();this.Bw=!0;null==this.Lb?(this.$o=new a.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=0)};c.prototype.hd=
function(b,d){if(!this.Bw)throw a.g.Da();var c=new a.h;c.I(d);this.$o.add(b);this.Lb.push(c)};c.prototype.yq=function(){if(!this.Bw)throw a.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Oc=!1)};c.prototype.QK=function(){this.sl();this.Aw=!0;null==this.Lb?(this.$o=new a.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=0)};c.prototype.aF=function(b,d){if(!this.Aw)throw a.g.Da();var c=new a.h;c.I(d);this.$o.add(b);this.Lb.push(c)};c.prototype.qG=function(){if(!this.Aw)throw a.g.Da();
this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&0<this.zd.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Oc=!1)};c.prototype.PK=function(){this.sl();this.zw=!0;null==this.zd?(this.Qw=new a.ha(0),this.zd=[]):(this.Qw.uf(0),this.zd.length=0)};c.prototype.XE=function(b,d){if(!this.zw)throw a.g.Da();var c=new a.h;c.I(d);this.Qw.add(b);this.zd.push(c)};c.prototype.pG=function(){if(!this.zw)throw a.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&
0<this.zd.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Oc=!1)};c.prototype.next=function(){if(this.Oc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.tA();break;case 1:b=this.PT();break;case 2:b=this.MT();break;case 3:b=this.OT();break;case 4:b=this.rY();break;case 5:b=this.nY();break;case 6:b=this.oY();break;case 7:b=this.pY();break;case 8:b=this.by();break;case 9:b=this.IC();break;case 10:b=this.FA();break;case 11:b=this.FU();break;case 12:b=this.CU();
break;case 13:b=this.DU();break;case 14:b=this.EU();break;case 15:b=this.OJ();break;case 16:b=this.NJ();break;default:throw a.g.za();}return this.Oc?!1:!0};c.prototype.BC=function(a){this.ta=a};c.prototype.hA=function(a){return this.Lb[a]};c.prototype.Lz=function(a){return this.zd[a]};c.prototype.Vl=function(a){return this.$o.read(a)};c.prototype.Rl=function(a){return this.Qw.read(a)};c.GA=function(a){return 1==(a&1)};c.Fj=function(a){return 0==(a&1)};c.prototype.sl=function(){this.Bw=this.zw=this.Aw=
!1;this.bg=this.cg=this.mh=this.Ke=-1;this.Oc=!0};c.prototype.tA=function(){this.$f=this.rg=-1;if(10>this.Lb.length)return this.Ke=this.Lb.length,this.Zb=5,!0;null==this.Ad&&(this.Ad=new a.ms(!0),this.ip=this.Ad.jf(),this.Wd=new a.ha(0));this.Ad.bs();for(var b=0;b<this.Lb.length;b++){var d=this.Lb[b];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(b=0;b<2*this.Lb.length;b++)this.Wd.add(b);this.Au(this.Wd,2*this.Lb.length,!0);this.Ke=2*this.Lb.length;this.Zb=4;return!0};
c.prototype.PT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new a.ms(!0),this.ip=this.Ad.jf(),this.Wd=new a.ha(0));this.Ad.bs();for(var b=0;b<this.Lb.length;b++){var d=this.Lb[b];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(b=0;b<2*this.Lb.length;b++)this.Wd.add(b);this.Au(this.Wd,this.Wd.size,!0);this.Ke=this.Wd.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),
this.cg=-1);this.Zb=7;return this.NJ()};c.prototype.MT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ff&&(this.Ff=new a.ms(!0),this.ax=this.Ff.jf(),this.dg=new a.ha(0));this.Ff.bs();for(var b=0;b<this.zd.length;b++){var d=this.zd[b];this.Ff.xs(d.o,d.v)}this.Ff.yq();this.dg.zb(2*this.zd.length);this.dg.resize(0);for(b=0;b<2*this.zd.length;b++)this.dg.add(b);this.Au(this.dg,this.dg.size,!1);this.mh=this.dg.size;-1!=this.bg&&
(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return this.OJ()};c.prototype.OT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new a.ms(!0),this.ip=this.Ad.jf(),this.Wd=new a.ha(0));null==this.Ff&&(this.Ff=new a.ms(!0),this.ax=this.Ff.jf(),this.dg=new a.ha(0));this.Ad.bs();for(var b=0;b<this.Lb.length;b++){var d=this.Lb[b];this.Ad.xs(d.o,d.v)}this.Ad.yq();this.Ff.bs();for(b=0;b<this.zd.length;b++)d=
this.zd[b],this.Ff.xs(d.o,d.v);this.Ff.yq();this.Wd.zb(2*this.Lb.length);this.dg.zb(2*this.zd.length);this.Wd.resize(0);this.dg.resize(0);for(b=0;b<2*this.Lb.length;b++)this.Wd.add(b);for(b=0;b<2*this.zd.length;b++)this.dg.add(b);this.Au(this.Wd,this.Wd.size,!0);this.Au(this.dg,this.dg.size,!1);this.Ke=this.Wd.size;this.mh=this.dg.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return!0};c.prototype.rY=
function(){var a=this.Wd.get(--this.Ke),d=a>>1;if(c.Fj(a))return this.Ad.remove(d),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;this.ip.gC(this.Lb[d].o,this.Lb[d].v,this.ta);this.rg=d;this.Zb=10;return!0};c.prototype.nY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.mh=this.rg=this.Ke;this.Zb=13;return!0};c.prototype.oY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.rg=this.Ke;this.mh=this.zd.length;this.Zb=14;return!0};c.prototype.pY=function(){var a=
this.Wd.get(this.Ke-1),d=this.dg.get(this.mh-1),h=this.Ks(a,!0),m=this.Ks(d,!1);return h>m?this.by():h<m?this.IC():c.GA(a)?this.by():c.GA(d)?this.IC():this.by()};c.prototype.by=function(){var b=this.Wd.get(--this.Ke),d=b>>1;if(c.Fj(b))return-1!=this.cg&&-1!=this.hk.get(d)?(this.Od.jd(this.cg,this.hk.get(d)),this.hk.set(d,-1)):this.Ad.remove(d),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.bg&&0<this.Od.Zs(this.bg))for(b=this.Od.wc(this.bg);-1!=b;){var h=this.Od.getData(b);this.Ff.dh(h);
this.gk.set(h,-1);h=this.Od.nb(b);this.Od.jd(this.bg,b);b=h}0<this.Ff.size()?(this.ax.gC(this.Lb[d].o,this.Lb[d].v,this.ta),this.rg=d,this.Zb=12):(-1==this.cg&&(null==this.Od&&(this.Od=new a.cq),this.hk=new a.ha(0),this.hk.resize(this.Lb.length,-1),this.hk.$h(-1,0,this.Lb.length),this.cg=this.Od.ni(1)),this.hk.set(d,this.Od.addElement(this.cg,d)),this.Zb=7);return!0};c.prototype.IC=function(){var b=this.dg.get(--this.mh),d=b>>1;if(c.Fj(b))return-1!=this.bg&&-1!=this.gk.get(d)?(this.Od.jd(this.bg,
this.gk.get(d)),this.gk.set(d,-1)):this.Ff.remove(d),0==this.mh?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.cg&&0<this.Od.Zs(this.cg))for(b=this.Od.wc(this.cg);-1!=b;){var h=this.Od.getData(b);this.Ad.dh(h);this.hk.set(h,-1);h=this.Od.nb(b);this.Od.jd(this.cg,b);b=h}0<this.Ad.size()?(this.ip.gC(this.zd[d].o,this.zd[d].v,this.ta),this.$f=d,this.Zb=11):(-1==this.bg&&(null==this.Od&&(this.Od=new a.cq),this.gk=new a.ha(0),this.gk.resize(this.zd.length,-1),this.gk.$h(-1,0,this.zd.length),this.bg=
this.Od.ni(0)),this.gk.set(d,this.Od.addElement(this.bg,d)),this.Zb=7);return!0};c.prototype.FA=function(){this.$f=this.ip.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=4;return!0};c.prototype.FU=function(){this.rg=this.ip.next();if(-1!=this.rg)return!1;this.$f=this.rg=-1;var a=this.dg.get(this.mh)>>1;this.Ff.dh(a);this.Zb=7;return!0};c.prototype.CU=function(){this.$f=this.ax.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=7;
return!0};c.prototype.DU=function(){if(-1==--this.mh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ke]);var a=this.Lb[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};c.prototype.EU=function(){if(-1==--this.mh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ke]);var a=this.zd[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};c.prototype.OJ=function(){if(null==this.Ad)return this.Oc=!0,!1;this.Ke=this.Wd.size;0<this.Ad.size()&&this.Ad.reset();
-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);this.Oc=!1;return!0};c.prototype.NJ=function(){if(null==this.Ff)return this.Oc=!0,!1;this.mh=this.dg.size;0<this.Ff.size()&&this.Ff.reset();-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Oc=!1;return!0};c.prototype.Au=function(b,d,c){null==this.un&&(this.un=new a.Ju);c=new e(this,c);this.un.sort(b,0,d,c)};c.prototype.hY=function(a,d,h,m){var b=this;a.Fd(d,h,function(a,d){var h=b.Ks(a,m),g=b.Ks(d,m);return h<g||h==
g&&c.Fj(a)&&c.GA(d)?-1:1})};c.prototype.Ks=function(a,d){var b=.5*this.ta;if(d)return d=this.Lb[a>>1],b=c.Fj(a)?d.A-b:d.B+b;d=this.zd[a>>1];return b=c.Fj(a)?d.A-b:d.B+b};return c}();a.mD=g})(y||(y={}));(function(a){var g=function(){function g(){}g.pa=function(a,b,d,h,m,q){var c=new g;c.o=a;c.A=b;c.xf=d;c.v=h;c.B=m;c.Zg=q;return c};g.prototype.Oa=function(){this.xf=this.o=NaN};g.prototype.u=function(){return isNaN(this.o)};g.prototype.sU=function(){return isNaN(this.xf)};g.prototype.I=function(a,b,
d,h,m,g){void 0!==h?"number"===typeof a?(this.o=a,this.A=b,this.xf=d,this.v=h,this.B=m,this.Zg=g):(this.o=a.x-.5*b,this.v=this.o+b,this.A=a.y-.5*d,this.B=this.A+d,this.xf=a.z-.5*h,this.Zg=this.xf+h):(this.o=a,this.A=b,this.xf=d,this.v=a,this.B=b,this.Zg=d)};g.prototype.move=function(a){this.o+=a.x;this.A+=a.y;this.xf+=a.z;this.v+=a.x;this.B+=a.y;this.Zg+=a.z};g.prototype.copyTo=function(a){a.o=this.o;a.A=this.A;a.v=this.v;a.B=this.B};g.prototype.ol=function(a,b,d){this.o>a?this.o=a:this.v<a&&(this.v=
a);this.A>b?this.A=b:this.B<b&&(this.B=b);0==isNaN(this.xf)?this.xf>d?this.xf=d:this.Zg<d&&(this.Zg=d):this.Zg=this.xf=d};g.prototype.Nb=function(c,b,d,h,m,q){if("number"===typeof c)h?(this.Nb(c,b,d),this.Nb(h,m,q)):this.u()?(this.o=c,this.A=b,this.xf=d,this.v=c,this.B=b,this.Zg=d):this.ol(c,b,d);else if(c instanceof a.od)this.Nb(c.x,c.y,c.z);else if(c instanceof g)c.u()||(this.Nb(c.o,c.A,c.xf),this.Nb(c.v,c.B,c.Zg));else throw a.g.F();};g.prototype.pa=function(a,b,d){a.u()||b.u()?this.Oa():(this.o=
a.ga,this.v=a.la,this.A=b.ga,this.B=b.la,this.xf=d.ga,this.Zg=d.la)};g.prototype.SB=function(c){if(null==c||8>c.length)throw a.g.F();c[0]=new a.od(this.o,this.A,this.xf);c[1]=new a.od(this.o,this.B,this.xf);c[2]=new a.od(this.v,this.B,this.xf);c[3]=new a.od(this.v,this.A,this.xf);c[4]=new a.od(this.o,this.A,this.Zg);c[5]=new a.od(this.o,this.B,this.Zg);c[6]=new a.od(this.v,this.B,this.Zg);c[7]=new a.od(this.v,this.A,this.Zg)};g.prototype.Mx=function(a){if(null==a||0==a.length)this.Oa();else{var b=
a[0];this.I(b.x,b.y,b.z);for(b=1;b<a.length;b++){var d=a[b];this.ol(d.x,d.y,d.z)}}};return g}();a.QL=g})(y||(y={}));(function(a){(function(a){a.za=function(){var a=Error();a.message="Internal Error";return a};a.af=function(){var a=Error();a.message="Not Implemented";return a};a.Dl=function(){var a=Error();a.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return a};a.Da=function(){var a=Error();a.message="Invalid Call";return a};a.F=function(a){var c=
Error();c.message="Illegal Argument Exception";void 0!==a&&(c.message+=": "+a);return c};a.tN=function(){var a=Error();a.message="Runtime Exception.";return a};a.X=function(a){var c=Error();c.message="Geometry Exception: "+a;return c};a.yL=function(){var a=Error();a.message="Assert Failed Exception";return a};a.vd=function(){var a=Error();a.message="IndexOutOfBoundsException";return a};a.PZ=function(a){a.message="UserCancelException";return a}})(a.g||(a.g={}))})(y||(y={}));(function(a){a=a.Um||(a.Um=
{});a[a.forward=0]="forward";a[a.reverse=1]="reverse"})(y||(y={}));(function(a){var g=function(){function b(a,b){this.$a=a;this.HI=b;this.MI=-1;this.am=!1}b.prototype.Oe=function(){return!0};b.prototype.next=function(){if(++this.MI==this.HI.D())return null;var b=this.HI.Ba(this.MI);b.scale(this.$a.oc);var c=new a.Ja;this.$a.Vy(b,this.am,c);return c};b.prototype.Ia=function(){return 0};return b}(),e=function(){function b(b,c,m){this.$a=b;this.ex=c;this.So=!1;this.Yo=m;this.Pw=[0];this.Wk=[0];this.kk=
[0];this.Et=[0];this.am=!1;this.fr=new a.Ja;this.Yk=[]}b.prototype.Oe=function(){return!0};b.prototype.next=function(){if(this.So){this.So=!1;this.Bd.ba();var b=a.T.me(this.fr);return b=a.Cg.ql(b,this.$a.pr,!0,!0,this.$a.mc)}null==this.Bd&&(this.Bd=this.ex.Fa(),this.Bd.Ya(),null!=this.Yo&&this.Yo.Gl(null,0));if(!this.Bd.Ea()){if(!this.Bd.Ya())return null;null!=this.Yo&&this.Yo.Gl(null,0)}b=null;this.Wk[0]=0;this.oB=this.Pw[0]=0;this.Ei=NaN;this.So=!1;for(var h=this.Yk.length=0,m=new a.b,g=new a.b,
e=[0];this.Bd.Ea()&&8>this.oB;){var f=this.Bd.ba();m.L(f.ec());g.L(f.Ac());m.scale(this.$a.oc);g.scale(this.$a.oc);a.Ij.Fv(m,g)?m.x=g.x:a.Ij.Dv(m,g)&&(g.x=m.x);this.Yk.length=0;a.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,m,g,this.$a.yB,this.$a.Vt,e,this.kk,this.Et,this.Yk,this.Pw);null!=this.Yo&&(f=this.Yk.slice(0),this.Yo.sH(this.Yo.aa()-1,f,f.length-1));a.Ij.Ev(m,g)?(this.fr.Oa(),this.$a.Vy(m,this.am,this.fr),this.So=!0):(this.fr.Oa(),this.So=this.bz(e[0],this.fr));if(this.So){this.Bd.Mi();if(this.Bd.rA()){this.Bd.Mi();
this.Bd.ba();break}this.Bd.dX();break}null==b&&(b=new a.Ja,b.Gl(null,0));this.fF(b);h++}this.Pw[0]=0;if(0<h){for(e=this.Bd.Db();0<h;)this.Bd.Mi(),m.L(this.ex.Ba(this.Bd.Db())),g.L(this.ex.Ba(this.Bd.Lk())),m.scale(this.$a.oc),g.scale(this.$a.oc),this.am&&(a.Ij.Fv(m,g)?m.x=g.x:a.Ij.Dv(m,g)&&(g.x=m.x)),this.Yk.length=0,a.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,g,m,this.$a.yB,this.$a.Vt,null,this.kk,this.Et,this.Yk,this.Pw),this.fF(b),h--;m.L(this.ex.Ba(this.Bd.Db()));m.scale(this.$a.oc);c.Ds(this.$a.Vb,
this.$a.rc,this.$a.oc,this.$a.wb,m,this.Ei+1.570796326794897,this.Ei+4.71238898038469,this.$a.Wo,this.am,this.Wk,b,NaN,NaN);this.Bd.Tb(e);this.Bd.ba();h=a.na.$g(null,b,!0);return b=a.Cg.ql(b,h,!0,!0,this.$a.mc)}this.So=!1;this.Bd.ba();b=a.T.me(this.fr);return b=a.Cg.ql(b,this.$a.pr,!0,!0,this.$a.mc)};b.prototype.fF=function(b){var d=this.Yk[0],m,g=this.kk[0]-1.570796326794897,e=this.Et[0]+1.570796326794897,f;if(!isNaN(this.Ei)){this.Ei>=this.kk[0]?(m=this.Ei+1.570796326794897,g=m+3.141592653589793-
(this.Ei-this.kk[0])):(m=this.Ei+1.570796326794897,g=m+3.141592653589793-(6.283185307179586-(this.kk[0]-this.Ei)));f=this.Ei>=this.kk[0]&&3.141592653589793>=this.Ei-this.kk[0]?!1:this.Ei<this.kk[0]&&3.141592653589793<=this.kk[0]-this.Ei?!1:!0;var k=!1;if(Math.abs(g-m)<=.5*this.$a.Wo)if(f){var w=b.Ba(b.D()-2);w.scale(this.$a.oc);var l=new a.da(0);a.mb.Iz(this.$a.Vb,this.$a.rc,d.x,d.y,w.x,w.y,l);for(w=l.j;w<=m;)w+=6.283185307179586;for(;w>m;)w-=6.283185307179586;w<g&&(k=!0)}else k=!0;k?(b.fC(0,b.D()-
1),this.am||(d=new a.b,d.L(b.Ba(b.D()-1)),d.scale(this.$a.oc),-3.141592653589793>d.x-this.Wk[0]?this.Wk[0]-=6.283185307179586:3.141592653589793<d.x-this.Wk[0]&&(this.Wk[0]+=6.283185307179586)),f||(g=.5*(g+m))):(f?(m=new a.b,m.L(d),m.scale(1/this.$a.oc),b.Wf(0,-1,m)):c.Ds(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.Yk[0],m,g,this.$a.Wo,this.am,this.Wk,b,NaN,NaN),this.oB+=1)}c.Uy(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.$a.Xe,this.Yk,g,e,this.am,this.Wk,b);this.Ei=this.Et[0]};b.prototype.bz=
function(a,b){return this.$a.bz(this.Yk,a,this.kk[0],this.Et[0],this.am,b)};b.prototype.Ia=function(){return 0};return b}(),c=function(){function b(){}b.buffer=function(d,c,m,g,e,f){if(null==d)throw a.g.F("Geometry::Geodesic_bufferer::buffer");if(d.u())return new a.Ja(d.description);var h=new b;h.lh=c;h.Pc=a.fb.lc(c);var q=a.fb.hw(h.Pc);h.mc=f;h.Vb=a.fb.Sv(h.Pc);h.rc=q*(2-q);h.oc=h.Pc.Td().Bi;h.ta=h.lh.Ho();h.pr=h.Pc.Ho();h.Vt=h.pr*h.oc;h.or=1.570796326794897/h.oc;h.j_=3.141592653589793/h.oc;h.Gt=
6.283185307179586/h.oc;h.k_=h.Gt/6;h.tB=0;h.i_=1.5707963267948966*h.Vb/h.tB;4==m?(h.Xe=2,h.Jw=!0):(h.Xe=m,h.Jw=!1);h.Pa=g;h.wb=Math.abs(g);isNaN(e)||.001>e?h.XX():h.Vo=e;m=d.G();a.T.Nc(m)?(m=new a.Ua(d.description),m.cc(d,!0),d=m,m=1607):197==m&&(m=new a.h,d.s(m),m.O()<=h.ta||m.ea()<=h.ta?(m=new a.Ua(d.description),m.hd(d,!1),d=m,m=1607):(m=new a.Ja(d.description),m.hd(d,!1),d=m,m=1736));h.YX();a.T.Po(m)||h.ZX();if(h.wb<=.5*h.Vo)return 1736!=m?new a.Ja(d.description):h.Jw?d:a.Ij.Js(d,h.lh,h.Xe,h.yB,
-1,f);if(0>h.Pa&&1736!=m)return new a.Ja(d.description);h.Jw&&a.T.Hc(m)?(c=a.Ij.Js(d,c,4,NaN,h.Vo,f),d=a.fb.Vg(c,h.lh,h.Pc,f)):d=a.fb.Vg(d,h.lh,h.Pc,f);d=a.gi.Qj(d,h.Pc);if(d.u())return new a.Ja(d.description);!h.Jw&&a.T.Hc(m)&&(d=a.Ij.nJ(h.oc,d));d=b.UY(d,h.Pc);switch(m){case 1736:f=h.tP(d);break;case 1607:f=h.uP(d);break;case 550:f=h.rP(d);break;case 33:f=h.sP(d);break;default:throw a.g.X("corrupted_geometry");}h=a.fb.Vg(f,h.Pc,h.lh,h.mc);h.tm(d.description);return h};b.prototype.tP=function(b){var d=
new a.Ja;b=new e(this,b,d);b=a.ei.local().V(b,this.Pc,this.mc).next();b=a.bq.Rj(b,this.Pc,2);var c=new a.Gd;c.scale(1/this.oc,1/this.oc);d.Vc(c);d=a.bq.Rj(d,this.Pc,2);return 0<=this.Pa?a.ei.local().V(d,b,this.Pc,this.mc):a.eq.local().V(d,b,this.Pc,this.mc)};b.prototype.uP=function(b){b=new e(this,b,null);b=a.ei.local().V(b,this.Pc,this.mc).next();return b=a.bq.Rj(b,this.Pc,2)};b.prototype.rP=function(b){b=new g(this,b);b=a.ei.local().V(b,this.Pc,this.mc).next();return b=a.bq.Rj(b,this.Pc,2)};b.prototype.sP=
function(b){b=b.w();b.scale(this.oc);var d=new a.Ja;this.Vy(b,!1,d);return d=a.bq.Rj(d,this.Pc,2)};b.prototype.bz=function(d,c,m,g,e,f){var h=d[0],q=d[d.length-1],k=h.y>q.y?h.y:q.y,C=a.C.q(this.Vb,this.rc,h.y<q.y?h.y:q.y),k=a.C.q(this.Vb,this.rc,k);if(.001<this.tB-(C+c+this.wb)&&.001<this.tB+(k-c-this.wb))return!1;c=m-1.570796326794897;m=g+1.570796326794897;var C=c-3.141592653589793,k=c+3.141592653589793,F=m+3.141592653589793,w=[NaN],l=[NaN],n=[NaN],p=[NaN];g=!1;b.jD(this.Vb,this.rc,this.wb,h,c,C,
q,m,w,l);b.jD(this.Vb,this.rc,this.wb,q,F,m,h,C,n,p);m<w[0]&&w[0]<F?g=!0:m<l[0]&&l[0]<F&&(g=!0);g||(C<n[0]&&n[0]<c?g=!0:C<p[0]&&p[0]<c&&(g=!0));if(!g&&e)return!1;for(var r=[],t=d.length-1;0<=t;t--)r.push(d[t]);f.Oa();f.Gl(null,0);t=[0];b.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,d,c,m,e,t,f);b.Ds(this.Vb,this.rc,this.oc,this.wb,q,m,F,this.Wo,e,t,f,w[0],l[0]);b.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,r,F,k,e,t,f);b.Ds(this.Vb,this.rc,this.oc,this.wb,h,C,c,this.Wo,e,t,f,n[0],p[0]);d=!1;e||(d=this.OF(this.oc,
f));return g||d};b.prototype.Vy=function(a,c,m){m.Oa();m.Gl(null,0);b.Ds(this.Vb,this.rc,this.oc,this.wb,a,-this.Wo,6.283185307179586,this.Wo,c,[0],m,NaN,NaN);c||this.OF(this.oc,m)};b.prototype.OF=function(a,b){var d=this.VP(a,b);a=this.WP(a,b);return d||a};b.prototype.VP=function(b,c){var d=c.D(),h=!1,g=new a.h;c.s(g);if(!a.l.W(g.B*b,1.570796326794897)&&!a.l.W(g.A*b,-1.570796326794897))return!1;for(var e=new a.b,d=d-1;0<=d;d--)c.w(d,e),e.y==g.B&&a.l.W(e.y*b,1.570796326794897)?(h=!0,this.wJ(e,d,c)):
e.y==g.A&&a.l.W(e.y*b,-1.570796326794897)&&(h=!0,this.wJ(e,d,c));return h};b.prototype.WP=function(a,b){var d=b.Ba(0),c=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(d.x-c.x)*a?(this.qW(b),!0):this.UP(b)};b.prototype.UP=function(a){return 0>a.ef()?(this.pW(a),!0):!1};b.prototype.wJ=function(b,c,m){var d=m.D(),h=0<c?c-1:d-1,d=m.Ba(c<d-1?c+1:0),h=m.Ba(h);if(!a.l.W(d.y,b.y)&&!a.l.W(d.x,b.x)){var g=new a.b;g.ja(d.x,b.y);m.rb(c,g)}a.l.W(h.y,b.y)||a.l.W(h.x,b.x)||(d=new a.b,d.ja(h.x,b.y),m.Wf(0,c,d))};
b.prototype.qW=function(b){var d=new a.Ja,c=new a.Ja,g=new a.Gd,e=b.Ba(0),f=b.Ba(b.D()-1),k=new a.b;e.x>f.x?(f=this.or,g.zg(-this.Gt,0)):(f=-this.or,g.zg(this.Gt,0));d.add(b,!1);b.Oa();c.add(d,!1);c.Vc(g);e=new a.h;c.s(e);e.P((this.Gt-e.O())/2,0);e.A=-this.or;e.B=this.or;for(var w=0;w<c.D();w++)c.w(w,k),d.Wf(0,-1,k);c.Vc(g);for(w=0;w<c.D();w++)c.w(w,k),d.Wf(0,-1,k);c=d.Ba(0);g=d.Ba(d.D()-1);k.ja(g.x,f);d.Wf(0,-1,k);k.ja(.5*(g.x+c.x),f);d.Wf(0,-1,k);k.ja(c.x,f);d.Wf(0,-1,k);d=a.gi.jt(d,this.Pc,2,!0,
e.o);d=a.gi.jt(d,this.Pc,2,!0,e.v);d=a.le.clip(d,e,this.pr,NaN);b.add(d,!1)};b.prototype.pW=function(b){var d=new a.h;b.s(d);d.P((this.Gt-d.O())/2,0);d.A=-this.or;d.B=this.or;b.Gl(null,0);var c=new a.b;c.ja(d.o,d.A);b.Wf(1,-1,c);c.ja(d.o,d.B);b.Wf(1,-1,c);c.ja(.5*(d.o+d.v),d.B);b.Wf(1,-1,c);c.ja(d.v,d.B);b.Wf(1,-1,c);c.ja(d.v,d.A);b.Wf(1,-1,c);c.ja(.5*(d.o+d.v),d.A);b.Wf(1,-1,c)};b.Uy=function(d,c,m,g,e,f,k,w,l,n,p){var h=null;l||(h=new a.b,h.Yc(),0<p.D()&&(h.L(p.Ba(p.D()-1)),h.scale(m)));var q=new a.da(0),
C=new a.da(0),F=new a.da(0),H=new a.b,X=new a.b,da=f[f.length-1];m=1/m;for(var r=0;r<f.length;r++){var t=f[r],U;0==r?U=k:r==f.length-1?U=w:(a.mb.Kd(d,c,da.x,da.y,t.x,t.y,null,null,q,e),U=q.j-1.570796326794897);a.mb.Yi(d,c,t.x,t.y,g,U,C,F);l?X.ja(C.j,F.j):(H.ja(C.j,F.j),b.nE(t.x,H.x,h.x,n),X.ja(n[0]+H.x,H.y),h.L(X));X.scale(m);p.Wf(0,-1,X)}};b.Ds=function(d,c,m,g,e,f,k,w,l,n,p,r,t){if(!(k-f<w)){var h=new a.da(0),q=new a.da(0),C=new a.b,F=new a.b,H=null;l||(H=new a.b,H.Yc(),0<p.D()&&(H.L(p.Ba(p.D()-
1)),H.scale(m)));var X=a.J.truncate(Math.ceil(f/w)),da=X++*w;da==f&&(da=X++*w);for(m=1/m;da<k+w;){f<r&&r<da?(da=r,X--):f<t&&t<da&&(da=t,X--);if(da>=k)break;a.mb.Yi(d,c,e.x,e.y,g,da,h,q);l?F.ja(h.j,q.j):(C.ja(h.j,q.j),b.nE(e.x,C.x,H.x,n),F.ja(n[0]+C.x,C.y),H.L(F));F.scale(m);p.Wf(0,-1,F);f=da;da=X++*w}}};b.jD=function(b,c,m,g,e,f,k,w,l,n){var d=new a.b,h=new a.b,q=new a.da(0),C=new a.da(0);a.mb.Yi(b,c,g.x,g.y,m,e,q,C);d.ja(q.j,C.j);a.mb.Yi(b,c,g.x,g.y,m,f,q,C);h.ja(q.j,C.j);m=new a.da(0);a.mb.Iz(b,
c,k.x,k.y,d.x,d.y,m);l[0]=m.j;a.mb.Iz(b,c,k.x,k.y,h.x,h.y,m);for(n[0]=m.j;l[0]<=n[0];)l[0]+=6.283185307179586;for(;l[0]>n[0];)l[0]-=6.283185307179586;for(;l[0]>=w;)l[0]-=6.283185307179586,n[0]-=6.283185307179586;for(;l[0]<w;)l[0]+=6.283185307179586,n[0]+=6.283185307179586};b.nE=function(a,b,c,g){if(isNaN(c)){for(;3.141592653589793<g[0]+b-a;)g[0]-=6.283185307179586;for(;3.141592653589793<a-(g[0]+b);)g[0]+=6.283185307179586}else 3.141592653589793<g[0]+b-c?g[0]-=6.283185307179586:3.141592653589793<c-
(g[0]+b)&&(g[0]+=6.283185307179586)};b.UY=function(b,c){var d=b.G(),h;a.T.Hc(d)?h=b.aa():550==d?h=b.D():h=1;if(1==h)return b;var g=new a.ha(0);g.resize(h);for(var e=[],f=new a.h,k=0;k<h;k++){g.write(k,k);var w;a.T.Hc(d)?(b.nk(k,f),w=f.Tf()):w=b.Ba(k);w=a.dM.xY(c,w);e[k]=w}g.Fd(0,g.size,function(a,b){return e[a]<e[b]?-1:e[a]>e[b]?1:0});f=b.Ka();for(k=0;k<h;k++)w=g.read(k),a.T.Hc(d)?f.Ui(b,w,!0):f.Hd(b,w,w+1);return f};b.prototype.YX=function(){var b=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),
b=Math.min(b,.39269908169872414*this.Vb),c=new a.b;c.ja(0,10*this.oc);var m=45*this.oc,g=new a.da(0),e=new a.da(0),f=new a.da(0),k=new a.da(0),w=new a.da(0),l=new a.da(0),n=new a.da(0),p=new a.da(0),r=new a.b,t=new a.b,u=new a.b,v=new a.b;a.mb.Yi(this.Vb,this.rc,c.x,c.y,b,0,g,e);r.ja(g.j,e.j);a.mb.Yi(this.Vb,this.rc,c.x,c.y,b,m,f,k);t.ja(f.j,k.j);for(var g=new a.da(0),e=new a.da(0),x=new a.da(0);;){a.mb.Yi(this.Vb,this.rc,c.x,c.y,b,.5*(0+m),w,l);u.ja(w.j,l.j);a.mb.Kd(this.Vb,this.rc,r.x,r.y,t.x,t.y,
g,e,null,2);a.mb.Sj(this.Vb,this.rc,r.x,r.y,.5*g.j,e.j,n,p,2);v.ja(n.j,p.j);a.mb.Kd(this.Vb,this.rc,u.x,u.y,v.x,v.y,x,null,null,2);if(x.j<=this.Vo)break;m*=.9;a.mb.Yi(this.Vb,this.rc,c.x,c.y,b,m,f,k);t.ja(f.j,k.j)}this.Wo=6.283185307179586/Math.ceil(6.283185307179586/(m-0))};b.prototype.ZX=function(){var b=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),b=Math.min(b,.39269908169872414*this.Vb),c=new a.b,m=new a.b;c.ja(0,10*this.oc);m.ja(10*this.oc,10*this.oc);var g=new a.da(0),e=new a.da(0),f=
new a.da(0);a.mb.Kd(this.Vb,this.rc,c.x,c.y,m.x,m.y,f,g,e,this.Xe);var k=new a.da(0),w=new a.da(0),l=new a.da(0),n=new a.da(0),p=new a.b,r=new a.da(0),t=new a.da(0),u=new a.da(0),v=new a.da(0),x=new a.da(0),z=new a.da(0),y=new a.da(0),A=new a.da(0),B=new a.da(0),D=new a.b,E=new a.b,J=new a.b,G=new a.b,L=1,g=g.j,e=e.j+1.570796326794897,f=f.j;a.mb.Yi(this.Vb,this.rc,c.x,c.y,b,g-1.570796326794897,t,u);D.ja(t.j,u.j);a.mb.Yi(this.Vb,this.rc,m.x,m.y,b,e,v,x);E.ja(v.j,x.j);for(var t=new a.da(0),u=new a.da(0),
e=new a.da(0),I=new a.da(0);;){a.mb.Sj(this.Vb,this.rc,c.x,c.y,.5*(0+L)*f,g,k,w,this.Xe);p.ja(k.j,w.j);a.mb.Kd(this.Vb,this.rc,c.x,c.y,p.x,p.y,null,null,r,this.Xe);a.mb.Yi(this.Vb,this.rc,p.x,p.y,b,r.j+1.570796326794897,z,y);J.ja(z.j,y.j);a.mb.Kd(this.Vb,this.rc,D.x,D.y,E.x,E.y,t,u,null,2);a.mb.Sj(this.Vb,this.rc,D.x,D.y,.5*t.j,u.j,A,B,2);G.ja(A.j,B.j);a.mb.Kd(this.Vb,this.rc,J.x,J.y,G.x,G.y,e,null,null,2);if(e.j<=this.Vo)break;L*=.9;a.mb.Sj(this.Vb,this.rc,c.x,c.y,L*f,g,l,n,this.Xe);m.ja(l.j,n.j);
a.mb.Kd(this.Vb,this.rc,c.x,c.y,m.x,m.y,null,null,I,this.Xe);a.mb.Yi(this.Vb,this.rc,m.x,m.y,b,I.j+1.570796326794897,v,x);E.ja(v.j,x.j)}b=L*f;1E5<b&&(b=1E5);this.yB=b};b.prototype.XX=function(){var a;a=5E4<this.wb?100:1E4<this.wb?10:1;500>this.wb/a&&(a=this.wb/500);.01>a&&(a=.01);this.Vo=a};return b}();a.bM=c})(y||(y={}));(function(a){var g=function(){function g(){}g.tb=function(c,b){var d=new a.b;d.L(b);c.push(d)};g.Dj=function(a,b){a.add(b.x);a.add(b.y)};g.SC=function(a){a.uf(a.size-2)};g.$C=function(a,
b){b.ja(a.get(a.size-2),a.get(a.size-1))};g.Js=function(c,b,d,h,m,q){if(null==c)throw a.g.F();var e=c.G();if(c.u()||a.T.Po(e))return c;var f=new g;f.lh=b;f.Pc=a.fb.lc(b);var k=a.fb.hw(f.Pc);f.mc=q;f.Vb=a.fb.Sv(f.Pc);f.rc=k*(2-k);f.oc=f.Pc.Td().Bi;f.pr=f.Pc.Ho();f.Vt=f.pr*f.oc;f.jB=h;f.iB=m;f.Xe=d;197==e?(d=new a.Ja(c.description),d.hd(c,!1)):a.T.Nc(e)?(d=new a.Ua(c.description),d.cc(c,!0)):d=c;if(4!=f.Xe){b=0==f.lh.Eb(f.Pc)?a.fb.Vg(d,f.lh,f.Pc,q):a.gi.Qj(d,f.Pc);if(b.u())return b;b=g.nJ(f.oc,b);b=
f.Jz(b);b=a.bq.Rj(b,f.Pc,f.Xe);f=a.fb.Vg(b,f.Pc,f.lh,q)}else{2==a.ve.Fb(b)?(c=a.fb.Ok(b),q=a.wk.local().V(d,c,b,q),q==c&&(q=new a.Ja,c.copyTo(q))):q=a.gi.Qj(d,f.Pc);b=q;if(b.u())return b;f=f.aY(b)}return f};g.nJ=function(c,b){var d=new a.h;b.ac(d);if(3.141592653589793>d.O()*c)return b;for(var h=!1,d=b.Fa(),m=new a.b,q=new a.b;d.Ya();)for(;d.Ea();){var e=d.ba();m.L(e.ec());q.L(e.Ac());m.scale(c);q.scale(c);if(3.141592653589793<Math.abs(m.x-q.x)){var f=g.Ev(m,q);if(!f){h=!0;break}if(6.283185307179586<
Math.abs(m.x-q.x)){h=!0;break}}}if(!h)return b;var h=b.Ka(),k=1<b.description.Ga,l=new a.b,w=new a.b,n=new a.b,p=new a.b,r=new a.Wa;for(d.zj();d.Ya();)for(var t=NaN,u=[0];d.Ea();){e=d.ba();m.L(e.ec());q.L(e.Ac());m.scale(c);q.scale(c);isNaN(t)?(g.ad(m.x,NaN,u),w.L(m)):w.L(n);t=w.x;if(f=g.Ev(m,q)){if(6.283185307179586<q.x-m.x)for(;6.283185307179586<q.x-m.x;)q.x-=6.283185307179586;if(-6.283185307179586>q.x-m.x)for(;-6.283185307179586>q.x-m.x;)q.x+=6.283185307179586;g.ad(q.x,NaN,u);n.L(q)}else l.L(q),
g.KU(l),g.ad(l.x,t,u),n.ja(u[0]+l.x,l.y);.5>Math.abs(n.x-q.x)&&n.L(q);k?(e.Fx(0,r),p.L(w),p.scale(1/c),r.rb(p),(f=d.pn())?h.Of(r):h.lineTo(r),d.Oo()&&!b.Qb(d.Ta)&&(e.Fx(1,r),p.L(n),p.scale(1/c),r.rb(p),h.lineTo(r))):((f=d.pn())&&h.uA(null,0),e=h.aa()-1,p.L(w),p.scale(1/c),h.Wf(e,-1,p),d.Oo()&&!b.Qb(d.Ta)&&(p.L(n),p.scale(1/c),h.Wf(e,-1,p)))}return h};g.yG=function(c,b,d,h,m,q,e,f,k,l,w,n){var C=new a.b,F=new a.b,H=0<h.compare(m);g.hE(H,h,m,C,F);g.vE(c,b,d,C,F,q,NaN,e,f,k,l,null,w,n);H&&g.aD(k,l,null,
w)};g.prototype.Jz=function(c){var b=c.Ka(),d=c.Fa(),h=[],m=null,q=null,e=1<c.description.Ga;e&&(m=new a.Pd(0),q=new a.Bg);for(var f=[0],k=new a.b,l=new a.b,w=new a.b,n=new a.b;d.Ya();)for(f[0]=0;d.Ea();){var p=d.ba();k.L(p.ec());l.L(p.Ac());k.scale(this.oc);l.scale(this.oc);var r=0<k.compare(l);g.hE(r,k,l,w,n);h.length=0;null!=m&&m.uf(0);0<this.jB?g.vE(this.Vb,this.rc,this.Xe,w,n,this.jB,this.iB,this.Vt,null,null,null,e?m:null,h,f):g.fN(this.Vb,this.rc,this.Xe,w,n,this.iB,this.Vt,e?m:null,h,f);r&&
g.aD(null,null,e?m:null,h);h[0].L(p.ec());h[h.length-1].L(p.Ac());for(var t=1;t<h.length-1;t++)h[t].scale(1/this.oc);e?(r=g.fE(r,p,q),g.CD(d.pn(),d.Oo()&&!c.Qb(d.Ta),p,r,m,h,b)):g.AD(d.pn(),d.Oo()&&!c.Qb(d.Ta),h,b)}return b};g.prototype.aY=function(c){var b=c.Ka(),d=c.Fa(),h=[],m=null,q=new a.Bg,e=1<c.description.Ga;for(e&&(m=new a.Pd(0));d.Ya();)for(;d.Ea();){var f=d.ba(),k=f.ec(),l=f.Ac(),k=0<k.compare(l),l=g.fE(k,f,q);h.length=0;null!=m&&m.uf(0);g.vY(this.Vb,this.rc,this.oc,l,this.lh,this.jB,this.iB,
e?m:null,h);k&&g.aD(null,null,e?m:null,h);e?g.CD(d.pn(),d.Oo()&&!c.Qb(d.Ta),f,l,m,h,b):g.AD(d.pn(),d.Oo()&&!c.Qb(d.Ta),h,b)}return b};g.AD=function(a,b,d,h){a&&h.uA(null,0);a=h.aa()-1;var c=d.slice(0);h.sH(a,c,c.length-1);b&&h.Wf(a,-1,d[d.length-1])};g.CD=function(c,b,d,h,m,g,e){var q=new a.Wa;d.Kp(q);c?e.Of(q):e.lineTo(q);if(2<g.length){c=h.Rb();for(var f=1;f<g.length-1;f++){var k=h.PH(m.get(f)*c);h.Fx(k,q);q.rb(g[f]);e.lineTo(q)}}b&&(d.Ip(q),e.lineTo(q))};g.vE=function(c,b,d,h,m,q,e,f,k,l,w,n,p,
r){var C=new a.da(0),F=new a.da(0),H=new a.da(0);a.mb.Kd(c,b,h.x,h.y,m.x,m.y,H,C,F,d);var H=H.j,X=C=C.j,F=F.j;0>X&&(X+=6.283185307179586);0>F&&(F+=6.283185307179586);null!=k&&(k[0]=H);null!=l&&(l[0]=X);null!=w&&(w[0]=F);l=k=NaN;null!=n&&(l=a.C.Wg(c,b),w=a.C.q(c,b,h.y),k=(l-w)/H,l=(l+w)/H);w=g.Fv(h,m);var F=g.Dv(h,m),X=w||F,da=g.eE(h,m,f),t=new a.da(0),u=new a.da(0),U=new a.b,oa=new a.b,v=new a.b;g.ad(h.x,NaN,r);var pa=[r[0]];if(H<=q)g.tb(p,h),g.ad(m.x,NaN,r),null!=n&&n.add(0),X?(w&&g.ZC(h,m,n,p),
F&&g.TC(h,m,n,p)):da?g.UC(h,m,C,k,l,n,p):0<e&&(oa.ja(h.x-pa[0],h.y),U.ja(m.x-r[0],m.y),g.Gz(c,b,d,h,H,C,oa,U,0,1,e,n,p,pa)),g.tb(p,m);else{q=1+a.J.truncate(Math.ceil(H/q));var x=H/(q-1),z=new a.b,y=0;g.tb(p,h);z.L(h);oa.ja(h.x-r[0],h.y);null!=n&&n.add(0);for(var A=1;A<q;A++){var B;A<q-1?(a.mb.Sj(c,b,h.x,h.y,A*x,C,t,u,d),U.ja(t.j,u.j),g.ad(U.x,z.x,r),v.ja(r[0]+U.x,U.y),B=A/(q-1)):(g.ad(m.x,NaN,r),U.ja(m.x-r[0],m.y),v.L(m),B=1);X?(1==A&&w&&g.ZC(h,v,n,p),A==q-1&&F&&g.TC(z,m,n,p)):da?g.cE(z,v,f)&&(h.x<
m.x?z.x>v.x&&(r[0]+=6.283185307179586,v.ja(r[0]+U.x,U.y)):z.x<v.x&&(r[0]-=6.283185307179586,v.ja(r[0]+U.x,U.y)),g.UC(z,v,C,k,l,n,p)):0<e&&g.Gz(c,b,d,h,H,C,oa,U,y,B,e,n,p,pa);g.tb(p,v);null!=n&&n.add(B);z.L(v);oa.L(U);pa[0]=r[0];y=B}}};g.fN=function(c,b,d,h,m,q,e,f,k,l){var C=new a.da(0),F=new a.da(0),H=new a.da(0);a.mb.Kd(c,b,h.x,h.y,m.x,m.y,H,C,F,d);var F=H.j,C=C.j,w=H=NaN;if(null!=f)var w=a.C.Wg(c,b),n=a.C.q(c,b,h.y),H=(w-n)/F,w=(w+n)/F;var n=g.Fv(h,m),p=g.Dv(h,m),X=n||p;e=g.eE(h,m,e);var r=g.Ev(h,
m),r=X||e||r;g.ad(h.x,NaN,l);var t=new a.b;g.tb(k,h);t.L(h);null!=f&&f.add(0);r?(X?(n&&g.ZC(h,m,f,k),p&&g.TC(h,m,f,k)):e&&g.UC(h,m,C,H,w,f,k),g.ad(m.x,NaN,l),g.tb(k,m)):F<=q?(g.ad(m.x,NaN,l),g.tb(k,m)):(H=new a.b,e=new a.b,H.L(h),e.L(m),H.x-=l[0],e.x-=l[0],-3.141592653589793>e.x?e.x+=6.283185307179586:3.141592653589793<e.x&&(e.x-=6.283185307179586),g.Gz(c,b,d,h,F,C,H,e,0,1,q,f,k,l),g.tb(k,m),g.ad(m.x,NaN,l));null!=f&&f.add(1)};g.Gz=function(c,b,d,h,m,q,e,f,k,l,w,n,p,r){var C=new a.b,F=new a.b;C.ja(e.x+
r[0],e.y);new a.da(0);new a.da(0);new a.da(0);new a.da(0);var H=new a.da(0),X=new a.da(0),da=new a.da(0),t=new a.b,u=new a.b,U=new a.b,oa=new a.b;t.L(e);u.L(f);e=new a.Pd(0);f=new a.Pd(0);g.Dj(e,u);f.add(l);var v=new a.b,pa=new a.Hb,x=[];for(g.rE(4,x);0<e.size;){for(var z=!1,y,A=NaN,B=0;3>B;B++)if(y=x[B]*l+(1-x[B])*k,a.mb.Sj(c,b,h.x,h.y,y*m,q,H,X,d),U.ja(H.j,X.j),0==B&&(A=y,oa.L(U)),g.kX(t,U,u,pa),pa.hc(pa.ne(U,!0),v),a.mb.Kd(c,b,U.x,U.y,v.x,v.y,da,null,null,2),da.j>w){z=!0;break}z?(u.L(oa),l=A,g.Dj(e,
u),f.add(l)):(g.SC(e),f.Hk(f.size-1,1,f.size-1),0<e.size&&(g.ad(u.x,C.x,r),F.ja(r[0]+u.x,u.y),g.tb(p,F),C.L(F),null!=n&&n.add(l),t.L(u),k=l,g.$C(e,u),l=f.get(f.size-1)))}};g.vY=function(c,b,d,h,m,q,e,f,k){var C=new a.b,F=new a.b,H=new a.b,l=new a.b,w=new a.b,n=new a.b,p=new a.b,r=new a.b,t=new a.b,u=new a.b,v=new a.da(0),x=new a.da(0),z=new a.b,y=[[],[]],A=1==a.ve.Fb(m);m=m.pe(0);var B=h.ec(),D=h.Ac();A?(n.ja(B.x*d,B.y*d),p.ja(D.x*d,D.y*d)):(y[0][0]=B.x,y[0][1]=B.y,y[1][0]=D.x,y[1][1]=D.y,a.fb.nu(),
n.x=y[0][0]*d,n.y=y[0][1]*d,p.x=y[1][0]*d,p.y=y[1][1]*d);var E=0,J=0,G=1,L=h.Mo();C.L(B);F.L(D);var D=new a.Pd(0),I=new a.Pd(0),M=new a.Pd(0);g.Dj(D,F);g.Dj(I,p);M.add(G);g.tb(k,C);null!=f&&f.add(J);var O=[],R;R=0<e?L?5:3:L?5:1;g.rE(R,O);for(var K=new a.da(0),N=new a.da(0),T=new a.da(0),P=new a.da(0),V=new a.da(0),Q=new a.da(0),ba=new a.da(0);0<I.size;){var S=!1,ea,W=NaN;a.mb.Kd(c,b,n.x,n.y,p.x,p.y,K,N,null,2);for(B=0;B<R;B++){if(0==B){if(!L&&0>=e&&K.j<=q&&3.141592653589793>Math.abs(n.x-p.x))break;
if(h.zy(J,G)<=m)break}ea=O[B]*G+(1-O[B])*J;h.hc(ea,H);A?r.ja(H.x*d,H.y*d):(y[0][0]=H.x,y[0][1]=H.y,a.fb.nu(),r.x=y[0][0]*d,r.y=y[0][1]*d);if(0==B&&(W=ea,w.L(H),u.L(r),0<q&&(K.j>q||3.141592653589793<=Math.abs(n.x-p.x)))){S=!0;break}if(L&&0<q){if(a.mb.Kd(c,b,n.x,n.y,r.x,r.y,T,null,null,2),T.j>q||3.141592653589793<=Math.abs(n.x-r.x)){S=!0;break}}else if(0<e)if(L?(l.kU(C,F,O[B]),A?t.ja(l.x*d,l.y*d):(y[0][0]=l.x,y[0][1]=l.y,a.fb.nu(),t.x=y[0][0]*d,t.y=y[0][1]*d)):(l.L(H),t.L(r)),a.mb.Kd(c,b,n.x,n.y,t.x,
t.y,P,null,null,2),P.j<=K.j){a.mb.Sj(c,b,n.x,n.y,P.j,N.j,v,x,2);z.ja(v.j,x.j);a.mb.Kd(c,b,z.x,z.y,r.x,r.y,V,null,null,2);if(V.j>e){S=!0;break}if(L){a.mb.Kd(c,b,z.x,z.y,t.x,t.y,Q,null,null,2);if(Q.j>e){S=!0;break}a.mb.Kd(c,b,t.x,t.y,r.x,r.y,ba,null,null,2);if(ba.j>e){S=!0;break}}}else{S=!0;break}}S?(F.L(w),p.L(u),G=W,g.Dj(D,F),g.Dj(I,p),M.add(G)):(g.SC(D),g.SC(I),M.Hk(M.size-1,1,M.size-1),g.tb(k,F),E+=K.j,null!=f&&f.add(E),0<I.size&&(C.L(F),n.L(p),J=G,g.$C(D,F),g.$C(I,p),G=M.get(M.size-1)))}if(null!=
f)for(c=1/E,B=0;B<f.size;B++)f.write(B,f.read(B)*c)};g.aD=function(a,b,d,h){h.reverse();null!=d&&d.Xd(0,d.size,1);d=null!=a?a[0]:NaN;h=null!=b?b[0]:NaN;null!=a&&(a[0]=h);null!=b&&(b[0]=d)};g.hE=function(a,b,d,h,m){a?(h.L(d),m.L(b)):(h.L(b),m.L(d))};g.fE=function(a,b,d){if(!a)return b;d.create(b.G());b.copyTo(d.get());d.get().reverse();return d.get()};g.ad=function(a,b,d){if(isNaN(b)){for(;3.141592653589793<d[0]-a;)d[0]-=6.283185307179586;for(;3.141592653589793<a-d[0];)d[0]+=6.283185307179586}else 3.141592653589793<
d[0]+a-b?d[0]-=6.283185307179586:3.141592653589793<b-(d[0]+a)&&(d[0]+=6.283185307179586)};g.kX=function(a,b,d,h){3.141592653589793>Math.abs(b.x-a.x)?(h.Lc(a),3.141592653589793<=d.x-a.x?h.Am(d.x-6.283185307179586,d.y):3.141592653589793<=a.x-d.x?h.Am(d.x+6.283185307179586,d.y):h.Am(d.x,d.y)):(h.Lc(d),3.141592653589793<=a.x-d.x?h.Am(a.x-6.283185307179586,a.y):3.141592653589793<=d.x-a.x?h.Am(a.x+6.283185307179586,a.y):h.Am(a.x,a.y))};g.rE=function(a,b){for(var d=0;d<a;d++){var c=Math.ceil(d/2)/(a+1);
0!=d%2&&(c=-c);b[d]=.5+c}};g.Fv=function(c,b){return a.l.W(c.y,1.570796326794897)&&!a.l.W(b.y,1.570796326794897)||a.l.W(c.y,-1.570796326794897)&&!a.l.W(b.y,-1.570796326794897)?!0:!1};g.Dv=function(c,b){return a.l.W(b.y,1.570796326794897)&&!a.l.W(c.y,1.570796326794897)||a.l.W(b.y,-1.570796326794897)&&!a.l.W(c.y,-1.570796326794897)?!0:!1};g.eE=function(c,b,d){return!g.cE(c,b,d)||a.l.W(c.y,1.570796326794897)||a.l.W(c.y,-1.570796326794897)||a.l.W(b.y,1.570796326794897)||a.l.W(b.y,-1.570796326794897)?
!1:!0};g.cE=function(a,b,d){return Math.abs(Math.abs(a.x-b.x)-3.141592653589793)<=d?!0:!1};g.Ev=function(c,b){return a.l.W(c.y,1.570796326794897)&&a.l.W(b.y,1.570796326794897)||a.l.W(c.y,-1.570796326794897)&&a.l.W(b.y,-1.570796326794897)?!0:!1};g.ZC=function(c,b,d,h){if(0<c.y){var m=new a.b;m.ja(b.x,1.570796326794897)}else m=new a.b,m.ja(b.x,-1.570796326794897);a.l.W(c.x,m.x)||a.l.W(b.y,m.y)||(g.tb(h,m),null!=d&&d.add(0))};g.TC=function(c,b,d,h){if(0<b.y){var m=new a.b;m.ja(c.x,1.570796326794897)}else m=
new a.b,m.ja(c.x,-1.570796326794897);a.l.W(b.x,m.x)||a.l.W(c.y,m.y)||(g.tb(h,m),null!=d&&d.add(1))};g.UC=function(c,b,d,h,m,q,e){a.l.wd(d)?(0<1.570796326794897-c.y&&(d=new a.b,d.ja(c.x,1.570796326794897),g.tb(e,d),null!=q&&q.add(h)),0<1.570796326794897-b.y&&(d=new a.b,d.ja(b.x,1.570796326794897),g.tb(e,d),null!=q&&q.add(h))):(0<1.570796326794897+c.y&&(d=new a.b,d.ja(c.x,-1.570796326794897),g.tb(e,d),null!=q&&q.add(m)),0<1.570796326794897+b.y&&(d=new a.b,d.ja(b.x,-1.570796326794897),g.tb(e,d),null!=
q&&q.add(m)))};g.KU=function(a){if(-3.141592653589793>a.x)for(;-3.141592653589793>a.x;)a.x+=6.283185307179586;if(3.141592653589793<a.x)for(;3.141592653589793<a.x;)a.x-=6.283185307179586};return g}();a.Ij=g})(y||(y={}));(function(a){var g=function(){function g(){}g.Rj=function(c,b,d){if(null==c||null==b||!a.fb.Ic(b))throw a.g.F();if(c.u())return c;var h=c,m=h.G();if(a.T.Hc(m)){h=a.gi.Qj(c,b);c=new a.h;h.s(c);for(var m=a.na.$d(b,c,!1),q=a.fb.Ch(b),e=Math.floor((c.o-q.o)/q.O())*q.O()+q.o;e<c.v;)e>c.o+
m&&e<c.v-m&&(h=a.gi.jt(h,b,d,!0,e)),e+=q.O()}else{if(197==m)return c=new a.Ja(h.description),c.hd(h,!1),g.Rj(c,b,d);if(a.T.Nc(m))return c=new a.Ua(h.description),c.cc(h,!0),g.Rj(c,b,d)}return g.CM(h,b)};g.CM=function(c,b){if(null==c||null==b||!a.fb.Ic(b))throw a.g.F();if(c.u())return c;var d;d=c.G();197==d?(d=new a.Ja(c.description),d.hd(c,!1)):a.T.Nc(d)?(d=new a.Ua(c.description),d.cc(c,!0)):d=c;d=a.gi.Qj(d,b);return d.u()?d:1==a.ve.Fb(b)?a.gi.cn(d,b,0,d!=c,0):g.xM(d,b,d!=c)};g.xM=function(c,b,d){if(!a.fb.Ic(b))throw a.g.F();
if(c.u())return c;var h=a.fb.ce(b),m=0-180*h,h=360*h;2==a.ve.Fb(b)&&(m=a.fb.Ch(b),h=m.v,m=m.o,h-=m);return a.gi.Aq(c,m,h,b,d,0,!0)};return g}();a.bq=g})(y||(y={}));(function(a){var g=function(){function g(){}g.NN=function(a,b){var d=Math.abs(a%b);return isNaN(d)||d==a||d<=Math.abs(b)/2?d:0>a?-1*(d-b):0<a?1*(d-b):0*(d-b)};g.K=function(a){return 0>a?-a:a};g.Bb=function(a,b){return 0<=b?g.K(a):-g.K(a)};g.W=function(a,b){return a==b||g.K(a-b)<=g.cD*(1+(g.K(a)+g.K(b))/2)};g.wd=function(a){return 0==a||
g.K(a)<=g.cD};g.Xu=function(a){a=g.NN(a,g.Wy);return g.K(a)<=g.Xf?a:0>a?a+g.Wy:a-g.Wy};g.HA=function(a,b){a.j=g.Xu(a.j);b.j=g.Xu(b.j);g.K(b.j)>g.ro&&(a.j=g.Xu(a.j+g.Xf),b.j=g.Bb(g.Xf,b.j)-b.j)};g.Wg=function(a,b){b=Math.sqrt(1-b);b=(1-b)/(1+b);var d=b*b;return a/(1+b)*(1+d*(.25+d*(.015625+1/256*d)))*g.ro};g.sS=function(c,b,d,h,m){var q,e,f,k,l,n,w,p=0,r=n=0,t=0,u=0,v=0;l=0;var x,z,y;w=0;var A,B,D;y=new a.da;q=new a.da;if(null!=m)if(y.j=c,q.j=b,g.HA(y,q),c=y.j,b=q.j,y.j=d,q.j=h,g.HA(y,q),d=y.j,h=q.j,
d=g.Xu(d-c),g.W(b,h)&&(g.wd(d)||g.W(g.K(b),g.ro)))null!=m&&(m.j=0);else{if(g.W(b,-h)){if(g.W(g.K(b),g.ro)){null!=m&&(m.j=2*g.Wg(6378137,.0066943799901413165));return}if(g.W(g.K(d),g.Xf)){null!=m&&(m.j=2*g.Wg(6378137,.0066943799901413165));return}}if(g.wd(.0066943799901413165))u=Math.cos(b),v=Math.cos(h),null!=m&&(p=Math.sin((h-b)/2),n=Math.sin(d/2),w=2*Math.asin(Math.sqrt(p*p+u*v*n*n)),m.j=6378137*w);else{y=1-Math.sqrt(.9933056200098587);c=1-y;q=Math.atan(c*Math.tan(b));b=Math.sin(q);q=Math.cos(q);
e=Math.atan(c*Math.tan(h));h=Math.sin(e);e=Math.cos(e);k=f=d;B=0;D=1;A=d;for(z=!0;1==z;)B+=1,1==D&&(l=Math.sin(A),n=Math.cos(A),p=e*l,w=q*h-b*e*n,p=Math.sqrt(p*p+w*w),n=b*h+q*e*n,w=Math.atan2(p,n),r=1E-15>g.K(p)?q*e*l/g.Bb(1E-15,p):q*e*l/p,t=1-r*r,u=1E-15>g.K(t)?n-b*h/g.Bb(1E-15,t)*2:n-b*h/t*2,v=u*u,l=((-3*t+4)*y+4)*t*y/16),x=(1-l)*y*(w+l*p*(u+n*l*(2*v-1))),1==D?(A=d+x*r,1E-14>g.K(A-k)?z=!1:g.K(A)>g.Xf?(D=2,A=g.Xf,0>d&&(A=-A),r=0,t=1,f=k=2,w=g.Xf-g.K(Math.atan(b/q)+Math.atan(h/e)),p=Math.sin(w),n=
Math.cos(w),l=((-3*t+4)*y+4)*t*y/16,1E-14>g.K(r-f)?z=!1:(u=1E-15>g.K(t)?n-b*h/g.Bb(1E-15,t)*2:n-b*h/t*2,v=u*u)):(0>(A-k)*(k-f)&&5<B&&(A=(2*A+3*k+f)/6),f=k,k=A)):(r=(A-d)/x,0>(r-k)*(k-f)&&5<B&&(r=(2*r+3*k+f)/6),f=k,k=r,t=1-r*r,l=r*p/(q*e),n=-Math.sqrt(g.K(1-l*l)),A=Math.atan2(l,n),p=e*l,w=q*h-b*e*n,p=Math.sqrt(p*p+w*w),n=b*h+q*e*n,w=Math.atan2(p,n),l=((-3*t+4)*y+4)*t*y/16,1E-14>g.K(r-f)?z=!1:(u=1E-15>g.K(t)?n-b*h/g.Bb(1E-15,t)*2:n-b*h/t*2,v=u*u));null!=m&&(r=Math.sqrt(1+(1/(c*c)-1)*t),r=(r-1)/(r+1),
t=r*(1-.375*r*r),m.j=(1+r*r/4)/(1-r)*c*6378137*(w-t*p*(u+t/4*(n*(-1+2*v)-t/6*u*(-3+4*p*p)*(-3+4*v)))))}}};g.Xf=3.141592653589793;g.ro=1.5707963267948966;g.Wy=6.283185307179586;g.cD=3.552713678800501E-15;return g}();a.$L=g})(y||(y={}));(function(a){var g=function(){return function(a){this.re=a;this.nl=this.re.getCode();0>this.nl&&(this.nl=0)}}();a.uZ=g;var e=function(){function c(a){void 0===a&&(a=null);this.Lh=null;this.tn=!1;null!==a&&(this.Lh=new g(a))}c.prototype.Bc=function(){return null!=this.Lh?
this.Lh.nl:0};c.prototype.Sf=function(){var a=new c;this.copyTo(a);return a};c.prototype.copyTo=function(a){a.Lh=this.Lh;a.tn=this.tn};c.prototype.Wv=function(){var a=this.Sf();a.mt();return a};c.prototype.mt=function(){this.tn=!this.tn};c.prototype.jn=function(){return null!=this.Lh?this.Lh.re:null};c.prototype.pK=function(b){if(0>=b)throw a.g.F();if(b!=this.Bc()){b=a.Qf.geogtran(b);if(null==b)throw a.g.F("Geogtran not found.");this.Lh=new g(b)}};c.prototype.dH=function(){return null==this.Lh?null:
this.Lh.re.toString()};c.prototype.getName=function(){if(null==this.Lh||null==this.Lh.re)return"";var a="";this.tn&&(a+="~");return a+=this.Lh.re.getName()};c.prototype.TX=function(b){if(null==b)throw a.g.F();var d=null;try{d=a.Qf.fromString(a.Uc.PE_TYPE_GEOGTRAN,b)}catch(h){throw a.g.F();}this.Lh=new g(d)};c.prototype.Eb=function(a){return a==this?!0:a instanceof c&&(!(0>=this.Bc()||this.Bc()!=a.Bc())||this.jn().isEqual(a.jn()))?this.tn==a.tn:!1};c.prototype.toString=function(){var a=toString();
return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};c.create=function(a,d){var b=new c;b.pK(a);d&&b.mt();return b};c.eG=function(a,d){var b=new c;b.TX(a);d&&b.mt();return b};return c}();a.oo=e})(y||(y={}));(function(a){var g=function(){function a(){}a.pa=function(b,d,c,m){var h=new a;h.Bn=b;h.Cn=d;h.zI=c;h.AI=m;return h};a.Fs=function(a,d){return a.Bn==d.Bn?a.Cn==d.Cn?0:a.Cn<d.Cn?-1:1:a.Bn<d.Bn?-1:1};return a}(),e=function(){function c(){this.Hw=!1;this.BI=[];this.cB=
[];this.XH=this.Hw=this.WH=!1;this.kq()}c.Go=function(){null==c.wE&&(c.wE=new c);return c.wE};c.b_=function(){return c.Go().Hw};c.c_=function(){return c.Go().XH};c.eZ=function(a,d){if(a==d)return null;var b=c.Go();if(b.WH){var m=c.Bz(b.cB,a,d);return null!=m?m:null}m=c.Bz(b.cB,a,d);return null!=m?m:c.Bz(b.BI,a,d)};c.XY=function(b,d,c,m,g){var h=a.ky.create();if(0<b)try{var q=a.oo.create(b,d);if(0==q.Bc())return null;h.add(q);if(0<c){var e=a.oo.create(c,m);if(0==e.Bc())return null;h.add(e)}g&&(h=h.Wv())}catch(X){h=
null}return h};c.Bz=function(a,d,h){if(d==h||0==a.length)return null;for(var b=g.pa(d,h,0,0),q=!1,e=!1,f=0,k=0,l=-1,n=0;n<a.length;n++)if(0===g.Fs(b,a[n])){l=n;break}if(0>l||a[l].Bn!=b.Bn||a[l].Cn!=b.Cn){b=g.pa(h,d,0,0);d=-1;for(n=0;n<a.length;n++)if(0===g.Fs(b,a[n])){d=n;break}0<=d&&a[d].Bn==b.Bn&&a[d].Cn==b.Cn&&(f=a[d].zI,k=a[d].AI,e=q=!0)}else f=a[l].zI,k=a[l].AI,q=!1,e=!0;if(!e)return null;0==f&&(f=k,k=0);b=a=!1;0>f&&(f=-f,a=!0);0>k&&(k=-k,b=!0);return c.XY(f,a,k,b,q)};c.prototype.kq=function(){this.FE(this.BI)&&
(this.Hw=!0);this.FE(this.cB)&&(this.XH=!0);this.WH=!this.Hw};c.prototype.FE=function(a){try{for(var b=[],b=b.sort(g.Fs),c=0;c<b.length;c++)a.push(b[c])}catch(m){}return!0};c.yZ=function(){return null};return c}();a.tZ=e})(y||(y={}));(function(a){var g=function(){function a(){}a.prototype.Iy=function(a){this.Ii=a};a.prototype.QE=function(a){this.Mb=a};a.prototype.RE=function(a){this.tp=a};a.KF=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};a.IF=function(a){return a.u()||1607!=a.G()&&1736!=
a.G()||20>a.D()?!1:!0};a.JF=function(a){return a.u()||1607!=a.G()&&1736!=a.G()||20>a.D()?!1:!0};return a}();a.yl=g})(y||(y={}));(function(a){var g=function(){function g(){}g.EN=function(c){var b=new a.Ja;b.$x(c.dt(),c.ft());b.ak(c.dt(),c.et());b.ak(c.ct(),c.et());b.ak(c.ct(),c.ft());return b};g.Vg=function(c,b){return null===c?null:a.ns.local().V(c,b,null)};g.LY=function(c,b){var d=a.ei.local();c=new a.gd(c);return d.V(c,b,null).next()};g.an=function(c,b,d){return a.eq.local().V(c,b,d,null)};g.Wp=
function(c,b,d){return a.qy.local().V(c,b,d,null)};g.sY=function(c,b,d){var h=a.qy.local();c=new a.gd(c);b=new a.gd(b);d=h.V(c,b,d,null);for(h=[];null!=(b=d.next());)h.push(b);return h};g.Eb=function(c,b,d){return a.Jj.local().V(3,c,b,d,null)};g.mR=function(c,b,d){return a.Jj.local().V(4,c,b,d,null)};g.nU=function(c,b,d){var h=a.wk.local();c=new a.gd(c);b=new a.gd(b);d=h.V(c,b,d,null);for(h=[];null!=(b=d.next());)h.push(b);return h};g.jR=function(c,b,d){var h=a.eq.local();c=new a.gd(c);b=new a.gd(b);
d=h.V(c,b,d,null);for(h=[];null!=(b=d.next());)h.push(b);return h};g.Ma=function(c,b,d){return a.wk.local().V(c,b,d,null)};g.WY=function(c,b,d){return a.Jj.local().V(2,c,b,d,null)};g.contains=function(c,b,d){return a.Jj.local().V(1,c,b,d,null)};g.VQ=function(c,b,d){return a.Jj.local().V(16,c,b,d,null)};g.touches=function(c,b,d){return a.Jj.local().V(8,c,b,d,null)};g.TV=function(c,b,d){return a.Jj.local().V(32,c,b,d,null)};g.pU=function(c,b,d){return a.Jj.local().V(1073741824,c,b,d,null)};g.aC=function(c,
b,d,h){return a.TM.local().V(c,b,d,h,null)};g.Cb=function(c,b,d,h){var m=null;if(null!=d){if(m=d.Td(),null!=h&&m.Bc()!=h.Bc()&&m.sd!=h.sd)throw a.g.Dl();}else if(null!=h)throw a.g.F();c=a.LM.local().V(c,b,null);null!==m&&null!==h&&(c=a.$c.mi(c,m,h));return c};g.clip=function(c,b,d){return a.FM.local().V(c,a.h.pa(b.dt(),b.ft(),b.ct(),b.et()),d,null)};g.Ml=function(c,b,d){if(null==c||null==b)return null;c=a.HM.local().V(!0,c,b,d,null);for(b=[];null!=(d=c.next());)d.u()||b.push(d);return b.slice(0)};
g.mP=function(c,b,d,h,m,q,e,f){if(!0===m)return g.QW(c,b,d,h,q,e,f);m=d;if(null!=b){if(e=b.Td(),null!=h&&e.Bc()!=h.Bc()){if(e.sd!=h.sd)throw a.g.Dl();m=[];a.$c.cG(d,d.length,h,e,m)}}else if(null!=h)throw a.g.F();d=a.JD.local();if(q){c=new a.gd(c);b=d.V(c,b,m,q,null);for(c=[];null!=(q=b.next());)c.push(q);q=c.slice(0)}else for(q=[],h=0;h<c.length;h++)q[h]=d.V(c[h],b,m[h],null);return q};g.QW=function(c,b,d,h,m,g,e){if(null===b)throw a.g.F();if(null===h||void 0===h)h=4326!==b.Bc()?b.Td():a.$c.vh(9001);
if(0!==h.sd)throw a.g.F();a.$c.cG(d,d.length,h,a.$c.vh(9001),d);h=a.OD.local();if(m){c=new a.gd(c);b=h.V(c,b,g,d,e,!1,m,null);for(d=[];null!=(g=b.next());)d.push(g);m=d.slice(0)}else{m=[];for(var q=0;q<c.length;q++)m[q]=h.V(c[q],b,g,d[q],e,!1,null)}return m};g.buffer=function(c,b,d,h,m,g,e){var q=d;if(!1===m){if(null!=b){if(m=b.Td(),null!=h&&m.Bc()!=h.Bc()){if(m.sd!=h.sd)throw a.g.Dl();q=a.$c.mi(d,h,m)}}else if(null!=h)throw a.g.F();c=a.JD.local().V(c,b,q,null)}else{if(null===b)throw a.g.F();if(null===
h||void 0===h)h=4326!==b.Bc()?b.Td():a.$c.vh(9001);if(0!==h.sd)throw a.g.F();q=a.$c.mi(d,h,a.$c.vh(9001));c=a.OD.local().V(c,b,g,q,e,!1,null)}return c};g.RV=function(c,b,d,h,m,g,e){if(null!=b){var q=b.Td();if(null!=e&&q.Bc()!=e.Bc()){if(q.sd!=e.sd)throw a.g.Dl();d=a.$c.mi(d,e,q)}}else if(null!=e)throw a.g.F();c=new a.gd(c);b=a.RD.local().V(c,b,d,h,m,g,null);for(d=[];null!=(h=b.next());)d.push(h);return d.slice(0)};g.offset=function(c,b,d,h,m,g,e){if(null!=b){var q=b.Td();if(null!=e&&q.Bc()!=e.Bc()){if(q.sd!=
e.sd)throw a.g.Dl();d=a.$c.mi(d,e,q)}}else if(null!=e)throw a.g.F();return a.RD.local().V(c,b,d,h,m,g,null)};g.FQ=function(c){return a.LD.local().V(c,null)};g.GQ=function(c,b){var d=a.LD.local();c=new a.gd(c);d=d.V(c,b,null);for(c=[];null!=(b=d.next());)c.push(b);return c};g.bA=function(c,b,d){return a.oy.local().bA(c,b,d)};g.cA=function(c,b){return a.oy.local().cA(c,b)};g.dA=function(c,b,d,h){return a.oy.local().dA(c,b,d,h)};g.FC=function(c,b){return a.Qm.local().V(c,b,!1,null)};g.AU=function(c,
b){return a.Qm.local().Wq(c,b,null)};g.gS=function(c,b,d,h,m){var g=a.ND.local();if(null!=b){if(b=b.Td(),null!=m&&b.Bc()!=m.Bc()){if(b.sd!=m.sd)throw a.g.Dl();d=a.$c.mi(d,m,b)}}else if(null!=m)throw a.g.F();return g.V(c,d,h,null)};g.Js=function(c,b,d,h){var m=a.Pm.local();if(null!=b){if(b=b.Td(),null!=h&&b.Bc()!=h.Bc()){if(b.sd!=h.sd)throw a.g.Dl();d=a.$c.mi(d,h,b)}}else if(null!=h)throw a.g.F();return m.V(c,d,null)};g.Hz=function(c,b,d,h,m){void 0===m&&(m=0);var g=a.NM.local();if(4==m)throw a.g.af();
if(0!==m)throw a.g.af();if(null!==h){if(0!==h.sd)throw a.g.F("Unit must be a linear unit type");d=a.$c.mi(d,h,a.$c.vh(9001))}return g.V(c,d,b,m,null)};g.mS=function(c,b,d,h){if(null===c)return 0;if(4==h)throw a.g.af();if(0!==h)throw a.g.af();if(197==c.G())c=g.EN(c);else if(1736!=c.G())return 0;h=a.fb.lc(b);c=a.fb.Vg(c,b,h,null);c=a.aM.nS([c])[0];if(null!==d){if(2!==d.sd)throw a.g.F("Unit must be a area unit type");c=a.$c.mi(c,a.$c.vh(109404),d)}return c};g.qS=function(c,b,d,h){c=a.PM.local().V(c,
b,h,null);if(null!==d){if(0!==d.sd)throw a.g.F("Unit must be a linear unit type");c=a.$c.mi(c,a.$c.vh(9001),d)}return c};g.aW=function(c,b,d){if(null===c)return 0;var h=null;if(null!=b){h=b.Td();if(0==h.sd&&(h=a.$c.cH(h),null==h&&null!==d))throw a.g.F();if(null!=d&&h.Bc()!=d.Bc()&&h.sd!=d.sd)throw a.g.Dl();}else if(null!=d)throw a.g.F();return 1736==c.G()||197==c.G()?(c=c.ef(),null!==d?a.$c.mi(c,h,d):c):0};g.bW=function(c,b,d){if(null===c||c.u()||1>c.ub())return 0;var h=null;if(null!=b){if(h=b.Td(),
null!=d&&h.Bc()!=d.Bc()&&h.sd!=d.sd)throw a.g.Dl();}else if(null!=d)throw a.g.F();1736==c.G()||197==c.G()?b=c.Fg():a.T.Nc(c.G())?(b=new a.Ua(c.description),b.cc(c,!0)):b=c;c=0;b=b.Fa();for(var m=new a.b,g=new a.b;b.Ya();)for(;b.Ea();){var e=b.ba();e.Oq(m);e.Ns(g);c+=a.b.Cb(m,g)}null!==h&&null!==d&&(c=a.$c.mi(c,h,d));return c};g.ZZ=function(c,b){return a.ve.pS(c,b)};g.EQ=function(a){return void 0!==a.points?g.pN(a,void 0===a.hasZ?!1:a.hasZ,void 0===a.hasM?!1:a.hasM):void 0!==a.rings?g.yE(a.rings,void 0===
a.hasZ?!1:a.hasZ,void 0===a.hasM?!1:a.hasM,"P"):void 0!==a.paths?g.yE(a.paths,void 0===a.hasZ?!1:a.hasZ,void 0===a.hasM?!1:a.hasM,"L"):void 0!==a.x?g.uN(a):void 0!==a.xmin?g.nN(a):null};g.uN=function(c){if(null==c.x||"NaN"==c.x)return new a.Wa;var b=new a.Wa(c.x,c.y);void 0!==c.z&&null!==c.z&&b.WX(c.z);void 0!==c.m&&null!==c.m&&b.GX(c.m);return b};g.nN=function(c){if(null==c.xmin||"NaN"==c.xmin)return new a.di;var b=new a.di(c.xmin,c.ymin,c.xmax,c.ymax);void 0!==c.zmin&&null!==c.zmin&&b.setInterval(1,
0,c.zmin,c.zmax);void 0!==c.mmin&&null!==c.mmin&&b.setInterval(2,0,c.mmin,c.mmax);return b};g.pN=function(c,b,d){var h=0,m=new a.Dd,g=3*c.points.length;0!=g%2&&g++;2>g&&(g=2);var e=a.J.truncate(3*c.points.length/2);4>e?e=4:16>e&&(e=16);for(var g=a.Tc.$m(g,0),f=a.Tc.$m(e),e=a.Tc.$m(e),k=0;k<c.points.length;k++)g.write(2*k,c.points[k][0]),g.write(2*k+1,c.points[k][1]),f.write(k,b||d?c.points[k][2]:NaN),e.write(k,d&&b?c.points[k][3]:NaN),h++;0!=h&&(m.resize(h),m.eo(0,g));b&&(m.Rd(1),m.eo(1,f));d&&(m.Rd(2),
m.eo(2,0==b?f:e));m.Cc(16777215);return m};g.yE=function(c,b,d,h){var m,g=0,e=2;"P"==h?(m=new a.Ja,g=1,e=3):m=new a.Ua;for(var f=a.Tc.wh(0),k=a.Tc.vq(0),l=0,n=0,w=[],p=[],r=0;r<c.length;r++){var t=c[r].length;w[r]=!1;if("P"===h&&c[r][0][0]===c[r][c[r].length-1][0]&&c[r][0][1]===c[r][c[r].length-1][1]){var u=0==d?!0:c[r][0][3]===c[r][c[r].length-1][3]||void 0===c[r][0][3]&&void 0===c[r][c[r].length-1][3];(0==b||c[r][0][2]===c[r][c[r].length-1][2]||void 0===c[r][0][2]&&void 0===c[r][c[r].length-1][2])&&
u&&(w[r]=!0,--t)}t>=e?(p[r]=!1,n+=1,f.add(l),k.add(g),l+=t):p[r]=!0}h=3*l;0!=h%2&&h++;2>h&&(h=2);r=a.J.truncate(3*l/2);4>r?r=4:16>r&&(r=16);h=a.Tc.$m(h,0);g=a.Tc.$m(r);e=a.Tc.$m(r);for(r=t=0;r<c.length;r++)if(!1===p[r])for(u=0;u<c[r].length;u++){var v=!1;u===c[r].length-1&&!0===w[r]&&(v=!0);v||(h.write(2*t,c[r][u][0]),h.write(2*t+1,c[r][u][1]),g.write(t,b||d?c[r][u][2]:NaN),e.write(t,d&&b?c[r][u][3]:NaN),t++)}0!=l&&(c=m,f.resize(n),k.resize(n),0<l&&(f.add(l),k.add(0)),c.eo(0,h),c.uK(k),c.vK(f));b&&
(m.Rd(1),m.eo(1,g));d&&(m.Rd(2),m.eo(2,0==b?g:e));m.Cc(16777215);return m};return g}();a.gc=g})(y||(y={}));(function(a){var g=function(){function a(){}a.Gj=function(a){var b=0,d,c=a.length,m=a[0],g;for(d=0;d<c-1;d++)g=a[d+1],b+=(g[0]-m[0])*(g[1]+m[1]),m=g;return 0<=b};a.rotate=function(c,b,d){b=b*Math.PI/180;var h=Math.cos(b),m=Math.sin(b);if(void 0!==c.paths){b={paths:[]};for(var g=0;g<c.paths.length;g++){for(var e=c.paths[g],f=[],k=0;k<e.length;k++){var l=e[k].slice(0);f.push(l);var n=h*(e[k][0]-
d.x)-m*(e[k][1]-d.y)+d.x,w=m*(e[k][0]-d.x)+h*(e[k][1]-d.y)+d.y;l[0]=n;l[1]=w}b.paths.push(f)}return b}if(void 0!==c.rings){b={rings:[]};for(g=0;g<c.rings.length;g++){for(var e=c.rings[g],f=[],p=a.Gj(e),k=0;k<e.length;k++)l=e[k].slice(0),f.push(l),n=h*(e[k][0]-d.x)-m*(e[k][1]-d.y)+d.x,w=m*(e[k][0]-d.x)+h*(e[k][1]-d.y)+d.y,l[0]=n,l[1]=w;a.Gj(f)!==p&&f.reverse();b.rings.push(f)}return b}if(void 0!==c.x)return b={x:h*(c.x-d.x)-m*(c.y-d.y)+d.x,y:m*(c.x-d.x)+h*(c.y-d.y)+d.y},void 0!==c.z&&(b.z=c.z),void 0!==
c.m&&(b.m=c.m),b;if(void 0!==c.points){b={points:[]};c=c.points;for(k=0;k<c.length;k++)g=c[k].slice(0),g[0]=h*(c[k][0]-d.x)-m*(c[k][1]-d.y)+d.x,g[1]=m*(c[k][0]-d.x)+h*(c[k][1]-d.y)+d.y,b.points.push(g);return b}return null};a.YR=function(c,b){var d,h;if(void 0!==c.paths){d={paths:[]};for(var m=0;m<c.paths.length;m++){for(var g=c.paths[m],e=[],f=0;f<g.length;f++){var k=g[f].slice(0);e.push(k);h=b.x-g[f][0];k[0]=g[f][0]+2*h}d.paths.push(e)}return d}if(void 0!==c.rings){d={rings:[]};for(m=0;m<c.rings.length;m++){for(var g=
c.rings[m],l=a.Gj(g),e=[],f=0;f<g.length;f++)k=g[f].slice(0),e.push(k),h=b.x-g[f][0],k[0]=g[f][0]+2*h;a.Gj(e)!==l&&e.reverse();d.rings.push(e)}return d}if(void 0!==c.x)return h=b.x-c.x,d={x:c.x+2*h,y:c.y},void 0!==c.z&&(d.z=c.z),void 0!==c.m&&(d.m=c.m),d;if(void 0!==c.points){d={points:[]};m=c.points;for(f=0;f<m.length;f++)g=m[f].slice(0),h=b.x-g[0],g[0]+=2*h,d.points.push(g);return d}return void 0!==c.xmin?(d={o:c.xmin,A:c.ymin,v:c.xmax,B:c.ymax},void 0!==c.zmin&&(d.zmin=c.zmin,d.zmax=c.zmax),void 0!==
c.mmin&&(d.mmin=c.mmin,d.mmax=c.mmax),h=b.x-c.xmin,d.xmax=c.xmin+2*h,h=b.x-c.xmax,d.xmin=c.xmax+2*h,d):null};a.ZR=function(c,b){var d,h;if(void 0!==c.paths){d={paths:[]};for(var m=0;m<c.paths.length;m++){for(var g=c.paths[m],e=[],f=0;f<g.length;f++){var k=g[f].slice(0);e.push(k);h=b.y-g[f][1];k[1]=g[f][1]+2*h}d.paths.push(e)}return d}if(void 0!==c.rings){d={rings:[]};for(m=0;m<c.rings.length;m++){for(var g=c.rings[m],l=a.Gj(g),e=[],f=0;f<g.length;f++)k=g[f].slice(0),e.push(k),h=b.y-g[f][1],k[1]=g[f][1]+
2*h;a.Gj(e)!==l&&e.reverse();d.rings.push(e)}return d}if(void 0!==c.x)return h=b.y-c.y,d={y:c.y+2*h,x:c.x},void 0!==c.z&&(d.z=c.z),void 0!==c.m&&(d.m=c.m),d;if(void 0!==c.points){d={points:[]};m=c.points;for(f=0;f<m.length;f++)g=m[f].slice(0),h=b.y-g[1],g[1]+=2*h,d.points.push(g);return d}return void 0!==c.xmin?(d={o:c.xmin,A:c.ymin,v:c.xmax,B:c.ymax},void 0!==c.zmin&&(d.zmin=c.zmin,d.zmax=c.zmax),void 0!==c.mmin&&(d.mmin=c.mmin,d.mmax=c.mmax),h=b.y-c.ymin,d.ymax=c.ymin+2*h,h=b.y-c.ymax,d.ymin=c.ymax+
2*h,d):null};return a}();a.my=g})(y||(y={}));(function(a){var g=function(){function g(){}g.ah=function(c,b){null==b&&(b=a.we.Hg());switch(c){case 33:return new a.Wa(b);case 322:return new a.Hb(b);case 197:return new a.di(b);case 550:return new a.Dd(b);case 1607:return new a.Ua(b);case 1736:return new a.Ja(b);default:throw a.g.X("invalid argument.");}};return g}();a.fM=g})(y||(y={}));(function(a){var g=function(){function g(c,b){this.qf=a.ha.yd(c,-1);this.va=new a.Nu;this.gm=b}g.prototype.bX=function(a){this.va.ru(Math.min(this.qf.size,
a));this.va.ao(a)};g.prototype.addElement=function(c,b){if(void 0===b)return this.AO(c);b=a.J.truncate(b%this.qf.size);var d=this.qf.get(b);-1==d&&(d=this.va.ni(),this.qf.set(b,d));return this.va.addElement(d,c)};g.prototype.AO=function(c){var b=this.gm.Yz(c),b=a.J.truncate(b%this.qf.size),d=this.qf.get(b);-1==d&&(d=this.va.ni(),this.qf.set(b,d));return this.va.addElement(d,c)};g.prototype.jd=function(c,b){if(void 0===b)this.dR(c);else{b=a.J.truncate(b%this.qf.size);var d=this.qf.get(b);if(-1==d)throw a.g.F();
for(var h=this.va.wc(d),m=-1;-1!=h;){var g=this.va.nb(h);this.va.ia(h)==c?(this.va.jd(d,m,h),-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(b,-1))):m=h;h=g}}};g.prototype.dR=function(c){var b=this.gm.Yz(c),b=a.J.truncate(b%this.qf.size),d=this.qf.get(b);if(-1==d)throw a.g.F();for(var h=this.va.wc(d),m=-1;-1!=h;){var g=this.va.nb(h);this.va.ia(h)==c?(this.va.jd(d,m,h),-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(b,-1))):m=h;h=g}};g.prototype.IS=function(c){c=a.J.truncate(c%this.qf.size);c=this.qf.get(c);
return-1==c?-1:this.va.wc(c)};g.prototype.YS=function(a){return this.va.nb(a)};g.prototype.Jd=function(c){var b=this.gm.Yz(this.ia(c)),b=a.J.truncate(b%this.qf.size),d=this.qf.get(b);if(-1==d)throw a.g.F();for(var h=this.va.wc(d),m=-1;-1!=h;){if(h==c){this.va.jd(d,m,h);-1==this.va.wc(d)&&(this.va.zh(d),this.qf.set(b,-1));return}m=h;h=this.va.nb(h)}throw a.g.F();};g.prototype.ia=function(a){return this.va.ia(a)};g.prototype.clear=function(){this.qf=a.ha.yd(this.qf.size,-1);this.va.clear()};g.prototype.size=
function(){return this.va.WG()};return g}();a.nM=g})(y||(y={}));(function(a){var g=function(){function g(){this.lj=new a.Zc(3);this.va=new a.Zc(6);this.WU=!1;this.De=-1}g.prototype.Pl=function(a){this.lj.jd(a)};g.prototype.Bx=function(){return this.lj.Me()};g.prototype.Qv=function(a){this.va.jd(a)};g.prototype.IB=function(){return this.va.Me()};g.prototype.xC=function(a,b){this.lj.R(a,1,b)};g.prototype.Qx=function(a,b){this.lj.R(a,2,b)};g.prototype.FX=function(a,b){this.lj.R(a,3,b)};g.prototype.vC=
function(a,b){this.va.R(a,4,b)};g.prototype.IX=function(a,b){this.va.R(a,3,b)};g.prototype.yK=function(a,b){this.va.R(a,2,b)};g.prototype.ni=function(a){var b=this.IB();this.va.R(b,3,this.De);this.va.R(b,4,0);this.va.R(b,5,a);-1!=this.De&&this.yK(this.De,b);return this.De=b};g.prototype.zh=function(a){this.QF(a);var b=this.va.S(a,2),d=this.va.S(a,3);-1!=b?this.IX(b,d):this.De=d;-1!=d&&this.yK(d,b);this.Qv(a);return d};g.prototype.ru=function(a){this.va.Ne(a)};g.prototype.SG=function(a){return this.va.S(a,
5)};g.prototype.EX=function(a,b){this.va.R(a,5,b)};g.prototype.addElement=function(a,b){return this.RT(a,b)};g.prototype.RT=function(a,b){var d=this.Bx();this.Qx(d,-1);-1==this.va.S(a,0)&&this.va.R(a,0,d);var c=this.va.S(a,1);this.xC(d,c);-1!=c&&this.Qx(c,d);this.va.R(a,1,d);this.setData(d,b);this.vC(a,this.Zs(a)+1);this.WU&&this.FX(d,a);return d};g.prototype.jd=function(a,b){var d=this.Se(b),c=this.nb(b);-1!=d?this.Qx(d,c):this.va.R(a,0,c);-1!=c?this.xC(c,d):this.va.R(a,1,d);this.Pl(b);this.vC(a,
this.Zs(a)-1);return c};g.prototype.ao=function(a){this.lj.Ne(a)};g.prototype.getData=function(a){return this.lj.S(a,0)};g.prototype.setData=function(a,b){this.lj.R(a,0,b)};g.prototype.nb=function(a){return this.lj.S(a,2)};g.prototype.Se=function(a){return this.lj.S(a,1)};g.prototype.wc=function(a){return this.va.S(a,0)};g.prototype.Ec=function(a){return this.va.S(a,1)};g.prototype.clear=function(){for(var a=this.De;-1!=a;)a=this.zh(a)};g.prototype.QF=function(a){for(var b=this.Ec(a);-1!=b;){var d=
b,b=this.Se(d);this.Pl(d)}this.va.R(a,0,-1);this.va.R(a,1,-1);this.vC(a,0)};g.prototype.u=function(){return 0==this.lj.size};g.prototype.WG=function(){return this.lj.size};g.prototype.Zs=function(a){return this.va.S(a,4)};g.prototype.eA=function(a){return this.va.S(a,3)};return g}();a.cq=g})(y||(y={}));(function(a){var g=function(){function g(c){void 0===c?(this.Og=new a.Zc(2),this.va=new a.Zc(4),this.De=-1,this.Cw=!0):(this.Og=new a.Zc(2),this.va=new a.Zc(c?4:2),this.De=-1,this.Cw=c)}g.prototype.Pl=
function(a){this.Og.jd(a)};g.prototype.Bx=function(){return this.Og.Me()};g.prototype.Qv=function(a){this.va.jd(a)};g.prototype.IB=function(){return this.va.Me()};g.prototype.ni=function(){var a=this.IB();this.Cw&&(this.va.R(a,3,this.De),-1!=this.De&&this.va.R(this.De,2,a),this.De=a);return a};g.prototype.zh=function(a){for(var b=this.wc(a);-1!=b;){var d=b,b=this.nb(b);this.Pl(d)}this.Cw&&(b=this.va.S(a,2),d=this.va.S(a,3),-1!=b?this.va.R(b,3,d):this.De=d,-1!=d&&this.va.R(d,2,b));this.Qv(a)};g.prototype.ru=
function(a){this.va.Ne(a)};g.prototype.addElement=function(a,b){var d=this.va.S(a,1),c=this.Bx();-1!=d?this.Og.R(d,1,c):this.va.R(a,0,c);this.va.R(a,1,c);this.Og.R(c,0,b);return c};g.prototype.ao=function(a){this.Og.Ne(a)};g.prototype.jd=function(a,b,d){-1!=b?(this.Og.R(b,1,this.Og.S(d,1)),this.va.S(a,1)==d&&this.va.R(a,1,b)):(this.va.R(a,0,this.Og.S(d,1)),this.va.S(a,1)==d&&this.va.R(a,1,-1));this.Pl(d)};g.prototype.kz=function(a,b){var d=this.va.S(a,1),c=this.va.S(b,0);-1!=c&&(-1!=d?this.Og.R(d,
1,c):this.va.R(a,0,c),this.va.R(a,1,this.va.S(b,1)));this.Cw&&(d=this.va.S(b,2),c=this.va.S(b,3),-1!=d?this.va.R(d,3,c):this.De=c,-1!=c&&this.va.R(c,2,d));this.Qv(b)};g.prototype.ia=function(a){return this.Og.S(a,0)};g.prototype.pk=function(a,b){this.Og.R(a,0,b)};g.prototype.nb=function(a){return this.Og.S(a,1)};g.prototype.wc=function(a){return this.va.S(a,0)};g.prototype.Fo=function(a){return this.ia(this.wc(a))};g.prototype.clear=function(){this.Og.Wi(!0);this.va.Wi(!0);this.De=-1};g.prototype.u=
function(a){return void 0===a?0==this.Og.size:-1==this.va.S(a,0)};g.prototype.WG=function(){return this.Og.size};g.prototype.eA=function(a){return this.va.S(a,3)};return g}();a.Nu=g})(y||(y={}));(function(a){var g=function(){function g(){}g.wD=function(c,b,d,h,m,q,e){var f=new a.b;f.L(c);c=new a.b;c.L(b);m.Ky(f);m.Ky(c);b=m.av(f);var k=m.av(c);0==k&&(k=m.RG());if(f.x!=c.x&&(f.y!=c.y||f.y!=m.A&&f.y!=m.B)||k>b!=q){b=m.DE(f);var k=m.DE(c),C,l=q?1:3;do b=b+l&3,C=m.Gx(b),0!=e&&(h=g.wD(f,C,d,h,m,q,e)),
d[h++].ja(C.x,C.y),f=C;while((b&3)!=k);0!=e&&(h=g.wD(f,c,d,h,m,q,e))}else if(m=new a.b,m.ja(c.x-f.x,c.y-f.y),0!=e&&(e=a.J.truncate(m.nO()/e),0<e))for(m.scale(1/(e+1)),q=0;q<e;q++)f.add(m),d[h++].ja(f.x,f.y);return h};g.$d=function(a,b,d){b=b.uo();a=null!=a&&void 0!==a.pe?a.pe(0):0;d&&(b*=4,a*=1.1);return Math.max(a,b)};g.As=function(a){return 2*Math.sqrt(2)*a};g.PO=function(a){return Math.sqrt(2)*a};g.$g=function(c,b,d){var h=new a.h;b.s(h);return g.$d(c,h,d)};g.GF=function(a,b,d){b=b.hg(1,0).uo();
a=null!=a?a.pe(1):0;d&&(b*=4,a*=1.1);return Math.max(a,b)};g.$Z=function(c,b){var d=new a.h;c.ac(d);d.Nb(b);return d};g.Zv=function(c,b){var d=new a.h;c.ac(d);c=new a.h;b.ac(c);d.Nb(c);return d};g.f_=function(c,b){var d=c.NS(b),h=c.wa(b),m=c.Fc(b),g=c.Ba(d);d==h?(m=c.Ba(m-1),d=c.Ba(h+1)):d==m-1?(m=c.Ba(d-1),d=c.Ba(h)):(m=c.Ba(d-1),d=c.Ba(d+1));g=a.b.Gp(m,g,d);return 0==g?0<c.Ym(b):-1==g};g.xP=function(c){var b=new a.h;c.ac(b);if(b.u())return null;var d=new a.gq(b,8),h=-1,m=new a.h,g=!1;do for(var e=
0,f=c.aa();e<f;e++)if(c.nk(e,m),h=d.lw(e,m,h),-1==h){if(g)throw a.g.X("internal error");c.Bo(b,!1);g=!0;d.reset(b,8);break}else g=!1;while(g);return d};g.BF=function(c){var b=new a.h;c.ac(b);for(var d=new a.gq(b,8),h=-1,m=c.Fa(),g=new a.h,e=!1;m.Ya();)for(;m.Ea();){var f=m.ba(),k=m.Db();f.s(g);h=d.lw(k,g,h);if(-1==h){if(e)throw a.g.za();c.Bo(b,!1);e=!0;d.reset(b,8);m.zj();break}}return d};g.Pj=function(c,b){var d=new a.h;c.ac(d);for(var h=new a.gq(d,8),m=-1,g=new a.h,e=c.Fa(),f=!1;e.Ya();)for(;e.Ea();){var k=
e.ba(),l=e.Db();k.s(g);if(g.Yb(b)&&(m=h.lw(l,g,m),-1==m)){if(f)throw a.g.X("internal error.");c.Bo(d,!1);f=!0;h.reset(d,8);e.zj();break}}return h};g.AZ=function(c){var b=new a.h;c.ac(b);for(var d=new a.gq(b,8),h=new a.b,m=new a.h,g=!1,e=0;e<c.D();e++)if(c.w(e,h),m.I(h),-1==d.dh(e,m)){if(g)throw a.g.za();c.Bo(b,!1);g=!0;d.reset(b,8);e=-1}return d};g.CF=function(c,b){for(var d=new a.gq(b,8),h=new a.b,m=!1,g=new a.h,e=0;e<c.D();e++)if(c.w(e,h),b.contains(h)&&(g.I(h),-1==d.dh(e,g))){if(m)throw a.g.za();
m=!0;e=new a.h;c.Bo(e,!1);d.reset(e,8);e=-1}return d};g.DS=function(c,b,d){var h=new a.h,m=new a.h;c.ac(h);b.ac(m);h.P(d,d);m.P(d,d);var g=new a.h;g.I(h);g.Ma(m);c=c.Fa();b=b.Fa();var e=new a.mD;e.BC(d);var f=!1;for(e.QK();c.Ya();)for(;c.Ea();)c.ba().s(h),h.Yb(g)&&(f=!0,d=new a.h,d.I(h),e.aF(c.Db(),d));e.qG();if(!f)return null;h=!1;for(e.PK();b.Ya();)for(;b.Ea();)b.ba().s(m),m.Yb(g)&&(h=!0,d=new a.h,d.I(m),e.XE(b.Db(),d));e.pG();return h?e:null};g.ES=function(c,b,d,h,m){var g=c.G(),e=b.G(),f=new a.h,
k=new a.h;c.ac(f);b.ac(k);f.P(d,d);k.P(d,d);var l=new a.h;l.I(f);l.Ma(k);var n=new a.mD;n.BC(d);var p=!1;n.QK();var w=0;for(d=c.aa();w<d;w++)if(!h||1736!=g||c.rw(w))c.nk(w,f),f.Yb(l)&&(p=!0,n.aF(w,f));n.qG();if(!p)return null;c=!1;n.PK();h=0;for(d=b.aa();h<d;h++)if(!m||1736!=e||b.rw(h))b.nk(h,k),k.Yb(l)&&(c=!0,n.XE(h,k));n.pG();return c?n:null};g.p_=function(a,b){return 0<a.Nk(b)};g.zZ=function(c,b){var d=new a.h;c.MW(b,d);var d=new a.gq(d,8),h=-1,m=new a.h;c=c.Fa();c.hC(b);if(c.Ya())for(;c.Ea();){b=
c.ba();var g=c.Db();b.ac(m);h=d.lw(g,m,h);if(-1==h)throw a.g.X("internal error");}return d};g.Jv=function(c,b,d){if(c!=b)for(var h=0;h<d;h++)null==c[h]?c[h]=a.b.Jl(b[h]):c[h].L(b[h])};g.mz=function(a,b,d,h){var c=0;for(h+=0;c<h;d++,c++)null==a[c]&&(a[c]=[0,0]),a[c][0]=b[d].x,a[c][1]=b[d].y};g.lz=function(c,b,d,h){var m=b,g=0;for(b=h+b;m<b;g++,m++)null==c[m]?c[m]=a.b.pa(d[g][0],d[g][1]):c[m].ja(d[g][0],d[g][1])};g.HQ=function(c,b,d){if(c!=b)for(var h=0;h<d;h++)null==c[h]?c[h]=new a.Wa(b[h]):b[h].copyTo(c[h])};
g.RY=function(a,b,d,h){var c=h.ga;h=h.la;for(var g=0;g<b;g+=d){var e=a.read(g);e<c?a.write(g,c):e>h&&a.write(g,h)}};g.JY=function(a,b,d,h){var c=h.ga;h=h.la;for(var g=0;g<b;g+=d){var e=a.read(g);e<c?a.write(g,c):e>h&&a.write(g,h)}};g.IK=function(c,b,d){if(c.hasAttribute(d)){var h=c.G();if(a.T.fh(h)){var m=a.ma.ti(d),h=a.ma.Xa(d),e=c.D();if(1==m){c=c.Qa(d);g.RY(c,e*h,h,b);return}if(2==m){c=c.Qa(d);g.JY(c,e*h,h,b);return}throw a.g.X("snap_coordinate not implemented");}if(197==h)e=c.hg(d,0),h=!1,e.ga<
b.ga&&(h=!0,e.ga=b.ga),e.la>b.la&&(h=!0,e.la=b.la),h&&c.setInterval(d,0,e);else if(33==h)e=c.Wc(d,0),h=!1,e<b.ga&&(h=!0,e=b.ga),e>b.la&&(h=!0,e=b.la),h&&c.setAttribute(d,0,e);else if(a.T.Nc(h))e=c.bt(d,0),h=!1,e<b.ga&&(h=!0,e=b.ga),e>b.la&&(h=!0,e=b.la),h&&c.Tx(d,0,e),e=c.Ms(d,0),e<b.ga&&(h=!0,e=b.ga),e>b.la&&(h=!0,e=b.la),h&&c.Lx(d,0,e);else throw a.g.X("snap_coordinate not implemented");}};g.wl=function(a,b,d,h,m){var c=0;null!=b&&(c=b.pe(a),m&&!h||null==b||(c+=1.01*b.iA(a)));h&&(d*=4,c*=1.01);
return Math.max(c,d)};g.BZ=function(c,b,d,h){b=a.h.XN(b.Te(),b.Cf(),d.Te(),d.Cf());return g.wl(0,c,b,h,!1)};g.Xy=function(a,b,d){return g.wl(0,a,b.uo(),d,!1)};g.CZ=function(a,b,d){return g.wl(1,a,b.uo(),d,!1)};g.DP=function(c,b){var d=new a.h;b.s(d);return g.Xy(c,d,!0)};g.Yy=function(a,b){return g.wl(0,a,b.uo(),!1,!0)};g.DZ=function(a,b,d){return g.wl(1,a,b.uo(),d,!0)};g.zv=function(c,b){var d=new a.h;b.s(d);return g.Yy(c,d)};g.BH=function(c,b,d,h){h*=h;var m=new a.b;m.xc(c,b);c=new a.b;c.xc(d,b);
b=m.uk();d=c.uk();if(b<=h&&d<=h)return!0;var g=a.Ub.Yx(m.Vi(c));return g<=h*b||g<=h*d?0<=m.pi(c):!1};g.JK=function(c,b,d,h){for(var m=0;m<b;m++){var g=c[m].y,e=a.J.tk(g,d,h);e!=g&&(c[m].y=e)}};return g}();a.na=g})(y||(y={}));(function(a){var g=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,c){a=a.ia(c);c=this.ab.Rk(b);var h=this.ab.Rk(a);return c<h?-1:c==h?d.Vq(b)&&d.tw(a)?-1:d.Vq(a)&&d.tw(b)?1:0:1};return a}(),e=function(){function a(a){this.ab=a}a.prototype.gs=function(a,b,
d){this.ab.eY(d,a,b)};a.prototype.Qq=function(a){return this.ab.Rk(a)};return a}(),c;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(c||(c={}));var b=function(){function b(){this.ab=null;this.qj=new a.yc;this.nh=new a.ha(0);this.Mg=[0,0]}b.prototype.Oi=function(a,b){this.qj.ga=a.ga-b;this.qj.la=a.la+b;this.nh.resize(0);this.Be=0;this.Mg[0]=0};b.prototype.gC=function(b,d,c){if(b>d)throw a.g.F();
this.qj.ga=b-c;this.qj.la=d+c;this.nh.resize(0);this.Be=0;this.Mg[0]=0};b.prototype.bo=function(a,b){this.qj.ga=a-b;this.qj.la=a+b;this.nh.resize(0);this.Be=0;this.Mg[0]=0};b.prototype.next=function(){if(!this.ab.ar)throw a.g.Da();if(0>this.Be)return-1;for(var b=!0;b;)switch(this.Mg[this.Be]){case 1:b=this.UV();break;case 2:b=this.VV();break;case 3:b=this.WV();break;case 4:b=this.XV();break;case 5:b=this.gX();break;case 6:b=this.PU();break;case 7:b=this.SO();break;case 0:b=this.tA();break;default:throw a.g.za();
}return-1!=this.ih?this.Gq()>>1:-1};b.NZ=function(a,d,c){var h=new b;h.ab=a;h.nh.zb(20);h.Oi(d,c);return h};b.OZ=function(a,d,c){var h=new b;h.ab=a;h.nh.zb(20);h.bo(d,c);return h};b.pa=function(a){var d=new b;d.ab=a;d.nh.zb(20);d.Be=-1;return d};b.prototype.tA=function(){this.ih=this.uI=this.mj=this.Rc=-1;if(null!=this.ab.Ge&&0<this.ab.Ge.size)return this.Mg[0]=1,this.mj=this.ab.Jf,!0;this.Be=-1;return!1};b.prototype.UV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.ih=this.Be=-1,!1;var a=
this.ab.Hq(this.Rc);if(this.qj.la<a)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Uj(this.Rc),-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6),!0;if(a<this.qj.ga)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Pk(this.Rc),-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5),!0;this.Mg[this.Be]=2;this.uI=this.Rc;a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);return!0};b.prototype.VV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=
3,this.mj=this.ab.Pk(this.uI),!0;if(this.ab.Hq(this.Rc)<this.qj.ga){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Pk(this.Rc);-1!=a&&this.nh.add(a);return!0};b.prototype.WV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=4,!0;if(this.qj.la<this.ab.Hq(this.Rc)){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);
-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Uj(this.Rc);-1!=a&&this.nh.add(a);return!0};b.prototype.XV=function(){if(0==this.nh.size)return this.ih=this.Be=-1,!1;this.Rc=this.nh.get(this.nh.size-1);this.nh.resize(this.nh.size-1);var a=this.ab.Qk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);-1!=this.ab.Uj(this.Rc)&&this.nh.add(this.ab.Uj(this.Rc));-1!=this.ab.Pk(this.Rc)&&
this.nh.add(this.ab.Pk(this.Rc));return!0};b.prototype.PU=function(){this.ih=this.Fi;if(-1!=this.ih&&d.Vq(this.Gq())&&this.ab.Rk(this.Gq())<=this.qj.la)return this.Fi=this.VG(),!1;this.Be--;return!0};b.prototype.gX=function(){this.ih=this.Fi;if(-1!=this.ih&&d.tw(this.Gq())&&this.ab.Rk(this.Gq())>=this.qj.ga)return this.Fi=this.jT(),!1;this.Be--;return!0};b.prototype.SO=function(){this.ih=this.Fi;if(-1!=this.ih&&d.Vq(this.Gq()))return this.Fi=this.VG(),!1;this.Be--;return!0};b.prototype.VG=function(){return this.ab.og?
this.ab.ug.nb(this.ih):this.ab.tj.nb(this.ih)};b.prototype.jT=function(){return this.ab.og?this.ab.ug.Se(this.ih):this.ab.tj.Se(this.ih)};b.prototype.Gq=function(){return this.ab.og?this.ab.ug.ia(this.ih):this.ab.tj.getData(this.ih)};return b}();a.xZ=b;var d=function(){function d(a){this.un=this.Ai=this.ug=this.tj=this.Dn=this.ek=this.Ge=this.fk=null;this.og=a;this.ar=this.Ew=!1}d.prototype.bs=function(){this.sl(!0)};d.prototype.xs=function(b,d){if(!this.Ew)throw a.g.Da();this.fk.push(new a.yc(b,
d))};d.prototype.yq=function(){if(!this.Ew)throw a.g.X("invalid call");this.Ew=!1;this.ar=!0;this.og||(this.TT(),this.Mw=this.fk.length)};d.prototype.dh=function(b){if(!this.og||!this.ar)throw a.g.F("invalid call");if(-1==this.Jf){var d=this.fk.length;if(this.UA){var c=new a.ha(0);c.zb(2*d);this.JJ(c);this.Ai.zb(2*d);this.Ai.resize(0);this.IJ(c);this.Dn.resize(d,-1);this.Dn.$h(-1,0,d);this.UA=!1}else this.Dn.$h(-1,0,d);this.Jf=this.Lv()}d=this.rH(b<<1,this.Jf);c=this.ug.addElement((b<<1)+1,this.kA(d));
this.AK(d,c);this.Dn.set(b,d);this.Mw++};d.prototype.remove=function(b){if(!this.og||!this.ar)throw a.g.X("invalid call");var d=this.Dn.get(b);if(-1==d)throw a.g.F("the interval does not exist in the interval tree");this.Dn.set(b,-1);this.Mw--;var c=this.kA(d),h;h=this.ug.tT(c);this.ug.Jd(this.QS(d),c);this.ug.Jd(this.mT(d),c);b=this.ug.size(c);0==b&&(this.ug.fR(c),this.DK(h,-1));this.ek.jd(d);for(var c=this.XG(h),g=this.Uj(h),m=this.Pk(h),d=0;!(0<b||h==this.Jf||-1!=g&&-1!=m);)h==this.Uj(c)?-1!=g?
(this.tl(c,g),this.rk(g,c),this.tl(h,-1)):-1!=m?(this.tl(c,m),this.rk(m,c),this.vl(h,-1)):this.tl(c,-1):-1!=g?(this.vl(c,g),this.rk(g,c),this.tl(h,-1)):-1!=m?(this.vl(c,m),this.rk(m,c),this.vl(h,-1)):this.vl(c,-1),this.rk(h,-1),d++,h=c,c=this.Qk(h),b=-1!=c?this.ug.size(c):0,g=this.Uj(h),m=this.Pk(h),c=this.XG(h)};d.prototype.reset=function(){if(!this.og||!this.ar)throw a.g.F("invalid call");this.sl(!1)};d.prototype.size=function(){return this.Mw};d.prototype.jf=function(){return b.pa(this)};d.prototype.JJ=
function(a){for(var b=this.fk.length,d=0;d<2*b;d++)a.add(d);this.fY(a,2*b)};d.prototype.IJ=function(a){for(var b=NaN,d=0;d<a.size;d++){var c=a.get(d),h=this.Rk(c);h!=b&&(this.Ai.add(c),b=h)}};d.prototype.TT=function(){var b=this.fk.length,d=new a.ha(0);d.zb(2*b);this.JJ(d);this.Ai.zb(2*b);this.Ai.resize(0);this.IJ(d);this.ek.Ne(b);this.tj.ao(2*b);var c=a.Tc.wh(b);c.$h(-1,0,b);this.Jf=this.Lv();for(b=0;b<d.size;b++){var h=d.get(b),g=c.get(h>>1);-1!=g?this.AK(g,this.tj.addElement(this.kA(g),h)):(g=
this.rH(h,this.Jf),c.set(h>>1,g))}};d.prototype.rH=function(b,d){var c=d,h=d,g,m=-1,e=0,q=this.Ai.size-1,f=0,k=b>>1,l=NaN,n=NaN;g=!0;for(var p=this.XS(k),k=this.US(k);g;){e<q?(f=e+a.J.truncate((q-e)/2),-1==this.Sz(c)&&this.jK(c,this.Ai.get(f),this.Ai.get(f+1))):-1==this.Sz(c)&&this.jK(c,this.Ai.get(e),this.Ai.get(e));var w=this.Hq(c);if(k<w)-1!=d&&(d==c?(h=c,l=w,d=this.Uj(c),-1!=d?n=this.Hq(d):n=NaN):n>w&&(w<l?this.tl(h,c):this.vl(h,c),this.vl(c,d),this.og&&(this.rk(c,h),this.rk(d,c)),h=c,l=w,d=-1,
n=NaN)),q=this.RS(c),-1==q&&(q=this.Lv(),this.CX(c,q)),c=q,q=f;else if(p>w)-1!=d&&(d==c?(h=c,l=w,d=this.Pk(c),-1!=d?n=this.Hq(d):n=NaN):n<w&&(w<l?this.tl(h,c):this.vl(h,c),this.tl(c,d),this.og&&(this.rk(c,h),this.rk(d,c)),h=c,l=w,d=-1,n=NaN)),e=this.nT(c),-1==e&&(e=this.Lv(),this.NX(c,e)),c=e,e=f+1;else{g=this.Qk(c);-1==g&&(g=this.TQ(c),this.DK(c,g));var r=this.BO(g,b),m=this.RQ();this.QX(m,g);this.BX(m,r);c!=d&&(w<l?this.tl(h,c):this.vl(h,c),this.og&&this.rk(c,h),-1!=d&&(n<w?this.tl(c,d):this.vl(c,
d),this.og&&this.rk(d,c)));g=!1}}return m};d.prototype.Lv=function(){return this.Ge.Me()};d.prototype.TQ=function(a){return this.og?this.ug.Is(a):this.tj.ni(a)};d.prototype.RQ=function(){return this.ek.Me()};d.prototype.sl=function(b){b?(this.Ew=this.UA=!0,this.ar=!1,null==this.Ai?this.Ai=a.Tc.wh(0):this.Ai.resize(0),null==this.fk?this.fk=[]:this.fk.length=0):this.UA=!1;this.og?null==this.Dn?(this.Dn=a.Tc.wh(0),this.ug=new a.xk,this.ug.Lp(new g(this))):this.ug.clear():null==this.tj?this.tj=new a.cq:
this.tj.clear();null==this.Ge?(this.ek=new a.Zc(3),this.Ge=new a.Zc(this.og?8:7)):(this.ek.Wi(!1),this.Ge.Wi(!1));this.Jf=-1;this.Mw=0};d.prototype.jK=function(a,b,d){this.wX(a,b);this.xX(a,d)};d.prototype.Hq=function(a){var b=this.Sz(a);if(-1==b)return NaN;b=this.Rk(b);a=this.Rk(this.yS(a));return b==a?b:.5*(b+a)};d.prototype.wX=function(a,b){this.Ge.R(a,0,b)};d.prototype.xX=function(a,b){this.Ge.R(a,1,b)};d.prototype.CX=function(a,b){this.Ge.R(a,3,b)};d.prototype.NX=function(a,b){this.Ge.R(a,4,
b)};d.prototype.DK=function(a,b){this.Ge.R(a,2,b)};d.prototype.tl=function(a,b){this.Ge.R(a,5,b)};d.prototype.vl=function(a,b){this.Ge.R(a,6,b)};d.prototype.rk=function(a,b){this.Ge.R(a,7,b)};d.prototype.QX=function(a,b){this.ek.R(a,0,b)};d.prototype.BO=function(a,b){return this.og?this.ug.addElement(b,a):this.tj.addElement(a,b)};d.prototype.BX=function(a,b){this.ek.R(a,1,b)};d.prototype.AK=function(a,b){this.ek.R(a,2,b)};d.prototype.Tl=function(a){return this.og?this.ug.wc(a):this.tj.wc(a)};d.prototype.Xs=
function(a){return this.og?this.ug.Ec(a):this.tj.Ec(a)};d.Vq=function(a){return 0==(a&1)};d.tw=function(a){return 1==(a&1)};d.prototype.Sz=function(a){return this.Ge.S(a,0)};d.prototype.yS=function(a){return this.Ge.S(a,1)};d.prototype.Qk=function(a){return this.Ge.S(a,2)};d.prototype.RS=function(a){return this.Ge.S(a,3)};d.prototype.nT=function(a){return this.Ge.S(a,4)};d.prototype.Uj=function(a){return this.Ge.S(a,5)};d.prototype.Pk=function(a){return this.Ge.S(a,6)};d.prototype.XG=function(a){return this.Ge.S(a,
7)};d.prototype.kA=function(a){return this.ek.S(a,0)};d.prototype.QS=function(a){return this.ek.S(a,1)};d.prototype.mT=function(a){return this.ek.S(a,2)};d.prototype.XS=function(a){return this.fk[a].ga};d.prototype.US=function(a){return this.fk[a].la};d.prototype.fY=function(b,d){null==this.un&&(this.un=new a.Ju);var c=new e(this);this.un.sort(b,0,d,c)};d.prototype.eY=function(a,b,c){var h=this;a.Fd(b,c,function(a,b){var c=h.Rk(a),g=h.Rk(b);return c<g||c==g&&d.Vq(a)&&d.tw(b)?-1:1})};d.prototype.Rk=
function(a){var b=this.fk[a>>1];return d.Vq(a)?b.ga:b.la};return d}();a.ms=d})(y||(y={}));(function(a){var g=function(){function g(c){if(null==c)throw a.g.X("Invalid arguement");this.He=c;var b=c.FS();b.DT()?c.he.IH()?this.fp=a.Qi.PannableFold:this.fp=a.Qi.Clip:this.fp=a.Qi.DontClip;b.ET()?c.Ee.IH()?this.Jn=a.Qi.PannableFold:this.Jn=a.Qi.Clip:this.Jn=a.Qi.DontClip;this.vn=b.Cv;this.lI=b.sz;c=this.He.rI;this.$H=c.gt(2147483648);this.Gw=c.gt(1073741824)}g.Vg=function(a,b,d){return b.xr.Vg(a,d)};g.fs=
function(a,b,d,h){return a.xr.fs(b,d,h)};g.Fu=function(a,b,d,h){d=0>d?b.length:d;a=a.xr.fs(b,d,h);if(a==d)return a;for(var c=b=0;c<d;c++){var g=h[c];g.isNaN()||(b<c&&h[b].L(g),b++)}for(;b<d;b++)h[b].Yc();return a};g.OC=function(a,b,d,h){return a.xr.OC(b,d,h)};g.XK=function(a,b,d,h){d=0>d?b.length:d;a=a.xr.OC(b,d,h);if(a==d)return a;for(var c=b=0;c<d;c++){var g=h[c];isNaN(g.x)||(b<c&&h[b].I(g.x,g.y,g.z),b++)}for(;b<d;b++)h[b].iv();return a};g.transform=function(c,b,d,h,m){if(c.No())return a.na.HQ(h,
b,d),d;for(var e=[],f=0,k=0;k<d;){for(var l=Math.min(e.length,d-k),n=k,p=0;n<l;n++,p++)null==e[p]?e[p]=b[n].w():b[n].w(e[p]);var w;w=m?g.Fu(c,e,l,e):g.fs(c,e,l,e);for(p=n=0;n<w;n++,p++)null==h[k]&&(h[k]=new a.Wa(b[k])),h[k].rb(e[p]);k+=l;f+=w}return f};g.YK=function(c,b,d){if(0==d)return[];var h=new a.Dd;h.LO(b,2*d);b=this.Vg(h,c,null);c=b.Qa(0);b=2*b.D();d=a.J.df(b);c.rl(0,b,d,0,!0);return d};g.prototype.fs=function(c,b,d){if(this.He.No())return c!=d&&a.na.Jv(d,c,b),b;var h=this.He.he,g=this.He.Ee,
e=h.Fb(),f=g.Fb();if(0==e&&e===f){var k=h.Zi(),g=g.Zi(),g=k/g,k=new a.Gd;k.Vp(g,g);k.DY(c,b,d);return b}k=a.J.vv(Math.min(b,64));if(3==e){var l;l=h.jj;h=l.Ik();e=h.Fb();d!=c&&a.na.Jv(d,c,b);a.Ib.Il(l,d,b,!0);l.Fu(a.Um.forward,d,b);a.Ib.Hl(l,d,b,!0)}if(3==e||3===f)throw a.g.X("image: transform_in_place_");if(2==e)this.fp==a.Qi.Clip?(d!=c&&a.na.Jv(d,c,b),c=h.Ok(),a.Ib.lU(c,h,d,b)):(d!=c&&a.na.Jv(d,c,b),h.Ic()&&(e=h.pe(0),l=h.oe(),a.Ib.cY(d,b,l,e),a.Ib.uG(d,b,h,0))),a.Ib.$M(h,d,b,k);else for(e=h.pe(0),
l=h.oe(),h=0;h<b;h++)a.Ib.dY(c[h],l,e,d[h]);a.Ib.YM(this.He,d,b,k);c=0;(f=2==f)?c=g.ri():isNaN(this.vn)||(c=this.vn);f&&this.Jn!=a.Qi.Clip||a.Ib.uG(d,b,g.lc(),c);f&&(a.Ib.zH(d,b,g,this.Jn),a.Ib.ZM(g,d,b,k));c=b;for(h=0;h<b;++h)d[h].isNaN()&&c--;return c};g.prototype.OC=function(c,b,d){b=0>b?c.length:b;if(this.He.No()){for(var h=0;h<b;++h)null==d[h]&&(d[h]=new a.od),d[h].I(c[h].x,c[h].y,c[h].z);return b}var g=this.He.he,h=this.He.Ee,e=g.Fb(),f=h.Fb();if(0==e&&e==f)return g=g.Zi(),h=h.Zi(),h=g/h,g=
new a.DN,g.Vp(h,h,h),g.transform(c,b,d),b;e=new a.Dd;e.Rd(1);e.Rd(3);e.KO(c);c=e.Qa(3);h=0;for(g=b;h<g;h++)c.write(h,h);e=this.Vg(e,null);for(h=0;h<b;++h)null==d[h]?d[h]=a.od.pa(NaN,NaN,NaN):d[h].iv();if(null==e)return 0;c=e.Qa(3);var f=e.Qa(0),k=e.Qa(1);e.KW(d,b);h=0;for(g=e.D();h<g;h++)b=c.read(h),f.TW(2*h,d[b]),d[b].z=k.read(h);return e.D()};g.prototype.Vg=function(c,b){if(this.He.No()||c.u())return c;if(33==c.G())return this.DJ(c);var d=this.He.he,h=this.He.Ee,g=d.Fb(),e=h.Fb();if(0==g&&g==e)return d=
d.Zi(),h=h.Zi(),d/=h,h=new a.Gd,h.Vp(d,d),d=a.T.me(c),d.Vc(h),d;switch(c.G()){case 1607:case 1736:h=this.BJ(c,b);break;case 550:h=this.zW(c,b);break;case 197:h=this.yW(c,b);break;default:throw a.g.X("");}return h};g.prototype.DJ=function(c){var b=c.w(),d=[];d[0]=b;this.fs(d,1,d);c=new a.Wa(c);c.rb(d[0]);return c};g.prototype.BJ=function(c,b){if(c.on())throw a.g.X("curves not supported");var d=c.G();if(1736==d)return this.AW(c,b);if(1607==d)return this.BW(c,b);throw a.g.X("projectMultiPath");};g.prototype.AW=
function(c,b){var d=this.He.he,h=this.He.Ee,m=d.Fb(),e=h.Fb(),f=a.J.vv(Math.min(c.D(),64));c=a.Ja.me(c);if(3==m){var k=d.jj,d=k.Ik(),m=d.Fb();c=k.Il(c,!0);this.qq(k,a.Um.forward,c);c=k.Hl(c,!0)}k=null;3==e&&(k=h.jj,h=k.Ik(),e=h.Fb());var l=2==m,n=2==e,p=n?h.lc():h,w=!n&&!this.Gw,e=!1,r=c;if(l){if(r=a.Ib.AJ(r,d,this.fp,b),r.u())return r}else{c=new a.h;r.ac(c);m=d.oe();if(c.A<m.A||c.B>m.B){var t=a.h.pa(c.o-1,m.A,c.v+1,m.B),r=a.th.rq(r,t,d,NaN,0,b);if(r.u())return r}c.O()>2*m.O()&&(r=a.Ib.Aq(r,-2*m.O(),
2*m.O(),d,!0,0,!0,b))}c=this.lI;(m=!isNaN(c))&&(r=a.Pm.local().V(r,c,b));var t=n?h.Wj():null,u=NaN;l&&(u=d.ri());var v=null!=h.Us();if(this.$H)l&&(a.Ib.qs(d,u,r,f),m&&(l=d.Dh(),u=d.lc().Dh(),c*=u/l)),a.Ib.ps(this.He,r,w,f),m&&(l=d.lc().Dh(),u=h.lc().Dh(),c*=u/l),d=r;else{var x=new a.Ua(r.description);x.WE(r);l&&(a.Ib.qs(d,u,x,f),m&&(l=d.Dh(),u=d.lc().Dh(),c*=u/l));a.Ib.ps(this.He,x,w,f);m&&(l=d.lc().hn(),u=h.lc().hn(),c*=u/l);w=NaN;n?(t=h.Wj(),w=h.ri()):isNaN(this.vn)||(w=this.vn);l=g.ye(d)|g.ye(h);
u=10*p.pe(0);this.Gw&&(l=3,u=0);d=a.Ib.kS(r,d,x,p,w,b,l,u)}v&&(d=a.Ib.lF(d,h,b));n&&(e||(n=p.oe().O(),d.hg(0,0).O()>=n-p.pe(0)&&(p=t.getNorthPoleLocation(),n=t.getSouthPoleLocation(),r=t.getNorthPoleGeometry(),t=t.getSouthPoleGeometry(),w=0,r==a.Ag.PE_POLE_POINT&&p!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(w=1),t==a.Ag.PE_POLE_POINT&&n!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(w|=2),0!==w&&(e=!0))),d=a.Ib.wA(d,h,this.Jn,b),m&&(d=a.Pm.local().V(d,c,b)),a.Ib.ry(h,d,f));if(d.u())return d;e&&(d=a.Qm.local().V(d,h,!1,b));
null!=k&&(d=k.Hl(d,!1),this.qq(k,a.Um.reverse,d),d=k.Il(d,!1));return d};g.ye=function(c){if(2!=c.Fb())return 0;var b=0,d=c.Wj();c=d.getNorthPoleLocation();var h=d.getSouthPoleLocation(),g=d.getNorthPoleGeometry(),d=d.getSouthPoleGeometry();g==a.Ag.PE_POLE_POINT&&c!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(b=1);d==a.Ag.PE_POLE_POINT&&h!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(b|=2);return b};g.prototype.BW=function(c,b){var d=this.He.he,h=this.He.Ee,m=d.Fb(),e=h.Fb(),f=a.J.vv(Math.min(c.D(),64));c=a.Ua.me(c);if(3==
m){var k=d.jj,d=k.Ik(),m=d.Fb();c=k.Il(c,!0);this.qq(k,a.Um.forward,c);c=k.Hl(c,!0)}k=null;3==e&&(k=h.jj,h=k.Ik(),e=h.Fb());var l=2==m,m=(e=2==e)?h.lc():h,n=!e&&!this.Gw;if(l){if(c=a.Ib.AJ(c,d,this.fp,b),c.u())return c}else{var p=new a.h;c.ac(p);var w=d.oe();if(p.A<w.A||p.B>w.B)if(p=a.h.pa(p.o-1,w.A,p.v+1,w.B),c=a.th.rq(c,p,d,NaN,0,b),c.u())return c}var r=NaN;l&&(r=d.ri());var p=null!=h.Us(),w=this.lI,t=!isNaN(w);t&&(c=a.Pm.local().V(c,w,b));if(this.$H)l&&a.Ib.qs(d,r,c,f),t&&(l=d.Dh(),r=d.lc().Dh(),
w*=r/l),a.Ib.ps(this.He,c,n,f),t&&(l=d.lc().Dh(),r=h.lc().Dh(),w*=r/l),d=c;else{var u=new a.Ua(c.description);u.WE(c);l&&(a.Ib.qs(d,r,u,f),t&&(l=d.Dh(),r=d.lc().Dh(),w*=r/l));a.Ib.ps(this.He,u,n,f);t&&(l=d.lc().Dh(),r=h.lc().Dh(),w*=r/l);n=NaN;e?n=h.ri():isNaN(this.vn)||(n=this.vn);l=g.ye(d)|g.ye(h);r=10*m.pe(0);this.Gw&&(l=3,r=0);d=a.Ib.lS(c,d,u,m,n,b,l,r)}p&&(d=a.Ib.lF(d,h,b));e&&(d=a.Ib.wA(d,h,this.Jn,b),t&&(d=a.Pm.local().V(d,w,b)),a.Ib.ry(h,d,f));if(d.u())return d;null!=k&&(d=k.Hl(d,!1),this.qq(k,
a.Um.reverse,d),d=k.Il(d,!1));return d};g.prototype.yW=function(c,b){var d=(c.ea()+c.O())/400;if(0!=d){var h=a.Pm.local().V(c,d,b),h=this.BJ(h,b),d=c.Ka();h.Wn(d)}else d=new a.Wa(c.Bq()),h=this.DJ(d),d=c.Ka(),h.u()?d.Oa():(c.copyTo(d),h=h.w(),d.I(h.x,h.y,h.x,h.y));return d};g.prototype.zW=function(c,b){c=a.T.me(c);var d=this.He.he,h=this.He.Ee,g=d.Fb(),e=h.Fb(),f=a.J.vv(Math.min(c.D(),64));if(3==g){var k=d.jj,d=k.Ik(),g=d.Fb();c=k.Hl(c,!0);this.qq(k,a.Um.forward,c);c=k.Il(c,!0)}if(2==g){this.fp==
a.Qi.Clip?c=a.wk.local().V(c,d.Ok(),d,b):d.Ic()&&(g=new a.h,c.ac(g),d.oe().contains(g)||(this.fp==a.Qi.PannableFold&&(c=a.Ib.Qj(c,d)),a.Ib.zu(c,d.oe(),d.pe(0),!0),c=a.Ib.cn(c,d,0,!0,0,b)));if(c.u())return c;a.Ib.qs(d,0,c,f)}else a.Ib.zu(c,d.oe(),d.pe(0),!0);a.Ib.ps(this.He,c,!1,f);d=0;g=!1;k=null;3==e&&(g=!0,k=h.jj,h=k.Ik(),e=h.Fb());(e=2==e)?d=h.ri():isNaN(this.vn)||(d=this.vn);e&&this.Jn!=a.Qi.Clip||(c=a.Ib.cn(c,h.lc(),d,!1,0,b));if(e&&(c=a.Ib.wA(c,h,this.Jn,b),a.Ib.ry(h,c,f),c.u()))return c;g&&
(c=k.Hl(c,!0),this.qq(k,a.Um.reverse,c),c=k.Il(c,!0));return c};g.prototype.qq=function(c,b,d){var h=d.D();if(0!=h){for(var g=d.Qa(0),e=a.J.df(200,0),f=[],k=0;k<h;){var l=Math.min(100,h-k);g.rl(2*k,2*l,e,2,!0);for(var n=0;n<l;++n)f[n]=a.b.pa(e[2*k],e[2*k+1]);c.Fu(b,f,l);k+=l}d.Cc(1993)}};g.Fj=function(c,b,d){if(null==c||null==b||!b.Ic())throw a.g.X("Invalid Arguement");if(c.u())return c;var h;h=c.G();197==h?(h=new a.Ja(c.description),h.hd(c,!1)):a.T.Nc(h)?(h=new a.Ua(c.description),h.cc(c,!0)):h=
c;h=a.Ib.Qj(h,b);return h.u()?h:a.Ib.cn(h,b,0,h!=c,0,d)};g.Rj=function(c,b,d,h){if(null==c||null==b||!b.Ic())throw a.g.X("Invalid Arguement");if(c.u())return c;var m=c.G();if(a.T.Hc(m)){c=a.Ib.Qj(c,b);m=new a.h;c.s(m);for(var e=a.na.Xy(b,m,!1),f=b.Ch(),k=Math.floor((m.o-f.o)/f.O())*f.O()+f.o;k<m.v;)k>m.o+e&&k<m.v-e&&(c=a.Ib.ST(c,b,d,k)),k+=f.O()}else{if(197==m)return m=new a.Ja(c.description),m.hd(c,!1),g.Rj(m,b,d,h);if(a.T.Nc(m))return m=new a.Ua(c.description),m.cc(c,!0),g.Rj(m,b,d,h)}return g.Fj(c,
b,h)};g.Lm=function(c,b,d,h){var m=b.Fb(),e=new a.kE;b.NW(e);if(0==m)return g.Ej(c,e,b,d);h==a.aq.foldAndClipWithHorizon&&b.Ic()&&(c=g.Fj(c,b,d));c=g.Ej(c,e,b,d);if(h==a.aq.clipToDomainOnly||c.u())return c;if(1==m)return h==a.aq.clipWithHorizon?(h=new a.h,c.ac(h),m=b.oe(),e=.01*m.O(),h.A=m.A,h.B=m.B,h.o-=e,h.v+=e,a.th.rq(c,h,b,NaN,0,d)):c;if(2==m)return m=b.Ok(),h==a.aq.clipWithHorizon||h==a.aq.foldAndClipWithHorizon?(b=a.wk.local().V(c,m,b,d),b==m?a.T.me(b):b):c;if(3==m)return c;throw a.g.X("missing implementation");
};g.Ej=function(c,b,d,h){var g=b.xT(),e=c.hasAttribute(1),f=c.hasAttribute(2),k=new a.yc;k.Oa();var l=new a.yc;l.Oa();e&&(k=b.zT());f&&(l=b.TS());b=a.th.rq(c,g,d,NaN,0,h);e&&(e=b.hg(1,0),k.contains(e)||(c==b&&(b=a.T.me(b)),a.na.IK(b,k,1)));f&&(e=b.hg(2,0),l.contains(e)||(c==b&&(b=a.T.me(b)),a.na.IK(b,l,2)));return b};return g}();a.qo=g})(y||(y={}));(function(a){var g=function(g){function c(b,d,c,m){var h=g.call(this)||this;void 0===b?h.description=a.we.Hg():void 0===c?h.description=b:(h.description=
a.we.Hg(),h.zC(b,d),h.Am(c,m));return h}Y(c,g);c.prototype.G=function(){return 322};c.prototype.Rb=function(){var a=this.ua-this.sa,d=this.ra-this.oa;return Math.sqrt(a*a+d*d)};c.prototype.eh=function(a){var b=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(b*b+c*c)<=a};c.prototype.Mo=function(){return!1};c.prototype.Dg=function(){var b=new a.b;b.xc(this.Ac(),this.ec());return b};c.CQ=function(a,d){return new c(a.x,a.y,d.x,d.y)};c.prototype.Wn=function(b){b.Oa();b.Eg(this.description);var d=new a.h;
this.s(d);b.Np(d);for(var d=1,c=this.description.Ga;d<c;d++)for(var g=this.description.pd(d),e=a.ma.Xa(g);d<e;d++){var f=this.hg(g,0);b.setInterval(g,0,f)}};c.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};c.prototype.Jp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.Zd(0,1,0));a.Nb(this.sa,this.oa,this.Zd(1,1,0))};c.prototype.Vc=function(b){if(b instanceof a.Gd){this.zc();var d=new a.b;d.x=this.ua;d.y=this.ra;b.ai(d,d);this.ua=d.x;this.ra=d.y;d.x=this.sa;d.y=this.oa;b.ai(d,
d);this.sa=d.x;this.oa=d.y}else this.zc(),d=new a.od,d.x=this.ua,d.y=this.ra,d.z=this.Zd(0,1,0),d=b.Yp(d),this.ua=d.x,this.ra=d.y,this.vo(0,1,0,d.z),d.x=this.sa,d.y=this.oa,d.z=this.Zd(1,1,0),d=b.Yp(d),this.sa=d.x,this.oa=d.y,this.vo(1,1,0,d.z)};c.prototype.Ka=function(){return new c(this.description)};c.prototype.yy=function(a,d){return(this.sa-a-(this.ua-a))*(this.oa-d+(this.ra-d))*.5};c.prototype.cy=function(a){return a*this.Rb()};c.prototype.PH=function(a){return a/this.Rb()};c.prototype.HG=function(b){return a.Ub.Xq(this.ua,
this.sa,b)};c.prototype.xS=function(b){return a.Ub.Xq(this.ra,this.oa,b)};c.prototype.Ml=function(b,d){var c=new a.Bg;this.yh(b,d,c);return c.get()};c.prototype.yh=function(b,d,c){if(null==c)throw a.g.F();c.Hs();c=c.get();c.Eg(this.description);var h=new a.b;this.hc(b,h);c.zC(h.x,h.y);this.hc(d,h);c.Am(h.x,h.y);for(var h=1,g=this.description.Ga;h<g;h++)for(var e=this.description.Qd(h),f=a.ma.Xa(e),k=0;k<f;k++){var l=this.Wc(b,e,k);c.Tx(e,k,l);l=this.Wc(d,e,k);c.Lx(e,k,l)}};c.prototype.Wc=function(b,
d,c){if(0==d)return 0==c?this.hc(b).x:this.hc(b).y;switch(a.ma.Zz(d)){case 0:return.5>b?this.bt(d,c):this.Ms(d,c);case 1:var h=this.bt(d,c);d=this.Ms(d,c);return a.Ub.Xq(h,d,b);case 2:throw a.g.X("not implemented");}throw a.g.za();};c.prototype.ne=function(a,d){var b=this.sa-this.ua,c=this.oa-this.ra,g=b*b+c*c;if(0==g)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*c)/g;d||(0>b?b=0:1<b&&(b=1));return b};c.prototype.Tq=function(a,d,c,g){if(a){a=this.oa-this.ra;if(0==a)return d==this.oa?-1:0;d=(d-this.ra)/
a;if(0>d||1<d)return 0;null!=c&&(c[0]=this.HG(d))}else{a=this.sa-this.ua;if(0==a)return d==this.sa?-1:0;d=(d-this.ua)/a;if(0>d||1<d)return 0;null!=c&&(c[0]=this.xS(d))}null!=g&&(g[0]=d);return 1};c.prototype.kf=function(a,d){var b=this.oa-this.ra;if(0==b)return a==this.oa?d:NaN;b=(a-this.ra)/b;a=this.HG(b);1==b&&(a=this.sa);return a};c.prototype.fv=function(a,d,c){return 0<=this.lq(a.x,a.y,d,c)};c.prototype.Ti=function(a,d,c){return 0<=this.lq(a,d,c,!0)};c.prototype.ot=function(a,d){return this.fv(a,
d,!1)};c.prototype.pJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,d=this.description.Er-2;a<d;a++){var c=this.ka[a];this.ka[a]=this.ka[a+d];this.ka[a+d]=c}}};c.prototype.jv=function(b,d){b=a.b.pa(b,d);b.sub(this.ec());d=new a.b;d.xc(this.Ac(),this.ec());var c=d.Vi(b);b=8.881784197001252E-16*(Math.abs(d.x*b.y)+Math.abs(d.y*b.x));return c>b?-1:c<-b?1:0};c.prototype.lq=function(b,d,c,g){var h=
this.ua,m=this.ra,e=b-h,f=d-m,e=Math.sqrt(e*e+f*f);if(e<=Math.max(c,6.661338147750939E-16*e))return g&&0==e?NaN:0;e=b-this.sa;f=d-this.oa;e=Math.sqrt(e*e+f*f);if(e<=Math.max(c,6.661338147750939E-16*e))return g&&0==e?NaN:1;e=this.sa-this.ua;f=this.oa-this.ra;g=Math.sqrt(e*e+f*f);if(0<g){var k=1/g,e=e*k,f=f*k,l=b-h,n=d-m,p=l*e+n*f,w=1.7763568394002505E-15*(Math.abs(l*e)+Math.abs(n*f)),r=e,e=-f,f=r,w=Math.max(c,w);if(p<-w||p>g+w)return NaN;if(Math.abs(l*e+n*f)<=Math.max(c,1.7763568394002505E-15*(Math.abs(l*
e)+Math.abs(n*f)))&&(e=a.J.tk(p*k,0,1),.5>=e?(f=this.ua+(this.sa-this.ua)*e,g=this.ra+(this.oa-this.ra)*e):(f=this.sa-(this.sa-this.ua)*(1-e),g=this.oa-(this.oa-this.ra)*(1-e)),a.b.wz(f,g,b,d)<=c)){if(.5>e){if(a.b.wz(f,g,h,m)<=c)return 0}else if(a.b.wz(f,g,this.sa,this.oa)<=c)return 1;return e}}return NaN};c.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.hO(a)};c.prototype.LE=function(b,d,c){var h=c?this.ua:this.sa;c=c?this.ra:this.oa;var g=new a.b;
g.x=b.sa-h;g.y=b.oa-c;return d.pi(g)>6.661338147750939E-16*d.CE(g)?(g.x=b.ua-h,g.y=b.ra-c,d.pi(g)<=6.661338147750939E-16*d.CE(g)):!0};c.prototype.KE=function(b){var d=new a.b;d.x=this.sa-this.ua;d.y=this.oa-this.ra;if(!this.LE(b,d,!1))return!1;d.Kr();return this.LE(b,d,!0)?!0:!1};c.dc=function(a,d){var b=a.jv(d.ua,d.ra),c=a.jv(d.sa,d.oa);if(0>b&&0>c||0<b&&0<c)return!1;b=d.jv(a.ua,a.ra);c=d.jv(a.sa,a.oa);if(0>b&&0>c||0<b&&0<c)return!1;b=a.Rb();c=d.Rb();return b>c?a.KE(d):d.KE(a)};c.tb=function(b,d,
c){var h=a.b.pa(NaN,NaN),g=b.sa-b.ua,e=b.oa-b.ra,f=d.sa-d.ua,k=d.oa-d.ra,l=f*e-g*k;if(0==l)return h;var n=8.881784197001252E-16*(Math.abs(f*e)+Math.abs(g*k)),p=d.ua-b.ua,w=d.ra-b.ra,r=f*w-p*k,t=r/l,u=Math.abs(l),f=(8.881784197001252E-16*(Math.abs(f*w)+Math.abs(p*k))*u+n*Math.abs(r))/(l*l)+2.220446049250313E-16*Math.abs(t);if(t<-f||t>1+f)return h;k=g*w-p*e;f=k/l;g=(8.881784197001252E-16*(Math.abs(g*w)+Math.abs(p*e))*u+n*Math.abs(k))/(l*l)+2.220446049250313E-16*Math.abs(f);if(f<-g||f>1+g)return h;t=
a.J.tk(t,0,1);g=a.J.tk(f,0,1);e=b.hc(t);l=d.hc(g);n=new a.b;n.xc(e,l);if(n.length()>c&&(n.add(e,l),n.scale(.5),t=b.ne(n,!1),g=d.ne(n,!1),b=b.hc(t),d=d.hc(g),b.sub(d),b.length()>c))return h;h.ja(t,g);return h};c.lO=function(a,d,h,g){var b=0;if(a.ua==d.ua&&a.ra==d.ra||a.ua==d.sa&&a.ra==d.oa)if(b++,!g)return 1;if(a.sa==d.ua&&a.oa==d.ra||a.sa==d.sa&&a.oa==d.oa){b++;if(2==b)return 2;if(!g)return 1}return d.Ti(a.ua,a.ra,h)||d.Ti(a.sa,a.oa,h)||a.Ti(d.ua,d.ra,h)||a.Ti(d.sa,d.oa,h)?1:g&&0!=b?0:0==c.dc(a,d)?
0:1};c.Cy=function(b,d,h,g,e,f){var m=0,q=b.lq(d.ua,d.ra,f,!1),k=b.lq(d.sa,d.oa,f,!1),C=d.lq(b.ua,b.ra,f,!1),l=d.lq(b.sa,b.oa,f,!1);isNaN(q)||(null!=g&&(g[m]=q),null!=e&&(e[m]=0),null!=h&&(h[m]=a.b.pa(d.ua,d.ra)),m++);isNaN(k)||(null!=g&&(g[m]=k),null!=e&&(e[m]=1),null!=h&&(h[m]=a.b.pa(d.sa,d.oa)),m++);2==m||isNaN(C)||0==q&&0==C||0==k&&1==C||(null!=g&&(g[m]=0),null!=e&&(e[m]=C),null!=h&&(h[m]=a.b.pa(b.ua,b.ra)),m++);2==m||isNaN(l)||1==q&&0==l||1==k&&1==l||(null!=g&&(g[m]=1),null!=e&&(e[m]=l),null!=
h&&(h[m]=a.b.pa(d.sa,d.oa)),m++);if(0<m)return 2==m&&null!=g&&g[0]>g[1]&&(b=g[0],g[0]=g[1],g[1]=b,null!=e&&(g=e[0],e[0]=e[1],e[1]=g),null!=h&&(e=a.b.pa(h[0].x,h[0].y),h[0]=h[1],h[1]=e)),m;m=c.tb(b,d,f);if(isNaN(m.x))return 0;null!=h&&(h[0]=b.hc(m.x));null!=g&&(g[0]=m.x);null!=e&&(e[0]=m.y);return 1};c.prototype.hH=function(){return 0};c.prototype.iq=function(){};c.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+
"]"};return c}(a.iE);a.Hb=g})(y||(y={}));(function(a){var g=function(){function a(){this.fm=[];this.Ca=-1}a.prototype.Ia=function(){return this.Ca};a.prototype.next=function(){if(null!=this.fm&&0!=this.fm.length){this.Ca++;var a=this.fm[0];1>=this.fm.length?this.fm=[]:this.fm=this.fm.slice(1);return a}return this.fm=null};a.prototype.wY=function(a){this.fm.push(a)};a.prototype.Oe=function(){return!0};return a}();a.wM=g})(y||(y={}));(function(a){(function(a){a[a.enumFillRuleOddEven=0]="enumFillRuleOddEven";
a[a.enumFillRuleWinding=1]="enumFillRuleWinding"})(a.kN||(a.kN={}));var g=function(g){function c(b,d){var c=g.call(this)||this;c.Yf=!1;c.ur=null;c.hr=0;c.gr=0;c.cj=null;c.gh=!1;c.kb=null;c.jb=null;c.$e=null;c.uj=null;c.Vd=null;c.ir=0;c.Ta=0;c.mr=0;if(void 0===d)c.Yf=b,c.gh=!1,c.ir=0,c.hr=0,c.gr=0,c.qa=0,c.description=a.we.Hg();else{if(null==d)throw a.g.F();c.Yf=b;c.gh=!1;c.ir=0;c.hr=0;c.gr=0;c.qa=0;c.description=d}c.cj=null;c.Ta=0;return c}Y(c,g);c.prototype.on=function(){return 0<this.ir};c.prototype.By=
function(){this.zc();null==this.ur?this.ur=new a.Wa(this.description):this.ur.Eg(this.description)};c.prototype.$x=function(b,d){var c=new a.b;c.x=b;c.y=d;this.Bu(c)};c.prototype.Bu=function(a){this.By();this.ur.rb(a);this.gh=!0};c.prototype.Of=function(b){if(b.u())throw a.g.F();this.tm(b.description);this.By();b.copyTo(this.ur);this.gh=!0};c.prototype.xy=function(){var b=1;this.gh&&(this.By(),null==this.kb?(this.kb=a.Tc.wh(2),this.kb.write(0,0),this.jb=a.Tc.vq(2,0)):(this.kb.resize(this.kb.size+
1,0),this.jb.resize(this.jb.size+1,0)),this.Yf&&this.jb.write(this.jb.size-2,1),b++);var d=this.qa;this.kb.write(this.kb.size-1,this.qa+b);this.El(d+b);this.jb.write(this.kb.size-1,0);this.gh&&(this.xu(d,this.ur),this.gh=!1)};c.prototype.ak=function(a,d){this.xy();this.rb(this.qa-1,a,d)};c.prototype.bj=function(a){this.xy();this.rb(this.qa-1,a)};c.prototype.lineTo=function(a){this.xy();this.xu(this.qa-1,a)};c.prototype.SV=function(b){this.zc();if(this.Yf)throw a.g.za();var d=this.aa();if(b>d)throw a.g.za();
if(this.Qb(b)){if(null==this.jb)throw a.g.za();var c=this.qa,g=this.wa(b),e=this.Fc(b);this.El(this.qa+1);this.vc();for(var f=0,k=this.description.Ga;f<k;f++)if(null!=this.ya[f]){var l=a.ma.Xa(this.description.Qd(f));this.ya[f].Tk(l*e,this.ya[f],l*g,l,!0,1,l*c)}for(;d>b;d--)c=this.kb.read(d),this.kb.write(d,c+1);this.jb.dz(b,1)}};c.prototype.sq=function(){var a;this.Eu();void 0===a&&(this.gh=!1,a=this.aa()-1);var d=this.jb.read(a);this.jb.write(a,d|1);null!=this.$e&&(a=this.Fc(a)-1,this.$e.write(a,
1),this.uj.write(a,-1))};c.tb=function(a){return c.N[a]};c.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};c.prototype.Ko=function(a){if(this.Qb(a))return!0;var b=this.wa(a);a=this.Fc(a)-1;if(b>a)return!1;b=this.Ba(b);a=this.Ba(a);return b.vb(a)};c.prototype.ht=function(a){return 0!=(this.jb.read(a)&2)};c.prototype.cc=function(b,d){this.tm(b.description);if(322==b.G()){var c=new a.Wa;if(d||this.u())b.Kp(c),this.Of(c);b.Ip(c);this.lineTo(c)}else throw a.g.za();};c.prototype.oq=function(a){var b=
0==this.qa;this.$x(a.o,a.A);this.ak(a.o,a.B);this.ak(a.v,a.B);this.ak(a.v,a.A);this.sq();this.gh=!1;b&&this.kg(256,!1)};c.prototype.hd=function(b,d){if(!b.u()){for(var c=0==this.qa,g=new a.Wa(this.description),e=0;4>e;e++)b.gg(d?4-e-1:e,g),0==e?this.Of(g):this.lineTo(g);this.sq();this.gh=!1;c&&!d&&this.kg(256,!1)}};c.prototype.add=function(a,d){for(var b=0;b<a.aa();b++)this.Ui(a,b,!d)};c.prototype.Ui=function(a,d,c){this.Vf(-1,a,d,c)};c.prototype.Gl=function(a,d){this.uA(a,d)};c.prototype.zs=function(b,
d,c,g,e){e||0!=this.aa()||(e=!0);0>d&&(d=b.aa()-1);if(d>=b.aa()||0>c||0>g||g>b.ew(d))throw a.g.X("index out of bounds");if(0!=g){var h=b.Qb(d)&&c+g==b.ew(d);if(!h||1!=g){this.gh=!1;this.tm(b.description);c=b.wa(d)+c+1;e&&(g++,c--);h&&g--;h=this.qa;this.El(this.qa+g);this.vc();if(e){if(0==g)return;this.kb.add(this.qa);e=b.jb.read(d);e&=-5;this.Yf&&(e|=1);this.jb.write(this.jb.size-1,e);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);e=0;for(var m=this.description.Ga;e<m;e++){var q=this.description.pd(e),
f=a.ma.Xa(q),k=b.description.lg(q);0>k||null==b.ya[k]?this.ya[e].Zj(f*h,a.ma.be(q),g*f,f*h):this.ya[e].Tk(f*h,b.ya[k],f*c,g*f,!0,f,f*h)}if(this.on())throw a.g.za();if(b.ht(d))throw a.g.za();this.Cc(1993)}}};c.prototype.TJ=function(){for(var a=0,d=this.aa();a<d;a++)this.fX(a)};c.prototype.fX=function(b){this.vc();if(b>=this.aa())throw a.g.F();var d=this.wa(b),c=this.La(b);b=this.Qb(b)?1:0;for(var g=0,e=this.description.Ga;g<e;g++)if(null!=this.ya[g]){var f=a.ma.Xa(this.description.Qd(g));this.ya[g].Xd(f*
(d+b),f*(c-b),f)}this.Cc(1993)};c.prototype.Qr=function(b){this.vc();var d=this.aa();0>b&&(b=d-1);if(b>=d)throw a.g.F();for(var c=this.wa(b),g=this.La(b),e=0,f=this.description.Ga;e<f;e++)if(null!=this.ya[e]){var k=a.ma.Xa(this.description.Qd(e));this.ya[e].Hk(k*c,k*g,k*this.qa)}for(c=b+1;c<=d;c++)e=this.kb.read(c),this.kb.write(c-1,e-g);if(null==this.jb)for(c=b+1;c<=d;c++)b=this.jb.read(c),this.jb.write(c-1,b);this.kb.resize(d);this.jb.resize(d);this.qa-=g;this.kh-=g;this.Cc(1993)};c.prototype.Vf=
function(b,d,c,g){if(d==this)throw a.g.F();if(c>=d.aa())throw a.g.F();var h=this.aa();if(b>h)throw a.g.F();0>b&&(b=h);0>c&&(c=d.aa()-1);this.gh=!1;this.tm(d.description);d.vc();var m=d.wa(c),e=d.La(c),f=this.qa,k=d.Qb(c)&&!g?1:0;this.El(this.qa+e);this.vc();for(var l=b<h?this.wa(b):f,n=0,p=this.description.Ga;n<p;n++){var w=this.description.Qd(n),r=d.description.lg(w),t=a.ma.Xa(w);0<=r&&null!=d.ya[r]?(0!=k&&this.ya[n].Tk(l*t,d.ya[r],t*m,t,!0,t,t*f),this.ya[n].Tk((l+k)*t,d.ya[r],t*(m+k),t*(e-k),g,
t,t*(f+k))):this.ya[n].Zj(l*t,a.ma.be(w),t*e,t*f)}this.kb.add(f+e);for(g=h;g>=b+1;g--)m=this.kb.read(g-1),this.kb.write(g,m+e);d.ht(c);this.jb.add(0);for(g=h-1;g>=b+1;g--)h=this.jb.read(g),h&=-5,this.jb.write(g+1,h);h=d.cT().read(c);h&=-5;this.Yf&&(h|=1);this.jb.write(b,h)};c.prototype.uA=function(b,d){var c=-1,g=this.aa();if(c>g)throw a.g.F();0>c&&(c=g);this.gh=!1;var e=this.qa;this.El(this.qa+d);this.vc();var f=c<g?this.wa(c):e;null!=b?this.ya[0].Sq(2*f,b,0,d,!0,2*e):(b=a.ma.be(0),this.ya[0].Zj(2*
f,b,2*d,2*e));for(var k=1,l=this.description.Ga;k<l;k++){b=this.description.pd(k);var n=a.ma.Xa(b);b=a.ma.be(b);this.ya[k].Zj(f*n,b,n*d,n*e)}this.kb.add(this.qa);for(e=g;e>=c+1;e--)f=this.kb.read(e-1),this.kb.write(e,f+d);this.jb.add(0);for(e=g-1;e>=c+1;e--)g=this.jb.read(e),g&=-5,this.jb.write(e+1,g);this.Yf&&this.jb.write(c,1)};c.prototype.sH=function(b,d,c){var h=-1;0>b&&(b=this.aa());if(b>this.aa()||h>this.La(b)||c>d.length)throw a.g.X("index out of bounds");if(0!=c){b==this.aa()&&(this.kb.add(this.qa),
this.Yf?this.jb.add(1):this.jb.add(0));0>h&&(h=this.La(b));this.vc();var g=this.qa;this.El(this.qa+c);this.vc();for(var e=0,f=this.description.Ga;e<f;e++){var k=this.description.Qd(e),l=a.ma.Xa(k);this.ya[e].no(l*(this.wa(b)+h+c),(g-this.wa(b)-h)*l,this.ya[e],l*(this.wa(b)+h),!0,l);0==e?this.ya[e].js(l*(this.wa(b)+h),c,d,0,!0):this.ya[e].$h(a.ma.be(k),(this.wa(b)+h)*l,c*l)}this.on()&&(this.$e.no(this.wa(b)+h+c,g-this.wa(b)-h,this.$e,this.wa(b)+h,!0,1),this.uj.no(this.wa(b)+h+c,g-this.wa(b)-h,this.uj,
this.wa(b)+h,!0,1),this.$e.$h(1,this.wa(b)+h,c),this.uj.$h(-1,this.wa(b)+h,c));b+=1;for(d=this.aa();b<=d;b++)this.kb.write(b,this.kb.read(b)+c)}};c.prototype.Wf=function(b,d,c){var h=this.aa();0>b&&(b=this.aa());if(b>=h||d>this.La(b))throw a.g.X("index out of bounds");b==this.aa()&&(this.kb.add(this.qa),this.Yf?this.jb.add(1):this.jb.add(0));0>d&&(d=this.La(b));var g=this.qa;this.El(this.qa+1);this.vc();var e=this.wa(b);this.ya[0].dh(2*(e+d),c,2*g);c=1;for(var f=this.description.Ga;c<f;c++){var k=
this.description.Qd(c),l=a.ma.Xa(k);this.ya[c].Zj(l*(e+d),a.ma.be(k),l,l*g)}for(b+=1;b<=h;b++)this.kb.write(b,this.kb.read(b)+1)};c.prototype.fC=function(b,d){var c=this.aa();0>b&&(b=c-1);if(b>=c||d>=this.La(b))throw a.g.X("index out of bounds");this.vc();var g=this.wa(b);0>d&&(d=this.La(b)-1);g+=d;d=0;for(var e=this.description.Ga;d<e;d++)if(null!=this.ya[d]){var f=a.ma.Xa(this.description.Qd(d));this.ya[d].Hk(f*g,f,f*this.qa)}for(;c>=b+1;c--)g=this.kb.read(c),this.kb.write(c,g-1);this.qa--;this.kh--;
this.Cc(1993)};c.prototype.FF=function(b,d,c,g){b=this.wa(b)+d;c=this.wa(c)+g;if(c<b||0>b||c>this.D()-1)throw a.g.F();g=this.Fa();d=0;g.Tb(b);do{for(;g.Ea();){b=g.ba();if(g.Db()==c)break;b=b.Rb();d+=b}if(g.Db()==c)break}while(g.Ya());return d};c.prototype.CP=function(b,d,c){d=this.wa(b)+d;c=this.wa(b)+c;if(0>d||c>this.D()-1)throw a.g.F();var h=this.Fa();if(d>c){if(!this.Qb(b))throw a.g.F("cannot iterate across an open path");h.mC()}var g=b=0;h.Tb(d);do g+=b,b=h.ba().Rb();while(h.Db()!=c);return g};
c.prototype.Fg=function(){return a.Pi.Xm(this,null)};c.prototype.hU=function(b,d,c,g){for(var h=b;h<c-1;h++)if(this.Qb(h))throw a.g.F("cannot interpolate across closed paths");h=this.description.Ga;if(1!=h){var e=this.FF(b,d,c,g);if(0!=e)for(var m=1;m<h;m++){var f=this.description.pd(m);if(2!=a.ma.Zz(f))for(var k=a.ma.Xa(f),l=0;l<k;l++)this.jU(f,b,d,c,g,e,l)}}};c.prototype.gU=function(b,d,c){var h=this.description.Ga;if(1!=h){var g=this.CP(b,d,c);if(0!=g)for(var e=1;e<h;e++){var f=this.description.pd(e);
if(2!=a.ma.Zz(f))for(var k=a.ma.Xa(f),l=0;l<k;l++)this.iU(f,b,d,c,g,l)}}};c.prototype.jU=function(b,d,c,g,e,f,k){var h=this.Fa();d=this.wa(d)+c;g=this.wa(g)+e;e=this.Wc(b,d,k);c=this.Wc(b,g,k);var m=e,q=0;h.Tb(d);do if(h.Ea()){h.ba();if(h.Db()==g)break;this.setAttribute(b,h.Db(),k,m);h.Mi();do{d=h.ba();if(h.Lk()==g)return;d=d.Rb();q+=d;m=a.Ub.Xq(e,c,q/f);h.Lo()||this.setAttribute(b,h.Lk(),k,m)}while(h.Ea())}while(h.Ya())};c.prototype.iU=function(b,d,c,g,e,f){var h=this.Fa(),m=this.wa(d)+c;d=this.wa(d)+
g;if(d!=m){g=this.Wc(b,m,f);c=this.Wc(b,d,f);var q=0;h.Tb(m);h.mC();m=g;do{var k=h.ba();this.setAttribute(b,h.Db(),f,m);m=k.Rb();q+=m;m=a.Ub.Xq(g,c,q/e)}while(h.Lk()!=d)}};c.prototype.Oa=function(){this.ir=0;this.gh=!1;this.Vd=this.$e=this.uj=this.jb=this.kb=null;this.PE()};c.prototype.Vc=function(b){b instanceof a.Gd?this.mF(b,-1):this.VO(b)};c.prototype.mF=function(b,d){if(!this.u()&&!b.No()){this.vc();var c=this.ya[0],g=new a.b,e=new a.b,f,k,l;for(0>d?(f=this.on(),k=0,l=this.qa):(f=this.ht(d),
k=this.wa(d),l=this.Fc(d));k<l;k++){g.x=c.read(2*k);g.y=c.read(2*k+1);if(f&&(d=this.uj.read(k),0<=d))switch(this.$e.read(k)&7){case 2:e.x=this.Vd.read(d);e.y=this.Vd.read(d+1);b.ai(e,e);this.Vd.write(d,e.x);this.Vd.write(d+1,e.y);e.x=this.Vd.read(d+3);e.y=this.Vd.read(d+4);b.ai(e,e);this.Vd.write(d+3,e.x);this.Vd.write(d+4,e.y);break;case 4:throw a.g.za();}b.ai(g,g);c.write(2*k,g.x);c.write(2*k+1,g.y)}this.Cc(1993)}};c.prototype.VO=function(b){if(!this.u()){this.Rd(1);this.vc();for(var d=this.ya[0],
c=this.ya[1],g=new a.od,e=new a.od,f=this.on(),k=0;k<this.qa;k++){g.x=d.read(2*k);g.y=d.read(2*k+1);g.z=c.read(k);if(f){var l=this.uj.read(k);if(0<=l)switch(this.$e.read(k)&7){case 2:e.x=this.Vd.read(l);e.y=this.Vd.read(l+1);e.z=this.Vd.read(l+2);e=b.Yp(e);this.Vd.write(l,e.x);this.Vd.write(l+1,e.y);this.Vd.write(l+1,e.z);e.x=this.Vd.read(l+3);e.y=this.Vd.read(l+4);e.z=this.Vd.read(l+5);e=b.Yp(e);this.Vd.write(l+3,e.x);this.Vd.write(l+4,e.y);this.Vd.write(l+5,e.z);break;case 4:throw a.g.za();}}g=
b.Yp(g);d.write(2*k,g.x);d.write(2*k+1,g.y);c.write(k,g.z)}this.Cc(1993)}};c.prototype.My=function(){null==this.kb&&(this.kb=a.Tc.wh(1,0),this.jb=a.Tc.vq(1,0));null!=this.$e&&(this.$e.resize(this.kh,1),this.uj.resize(this.kh,-1))};c.prototype.iq=function(b){b.gh=!1;b.ir=this.ir;b.mr=this.mr;null!=this.kb?b.kb=a.ha.Dk(this.kb):b.kb=null;null!=this.jb?b.jb=a.Km.Dk(this.jb):b.jb=null;null!=this.uj?b.uj=a.ha.Dk(this.uj):b.uj=null;null!=this.$e?b.$e=a.Km.Dk(this.$e):b.$e=null;null!=this.Vd?b.Vd=a.Pd.Dk(this.Vd):
b.Vd=null;b.hr=this.hr;b.gr=this.gr;this.Ak(1024)?b.cj=null:b.cj=this.cj};c.prototype.Rb=function(){if(!this.Ak(512))return this.hr;for(var b=this.Fa(),d=new a.ny(0);b.Ya();)for(;b.Ea();)d.add(b.ba().Rb());this.hr=d.ln();this.kg(512,!1);return d.ln()};c.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof c&&g.prototype.Eb.call(this,a)))return!1;var b=this.aa();return b!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,b+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,b)?!1:g.prototype.Eb.call(this,
a)};c.prototype.Fa=function(){return new a.xN(this)};c.prototype.Ly=function(a){g.prototype.Ly.call(this,a);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};c.prototype.Bo=function(a,d){g.prototype.Bo.call(this,a,d);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};c.prototype.Ey=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};c.prototype.ef=function(){if(!this.Yf)return 0;this.lv();return this.gr};c.prototype.rw=function(a){if(!this.Yf)return!1;
if(!this.Ak(8))return 0!=(this.jb.read(a)&4);this.lv();return 0<this.cj.read(a)};c.prototype.Ym=function(a){if(!this.Yf)return 0;this.lv();return this.cj.read(a)};c.prototype.lv=function(){if(this.Ak(1024)){var b=this.aa();null==this.cj?this.cj=new a.Pd(b):this.cj.size!=b&&this.cj.resize(b);for(var b=new a.ny(0),d=new a.ny(0),c=new a.b,g=0,e=this.Fa();e.Ya();){d.reset();for(this.w(this.wa(e.Ta),c);e.Ea();)d.add(e.ba().yy(c.x,c.y));b.add(d.ln());var f=g++;this.cj.write(f,d.ln())}this.gr=b.ln();this.kg(1024,
!1)}};c.prototype.ZS=function(){if(this.Yf){this.Fl();for(var a=0,d=this.aa(),c=0;c<d;c++)0!=(this.jb.read(c)&4)&&a++}};c.prototype.Fl=function(){if(this.Ak(8)){this.lv();var b=this.aa();if(null==this.jb||this.jb.size<b)this.jb=a.Tc.vq(b+1);for(var d=1,c=0;c<b;c++){var g=this.cj.read(c);0==c&&(d=0<g?1:-1);0<g*d?this.jb.lC(c,4):this.jb.dz(c,4)}this.kg(8,!1)}};c.prototype.cw=function(b){var d=this.Ta,c=this.aa();if(0<=d&&d<c){if(b<this.Fc(d)){if(b>=this.wa(d))return d;d--}else d++;if(0<=d&&d<c&&b>=
this.wa(d)&&b<this.Fc(d))return this.Ta=d}if(5>c){for(d=0;d<c;d++)if(b<this.Fc(d))return this.Ta=d;throw a.g.X("corrupted geometry");}d=0;for(--c;c>d;){var g=d+(c-d>>1),e=this.wa(g);if(b<e)c=g-1;else if(d=this.Fc(g),b>=d)d=g+1;else return this.Ta=g}return this.Ta=d};c.prototype.NS=function(b){var d=this.Qa(0);this.dT();var c=this.Fc(b),g=this.wa(b);b=-1;var e=new a.b,f=new a.b;e.y=-Infinity;e.x=-Infinity;for(g+=0;g<c;g++)d.fc(2*g,f),-1==e.compare(f)&&(b=g,e.L(f));return b};c.prototype.lA=function(){var a=
this.D();if(!this.Yf)for(var a=a-this.aa(),d=0,c=this.aa();d<c;d++)this.Qb(d)&&a++;return a};c.prototype.ew=function(a){var b=this.La(a);this.Qb(a)||b--;return b};c.prototype.Ka=function(){return new c(this.Yf,this.description)};c.prototype.ub=function(){return this.Yf?2:1};c.prototype.G=function(){return this.Yf?1736:1607};c.prototype.dT=function(){this.Eu()};c.prototype.vK=function(a){this.kb=a;this.Cc(16777215)};c.prototype.oT=function(){this.Eu();return this.$e};c.prototype.cT=function(){this.Eu();
return this.jb};c.prototype.uK=function(a){this.jb=a;this.Cc(16777215)};c.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};c.prototype.Fc=function(a){return this.kb.read(a+1)};c.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};c.prototype.wa=function(a){return this.kb.read(a)};c.prototype.bv=function(b,d){null==this.ob&&(this.ob=new a.yl);d=a.ty.PW(d);var c=this.ob.Ii;if(null!=c)if(c.ll<b||d>c.kT())this.ob.Iy(null);else return!0;c=a.ty.create(this,b,d);this.ob.Iy(c);
return!0};c.prototype.kc=function(){var a=g.prototype.kc.call(this);if(!this.Gc()){var d=this.aa();null!=this.kb&&this.kb.Ck(a,0,d+1);null!=this.jb&&this.jb.Ck(a,0,d)}return a};c.prototype.aH=function(a){return null!=this.$e?this.$e.read(a):1};c.prototype.jc=function(b,d,c){var h=this.cw(b);if(b==this.Fc(h)-1&&!this.Qb(h))throw a.g.X("index out of bounds");this.vc();var g=this.$e,e=1;null!=g&&(e=g.read(b)&7);switch(e){case 1:d.Hs();break;case 2:throw a.g.za();case 4:throw a.g.za();default:throw a.g.za();
}d=d.get();c?d.Eg(a.we.Hg()):d.Eg(this.description);h=b==this.Fc(h)-1&&this.Qb(h)?this.wa(h):b+1;g=new a.b;this.w(b,g);d.Lc(g);this.w(h,g);d.Xc(g);if(!c)for(c=1,g=this.description.Ga;c<g;c++)for(var e=this.description.Qd(c),f=a.ma.Xa(e),k=0;k<f;k++){var l=this.Wc(e,b,k);d.Tx(e,k,l);l=this.Wc(e,h,k);d.Lx(e,k,l)}};c.prototype.nk=function(b,d){if(b>=this.aa())throw a.g.F();if(this.u())d.Oa();else{if(this.ht(b))throw a.g.X("not implemented");var c=this.Qa(0),g=new a.b,e=new a.h;e.Oa();var f=this.wa(b);
for(b=this.Fc(b);f<b;f++)c.fc(2*f,g),e.Nb(g);d.I(e)}};c.prototype.MW=function(b,d){if(b>=this.aa())throw a.g.F();if(this.u())d.Oa();else{if(this.ht(b))throw a.g.X("not implemented");var c=this.Qa(0),g=new a.b,e=new a.h;e.Oa();var f=this.wa(b);for(b=this.Fc(b);f<b;f++)c.fc(2*f,g),e.Nb(g);d.I(e)}};c.prototype.Kj=function(b){null==this.ob&&(this.ob=new a.yl);if(0==b||16>this.D())return!1;b=a.na.BF(this);this.ob.QE(b);return!0};c.prototype.WN=function(){null==this.ob&&(this.ob=new a.yl);if(null!=this.ob.tp)return!0;
this.ob.RE(null);var b=a.na.xP(this);this.ob.RE(b);return!0};c.prototype.Op=function(a){this.mr=a};c.prototype.Eo=function(){return this.mr};c.prototype.WE=function(b){if(this==b)throw a.g.X("MultiPathImpl.add");for(var d=this.aa(),c=0;c<b.aa();c++)this.Ui(b,c,!0),this.SV(d),d++};c.prototype.KP=function(b){var d=this.cw(b),c=this.wa(d);if(c!=b){d=this.Fc(d);if(b>=d||b<c)throw a.g.X("change_ring_start_point");for(var g=0,e=this.description.Ga;g<e;g++){var f=this.description.pd(g),f=a.ma.Xa(f);this.ya[g].rotate(c*
f,b*f,d*f)}}};c.N=[0,0,6,0,8,0];return c}(a.Ou);a.Bl=g})(y||(y={}));(function(a){var g=function(g){function c(b){var d=g.call(this)||this;if(void 0!==b){if(null==b)throw a.g.F();d.description=b}else d.description=a.we.Hg();d.qa=0;return d}Y(c,g);c.prototype.Ka=function(){return new c(this.description)};c.prototype.add=function(a){this.resize(this.qa+1);this.Zh(this.qa-1,a)};c.prototype.qv=function(b,d){this.resize(this.qa+1);var c=new a.b;c.ja(b,d);this.rb(this.qa-1,c)};c.prototype.Hd=function(b,
d,c){c=0>c?b.D():c;if(0>d||d>b.D()||c<d)throw a.g.F();if(d!=c){this.tm(b.description);c-=d;var h=this.qa;this.resize(this.qa+c);this.vc();for(var g=0,e=b.description.Ga;g<e;g++){var f=b.description.Qd(g),k=a.ma.Xa(f),l=this.Qa(f),f=b.Qa(f);l.Tk(h*k,f,d*k,c*k,!0,1,h*k)}}};c.prototype.$E=function(b,d){var c=b.length;d=0>d?c:d;if(0>c||0>d)throw a.g.F();if(0!=d){c=d-0;d=this.qa;this.resize(this.qa+c);for(var g=0;g<c;g++)this.rb(d+g,b[0+g])}};c.prototype.fC=function(b){if(0>b||b>=this.D())throw a.g.X("index out of bounds");
this.vc();for(var d=0,c=this.description.Ga;d<c;d++)if(null!=this.ya[d]){var g=a.ma.Xa(this.description.Qd(d));this.ya[d].Hk(g*b,g,g*this.qa)}this.qa--;this.kh--;this.Cc(1993)};c.prototype.resize=function(a){this.El(a)};c.prototype.iq=function(){};c.prototype.Oa=function(){g.prototype.PE.call(this)};c.prototype.Vc=function(b){if(b instanceof a.Gd){if(!this.u()){this.vc();for(var d=this.ya[0],c=new a.b,g=0;g<this.qa;g++)c.x=d.read(2*g),c.y=d.read(2*g+1),b.ai(c,c),d.write(2*g,c.x),d.write(2*g+1,c.y);
this.Cc(1993)}}else if(!this.u()){this.vc();this.Rd(1);this.vc();for(var d=this.ya[0],c=this.ya[1],e=new a.od,g=0;g<this.qa;g++){e.x=d.read(2*g);e.y=d.read(2*g+1);e.z=c.read(g);var f=b.Yp(e);d.write(2*g,f.x);d.write(2*g+1,f.y);c.write(g,f.z)}this.Cc(1993)}};c.prototype.ub=function(){return 0};c.prototype.G=function(){return 550};c.prototype.ef=function(){return 0};c.prototype.Rb=function(){return 0};c.prototype.Eb=function(a){return a==this?!0:a instanceof c?g.prototype.Eb.call(this,a):!1};c.prototype.KO=
function(b){var d=b.length,c=d;if(0>d||0>d||0>c)throw a.g.F();this.Rd(1);if(0!=c){d=c-0;c=this.qa;this.PJ(this.qa+d);for(var g=this.Qa(0),e=0;e<d;e++){var f=b[0+e].y;g.write(2*(c+e),b[0+e].x);g.write(2*(c+e)+1,f)}g=this.Qa(1);for(e=0;e<d;e++)g.write(c+e,b[0+e].z);this.Cc(1993)}};c.prototype.LO=function(b,d){var c=b.length;d=0>d?c:d;if(0>c||0>d)throw a.g.F();if(0!=d){c=d-0;if(0!=(c&1))throw a.g.F();d=this.qa;this.PJ(this.qa+c/2);this.ya[0].hs(2*d,c,b,0,!0)}};c.prototype.PJ=function(b){var d=this.qa;
this.El(b);if(this.qa>d){b=1;for(var c=this.description.Ga;b<c;b++){var g=this.description.pd(b),e=a.ma.Xa(g);this.ya[b].Zj(e*d,a.ma.be(g),e*(this.qa-d),e*d)}}};c.prototype.JW=function(b,d){var c=this.qa,c=Math.min(c,d+1E3);if(0>d||d>=this.qa||c<d||1E3!=b.length)throw a.g.F();var g=this.Qa(0),e=c-d,f=[];g.rl(2*d,2*e,f,0,!0);for(g=0;g<e;g++)b[g]=a.b.pa(f[2*g],f[2*g+1]);return c};c.prototype.KW=function(b,d){var c=this.qa,c=Math.min(c,0+d);if(0>=this.qa||0>c||b.length!=d)throw a.g.F();d=this.Qa(0);
var g=null,e=a.ma.be(1),f=this.hasAttribute(1);f&&(g=this.Qa(1));var c=c-0,k=[],l=[];d.rl(0,2*c,k,0,!0);g.rl(0,c,l,0,!0);for(d=0;d<c;d++)b[d]=new a.od(k[2*d],k[2*d+1],f?l[d]:e)};c.prototype.Ey=function(){};c.prototype.My=function(){};c.prototype.bv=function(){return!1};c.prototype.Kj=function(){return!1};c.prototype.Fg=function(){return null};return c}(a.Ou);a.Dd=g})(y||(y={}));(function(a){(function(a){a[a.NotDetermined=0]="NotDetermined";a[a.Structure=1]="Structure";a[a.DegenerateSegments=2]="DegenerateSegments";
a[a.Clustering=3]="Clustering";a[a.Cracking=4]="Cracking";a[a.CrossOver=5]="CrossOver";a[a.RingOrientation=6]="RingOrientation";a[a.RingOrder=7]="RingOrder";a[a.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";a[a.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";a[a.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(a.BM||(a.BM={}));var g=function(){function a(a,b,d){void 0===a?(this.Ji=0,this.rm=this.qm=-1):(this.Ji=a,this.qm=b,this.rm=d)}a.prototype.ls=function(a){this.Ji=a.Ji;this.qm=
a.qm;this.rm=a.rm};return a}();a.Yd=g})(y||(y={}));(function(a){var g=function(){function g(){}g.XZ=function(c){if(!1===c)throw a.g.yL();};g.GK=function(a){return isNaN(a)?NaN:0===a?a:0<a?1:-1};g.vv=function(a){var b;void 0===b&&(b=0);for(var d=[],c=0;c<a;c++)d[c]=g.df(2,b);return d};g.df=function(a,b){void 0===b&&(b=0);for(var d=[],c=0;c<a;c++)d[c]=b;return d};g.Ov=function(a,b){var d,c;void 0===d&&(d=0);for(void 0===c&&(c=a.length-1);d<=c;d++)a[d]=b};g.tk=function(a,b,d){return a<b?b:a>d?d:a};g.y_=
function(){return 4};g.bh=function(a,b){var d=5381;void 0!==b?d=(b<<5)+b+(a&255):d=(d<<5)+d+(a&255);d=(d<<5)+d+(a>>8&255);d=(d<<5)+d+(a>>16&255);return(d<<5)+d+(a>>24&255)&2147483647};g.$i=function(){throw Error("Not Implemented");};g.q_=function(){return-Infinity};g.v_=function(){return Infinity};g.e_=function(){return 2147483647};g.UZ=function(){return 2.220446049250313E-16};g.cZ=function(){return 1.7976931348623157E308};g.KB=function(a){return g.LN(a)+12345&2147483647};g.UH=function(a){var b=32,
d=a%g.qz|0,c=a/g.qz|0;if(0===(b&=63))return a;32>b?(a=d>>>b|c<<32-b,b=c>>b):(a=c>>b-32,b=0<=c?0:-1);return b*g.qz+(a>>>0)};g.LN=function(a){a|=0;return(1103495168*a|0)+(20077*a|0)|0};g.truncate=function(a){return 0>a?-1*Math.floor(Math.abs(a)):Math.floor(a)};g.zM=Math.pow(2,53)-1;g.WZ=-g.zM;g.eD=65536;g.sZ=16777216;g.qz=g.eD*g.eD;return g}();a.J=g})(y||(y={}));(function(a){(function(a){a[a.Project=0]="Project";a[a.Union=1]="Union";a[a.Difference=2]="Difference";a[a.Proximity2D=3]="Proximity2D";a[a.Relate=
4]="Relate";a[a.Equals=5]="Equals";a[a.Disjoint=6]="Disjoint";a[a.Intersects=7]="Intersects";a[a.Within=8]="Within";a[a.Contains=9]="Contains";a[a.Crosses=10]="Crosses";a[a.Touches=11]="Touches";a[a.Overlaps=12]="Overlaps";a[a.Buffer=13]="Buffer";a[a.Distance=14]="Distance";a[a.Intersection=15]="Intersection";a[a.Clip=16]="Clip";a[a.Cut=17]="Cut";a[a.DensifyByLength=18]="DensifyByLength";a[a.DensifyByAngle=19]="DensifyByAngle";a[a.LabelPoint=20]="LabelPoint";a[a.GeodesicBuffer=21]="GeodesicBuffer";
a[a.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";a[a.ShapePreservingDensify=23]="ShapePreservingDensify";a[a.GeodeticLength=24]="GeodeticLength";a[a.GeodeticArea=25]="GeodeticArea";a[a.Simplify=26]="Simplify";a[a.SimplifyOGC=27]="SimplifyOGC";a[a.Offset=28]="Offset";a[a.Generalize=29]="Generalize";a[a.SymmetricDifference=30]="SymmetricDifference";a[a.ConvexHull=31]="ConvexHull";a[a.Boundary=32]="Boundary";a[a.SimpleRelation=33]="SimpleRelation"})(a.WM||(a.WM={}));var g=function(){function g(){}
g.prototype.G=function(){return null};g.prototype.xo=function(){return!1};g.prototype.Av=function(){return!1};g.RZ=function(c){a.T.fh(c.G())&&(c=c.ob,null!=c&&(c.Iy(null),c.QE(null)))};return g}();a.bf=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 13};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c,g,e){return b instanceof a.T?(e=new a.gd(b),this.V(e,d,[c],!1,g).next()):
!0===g?(c=new a.KD(b,d,c,!1,e),a.ei.local().V(c,d,e)):new a.KD(b,d,c,!1,e)};c.N=null;return c}(a.bf);a.JD=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h,g){this.Ca=-1;this.ge=c;this.LA=b;this.At=d;this.XU=new a.h;this.XU.Oa();this.Zo=-1;this.mc=g}g.prototype.next=function(){for(var a;null!=(a=this.ge.next());)return this.Ca=this.ge.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.buffer(a,this.At[this.Zo]);return null};g.prototype.Ia=function(){return this.Ca};g.prototype.buffer=function(c,
b){return a.EL.buffer(c,b,this.LA,NaN,96,this.mc)};g.prototype.Oe=function(){return!0};return g}();a.KD=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 16};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c,g){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c,g).next()):new a.GM(b,d,c,g)};c.N=null;return c}(a.bf);a.FM=g})(y||(y={}));(function(a){var g=function(){function g(c,
b,d){this.Ca=-1;if(null==c)throw a.g.F();this.$=b;this.bl=c;this.ta=a.na.$d(d,b,!1)}g.prototype.next=function(){var c;return null!=(c=this.bl.next())?(this.Ca=this.bl.Ia(),a.le.clip(c,this.$,this.ta,0)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.Oe=function(){return!0};return g}();a.GM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 31};c.local=function(){null===c.N&&(c.N=new c);return c.N};
c.prototype.V=function(b,d,c){return b instanceof a.T?a.MD.EF(b):new a.MD(d,b,c)};c.N=null;return c}(a.bf);a.LD=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d){this.dB=new a.Lu;this.Ca=-1;if(null==b)throw a.g.F();this.bI=c;this.Oc=!1;this.bl=b;this.mc=d}g.prototype.next=function(){if(this.bI){if(!this.Oc){var a=this.BP(this.bl);this.Oc=!0;return a}return null}if(!this.Oc){a=this.bl.next();if(null!=a)return this.Ca=this.bl.Ia(),g.EF(a);this.Oc=!0}return null};g.prototype.Ia=function(){return this.Ca};
g.prototype.BP=function(a){for(var b;null!=(b=a.next());)this.dB.Jb(b);return this.dB.uS()};g.prototype.Oe=function(){if(this.Oc)return!0;if(!this.bI)throw a.g.X("Invalid call for non merging convex hull.");var c=this.bl.next();if(null!=c)return this.dB.Jb(c),!0;throw a.g.X("Expects a non-null geometry.");};g.EF=function(c){if(g.Xf(c))return c;var b=c.G();if(a.Bl.Nc(b))return b=new a.Ua(c.description),b.cc(c,!0),b;if(550==b&&2==c.D()){var d=new a.Wa,b=new a.Ua(c.description);c.xe(0,d);b.Of(d);c.xe(1,
d);b.lineTo(d);return b}return a.Lu.qQ(c)};g.Xf=function(c){if(c.u())return!0;var b=c.G();return 33==b||197==b?!0:a.Bl.Nc(b)?!1:550==b?1==c.D()?!0:!1:1607==b?1==c.aa()&&2>=c.D()?!0:!1:1!=c.aa()?!1:2>=c.D()?!0:a.Lu.JH(c,0)};return g}();a.MD=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 17};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c,g,e){return new a.IM(b,d,c,g,
e)};c.N=null;return c}(a.bf);a.HM=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h,g){this.pg=null;if(null==b||null==d)throw a.g.X("invalid argument");this.UU=c;this.YA=b;this.kI=d;c=a.na.Zv(b,d);this.ta=a.na.$d(h,c,!0);this.jI=-1;this.ie=g}g.prototype.Ia=function(){return 0};g.prototype.next=function(){this.hS();return++this.jI<this.pg.length?this.pg[this.jI]:null};g.prototype.hS=function(){if(null==this.pg)switch(this.pg=[],this.YA.G()){case 1607:this.jS();break;case 1736:this.iS()}};
g.prototype.jS=function(){var c=new a.Ua,b=new a.Ua,d=new a.Ua;this.pg.push(c);this.pg.push(b);var h=[];a.KL.IL(this.UU,this.YA,this.kI,this.ta,h,this.ie);for(var g=0;g<h.length;g++){var e=h[g];0==e.nx?c.add(e.Y,!1):1==e.nx||2==e.nx?b.add(e.Y,!1):3==e.nx?this.pg.push(e.Y):d.add(e.Y,!1)}d.u()||c.u()&&b.u()&&!(3<=this.pg.length)||this.pg.push(d);c.u()&&b.u()&&3>this.pg.length&&(this.pg.length=0)};g.prototype.iS=function(){var c=new a.ha(0),b=new a.ed,d=b.gG(),h=b.Jb(this.YA),g=b.Jb(this.kI),e=new a.Cg;
try{e.Wr(b,this.ta,this.ie);e.Ml(d,h,g,c);var f=b.Pe(h),k=new a.Ja,l=new a.Ja;this.pg.length=0;this.pg.push(k);this.pg.push(l);for(h=0;h<c.size;h++){var n,p=new a.ed,w=p.Jb(f),r=p.Jb(b.Pe(c.get(h)));e.Vr(p,this.ie);var t=e.nw(w,r);n=p.Pe(t);if(!n.u()){var u=b.NG(c.get(h),d);2==u?k.add(n,!1):1==u?l.add(n,!1):this.pg.push(n);var v=new a.ed,w=v.Jb(f),r=v.Jb(b.Pe(c.get(h)));e.Vr(v,this.ie);f=v.Pe(e.an(w,r))}}!f.u()&&0<c.size&&this.pg.push(f);k.u()&&l.u()&&(this.pg.length=0)}finally{e.ph()}};g.prototype.Oe=
function(){return!0};return g}();a.IM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 18};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c){if(b instanceof a.T)return b=new a.gd(b),this.V(b,d,c).next();if(0>=d)throw a.g.F();return new a.JM(b,d,c)};c.N=null;return c}(a.bf);a.Pm=g})(y||(y={}));(function(a){var g=function(){function g(a,b){this.Ca=-1;this.ge=a;this.Mt=b}
g.prototype.Ia=function(){return this.Ca};g.prototype.next=function(){var a;return null!=(a=this.ge.next())?(this.Ca=this.ge.Ia(),this.gR(a)):null};g.prototype.gR=function(c){if(c.u()||1>c.ub())return c;var b=c.G();if(1736==b||1607==b)return this.vz(c);if(a.T.Nc(b))return this.iR(c);if(197==b)return this.hR(c);throw a.g.za();};g.prototype.iR=function(c){if(c.Rb()<=this.Mt)return c;var b=new a.Ua(c.description);b.cc(c,!0);return this.vz(b)};g.prototype.hR=function(c){var b=new a.Ja(c.description);
b.hd(c,!1);var d=new a.h;c.s(d);c=d.ea();return d.O()<=this.Mt&&c<=this.Mt?b:this.vz(b)};g.prototype.vz=function(c){for(var b=c.Ka(),d=c.Fa();d.Ya();)for(var h=!0;d.Ea();){var g=d.ba();if(322!=g.G())throw a.g.X("not implemented");var e=d.Lo(),f=g.Rb();if(f>this.Mt){var k=Math.ceil(f/this.Mt),f=new a.Wa(c.description);h&&(g.Kp(f),b.Of(f));for(var l=h=1/k,n=0,k=k-1;n<k;n++)g.Fx(l,f),b.lineTo(f),l+=h;e?b.sq():(g.Ip(f),b.lineTo(f))}else e?b.sq():b.cc(g,h);h=!1}return b};g.prototype.Oe=function(){return!0};
return g}();a.JM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.G=function(){return 2};c.prototype.V=function(b,d,c,g){return b instanceof a.T?(b=new a.gd(b),d=new a.gd(d),this.V(b,d,c,g).next()):new a.KM(b,d,c,g)};c.an=function(b,d,h,g){if(b.u()||d.u())return b;var e=b.ub(),m=d.ub();if(e>m)return b;var f=b.G(),k=d.G(),l=new a.h,n=new a.h,p=new a.h;b.s(l);d.s(n);p.I(l);
p.Nb(n);var p=a.na.$d(h,p,!0),w=p*Math.sqrt(2)*1.00001,r=new a.h;r.I(l);r.P(w,w);if(!r.Yb(n))return b;if(1==e&&2==m)return c.ro(b,d,k,h,g);if(33==f)switch(a.Bl.Nc(k)?(h=new a.Ua(d.description),h.cc(d,!0)):h=d,k){case 1736:return c.Mm(b,h,p);case 1607:return c.Nm(b,h,p);case 550:return c.Al(b,h,p);case 197:return c.zl(b,h,p);case 33:return c.Lm(b,h,p);default:throw a.g.F();}else if(550==f)switch(k){case 1736:return c.xl(b,d,p);case 197:return c.Hj(b,d,p);case 33:return c.wl(b,d,p)}return a.Cg.an(b,
d,h,g)};c.Mm=function(b,d,c){return 0==a.fd.KH(d,b,c)?b:b.Ka()};c.Nm=function(b,d,c){var h=b.w();d=d.Fa();for(var g=c*Math.sqrt(2)*1.00001,e=g*g,f=new a.h;d.Ya();)for(;d.Ea();){var k=d.ba();k.s(f);f.P(g,g);if(f.contains(h)){if(k.ot(h,c))return b.Ka();var l=k.ec();if(a.b.sc(h,l)<=e)return b.Ka();l=k.Ac();if(a.b.sc(h,l)<=e)return b.Ka()}}return b};c.Al=function(b,d,c){var h=d.Qa(0);d=d.D();var g=b.w(),e=new a.b;c=c*Math.sqrt(2)*1.00001;c*=c;for(var f=0;f<d;f++)if(h.fc(2*f,e),a.b.sc(e,g)<=c)return b.Ka();
return b};c.zl=function(b,d,c){var h=new a.h;d.s(h);h.P(c,c);d=b.w();return h.contains(d)?b.Ka():b};c.Lm=function(b,d,c){c=c*Math.sqrt(2)*1.00001;c*=c;var h=b.w();d=d.w();return a.b.sc(h,d)<=c?b.Ka():b};c.xl=function(b,d,c){var h=new a.h;d.s(h);h.P(c,c);for(var g=b.D(),e=!1,f=[],k=0;k<g;k++)f[k]=!1;for(var l=new a.b,k=0;k<g;k++)b.w(k,l),h.contains(l)&&0!=a.fd.ee(d,l,c)&&(e=!0,f[k]=!0);if(!e)return b;d=b.Ka();for(k=0;k<g;k++)f[k]||d.Hd(b,k,k+1);return d};c.Hj=function(b,d,c){var h=new a.h;d.s(h);h.P(c,
c);d=b.D();var g=!1;c=[];for(var e=0;e<d;e++)c[e]=!1;for(var f=new a.b,e=0;e<d;e++)b.w(e,f),h.contains(f)&&(g=!0,c[e]=!0);if(!g)return b;h=b.Ka();for(e=0;e<d;e++)c[e]||h.Hd(b,e,e+1);return h};c.wl=function(b,d,c){var h=b.Qa(0),g=b.D(),e=d.w(),f=new a.b,k=!1;d=[];for(var l=0;l<g;l++)d[l]=!1;l=c*Math.sqrt(2)*1.00001;c=l*l;for(l=0;l<g;l++)h.fc(2*l,f),a.b.sc(f,e)<=c&&(k=!0,d[l]=!0);if(!k)return b;h=b.Ka();for(l=0;l<g;l++)d[l]||h.Hd(b,l,l+1);return h};c.ro=function(b,d,c,g,e){var h=new a.di;b.Wn(h);var m=
new a.h;d.s(m);h.Nb(m);h.P(.1*h.O(),.1*h.ea());m=new a.Ja;m.hd(h,!1);1736==c?m.add(d,!0):m.hd(d,!0);return a.wk.local().V(b,m,g,e)};c.N=null;return c}(a.bf);a.eq=g})(y||(y={}));(function(a){var g=function(){function g(a,b,d,h){this.qt=null==b;this.Ca=-1;this.ge=a;this.LA=d;this.$U=b.next();this.mc=h}g.prototype.next=function(){if(this.qt)return null;var c;return null!=(c=this.ge.next())?(this.Ca=this.ge.Ia(),a.eq.an(c,this.$U,this.LA,this.mc)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.Oe=
function(){return!0};return g}();a.KM=g})(y||(y={}));(function(a){var g=function(){function c(b){this.ie=b;this.ck=new a.h;this.ck.Oa();this.Kh=new a.h;this.Kh.Oa()}c.prototype.Du=function(){var a;a=this.ck.o;this.ck.o=this.Kh.o;this.Kh.o=a;a=this.ck.v;this.ck.v=this.Kh.v;this.Kh.v=a;a=this.ck.A;this.ck.A=this.Kh.A;this.Kh.A=a;a=this.ck.B;this.ck.B=this.Kh.B;this.Kh.B=a};c.prototype.wR=function(b,d){var c=!this.ck.Yb(this.Kh);if(a.T.Hc(b.G())&&a.T.Hc(d.G())){if(b.D()>d.D())return this.uF(b,d,c);this.Du();
c=this.uF(d,b,c);this.Du();return c}if(550==b.G()&&a.T.Hc(d.G()))return c=this.vF(d,b,c),this.Du(),c;if(550==d.G()&&a.T.Hc(b.G()))return this.vF(b,d,c);if(550==b.G()&&550==d.G()){if(b.D()>d.D())return this.wF(b,d);this.Du();c=this.wF(d,b);this.Du();return c}return 0};c.prototype.uF=function(b,d,c){var h=b.Fa(),g=d.Fa(),e=new a.h,f=new a.h,k=1.7976931348623157E308;if(!c&&this.VY(b,d,h,g))return 0;for(;h.Ya();)for(;h.Ea();)if(b=h.ba(),b.s(e),!(e.Zx(this.Kh)>k)){for(;g.Ya();)for(;g.Ea();)if(d=g.ba(),
d.s(f),e.Zx(f)<k&&(d=b.Cb(d,c),d*=d,d<k)){if(0==d)return 0;k=d}g.zj()}return Math.sqrt(k)};c.prototype.vF=function(b,d,c){var h=b.Fa(),g=new a.h,e=1.7976931348623157E308,f=new a.b,k,l=d.D();for(c=!c&&1736==b.G();h.Ya();)for(;h.Ea();){var n=h.ba();n.s(g);if(!(1<l&&g.Zx(this.Kh)>e)){for(var p=0;p<l;p++){d.w(p,f);if(c&&0!=a.fd.ee(b,f,0))return 0;k=n.ne(f,!1);f.sub(n.hc(k));k=f.uk();if(k<e){if(0==k)return 0;e=k}}c=!1}}return Math.sqrt(e)};c.prototype.wF=function(b,d){for(var c=1.7976931348623157E308,
g=new a.b,e=new a.b,f,k=b.D(),l=d.D(),n=0;n<k;n++)if(b.w(n,g),!(1<l&&this.Kh.NK(g)>c))for(var p=0;p<l;p++)if(d.w(p,e),f=a.b.sc(g,e),f<c){if(0==f)return 0;c=f}return Math.sqrt(c)};c.prototype.VY=function(b,d,c,g){if(1736==b.G()){for(;g.Ya();)if(g.Ea()){var h=g.ba();if(0!=a.fd.ee(b,h.Ac(),0))return!0}g.zj()}if(1736==d.G()){for(;c.Ya();)if(c.Ea()&&(b=c.ba(),0!=a.fd.ee(d,b.Ac(),0)))return!0;c.zj()}return!1};c.prototype.Xm=function(a,d){if(a.u()||d.u())return NaN;a.s(this.ck);d.s(this.Kh);return this.wR(a,
d)};return c}(),e=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}Y(b,c);b.prototype.V=function(b,c,e){if(null==b||null==c)throw a.g.F();if(b.u()||c.u())return NaN;var d,h;d=b.G();h=c.G();if(33==d){if(33==h)return a.b.Cb(b.w(),c.w());if(197==h)return e=new a.h,c.s(e),e.Cb(b.w());d=new a.Dd;d.add(b);b=d}else if(197==d){if(197==h)return h=new a.h,b.s(h),e=new a.h,c.s(e),e.Cb(h);d=new a.Ja;d.hd(b,!1);b=d}33==h?(h=new a.Dd,h.add(c),c=h):197==h&&(h=new a.Ja,h.hd(c,!1),c=h);return(new g(e)).Xm(b,
c)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 14};b.N=null;return b}(a.bf);a.LM=e})(y||(y={}));(function(a){var g=function(){function g(a,b,d,h){this.yI=a;this.FI=b;this.ie=h;this.ZH=d}g.prototype.next=function(){var a=this.yI.next();return null==a?null:this.rD(a)};g.prototype.Ia=function(){return this.yI.Ia()};g.prototype.rD=function(c){var b=c.G();if(a.T.Po(b))return c;if(197==b)return b=new a.Ja(c.description),b.hd(c,!1),this.rD(b);if(c.u())return c;
if(null==c)throw a.g.za();for(var b=c.Ka(),d=new a.Hb,h=0,g=c.aa();h<g;h++)this.ZL(c,h,b,d);return b};g.prototype.ZL=function(c,b,d,h){if(!(2>c.La(b))){var g=c.wa(b),e=c.Fc(b)-1,f=c.Qa(0),k=c.Qb(b),l=new a.ha(0);l.zb(c.La(b)+1);var n=new a.ha(0);n.zb(c.La(b)+1);l.add(k?g:e);l.add(g);for(g=new a.b;1<l.size;){var p=l.Ec();l.Mf();var r=l.Ec();c.w(p,g);h.Lc(g);c.w(r,g);h.Xc(g);r=this.WL(h,g,f,p,r,e);0<=r?(l.add(r),l.add(p)):n.add(p)}k||n.add(l.get(0));if(n.size==l.size)d.Ui(c,b,!0);else if(2<=n.size&&
(!this.ZH||2!=n.size||!(k||a.b.Cb(c.Ba(n.get(0)),c.Ba(n.get(1)))<=this.FI))){b=new a.Wa;h=0;for(e=n.size;h<e;h++)c.xe(n.get(h),b),0==h?d.Of(b):d.lineTo(b);k&&(this.ZH||2!=n.size||d.lineTo(b),d.sq())}}};g.prototype.WL=function(a,b,d,h,g,e){var c=g-1;g<=h&&(c=e);e=g=-1;for(h+=1;h<=c;h++){d.fc(2*h,b);var m=b.x,f=b.y;a.hc(a.ne(b,!1),b);b.x-=m;b.y-=f;m=b.length();m>this.FI&&m>e&&(g=h,e=m)}return g};g.prototype.Oe=function(){return!0};return g}();a.MM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==
g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 29};c.prototype.V=function(b,d,c,g){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c,g).next()):new a.MM(b,d,c,g)};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.N=null;return c}(a.bf);a.ND=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 21};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,
d,c,g,e,f,k,l){return b instanceof a.T?(l=new a.gd(b),this.V(l,d,c,[g],e,f,!1,k).next()):!0===k?(c=new a.PD(b,d,c,g,e,!1,!1,l),a.ei.local().V(c,d,l)):new a.PD(b,d,c,g,e,!1,!1,l)};c.N=null;return c}(a.bf);a.OD=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h,g,e,f,k){if(e)throw a.g.af();if(null==b)throw a.g.F();this.Ca=-1;this.Jt=c;this.Pg=b;this.Xe=d;this.At=h;this.Vo=g;this.Zo=-1;this.mc=k;this.YU=new a.h;this.YU.Oa()}g.prototype.next=function(){for(var a;null!=(a=this.Jt.next());)return this.Ca=
this.Jt.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.rS(a,this.At[this.Zo]);return null};g.prototype.Ia=function(){return this.Ca};g.prototype.rS=function(c,b){return a.bM.buffer(c,this.Pg,this.Xe,b,this.Vo,this.mc)};g.prototype.Oe=function(){return!0};return g}();a.PD=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 24};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,
c,g){if(null==d)throw a.g.F();if(b.u()||1>b.ub())return 0;if(4==c)throw a.g.af();var h=a.fb.lc(d),e=a.fb.hw(h),m=a.fb.Sv(h),e=e*(2-e),f=h.Td().Bi,k=b.G(),l;1736==k||197==k?l=b.Fg():a.T.Nc(k)?(l=new a.Ua(b.description),l.cc(b,!0)):l=b;if(0==h.Eb(d)){if(a.fb.Ic(d)){l=a.gi.Qj(l,d);1607==k&&l==b&&(l=a.T.me(b));b=new a.yc;a.fb.Ch(d).Yn(b);for(var k=0,n=l.D();k<n;k++){var p=l.Ba(k);p.x=a.gi.Tn(p.x,b);l.rb(k,p)}}b=l.Ka();l=a.gi.CJ(d,h,l,b,g)?b:a.fb.Vg(l,d,h,g)}return this.yR(l,c,m,e,f)};c.prototype.yR=function(b,
d,c,g,e){var h=new a.da(0),m=0;for(b=b.Fa();b.Ya();)for(;b.Ea();){var f=b.ba(),q=f.ec(),f=f.Ac();q.scale(e);f.scale(e);a.mb.Kd(c,g,q.x,q.y,f.x,f.y,h,null,null,d);m+=h.j}return m};c.N=null;return c}(a.bf);a.PM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 18};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c,g,e){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c,g,
e).next()):new a.OM(b,c,g,d,-1,-1,e)};c.N=null;return c}(a.bf);a.NM=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h,g,e){if(0<e)throw a.g.af();if(4!=d&&0<g)throw a.g.af();if(null==b)throw a.g.F();this.Ca=-1;this.Jt=c;this.Pg=b;this.Xe=d;this.eV=h;this.dV=g}g.prototype.next=function(){for(var a;null!=(a=this.Jt.next());)return this.Ca=this.Jt.Ia(),this.Jz(a);return null};g.prototype.Ia=function(){return this.Ca};g.prototype.Jz=function(c){return a.Ij.Js(c,this.Pg,this.Xe,this.eV,this.dV,
this.mc)};g.prototype.Oe=function(){return!0};return g}();a.OM=g})(y||(y={}));(function(a){(function(a){a[a.Unknown=0]="Unknown";a[a.Contains=1]="Contains";a[a.Within=2]="Within";a[a.Equals=3]="Equals";a[a.Disjoint=4]="Disjoint";a[a.Touches=8]="Touches";a[a.Crosses=16]="Crosses";a[a.Overlaps=32]="Overlaps";a[a.NoThisRelation=64]="NoThisRelation";a[a.Intersects=1073741824]="Intersects";a[a.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(a.kM||(a.kM={}));var g=function(){function g(){}g.w_=
function(c,b,d,h){if(b.u()||c.u())return 4;var e=c.G(),f=b.G(),k;a.T.Nc(e)&&(c=k=new a.Ua(c.description),k.cc(c,!0));a.T.Nc(f)&&(b=k=new a.Ua(b.description),k.cc(b,!0));switch(e){case 33:switch(f){case 33:return g.LT(c,b,d);case 197:return g.de(g.lD(b,c,d));case 550:return g.de(g.tD(b,c,d));case 1607:return g.de(g.dE(b,c,d,h));case 1736:return g.de(g.DD(b,c,d))}throw a.g.za();case 197:switch(f){case 33:return g.lD(c,b,d);case 197:return g.JP(c,b,d);case 550:return g.de(g.oD(b,c,d,h));case 1607:return g.de(g.HD(b,
c));case 1736:return g.de(g.zD(b,c))}throw a.g.za();case 550:switch(f){case 33:return g.tD(c,b,d);case 197:return g.oD(c,b,d,h);case 550:return g.qD(c,b,d,h);case 1607:return g.de(g.YD(b,c));case 1736:return g.de(g.BD(b,c))}throw a.g.za();case 1607:switch(f){case 33:return g.dE(c,b,d,h);case 197:return g.HD(c,b);case 550:return g.YD(c,b);case 1607:return g.QV(c,b);case 1736:return g.de(g.FD(b,c))}throw a.g.za();case 1736:switch(f){case 33:return g.DD(c,b,d);case 197:return g.zD(c,b);case 550:return g.BD(c,
b);case 1607:return g.FD(c,b);case 1736:return g.OU(c,b)}throw a.g.za();default:throw a.g.za();}};g.LT=function(a,b,d){a=a.w();b=b.w();return g.xD(a,b,d)};g.xD=function(a,b,d){a.sub(b);return a.uk()<=d*d?3:4};g.lD=function(c,b,d){var h=new a.h;c.s(h);c=b.w();return g.uR(h,c,d)};g.uR=function(a,b,d){a.P(-d,-d);if(a.contains(b))return 1;a.P(d,d);return a.contains(b)?8:4};g.GR=function(a,b,d){return b.contains(d)?1:a.contains(d)?8:4};g.JP=function(c,b,d){var h=new a.h;c.s(h);c=new a.h;b.s(c);return g.ZQ(h,
c,d)};g.ZQ=function(a,b,d){var c=0;a.contains(b)&&(c|=1);b.contains(a)&&(c|=2);if(0!=c)return c;a.P(-d,-d);b.P(-d,-d);if(a.Yb(b))return c=a,c.P(d,d),c=c.contains(b)?1:0,b.P(d,d),c|=b.contains(a)?2:0,0!=c?c:32;c=a;c.P(d,d);b.P(d,d);return c.Yb(b)?8:4};g.tD=function(a,b,d){b=b.w();return g.vD(a,b,d)};g.vD=function(a,b,d){for(var c=0,e=a.D();c<e;c++){var f;f=a.Ba(c);f=g.xD(f,b,d);if(4!=f)return 0!=(f&2)&&1!=e?1:f}return 4};g.oD=function(c,b,d,h){var e=new a.h;b.s(e);return g.IT(c,e,d,h)};g.IT=function(a,
b,d,h){b.P(-d,-d);b.P(d,d);for(var c=d=0,e=a.D();c<e;c++){var f;f=a.Ba(c);f=g.de(g.GR(b,b,f));if(4!=f&&(d|=f,4==h))return 1073741824}return 0==d?4:2==d?d:32};g.qD=function(a,b,d,h){for(var c=0,e=0,f=b.D();e<f;e++){var k;k=b.Ba(e);k=g.vD(a,k,d);if(4!=k&&(c++,4==h))return 1073741824}return 0<c?c==b.D()?3==h?(k=g.qD(b,a,d,1),1==k?3:0):1:32:0};g.dE=function(a,b,d,h){b=b.w();return g.IV(a,b,d,h)};g.fS=function(a,b){var d=null;a=a.ob;null!=a&&(d=a.Ii);if(null!=d){d=d.wm(b.x,b.y);if(0==d)return 4;if(1==
d)return 1}else return-1;return 0};g.IV=function(c,b,d,h){if(0==(h&1073741839))return 64;var e=g.fS(c,b);if(0<e)return e;d*=d;for(e=c.Fa();e.Ya();){var f=e.Ta;if(!c.Qb(f)){var k=c.La(f),f=c.wa(f);if(0==k)continue;if(a.b.sc(c.Ba(f),b)<=d||1<k&&a.b.sc(c.Ba(f+k-1),b)<=d)return 8}if(8!=h)for(;e.Ea();)if(k=e.ba(),k=k.hc(k.ne(b,!1)),a.b.sc(k,b)<=d)return 0!=(h&1073741828)?1073741824:1}return 0!=(h&1073741828)?4:64};g.HD=function(c,b){var d=new a.h;b.s(d);return g.wV(c,d)};g.wV=function(a,b){a=g.Nm(a,b);
return 0<a?a:0};g.Nm=function(a,b){a=a.ob;if(null!=a)a=a.Ii;else return-1;if(null!=a){a=a.Xn(b);if(0==a)return 4;if(1==a)return 1}else return-1;return 0};g.YD=function(c,b){var d=new a.h;b.s(d);d=g.Nm(c,d);return 0<d?d:0};g.$u=function(c,b){var d=new a.h;b.s(d);d=g.Nm(c,d);return 0<d?d:-1==d&&(d=new a.h,c.s(d),d=g.Nm(b,d),0<d)?g.de(d):0};g.QV=function(a,b){a=g.$u(a,b);return 0<a?a:0};g.DD=function(a,b,d){b=b.w();return g.LU(a,b,d)};g.LU=function(c,b,d){c=a.fd.ee(c,b,d);if(0==c)return 4;if(1==c)return 1;
if(2==c)return 8;throw a.g.za();};g.zD=function(c,b){var d=new a.h;b.s(d);return g.IU(c,d)};g.IU=function(a,b){a=g.Nm(a,b);return 0<a?a:0};g.BD=function(a,b){a=g.$u(a,b);return 0<a?a:0};g.FD=function(a,b){a=g.$u(a,b);return 0<a?a:0};g.OU=function(a,b){a=g.$u(a,b);return 0<a?a:0};g.OW=function(c,b){var d=c.G(),h=b.G(),g;if(a.T.fh(d)&&(g=c.ob,null!=g&&(g=g.Ii,null!=g))){if(33==h){var e=b.w();g=g.wm(e.x,e.y)}else e=new a.h,b.s(e),g=g.Xn(e);if(1==g)return 1;if(0==g)return 4}if(a.T.fh(h)&&(g=b.ob,null!=
g&&(g=g.Ii,null!=g))){33==d?(d=c.w(),g=g.wm(d.x,d.y)):(d=new a.h,c.s(d),g=g.Xn(d));if(1==g)return 2;if(0==g)return 4}return 0};g.de=function(a){0!=(a&1)&&(a=a&-2|2);0!=(a&2)&&(a=a&-3|1);return a};return g}();a.QM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.G=function(){return 15};c.prototype.V=function(b,d,c,g,e){return b instanceof a.T?(b=new a.gd(b),d=new a.gd(d),
this.V(b,d,c,g,e).next()):void 0===e?new a.QD(b,d,c,g,-1):new a.QD(b,d,c,g,e)};c.prototype.xo=function(b,d,c){if(!this.Av(b))return!1;d=a.na.$g(d,b,!1);var h=b.Kj(c);return h=h||b.bv(d,c)};c.prototype.Av=function(b){return a.ty.$y(b)};c.N=null;return c}(a.bf);a.wk=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h,g){this.qt=null==b;this.Ca=-1;this.ge=c;this.Pg=d;this.pf=b.next();this.dk=this.pf.G();this.mc=h;this.fj=g;if(-1!=this.fj&&(0>=this.fj||7<this.fj))throw a.g.F("bad dimension mask");
}g.prototype.next=function(){if(this.qt)return null;var a;if(null!=this.ox){a=this.ox.next();if(null!=a)return a;this.ox=null}for(;null!=(a=this.ge.next());){this.Ca=this.ge.Ia();if(-1==this.fj)return a=this.Ma(a);this.ox=this.mU(a);return a=this.ox.next()}return null};g.prototype.Ia=function(){return this.Ca};g.prototype.Ma=function(c){var b=this.cL(c);if(null!=b)return b;var b=a.na.Zv(this.pf,c),d=a.na.$d(this.Pg,b,!0),b=new a.h;this.pf.s(b);var h=new a.h;c.s(h);b.P(2*d,2*d);b.Ma(h);b.P(100*d,100*
d);d=a.le.clip(this.pf,b,0,0);c=a.le.clip(c,b,0,0);return a.Cg.nw(c,d,this.Pg,this.mc)};g.prototype.xJ=function(c,b,d){var h=0;if(0!=(b&1))null==d[0]&&(d[0]=new a.Dd(c)),h++;else for(var g=0;g<d.length-1;g++)d[g]=d[g+1];if(0!=(b&2))null==d[h]&&(d[h]=new a.Ua(c)),h++;else for(g=h;g<d.length-1;g++)d[g]=d[g+1];if(0!=(b&4))null==d[h]&&(d[h]=new a.Ja(c)),h++;else for(g=h;g<d.length-1;g++)d[g]=d[g+1];if(3!=h){c=[];for(g=0;g<h;g++)c[g]=d[g];return new a.gd(c)}return new a.gd(d)};g.prototype.mU=function(c){var b=
this.cL(c);if(null!=b){var d=[null,null,null];d[b.ub()]=b;return this.xJ(c.description,this.fj,d)}b=a.na.Zv(this.pf,c);d=a.na.$d(this.Pg,b,!0);b=new a.h;this.pf.s(b);b.P(2*d,2*d);var h=new a.h;c.s(h);b.Ma(h);b.P(100*d,100*d);d=a.le.clip(this.pf,b,0,0);b=a.le.clip(c,b,0,0);d=a.Cg.yA(b,d,this.Pg,this.mc);return this.xJ(c.description,this.fj,d)};g.prototype.cL=function(c){var b=a.na.Zv(c,this.pf),d=a.na.$d(this.Pg,b,!0),b=c.G(),h=c.u(),e=this.pf.u(),e=h||e;if(!e){e=new a.h;c.s(e);var f=new a.h;this.pf.s(f);
f.P(2*d,2*d);e=!e.Yb(f)}if(!e)if(f=a.QM.OW(this.pf,c),4==f)e=!0;else{if(0!=(f&2))return this.pf;if(0!=(f&1))return c}if(e)return d=a.T.hf(b),e=a.T.hf(this.dk),d<e?g.N(c,h):d>e?this.SJ():0==d?550==b&&33==this.dk?this.SJ():g.N(c,h):g.N(c,h);if((-1==this.fj||4==this.fj)&&197==b&&197==this.dk)return d=this.pf,b=new a.h,c.s(b),h=new a.h,d.s(h),b.Ma(h),d=new a.di,c.copyTo(d),d.Np(b),d;if(197==b&&0==a.T.hf(this.dk)||197==this.dk&&0==a.T.hf(b))return h=197==b?c:this.pf,c=197==b?this.pf:c,b=new a.h,h.s(b),
a.le.clip(c,b,d,0);if(0==a.T.hf(b)&&0<a.T.hf(this.dk)||0<a.T.hf(b)&&0==a.T.hf(this.dk)){d=a.na.$g(this.Pg,c,!1);if(550==b||33==b)return a.Cg.AH(c,this.pf,d);if(550==this.dk||33==this.dk)return a.Cg.AH(this.pf,c,d);throw a.g.za();}return-1!=this.fj&&2!=this.fj||1607!=b||1736!=this.dk?-1!=this.fj&&2!=this.fj||1736!=b||1607!=this.dk?null:this.$K(this.pf,c):this.$K(c,this.pf)};g.prototype.$K=function(c,b){var d=c,h=b,g=a.na.$g(this.Pg,b,!1),e=new a.h;h.s(e);var f=new a.h;d.s(f);f.P(2*g,2*g);e.Ma(f);e.P(10*
g,10*g);var d=c=a.le.clip(c,e,0,0),f=new a.ha(0),k=-1,l=h.ob;if(null!=l){var n=l.Ii;if(null!=n){k=0;f.zb(d.D()+d.aa());for(var p=new a.h,r=d.Fa();r.Ya();)for(;r.Ea();){r.ba().s(p);var t=n.Xn(p);1==t?f.add(1):0==t?f.add(0):(f.add(-1),k++)}}}5<b.D()&&(h=b=a.le.clip(b,e,0,0),l=h.ob);0>k&&(k=d.lA());e=d.D()+h.D();if(k*h.D()>Math.log(e)*e*4)return null;e=null;k=h.Fa();null!=l&&null!=l.Mb&&(e=l.Mb);null==e&&20<h.D()&&(e=a.na.BF(h));h=c.Ka();l=null;n=d.Fa();p=[0,0,0,0,0,0,0,0,0];r=new a.Pd(0);t=new a.Bg;
c=-1;for(var w=0,u=0,v=0<f.size,x=-1;n.Ya();){var x=n.Ta,z=0;c=-1;for(w=0;n.Ea();){var y=v?a.J.truncate(f.get(u)):-1;u++;var A=n.ba();if(0>y){if(null!=e)for(null==l?l=e.PS(A,g):l.bo(A,g),y=l.next();-1!=y;y=l.next()){k.Tb(e.ia(y));for(var y=k.ba(),B=A.Ma(y,null,p,null,g),y=0;y<B;y++)r.add(p[y])}else for(k.zj();k.Ya();)for(;k.Ea();)for(y=k.ba(),B=A.Ma(y,null,p,null,g),y=0;y<B;y++)r.add(p[y]);if(0<r.size){r.Fd(0,r.size,function(a,b){return a-b});var D=0;r.add(1);for(var B=-1,y=0,E=r.size;y<E;y++){var G=
r.get(y);if(G!=D){var J=!1;0!=D||1!=G?(A.yh(D,G,t),D=t.get()):(D=A,J=!0);if(2<=z){h.zs(d,x,c,w,3==z);if(1!=this.gF(b,D.ec(),g)&&1!=this.hF(b,D,g))return null;h.cc(D,!1);z=1;w=0}else switch(B=this.hF(b,D,g),B){case 1:J?2>z?(c=n.Db()-d.wa(x),w=1,z=0==z?3:2):w++:(h.cc(D,0==z),z=1);break;case 0:z=0;c=-1;w=0;break;default:return null}D=G}}}else{y=this.gF(b,A.ec(),g);if(0>y)return null;1==y?(2>z&&(c=n.Db()-d.wa(x),z=0==z?3:2),w++):(c=-1,w=0)}r.clear(!1)}else 0!=y&&1==y&&(0==z?(z=3,c=n.Db()-d.wa(x)):1==
z?(z=2,c=n.Db()-d.wa(x)):w++)}2<=z&&(h.zs(d,x,c,w,3==z),c=-1)}return h};g.prototype.gF=function(c,b,d){return a.cf.qn(c,b,d)};g.prototype.hF=function(c,b,d){var h=b.ec();b=b.Ac();var g=a.cf.qn(c,h,d),e=a.cf.qn(c,b,d);if(1==g&&0==e||0==g&&1==e)return-1;if(0==g||0==e)return 0;if(1==g||1==e)return 1;g=new a.b;g.add(h,b);g.scale(.5);c=a.cf.qn(c,g,d);return 0==c?0:1==c?1:-1};g.N=function(a,b){return b?a:a.Ka()};g.prototype.SJ=function(){null==this.xI&&(this.xI=this.pf.Ka());return this.xI};g.prototype.Oe=
function(){return!0};return g}();a.QD=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 28};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c,g,e,f,k){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c,g,e,f,k).next()):new a.RM(b,d,c,g,e,f,k)};c.N=null;return c}(a.bf);a.RD=g})(y||(y={}));(function(a){var g=function(){function g(a,b,d,h,g,e,f){this.Ca=-1;this.ge=a;this.jk=
b;this.Pa=d;this.kj=h;this.lB=g;this.tI=e;this.ie=f}g.prototype.next=function(){var a=this.ge.next();return null!=a?(this.Ca=this.ge.Ia(),this.EM(a)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.EM=function(c){var b;b=0>=this.tI?a.na.$g(this.jk,c,!1):this.tI;return a.HL.V(c,this.Pa,this.kj,this.lB,b,this.ie)};g.prototype.Oe=function(){return!0};return g}();a.RM=g})(y||(y={}));(function(a){(function(a){a[a.clipToDomainOnly=1]="clipToDomainOnly";a[a.clipWithHorizon=2]="clipWithHorizon";
a[a.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(a.aq||(a.aq={}));var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 0};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,d,c){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c).next()):new a.SM(b,d,c)};c.prototype.transform=function(b,d,c,g){return a.qo.transform(b,d,c,g,!0)};c.prototype.YK=function(b,d,c){return a.qo.YK(b,d,c)};c.prototype.Fu=
function(b,d,c,g){return a.qo.Fu(b,d,c,g)};c.prototype.AY=function(b,d,c,g){return a.qo.fs(b,d,c,g)};c.prototype.XK=function(b,d,c,g){return a.qo.XK(b,d,c,g)};c.N=null;return c}(a.bf);a.ns=g})(y||(y={}));(function(a){var g=function(){function g(a,b,d){this.Ca=-1;this.ge=a;this.nV=b;this.ie=d}g.prototype.next=function(){var c=this.ge.next();return null!=c?(this.Ca=this.ge.Ia(),a.qo.Vg(c,this.nV,this.ie)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.Oe=function(){return!0};return g}();
a.SM=g})(y||(y={}));(function(a){var g=function(){function c(){}c.prototype.reset=function(){this.Mh=this.al=-1;this.st=this.$q=!1};c.prototype.QR=function(a,d,c){for(a.Tb(d,c);a.Ea();){var b=a.ba(),b=b.Rb();if(0!=b)return a.Db()}for(a.Tb(d,c);a.rA();)if(b=a.Mi(),b=b.Rb(),0!=b)return a.Db();return-1};c.prototype.RR=function(a,d){for(a.Tb(d,-1);a.rA();)if(0!=a.Mi().Rb())return a.Db();return-1};c.prototype.PR=function(a,d){a.Tb(d,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};c.prototype.OR=
function(b,d,c,g){this.al=this.QR(d,c,g);if(-1!=this.al){d.Tb(this.al,-1);var h=d.ba(),e=h.hc(h.ne(b,!1));c=a.b.sc(e,b);g=new a.b;g.L(e);g.sub(h.ec());e=new a.b;e.L(b);e.sub(h.ec());this.$q=0>g.Vi(e);this.Mh=this.PR(d,this.al);if(-1!=this.Mh){d.Tb(this.Mh,-1);var h=d.ba(),m=h.ne(b,!1),m=h.hc(m),f=a.b.sc(m,b);f>c?this.Mh=-1:(g.L(m),g.sub(h.ec()),e.L(b),e.sub(h.ec()),this.st=0>g.Vi(e))}-1==this.Mh&&(this.Mh=this.RR(d,this.al),-1!=this.Mh&&(d.Tb(this.Mh,-1),h=d.ba(),m=h.ne(b,!1),m=h.hc(m),f=a.b.sc(m,
b),f>c?this.Mh=-1:(g.L(m),g.sub(h.ec()),e.L(b),e.sub(h.ec()),this.st=0>g.Vi(e),b=this.al,this.al=this.Mh,this.Mh=b,b=this.$q,this.$q=this.st,this.st=b)))}};c.prototype.AP=function(a,d,c,g,e){c=c.Fa();this.OR(a,c,g,e);if(-1!=this.al&&-1==this.Mh)return this.$q;if(-1!=this.al&&-1!=this.Mh){if(this.$q==this.st)return this.$q;c.Tb(this.al,-1);a=c.ba().Dg(1);c.Tb(this.Mh,-1);d=c.ba().Dg(0);return 0<=a.Vi(d)?!0:!1}return d};return c}(),e=function(c){function b(){return null!==c&&c.apply(this,arguments)||
this}Y(b,c);b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 3};b.prototype.bA=function(b,c,g,e){void 0===e&&(e=!1);if(b.u())return new a.Sm;c=c.w();var d=b,h=b.G();197==h&&(d=new a.Ja,d.hd(b,!1),h=1736);switch(h){case 33:return this.tJ(d,c);case 550:return this.fJ(d,c);case 1607:case 1736:return this.DV(d,c,g,e);default:throw a.g.X("not implemented");}};b.prototype.cA=function(b,c){if(b.u())return new a.Sm;c=c.w();var d=b,h=b.G();197==h&&(d=new a.Ja,d.hd(b,!1),
h=1736);switch(h){case 33:return this.tJ(d,c);case 550:case 1607:case 1736:return this.fJ(d,c);default:throw a.g.X("not implemented");}};b.prototype.dA=function(b,c,g,e){if(0>e)throw a.g.F();if(b.u())return[];c=c.w();var d=b,h=b.G();197==h&&(d=new a.Ja,d.hd(b,!1),h=1736);switch(h){case 33:return this.hW(d,c,g,e);case 550:case 1607:case 1736:return this.GV(d,c,g,e);default:throw a.g.X("not implemented");}};b.prototype.DV=function(b,c,e,f){if(1736==b.G()&&e&&(e=new a.h,b.s(e),e=a.na.$d(null,e,!1),0!=
(f?a.fd.ee(b,c,0):a.fd.ee(b,c,e)))){var d=new a.Sm(c,0,0);f&&d.BK(!0);return d}for(var h=b.Fa(),d=new a.b,m=e=-1,q=1.7976931348623157E308,k=0;h.Ya();)for(;h.Ea();){var l=h.ba(),l=l.hc(l.ne(c,!1)),n=a.b.sc(l,c);n<q?(k=1,d=l,e=h.Db(),m=h.Ta,q=n):n==q&&k++}d=new a.Sm(d,e,Math.sqrt(q));f&&(h.Tb(e,m),l=h.ba(),f=0>a.b.Gp(c,l.ec(),l.Ac()),1<k&&(k=new g,k.reset(),f=k.AP(c,f,b,e,m)),d.BK(f));return d};b.prototype.tJ=function(b,c){b=b.w();c=a.b.Cb(b,c);return new a.Sm(b,0,c)};b.prototype.fJ=function(b,c){var d=
b.Qa(0);b=b.D();for(var h=0,g=0,e=0,f=1.7976931348623157E308,k=0;k<b;k++){var l=new a.b;d.fc(2*k,l);var n=a.b.sc(l,c);n<f&&(g=l.x,e=l.y,h=k,f=n)}d=new a.Sm;d.Hy(g,e,h,Math.sqrt(f));return d};b.prototype.hW=function(b,c,g,e){if(0==e)return g=[];g*=g;b=b.w();c=a.b.sc(b,c);c<=g?(g=[],e=new a.Sm,e.Hy(b.x,b.y,0,Math.sqrt(c)),g[0]=e):g=[];return g};b.prototype.GV=function(b,c,g,e){if(0==e)return e=[];var d=b.Qa(0),h=b.D();b=[];var m=0;g*=g;for(var f=0;f<h;f++){var q=d.read(2*f),k=d.read(2*f+1),l=c.x-q,
n=c.y-k,l=l*l+n*n;l<=g&&(n=new a.Sm,n.Hy(q,k,f,Math.sqrt(l)),m++,b.push(n))}c=b.length;b.sort(function(a,b){return a.Pa<b.Pa?-1:a.Pa==b.Pa?0:1});if(e>=c)return b.slice(0);b.length=e;return b.slice(0)};b.N=null;return b}(a.bf);a.oy=e})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 4};c.prototype.V=function(b,d,c,g,e){return a.Tm.aC(b,d,c,g,e)};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.Av=
function(b){return a.Iu.az(b)};c.prototype.xo=function(b,d,c){return a.Iu.VE(b,d,c)};c.N=null;return c}(a.bf);a.TM=g})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 33};c.prototype.V=function(b,d,c,g,e){return 1073741824===b?!a.Ed.bC(d,c,g,4,e):a.Ed.bC(d,c,g,b,e)};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.Av=function(b){return a.Iu.az(b)};c.prototype.xo=function(b,d,c){return a.Iu.VE(b,
d,c)};c.N=null;return c}(a.bf);a.Jj=g})(y||(y={}));(function(a){var g=function(){function g(c,b,d,h){this.ie=h;this.VU=d;this.Ca=-1;if(null==c)throw a.g.F();this.bl=c;this.jk=b}g.prototype.next=function(){var a;return null!=(a=this.bl.next())?(this.Ca=this.bl.Ia(),this.FC(a)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.FC=function(c){if(null==c)throw a.g.F();return a.py.HK(c,this.jk,this.VU,this.ie)};g.prototype.Oe=function(){return!0};return g}();a.UM=g})(y||(y={}));(function(a){var g=
function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 26};c.prototype.V=function(b,d,c,g){return b instanceof a.T?(b=new a.gd(b),this.V(b,d,c,g).next()):new a.UM(b,d,c,g)};c.prototype.Wq=function(b,d,c,g,e){return 0<(void 0!==g?a.py.Wq(b,d,c,g,e):a.py.Wq(b,d,!1,null,c))};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.N=null;return c}(a.bf);a.Qm=g})(y||(y={}));(function(a){var g=function(){function a(){this.nr=0}a.prototype.MX=function(a){this.nr&=
-2;this.nr|=a?1:0};a.prototype.mn=function(){return 0!=(this.nr&1)};a.prototype.ZG=function(){return this.mn()?0:1};return a}();a.lZ=g;var e=function(){return function(){}}(),c=function(){return function(a,b,d,c){this.x=a;this.y=b;this.aj=d;this.rn=c}}(),b=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,d){a=a.ia(d);b=this.Ze.Kf.read(2*b);a=this.Ze.Kf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),d=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,d){b=this.Ze.ib[b];
a=this.Ze.ib[a.ia(d)];var c=b.mn(),h=a.mn();d=b.Ie.kf(this.Ze.Dp,0);var g=a.Ie.kf(this.Ze.Dp,0);d==g&&(d=Math.min(c?b.Ie.ra:b.Ie.oa,h?a.Ie.ra:a.Ie.oa),c=.5*(d-this.Ze.Dp)+this.Ze.Dp,c==this.Ze.Dp&&(c=d),d=b.Ie.kf(c,0),g=a.Ie.kf(c,0));return d<g?-1:d>g?1:0};return a}(),h=function(){function b(b,d){this.EJ=new a.b;this.parent=b;this.AT=d}b.prototype.gs=function(a,b,d){var c=this.parent,h=this.AT;d.Fd(a,b,function(a,b){return c.li(a,b,h)})};b.prototype.Qq=function(a){a=this.parent.Hi.get(a);this.parent.Kf.fc(2*
(a>>1),this.EJ);return this.EJ.y+(0!=(a&1)?this.parent.lk:-this.parent.lk)};return b}(),m=function(){function m(b,d,c,h,g){this.mI=b.description;this.Y=b;this.lh=d;this.lk=a.na.$g(this.lh,b,!1);this.vp=a.na.$g(this.lh,b,!0);this.gB=c;this.TU=this.mI.Ga;this.ib=[];this.jp=[];this.Ih=new a.cq;this.hb=new a.xk;this.se=new a.Yd;this.YH=this.Zl=g}m.prototype.DA=function(){this.YH=!0;return(!a.T.Hc(this.Y.G())||this.NF()&&this.MF(!1))&&this.MP()?a.T.Hc(this.Y.G())?this.PP()?1607==this.Y.G()?this.RP()?2:
0:this.SP()?this.TP():0:0:2:0};m.prototype.LC=function(b,d){var c=this.Kf.read(2*b);b=this.Kf.read(2*b+1);var h=this.Kf.read(2*d);d=this.Kf.read(2*d+1);var g=!a.Ku.pw(c,b,h,d,this.lk*this.lk);return g?g:0==this.Y.ub()?!1:c==h&&b==d};m.prototype.NF=function(){for(var b=this.Y,d=b.Yf?3:2,c=0,h=b.aa();c<h;c++)if(b.La(c)<d)return this.se=new a.Yd(1,c,0),!1;return!0};m.prototype.MF=function(b){for(var d=this.Y,c=d.Fa(),h=d.hasAttribute(1),d=h?a.na.GF(this.lh,d,!1):0;c.Ya();)for(;c.Ea();){var g=c.ba();
if(!(g.Rb()>this.lk)){if(b&&h){var e=g.bt(1,0),g=g.bt(1,0);if(Math.abs(g-e)>d)continue}this.se=new a.Yd(2,c.Db(),-1);return!1}}return!0};m.prototype.MP=function(){var d=this.Y,c=null;a.T.Hc(this.Y.G())&&(c=this.Y);var g=(this.YH||this.Zl)&&null!=c,e=d.D();this.Kf=d.Qa(0);this.Hi=new a.ha(0);this.Hi.zb(2*e);this.Gi=new a.ha(0);this.Gi.zb(2*e);g&&(null==this.nm&&(this.nm=new a.ha(0)),this.nm.zb(e));for(var m=d=0;m<e;m++)if(this.Hi.add(2*m),this.Hi.add(2*m+1),this.Gi.add(2*m),this.Gi.add(2*m+1),g){for(;m>=
c.Fc(d);)d++;this.nm.add(d)}(new a.Ju).sort(this.Gi,0,2*e,new h(this,g));this.hb.clear();this.hb.Lp(new b(this));this.hb.Ne(e);c=0;for(e*=2;c<e;c++)if(g=this.Gi.get(c),d=this.Hi.get(g),g=d>>1,0==(d&1)){d=this.hb.addElement(g,-1);m=this.hb.Se(d);if(-1!=m&&!this.LC(this.hb.ia(m),g))return this.se=new a.Yd(3,g,this.hb.ia(m)),!1;var f=this.hb.nb(d);if(-1!=f&&!this.LC(this.hb.ia(f),g))return this.se=new a.Yd(3,g,this.hb.ia(f)),!1}else if(d=this.hb.search(g,-1),m=this.hb.Se(d),f=this.hb.nb(d),this.hb.Jd(d,
-1),-1!=m&&-1!=f&&!this.LC(this.hb.ia(m),this.hb.ia(f)))return this.se=new a.Yd(3,this.hb.ia(m),this.hb.ia(f)),!1;return!0};m.prototype.PP=function(){return 10>this.Y.D()?this.NP():this.OP()};m.prototype.OP=function(){var b=new a.ed;b.Jb(this.Y);var d=new a.Yd;return a.Mu.hJ(!1,b,this.lk,d,this.ie)?(d.qm=b.Za(d.qm),d.rm=b.Za(d.rm),this.se.ls(d),!1):!0};m.prototype.NP=function(){for(var b=this.Y,d=b.Fa(),b=b.Fa();d.Ya();)for(;d.Ea();){var c=d.ba();if(!d.Oo()||!d.vU()){b.cX(d);do for(;b.Ea();){var h=
b.ba(),h=c.ws(h,this.lk,!0);if(0!=h)return this.se=new a.Yd(2==h?5:4,d.Db(),b.Db()),!1}while(b.Ya())}}return!0};m.prototype.SP=function(){var b=this.Y;this.ib.length=0;this.jp.length=0;this.tg=b.Fa();this.tg.mC();var d=new a.ha(0);d.zb(10);for(var c=NaN,h=0,g=0,b=2*b.D();g<b;g++){var e=this.Gi.get(g),e=this.Hi.get(e);if(0==(e&1)){var e=e>>1,m=this.Kf.read(2*e),f=this.Kf.read(2*e+1);if(0!=d.size&&(m!=c||f!=h)){if(!this.yJ(d))return!1;null!=d&&d.clear(!1)}d.add(e);c=m;h=f}}return this.yJ(d)?!0:!1};
m.prototype.RP=function(){for(var b=this.Y,d=Array(b.aa()),c=0,h=b.aa();c<h;c++)d[c]=b.Ko(c);var h=new e,g,m,f,q=new a.b,c=this.Gi.get(0),c=this.Hi.get(c),k=c>>1;this.Kf.fc(2*k,q);c=this.nm.get(k);g=d[c];m=b.wa(c);f=b.Fc(c)-1;h.Nl=k==m||k==f;h.Ry=this.Zl?!g&&h.Nl:h.Nl;h.aj=c;h.x=q.x;h.y=q.y;h.rn=k;for(var l=new e,n=1,p=this.Gi.size;n<p;n++)if(c=this.Gi.get(n),c=this.Hi.get(c),0==(c&1)){k=c>>1;this.Kf.fc(2*k,q);c=this.nm.get(k);c!=h.aj&&(g=d[c],m=b.wa(c),f=b.Fc(c)-1);var r,t=k==m||k==f;r=this.Zl?!g&&
h.Nl:h.Nl;l.x=q.x;l.y=q.y;l.aj=c;l.rn=k;l.Ry=r;l.Nl=t;if(l.x==h.x&&l.y==h.y)if(this.Zl){if(!l.Ry||!h.Ry)if(l.aj!=h.aj||!l.Nl&&!h.Nl)return this.se=new a.Yd(8,l.rn,h.rn),!1}else if(!l.Nl||!h.Nl)return this.se=new a.Yd(5,l.rn,h.rn),!1;c=h;h=l;l=c}return!0};m.prototype.PF=function(){for(var b=this.Y,d=[],h=-1,g=!1,e=0,m=b.aa();e<m;e++)b.rw(e)&&(g=!1,h++,e<m-1&&(b.rw(e+1)||(g=!0))),d[e]=g?h:-1;var g=new a.b,e=this.Gi.get(0),e=this.Hi.get(e),f=e>>1;this.Kf.fc(2*f,g);for(var e=this.nm.get(f),h=new c(g.x,
g.y,e,f,d[e]),b=[],q=1,m=this.Gi.size;q<m;q++)if(e=this.Gi.get(q),e=this.Hi.get(e),0==(e&1)){f=e>>1;this.Kf.fc(2*f,g);e=this.nm.get(f);e=new c(g.x,g.y,e,f,d[e]);if(e.x==h.x&&e.y==h.y){if(e.aj==h.aj)return this.se=new a.Yd(9,e.rn,h.rn),!1;0<=d[e.aj]&&d[e.aj]==d[h.aj]&&(0!=b.length&&b[b.length-1]==h||b.push(h),b.push(e))}h=e}if(0==b.length)return!0;e=new a.cq(!0);a.J.Ov(d,-1);g=-1;q=new a.b;q.Yc();h=0;for(m=b.length;h<m;h++){f=b[h];if(f.x!=q.x||f.y!=q.y)g=e.ni(0),q.x=f.x,q.y=f.y;var k=d[f.aj];-1==k&&
(k=e.ni(2),d[f.aj]=k);e.addElement(k,g);e.addElement(g,k)}m=new a.ha(0);m.zb(10);for(h=e.De;-1!=h;h=e.eA(h))if(b=e.SG(h),0==(b&1)&&0!=(b&2)){b=-1;m.add(h);for(m.add(-1);0<m.size;){g=m.Ec();m.Mf();q=m.Ec();m.Mf();f=e.SG(q);if(0!=(f&1)){b=0==(f&2)?g:q;break}e.EX(q,f|1);for(f=e.wc(q);-1!=f;f=e.nb(f))k=e.getData(f),k!=g&&(m.add(k),m.add(q))}if(-1!=b){e=-1;h=0;for(m=d.length;h<m;h++)if(d[h]==b){e=h;break}this.se=new a.Yd(10,e,-1);return!1}}return!0};m.prototype.TP=function(){var b=this.Y;if(0>=b.ef())return this.se=
new a.Yd(6,1==b.aa()?1:-1,-1),0;if(1==b.aa())return this.Zl&&!this.PF()?0:2;this.np=a.ha.yd(b.aa(),0);this.sB=a.ha.yd(b.aa(),-1);for(var c=-1,h=0,g=0,e=b.aa();g<e;g++){var m=b.Ym(g);this.np.write(g,0>m?0:256);if(0<m)c=g,h=m;else{if(0==m)return this.se=new a.Yd(6,g,-1),0;if(0>c||h<Math.abs(m))if(this.se=new a.Yd(7,g,-1),this.Zl)return 0;this.sB.write(g,c)}}this.Yt=b.aa();this.Hn=new a.ha(0);this.Hn.zb(10);e=b.D();this.Dp=NaN;b=new a.ha(0);b.zb(10);this.Ir=a.ha.yd(e,-1);this.ux=a.ha.yd(e,-1);null!=
this.bk?this.bk.clear(!1):this.bk=new a.ha(0);this.bk.zb(10);this.hb.clear();this.hb.Lp(new d(this));c=0;for(e*=2;0<this.Yt&&c<e;c++)if(h=this.Gi.get(c),h=this.Hi.get(h),0==(h&1)){h>>=1;g=this.Kf.read(2*h+1);if(g!=this.Dp&&0!=b.size){if(!this.lu(b))return 0;null!=b&&b.clear(!1)}b.add(h);this.Dp=g}return 0<this.Yt&&!this.lu(b)?0:this.Zl?0==this.se.Ji&&this.PF()?2:0:0==this.se.Ji?2:1};m.prototype.yJ=function(b){if(1==b.size)return!0;for(var d=0,c=b.size;d<c;d++){var h=b.get(d);this.tg.Tb(h);var g=this.tg.Mi();
this.ib.push(this.Kv(g,h,this.tg.Ta,!0));this.tg.ba();g=this.tg.ba();this.ib.push(this.Kv(g,h,this.tg.Ta,!1))}var e=this;this.ib.sort(function(a,b){return e.sR(a,b)});h=this.Ih.De;-1==h&&(h=this.Ih.ni(0));this.Ih.ao(this.ib.length);d=0;for(c=this.ib.length;d<c;d++)this.Ih.addElement(h,d);for(var d=!0,m=c=-1;d;){d=!1;g=this.Ih.wc(h);if(-1==g)break;for(var f=this.Ih.nb(g);-1!=f;){c=this.Ih.getData(g);m=this.Ih.getData(f);c=this.ib[c].Bp;m=this.ib[m].Bp;if(c==m)if(d=!0,this.Ih.jd(h,g),g=this.Ih.Se(f),
f=this.Ih.jd(h,f),-1==f||-1==g)break;else continue;g=f;f=this.Ih.nb(g)}}d=this.Ih.Zs(h);this.Ih.QF(h);if(0<d)return this.se=new a.Yd(5,c,m),!1;d=0;for(c=b.size;d<c;d++)this.YB(this.ib[d]);this.ib.length=0;return!0};m.prototype.lu=function(b){for(var d=0,c=b.size;d<c;d++){var h=b.get(d),g=this.Ir.read(h);if(-1!=g){var e=this.hb.ia(g);this.bk.add(e);this.hb.Jd(g,-1);this.YB(this.ib[e]);this.ib[e]=null;this.Ir.write(h,-1)}g=this.ux.read(h);-1!=g&&(e=this.hb.ia(g),this.bk.add(e),this.hb.Jd(g,-1),this.YB(this.ib[e]),
this.ib[e]=null,this.ux.write(h,-1))}d=0;for(c=b.size;d<c;d++){h=b.get(d);this.tg.Tb(h);g=this.tg.Mi();if(g.ra>g.oa){var m=this.tg.Db(),f=this.Kv(g,h,this.tg.Ta,!0);0<this.bk.size?(e=this.bk.Ec(),this.bk.Mf(),this.ib[e]=f):(e=this.ib.length,this.ib.push(f));g=this.hb.addElement(e,-1);-1==this.Ir.read(m)?this.Ir.write(m,g):this.ux.write(m,g);0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(g)}this.tg.ba();g=this.tg.ba();g.ra<g.oa&&(m=this.tg.Lk(),f=this.Kv(g,h,this.tg.Ta,!1),0<this.bk.size?(e=this.bk.Ec(),
this.bk.Mf(),this.ib[e]=f):(e=this.ib.length,this.ib.push(f)),g=this.hb.addElement(e,-1),-1==this.Ir.read(m)?this.Ir.write(m,g):this.ux.write(m,g),0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(g))}d=0;for(c=this.Hn.size;d<c&&0<this.Yt;d++)if(g=this.Hn.get(d),0==(this.np.read(this.ib[this.hb.ia(g)].rB)&3)){b=-1;for(var h=this.hb.Se(g),q=g,f=null,e=-1,k=0;-1!=h;){e=this.hb.ia(h);f=this.ib[e];e=f.rB;k=this.np.read(e);if(0!=(k&3))break;q=h;h=this.hb.Se(h)}-1==h?(m=1,h=q):(b=1==(k&3)?e:this.sB.read(e),
m=0!=f.ZG()?0:1,h=this.hb.nb(h));do{e=this.hb.ia(h);f=this.ib[e];e=f.rB;q=this.np.read(e);if(0==(q&3)){if(m!=f.ZG())return this.se=new a.Yd(6,e,-1),!1;k=0==m||f.mn()?2:1;q=q&252|k;this.np.write(e,k);if(2==k&&0==this.se.Ji&&this.sB.read(e)!=b&&(this.se=new a.Yd(7,e,-1),this.Zl))return!1;this.Yt--;if(0==this.Yt)return!0}1==(q&3)&&(b=e);q=h;h=this.hb.nb(h);m=0!=m?0:1}while(q!=g)}null!=this.Hn?this.Hn.clear(!1):this.Hn=new a.ha(0);return!0};m.prototype.Kv=function(b,d,c,h){if(322==b.G())b=this.OQ(b);
else throw a.g.za();b.Bp=d;b.rB=c;b.nr=0;b.MX(h);return b};m.prototype.OQ=function(b){var d;0<this.jp.length?(d=this.jp[this.jp.length-1],--this.jp.length,b.copyTo(d.Ie)):(d=new g,d.Ie=a.iE.me(b));return d};m.prototype.YB=function(a){322==a.Ie.G()&&this.jp.push(a)};m.prototype.EV=function(){for(var b=this.Y.D(),d=new a.ha(0),c=0;c<b;c++)d.add(c);var h=this;d.Fd(0,b,function(a,b){return h.Gv(a,b)});for(c=1;c<b;c++)if(0==this.Gv(d.get(c-1),d.get(c)))return this.se=new a.Yd(3,d.get(c-1),d.get(c)),0;
return 2};m.prototype.mW=function(){return this.NF()?this.MF(!0)?2:0:0};m.prototype.kW=function(){return this.DA()};m.prototype.FV=function(){for(var b=this.Y.D(),d=new a.ha(0),c=0;c<b;c++)d.add(c);var h=this;d.Fd(0,b,function(a,b){return h.oQ(a,b)});var g=Array(b);a.J.Ov(g,!1);g[d.get(0)]=!0;for(c=1;c<b;c++){var e=d.get(c-1),m=d.get(c);0==this.Gv(e,m)?g[m]=!1:g[m]=!0}for(var d=this.Y.Ka(),e=this.Y,m=0,f=1,c=0;c<b;c++)g[c]?f=c+1:(m<f&&d.Hd(e,m,f),m=c+1);m<f&&d.Hd(e,m,f);d.Xg(2,this.vp);return d};
m.prototype.nW=function(){var b=this.Y,d=b.Fa(),c=b.Fa(),h=this.Y.Ka(),g=this.Y,e=b.hasAttribute(1),m=e?a.na.GF(this.lh,b,!0):0,f=new a.ha(0),q=new a.ha(0);f.zb(a.J.truncate(b.D()/2+1));for(q.zb(a.J.truncate(b.D()/2+1));d.Ya();)if(c.Ya(),!(2>b.La(d.Ta))){c.eX();for(var k,l,n=!0;d.Ea();){var p=d.ba(),r=c.Mi();if(d.Db()>c.Db())break;n&&(f.add(d.Db()),q.add(c.Lk()),n=!1);l=f.Ec();var t=d.Lk();if(1<t-l){var w=new a.b;w.xc(b.Ba(l),b.Ba(t));k=w.length()}else k=p.Rb();l=q.Ec();t=c.Db();1<t-l?(w=new a.b,
w.xc(b.Ba(l),b.Ba(t)),l=w.length()):l=r.Rb();k>this.vp?f.add(d.Lk()):e&&(k=b.Wc(1,f.Ec(),0),p=p.Ms(1,0),Math.abs(p-k)>m&&f.add(d.Lk()));l>this.vp?q.add(c.Db()):e&&(k=b.Wc(1,q.Ec(),0),p=r.Ms(1,0),Math.abs(p-k)>m&&q.add(c.Db()))}f.Ec()<q.Ec()?f.size>q.size?f.Mf():q.Mf():(f.Ec()!=q.Ec()&&q.Mf(),q.Mf());if(2<=q.size+f.size){n=new a.Wa;r=0;for(p=f.size;r<p;r++)g.xe(f.get(r),n),0==r?h.Of(n):h.lineTo(n);for(r=q.size-1;0<r;r--)g.xe(q.get(r),n),h.lineTo(n);g.Qb(d.Ta)?h.sq():0<q.size&&(g.xe(q.get(0),n),h.lineTo(n))}null!=
f&&f.clear(!1);null!=q&&q.clear(!1)}h.Xg(2,this.vp);return h};m.prototype.lW=function(){return this.bY()};m.prototype.bY=function(){if(1736==this.Y.G()&&1==this.Y.Eo())return a.Cg.ql(this.Y,this.vp,!0,!1,this.ie);this.hj=new a.ed;this.hj.Jb(this.Y);0!=this.hj.ud&&(1!=this.gB&&a.vk.V(this.hj,this.vp,this.ie,!0),1736==this.Y.G()&&a.so.V(this.hj,this.hj.qd,this.gB,!1,this.ie));this.Y=this.hj.Pe(this.hj.qd);1736==this.Y.G()&&(this.Y.Fl(),this.Y.Op(0));this.Y.Xg(2,this.vp);return this.Y};m.dc=function(b,
d,c){if(b.u())return 1;var h=b.G();if(33==h)return 1;if(197==h)return c=new a.h,b.s(c),c.eh(a.na.$g(d,b,!1))?0:1;if(a.T.Nc(h))throw a.g.za();if(!a.T.fh(h))throw a.g.za();var h=a.na.$g(d,b,!1),g=b.Nk(h);c=c?-1:g;if(-1!=c)return c;1==c&&(h=0);c=(new m(b,d,c,0,!1)).DA();b.Xg(c,h);return c};m.Wq=function(b,d,c,h,g){null!=h&&(h.Ji=0,h.qm=-1,h.rm=-1);if(b.u())return 1;var e=b.G();if(33==e)return 1;var f=a.na.$g(d,b,!1);if(197==e)return d=new a.h,b.s(d),d.eh(f)?(null!=h&&(h.Ji=2,h.qm=-1,h.rm=-1),0):1;if(a.T.Nc(e))return f=
new a.Ua(b.description),f.cc(b,!0),m.Wq(f,d,c,h,g);g=b.Nk(f);c=c?-1:g;if(-1!=c)return c;d=new m(b,d,c,0,!1);if(550==e)c=d.EV();else if(1607==e)c=d.mW();else if(1736==e)c=d.kW();else throw a.g.za();b.Xg(c,f);null!=h&&0==c&&h.ls(d.se);return c};m.tb=function(b,d,c,h,g){null!=h&&(h.Ji=0,h.qm=-1,h.rm=-1);if(b.u())return 1;var e=b.G();if(33==e)return 1;var f=a.na.$g(d,b,!1);if(197==e)return d=new a.h,b.s(d),d.eh(f)?(null!=h&&(h.Ji=2,h.qm=-1,h.rm=-1),0):1;if(a.T.Nc(e))return e=new a.Ua(b.description),e.cc(b,
!0),m.Wq(e,d,c,h,g);b=new m(b,d,-1,0,!0);if(550==e||1607==e||1736==e)d=b.DA();else throw a.g.za();null!=h&&h.ls(b.se);return d};m.HK=function(b,d,c,h){if(b.u())return b;var g=b.G();if(33==g)return b;var e=a.na.$g(d,b,!1);if(197==g)return d=new a.h,b.s(d),d.eh(e)?b.Ka():b;if(a.T.Nc(g))return g=new a.Ua(b.description),g.cc(b,!0),m.HK(g,d,c,h);h=b.Nk(e);c=c?-1:h;if(2==c)return b;b=new m(b,d,c,0,!1);if(550==g)b=b.FV();else if(1607==g)b=b.nW();else if(1736==g)b=b.lW();else throw a.g.za();return b};m.GC=
function(b,d,c,h){if(b.u())return b;var g=b.G();if(33==g)return b;var e=a.na.$g(d,b,!1);if(197==g)return d=new a.h,b.s(d),d.eh(e)?b.Ka():b;if(a.T.Nc(g))return e=new a.Ua(b.description),e.cc(b,!0),m.GC(e,d,c,h);if(!a.T.fh(g))throw a.g.X("OGC simplify is not implemented for this geometry type "+g);return a.Cg.GC(b,e,!1,h)};m.prototype.li=function(b,d,c){if(b==d)return 0;b=this.Hi.get(b);var h=this.Hi.get(d);d=b>>1;var g=h>>1,e=new a.b,m=new a.b;this.Kf.fc(2*d,e);e.y+=0!=(b&1)?this.lk:-this.lk;this.Kf.fc(2*
g,m);m.y+=0!=(h&1)?this.lk:-this.lk;b=e.compare(m);return 0==b&&c?(c=this.nm.get(d)-this.nm.get(g),0>c?-1:0<c?1:0):b};m.prototype.Gv=function(b,d){if(b==d)return 0;var c=this.Y,h=c.Ba(b),g=c.Ba(d);if(h.x<g.x)return-1;if(h.x>g.x)return 1;if(h.y<g.y)return-1;if(h.y>g.y)return 1;for(h=1;h<this.TU;h++)for(var g=this.mI.pd(h),e=a.ma.Xa(g),m=0;m<e;m++){var f=c.Wc(g,b,m),q=c.Wc(g,d,m);if(f<q)return-1;if(f>q)return 1}return 0};m.prototype.oQ=function(a,b){var d=this.Gv(a,b);return 0==d?a<b?-1:1:d};m.prototype.sR=
function(a,b){if(a===b)return 0;var d=a.Ie.Dg(a.mn()?1:0);a.mn()&&d.Kr();a=b.Ie.Dg(b.mn()?1:0);b.mn()&&a.Kr();b=d.ev();var c=a.ev();return c==b?(b=d.Vi(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*d.y)+Math.abs(a.y*d.x))&&(b--,b++),0>b?1:0<b?-1:0):b<c?-1:1};return m}();a.py=m})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=function(){return 30};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.prototype.V=function(b,
d,c,g){return b instanceof a.T?(b=new a.gd(b),d=new a.gd(d),this.V(b,d,c,g).next()):new a.VM(b,d,c,g)};c.Wp=function(b,d,h,g){var e=b.ub(),m=d.ub();if(b.u()&&d.u())return e>m?b:d;if(b.u())return d;if(d.u())return b;var f=new a.h,k=new a.h,l=new a.h;b.s(f);d.s(k);l.I(f);l.Nb(k);f=a.na.$d(h,l,!0);k=b.G();l=d.G();return 33==k&&33==l?c.Om(b,d,f):k!=l?0<e||0<m?e>m?b:d:550==k?c.ye(b,d,f):c.ye(d,b,f):a.Cg.Wp(b,d,h,g)};c.Om=function(b,d,c){c=c*Math.sqrt(2)*1.00001;c*=c;var h=b.w(),g=d.w(),e=new a.Dd(b.description);
a.b.sc(h,g)>c&&(e.add(b),e.add(d));return e};c.ye=function(b,d,c){var h=b.Qa(0),g=b.D(),e=d.w(),f=b.Ka();c=c*Math.sqrt(2)*1.00001;var k=new a.h;b.s(k);k.P(c,c);if(k.contains(e)){c*=c;for(var k=!1,l=[],n=0;n<g;n++)l[n]=!1;for(n=0;n<g;n++){var p=h.read(2*n),r=h.read(2*n+1),p=p-e.x,r=r-e.y;p*p+r*r<=c&&(k=!0,l[n]=!0)}if(k)for(n=0;n<g;n++)l[n]||f.Hd(b,n,n+1);else f.Hd(b,0,g),f.add(d)}else f.Hd(b,0,g),f.add(d);return f};c.N=null;return c}(a.bf);a.qy=g})(y||(y={}));(function(a){var g=function(){function g(a,
b,d,h){this.qt=null==b;this.Ca=-1;this.ge=a;this.Pg=d;this.oV=b.next();this.mc=h}g.prototype.next=function(){if(this.qt)return null;var c;return null!=(c=this.ge.next())?(this.Ca=this.ge.Ia(),a.qy.Wp(c,this.oV,this.Pg,this.mc)):null};g.prototype.Ia=function(){return this.Ca};g.prototype.Oe=function(){return!0};return g}();a.VM=g})(y||(y={}));(function(a){var g=function(){function a(){}a.prototype.kw=function(){this.Kz=null;this.gy=-1;this.eL=!1};return a}(),e=function(){function a(){this.Cs=0;this.Tj=
[]}a.prototype.NO=function(a){this.Cs+=a.gy;this.Tj.push(a)};a.prototype.oW=function(){this.Cs-=this.Tj[this.Tj.length-1].gy;--this.Tj.length};a.prototype.Qy=function(){return this.Tj[this.Tj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),c=function(){function b(a,b,c){this.Ca=-1;this.Oc=!1;this.CI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.VA=!1;this.dl=-1;this.Yq=0;this.Xo=-1;this.xp=[];this.ge=a;this.Pg=b;this.mc=c}b.tb=function(a){var b=[],d=0;for(a=Object.keys(a);d<a.length;d++)b.push(Number(a[d]));
b.sort(function(a,b){return a-b});return b};b.prototype.iH=function(d){var c=this.xp[d],g=b.tb(c)[0],e=c[g],f=e.Qy().Kz,e=e.Qy().eL;delete c[g];e&&(f=a.Qm.local().V(f,this.Pg,!1,this.mc),0==d&&33==f.G()&&(d=new a.Dd(f.description),f.u()||d.add(f),f=d));return f};b.prototype.next=function(){if(this.Oc&&this.Xo==this.dl)return null;for(;!this.RK(););if(-1==this.dl)return null;if(this.VA){for(this.Xo++;;){if(this.Xo>this.dl||0>this.Xo)throw a.g.za();if(this.CI[this.Xo])break}this.Ca++;return this.iH(this.Xo)}this.Ca=
0;this.Xo=this.dl;return this.iH(this.dl)};b.prototype.Ia=function(){return this.Ca};b.prototype.RK=function(){if(this.Oc)return!0;var b=null;null!=this.ge&&(b=this.ge.next(),null==b&&(this.Oc=!0,this.ge=null));if(null!=b){var c=b.ub();this.CI[c]=!0;c>=this.dl&&!this.VA&&(this.eF(c,!1,b),c>this.dl&&!this.VA&&this.aX(c))}if(0<this.Yq)for(c=0;c<=this.dl;c++)for(;1<this.jr[c];)if(b=this.eQ(c),0!=b.length)b=a.Cg.nR(b,this.Pg,this.mc),this.eF(c,!0,b);else break;return this.Oc};b.prototype.eQ=function(a){for(var d=
[],c=[],g=this.xp[a],e=b.tb(g),f=0;f<e.length;f++){var k=e[f],l=g[k];if(this.Oc||1E4<l.Cs&&1<l.Tj.length){this.jr[a]-=l.Tj.length;for(this.Yq-=l.Tj.length;0<l.Tj.length;)d.push(l.Qy().Kz),l.oW();c.push(k)}}for(f=0;f<c.length;f++)delete g[c[f]];return d};b.prototype.aX=function(a){for(var b=0;b<a;b++)this.xp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};b.prototype.eF=function(a,c,m){var d=new g;d.kw();d.Kz=m;m=b.lf(m);d.gy=m;m=b.ye(m);if(a+1>this.xp.length)for(var h=0,f=Math.max(2,a+1);h<f;h++)this.xp.push([]);
h=this.xp[a][m];void 0===h&&(h=new e,this.xp[a][m]=h);d.eL=c;h.NO(d);this.jr[a]++;this.Yq++;this.dl=Math.max(this.dl,a)};b.ye=function(b){return 0<b?a.J.truncate(Math.log(b)/Math.log(4)+.5):0};b.lf=function(b){var d=b.G();if(a.T.fh(d))return b.D();if(33==d)return 1;if(197==d)return 4;if(a.T.Nc(d))return 2;throw a.g.za();};b.prototype.Oe=function(){return this.RK()};return b}();a.XM=c})(y||(y={}));(function(a){var g=function(g){function c(){return null!==g&&g.apply(this,arguments)||this}Y(c,g);c.prototype.G=
function(){return 1};c.prototype.V=function(b,d,c,g){return void 0===g?new a.XM(b,d,c):this.xR(b,d,c,g)};c.prototype.xR=function(b,d,c,g){b=new a.gd([b,d]);return this.V(b,c,g).next()};c.local=function(){null===c.N&&(c.N=new c);return c.N};c.N=null;return c}(a.bf);a.ei=g})(y||(y={}));(function(a){var g;(function(a){a[a.nextPath=0]="nextPath";a[a.nextSegment=1]="nextSegment";a[a.iterate=2]="iterate"})(g||(g={}));g=function(){function g(c,b,d,h){this.Qt=new a.h;this.hV=c;this.iV=b;this.br=h;this.op=
-1;this.$l=!1;var g=c.ob;null!=g&&(g=h?g.tp:g.Mb,null!=g&&(this.Oc=!1,this.ta=d,this.Mb=g,this.lx=this.Mb.jf(),this.cr=this.$l=!0,this.Zb=0,h?this.op=b.aa():this.Bd=b.Fa()));this.$l||(g=b.ob,null!=g&&(g=h?g.tp:g.Mb,null!=g&&(this.Oc=!1,this.ta=d,this.Mb=g,this.lx=this.Mb.jf(),this.$l=!0,this.cr=!1,this.Zb=0,h?this.op=c.aa():this.Bd=c.Fa())));this.$l||(this.Di=h?a.na.ES(c,b,d,1<=c.Nk(0),1<=b.Nk(0)):a.na.DS(c,b,d))}g.prototype.next=function(){if(this.$l){if(this.Oc)return!1;for(var c=!0;c;)switch(this.Zb){case 0:c=
this.MV();break;case 1:c=this.NV();break;case 2:c=this.FA();break;default:throw a.g.X("internal error");}return this.Oc?!1:!0}return null==this.Di?!1:this.Di.next()};g.prototype.Vl=function(){return this.$l?this.cr?this.Mb.ia(this.Dt):this.br?this.op:this.Bd.Db():this.Di.Vl(this.Di.rg)};g.prototype.Rl=function(){return this.$l?this.cr?this.br?this.op:this.Bd.Db():this.Mb.ia(this.Dt):this.Di.Rl(this.Di.$f)};g.prototype.hA=function(){if(!this.br)throw a.g.X("internal error");return this.$l?this.cr?
this.Mb.JG(this.Dt):this.Qt:this.Di.hA(this.Di.rg)};g.prototype.Lz=function(){if(!this.br)throw a.g.X("internal error");return this.$l?this.cr?this.Qt:this.Mb.JG(this.Dt):this.Di.Lz(this.Di.$f)};g.prototype.MV=function(){if(!this.br){if(!this.Bd.Ya())return this.Oc=!0,!1;this.Zb=1;return!0}if(-1==--this.op)return this.Oc=!0,!1;this.cr?this.iV.nk(this.op,this.Qt):this.hV.nk(this.op,this.Qt);this.lx.Oi(this.Qt,this.ta);this.Zb=2;return!0};g.prototype.NV=function(){if(!this.Bd.Ea())return this.Zb=0,
!0;var a=this.Bd.ba();this.lx.bo(a,this.ta);this.Zb=2;return!0};g.prototype.FA=function(){this.Dt=this.lx.next();return-1==this.Dt?(this.Zb=this.br?0:1,!0):!1};return g}();a.Rm=g})(y||(y={}));(function(a){a=a.eN||(a.eN={});a[a.enumClosed=1]="enumClosed";a[a.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";a[a.enumOGCStartPolygon=4]="enumOGCStartPolygon";a[a.enumCalcMask=4]="enumCalcMask"})(y||(y={}));(function(a){var e=function(){function e(){}e.Cb=function(c,b,d,h,g,f,k,l,n){var m=[0,0,0],
q=[0,0,0],C=[0,0,0],p=[0,0,0,0],F=new a.da(0),r=new a.da(0),H=new a.da(0);if(null!=k||null!=l||null!=n)if(a.l.Ri(b))a.uh.Cb(c,d,h,g,f,k,l,n);else{g=a.C.ca(g);d=a.C.ca(d);var t=a.C.ca(g-d);if(a.l.W(h,f)&&(a.l.W(d,g)||a.l.W(a.l.K(h),1.570796326794897)))null!=k&&(k.j=0),null!=l&&(l.j=0),null!=n&&(n.j=0);else{if(a.l.W(h,-f)){if(a.l.W(a.l.K(h),1.570796326794897)){null!=k&&(k.j=2*a.C.Wg(c,b));null!=l&&(l.j=0<h?a.C.ca(3.141592653589793-a.C.ca(g)):a.C.ca(g));null!=n&&(n.j=0<h?a.C.ca(g):a.C.ca(3.141592653589793-
a.C.ca(g)));return}a.l.W(a.l.K(t),3.141592653589793)&&(null!=k&&(k.j=2*a.C.Wg(c,b)),null!=l&&(l.j=0),null!=n&&(n.j=0))}else{if(a.l.W(a.l.K(h),1.570796326794897)||a.l.W(a.l.K(f),1.570796326794897)){a.Cl.Cb(c,b,d,h,g,f,k,l,n);return}if(a.l.W(d,g)||a.l.W(a.l.K(t),3.141592653589793)){a.Cl.Cb(c,b,d,h,g,f,k,l,n);return}if(a.l.wd(h)){a.Cl.Cb(c,b,d,h,g,f,k,l,n);return}}var w=Math.sqrt(1-b);g=a.C.ca(g-d);d=0;a.C.Fk(1,b,h,d,0,F,r,H);m[0]=F.j;m[1]=r.j;m[2]=H.j;a.C.Fk(1,b,f,g,0,F,r,H);q[0]=F.j;q[1]=r.j;q[2]=
H.j;C[0]=0;C[1]=0;C[2]=-1*b*a.C.n(1,b,h)*Math.sin(h);0>g?a.C.Nr(C,q,m,p,0):a.C.Nr(C,m,q,p,0);for(var r=[0,0,0],H=[0,0,0],u=[0,0,0],m=[0,0,0],F=[0,0,0],v=Math.acos(p[2]/1),x=1-b,y=Math.tan(v),z=1+y*y/x,A=2*C[2]*y/x,y=Math.sqrt(A*A-4*z*(C[2]*C[2]/x-1)),z=2*z,x=(-A+y)/z,A=(-A-y)/z,y=Math.tan(v),z=y*x+C[2],v=(x+A)/2,C=(z+(y*A+C[2]))/2,y=a.C.Zp(x-v,z-C),x=C/w*1.570796326794897,A=0;100>A;A++){z=a.C.Hm(b,x);z=z*z/Math.cos(x)*(Math.sin(x)-C*z/(1*(1-b)));if(a.l.wd(z))break;x-=z}var C=a.C.n(1,b,x)*Math.cos(x),
C=Math.sqrt((C-v)*(C+v)),y=1-y/C,y=y*(2-y),z=a.C.lo(r),v=a.C.lo(H),x=a.C.lo(u),B=a.C.Gu(u,r),A=a.C.Gu(u,H);a.C.fy(u,r,m);a.C.fy(u,H,F);r=Math.acos(B/(x*z));H=Math.acos(A/(x*v));H*=a.l.Bb(1,a.C.Gu(m,F));if(1.570796326794897<=a.l.K(r)&&1.570796326794897<=a.l.K(H)||3.141592653589793<a.l.K(r-H))r=(3.141592653589793-a.l.K(r))*a.l.Bb(1,r),H=(3.141592653589793-a.l.K(H))*a.l.Bb(1,H);m=a.C.mk(y,H);F=a.C.q(C,y,a.C.mk(y,r));m=a.C.q(C,y,m);m=a.l.K(m-F)*c;r=new a.da(0);H=new a.da(0);u=p[1]/1;u*=-a.l.Bb(1,t);F=
Math.acos(u)*a.l.Bb(1,t);e.Rf(c,b,d,h,m,F,r,H);a.l.W(g,r.j)&&a.l.W(f,H.j)||(y=a.C.Zp(a.C.ca(g-r.j),f-H.j),e.Rf(c,b,d,h,m,a.C.ca(F+3.141592653589793),r,H),z=a.C.Zp(a.C.ca(g-r.j),f-H.j),z<y&&(F=a.C.ca(F+3.141592653589793)));r=[0,0,0,0];H=[0,0,0,0];C=[0,0,0];y=[0,0,0];c=[0,0,0];d=[0,0,0];h=[0,0,0];u=[0,0,0];C[0]=0;C[1]=0;C[2]=w;y[0]=0;y[1]=0;y[2]=0;a.C.Nr(y,C,q,r,0);a.l.wd(f)?(c[0]=q[0],c[1]=q[1],c[2]=1,d[0]=1*Math.cos(g)-1*Math.sin(g),d[1]=1*Math.sin(g)+1*Math.cos(g)):(b=a.C.n(1,b,f)*Math.cos(f),c[0]=
0,c[1]=0,q[2]+=Math.tan(1.570796326794897-a.l.K(f))*b*a.l.Bb(1,f),d[0]=b*Math.cos(g)-b*Math.sin(g),d[1]=b*Math.sin(g)+b*Math.cos(g));d[2]=q[2];a.C.Nr(q,d,c,H,1);a.C.fy(H,r,h);a.C.fy(H,p,u);u=a.C.Gu(h,u)/(a.C.lo(h)*a.C.lo(u));u*=a.l.Bb(1,t);g=Math.acos(u)*-a.l.Bb(1,t);0<F&&0<g?g=a.C.ca(g+3.141592653589793):0>F&&0>g&&(g=a.C.ca(g+3.141592653589793));null!=k&&(k.j=m);null!=l&&(l.j=F);null!=n&&(n.j=g)}}};e.Rf=function(c,b,d,h,e,g,f,k){var m=[0,0,0],q=[0,0,0],l=[0,0,0],C=[0,0,0],n=[0,0,0],p=[0,0,0],F=[0,
0,0],r=[0,0,0,0],t=new a.da(0),u=new a.da(0),w=new a.da(0),v=new a.da(0),x=new a.da(0),y=new a.da(0);if(null!=f&&null!=k)if(a.l.Ri(b))a.uh.Rf(c,d,h,e,g,f,k);else if(a.l.wd(e))null!=f&&(f.j=d),null!=k&&(k.j=h);else if(g=a.C.ca(g),0>e&&(e=a.l.K(e),g=a.C.ca(g+3.141592653589793)),d=a.C.ca(d),h=a.C.ca(h),1.570796326794897<a.l.K(h)&&(d=a.C.ca(d+3.141592653589793),h=a.l.Bb(3.141592653589793,h)-h),a.l.W(a.l.K(h),1.570796326794897)||a.l.wd(h)||a.l.wd(g)||a.l.W(a.l.K(g),3.141592653589793))a.Cl.Rf(c,b,d,h,e,
g,f,k);else{var z=Math.sqrt(1-b);c=e/c;a.C.Fk(1,b,h,0,0,v,x,y);m[0]=v.j;m[1]=x.j;m[2]=x.j;F[0]=0;F[1]=0;F[2]=-1*b*a.C.n(1,b,h)*Math.sin(h);v=a.C.n(1,b,h);x=a.C.ca(1.570796326794897-g);y=Math.sin(x);e=Math.cos(h);h=Math.sin(h);n[0]=v*e-h*y;n[1]=Math.cos(x);n[2]=(1-b)*v*h+e*y;0>g?a.C.Nr(F,n,m,r,0):a.C.Nr(F,m,n,r,0);m=Math.acos(r[2]/1);r=Math.atan2(-r[1],-r[0]);h=1-b;n=Math.tan(m);x=1+n*n/h;v=2*F[2]*n/h;n=Math.sqrt(v*v-4*x*(F[2]*F[2]/h-1));x*=2;h=(-v+n)/x;v=(-v-n)/x;n=Math.tan(m);x=n*h+F[2];m=(h+v)/
2;F=(x+(n*v+F[2]))/2;n=a.C.Zp(h-m,x-F);z=F/z*1.570796326794897;for(h=0;100>h;h++){v=a.C.Hm(b,z);v=v*v/Math.cos(z)*(Math.sin(z)-F*v/(1*(1-b)));if(a.l.wd(v))break;z-=v}z=a.C.n(1,b,z)*Math.cos(z);z=Math.sqrt((z-m)*(z+m));F=1-n/z;F*=2-F;p=Math.acos(a.C.Gu(p,q)/(a.C.lo(p)*a.C.lo(q)));p*=a.l.Bb(1,q[0]);g=(a.C.q(z,F,a.C.mk(F,p))+c*a.l.Bb(1,g))/a.C.Wg(z,F);g=a.C.ca(1.570796326794897*g);g=a.C.Ep(F,g);a.C.n(z,F,g);n=a.C.ca(r+d);d=Math.cos(n);g=Math.sin(n);l[0]=C[0]*d+C[1]*-g;l[1]=C[0]*g+C[1]*d;l[2]=C[2];a.C.GP(b,
l[0],l[1],l[2],w,u,t);null!=f&&(f.j=u.j);null!=k&&(k.j=w.j)}};return e}();a.aE=e})(y||(y={}));(function(a){var e=function(){function b(b){this.ab=null;this.ou=new a.b;this.pu=new a.b;this.a=b}b.prototype.compare=function(a,b,d){this.a.Mc(b,this.ou);this.a.Mc(a.ia(d),this.pu);return this.ou.compare(this.pu)};return b}(),g=function(){function b(b){this.ag=new a.b;this.hl=new a.b;this.a=b}b.prototype.Zh=function(a){this.ag.L(a)};b.prototype.compare=function(a,b){this.a.Mc(a.ia(b),this.hl);return this.ag.compare(this.hl)};
return b}(),c=function(a){function b(b){var d=a.call(this,b.a,b.ta,!1)||this;d.bb=b;return d}Y(b,a);b.prototype.compare=function(a,b,d){if(this.Lg)return-1;var c=this.bb.fe.Fo(this.bb.si(b));a=a.ia(d);var h=this.bb.fe.Fo(this.bb.si(a));this.xn=d;return this.XF(b,c,a,h)};return b}(a.lE),b=function(a){function b(b){var d=a.call(this,b.a,b.ta)||this;d.bb=b;return d}Y(b,a);b.prototype.compare=function(a,b){if(this.Lg)return-1;a=this.bb.fe.Fo(this.bb.si(a.ia(b)));this.xn=b;return this.YF(b,a)};return b}(a.AN),
d=function(){function d(){this.Sc=this.Ef=this.cp=this.fe=this.Hh=this.Md=this.ib=this.a=null;this.hh=!1;this.Uh=this.Gn=this.Ce=this.jl=this.Jh=this.el=this.eg=this.te=null;this.Wh=this.zr=this.DB=this.ta=0;this.Kw=this.Ro=!1;this.sp=new a.b;this.pj=new a.b;this.ib=new a.Zc(8);this.Md=new a.Zc(5);this.Hh=new a.Nu;this.fe=new a.Nu;this.hh=!1;this.Uh=new a.b;this.Uh.ja(0,0);this.ta=0;this.Wh=-1;this.Ro=!1;this.a=null;this.Ef=new a.xk;this.Sc=new a.xk;this.Jh=new a.ha(0);this.jl=new a.jE;this.eg=new a.ha(0);
this.el=new a.ha(0);this.cp=new a.Wa}d.prototype.mY=function(b,d){var c=new a.Gd;c.AC();b.Vc(c);this.Xr(b);this.Ro=!1;this.ta=d;this.DB=d*d;d=this.JC();b.Vc(c);d||(this.JR(),d||this.JC());-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null;return this.Ro};d.prototype.qY=function(a,b){this.Xr(a);this.Ro=!1;this.ta=b;this.DB=b*b;this.hh=!1;this.JC();this.hh||(this.hh=1==a.zq(b,!0,!1));-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null};d.prototype.Ig=function(a,b){return this.ib.S(a,0+b)};
d.prototype.oC=function(a,b,d){this.ib.R(a,0+b,d)};d.prototype.si=function(a){return this.ib.S(a,2)};d.prototype.yX=function(a,b){this.ib.R(a,2,b)};d.prototype.UG=function(a,b){return this.ib.S(a,3+b)};d.prototype.Jq=function(a){return this.ib.S(a,7)};d.prototype.zm=function(a,b){this.ib.R(a,7,b)};d.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};d.prototype.Yr=function(a,b,d){this.ib.R(a,3+this.Iq(a,b),d)};d.prototype.gT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};d.prototype.$r=
function(a,b,d){this.ib.R(a,5+this.Iq(a,b),d)};d.prototype.Ls=function(a){return this.Md.S(a,0)};d.prototype.vX=function(a,b){this.Md.R(a,0,b)};d.prototype.Pz=function(a){return this.Md.S(a,4)};d.prototype.Ur=function(a,b){this.Md.R(a,4,b)};d.prototype.Sl=function(a){return this.Md.S(a,1)};d.prototype.io=function(a,b){this.Md.R(a,1,b)};d.prototype.Oz=function(a){return this.Md.S(a,3)};d.prototype.vu=function(a,b){this.Md.R(a,3,b)};d.prototype.Sn=function(a){var b=this.Md.Me(),d=this.Hh.ni();this.vX(b,
d);-1!=a?(this.Hh.addElement(d,a),this.a.Va(a,this.Wh,b),this.Ur(b,this.a.Za(a))):this.Ur(b,-1);return b};d.prototype.aR=function(a){this.Md.jd(a)};d.prototype.cF=function(a,b){this.Hh.addElement(this.Ls(a),b);this.a.Va(b,this.Wh,a)};d.prototype.eu=function(a){var b=this.ib.Me(),d=this.fe.ni();this.yX(b,d);-1!=a&&this.fe.addElement(d,a);return b};d.prototype.dF=function(a,b){this.fe.addElement(this.si(a),b)};d.prototype.Mv=function(a){this.ib.jd(a);a=this.Jh.Pv(a);0<=a&&this.Jh.vJ(a)};d.prototype.Nj=
function(b,d){if(-1==this.Ig(b,0))this.oC(b,0,d);else if(-1==this.Ig(b,1))this.oC(b,1,d);else throw a.g.za();this.Oy(b,d)};d.prototype.Oy=function(a,b){var d=this.Sl(b);if(-1!=d){var c=this.Kq(d,b);this.$r(c,b,a);this.Yr(a,b,c);this.Yr(d,b,a);this.$r(a,b,d)}else this.$r(a,b,a),this.Yr(a,b,a),this.io(b,a)};d.prototype.Iq=function(a,b){return this.Ig(a,0)==b?0:1};d.prototype.Rn=function(a,b){var d=this.Oz(b);-1!=d&&(this.Ef.Jd(d,-1),this.vu(b,-1));var c,d=this.Sl(b);if(-1!=d){var h=c=d,e;do{e=!1;var g=
this.Iq(c,b),f=this.UG(c,g);if(this.Ig(c,g+1&1)==a){this.Nv(c);this.fe.zh(this.si(c));this.Mv(c);if(c==f){d=-1;break}d==c&&(d=this.Sl(b),h=f,e=!0)}c=f}while(c!=h||e);if(-1!=d){do g=this.Iq(c,b),f=this.UG(c,g),this.oC(c,g,a),c=f;while(c!=h);c=this.Sl(a);-1!=c?(h=this.Kq(c,a),e=this.Kq(d,a),h==c?(this.io(a,d),this.Oy(c,a),this.io(a,c)):e==d&&this.Oy(d,a),this.Yr(d,a,h),this.$r(h,a,d),this.Yr(c,a,e),this.$r(e,a,c)):this.io(a,d)}}d=this.Ls(a);c=this.Ls(b);for(h=this.Hh.wc(c);-1!=h;h=this.Hh.nb(h))this.a.Va(this.Hh.ia(h),
this.Wh,a);this.Hh.kz(d,c);this.aR(b)};d.prototype.xV=function(a,b){var d=this.Ig(a,0),c=this.Ig(a,1),h=this.Ig(b,0),e=this.Ig(b,1);this.fe.kz(this.si(a),this.si(b));b==this.Sl(d)&&this.io(d,a);b==this.Sl(c)&&this.io(c,a);this.Nv(b);this.Mv(b);d==h&&c==e||c==h&&d==e||(this.Do(d,this.sp),this.Do(h,this.pj),this.sp.vb(this.pj)?(d!=h&&this.Rn(d,h),c!=e&&this.Rn(c,e)):(c!=h&&this.Rn(c,h),d!=e&&this.Rn(d,e)))};d.prototype.Nv=function(a){var b=this.Ig(a,1);this.jG(a,this.Ig(a,0));this.jG(a,b)};d.prototype.jG=
function(a,b){var d=this.Kq(a,b),c=this.gT(a,b),h=this.Sl(b);d!=a?(this.Yr(c,b,d),this.$r(d,b,c),h==a&&this.io(b,d)):this.io(b,-1)};d.prototype.kF=function(a,b,d){var c=this.fe.wc(a),h=this.fe.ia(c);a=this.ff(h);var e=this.ff(this.a.U(h));this.a.as(h,b,d,!0);for(c=this.fe.nb(c);-1!=c;c=this.fe.nb(c)){var h=this.fe.ia(c),g=this.ff(h)==a;this.a.as(h,b,d,g)}c=b.Mq(d,0).ec();b=b.Mq(d,b.Wl(d)-1).Ac();this.fL(a,c);this.fL(e,b)};d.prototype.dG=function(a,b,d){var c=this.si(a),h=this.Ig(a,0),e=this.Ig(a,
1),g=this.eu(-1);this.Jh.add(g);this.zm(g,-3);this.eg.add(g);this.Nj(g,h);a=1;for(b=b.Wl(d);a<b;a++)d=this.Sn(-1),this.el.add(d),this.eg.add(d),this.Nj(g,d),g=this.eu(-1),this.Jh.add(g),this.zm(g,-3),this.eg.add(g),this.Nj(g,d);this.Nj(g,e);for(c=this.fe.wc(c);-1!=c;c=this.fe.nb(c))if(e=this.fe.ia(c),this.ff(e)==h){a=0;do 0<a&&(g=this.eg.get(a-1),this.cF(g,e),-1==this.Pz(g)&&this.Ur(g,this.a.Za(e))),g=this.eg.get(a),a+=2,this.dF(g,e),e=this.a.U(e);while(a<this.eg.size)}else{a=this.eg.size-1;do a<
this.eg.size-2&&(g=this.eg.get(a+1),this.cF(g,e),0>this.Pz(g)&&this.Ur(g,this.a.Za(e))),g=this.eg.get(a),a-=2,this.dF(g,e),e=this.a.U(e);while(0<=a)}this.eg.clear(!1)};d.prototype.ff=function(a){return this.a.Sa(a,this.Wh)};d.prototype.zJ=function(b,d,c){var h=this.Ig(d,0),e=new a.b;this.Do(h,e);var g=new a.b,f=this.Ig(d,1);this.Do(f,g);var m=c.Wl(b),k=c.Mq(b,0),q=new a.b;k.Oq(q);if(!e.vb(q)){if(!this.hh){var l=e.compare(this.Uh),q=q.compare(this.Uh);0>l*q&&(this.hh=!0)}this.zG(h,this.eg);this.el.add(h)}!this.hh&&
1<m&&(l=e.compare(g),k=k.Ac(),e.compare(k)!=l||k.compare(g)!=l?this.hh=!0:0>k.compare(this.Uh)&&(this.hh=!0));k=c.Mq(b,m-1);b=k.Ac();g.vb(b)||(this.hh||(l=g.compare(this.Uh),q=b.compare(this.Uh),0>l*q&&(this.hh=!0)),this.zG(f,this.eg),this.el.add(f));this.eg.add(d);g=0;for(f=this.eg.size;g<f;g++)b=this.eg.get(g),c=this.Jq(b),a.Zc.EA(c)&&(this.Sc.Jd(c,-1),this.zm(b,-1)),b!=d&&-3!=this.Jq(b)&&(this.Jh.add(b),this.zm(b,-3));this.eg.clear(!1)};d.prototype.LP=function(a,b){this.te.compare(this.Sc,this.Sc.ia(a),
b);this.te.Lg&&(this.te.Es(),this.tG(a,b))};d.prototype.tG=function(b,d){this.Ro=!0;b=this.Sc.ia(b);d=this.Sc.ia(d);var c,h;h=this.fe.Fo(this.si(b));var e=this.fe.Fo(this.si(d));c=this.a.jc(h);null==c&&(null==this.Ce&&(this.Ce=new a.Hb),this.a.nd(h,this.Ce),c=this.Ce);h=this.a.jc(e);null==h&&(null==this.Gn&&(this.Gn=new a.Hb),this.a.nd(e,this.Gn),h=this.Gn);this.jl.Hp(c);this.jl.Hp(h);this.jl.Ma(this.ta,!0)&&(this.hh=!0);this.MK(b,d,-1,this.jl);this.jl.clear()};d.prototype.VR=function(b,d){this.Ro=
!0;d=this.Sc.ia(d);var c,h=this.fe.Fo(this.si(d));c=this.a.jc(h);null==c&&(null==this.Ce&&(this.Ce=new a.Hb),this.a.nd(h,this.Ce),c=this.Ce);h=this.FG(b);this.jl.Hp(c);this.a.xj(h,this.cp);this.jl.vA(this.ta,this.cp,!0);this.MK(d,-1,b,this.jl);this.jl.clear()};d.prototype.VT=function(){if(0!=this.Jh.size)for(;0!=this.Jh.size;){if(this.Jh.size>Math.max(100,this.a.ud)){this.Jh.clear(!1);this.hh=!0;break}var a=this.Jh.Ec();this.Jh.Mf();this.zm(a,-1);-1!=this.rU(a)&&this.UT(a);this.Qo=!1}};d.prototype.UT=
function(a){var b;this.Qo?(b=this.Sc.ov(this.NI,this.II,a,!0),this.Qo=!1):b=this.Sc.bF(a);-1==b?this.xV(this.Sc.ia(this.Sc.IG()),a):(this.zm(a,b),this.te.Lg&&(this.te.Es(),this.tG(this.te.xn,b)))};d.prototype.rU=function(b){var d=this.Ig(b,0);b=this.Ig(b,1);this.Do(d,this.sp);this.Do(b,this.pj);if(a.b.sc(this.sp,this.pj)<=this.DB)return this.hh=!0,-1;var c=this.sp.compare(this.Uh),h=this.pj.compare(this.Uh);return 0>=c&&0<h?b:0>=h&&0<c?d:-1};d.prototype.HR=function(){var b=new a.ha(0);b.zb(this.a.ud);
for(var d=this.a.Pr(),c=d.next();-1!=c;c=d.next())-1!=this.a.Sa(c,this.Wh)&&b.add(c);this.a.Xx(b,b.size);this.IR(b)};d.prototype.IR=function(b){this.Ef.clear();this.Ef.Ne(b.size);this.Ef.Lp(new e(this.a));var d=new a.b;d.Yc();for(var c=-1,h=new a.b,g=0,f=b.size;g<f;g++){var m=b.get(g);this.a.Mc(m,h);h.vb(d)?(m=this.a.Sa(m,this.Wh),this.Rn(c,m)):(c=this.ff(m),this.a.Mc(m,d),m=this.Ef.yo(m),this.vu(c,m))}};d.prototype.JR=function(){var b=new a.ha(0);b.zb(this.a.ud);for(var d=this.Ef.wc(-1);-1!=d;d=
this.Ef.nb(d))b.add(this.Ef.ia(d));this.Ef.clear();this.a.Xx(b,b.size);for(var d=0,c=b.size;d<c;d++){var h=b.get(d),e=this.ff(h),h=this.Ef.yo(h);this.vu(e,h)}};d.prototype.zG=function(b,d){var c=this.Sl(b);if(-1!=c){var h=c;do a.Zc.EA(this.Jq(h))&&d.add(h),h=this.Kq(h,b);while(h!=c)}};d.prototype.fL=function(a,b){for(a=this.Hh.wc(this.Ls(a));-1!=a;a=this.Hh.nb(a))this.a.Nf(this.Hh.ia(a),b)};d.prototype.MK=function(a,b,d,c){this.Nv(a);-1!=b&&this.Nv(b);this.zJ(0,a,c);-1!=b&&this.zJ(1,b,c);-1!=d&&(c.ag.w(this.sp),
this.Do(d,this.pj),this.pj.vb(this.sp)||this.el.add(d));d=0;for(var h=this.el.size;d<h;d++){var e=this.el.get(d),g=this.Oz(e);-1!=g&&(this.Ef.Jd(g,-1),this.vu(e,-1))}d=this.si(a);h=-1!=b?this.si(b):-1;this.kF(d,c,0);-1!=b&&this.kF(h,c,1);this.dG(a,c,0);-1!=b&&this.dG(b,c,1);this.fe.zh(d);this.Mv(a);-1!=b&&(this.fe.zh(h),this.Mv(b));d=0;for(h=this.el.size;d<h;d++)e=this.el.get(d),e==this.zr&&(this.Kw=!0),g=this.Oz(e),-1==g&&(g=this.Ef.bF(this.FG(e)),-1==g?(a=this.ff(this.Ef.ia(this.Ef.IG())),this.Rn(a,
e)):this.vu(e,g));this.el.clear(!1)};d.prototype.Do=function(a,b){this.a.gH(this.Pz(a),b)};d.prototype.FG=function(a){return this.Hh.Fo(this.Ls(a))};d.prototype.JC=function(){this.Kw=!1;this.zr=-1;null==this.te&&(this.Sc.Dw=!1,this.te=new c(this),this.Sc.Uo=this.te);var d=new a.ha(0),h=null,e=null,f=0;this.II=this.NI=-1;this.Qo=!1;for(var k=this.Ef.wc(-1);-1!=k;){f++;this.Qo=!1;var l=this.Ef.ia(k);this.zr=this.ff(l);this.a.Mc(l,this.Uh);this.te.EK(this.Uh.y,this.Uh.x);var n,p=this.Sl(this.zr);n=-1==
p;if(!n){l=p;do{var r=this.Jq(l);-1==r?(this.Jh.add(l),this.zm(l,-3)):-3!=r&&d.add(r);l=this.Kq(l,this.zr)}while(l!=p)}if(0<d.size){this.Qo=1==d.size&&1==this.Jh.size;n=0;for(p=d.size;n<p;n++)l=this.Sc.ia(d.get(n)),this.zm(l,-2);var t=-2,u=-2;n=0;for(p=d.size;n<p;n++){r=d.get(n);if(-2==t){var w=this.Sc.Se(r);-1!=w?(l=this.Sc.ia(w),l=this.Jq(l),-2!=l&&(t=w)):t=-1}-2==u&&(r=this.Sc.nb(r),-1!=r?(l=this.Sc.ia(r),l=this.Jq(l),-2!=l&&(u=r)):u=-1);if(-2!=t&&-2!=u)break}n=0;for(p=d.size;n<p;n++)r=d.get(n),
l=this.Sc.ia(r),this.Sc.Jd(r,-1),this.zm(l,-1);d.clear(!1);this.NI=-1!=t?t:-1;this.II=-1!=u?u:-1;-1!=t&&-1!=u?this.Qo||this.LP(t,u):-1==t&&-1==u&&(this.Qo=!1)}else n&&(null==h&&(h=new b(this)),h.Zh(this.Uh),this.Sc.$J(h),h.Lg&&(h.Es(),this.VR(this.zr,h.xn)));this.VT();this.Kw?(this.Kw=!1,null==e&&(e=new g(this.a)),e.Zh(this.Uh),k=this.Ef.$J(e)):k=this.Ef.nb(k)}return this.Ro};d.prototype.Xr=function(b){this.a=b;this.Wh=this.a.Sd();this.ib.Ne(b.ud+32);this.Md.Ne(b.ud);this.Hh.ru(b.ud);this.Hh.ao(b.ud);
this.fe.ru(b.ud+32);this.fe.ao(b.ud+32);for(b=this.a.qd;-1!=b;b=this.a.Re(b))if(a.T.Hc(this.a.ic(b)))for(m=this.a.Pb(b);-1!=m;m=this.a.Sb(m)){var d=this.a.La(m),c=this.a.cb(m),h=this.Sn(c),e=this.eu(c);this.Nj(e,h);k=this.a.U(c);c=0;for(d-=2;c<d;c++){var g=this.a.U(k),f=this.Sn(k);this.Nj(e,f);e=this.eu(k);this.Nj(e,f);k=g}this.a.Qb(m)?(f=this.Sn(k),this.Nj(e,f),e=this.eu(k),this.Nj(e,f),this.Nj(e,h)):(f=this.Sn(k),this.Nj(e,f))}else for(var m=this.a.Pb(b);-1!=m;m=this.a.Sb(m))for(var k=this.a.cb(m),
h=0,d=this.a.La(m);h<d;h++)this.Sn(k),k=this.a.U(k);this.HR()};return d}();a.bE=d})(y||(y={}));(function(a){var e=function(e){function c(b,d,h){var g=e.call(this)||this;if(void 0!==b)if(void 0!==h){g.description=a.we.Hg();var f=new a.od;f.I(b,d,h);g.EC(f)}else if(void 0!==d)g.description=a.we.Hg(),g.rb(b,d);else if(b instanceof a.ma)g.description=b;else if(b instanceof a.b)g.description=a.we.Hg(),g.rb(b);else if(b instanceof c)g.description=b.description,g.rb(b.Te(),b.Cf()),null!==b.ka&&(g.ka=b.ka.slice(0));
else throw a.g.F();else g.description=a.we.Hg();return g}Y(c,e);c.prototype.w=function(b){if(void 0!==b){if(this.Gc())throw a.g.X("This operation should not be performed on an empty geometry.");b.ja(this.ka[0],this.ka[1])}else{if(this.Gc())throw a.g.X("This operation should not be performed on an empty geometry.");b=new a.b;b.ja(this.ka[0],this.ka[1]);return b}};c.prototype.rb=function(a,d){"number"===typeof a?(this.zc(),null==this.ka&&this.nq(),this.ka[0]=a,this.ka[1]=d):(this.zc(),this.rb(a.x,a.y))};
c.prototype.oA=function(){if(this.Gc())throw a.g.X("This operation should not be performed on an empty geometry.");var b=new a.od;b.x=this.ka[0];b.y=this.ka[1];b.z=this.description.kH()?this.ka[2]:a.ma.be(1);return b};c.prototype.EC=function(b){this.zc();var d=this.hasAttribute(1);d||a.ma.DH(1,b.z)||(this.Rd(1),d=!0);null==this.ka&&this.nq();this.ka[0]=b.x;this.ka[1]=b.y;d&&(this.ka[2]=b.z)};c.prototype.Te=function(){if(this.Gc())throw a.g.X("This operation should not be performed on an empty geometry.");
return this.ka[0]};c.prototype.DC=function(a){this.setAttribute(0,0,a)};c.prototype.Cf=function(){if(this.Gc())throw a.g.X("This operation should not be performed on an empty geometry.");return this.ka[1]};c.prototype.FK=function(a){this.setAttribute(0,1,a)};c.prototype.yT=function(){return this.Wc(1,0)};c.prototype.WX=function(a){this.setAttribute(1,0,a)};c.prototype.SS=function(){return this.Wc(2,0)};c.prototype.GX=function(a){this.setAttribute(2,0,a)};c.prototype.Bc=function(){return this.CG(3,
0)};c.prototype.pK=function(a){this.setAttribute(3,0,a)};c.prototype.Wc=function(b,d){var c=this.description.lg(b);return 0<=c?this.ka[this.description.zk(c)+d]:a.ma.be(b)};c.prototype.CG=function(b,d){var c=this.description.lg(b);return 0<=c?this.ka[this.description.zk(c)+d]:a.ma.be(b)};c.prototype.setAttribute=function(a,d,c){this.zc();var b=this.description.lg(a);0>b&&(this.Rd(a),b=this.description.lg(a));null==this.ka&&this.nq();this.ka[this.description.zk(b)+d]=c};c.prototype.G=function(){return 33};
c.prototype.ub=function(){return 0};c.prototype.Oa=function(){this.zc();null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)};c.prototype.to=function(b){if(null!=this.ka){for(var d=a.we.vx(b,this.description),c=[],e=0,g=0,f=b.Ga;g<f;g++){var k=b.pd(g),l=a.ma.Xa(k);if(-1==d[g])for(var n=a.ma.be(k),k=0;k<l;k++)c[e]=n,e++;else for(n=this.description.zk(d[g]),k=0;k<l;k++)c[e]=this.ka[n],e++,n++}this.ka=c}this.description=b};c.prototype.nq=function(){this.QJ(this.description.Ye.length);c.N(this.description.Ye,
this.ka,this.description.Ye.length);this.ka[0]=NaN;this.ka[1]=NaN};c.prototype.Vc=function(b){if(b instanceof a.Gd){if(!this.Gc()){var d=this.w();b.ai(d,d);this.rb(d)}}else this.Gc()||(this.Rd(1),d=this.oA(),this.EC(b.Yp(d)))};c.prototype.copyTo=function(b){if(33!=b.G())throw a.g.F();b.zc();null==this.ka?(b.Oa(),b.ka=null,b.Eg(this.description)):(b.Eg(this.description),b.QJ(this.description.Ye.length),c.N(this.ka,b.ka,this.description.Ye.length))};c.prototype.Ka=function(){return new c(this.description)};
c.prototype.u=function(){return this.Gc()};c.prototype.Gc=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])};c.prototype.Wn=function(a){a.Oa();this.description!=a.description&&a.Eg(this.description);a.Nb(this)};c.prototype.s=function(a){this.Gc()?a.Oa():(a.o=this.ka[0],a.A=this.ka[1],a.v=this.ka[0],a.B=this.ka[1])};c.prototype.Jp=function(a){if(this.Gc())a.Oa();else{var b=this.oA();a.o=b.x;a.A=b.y;a.xf=b.z;a.v=b.x;a.B=b.y;a.Zg=b.z}};c.prototype.hg=function(b,d){var c=new a.yc;
if(this.Gc())return c.Oa(),c;b=this.Wc(b,d);c.ga=b;c.la=b;return c};c.prototype.QJ=function(b){if(null==this.ka)this.ka=a.J.df(b);else if(this.ka.length<b){for(var d=this.ka.slice(0),c=this.ka.length;c<b;c++)d[c]=0;this.ka=d}};c.N=function(a,d,c){if(0<c)for(c=0;c<a.length;c++)d[c]=a[c]};c.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.Gc())return a.Gc()?!0:!1;for(var b=0,h=this.description.Ye.length;b<h;b++)if(this.ka[b]!=a.ka[b])return!1;
return!0};c.prototype.kc=function(){var b=this.description.kc();if(!this.Gc())for(var d=0,c=this.description.Ye.length;d<c;d++)var e=this.ka[d],e=a.J.truncate(e^e>>>32),b=a.J.bh(e,b);return b};c.prototype.Fg=function(){return null};return c}(a.T);a.Wa=e})(y||(y={}));(function(a){var e=function(){function a(a,b,d){void 0!==a&&(this.x=a,this.y=b,this.z=d)}a.pa=function(c,b,d){var h=new a;h.x=c;h.y=b;h.z=d;return h};a.prototype.I=function(a,b,d){this.x=a;this.y=b;this.z=d};a.prototype.Vx=function(){this.z=
this.y=this.x=0};a.prototype.normalize=function(){var a=this.length();0==a&&(this.x/=a,this.y/=a,this.z/=a)};a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};a.prototype.sub=function(c){return new a(this.x-c.x,this.y-c.y,this.z-c.z)};a.prototype.Tg=function(c){return new a(this.x*c,this.y*c,this.z*c)};a.prototype.iv=function(){this.x=NaN};a.prototype.Dy=function(){return isNaN(this.x)};a.prototype.pi=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};return a}();
a.od=e})(y||(y={}));(function(a){var e=function(){function e(a,b,d){this.tx=this.dx=null;this.sg=b;this.gV=b.y-d;this.fV=b.y+d;this.Hr=0;this.PA=a;this.ta=d;this.sV=d*d;this.QA=0!=d;this.yw=!1}e.prototype.result=function(){return 0!=this.Hr?1:0};e.prototype.tO=function(c){c=c.hc(c.ne(this.sg,!1));return a.b.sc(c,this.sg)<=this.sV?!0:!1};e.prototype.mG=function(a){if(!this.QA&&(this.PA&&this.sg.vb(a.ec())||this.sg.vb(a.Ac())))this.yw=!0;else if(a.ra==this.sg.y&&a.ra==a.oa){if(this.PA&&!this.QA){var b=
Math.max(a.ua,a.sa);this.sg.x>Math.min(a.ua,a.sa)&&this.sg.x<b&&(this.yw=!0)}}else{var d=!1,b=Math.max(a.ua,a.sa);this.sg.x>b?d=!0:this.sg.x>=Math.min(a.ua,a.sa)&&(d=0<a.Tq(!0,this.sg.y,this.tx,null)&&this.tx[0]<=this.sg.x);if(d){if(this.sg.y==a.ec().y){if(this.sg.y<a.Ac().y)return}else if(this.sg.y==a.Ac().y&&this.sg.y<a.ec().y)return;this.Hr=this.PA?this.Hr^1:this.Hr+(a.ec().y>a.Ac().y?1:-1)}}};e.prototype.mu=function(a){var b=a.hg(0,1);if(b.ga>this.fV||b.la<this.gV)return!1;if(this.QA&&this.tO(a))return!0;
if(b.ga>this.sg.y||b.la<this.sg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);b=a.hH(this.dx);if(0<b)for(a=0;a<b;a++){var d=this.dx[a].get();this.mG(d);if(this.yw)return!0}else if(this.mG(a),this.yw)return!0;return!1};e.N=function(a,b,d){b=new e(0==a.Eo(),b,d);for(a=a.Fa();a.Ya();)for(;a.Ea();)if(d=a.ba(),b.mu(d))return-1;return b.result()};e.dc=function(c,b,d,h){var g=new a.h;c.ac(g);g.P(h,h);var f=new e(0==c.Eo(),d,h);c=c.Fa();var k=new a.h;k.I(g);
k.v=d.x+h;k.A=d.y-h;k.B=d.y+h;d=b.$z(k,h);for(h=d.next();-1!=h;h=d.next())if(c.Tb(b.ia(h)),c.Ea()&&(h=c.ba(),f.mu(h)))return-1;return f.result()};e.qn=function(c,b,d){if(c.u())return 0;var h=new a.h;c.ac(h);h.P(d,d);if(!h.contains(b))return 0;h=c.ob;if(null!=h){var g=h.Ii;if(null!=g){g=g.wm(b.x,b.y);if(1==g)return 1;if(0==g)return 0}h=h.Mb;if(null!=h)return e.dc(c,h,b,d)}return e.N(c,b,d)};e.yU=function(c,b,d,h){if(c.u())return 0;var g=new a.h;c.ac(g);g.P(h,h);if(!g.contains(b,d))return 0;g=c.ob;
if(null!=g&&(g=g.Ii,null!=g)){g=g.wm(b,d);if(1==g)return 1;if(0==g)return 0}return e.N(c,a.b.pa(b,d),h)};e.xU=function(a,b,d){return b.u()?0:e.qn(a,b.w(),d)};e.BA=function(c,b,d,h,g){var f=new a.h;c.ac(f);f.P(h,h);if(!f.contains(d))return 0;var m=new e(!0,d,h);if(null!=g){var k=new a.h;k.I(f);k.v=d.x+h;k.A=d.y-h;k.B=d.y+h;c=c.Fa();h=g.$z(k,h);for(k=h.next();-1!=k;k=h.next())if(c.Tb(g.ia(k),b),c.Ea()&&c.Ta==b&&(k=c.ba(),m.mu(k)))return-1}else if(c=c.Fa(),c.hC(b),c.Ya())for(;c.Ea();)if(k=c.ba(),m.mu(k))return-1;
return m.result()};e.AA=function(c,b,d){var h=new a.h;c.ac(h);h.P(d,d);if(!h.contains(b))return 0;b=new e(!1,b,d);for(d=c.Fa();d.Ya();)if(!(0>c.Ym(d.Ta))){for(b.Hr=0;d.Ea();)if(h=d.ba(),b.mu(h))return-1;if(0!=b.Hr)return 1}return b.result()};e.Ug=function(c,b,d,h,g){var f=c.Fa();f.hC(b);if(!f.Ya()||!f.Ea())throw a.g.X("corrupted geometry");for(b=2;2==b&&f.Ea();)b=f.ba().hc(.5),b=e.BA(c,d,b,h,g);if(2==b)throw a.g.X("internal error");return 1==b?!0:!1};e.vm=function(a,b){a=a.D();return 16>a?!1:2*a+
Math.log(a)/Math.log(2)*1*b<1*a*b};return e}();a.cf=e})(y||(y={}));(function(a){var e=function(a){function c(b){return a.call(this,!0,b)||this}Y(c,a);c.prototype.Ka=function(){return new c(this.description)};c.prototype.ub=function(){return 2};c.prototype.G=function(){return 1736};c.prototype.yH=function(a,d,c){this.gU(a,d,c)};c.prototype.HS=function(){this.ZS()};return c}(a.Bl);a.Ja=e})(y||(y={}));(function(a){(function(a){a[a.PiPOutside=0]="PiPOutside";a[a.PiPInside=1]="PiPInside";a[a.PiPBoundary=
2]="PiPBoundary"})(a.jN||(a.jN={}));var e=function(){function e(){}e.KH=function(c,b,d){c=a.cf.xU(c,b,d);return 0==c?0:1==c?1:2};e.ee=function(c,b,d){c=a.cf.qn(c,b,d);return 0==c?0:1==c?1:2};e.BN=function(c,b,d,h){c=a.cf.yU(c,b,d,h);return 0==c?0:1==c?1:2};e.o_=function(c,b,d,h){return 0==a.cf.BA(c,b,d,h,null)?0:1};e.AA=function(c,b,d){return 0==a.cf.AA(c,b,d)?0:1};e.YY=function(c,b,d,h,g){if(b.length<d||g.length<d)throw a.g.F();for(var f=0;f<d;f++)g[f]=e.ee(c,b[f],h)};e.$Y=function(c,b,d,h,g){if(b.length/
2<d||g.length<d)throw a.g.F();for(var f=0;f<d;f++)g[f]=e.BN(c,b[2*f],b[2*f+1],h)};e.UK=function(c,b,d,h,g){if(1736==c.G())e.YY(c,b,d,h,g);else if(197==c.G()){var f=new a.h;c.s(f);e.OV(f,b,d,h,g)}else throw a.g.X("invalid_call");};e.A_=function(c,b,d,h,g){if(1736==c.G())e.$Y(c,b,d,h,g);else if(197==c.G()){var f=new a.h;c.s(f);e.YV(f,b,d,h,g)}else throw a.g.Da();};e.OV=function(c,b,d,h,e){if(b.length<d||e.length<d)throw a.g.F();if(c.u())for(h=0;h<d;h++)e[h]=0;else for(c.P(.5*-h,.5*-h),c.P(.5*h,.5*h),
h=0;h<d;h++)c.contains(b[h])?e[h]=1:c.contains(b[h])?e[h]=2:e[h]=0};e.YV=function(c,b,d,h,e){if(b.length/2<d||e.length<d)throw a.g.F();if(c.u())for(h=0;h<d;h++)e[h]=0;else for(c.P(.5*-h,.5*-h),c.P(.5*h,.5*h),h=0;h<d;h++)c.contains(b[2*h],b[2*h+1])?e[h]=1:c.contains(b[2*h],b[2*h+1])?e[h]=2:e[h]=0};e.xL=function(a,b,d,h,e){for(var c=0;c<d;c++)e[c]=a.ot(b[c],h)?2:0};e.bZ=function(a,b,d,h,e){var c=a.ob,g=null;null!=c&&(g=c.Ii);for(var c=d,f=0;f<d;f++)if(e[f]=1,null!=g){var m=b[f];0==g.wm(m.x,m.y)&&(e[f]=
0,c--)}if(0!=c)for(a=a.Fa();a.Ya()&&0!=c;)for(;a.Ea()&&0!=c;)for(g=a.ba(),f=0;f<d&&0!=c;f++)1==e[f]&&g.ot(b[f],h)&&(e[f]=2,c--);for(f=0;f<d;f++)1==e[f]&&(e[f]=0)};e.VK=function(c,b,d,h,g){var f=c.G();if(1607==f)e.bZ(c,b,d,h,g);else if(a.T.Nc(f))e.xL(c,b,d,h,g);else throw a.g.X("Invalid call.");};return e}();a.fd=e})(y||(y={}));(function(a){var e=function(a){function c(b,d){var c;2==arguments.length?(c=a.call(this,!1,b.description)||this,c.Of(b),c.lineTo(d)):c=a.call(this,!1,b)||this;return c}Y(c,
a);c.prototype.Ka=function(){return new c(this.description)};c.prototype.ub=function(){return 1};c.prototype.G=function(){return 1607};c.prototype.yH=function(a,d,c,e){this.hU(a,d,c,e)};return c}(a.Bl);a.Ua=e})(y||(y={}));(function(a){var e=function(){function a(){}a.JZ=function(){};return a}();a.FZ=e})(y||(y={}));(function(a){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(a.RL||(a.RL={}));var e=function(){function a(){this.Ol=
3;this.sz=this.Cv=NaN}a.prototype.DT=function(){return this.gt(1)};a.prototype.ET=function(){return this.gt(2)};a.prototype.gt=function(a){return 0!=(this.Ol&a)};a.prototype.Sf=function(){var b=new a;b.Cv=this.Cv;b.sz=this.sz;b.Ol=this.Ol;return b};return a}();a.pZ=e;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(a.SL||(a.SL={}));var g=function(){function a(){this.Ol=0}a.prototype.gt=function(a){return 0!=
(this.Ol&a)};a.me=function(b){var d=new a;d.Ol=b.Ol;return d};a.prototype.ZN=function(a){this.Ol=a.Ol};return a}();a.qZ=g;var c=function(){function b(b,c,e){this.he=b;this.Ee=c;this.qg=new a.h;this.qg.I(e);this.bV=b.kc()+c.kc()+this.qg.kc().toString()}b.prototype.kc=function(){return this.bV};b.prototype.Eb=function(a){return this==a||this.he.Eb(a.he)&&this.Ee.Eb(a.Ee)&&this.qg.Eb(a.qg)};return b}();a.GZ=c;c=function(){function b(){this.Ee=this.he=null;this.qI=new e;this.rI=new g;this.xr=this.re=
null;this.sr=this.Yl=!0}b.Gs=function(a,c,e,g){var d;void 0===g&&(g=null);void 0===d&&(d=null);var h=new b;h.kq(a,c,e,g,d);return h};b.prototype.kq=function(b,c,e,g,f){if(null==b||null==c)throw a.g.X("invalidArgument");this.he=b;this.Ee=c;this.sr=this.Yl=!1;null!=g&&(this.qI=g.Sf());null!=f&&this.rI.ZN(f);f=!1;1==c.Fb()&&null!=g&&(g=g.Cv,isNaN(g)||0==g||(f=!0));if(b==c)this.Yl=!f,this.sr=!0;else{g=b.Fb();var d=c.Fb();if(0==g||0==d){if(null!=e)throw a.g.F();null!=b.Td()&&null!=c.Td()&&(this.Yl=b.Td().Eb(c.Td()))}else 3==
g||3==d?this.Yl=b.Eb(c):this.he.JT(this.Ee)?this.Yl=!f:this.Yl=!1,this.re=e,null!=this.re&&this.re.Tp(),this.sr=(null==this.re||0==this.re.count())&&this.he.lc().Eb(this.Ee.lc())}this.jL()};b.prototype.Wv=function(){var a=new b;a.he=this.Ee;a.Ee=this.he;null!=this.re&&(a.re=this.re.Wv());a.Yl=this.Yl;a.sr=this.sr;a.jL();return a};b.prototype.No=function(){return this.Yl};b.prototype.FS=function(){return this.qI.Sf()};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&this.he.Eb(a.he)&&this.Ee.Eb(a.Ee)?
this.re==a.re?!0:null!=this.re&&null!=a.re&&this.re.Eb(a.re)?!0:!1:!1};b.prototype.jL=function(){this.xr=new a.qo(this)};b.z_={};return b}();a.rs=c})(y||(y={}));(function(a){var e=function(){function c(){}c.uq=function(a){return a*c.$V};c.Wx=function(a,d){return c.PY(d-a)};c.SY=function(b){if(-360<=b&&720>b)return 0>b?b+=360:360<=b&&(b-=360),b;b=a.Ub.TL(b);0>b&&(b+=360);return b};c.PY=function(a){a=c.SY(a);180<a&&(a-=360);return a};c.SZ=.0174532925199433;c.$V=57.29577951308232;return c}();a.ks=e;
var g=function(){function c(){}c.Qj=function(b,d){var c=new a.h;b.s(c);var e=a.fb.Ch(d),g=new a.h;g.I(e);g.o=c.o;g.v=c.v;g.P(.01*g.ea(),0);e=a.na.$d(d,c,!1);return g.contains(c)?b:a.le.clip(b,g,e,0)};c.jt=function(b,d,h,e,g){if(!a.fb.Ic(d))throw a.g.F();var f=a.na.$g(d,b,!1),m=a.fb.Ch(d),k=a.fb.lc(d),q=k.Td().Bi,l=a.fb.hw(k),k=a.fb.Sv(k),l=l*(2-l),n=new a.yc;m.Yn(n);var p=[[0,0],[0,0]];2==a.ve.Fb(d)?e?(p[0][0]=c.Tn(g,n),p[0][1]=m.Cq(),a.fb.nu(),m=p[0][0]*q):(p[0][0]=m.Jk(),p[0][1]=g,a.fb.nu(),m=p[0][1]*
q):m=g*q;if(!e&&0!=m)throw a.g.F();var r=new a.da,t=new a.ed;b=t.Jb(b);for(var u=[0],w=new a.b,v=new a.b,x=new a.b,y=new a.b,z=new a.b,A=new a.b,B=t.Pb(b);-1!=B;B=t.Sb(B)){var D=t.cb(B);t.w(D,x);for(var E=!1,G=D=t.U(D);-1!=G;G=t.U(G)){if(G==D){if(E)break;E=!0}t.w(G,y);if(e&&f<g-x.x&&y.x-g>f||f<g-y.x&&x.x-g>f||!e&&f<-x.y&&y.y>f||f<-y.y&&x.y>f){do if(!(Math.abs(x.x-y.x)>=.5*n.O())){2==a.ve.Fb(d)?(p[0][0]=c.Tn(x.x,n),p[0][1]=x.y,p[1][0]=c.Tn(y.x,n),p[1][1]=y.y,a.fb.xW(),z.x=p[0][0]*q,z.y=p[0][1]*q,A.x=
p[1][0]*q,A.y=p[1][1]*q):(z.x=x.x*q,z.y=x.y*q,A.x=y.x*q,A.y=y.y*q);A.x=6.283185307179586*(y.x-x.x)/n.O()+z.x;if(e){if(v.x=m,v.y=c.sA(k,l,z,A,m,h),isNaN(v.y))break}else{v.x=c.pA(k,l,z,A,h);if(isNaN(v.x))break;v.y=0}a.mb.Kd(k,l,z.x,z.y,A.x,A.y,r,null,null,h);var L=r.j;a.mb.Kd(k,l,z.x,z.y,v.x,v.y,r,null,null,h);var J=r.j;2==a.ve.Fb(d)?(p[0][0]=v.x/q,p[0][1]=v.y/q,a.fb.tS(),e?(w.y=p[0][1],w.x=g):(w.x=c.zl(p[0][0],x.x,y.x,n),w.y=g)):e?(w.x=g,w.y=v.y/q):(w.x=c.zl(v.x/q,x.x,y.x,n),w.y=g);u[0]=0<L?a.J.tk(J/
L,0,1):.5;0!=u[0]&&1!=u[0]&&(L=t.Ra(G),t.Em(L,u,1),t.rb(t.U(L),w.x,w.y))}while(0)}x.L(y)}}return t.Pe(b)};c.cn=function(b,d,h,e,g){if(b.u())return b;var f=a.fb.ce(d);return c.Aq(b,h-180*f,360*f,d,e,g,!0)};c.sA=function(b,d,h,e,g,f){if(3.141592653589793<=Math.abs(h.x-e.x)||!c.Ug(h.x,e.x,g))return NaN;var m;h.x>e.x?m=e:(m=h,h=e);e=new a.da(0);var k=new a.da(0),q=new a.da(0);a.mb.Kd(b,d,m.x,m.y,h.x,h.y,k,e,null,f);var l=k.j,n=0,C=1,p=new a.b;for(p.L(m);l*(C-n)>1E-12*b;){var r=.5*(n+C);a.mb.Sj(b,d,m.x,
m.y,l*r,e.j,k,q,f);p.x=k.j;p.y=q.j;if(p.x==g)break;if(c.Ug(m.x,p.x,g))C=r;else if(c.Ug(h.x,p.x,g))n=r;else return NaN}return p.y};c.Ug=function(a,d,c){a=e.uq(a);d=e.Wx(a,e.uq(d));c=e.Wx(a,e.uq(c));return 0==c||0<d&&0<c&&c<=d||0>d&&0>c&&c>=d?!0:!1};c.Tn=function(a,d){var b=d.la-d.ga;return d.yu(a-Math.floor((a-d.ga)/b)*b)};c.zl=function(b,d,c,e){var h=new a.yc;h.I(d,c);c=e.O();b=Math.floor((b-d)/c)*c+b;for(h=h.Tf();Math.abs(b-h)>Math.abs(b+c-h);)b+=c;return b};c.pA=function(b,d,c,e,g){var h;c.y>e.y?
h=e:(h=c,c=e);e=new a.yc;e.I(h.y,c.y);if(!e.contains(0)||3.141592653589793<=Math.abs(h.x-c.x))return NaN;if(h.x==c.x)return h.x;var f=new a.da(0),m=new a.da(0),k=new a.da(0);a.mb.Kd(b,d,h.x,h.y,c.x,c.y,m,f,null,g);var q=m.j,l=0,n=1,p=new a.b;for(p.L(h);q*(n-l)>1E-12*b;){var r=.5*(l+n);a.mb.Sj(b,d,h.x,h.y,q*r,f.j,m,k,g);p.x=m.j;p.y=k.j;e.I(h.y,p.y);if(0==p.y)break;if(e.contains(0))n=r;else if(e.I(c.y,p.y),e.contains(0))l=r;else return NaN}return p.x};c.Aq=function(b,d,c,e,g,f,k){var h=new a.h;b.s(h);
if(h.u())return b;var m=new a.yc;h.Yn(m);var q=new a.yc;q.I(d,d+c);if(q.contains(m)&&q.la!=m.la)return b;var l=new a.h;l.I(h);var n=b.G();if(33==n){l=g?b:b.Sf();h=l.Te();if(h<q.ga||h>=q.la||k&&h==q.la)h+=Math.ceil((q.ga-h)/c)*c,h=q.yu(h),l.DC(h);return l}if(550==n){l=g?b:b.Sf();e=l.Qa(0);n=2*l.D();b=!1;for(g=0;g<n;g+=2)if(h=e.read(g),h<q.ga||h>=q.la||k&&h==q.la)b=!0,h+=Math.ceil((q.ga-h)/c)*c,h=q.yu(h),e.write(g,h);b&&l.Cc(1993);return l}if(q.contains(m))return b;if(197==n)return c=g?b:b.Sf(),h.Ma(l),
c.Np(h),c;var C=.1*Math.max(h.ea(),h.O());l.P(0,C);k=b;q=e.pe(0);b=a.ei.local();g=new a.Gd;for(var p=0;;){var r=Math.floor((m.ga-d)/c),F=Math.ceil((m.la-d)/c);if(3<F-r){r=Math.floor(.5*(F+r));l.o=h.o-C;l.v=d+c*r;var t=a.le.clip(k,l,q,f);l.o=l.v;l.v=h.v+C;var u=a.le.clip(k,l,q,f);g.zg((r-F)*c,0);u.Vc(g);1736==n?k=b.V(t,u,e,null):(k=t,k.add(u,!1));k.s(h);h.Yn(m);p++}else break}l.o=d;l.v=d+c;d=new a.h;d.I(l);d.P(q,0);d=Math.floor((h.o-l.o)/c)*c;0!=d?(l.move(d,0),g.zg(-d,0)):g.sC();d=1607==n?new a.Ua(k.description):
new a.Ja(k.description);f=new a.h;for(m=new a.h;h.v>l.o;){C=a.le.clip(k,l,q,0);C.s(m);if(1607==n?!C.u()&&(m.O()>q||m.ea()>q):!C.u()&&(1736!=n||m.O()>q))C.Vc(g),C.s(m),d.s(f),f.P(q,q),f.Yb(m)&&1736==n?d=b.V(d,C,e,null):d.add(C,!1);l.move(c,0);g.shift(-c,0)}return d};c.CJ=function(b,d,c,e,g){var h=new a.Dd(c.description);h.Hd(c,0,-1);g=a.fb.Vg(h,b,d,g);h=c.D();e.Oa();if(!a.fb.Ic(b)||h!=g.D())return!1;var f=new a.h;c.s(f);var m=new a.h;g.s(m);f=f.O();m=m.O();if(0!=f&&0!=m){if(m/=f,b=a.fb.Ch(d).O()/a.fb.Ch(b).O(),
1E-10<Math.abs(m/b-1))return!1}else if(0!=f||0!=m)return!1;e.add(c,!1);for(c=0;c<h;c++)b=g.Ba(c),e.rb(c,b);return!0};c.xA=function(){throw a.g.af();};return c}();a.gi=g})(y||(y={}));(function(a){var e;(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(e=a.Qi||(a.Qi={}));var g;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(g=
a.cM||(a.cM={}));var c=function(){function b(){}b.iw=function(b,c,e){if(e||0<c){b=b.toString(a.Uc.PE_STR_NAME_CANON|a.Uc.PE_STR_AUTH_NONE);c=[];for(e=0;e<b.length;e++)c[e]="a"<=b[e]&&"z">=b[e]?c[e]=b[e].toUpperCase():b[e];return c.join()}return b.toString(a.Uc.PE_STR_AUTH_TOP)};b.qs=function(b,c,e,g){var d=g.length,h=e.D();if(0!=h){var f=e.Qa(0),m=Math.min(h,d),k=0,q=b.Jg();isNaN(c)&&(c=0);var l=b.Ic();b=l?b.lc().oe().O():0;for(var n=179*b/360;0<h;){f.Hx(k<<1,m,g,0,!0);a.fi.projToGeogCenter(q,m,g,
c);if(l)for(var p=0;p<m;p++){var r=g[p][0]-c,t=a.Ub.sign(r),u=f.read(2*(k+p));0>t*a.Ub.sign(u)&&Math.abs(r)>n&&(g[p][0]+=-t*b)}f.hy(k<<1,m,g,0,!0);k+=m;h-=m;m=Math.min(h,d)}e.Cc(1993)}};b.rZ=function(b,c,e,g){var d=b.Jg();isNaN(c)&&(c=0);var h=e.Te();g[0][0]=h;g[0][1]=e.Cf();a.fi.projToGeogCenter(d,1,g,c);b.Ic()&&(c=a.Ub.sign(g[0][0]-c),0>c*a.Ub.sign(h)&&(b=b.lc().oe().O(),Math.abs(g[0][0])>179*b/360&&(g[0][0]-=c*b)));e.rb(g[0][0],g[0][1])};b.$M=function(b,c,e,g){var d=0,h=b.Jg();isNaN(d)&&(d=0);
var f=b.Ic(),m=b.ce();b=360*m;for(var m=179*m,k=g.length,q=0;q<e;){for(var l=q;l<e&&c[l].isNaN();++l)q++;var n=Math.min(k,e-q);if(0<n){for(var l=1,p=q+1;l<n;++l,++p)if(c[p].isNaN()){n=l;break}a.na.mz(g,c,q,n);a.fi.projToGeogCenter(h,n,g,d);if(f)for(l=0,p=q;l<n;++l,++p){var r=c[p].x,t=g[l][0]-d,u=a.Ub.sign(t);0>u*a.Ub.sign(r)&&Math.abs(t)>m&&(g[l][0]-=u*b)}a.na.lz(c,q,g,n);q+=n}}};b.ry=function(b,c,e){var d=e.length,h=c.D();if(!(1>h)){var g=c.Qa(0),f=Math.min(h,d),m=0,k=b.Jg(),l=b.Ic(),n=l?b.oe().O():
0,p=179*n/360,r=0;for(l&&(r=b.ri());0<h;){g.Hx(m<<1,f,e,0,!0);a.fi.geogToProj(k,f,e);if(l)for(b=0;b<f;b++){var t=e[b][0],u=a.Ub.sign(t),w=g.read(2*(m+b))-r;0>u*a.Ub.sign(w)&&Math.abs(t)>p&&(e[b][0]+=-u*n)}g.hy(m<<1,f,e,0,!0);m+=f;h-=f;f=Math.min(h,d)}c.Cc(1993)}};b.oZ=function(b,c,e){if(!c.u()){var d=b.Jg();e[0][0]=c.Te();e[0][1]=c.Cf();a.fi.geogToProj(d,1,e);if(b.Ic()){var d=a.Ub.sign(e[0][0]),h=b.ri();0>d*a.Ub.sign(c.Te()-h)&&(b=b.oe().O(),Math.abs(e[0][0])>179*b/360&&(e[0][0]-=d*b))}c.rb(e[0][0],
e[0][1])}};b.ZM=function(b,c,e,g){if(0!=e){var d=b.Jg(),h=b.Ic(),f=h?b.oe().O():0,m=179*f/360,k=0;h&&(k=b.ri());for(b=0;b<e;){for(var q=b;q<e&&c[q].isNaN();++q)b++;var l=Math.min(g.length,e-b);if(0<l){for(var q=1,n=b+1;q<l;++q,++n)if(c[n].isNaN()){l=q;break}a.na.mz(g,c,b,l);a.fi.geogToProj(d,l,g);if(h)for(q=0,n=b;q<l;q++){var p=g[q][0],r=a.Ub.sign(p);0>r*a.Ub.sign(c[n].x-k)&&Math.abs(p)>m&&(g[q][0]-=r*f)}a.na.lz(c,b,g,l);b+=l}}}};b.ps=function(b,c,e,g){var d=c.D();if(0!=d){var h=c.Qa(0),f=b.he,m=
b.Ee,k=f.lc().Zi(),q=m.lc().Zi(),l=f.ce(),n=m.ce();b=b.re;if(null==b||0==b.count()){e=k/q;g=(f.kn()-m.kn())*n;q=-90*l;b=90*l;k=!1;n=1;for(f=2*d;n<f;)l=h.get(n),m=a.J.tk(l,q,b),m!=l&&(h.set(n,m),k=!0),n+=2;if(0!=g||1!=e)for(k=!0,q=new a.b,n=0;n<d;n++)h.fc(2*n,q),q.x*=e,q.x+=g,q.y*=e,h.mo(2*n,q);k&&c.Cc(1993)}else{var f=g.length,m=Math.min(d,f),p=a.J.df(m),r=null,t=0,u=NaN,w=NaN,v=360*n,x=n/l;e&&(w=90*n,u=89.9*l,r=a.J.df(m));for(var y=!0,z=0;0!=d;){l=!1;h.Hx(t<<1,m,g,0,!0);for(n=0;n<m;n++)p[n]=g[n][0];
if(e)for(n=0;n<m;n++){var A=Math.abs(g[n][1])-u;0<A&&(l=g[n][1],g[n][1]=a.Ub.Kl(u,l),r[n]=a.Ub.Kl(A,l),l=!0)}n=g[0][0];b.transform(g,m,k,q);y&&(z=g[0][0]-x*n,y=!1);for(n=0;n<m;n++)A=g[n][0]-p[n]*x-z,200<Math.abs(A)&&(g[n][0]=0<A?g[n][0]-v:g[n][0]+v);if(l){for(n=0;n<m;n++)0!=r[n]&&(g[n][1]+=x*r[n],g[n][1]>w?g[n][1]=w:g[n][1]<-w&&(g[n][1]=-w));for(l=0;l<m;l++)r[l]=0}h.hy(t<<1,m,g,0,!0);t+=m;d-=m;m=Math.min(d,f)}c.Cc(1993)}}};b.iZ=function(b,c,e,g){if(c.u())return!1;var d=b.he,h=b.Ee,f=b.re,m=d.lc().Zi(),
k=h.lc().Zi();g[0][0]=c.Te();g[0][1]=c.Cf();if(null!=f&&0<f.count()){b=!0;var q=!1,l=NaN,n=0,p=1;e&&(e=d.ce(),l=h.ce(),p=l/e,l*=90,d=89.9*e,h=Math.abs(g[0][1])-d,0<h&&(q=g[0][1],g[0][1]=a.Ub.Kl(d,q),n=a.Ub.Kl(h,q),q=!0));f.transform(g,1,m,k);q&&0!=n&&(g[0][1]+=p*n,g[0][1]>l?g[0][1]=l:g[0][1]<-l&&(g[0][1]=-l));c.rb(g[0][0],g[0][1])}else{e=d.ce();b=a.J.tk(g[0][1],-90*e,90*e)!=g[0][1];l=h.ce();f=(d.kn()-h.kn())*l;m/=k;if(1!=m||0!=f)b=!0,g[0][0]*=m,g[0][0]+=f,g[0][1]*=m;b&&c.rb(g[0][0],g[0][1])}return b};
b.YM=function(b,c,e,g){var d;if(b.sr)g=90*b.he.ce(),a.na.JK(c,e,-g,g);else{var h=b.re,f=b.he,m=b.Ee;b=f.Vs();var k=m.Vs(),q=f.ce(),l=90*q,n=m.ce();if(null==h||0==h.count()){if(g=b/k,h=(f.kn()-m.kn())*n,a.na.JK(c,e,-l,l),0!=h||1!=g)for(n=0;n<e;n++)c[n].x*=g,c[n].x+=h,c[n].y*=g}else for(var f=Math.min(e,g.length),l=a.J.df(f),m=360*n,q=n/q,p=!0,r=0,t=0;0!=e;){for(n=0;n<f;n++)l[n]=c[n+t].x;n=c[0].x;a.na.mz(g,c,t,f);h.transform(g,f,b,k);a.na.lz(c,t,g,f);p&&(r=c[0].x-q*n,p=!1);for(n=0;n<f;n++)d=c[t+n].x-
l[n]*q-r,200<Math.abs(d)&&(c[t+n].x=0<d?c[t+n].x-m:c[t+n].x+m);t+=f;e-=f;f=Math.min(e,g.length)}}};b.YZ=function(a,c,e,g){return b.cn(a,c,isNaN(e)?0:e,!0,g,null)};b.Wu=function(a,b){a=a.Ch();isNaN(b)||a.Bv(b,0);return a};b.kS=function(d,c,e,g,f,k,l,n){for(var h=b.Wu(g,f),m=h.O(),q=m/360,C=b.ED*q,p=d.Qa(0),r=c.Ic(),F=r?m/c.oe().O():0,t=!1,u=new a.Ja(e.description),H=0,w=e.aa();H<w;++H){var v=r,x=new a.Ua(e.description);x.Ui(e,H,!0);if(0!=l){var y=b.yD(!0,x,h.B-n,h.B,l);(t=t||y)&&(v=!1)}var z=-1;v&&
(z=d.wa(H));var X=x.Qa(0),A=x.D(),B=0,D=X.read(0),E=0,y=3*g.pe(0),G=!1,L=new a.b;L.Yc();var J=new a.b;J.Yc();for(var I=!1,M=1;M<A;++M){var O=a.b.pa(X.Lf(2*M),X.Lf(2*M+1)),R=O.x,K=R+B,N=K-D;O.x=K;if(Math.abs(N)>C){if(v){var T=z+(M+1<A?M:0),P=p.read(2*(z+M-1)),T=(p.read(2*T)-P)*F;Math.abs(N-T)>1*q&&(v=!1)}v||(B-=a.Ub.Kl(m,K-D),K=R+B,++E,I=0!=B,O.x=K)}else G||a.na.BH(J,L,O,y)&&(G=!0);I&&X.write(2*M,K);D=K;J.L(L);L.L(O)}0<E&&x.Cc(1993);v=x.Ba(0);A=x.Ba(A-1);x=a.b.Cb(v,A)<y?b.lM(x,g,f,k,G):b.pM(d,H,x,
g,f);u.add(x,!1)}f=g.pe(0);e=h.O()/180;b.zu(u,h,.1*f,!1);f=a.th.clip(u,h,f,e,k);u=u!=f;d=d.ef();n=f.ef();l=0;0<n&&0>d?l=1:0>=n&&0<d&&(0==n?(n=NaN,2==c.Fb()?n=c.Ok().ef():1==c.Fb()&&(n=c.oe().AG()),d>.99*n&&(l=-1)):l=-1);0!=l&&(c=new a.Ja(f.description),c.oq(h),c=a.Pm.local().V(c,e,k),c.add(f,!1),u=!0,f=c);u&&(f=a.Qm.local().V(f,g,!1,k));return f};b.pM=function(d,c,e,g,f){var h=e.D(),m=e.Ba(0),k=e.Ba(h-1);g=b.Wu(g,f);f=g.O();var m=a.Ub.sign(k.x-m.x),q=new a.h;e.ac(q);var l=g.Jk(),n,k=l-f,l=l+f;if(0<=
m){for(var C=Math.ceil((k-q.o)/f),C=C*f;k>q.o+C;)C+=f;for(;k<q.v+C;)C-=f;n=C;720<q.O()&&(l=k+360*Math.ceil(q.O()/360))}else{C=Math.ceil((l-q.v)/f);for(C*=f;l<q.v+C;)C-=f;for(;l>q.o+C;)C+=f;n=C;720<q.O()&&(k=l-360*Math.ceil(q.O()/360))}var C=m*f,p=a.h.pa(q.o,q.A,q.v,q.B);p.move(n,0);var r=new a.Gd;r.zg(n,0);e.Vc(r);q=new a.Ua(e.description);q.add(e,!1);n=e.Ba(h-1);f=0;for(var t=q.Ba(0).x,u=0;0<m?p.v<l:p.o>k;)1024<=u&&(u=0),p.move(C,0),r.Wb=C,e.Vc(r),t+=C,g.o<=t&&g.v>=t&&(f=q.D()-1),e.rb(0,n),n=e.Ba(h-
1),q.zs(e,0,0,h-1,!1);e=new a.Ja(q.description);h=0<d.Ym(c);e.add(q,!1);d=q.Ba(0);k=q.Ba(q.D()-1);c=e.aa()-1;(0>m?h:!h)?(m=a.b.pa(k.x,g.B),e.bj(m),m=a.b.pa(g.Jk(),g.B),e.bj(m),g=a.b.pa(d.x,g.B)):(m=a.b.pa(k.x,g.A),e.bj(m),m=a.b.pa(g.Jk(),g.A),e.bj(m),g=a.b.pa(d.x,g.A));e.bj(g);e.yH(0,c,0);e.KP(f);return e};b.lM=function(d,c,e,g,f){var h=new a.Ja(d.description);h.add(d,!1);h.fC(0,h.D()-1);var m=new a.h;h.ac(m);e=b.Wu(c,e);for(var k=e.O(),q=Math.ceil((e.o-m.o)/k),q=q*k;e.o>m.o+q;)q+=k;for(;e.o<m.v+
q;)q-=k;q+=k;if(0!=q){m.move(q,0);var l=new a.Gd;l.zg(q,0);h.Vc(l)}if(e.o<=m.o&&e.v>m.v)return f&&(f=h.ef(),h=a.Qm.local().V(h,c,!0,g),c=h.ef(),(c=a.Ub.sign(f)!=a.Ub.sign(c))&&h.TJ()),h;d=new a.Ja(d.description);d.add(h,!1);for(f=f||m.O()>k-c.pe(0);m.o<e.v;)m.move(k,0),l=new a.Gd,l.zg(k,0),h.Vc(l),d.add(h,!1);f&&(f=d.ef(),d.Op(1),d=a.Qm.local().V(d,c,!0,g),c=d.ef(),(c=a.Ub.sign(f)!=a.Ub.sign(c))&&d.TJ());return d};b.yD=function(b,c,e,g,f){for(var d=c.Qa(0),h=c.D(),m=!1,k=0;k<h;k++){var q=a.b.pa(d.Lf(2*
k),d.Lf(2*k+1));if(0!=(f&1)&&q.y>=e){m=!0;break}if(0!=(f&2)&&q.y<=-e){m=!0;break}}if(!m)return!1;d=!1;b&&(d=c.Ko(0));b=new a.ed;var h=b.Jb(c),m=b.Pb(h),l=-1,n=!0,C=new a.b;C.Yc();for(var k=new a.Wa,p=-1,r=b.cb(m);-1!=r;r=b.U(r)){var q=b.Ba(r),t=0!=(f&1)&&90<=q.y?1:0,t=t|(0!=(f&2)&&q.y<=-e?2:0);if(0<l&&l!=t){if(C.x!=q.x){C.x=q.x;b.xj(b.Ra(r),k);var u=b.$j(m,r,k);b.Nf(u,C)}if(d)for(p=-1!=p?b.U(p):b.cb(m),u=b.Ra(r);p!=u;)p=b.td(p,!1);p=-1}0<t&&(q.y=a.Ub.Kl(g,q.y),b.Nf(r,q),n||l==t||(q.x!=C.x?(b.xj(r,
k),u=b.$j(m,r,k),b.rb(u,C.x,q.y),p=u):p=r));l=t;C=q;n=!1}if(d){if(-1!=p)for(p=b.U(p);-1!=p;)p=b.td(p,!1);e=b.cb(m);b.Uq(e,b.Vj(m))||(b.xj(e,k),b.$j(m,-1,k))}b.Pe(h).copyTo(c);return!0};b.x_=function(a,b){var d=0,c=a.La(b);b+=1;for(var h=a.aa();b<h&&!(0<a.Ym(b));++b)d++;return 64<c&&3<=d};b.wA=function(d,c,g,f){var h=d;if(h.u()||g==e.DontClip)return h;var m=h.G();if(33==m)return f=h,h=[f.w()],b.zH(h,1,c,g),h[0].isNaN()?f.Oa():f.rb(h[0]),d;d=c.lc();var k=d.ce(),q=90*k,l=180*k,n=360*k,p=c.ri(),r=.5*
k,t=new a.h;h.s(t);var u=c.Ts(),w=c.dS(),v=197==u.G();c=new a.h;u.s(c);g==e.PannableFold&&(g=d.oe().O(),c.o=p-.5*g,c.v=c.o+g);if(t.A<-q||t.B>q){(new a.h).I(t.o-k,-q,t.v+k,q);h=a.th.rq(h,c,d,NaN,0,f);if(h.u())return h;h.s(t)}if(w&&(c.B<t.A||c.A>t.B))return h.Ka();t.O()>n&&(h=b.Aq(h,p-l,n,d,!0,0,!0,f),h.s(t));q=b.hX(t.o,t.v,c.o,c.v,n);0!=q&&t.move(q,0);if(t.v>c.v||t.o<c.o){if(t.v>c.v)for(;t.o>=c.v;)t.move(-n,0),q-=n;for(;t.o<c.v-n;)t.move(n,0),q+=n}g=a.na.zv(d,u);0!=q&&(k=new a.Gd,k.zg(q,0),h.Vc(k));
if(w){if(v&&c.contains(t))return h;w=[null,null];for(q=0;2>q;q++){v?k=a.T.Hc(m)?a.th.clip(h,c,g,r,f):a.th.clip(h,c,g,0,f):(k=a.wk.local().V(h,u,d,f),k==u&&(k=a.T.me(k)));if(c.o<=t.o&&c.v>=t.v||c.o>=t.o&&c.v<=t.v)return k;w[q]=k;0==q&&(t.move(-n,0),k=new a.Gd,k.zg(-n,0),h.Vc(k))}if(550==m)w[0].Hd(w[1],0,-1);else if(a.T.Hc(m))w[0].add(w[1],!1);else if(33==m)w[0].u()&&(w[0]=w[1]);else throw a.g.X("intersect_with_GCS_horizon: unexpected geometry type");return w[0]}if(c.B<t.A||c.A>t.B)return h;for(m=0;!h.u()&&
t.v>c.o;)0!=m&&(k=new a.Gd,k.zg(m,0),h.Vc(k)),a.Jj.local().V(4,h,u,d,f)||(h=a.eq.local().V(h,u,d,f),u==h&&(h=a.T.me(h))),0!=m&&(r=new a.Gd,r.zg(-m,0),h.Vc(r)),m-=n,t.move(-n,0);return h};b.zH=function(d,c,g,f){if(0!=c&&f!=e.DontClip)if(f==e.PannableFold){f=g.aT();for(var h=c,m=0;m<c;m++)if(d[m].y>f.B||d[m].y<f.A)d[m].Yc(),h--;0!=h&&b.Uu(d,c,f.o,f.O())}else{f=g.ce();var k=90*f,q=180*f;f*=360;h=c;for(m=0;m<c;m++)if(d[m].y>k||d[m].y<-k)d[m].Yc(),h--;if(0!=h){h=new a.h;h.Mx(d,c);var k=g.Ts(),l=g.Uv(),
m=197==k.G(),n=new a.h;k.s(n);if(!l||!(n.B<h.A||n.A>h.B))if(l)if(b.Uu(d,c,n.Jk()-q,f),h=c,m)for(m=0;m<c;m++)n.contains(d[m])||(d[m].Yc(),h--);else for(g=a.na.zv(g.lc(),k),m=0;m<c;m++)(q=0!=a.fd.ee(k,d[m],g))||(d[m].Yc(),h--);else for(b.Uu(d,c,-q,f),h=c,g=a.na.zv(g.lc(),k),m=0;m<c;m++)if(q=d[m],q.isNaN()&&h--,l=b.XD(q.x,n.o,n.v,f),q.x+=l,q=0!=a.fd.ee(k,q,g))d[m].Yc(),h--}}};b.a_=function(b,c,e){if(0<=c&&!b.Qb(c))return 0;var d=0;if(1==e.Fb())return c=90*e.ce(),c-=2*c/Math.PI*a.Uc.PE_HORIZON_DELTA,
e=new a.h,b.s(e),e.B>=c&&(d=1),e.A<=-c&&(d|=2),d;var h=e.Wj();if(null==h)return 0;var g=null;0<=c&&(g=b);for(var f=0;2>f;f++)if((0<f?h.getSouthPoleLocation():h.getNorthPoleLocation())!=a.Ag.PE_POLE_OUTSIDE_BOUNDARY){var m=e.gA(0<f);m.isNaN()||(m=0>c?a.cf.AA(b,m,0):a.cf.BA(g,c,m,0,null),d|=m<<f)}return d};b.Aq=function(b,c,e,g,f,k,l,n){var d=b.G(),h=c+e;if(33===d){g=f?b:b.Sf();var m=g.Te();if(m<c||m>=h||l&&m==h)m+=Math.ceil((c-m)/e)*e,m=a.J.tk(m,c,h),g.DC(m);return g}if(b.u())return b;m=new a.h;b.s(m);
if(m.u())return b;var q=new a.yc;m.Yn(q);var p=new a.yc;p.I(c,h);if(p.contains(q))return b;h=new a.h;h.I(m);if(550===d){g=f?b:b.Sf();n=g.Qa(0);d=2*g.D();h=!1;for(c=0;c<d;c+=2)if(m=n.read(c),m<p.ga||m>=p.la||l&&m==p.la)h=!0,m+=Math.ceil((p.ga-m)/e)*e,m=p.yu(m),n.write(c,m);h&&g.Cc(1993);return g}if(197==d)return e=f?b:b.Sf(),m.Ma(h),e.Np(m),e;var C=.1*Math.max(m.ea(),m.O());h.P(0,C);l=b;p=g.pe(0);b=a.ei.local();for(f=new a.Gd;;){var r=Math.floor((q.ga-c)/e),t=Math.ceil((q.la-c)/e);if(3<t-r){r=Math.floor(.5*
(t+r));h.o=m.o-C;h.v=c+e*r;var F=a.th.clip(l,h,p,k,n);h.o=h.v;h.v=m.v+C;var u=a.th.clip(l,h,p,k,n);f.zg((r-t)*e,0);u.Vc(f);1736==d?l=b.V(F,u,g,null):(l=F,l.add(u,!1));l.s(m);m.Yn(q)}else break}h.o=c;h.v=c+e;c=new a.h;c.I(h);c.P(p,0);c=Math.floor((m.o-h.o)/e)*e;0!=c?(h.move(c,0),f.zg(-c,0)):f.sC();c=1607==d?new a.Ua(l.description):new a.Ja(l.description);k=new a.h;for(q=new a.h;m.v>h.o;){C=a.th.clip(l,h,p,0,n);C.s(q);if(1607==d?!C.u()&&(q.O()>p||q.ea()>p):!C.u()&&(1736!=d||q.O()>p))C.Vc(f),C.s(q),
c.s(k),k.P(p,p),k.Yb(q)&&1736==d?c=b.V(c,C,g,null):c.add(C,!1);h.move(e,0);f.shift(-e,0)}return c};b.Uu=function(b,c,e,g){for(var d=e+g,h=0;h<c;h++){var f=b[h].x;e<=f&&f<d||!(f<e||f>d||f==d)||(f+=Math.ceil((e-f)/g)*g,f=a.J.tk(f,e,d),b[h].x=f)}};b.cn=function(d,c,e,g,f,k){if(!c.Ic())throw a.g.X("fold_into_360_degree_range");if(d.u())return d;var h;if(2==c.Fb())e=c.bw(),h=c.aw()-e;else{var m=c.ce();h=360*m;e-=180*m}return b.Aq(d,e,h,c,g,f,!0,k)};b.uG=function(a,c,e,g){if(2==e.Fb())g=e.bw(),e=e.aw()-
g;else{var d=e.ce();e=360*d;g-=180*d}b.Uu(a,c,g,e)};b.Qj=function(b,c){var d=c.oe();if(33==b.G()){var h=b.Cf();return d.A<=h&&h<=d.B?b:b.Ka()}h=new a.h;b.s(h);var e=new a.h;e.I(d);e.o=h.o;e.v=h.v;e.P(.01*e.ea(),0);d=a.na.Yy(c,h);return e.contains(h)?b:a.th.clip(b,e,d,0,null)};b.Hj=function(a,b,c){return a>b.v&&a-b.v<c?b.v:a<b.o&&b.o-a<c?b.o:a};b.dY=function(a,c,e,g){g.x=b.Hj(a.x,c,e);g.y=a.y};b.cY=function(a,c,e,g){for(var d=0;d<c;d++)a[d].y<e.A||a[d].y>e.B?a[d].Yc():a[d].x=b.Hj(a[d].x,e,g)};b.zu=
function(d,c,e,g){if(!d.u()){var h=d.G();if(!g||1736!=h)if(a.T.fh(h)){g=d.Qa(0);for(var h=0,f=d.D();h<f;h++){var m=g.read(2*h),k=b.Hj(m,c,e);k!=m&&g.write(2*h,k)}d.Cc(1993)}else if(197==h)g=new a.h,d.s(g),g.o=b.Hj(g.o,c,e),g.v=b.Hj(g.v,c,e),d.Np(g);else if(33==h)d.DC(b.Hj(d.Te(),c,e));else throw a.g.X("internal error");}};b.ST=function(d,c,e,g){var h=new a.ed,f=h.Jb(d);d=a.na.zv(c,d);b.jt(h,f,c,d,e,!0,g);return h.Pe(f)};b.jt=function(d,c,e,f,k,l,n){if(!e.Ic())throw a.g.F("invalid call");var h=e.oe(),
m=e.lc(),q=m.Jg().getDatum().getSpheroid(),m=m.Td().Bi,p=q.getFlattening(),q=q.getAxis(),p=p*(2-p),C=new a.yc;h.Yn(C);var r=null,t=[[0,0],[0,0]];2==e.Fb()?(r=e.Jg(),l?(t[0][0]=b.Tn(n,C),t[0][1]=h.Cq(),a.fi.projToGeog(r,1,t),h=t[0][0]*m):(t[0][0]=h.Jk(),t[0][1]=n,a.fi.projToGeog(r,1,t),h=t[0][1]*m)):h=n*m;if(!l&&0!=h&&k!=g.GreatElliptic)throw a.g.X("invalid argument");var F=new a.da,u=[0],w=new a.b,H=new a.b,v=new a.b,x=[null,null],y=new a.b,z=new a.b,A=new a.b,B=new a.b;for(c=d.Pb(c);-1!=c;c=d.Sb(c)){var D=
d.cb(c);d.w(D,y);for(var E=!1,G=D=d.U(D);-1!=G;G=d.U(G)){if(G==D){if(E)break;E=!0}d.w(G,z);if(l&&(f<n-y.x&&z.x-n>f||f<n-z.x&&y.x-n>f)||!l&&(0!=n||f<-y.y&&z.y>f||f<-z.y&&y.y>f)){do if(!(Math.abs(y.x-z.x)>=.5*C.O())){2==e.Fb()?(t[0][0]=b.Tn(y.x,C),t[0][1]=y.y,t[1][0]=b.Tn(z.x,C),t[1][1]=z.y,a.fi.projToGeogCenter(r,2,t,0),A.x=t[0][0]*m,A.y=t[0][1]*m,B.y=t[1][1]*m):(A.x=y.x*m,A.y=y.y*m,B.y=z.y*m);B.x=2*(z.x-y.x)*Math.PI/C.O()+A.x;var L;if(l){H.x=h;H.y=b.sA(q,p,A,B,h,k);if(isNaN(H.y))break;x[0]=H;L=1}else if(k==
g.GreatElliptic){var J=[0,0];L=a.uy.xA(q,p,A,B,h,J);if(0==L)break;H.x=J[0];H.y=h;x[0]=H;2==L&&(v.x=J[1],v.y=h,x[1]=v)}else{H.x=b.pA(q,p,A,B,k);if(isNaN(H.x))break;H.y=0;x[0]=H;L=1}for(var I=-1,J=0;J<L;J++){a.mb.Kd(q,p,A.x,A.y,B.x,B.y,F,null,null,k);var M=F.j;a.mb.Kd(q,p,A.x,A.y,x[J].x,x[J].y,F,null,null,k);var O=F.j;2==e.Fb()?(t[0][0]=x[J].x/m,t[0][1]=x[J].y/m,a.fi.geogToProj(r,1,t),l?(w.y=t[0][1],w.x=n):(w.x=b.zl(t[0][0],y.x,z.x,C),w.y=n)):l?(w.x=n,w.y=x[J].y/m):(w.x=b.zl(x[J].x/m,y.x,z.x,C),w.y=
n);u[0]=0<M?a.J.tk(O/M,0,1):.5;if(0==u[0]||1==u[0])break;I>u[0]||(I=d.Ra(G),d.Em(I,u,1),d.rb(d.U(I),w.x,w.y),I=u[0])}}while(0)}y.L(z)}}};b.Tn=function(a,b){var d=b.la-b.ga;return b.yu(a-Math.floor((a-b.ga)/d)*d)};b.zl=function(b,c,e,g){var d=new a.yc;d.I(c,e);e=g.O();b=Math.floor((b-c)/e)*e+b;for(d=d.Tf();Math.abs(b-d)>Math.abs(b+e-d);)b+=e;return b};b.Ug=function(b,c,e){b=a.ks.uq(b);c=a.ks.Wx(b,a.ks.uq(c));e=a.ks.Wx(b,a.ks.uq(e));return 0==e||0<c&&0<e&&e<=c||0>c&&0>e&&e>=c?!0:!1};b.sA=function(d,
c,e,f,k,l){if(l==g.GreatElliptic)return a.uy.oU(c,e,f,k);if(Math.abs(e.x-f.x)>=Math.PI||!b.Ug(e.x,f.x,k))return NaN;var h;e.x>f.x?h=f:(h=e,e=f);f=new a.da;var m=new a.da,q=new a.da;a.mb.Kd(d,c,h.x,h.y,e.x,e.y,m,f,null,l);var n=m.j,p=0,C=1,r=new a.b;for(r.L(h);n*(C-p)>1E-12*d;){var t=.5*(p+C);a.mb.Sj(d,c,h.x,h.y,n*t,f.j,m,q,l);r.x=m.j;r.y=q.j;if(r.x==k)break;if(b.Ug(h.x,r.x,k))C=t;else if(b.Ug(e.x,r.x,k))p=t;else return NaN}return r.y};b.pA=function(b,c,e,f,k){if(k==g.GreatElliptic)return k=[0,0],
a.uy.xA(b,c,e,f,0,k),k[0];var d;e.y>f.y?d=f:(d=e,e=f);f=new a.yc;f.I(d.y,e.y);if(!f.contains(0)||Math.abs(d.x-e.x)>=Math.PI)return NaN;if(d.x==e.x)return d.x;var h=new a.da,m=new a.da,q=new a.da;a.mb.Kd(b,c,d.x,d.y,e.x,e.y,m,h,null,k);var l=m.j,n=0,p=1,C=new a.b;for(C.L(d);l*(p-n)>1E-12*b;){var r=.5*(n+p);a.mb.Sj(b,c,d.x,d.y,l*r,h.j,m,q,k);C.x=m.j;C.y=q.j;f.I(d.y,C.y);if(0==C.y)break;if(f.contains(0))p=r;else if(f.I(e.y,C.y),f.contains(0))n=r;else return NaN}return C.x};b.E_=function(b,c,e,g,f,k){if(c==
f&&e!=k)throw a.g.F();if(0>=g)return 0;if(b.No()){k*=2;var d=2*e;b=2*g;for(e=0;e<b;e++)f[k+e]=c[d+e];return g}if(2>=g){k=[new a.b,new a.b];for(d=0;d<g;d++)k[d].ja(c[2*d],c[2*d+1]);c=a.ns.local().AY(b,k,g,k);for(d=0;d<g;d++)f[2*d]=k[d].x,f[2*d+1]=k[d].y;return c}var h=b.he,d=b.Ee,m=h.Fb(),q=d.Fb();if(0==m&&m==q)return b=h.Zi(),d=d.Zi(),d=b/d,b=new a.Gd,b.Vp(d,d),b.BY(c,e,f,k,g),g;m=new a.Dd;m.Rd(3);m.resize(g);for(var q=m.Qa(0),l=m.Qa(3),d=0,n=2*e,p=2*k;d<g;d++,p+=2){e=c[n++];var h=c[n++],C=p;if(isNaN(e)||
isNaN(h))h=e=0,C=-1;l.write(d,C);q.write(2*d,e);q.write(2*d+1,h)}m.Cc(1993);c=a.ns.local().V(m,b,null);d=0;for(k*=2;d<g;d++,k+=2)f[k]=NaN,f[k+1]=NaN;if(c.u())return 0;k=c.Qa(3);b=c.Qa(0);d=m=0;for(g=c.D();d<g;d++)c=k.read(d),-1!=c&&(e=b.read(2*d),h=b.read(2*d+1),f[c]=e,f[c+1]=h,m++);return m};b.CJ=function(b,c,e,g){if(!b.he.Ic())return!1;var d=new a.Dd(c.description);d.Hd(c,0,-1);g=a.ns.local().V(d,b,g);d=c.D();e.Oa();if(d!=g.D())return!1;var h=new a.h;c.s(h);var f=new a.h;g.s(f);h=h.O();f=f.O();
if(0!=h&&0!=f){if(f/=h,b=b.Ee.Ch().O()/b.he.Ch().O(),1E-10<Math.abs(f/b-1))return!1}else if(0!=h||0!=f)return!1;e.add(c,!1);c=new a.b;for(b=0;b<d;b++)g.w(b,c),e.rb(b,c);return!0};b.OO=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};b.AJ=function(d,c,g,f){if(g==e.Clip){var h=c.Ok();197==h.G()?(g=new a.h,h.s(g),h=a.na.Yy(c,g),d=a.th.clip(d,g,h,5E4*c.hn(),f)):a.Jj.local().V(1,h,d,c,f)||(d=a.wk.local().V(d,h,c,f),d==h&&(d=a.Bl.me(d)))}else c.Ic()&&(f=new a.h,d.ac(f),c.oe().contains(f)||(b.zu(d,
c.oe(),c.pe(0),!0),g==e.PannableFold&&(d=b.Qj(d,c)),d=b.cn(d,c,0,!0,1E5*c.hn(),null)));return d};b.lF=function(b,c,e){var d=c.Us();if(null==d)return b;c=c.lc();var h=c.oe().O(),g=new a.h;b.ac(g);var f=new a.yc;g.Yn(f);for(var g=d.Fa(),d=null,m=new a.Gd;g.Ya();)for(;g.Ea();){var k=g.ba(),l=k.hg(0,0),n=new a.yc;n.I(l.ga,l.la);for(l=0;n.la>f.ga;)n.move(-h),--l;for(;n.ga<=f.la;){if(n.Yb(f)){null==d&&(d=new a.Ua);var p=a.Hb.CQ(k.ec(),k.Ac());0!=l&&(m.zg(l*h,0),p.Vc(m));d.cc(p,!0)}n.move(h);++l}}return null!=
d?(c=a.na.DP(c,d),c=a.na.As(c),a.Mu.IQ(b,d,c,e)):b};b.hX=function(a,c,e,g,f){return a>=e&&c<=g?0:b.XD(.5*(c+a),e,g,f)};b.XD=function(b,c,e,g){return a.Ub.round((.5*(e+c)-b)/g)*g};b.lS=function(d,c,e,g,f,k,l,n){var h=b.Wu(g,f),m=h.O(),q=m/360,p=b.ED*q,C=d.Qa(0),r=c.Ic(),t=r?m/c.oe().O():0,u;c=d.Ka();for(var F=0,w=e.aa();F<w;++F){var H=r,v=new a.Ua(e.description);v.Ui(e,F,!0);u=e.Qb(F);0!=l&&(u=b.yD(u,v,h.B-n,h.B,l))&&(H=!1);var x=-1;u=v.D();var y=!1;H&&(x=d.wa(F),y=d.Qb(F));var z=v.Qa(0),A=0,B=z.read(0),
D=0,X=3*g.pe(0),E=!1,G=new a.b;G.Yc();var L=new a.b;L.Yc();for(var J=!1,I=1;I<u;++I){var M=a.b.pa(z.Lf(2*I),z.Lf(2*I+1)),O=M.x,R=O+A,K=R-B;M.x=R;if(Math.abs(K)>p){if(H){var N=x+I-1,T=x;if(!y||I+1<u)T+=I;N=C.read(2*N);T=(C.read(2*T)-N)*t;Math.abs(K-T)>1*q&&(r=!1)}H||(A-=a.Ub.Kl(m,R-B),R=O+A,++D,J=0!=A,M.x=R)}else E||a.na.BH(G,L,M,X)&&(E=!0);J&&z.write(2*I,R);B=R;G.L(L);L.L(M)}0!=D&&v.Cc(1993);H=v.Ba(0);u=v.Ba(u-1);a.b.Cb(H,u);v=b.sM(v,g,isNaN(f)?0:f,k);c.add(v,!1)}d=g.pe(0);e=h.O()/180;b.zu(c,h,.1*
d,!1);return a.th.clip(c,h,d,e,k)};b.sM=function(a,c,e,g){return b.cn(a,c,e,!0,0,g)};b.lU=function(b,c,e,g){var d=b.G();if(1736==d)for(c=null!=c?c.pe(0):0,d=0;d<g;d++)1!=a.fd.ee(b,e[d],c)&&e[d].Yc();else if(197==d)for(d=0;d<g;d++)b.DQ(e[d])||e[d].Yc();else throw a.g.F();};b.Il=function(b,c,e,g){if(32>e)for(var d=new a.Wa,h=0;h<e;h++)d.rb(c[h]),b.Il(d,g).w(c[h]);else{var f=new a.Dd;f.Rd(3);f.$E(c,e);d=f.Qa(3);for(h=0;h<e;h++)d.write(h,h);h=b.Il(f,g);b=h.Qa(0);d=h.Qa(3);g=a.b.pa(NaN,NaN);for(f=0;f<
e;f++)c[f]=g;e=h.D();for(h=0;h<e;h++)g=d.read(h),b.fc(2*h,c[g])}};b.Hl=function(b,c,e,g){if(32>e)for(var d=new a.Wa,h=0;h<e;h++)d.rb(c[h]),b.Hl(d,g).w(c[h]);else{var f=new a.Dd;f.Rd(3);f.$E(c,e);d=f.Qa(3);for(h=0;h<e;h++)d.write(h,h);h=b.Hl(f,g);b=h.Qa(0);d=h.Qa(3);g=a.b.pa(NaN,NaN);for(f=0;f<e;f++)c[f]=g;e=h.D();for(h=0;h<e;h++)g=d.read(h),b.fc(2*h,c[g])}};b.HZ="ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.ED=210;return b}();a.Ib=c})(y||(y={}));(function(a){(function(a){a[a.rightSide=1]="rightSide"})(a.mN||(a.mN=
{}));var e=function(){function e(c,b,d){this.zt=new a.b;void 0===c?this.Bp=-1:(this.zt.L(c),this.Bp=b,this.Pa=d,this.$w=0)}e.prototype.BK=function(a){this.$w=a?this.$w|1:this.$w&-2};e.prototype.u=function(){return 0>this.Bp};e.prototype.Qz=function(){if(this.u())throw a.g.X("invalid call");return new a.Wa(this.zt.x,this.zt.y)};e.prototype.Za=function(){if(this.u())throw a.g.X("invalid call");return this.Bp};e.prototype.Tz=function(){if(this.u())throw a.g.X("invalid call");return this.Pa};e.prototype.CA=
function(){return 0!=(this.$w&1)};e.prototype.Hy=function(a,b,d,h){this.zt.x=a;this.zt.y=b;this.Bp=d;this.Pa=h};return e}();a.Sm=e})(y||(y={}));(function(a){var e=function(){function c(){}c.prototype.bo=function(b,d){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;b.ac(this.il);this.il.P(d,d);this.il.Yb(this.Mb.Ha)?((this.tt=a.T.Nc(b.G()))?(this.VI=b.ec(),this.UI=b.Ac(),this.ta=d):this.ta=NaN,this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf)):this.Nt=-1};c.prototype.Oi=
function(a,d){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;this.il.I(a);this.il.P(d,d);this.ta=NaN;this.il.Yb(this.Mb.Ha)?(this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf),this.tt=!1):this.Nt=-1};c.prototype.next=function(){if(0==this.Sh.size)return-1;this.Xk=this.Nt;var b=null,d=null,c,e=null,f=null;this.tt&&(b=new a.b,d=new a.b,e=new a.h);for(var k=!1;!k;){for(;-1!=this.Xk;){c=this.Mb.Mz(this.Mb.Tv(this.Xk));if(c.Yb(this.il))if(this.tt){if(b.L(this.VI),d.L(this.UI),
e.I(c),e.P(this.ta,this.ta),0<e.ez(b,d)){k=!0;break}}else{k=!0;break}this.Xk=this.Mb.$v(this.Xk)}if(-1==this.Xk){c=this.Sh.Ec();var l=this.ij[this.ij.length-1];null==f&&(f=[],f[0]=new a.h,f[1]=new a.h,f[2]=new a.h,f[3]=new a.h);g.iK(l,f);this.Sh.Mf();--this.ij.length;for(l=0;4>l;l++){var n=this.Mb.Eq(c,l);if(-1!=n&&0<this.Mb.qT(n)&&f[l].Yb(this.il))if(this.tt){if(b.L(this.VI),d.L(this.UI),e.I(f[l]),e.P(this.ta,this.ta),0<e.ez(b,d)){var p=new a.h;p.I(f[l]);this.Sh.add(n);this.ij.push(p)}}else p=new a.h,
p.I(f[l]),this.Sh.add(n),this.ij.push(p)}if(0==this.Sh.size)return-1;this.Xk=this.Mb.Ss(this.Sh.get(this.Sh.size-1))}}this.Nt=this.Mb.$v(this.Xk);return this.Xk};c.BQ=function(b,d,h){var e=new c;e.Mb=b;e.il=new a.h;e.Sh=new a.ha(0);e.ij=[];e.bo(d,h);return e};c.AQ=function(b,d,h){var e=new c;e.Mb=b;e.il=new a.h;e.Sh=new a.ha(0);e.ij=[];e.Oi(d,h);return e};c.zQ=function(b){var d=new c;d.Mb=b;d.il=new a.h;d.Sh=new a.ha(0);d.ij=[];return d};return c}();a.IZ=e;var g=function(){function c(b,d){this.If=
new a.Zc(11);this.zi=new a.Zc(5);this.ut=[];this.Ww=new a.ha(0);this.Ha=new a.h;this.sl(b,d)}c.prototype.reset=function(a,d){this.If.Wi(!1);this.zi.Wi(!1);this.ut.length=0;this.Ww.clear(!1);this.sl(a,d)};c.prototype.dh=function(a,d){return this.mw(a,d,0,this.Ha,this.Jf,!1,-1)};c.prototype.lw=function(a,d,c){c=-1==c?this.Jf:this.YG(c);var b=this.ea(c),h=this.GS(c);return this.mw(a,d,b,h,c,!1,-1)};c.prototype.ia=function(a){return this.BS(a)};c.prototype.JG=function(a){return this.Mz(this.Tv(a))};c.prototype.ea=
function(a){return this.Vv(a)};c.prototype.GS=function(b){var d=new a.h;d.I(this.Ha);var c=this.Vv(b);b=this.TG(b);for(var e=0;e<2*c;e+=2){var g=a.J.truncate(3&b>>e);0==g?(d.o=.5*(d.o+d.v),d.A=.5*(d.A+d.B)):1==g?(d.v=.5*(d.o+d.v),d.A=.5*(d.A+d.B)):(2==g?d.v=.5*(d.o+d.v):d.o=.5*(d.o+d.v),d.B=.5*(d.A+d.B))}return d};c.prototype.qT=function(a){return this.nA(a)};c.prototype.PS=function(a,d){return e.BQ(this,a,d)};c.prototype.$z=function(a,d){return e.AQ(this,a,d)};c.prototype.jf=function(){return e.zQ(this)};
c.prototype.sl=function(b,d){if(0>d||32<2*d)throw a.g.F("invalid height");this.cV=d;this.Ha.I(b);this.Jf=this.If.Me();this.Ux(this.Jf,0);this.Ox(this.Jf,0);this.sK(this.Jf,0);this.oK(this.Jf,0)};c.prototype.mw=function(b,d,h,e,g,f,k){if(!e.contains(d))return 0==h?-1:this.mw(b,d,0,this.Ha,this.Jf,f,k);if(!f)for(var m=g;-1!=m;m=this.bT(m))this.Ux(m,this.nA(m)+1);m=new a.h;m.I(e);e=g;var q=[];q[0]=new a.h;q[1]=new a.h;q[2]=new a.h;for(q[3]=new a.h;h<this.cV&&this.FP(e);h++){c.iK(m,q);for(var l=!1,n=
0;4>n;n++)if(q[n].contains(d)){var l=!0,p=this.Eq(e,n);-1==p&&(p=this.NQ(e,n));this.Ux(p,this.nA(p)+1);e=p;m.I(q[n]);break}if(!l)break}return this.QT(b,d,h,m,e,f,g,k)};c.prototype.QT=function(a,d,c,e,g,f,k,l){var b=this.PG(g);if(f){if(g==k)return l;this.lR(l);f=l}else f=this.PQ(),this.qC(f,a),this.nX(this.Tv(f),d);this.LX(f,g);-1!=b?(this.Sx(f,b),this.Px(b,f)):this.kK(g,f);this.tC(g,f);this.Ox(g,this.Yv(g)+1);this.EP(g)&&this.aS(c,e,g);return f};c.prototype.lR=function(a){var b=this.YG(a),c=this.PG(b),
e=this.hT(a),g=this.$v(a);this.Ss(b)==a?(-1!=g?this.Sx(g,-1):this.tC(b,-1),this.kK(b,g)):c==a?(this.Px(e,-1),this.tC(b,e)):(this.Sx(g,e),this.Px(e,g));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};c.iK=function(a,d){var b=.5*(a.o+a.v),c=.5*(a.A+a.B);d[0].I(b,c,a.v,a.B);d[1].I(a.o,c,b,a.B);d[2].I(a.o,a.A,b,c);d[3].I(b,a.A,a.v,c)};c.prototype.EP=function(a){return 8==this.Yv(a)&&!this.jH(a)};c.prototype.aS=function(a,d,c){var b,h,e=this.Ss(c);do h=this.Tv(e),b=this.zi.S(e,0),h=this.Mz(h),this.mw(b,
h,a,d,c,!0,e),e=b=this.$v(e);while(-1!=e)};c.prototype.FP=function(a){return 8<=this.Yv(a)||this.jH(a)};c.prototype.jH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};c.prototype.NQ=function(a,d){var b=this.If.Me();this.rX(a,d,b);this.Ux(b,0);this.Ox(b,0);this.ul(b,a);this.oK(b,this.Vv(a)+1);this.sK(b,d<<2*this.Vv(a)|this.TG(a));return b};c.prototype.PQ=function(){var b=this.zi.Me(),d;0<this.Ww.size?(d=this.Ww.Ec(),this.Ww.Mf()):(d=this.ut.length,this.ut.push(new a.h));
this.oX(b,d);return b};c.prototype.Eq=function(a,d){return this.If.S(a,d)};c.prototype.rX=function(a,d,c){this.If.R(a,d,c)};c.prototype.Ss=function(a){return this.If.S(a,4)};c.prototype.kK=function(a,d){this.If.R(a,4,d)};c.prototype.PG=function(a){return this.If.S(a,5)};c.prototype.tC=function(a,d){this.If.R(a,5,d)};c.prototype.TG=function(a){return this.If.S(a,6)};c.prototype.sK=function(a,d){this.If.R(a,6,d)};c.prototype.Yv=function(a){return this.If.S(a,7)};c.prototype.nA=function(a){return this.If.S(a,
8)};c.prototype.Ox=function(a,d){this.If.R(a,7,d)};c.prototype.Ux=function(a,d){this.If.R(a,8,d)};c.prototype.bT=function(a){return this.If.S(a,9)};c.prototype.ul=function(a,d){this.If.R(a,9,d)};c.prototype.Vv=function(a){return this.If.S(a,10)};c.prototype.oK=function(a,d){this.If.R(a,10,d)};c.prototype.BS=function(a){return this.zi.S(a,0)};c.prototype.qC=function(a,d){this.zi.R(a,0,d)};c.prototype.hT=function(a){return this.zi.S(a,1)};c.prototype.$v=function(a){return this.zi.S(a,2)};c.prototype.Sx=
function(a,d){this.zi.R(a,1,d)};c.prototype.Px=function(a,d){this.zi.R(a,2,d)};c.prototype.YG=function(a){return this.zi.S(a,3)};c.prototype.LX=function(a,d){this.zi.R(a,3,d)};c.prototype.Tv=function(a){return this.zi.S(a,4)};c.prototype.oX=function(a,d){this.zi.R(a,4,d)};c.prototype.Mz=function(a){return this.ut[a]};c.prototype.nX=function(a,d){this.ut[a].I(d)};return c}();a.gq=g})(y||(y={}));(function(a){(function(a){a[a.Outside=0]="Outside";a[a.Inside=1]="Inside";a[a.Border=2]="Border"})(a.jM||
(a.jM={}));var e=function(){function a(a,d){this.Eh=null;this.qV=d;this.Eh=a}a.prototype.Kx=function(a,d){this.hI!=d&&a.flush();this.hI=d};a.prototype.nG=function(a,d){for(var b=0;b<d;)for(var c=a[b++],e=a[b++],g=a[b++]*this.qV;c<e;c++)this.Eh[g+(c>>4)]|=this.hI<<2*(c&15)};return a}();a.KZ=e;var g=function(){function c(a,d,c){this.Eh=null;this.BB=this.ll=this.dJ=this.bJ=this.Ct=this.pI=this.fg=this.Nn=0;this.rj=this.ml=this.em=null;this.kw(a,d,c)}c.create=function(b,d,h){if(!c.$y(b))throw a.g.F();
return c.ad(b,d,h)};c.Yg=function(b,d,h){if(!c.$y(b))throw a.g.F();return c.de(b,d,h)};c.PW=function(b){switch(b){case 0:b=1024;break;case 1:b=16384;break;case 2:b=262144;break;default:throw a.g.X("Internal Error");}return b};c.$y=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};c.prototype.KR=function(b,d){d=d.Fa();for(var c=new a.b,e=new a.b;d.Ya();)for(;d.Ea();){var g=d.ba();if(322!=g.G())throw a.g.X("Internal Error");b.ai(g.ec(),c);b.ai(g.Ac(),e);this.rj.Ny(c.x,c.y,e.x,e.y)}this.rj.MJ(a.vy.ly)};
c.prototype.LR=function(){throw a.g.X("Internal Error");};c.prototype.Cz=function(b,d){for(var c=1;4>c;c++)b.Ny(d[c-1].x,d[c-1].y,d[c].x,d[c].y);b.Ny(d[3].x,d[3].y,d[0].x,d[0].y);this.rj.MJ(a.vy.ly)};c.prototype.SK=function(b,d,c){for(var h=[null,null,null,null],e=0;e<h.length;e++)h[e]=new a.b;d=d.Fa();c=this.ml.CY(c)+1.5;for(var e=new a.b,g=new a.b,f=new a.b,k=new a.b,l=new a.b,n=new a.h,p=new a.b;d.Ya();){var r=!1,t=!0;for(p.ja(0,0);d.Ea();){var u=d.ba();k.x=u.ua;k.y=u.ra;l.x=u.sa;l.y=u.oa;n.Oa();
n.Nb(k.x,k.y);n.ol(l.x,l.y);if(this.em.HH(n)){this.ml.ai(l,l);t?(this.ml.ai(k,k),p.L(k),t=!1):k.L(p);e.xc(l,k);var u=e.length(),w=.5>u;0==u?e.ja(1,0):(w||p.L(l),e.scale(c/u),g.ja(-e.y,e.x),f.ja(e.y,-e.x),k.sub(e),l.add(e),h[0].add(k,g),h[1].add(k,f),h[2].add(l,f),h[3].add(l,g),w?r=!0:this.Cz(b,h))}else r&&(this.Cz(b,h),r=!1),t=!0}r&&this.Cz(b,h)}};c.prototype.XC=function(b){return a.J.truncate(b*this.pI+this.bJ)};c.prototype.YC=function(b){return a.J.truncate(b*this.Ct+this.dJ)};c.ad=function(a,d,
h){return new c(a,d,h)};c.de=function(a,d,h){return new c(a,d,h)};c.prototype.kw=function(b,d,c){this.fg=Math.max(a.J.truncate(2*Math.sqrt(c)+.5),64);this.Nn=a.J.truncate((2*this.fg+31)/32);this.em=new a.h;this.ll=d;c=0;for(var h=this.fg,g=this.Nn;8<=h;)c+=h*g,h=a.J.truncate(h/2),g=a.J.truncate((2*h+31)/32);this.Eh=a.J.df(c,0);this.rj=new a.vy;c=new e(this.Eh,this.Nn,this);this.rj.$X(this.fg,this.fg,c);b.s(this.em);this.em.P(d,d);var h=new a.h,g=a.h.pa(1,1,this.fg-2,this.fg-2),f=d*g.O();d*=g.ea();
h.I(this.em.Tf(),Math.max(f,this.em.O()),Math.max(d,this.em.ea()));this.BB=this.ll;this.ml=new a.Gd;this.ml.NT(h,g);new a.Gd;switch(b.G()){case 550:c.Kx(this.rj,2);this.LR();break;case 1607:c.Kx(this.rj,2);this.SK(this.rj,b,this.BB);break;case 1736:c.Kx(this.rj,1),this.KR(this.ml,b),c.Kx(this.rj,2),this.SK(this.rj,b,this.BB)}this.pI=this.ml.lb;this.Ct=this.ml.gb;this.bJ=this.ml.Wb;this.dJ=this.ml.bc;this.wP()};c.prototype.wP=function(){this.rj.flush();for(var b=0,d=this.fg*this.Nn,c=this.fg,e=a.J.truncate(this.fg/
2),g=this.Nn,f=a.J.truncate((2*e+31)/32);8<c;){for(c=0;c<e;c++)for(var k=2*c,l=2*c+1,n=0;n<e;n++){var p=2*n,r=2*n+1,t=p>>4,p=2*(p&15),u=r>>4,r=2*(r&15),w=this.Eh[b+g*k+t]>>p&3,w=w|this.Eh[b+g*k+u]>>r&3,w=w|this.Eh[b+g*l+t]>>p&3,w=w|this.Eh[b+g*l+u]>>r&3;this.Eh[d+f*c+(n>>4)]|=w<<2*(n&15)}c=e;g=f;b=d;e=a.J.truncate(c/2);f=a.J.truncate((2*e+31)/32);d=b+g*c}};c.prototype.wm=function(a,d){if(!this.em.contains(a,d))return 0;a=this.XC(a);d=this.YC(d);if(0>a||a>=this.fg||0>d||d>=this.fg)return 0;a=this.Eh[this.Nn*
d+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};c.prototype.Xn=function(b){if(!b.Ma(this.em))return 0;var d=this.XC(b.o),c=this.XC(b.v),e=this.YC(b.A);b=this.YC(b.B);0>d&&(d=0);0>e&&(e=0);c>=this.fg&&(c=this.fg-1);b>=this.fg&&(b=this.fg-1);if(d>c||e>b)return 0;for(var g=Math.max(c-d,1)*Math.max(b-e,1),f=0,k=this.Nn,l=this.fg,n=0;;){if(32>g||16>l){for(g=e;g<=b;g++)for(var p=d;p<=c;p++)if(n=this.Eh[f+k*g+(p>>4)]>>2*(p&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}f+=k*l;l=a.J.truncate(l/2);k=a.J.truncate((2*
l+31)/32);d=a.J.truncate(d/2);e=a.J.truncate(e/2);c=a.J.truncate(c/2);b=a.J.truncate(b/2);g=Math.max(c-d,1)*Math.max(b-e,1)}};c.prototype.kT=function(){return this.fg*this.Nn};return c}();a.ty=g})(y||(y={}));(function(a){(function(a){a[a.contains=1]="contains";a[a.within=2]="within";a[a.equals=3]="equals";a[a.disjoint=4]="disjoint";a[a.touches=8]="touches";a[a.crosses=16]="crosses";a[a.overlaps=32]="overlaps";a[a.unknown=0]="unknown";a[a.intersects=1073741824]="intersects"})(a.rN||(a.rN={}));var e=
function(){function a(){}a.pa=function(b,d,c,e,g,f,k,l){var h=new a;h.bx=b;h.Fn=d;h.ik=c;h.sj=e;h.DI=g;h.l_=f;h.m_=k;h.n_=l;return h};return a}(),g=function(){function c(){}c.VE=function(b,d,h){if(!c.az(b))return!1;var e=a.na.$g(d,b,!1);d=!1;a.yl.KF(b)&&(d=d||b.bv(e,h));e=b.G();1736!=e&&1607!=e||!a.yl.IF(b)||0==h||(d=d||b.Kj(h));1736!=e&&1607!=e||!a.yl.JF(b)||0==h||(d=d||b.WN());return d};c.az=function(b){return a.yl.KF(b)||a.yl.IF(b)||a.yl.JF(b)};return c}();a.Iu=g;g=function(){function c(){this.Qh=
[]}c.bC=function(b,d,h,e,g){var f=b.G(),k=d.G();if(197==f){if(197==k)return c.IW(b,d,h,e);if(33==k)return 2==e?e=1:1==e&&(e=2),c.pE(d,b,h,e)}else if(33==f){if(197==k)return c.pE(b,d,h,e);if(33==k)return c.SW(b,d,h,e)}if(b.u()||d.u())return 4==e?!0:!1;var m=new a.h;b.s(m);var q=new a.h;d.s(q);var l=new a.h;l.I(m);l.Nb(q);h=a.na.$d(h,l,!1);if(c.Gk(m,q,h))return 4==e?!0:!1;m=!1;a.Bl.Nc(f)&&(f=new a.Ua(b.description),f.cc(b,!0),b=f,f=1607);a.Bl.Nc(k)&&(k=new a.Ua(d.description),k.cc(d,!0),d=k,k=1607);
if(197!=f&&197!=k){if(b.ub()<d.ub()||33==f&&550==k)2==e?e=1:1==e&&(e=2)}else 1736!=f&&197!=k&&(2==e?e=1:1==e&&(e=2));switch(f){case 1736:switch(k){case 1736:m=c.iu(b,d,h,e,g);break;case 1607:m=c.Un(b,d,h,e,g);break;case 33:m=c.hu(b,d,h,e,g);break;case 550:m=c.gu(b,d,h,e,g);break;case 197:m=c.TK(b,d,h,e,g)}break;case 1607:switch(k){case 1736:m=c.Un(d,b,h,e,g);break;case 1607:m=c.PB(b,d,h,e,g);break;case 33:m=c.ku(b,d,h,e,g);break;case 550:m=c.ju(b,d,h,e,g);break;case 197:m=c.rL(b,d,h,e)}break;case 33:switch(k){case 1736:m=
c.hu(d,b,h,e,g);break;case 1607:m=c.ku(d,b,h,e,g);break;case 550:m=c.cu(d,b,h,e,g)}break;case 550:switch(k){case 1736:m=c.gu(d,b,h,e,g);break;case 1607:m=c.ju(d,b,h,e,g);break;case 550:m=c.GB(b,d,h,e,g);break;case 33:m=c.cu(b,d,h,e,g);break;case 197:m=c.nH(b,d,h,e)}break;case 197:switch(k){case 1736:m=c.TK(d,b,h,e,g);break;case 1607:m=c.rL(d,b,h,e);break;case 550:m=c.nH(d,b,h,e)}}return m};c.IW=function(b,d,h,e){if(b.u()||d.u())return 4==e?!0:!1;var g=new a.h,f=new a.h,k=new a.h;b.s(g);d.s(f);k.I(g);
k.Nb(f);b=a.na.$d(h,k,!1);switch(e){case 4:return c.Gk(g,f,b);case 2:return c.mE(f,g,b);case 1:return c.mE(g,f,b);case 3:return c.ye(g,f,b);case 8:return c.UL(g,f,b);case 32:return c.OL(g,f,b);case 16:return c.LL(g,f,b)}return!1};c.pE=function(b,d,h,e){if(b.u()||d.u())return 4==e?!0:!1;b=b.w();var g=new a.h,f=new a.h;d.s(g);f.I(b);f.Nb(g);d=a.na.$d(h,f,!1);switch(e){case 4:return c.Dx(b,g,d);case 2:return c.KC(b,g,d);case 1:return c.vV(b,g,d);case 3:return c.MH(b,g,d);case 8:return c.jC(b,g,d)}return!1};
c.SW=function(b,d,h,e){if(b.u()||d.u())return 4==e?!0:!1;b=b.w();d=d.w();var g=new a.h;g.I(b);g.Nb(d);h=a.na.$d(h,g,!1);switch(e){case 4:return c.HV(b,d,h);case 2:return c.LH(d,b,h);case 1:return c.LH(b,d,h);case 3:return c.NH(b,d,h)}return!1};c.iu=function(a,d,h,e,g){switch(e){case 4:return c.wL(a,d,h);case 2:return c.Ex(d,a,h,g);case 1:return c.Ex(a,d,h,g);case 3:return c.ML(a,d,h);case 8:return c.qM(a,d,h);case 32:return c.VL(a,d,h,g)}return!1};c.Un=function(a,d,h,e,g){switch(e){case 4:return c.CL(a,
d,h);case 1:return c.OB(a,d,h,g);case 8:return c.tM(a,d,h,g);case 16:return c.uY(a,d,h)}return!1};c.hu=function(a,d,h,e){switch(e){case 4:return c.TY(a,d,h);case 1:return c.HW(a,d,h);case 8:return c.mM(a,d,h)}return!1};c.gu=function(a,d,h,e){switch(e){case 4:return c.QY(a,d,h);case 1:return c.ZV(a,d,h);case 8:return c.iM(a,d,h);case 16:return c.jX(a,d,h)}return!1};c.TK=function(a,d,h,e,g){if(c.IY(a,d,h))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.vM(a,d,h);case 1:return c.PV(a,d,
h);case 3:return c.GL(a,d,h);case 8:return c.YL(a,d,h,g);case 32:return c.PL(a,d,h,g);case 16:return c.RW(a,d,h,g)}return!1};c.PB=function(a,d,h,e){switch(e){case 4:return c.FN(a,d,h);case 2:return c.oL(d,a,h);case 1:return c.oL(a,d,h);case 3:return c.KN(a,d,h);case 8:return c.dD(a,d,h);case 32:return c.PN(a,d,h);case 16:return c.qL(a,d,h)}return!1};c.ku=function(a,d,h,e){switch(e){case 4:return c.CN(a,d,h);case 1:return c.DM(a,d,h);case 8:return c.RO(a,d,h)}return!1};c.ju=function(a,d,h,e){switch(e){case 4:return c.vN(a,
d,h);case 1:return c.AM(a,d,h);case 8:return c.uL(a,d,h);case 16:return c.oN(a,d,h)}return!1};c.rL=function(a,d,h,e){if(c.qN(a,d,h))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.aP(a,d,h);case 1:return c.yM(a,d,h);case 3:return c.IN(a,d,h);case 8:return c.SN(a,d,h);case 32:return c.MN(a,d,h);case 16:return c.gN(a,d,h)}return!1};c.GB=function(a,d,h,e){switch(e){case 4:return c.$O(a,d,h);case 2:return c.sG(d,a,h);case 1:return c.sG(a,d,h);case 3:return c.YQ(a,d,h);case 32:return c.FR(a,
d,h)}return!1};c.cu=function(a,d,h,e){switch(e){case 4:return c.xG(a,d,h);case 2:return c.HU(a,d,h);case 1:return c.RN(a,d,h);case 3:return c.zx(a,d,h)}return!1};c.nH=function(a,d,h,e){switch(e){case 4:return c.xO(a,d,h);case 2:return c.HT(a,d,h);case 1:return c.ON(a,d,h);case 3:return c.IP(a,d,h);case 8:return c.eS(a,d,h);case 16:return c.tL(a,d,h)}return!1};c.ML=function(b,d,h){var e=new a.h,g=new a.h;b.s(e);d.s(g);if(!c.ye(e,g,h))return!1;e=c.uc(b,d,!1);if(4==e||1==e||2==e)return!1;if(c.oG(b,d,
h))return!0;e=b.Rb();g=d.Rb();return Math.abs(e-g)>4*Math.max(b.D(),d.D())*h?!1:c.IA(b,d,h,!0)};c.wL=function(a,d,h){var b=c.uc(a,d,!0);return 4==b?!0:1==b||2==b||1073741824==b?!1:c.LJ(a,d,h)};c.qM=function(a,d,h){var b=c.uc(a,d,!1);return 4==b||1==b||2==b?!1:c.lL(a,d,h,null)};c.VL=function(a,d,h,e){var b=c.uc(a,d,!1);return 4==b||1==b||2==b?!1:c.YJ(a,d,h,e)};c.Ex=function(b,d,h,e){var g=new a.h,f=new a.h;b.s(g);d.s(f);if(!c.Dc(g,f,h))return!1;g=c.uc(b,d,!1);return 4==g||2==g?!1:1==g?!0:c.oJ(b,d,
h,e)};c.CL=function(a,d,e){var b=c.uc(a,d,!0);return 4==b?!0:1==b||1073741824==b?!1:c.LJ(a,d,e)};c.tM=function(a,d,e,g){var b=c.uc(a,d,!1);return 4==b||1==b?!1:c.mL(a,d,e,g)};c.uY=function(a,d,e){var b=c.uc(a,d,!1);return 4==b||1==b?!1:c.FJ(a,d,e,null)};c.OB=function(b,d,e,g){var h=new a.h,f=new a.h;b.s(h);d.s(f);if(!c.Dc(h,f,e))return!1;h=c.uc(b,d,!1);return 4==h?!1:1==h?!0:c.qJ(b,d,e,g)};c.TY=function(b,d,c){return 0==a.fd.KH(b,d,c)?!0:!1};c.mM=function(a,d,e){d=d.w();return c.dL(a,d,e)};c.HW=function(a,
d,e){d=d.w();return c.gJ(a,d,e)};c.QY=function(b,d,e){var h=c.uc(b,d,!1);if(4==h)return!0;if(1==h)return!1;h=new a.h;b.s(h);h.P(e,e);for(var g=new a.b,f=0;f<d.D();f++)if(d.w(f,g),h.contains(g)){var k=a.fd.ee(b,g,e);if(1==k||2==k)return!1}return!0};c.iM=function(b,d,c){var e=this.uc(b,d,!1);if(4==e||1==e)return!1;e=new a.h;b.s(e);e.P(c,c);var h,g=!1,f;f=b;for(var k=!1,l=0;l<d.D();l++){h=d.Ba(l);if(e.contains(h))if(h=a.fd.ee(f,h,c),2==h)g=!0;else if(1==h)return!1;k||(!a.cf.vm(b,d.D()-1)||null!=b.ob&&
null!=b.ob.Mb?f=b:(f=new a.Ja,b.copyTo(f),f.Kj(1)),k=!0)}return g?!0:!1};c.jX=function(b,d,c){var e=this.uc(b,d,!1);if(4==e||1==e)return!1;var h=new a.h,e=new a.h,g=new a.h;b.s(h);d.s(g);e.I(h);e.P(c,c);var g=h=!1,f,k;k=b;for(var l=!1,n=0;n<d.D();n++){f=d.Ba(n);e.contains(f)?(f=a.fd.ee(k,f,c),0==f?g=!0:1==f&&(h=!0)):g=!0;if(h&&g)return!0;l||(!a.cf.vm(b,d.D()-1)||null!=b.ob&&null!=b.ob.Mb?k=b:(k=new a.Ja,b.copyTo(k),k.Kj(1)),l=!0)}return!1};c.ZV=function(b,d,c){var e=new a.h,h=new a.h;b.s(e);d.s(h);
if(!this.Dc(e,h,c))return!1;h=this.uc(b,d,!1);if(4==h)return!1;if(1==h)return!0;var h=!1,g,f;f=b;for(var k=!1,l=0;l<d.D();l++){g=d.Ba(l);if(!e.contains(g))return!1;g=a.fd.ee(f,g,c);if(1==g)h=!0;else if(0==g)return!1;k||(!a.cf.vm(b,d.D()-1)||null!=b.ob&&null!=b.ob.Mb?f=b:(f=new a.Ja,b.copyTo(f),f.Kj(1)),k=!0)}return h};c.GL=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.ye(h,g,e))return!1;h=new a.Ja;h.hd(d,!1);return c.IA(b,h,e,!0)};c.IY=function(b,d,e){var h=c.uc(b,d,!1);if(4==h)return!0;
if(1==h||2==h)return!1;var g=new a.h,h=new a.h;b.s(g);d.s(h);if(c.Dc(h,g,e))return!1;g=new a.b;h.Zn(g);d=a.fd.ee(b,g,e);if(0!=d)return!1;h.HJ(g);d=a.fd.ee(b,g,e);if(0!=d)return!1;h.$n(g);d=a.fd.ee(b,g,e);if(0!=d)return!1;h.KJ(g);d=a.fd.ee(b,g,e);if(0!=d)return!1;d=b.Qa(0);g=new a.h;g.I(h);g.P(e,e);for(var f=0,k=b.D();f<k;f++){var l=d.read(2*f),n=d.read(2*f+1);if(g.contains(l,n))return!1}return!c.UE(b,h,e)};c.YL=function(b,d,e,g){var h=c.uc(b,d,!1);if(4==h||1==h||2==h)return!1;var h=new a.h,f=new a.h;
b.s(h);d.s(f);if(c.Dc(f,h,e))return!1;if(f.O()<=e&&f.ea()<=e)return d=d.Bq(),c.dL(b,d,e);if(f.O()<=e||f.ea()<=e)return h=new a.Ua,f=new a.Wa,d.gg(0,f),h.Of(f),d.gg(2,f),h.lineTo(f),c.mL(b,h,e,g);h=new a.Ja;h.hd(d,!1);return c.lL(b,h,e,g)};c.PL=function(b,d,e,g){var h=c.uc(b,d,!1);if(4==h||1==h||2==h)return!1;var h=new a.h,f=new a.h;b.s(h);d.s(f);if(c.Dc(f,h,e)||f.O()<=e||f.ea()<=e)return!1;h=new a.Ja;h.hd(d,!1);return c.YJ(b,h,e,g)};c.vM=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.Dc(g,
h,e)};c.PV=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.Dc(h,g,e))return!1;h=c.uc(b,d,!1);if(4==h||2==h)return!1;if(1==h)return!0;if(g.O()<=e&&g.ea()<=e)return d=d.Bq(),c.gJ(b,d,e);if(g.O()<=e||g.ea()<=e)return g=new a.Ua,h=new a.Wa,d.gg(0,h),g.Of(h),d.gg(2,h),g.lineTo(h),c.qJ(b,g,e,null);g=new a.Ja;g.hd(d,!1);return c.oJ(b,g,e,null)};c.RW=function(b,d,e,g){var h=new a.h,f=new a.h;b.s(h);d.s(f);if(c.Dc(f,h,e)||f.ea()>e&&f.O()>e||f.ea()<=e&&f.O()<=e)return!1;h=new a.Ua;f=new a.Wa;d.gg(0,
f);h.Of(f);d.gg(2,f);h.lineTo(f);return c.FJ(b,h,e,g)};c.KN=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.ye(h,g,e)&&4!=c.uc(b,d,!1)?c.oG(b,d,e)?!0:c.IA(b,d,e,!1):!1};c.FN=function(b,d,c){return 4==this.uc(b,d,!1)?!0:(new a.Rm(b,d,c,!0)).next()?!this.TH(b,d,c):!1};c.dD=function(b,d,e){if(4==c.uc(b,d,!1))return!1;var h=new a.Pd(0);if(0!=c.FB(b,d,e,h))return!1;for(var g=new a.Dd,f=0;f<h.size;f+=2){var k=h.read(f),l=h.read(f+1);g.qv(k,l)}b=b.Fg();d=d.Fg();b.Hd(d,0,d.D());return c.yx(b,
g,e)};c.qL=function(b,d,e){if(4==c.uc(b,d,!1))return!1;var h=new a.Pd(0);if(0!=c.FB(b,d,e,h))return!1;for(var g=new a.Dd,f=0;f<h.size;f+=2){var k=h.read(f),l=h.read(f+1);g.qv(k,l)}b=b.Fg();d=d.Fg();b.Hd(d,0,d.D());return!c.yx(b,g,e)};c.PN=function(a,d,e){return 4==c.uc(a,d,!1)?!1:c.LF(a,d,e)};c.oL=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.Dc(h,g,e)&&4!=c.uc(b,d,!1)?c.lf(d,b,e,!1):!1};c.CN=function(a,d,e){if(4==c.uc(a,d,!1))return!0;d=d.w();return!c.KA(a,d,e)};c.RO=function(a,
d,e){if(4==c.uc(a,d,!1))return!1;d=d.w();return c.HB(a,d,e)};c.DM=function(a,d,e){if(4==c.uc(a,d,!1))return!1;d=d.w();return c.bD(a,d,e)};c.vN=function(a,d,e){return 4==c.uc(a,d,!1)?!0:!c.rF(a,d,e,!1)};c.uL=function(b,d,c){if(4==this.uc(b,d,!1))return!1;var e=b.Fa(),h=new a.h,g=new a.h,f=new a.h;b.s(h);d.s(g);h.P(c,c);g.P(c,c);f.I(h);f.Ma(g);var k,l,h=null;k=b.ob;null!=k?(l=k.Mb,h=k.tp,null==l&&(l=k=a.na.Pj(b,f))):l=k=a.na.Pj(b,f);var n=l.jf(),p=null;null!=h&&(p=h.jf());var r=new a.b,t=new a.b,u=
!1,w=c*c,h=new a.Km(d.D());for(k=0;k<d.D();k++)h.write(k,0);for(k=0;k<d.D();k++)if(d.w(k,r),f.contains(r))if(g.I(r.x,r.y,r.x,r.y),null==p||(p.Oi(g,c),-1!=p.next())){n.Oi(g,c);for(var v=n.next();-1!=v;v=n.next())if(e.Tb(l.ia(v)),v=e.ba(),v.hc(v.ne(r,!1),t),a.b.sc(r,t)<=w){h.write(k,1);u=!0;break}}if(!u)return!1;b=b.Fg();e=new a.Dd;g=new a.b;for(k=0;k<d.D();k++)0!=h.read(k)&&(d.w(k,g),e.qv(g.x,g.y));return this.yx(b,e,c)};c.oN=function(b,d,c){if(4==this.uc(b,d,!1))return!1;var e=b.Fa(),h=new a.h,g=
new a.h,f=new a.h;b.s(h);d.s(g);h.P(c,c);g.P(c,c);f.I(h);f.Ma(g);var k,l,h=null;k=b.ob;null!=k?(l=k.Mb,h=k.tp,null==l&&(l=k=a.na.Pj(b,f))):l=k=a.na.Pj(b,f);var n=l.jf(),p=null;null!=h&&(p=h.jf());var r=new a.b,t=new a.b,u=!1,w=!1,v=c*c,h=new a.Km(d.D());for(k=0;k<d.D();k++)h.write(k,0);for(k=0;k<d.D();k++)if(d.w(k,r),f.contains(r))if(g.I(r.x,r.y,r.x,r.y),null!=p&&(p.Oi(g,c),-1==p.next()))w=!0;else{n.Oi(g,c);for(var x=!1,y=n.next();-1!=y;y=n.next())if(e.Tb(l.ia(y)),y=e.ba(),y.hc(y.ne(r,!1),t),a.b.sc(r,
t)<=v){h.write(k,1);x=u=!0;break}x||(w=!0)}else w=!0;if(!u||!w)return!1;b=b.Fg();e=new a.Dd;g=new a.b;for(k=0;k<d.D();k++)0!=h.read(k)&&(d.w(k,g),e.qv(g.x,g.y));return!this.yx(b,e,c)};c.AM=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.Dc(h,g,e)||4==c.uc(b,d,!1)||!c.rF(b,d,e,!0))return!1;b=b.Fg();return!c.mH(b,d,e)};c.IN=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return g.ea()>e&&g.O()>e?!1:c.ye(h,g,e)};c.qN=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.Dc(g,
h,e)?!1:!c.UE(b,g,e)};c.SN=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(g.ea()<=e&&g.O()<=e)return g=d.Bq(),c.HB(b,g,e);if(g.ea()<=e||g.O()<=e)return g=new a.Ua,h=new a.Wa,d.gg(0,h),g.Of(h),d.gg(2,h),g.lineTo(h),c.dD(b,g,e);b=b.Fa();d=new a.h;h=new a.h;d.I(g);h.I(g);d.P(-e,-e);h.P(e,e);for(var g=!1,f=new a.h,k=new a.h;b.Ya();)for(;b.Ea();){b.ba().s(f);k.I(d);k.Ma(f);if(!k.u()&&(k.ea()>e||k.O()>e))return!1;k.I(h);k.Ma(f);k.u()||(g=!0)}return g};c.MN=function(b,d,e){var h=new a.h,g=new a.h;
b.s(h);d.s(g);if(c.Dc(h,g,e)||c.Dc(g,h,e)||c.Dc(g,h,e)||g.ea()>e&&g.O()>e||g.ea()<=e&&g.O()<=e)return!1;h=new a.Ua;g=new a.Wa;d.gg(0,g);h.Of(g);d.gg(2,g);h.lineTo(g);return c.LF(b,h,e)};c.aP=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.Dc(g,h,e)||g.ea()<=e&&g.O()<=e)return!1;if(g.ea()<=e||g.O()<=e)return c.Dc(g,h,e);b=b.Fa();d=new a.h;d.I(g);d.P(-e,-e);for(var g=!1,h=new a.h,f=new a.h;b.Ya();)for(;b.Ea();)b.ba().s(h),d.Zm(h)?g=!0:(f.I(d),f.Ma(h),!f.u()&&(f.ea()>e||f.O()>e)&&(g=!0));
return g};c.yM=function(b,d,e){var h=new a.h,g=new a.h;d.s(g);b.s(h);if(!c.Dc(h,g,e)||g.ea()>e&&g.O()>e)return!1;if(g.ea()<=e&&g.O()<=e)return d=d.Bq(),c.bD(b,d,e);h=new a.Ua;g=new a.Wa;d.gg(0,g);h.Of(g);d.gg(2,g);h.lineTo(g);return c.lf(h,b,e,!1)};c.gN=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(c.Dc(g,h,e)||g.ea()<=e&&g.O()<=e)return!1;if(g.ea()<=e||g.O()<=e)return h=new a.Ua,g=new a.Wa,d.gg(0,g),h.Of(g),d.gg(2,g),h.lineTo(g),c.qL(b,h,e);b=b.Fa();d=new a.h;h=new a.h;h.I(g);d.I(g);h.P(-e,
-e);d.P(e,e);for(var f=g=!1,k=new a.h,l=new a.h;b.Ya();)for(;b.Ea();)if(b.ba().s(k),f||d.contains(k)||(f=!0),g||(l.I(h),l.Ma(k),!l.u()&&(l.ea()>e||l.O()>e)&&(g=!0)),g&&f)return!0;return!1};c.YQ=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.ye(h,g,e)?c.rR(b,d,e)?!0:c.RB(b,d,e,!1,!0,!1):!1};c.$O=function(a,d,e){return!c.mH(a,d,e)};c.FR=function(a,d,e){return c.RB(a,d,e,!1,!1,!0)};c.sG=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.Dc(h,g,e)?c.RB(d,b,e,!0,!1,!1):!1};
c.yx=function(b,d,c){c*=c;for(var e=new a.b,h=new a.b,g=0;g<d.D();g++){d.w(g,h);for(var f=!1,k=0;k<b.D();k++)if(b.w(k,e),a.b.sc(e,h)<=c){f=!0;break}if(!f)return!1}return!0};c.zx=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return c.ye(h,g,e)};c.xG=function(a,d,e){d=d.w();return c.bu(a,d,e)};c.HU=function(a,d,e){return c.zx(a,d,e)};c.RN=function(a,d,e){return!c.xG(a,d,e)};c.IP=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);return g.ea()>e||g.O()>e?!1:c.ye(h,g,e)};c.xO=function(b,d,
e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(c.Dc(g,h,e))return!1;d=new a.h;d.I(g);d.P(e,e);e=new a.b;for(g=0;g<b.D();g++)if(b.w(g,e),d.contains(e))return!1;return!0};c.eS=function(b,d,c){var e=new a.h,h=new a.h,g=new a.h;d.s(e);if(e.ea()<=c&&e.O()<=c)return!1;if(e.ea()<=c||e.O()<=c){d=new a.b;var f=!1;h.I(e);g.I(e);h.P(c,c);e.ea()>c?g.P(0,-c):g.P(-c,0);for(var k=0;k<b.D();k++)if(b.w(k,d),h.contains(d)){if(e.ea()>c){if(d.y>g.A&&d.y<g.B)return!1}else if(d.x>g.o&&d.x<g.v)return!1;f=!0}return f}h.I(e);
g.I(e);h.P(c,c);g.P(-c,-c);d=new a.b;f=!1;for(k=0;k<b.D();k++)if(b.w(k,d),h.contains(d)){if(g.Zm(d))return!1;f=!0}return f};c.HT=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.Dc(g,h,e))return!1;if(g.ea()<=e&&g.O()<=e)return c.ye(h,g,e);if(g.ea()<=e||g.O()<=e){d=!1;var h=new a.h,f=new a.h;h.I(g);f.I(g);g.ea()>e?h.P(0,-e):h.P(-e,0);f.P(e,e);for(var k=new a.b,l=0;l<b.D();l++){b.w(l,k);if(!f.contains(k))return!1;g.ea()>e?k.y>h.A&&k.y<h.B&&(d=!0):k.x>h.o&&k.x<h.v&&(d=!0)}return d}d=!1;h=
new a.h;f=new a.h;h.I(g);f.I(g);h.P(-e,-e);f.P(e,e);k=new a.b;for(l=0;l<b.D();l++){b.w(l,k);if(!f.contains(k))return!1;h.Zm(k)&&(d=!0)}return d};c.ON=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(!c.Dc(h,g,e)||g.ea()>e||g.O()>e)return!1;d=d.Bq();return!c.bu(b,d,e)};c.tL=function(b,d,e){var h=new a.h,g=new a.h;b.s(h);d.s(g);if(c.Dc(g,h,e)||g.ea()<=e&&g.O()<=e)return!1;if(g.ea()<=e||g.O()<=e){d=new a.h;h=new a.h;d.I(g);g.ea()>e?d.P(0,-e):d.P(-e,0);h.I(g);h.P(e,e);for(var f=new a.b,k=!1,l=
!1,n=0;n<b.D();n++)if(b.w(n,f),k||(g.ea()>e?f.y>d.A&&f.y<d.B&&(k=!0):f.x>d.o&&f.x<d.v&&(k=!0)),l||h.contains(f)||(l=!0),k&&l)return!0;return!1}d=new a.h;h=new a.h;d.I(g);d.P(-e,-e);h.I(g);h.P(e,e);f=new a.b;l=k=!1;for(n=0;n<b.D();n++)if(b.w(n,f),!k&&d.Zm(f)&&(k=!0),l||h.contains(f)||(l=!0),k&&l)return!0;return!1};c.NH=function(b,d,c){return a.b.sc(b,d)<=c*c?!0:!1};c.HV=function(b,d,c){return a.b.sc(b,d)>c*c?!0:!1};c.LH=function(a,d,e){return c.NH(a,d,e)};c.MH=function(b,d,e){var h=new a.h;h.I(b);
return c.ye(h,d,e)};c.Dx=function(b,d,c){var e=new a.h;e.I(d);e.P(c,c);return!e.contains(b)};c.jC=function(b,d,c){if(d.ea()<=c&&d.O()<=c)return!1;var e=new a.h,h=new a.h;e.I(d);e.P(c,c);if(!e.contains(b))return!1;if(d.ea()<=c||d.O()<=c){h.I(d);d.ea()>c?h.P(0,-c):h.P(-c,0);if(d.ea()>c){if(b.y>h.A&&b.y<h.B)return!1}else if(b.x>h.o&&b.x<h.v)return!1;return!0}h.I(d);h.P(-c,-c);return h.Zm(b)?!1:!0};c.KC=function(b,d,c){if(d.ea()<=c&&d.O()<=c)return!0;if(d.ea()<=c||d.O()<=c){var e=new a.h;e.I(d);d.ea()>
c?e.P(0,-c):e.P(-c,0);var h=!1;d.ea()>c?b.y>e.A&&b.y<e.B&&(h=!0):b.x>e.o&&b.x<e.v&&(h=!0);return h}e=new a.h;e.I(d);e.P(-c,-c);return e.Zm(b)};c.vV=function(a,d,e){return c.MH(a,d,e)};c.ye=function(a,d,e){return c.Dc(a,d,e)&&c.Dc(d,a,e)};c.Gk=function(b,d,c){var e=new a.h;e.I(d);e.P(c,c);return!b.Yb(e)};c.UL=function(b,d,e){if(b.ea()<=e&&b.O()<=e){var h=b.Tf();return c.jC(h,d,e)}if(d.ea()<=e&&d.O()<=e)return h=d.Tf(),c.jC(h,b,e);b.ea()>e&&b.O()>e&&(d.ea()<=e||d.O()<=e)?h=d:(h=b,b=d);if(h.ea()<=e||
h.O()<=e){if(b.ea()<=e||b.O()<=e){d=new a.Hb;var g=new a.Hb,f=[0,0],k=[0,0],l=new a.b;h.Zn(l);d.Lc(l);h.$n(l);d.Xc(l);b.Zn(l);g.Lc(l);b.$n(l);g.Xc(l);d.Ma(g,null,f,k,e);return 1!=d.Ma(g,null,null,null,e)?!1:0==f[0]||1==f[1]||0==k[0]||1==k[1]}d=new a.h;g=new a.h;d.I(b);d.P(-e,-e);g.I(d);g.Ma(h);return!g.u()&&(g.ea()>e||g.O()>e)?!1:!0}b.P(e,e);g=new a.h;g.I(h);g.Ma(b);return g.u()||!g.u()&&g.ea()>e&&g.O()>e?!1:!0};c.OL=function(b,d,e){if(c.Dc(b,d,e)||c.Dc(d,b,e)||b.ea()<=e&&b.O()<=e||d.ea()<=e&&d.O()<=
e)return!1;if(b.ea()<=e||b.O()<=e){if(d.ea()>e&&d.O()>e)return!1;var h=new a.Hb,g=new a.Hb,f=[0,0],k=[0,0],l=new a.b;b.Zn(l);h.Lc(l);b.$n(l);h.Xc(l);d.Zn(l);g.Lc(l);d.$n(l);g.Xc(l);h.Ma(g,null,f,k,e);return 2!=h.Ma(g,null,null,null,e)?!1:(0<f[0]||1>f[1])&&(0<k[0]||1>k[1])}if(d.ea()<=e||d.O()<=e)return!1;h=new a.h;h.I(b);h.Ma(d);return h.u()||h.ea()<=e||h.O()<=e?!1:!0};c.mE=function(b,d,e){if(!c.Dc(b,d,e))return!1;if(b.ea()<=e&&b.O()<=e)return b=b.Tf(),c.KC(b,d,e);if(d.ea()<=e&&d.O()<=e)return d=d.Tf(),
c.KC(d,b,e);if(b.ea()<=e||b.O()<=e)return c.Dc(b,d,e);if(d.ea()<=e||d.O()<=e){var h=new a.h;h.I(b);h.P(-e,-e);if(h.Zm(d))return!0;b=new a.h;b.I(h);b.Ma(d);return b.u()||b.ea()<=e&&b.O()<=e?!1:!0}return c.Dc(b,d,e)};c.LL=function(b,d,e){if(c.Dc(b,d,e)||c.Dc(d,b,e)||b.ea()<=e&&b.O()<=e||d.ea()<=e&&d.O()<=e||d.ea()>e&&d.O()>e&&b.ea()>e&&b.O()>e)return!1;var h;b.ea()>e&&b.O()>e?h=d:(h=b,b=d);if(b.ea()>e&&b.O()>e){d=new a.h;var g=new a.h;g.I(b);g.P(-e,-e);d.I(g);d.Ma(h);return d.u()||d.ea()<=e&&d.O()<=
e?!1:!0}d=new a.Hb;var g=new a.Hb,f=[0,0],k=[0,0],l=new a.b;h.Zn(l);d.Lc(l);h.$n(l);d.Xc(l);b.Zn(l);g.Lc(l);b.$n(l);g.Xc(l);d.Ma(g,null,f,k,e);return 1!=d.Ma(g,null,null,null,e)?!1:0<f[0]&&1>f[1]&&0<k[0]&&1>k[1]};c.LJ=function(b,d,c){var e,h,g=new a.h,f=new a.h,k=new a.Rm(b,d,c,!0);if(!k.next())return!0;if(this.TH(b,d,c))return!1;var l;l=b;var n;n=null;1736==d.G()&&(n=d);var p=!1,r=!1;do{e=k.Vl();h=k.Rl();h=d.Ba(d.wa(h));g.I(k.hA());g.P(c,c);if(g.contains(h)&&(h=a.fd.ee(l,h,0),0!=h)||1736==d.G()&&
(e=b.Ba(b.wa(e)),f.I(k.Lz()),f.P(c,c),f.contains(e)&&(h=a.fd.ee(n,e,0),0!=h)))return!1;p||(!a.cf.vm(b,d.aa()-1)||null!=b.ob&&null!=b.ob.Mb?l=b:(l=new a.Ja,b.copyTo(l),l.Kj(1)),p=!0);1736!=d.G()||r||(r=d,!a.cf.vm(r,b.aa()-1)||null!=d.ob&&null!=d.ob.Mb?n=d:(n=new a.Ja,r.copyTo(n),n.Kj(1)),r=!0)}while(k.next());return!0};c.Dc=function(b,d,c){var e=new a.h;e.I(b);e.P(c,c);return e.contains(d)};c.xl=function(b,d,c){var e=new a.h;e.I(d);e.P(c,c);d=new a.b;b.Zn(d);if(!e.contains(d))return!0;b.HJ(d);if(!e.contains(d))return!0;
b.KJ(d);if(!e.contains(d))return!0;b.$n(d);return e.contains(d)?!1:!0};c.oG=function(b,d,c){if(b.aa()!=d.aa()||b.D()!=d.D())return!1;var e=new a.b,h=new a.b,g=!0;c*=c;for(var f=0;f<b.aa();f++){if(b.Fc(f)!=d.Fc(f)){g=!1;break}for(var k=b.wa(f);k<d.Fc(f);k++)if(b.w(k,e),d.w(k,h),a.b.sc(e,h)>c){g=!1;break}if(!g)break}return g?!0:!1};c.rR=function(b,d,c){if(b.D()!=d.D())return!1;var e=new a.b,h=new a.b,g=!0;c*=c;for(var f=0;f<b.D();f++)if(b.w(f,e),d.w(f,h),a.b.sc(e,h)>c){g=!1;break}return g?!0:!1};c.RB=
function(b,d,c,e,g,f){var h=!1,k;b.D()>d.D()?(e&&(e=!1,h=!0),k=d):(k=b,b=d);d=null;if(g||f||h){d=new a.Km(b.D());for(var m=0;m<b.D();m++)d.write(m,0)}var m=new a.h,q=new a.h,l=new a.h;k.s(m);b.s(q);m.P(c,c);q.P(c,c);l.I(m);l.Ma(q);for(var q=new a.b,n=new a.b,p=!0,r=a.na.CF(b,l),C=r.jf(),t=c*c,u=0;u<k.D();u++)if(k.w(u,q),l.contains(q)){var w=!1;m.I(q.x,q.y,q.x,q.y);C.Oi(m,c);for(var v=C.next();-1!=v&&!(v=r.ia(v),b.w(v,n),a.b.sc(q,n)<=t&&((g||f||h)&&d.write(v,1),w=!0,e));v=C.next());if(!w&&(p=!1,g||
e))return!1}else{if(g||e)return!1;p=!1}if(f&&p)return!1;if(e)return!0;for(m=0;m<b.D();m++)if(1==d.read(m)){if(f)return!0}else if(g||h)return!1;return f?!1:!0};c.mH=function(b,d,c){var e;b.D()>d.D()?e=d:(e=b,b=d);d=new a.h;var h=new a.h,g=new a.h;e.s(d);b.s(h);d.P(c,c);h.P(c,c);g.I(d);g.Ma(h);for(var h=new a.b,f=new a.b,k=c*c,l=a.na.CF(b,g),n=l.jf(),p=0;p<e.D();p++)if(e.w(p,h),g.contains(h)){d.I(h.x,h.y,h.x,h.y);n.Oi(d,c);for(var r=n.next();-1!=r;r=n.next())if(b.w(l.ia(r),f),a.b.sc(h,f)<=k)return!0}return!1};
c.IA=function(a,d,e,g){return c.lf(a,d,e,g)&&c.lf(d,a,e,g)};c.lf=function(b,d,h,g){function f(a,b){return r.WF(a,b)}var k=!0,m=[0,0],l=[0,0],n=0,p=new a.ha(0),r=new c,t,u=new a.h,w=new a.h,v=new a.h;b.s(u);d.s(w);u.P(h,h);w.P(h,h);v.I(u);v.Ma(w);b=b.Fa();var w=d.Fa(),x=null,y=x=null,z=d.ob;null!=z?(x=z.Mb,y=z.tp,null==x&&(x=a.na.Pj(d,v))):x=a.na.Pj(d,v);d=x.jf();z=null;for(null!=y&&(z=y.jf());b.Ya();)for(;b.Ea();){var A=!1,B=b.ba();B.s(u);if(!u.Yb(v))return!1;if(null!=z&&(z.Oi(u,h),-1==z.next()))return k=
!1;y=B.Rb();d.bo(B,h);for(t=d.next();-1!=t;t=d.next()){w.Tb(x.ia(t));t=w.ba();var D=B.Ma(t,null,m,l,h);if(2==D&&(!g||l[0]<=l[1])){var D=m[0],E=m[1],G=l[0],L=l[1];if(D*y<=h&&(1-E)*y<=h){A=!0;n=0;p.resize(0);r.Qh.length=0;for(var I=b.Db(),G=!0;G;){if(b.Ea()){B=b.ba();y=B.Rb();D=B.Ma(t,null,m,l,h);if(2==D&&(!g||l[0]<=l[1])&&(D=m[0],E=m[1],D*y<=h&&(1-E)*y<=h)){I=b.Db();continue}if(w.Ea()&&(t=w.ba(),D=B.Ma(t,null,m,l,h),2==D&&(!g||l[0]<=l[1])&&(D=m[0],E=m[1],D*y<=h&&(1-E)*y<=h))){I=b.Db();continue}}G=
!1}I!=b.Db()&&(b.Tb(I),b.ba());break}else I=b.Db(),t=e.pa(I,b.Ta,D,E,w.Db(),w.Ta,G,L),r.Qh.push(t),p.add(p.size)}}if(!A){if(n==r.Qh.length)return!1;1<p.size-n&&p.Fd(n,p.size,f);for(A=0;n<r.Qh.length;n++)if(t=r.Qh[p.get(n)],!(t.ik<A&&t.sj<A)){if(y*(t.ik-A)>h)return!1;A=t.sj;if(y*(1-A)<=h||1==A)break}if(y*(1-A)>h)return!1;n=0;p.resize(0);r.Qh.length=0}}return k};c.LF=function(b,d,e){if(1>c.FB(b,d,e,null))return!1;var h=new a.h,g=new a.h;b.s(h);d.s(g);var f=c.xl(h,g,e),h=c.xl(g,h,e);return f&&h?!0:f&&
!h?!c.lf(d,b,e,!1):h&&!f?!c.lf(b,d,e,!1):!c.lf(b,d,e,!1)&&!c.lf(d,b,e,!1)};c.FB=function(b,d,h,g){function f(a,b){return w.WF(a,b)}var k,m;b.lA()>d.lA()?(k=d,m=b):(k=b,m=d);b=k.Fa();d=m.Fa();var l=[0,0],n=[0,0],p=-1,r=0,t,u=new a.ha(0),w=new c,v,x=new a.h,y=new a.h,z=new a.h;k.s(x);m.s(y);x.P(h,h);y.P(h,h);z.I(x);z.Ma(y);k=null;null!=g&&(k=new a.b);t=y=y=null;var A=m.ob;null!=A?(y=A.Mb,t=A.tp,null==y&&(y=a.na.Pj(m,z))):y=a.na.Pj(m,z);m=y.jf();A=null;for(null!=t&&(A=t.jf());b.Ya();)for(t=0;b.Ea();){var B=
b.ba();B.s(x);if(x.Yb(z)&&(null==A||(A.Oi(x,h),-1!=A.next()))){var D=B.Rb();m.bo(B,h);for(var E=m.next();-1!=E;E=m.next()){var G=y.ia(E);d.Tb(G);v=d.ba();var L=v.Rb(),I=B.Ma(v,null,l,n,h);if(0<I){var E=l[0],p=n[0],J=2==I?l[1]:NaN,M=2==I?n[1]:NaN;if(2==I){if(D*(J-E)>h)return p=1;var O=D*(J-E);if(d.Ea()){v=d.ba();I=B.Ma(v,null,l,null,h);if(2==I){var I=l[0],R=l[1],I=D*(R-I);if(O+I>h)return p=1}d.Tb(G);d.ba()}if(!d.pn()){d.Mi();v=d.Mi();I=B.Ma(v,null,l,null,h);if(2==I&&(I=l[0],R=l[1],I=D*(R-I),O+I>h))return p=
1;d.Tb(G);d.ba()}if(b.Ea()){G=b.Db();B=b.ba();I=B.Ma(v,null,l,null,h);if(2==I&&(I=l[0],R=l[1],I=D*(R-I),O+I>h))return p=1;b.Tb(G);b.ba()}if(!b.pn()){G=b.Db();b.Mi();B=b.Mi();I=B.Ma(v,null,l,null,h);if(2==I&&(I=l[0],R=l[1],I=L*(R-I),O+I>h))return p=1;b.Tb(G);b.ba()}v=e.pa(b.Db(),b.Ta,E,J,d.Db(),d.Ta,p,M);w.Qh.push(v);u.add(u.size)}p=0;null!=g&&(B.hc(E,k),g.add(k.x),g.add(k.y))}}if(r<w.Qh.length){u.Fd(r,u.size,f);B=0;for(E=w.Qh[u.get(r)].Fn;r<w.Qh.length;r++)if(v=w.Qh[u.get(r)],!(v.ik<B&&v.sj<B))if(D*
(v.ik-B)>h)t=D*(v.sj-v.ik),B=v.sj,E=v.Fn;else{v.Fn!=E?(t=D*(v.sj-v.ik),E=v.Fn):t+=D*(v.sj-v.ik);if(t>h)return p=1;B=v.sj;if(1==B)break}D*(1-B)>h&&(t=0);r=0;u.resize(0);w.Qh.length=0}}}return p};c.TH=function(b,d,c){var e=b.Fa(),h=d.Fa();for(b=new a.Rm(b,d,c,!1);b.next();){d=b.Vl();var g=b.Rl();e.Tb(d);h.Tb(g);d=e.ba();if(0<h.ba().Ma(d,null,null,null,c))return!0}return!1};c.rF=function(b,d,c,e){var h=b.Fa(),g=new a.h,f=new a.h,k=new a.h;b.s(g);d.s(f);g.P(c,c);g.contains(f);f.P(c,c);k.I(g);k.Ma(f);
g=b.ob;null!=g?(g=g.Mb,null==g&&(g=a.na.Pj(b,k))):g=a.na.Pj(b,k);b=g.jf();for(var m=new a.b,l=new a.b,n=c*c,p=0;p<d.D();p++)if(d.w(p,m),k.contains(m)){f.I(m.x,m.y,m.x,m.y);b.Oi(f,c);for(var r=!1,t=b.next();-1!=t;t=b.next())if(h.Tb(g.ia(t)),t=h.ba(),t.hc(t.ne(m,!1),l),a.b.sc(l,m)<=n){r=!0;break}if(e){if(!r)return!1}else if(r)return!0}return e?!0:!1};c.KA=function(b,d,c){var e=new a.b,h=c*c,g=b.Fa();b=b.ob;if(null!=b&&(b=b.Mb,null!=b)){var f=new a.h;f.I(d);c=b.$z(f,c);for(f=c.next();-1!=f;f=c.next())if(g.Tb(b.ia(f)),
g.Ea()){var f=g.ba(),k=f.ne(d,!1);f.hc(k,e);if(a.b.sc(d,e)<=h)return!0}return!1}for(b=new a.h;g.Ya();)for(;g.Ea();)if(f=g.ba(),f.s(b),b.P(c,c),b.contains(d)&&(k=f.ne(d,!1),f.hc(k,e),a.b.sc(d,e)<=h))return!0;return!1};c.bD=function(a,d,e){return c.KA(a,d,e)&&!c.HB(a,d,e)};c.HB=function(a,d,e){a=a.Fg();return!c.bu(a,d,e)};c.UE=function(b,d,c){if(b.on()){var e=new a.Hb(d.o,d.A,d.o,d.B),h=new a.Hb(d.o,d.B,d.v,d.B),g=new a.Hb(d.v,d.B,d.v,d.A);d=new a.Hb(d.v,d.A,d.o,d.A);for(b=b.Fa();b.Ya();)for(;b.Ea();){var f=
b.ba();if(f.Yb(e,c)||f.Yb(h,c)||f.Yb(g,c)||f.Yb(d,c))return!0}}else{e=new a.h;e.I(d);e.P(c,c);c=b.Qa(0);h=new a.b;g=new a.b;d=new a.b;for(var f=new a.b,k=0,l=b.aa();k<l;k++)for(var n=!0,p=b.wa(k),r=b.Fc(k);p<r;p++)if(n)c.fc(2*p,g),n=!1;else{c.fc(2*p,h);d.L(g);f.L(h);if(0!=e.ez(d,f))return!0;g.L(h)}}return!1};c.uc=function(b,d,e){var h=b.G(),g=d.G();if(a.T.fh(h)){var f=b.ob;if(null!=f&&(f=f.Ii,null!=f))if(33==g){var k=d.w(),k=f.wm(k.x,k.y);if(1==k)return 1;if(0==k)return 4}else{k=new a.h;d.s(k);k=
f.Xn(k);if(1==k)return 1;if(0==k)return 4;if(e&&a.T.fh(g)&&c.gE(d,f))return 1073741824}}if(a.T.fh(g)&&(f=d.ob,null!=f&&(f=f.Ii,null!=f)))if(33==h){b=b.w();k=f.wm(b.x,b.y);if(1==k)return 2;if(0==k)return 4}else{d=new a.h;b.s(d);k=f.Xn(d);if(1==k)return 2;if(0==k)return 4;if(e&&a.T.fh(h)&&c.gE(b,f))return 1073741824}return 0};c.gE=function(b,d){for(var c=b.D(),e=new a.b,g=0;g<c;g++)if(b.w(g,e),1==d.wm(e.x,e.y))return!0;return!1};c.lL=function(b,d,c,e){for(var h=1<=b.Nk(0)&&1<=d.Nk(0),g=b.Fa(),f=d.Fa(),
k=[0,0],m=[0,0],l=new a.Rm(b,d,c,!1),n=!1;l.next();){var p=l.Vl(),r=l.Rl();g.Tb(p);f.Tb(r);p=g.ba();r=f.ba().Ma(p,null,m,k,c);if(2==r){n=k[0];r=k[1];p=p.Rb();if(h&&(r-n)*p>c)return!1;n=!0}else if(0!=r){n=k[0];p=m[0];if(0<n&&1>n&&0<p&&1>p)return!1;n=!0}}if(!n)return!1;g=new a.h;f=new a.h;h=new a.h;b.s(g);d.s(f);g.P(1E3*c,1E3*c);f.P(1E3*c,1E3*c);h.I(g);h.Ma(f);return 10<b.D()&&(b=a.le.clip(b,h,c,0),b.u())||10<d.D()&&(d=a.le.clip(d,h,c,0),d.u())?!1:a.Tm.iu(b,d,c,"F********",e)};c.YJ=function(b,d,e,g){var h=
1<=b.Nk(0)&&1<=d.Nk(0),f=new a.h,k=new a.h,m=new a.h;b.s(f);d.s(k);for(var l=!1,n=c.xl(f,k,e),p=c.xl(k,f,e),r=b.Fa(),t=d.Fa(),u=[0,0],w=[0,0],v=new a.Rm(b,d,e,!1);v.next();){var x=v.Vl(),y=v.Rl();r.Tb(x);t.Tb(y);y=r.ba();x=t.ba().Ma(y,null,w,u,e);if(2==x){var x=u[0],z=u[1],y=y.Rb();if(h&&(z-x)*y>e&&(l=!0,n&&p))return!0}else if(0!=x&&(x=u[0],y=w[0],0<x&&1>x&&0<y&&1>y))return!0}h=new a.h;r=new a.h;h.I(f);h.P(1E3*e,1E3*e);r.I(k);r.P(1E3*e,1E3*e);m.I(h);m.Ma(r);f="";f=l?f+"**":f+"T*";if(n){if(10<d.D()&&
(d=a.le.clip(d,m,e,0),d.u()))return!1;f+="****"}else f+="T***";if(p){if(10<b.D()&&(b=a.le.clip(b,m,e,0),b.u()))return!1;f+="***"}else f+="T**";return a.Tm.iu(b,d,e,f.toString(),g)};c.oJ=function(b,d,e,g){var h=[!1],f=c.eJ(b,d,e,h);if(h[0])return f;h=new a.h;d.s(h);h.P(1E3*e,1E3*e);return 10<b.D()&&(b=a.le.clip(b,h,e,0),b.u())?!1:a.Tm.Ex(b,d,e,g)};c.eJ=function(b,d,c,e){e[0]=!1;for(var h=b.Fa(),g=d.Fa(),f=[0,0],k=[0,0],m=new a.Rm(b,d,c,!1),l=!1;m.next();){var n=m.Vl(),p=m.Rl();h.Tb(n,-1);g.Tb(p,-1);
n=h.ba();n=g.ba().Ma(n,null,k,f,c);if(0!=n&&(l=!0,1==n&&(n=f[0],p=k[0],0<n&&1>n&&0<p&&1>p)))return e[0]=!0,!1}if(!l){e[0]=!0;f=new a.h;b.s(f);f.P(c,c);m=b;l=!1;k=new a.h;e=0;for(h=d.aa();e<h;e++)if(0<d.La(e)){d.nk(e,k);if(f.Yb(k)){if(g=d.Ba(d.wa(e)),g=a.cf.qn(m,g,0),0==g)return!1}else return!1;l||(!a.cf.vm(b,d.aa()-1)||null!=b.ob&&null!=b.ob.Mb?m=b:(g=new a.Ja,b.copyTo(g),g.Kj(1),m=g),l=!0)}if(1==b.aa()||1607==d.G())return!0;f=new a.h;d.s(f);f.P(c,c);k=d;m=!1;c=new a.h;e=0;for(h=b.aa();e<h;e++)if(0<
b.La(e)){b.nk(e,c);if(f.Yb(c)&&(g=b.Ba(b.wa(e)),g=a.cf.qn(k,g,0),1==g))return!1;m||(!a.cf.vm(d,b.aa()-1)||null!=d.ob&&null!=d.ob.Mb?k=d:(g=new a.Ja,d.copyTo(g),g.Kj(1),k=g),m=!0)}return!0}return!1};c.mL=function(b,d,c,e){for(var h=b.Fa(),g=d.Fa(),f=[0,0],k=[0,0],m=new a.Rm(b,d,c,!1),l=!1;m.next();){var n=m.Vl(),p=m.Rl();h.Tb(n);g.Tb(p);n=h.ba();n=g.ba().Ma(n,null,k,f,c);if(2==n)l=!0;else if(0!=n){l=f[0];n=k[0];if(0<l&&1>l&&0<n&&1>n)return!1;l=!0}}if(!l)return!1;g=new a.h;f=new a.h;h=new a.h;b.s(g);
d.s(f);g.P(1E3*c,1E3*c);f.P(1E3*c,1E3*c);h.I(g);h.Ma(f);return 10<b.D()&&(b=a.le.clip(b,h,c,0),b.u())||10<d.D()&&(d=a.le.clip(d,h,c,0),d.u())?!1:a.Tm.Un(b,d,c,"F********",e)};c.FJ=function(b,d,e,g){for(var h=b.Fa(),f=d.Fa(),k=[0,0],m=[0,0],l=new a.Rm(b,d,e,!1),n=!1;l.next();){var p=l.Vl(),r=l.Rl();h.Tb(p);f.Tb(r);p=h.ba();p=f.ba().Ma(p,null,m,k,e);if(2==p)n=!0;else if(0!=p){n=k[0];p=m[0];if(0<n&&1>n&&0<p&&1>p)return!0;n=!0}}if(!n)return!1;f=new a.h;k=new a.h;m=new a.h;l=new a.h;h=new a.h;b.s(f);d.s(k);
return c.xl(k,f,e)?(m.I(f),m.P(1E3*e,1E3*e),l.I(k),l.P(1E3*e,1E3*e),h.I(m),h.Ma(l),10<b.D()&&(b=a.le.clip(b,h,e,0),b.u())||10<d.D()&&(d=a.le.clip(d,h,e,0),d.u())?!1:e=a.Tm.Un(b,d,e,"T********",g)):e=a.Tm.Un(b,d,e,"T*****T**",g)};c.qJ=function(b,d,e,g){var h=[!1],f=c.eJ(b,d,e,h);if(h[0])return f;h=new a.h;d.s(h);h.P(1E3*e,1E3*e);return 10<b.D()&&(b=a.le.clip(b,h,e,0),b.u())?!1:a.Tm.OB(b,d,e,g)};c.gJ=function(b,d,c){return 1==a.fd.ee(b,d,c)?!0:!1};c.dL=function(b,d,c){return 2==a.fd.ee(b,d,c)?!0:!1};
c.bu=function(b,d,c){var e=new a.b;c*=c;for(var h=0;h<b.D();h++)if(b.w(h,e),a.b.sc(e,d)<=c)return!1;return!0};c.prototype.WF=function(a,d){a=this.Qh[a];d=this.Qh[d];return a.Fn<d.Fn||a.Fn==d.Fn&&(a.bx<d.bx||a.bx==d.bx&&(a.ik<d.ik||a.ik==d.ik&&(a.sj<d.sj||a.sj==d.sj&&a.DI<d.DI)))?-1:1};return c}();a.Ed=g})(y||(y={}));(function(a){var e;(function(a){a[a.InteriorInterior=0]="InteriorInterior";a[a.InteriorBoundary=1]="InteriorBoundary";a[a.InteriorExterior=2]="InteriorExterior";a[a.BoundaryInterior=3]=
"BoundaryInterior";a[a.BoundaryBoundary=4]="BoundaryBoundary";a[a.BoundaryExterior=5]="BoundaryExterior";a[a.ExteriorInterior=6]="ExteriorInterior";a[a.ExteriorBoundary=7]="ExteriorBoundary";a[a.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(a){a[a.AreaAreaPredicates=0]="AreaAreaPredicates";a[a.AreaLinePredicates=1]="AreaLinePredicates";a[a.LineLinePredicates=2]="LineLinePredicates";a[a.AreaPointPredicates=3]="AreaPointPredicates";a[a.LinePointPredicates=4]="LinePointPredicates";
a[a.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function c(){this.Fe=0;this.i=new a.Vu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Ln=this.jx=-1}c.aC=function(b,d,c,e,g){if(9!=e.length)throw a.g.X("relation string length has to be 9 characters");for(var h=0;9>h;h++){var f=e.charAt(h);if("*"!=f&&"T"!=f&&"F"!=f&&"0"!=f&&"1"!=f&&"2"!=f)throw a.g.X("relation string");}h=this.fT(e,b.ub(),d.ub());if(0!=h)return a.Ed.bC(b,
d,c,h,g);h=new a.h;b.s(h);f=new a.h;d.s(f);var k=new a.h;k.I(h);k.Nb(f);c=a.na.$d(c,k,!1);b=this.bG(b,c);d=this.bG(d,c);if(b.u()||d.u())return this.XW(b,d,e);h=d.G();f=!1;switch(b.G()){case 1736:switch(h){case 1736:f=this.iu(b,d,c,e,g);break;case 1607:f=this.Un(b,d,c,e,g);break;case 33:f=this.hu(b,d,c,e,g);break;case 550:f=this.gu(b,d,c,e,g)}break;case 1607:switch(h){case 1736:f=this.Un(d,b,c,this.Pq(e),g);break;case 1607:f=this.PB(b,d,c,e,g);break;case 33:f=this.ku(b,d,c,e,g);break;case 550:f=this.ju(b,
d,c,e,g)}break;case 33:switch(h){case 1736:f=this.hu(d,b,c,this.Pq(e),g);break;case 1607:f=this.ku(d,b,c,this.Pq(e),g);break;case 33:f=this.jW(b,d,c,e);break;case 550:f=this.cu(d,b,c,this.Pq(e),g)}break;case 550:switch(h){case 1736:f=this.gu(d,b,c,this.Pq(e),g);break;case 1607:f=this.ju(d,b,c,this.Pq(e),g);break;case 550:f=this.GB(b,d,c,e,g);break;case 33:f=this.cu(b,d,c,e,g)}break;default:f=!1}return f};c.iu=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.cK();var k=new a.h,m=new a.h;b.s(k);d.s(m);
g=!1;a.Ed.Gk(k,m,e)&&(h.rv(b,d),g=!0);g||(k=a.Ed.uc(b,d,!1),4==k?(h.rv(b,d),g=!0):1==k?(h.Py(d),g=!0):2==k&&(h.nF(b),g=!0));g||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.tq(b,d),h.i.ph());return c.yg(h.H,h.cd)};c.Ex=function(b,d,e,g){var h=new c;h.yj();h.Cj("T*****F**");h.cK();var f=new a.h,k=new a.h;b.s(f);d.s(k);var m=!1;a.Ed.Gk(f,k,e)&&(h.rv(b,d),m=!0);m||(f=a.Ed.uc(b,d,!1),4==f?(h.rv(b,d),m=!0):1==f?(h.Py(d),m=!0):2==f&&(h.nF(b),m=!0));if(m)return f=this.yg(h.H,h.cd);m=new a.ed;b=m.Jb(b);f=
m.Jb(d);a.vk.V(m,e,g,!1);e=m.Pe(f).Fg();m.zq(0,!0,!0);a.so.V(m,b,-1,!1,g);if(0==m.D(b))return!1;a.so.V(m,f,-1,!1,g);h.Xr(m,g);d=0==m.D(f);if(!d&&(h.tq(b,f),h.i.ph(),f=this.yg(h.H,h.cd),!f))return f;b=m.Pe(b);m=new a.ed;b=m.Jb(b);f=m.Jb(e);h.Xr(m,g);h.Fe=0;h.yj();h.Cj(d?"T*****F**":"******F**");h.kC();h.tq(b,f);h.i.ph();return f=this.yg(h.H,h.cd)};c.Un=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.kC();var k=new a.h,m=new a.h;b.s(k);d.s(m);g=!1;a.Ed.Gk(k,m,e)&&(h.sv(b,d),g=!0);g||(k=a.Ed.uc(b,d,
!1),4==k?(h.sv(b,d),g=!0):1==k&&(h.oF(d),g=!0));g||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.Gh=h.i.wq(),c.Zu(d,h.i,h.Gh),h.tq(b,d),h.i.xq(h.Gh),h.i.ph());return c.yg(h.H,h.cd)};c.OB=function(b,d,e,g){var h=new c;h.yj();h.Cj("T*****F**");h.kC();var f=new a.h,k=new a.h;b.s(f);d.s(k);var m=!1;a.Ed.Gk(f,k,e)&&(h.sv(b,d),m=!0);m||(f=a.Ed.uc(b,d,!1),4==f?(h.sv(b,d),m=!0):1==f&&(h.oF(d),m=!0));if(m)return e=this.yg(h.H,h.cd);m=new a.ed;b=m.Jb(b);d=m.Jb(d);h.Mp(m,e,g);if(0==m.D(b))return!1;h.tq(b,d);
h.i.ph();return e=this.yg(h.H,h.cd)};c.gu=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.dK();var k=new a.h,m=new a.h;b.s(k);d.s(m);g=!1;a.Ed.Gk(k,m,e)&&(h.tv(b),g=!0);g||(k=a.Ed.uc(b,d,!1),4==k?(h.tv(b),g=!0):1==k&&(h.YO(),g=!0));g||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.jz(b,d),h.i.ph());return c.yg(h.H,h.cd)};c.PB=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.DX();g=new a.h;var k=new a.h;b.s(g);d.s(k);var m=!1;a.Ed.Gk(g,k,e)&&(h.RH(b,d),m=!0);m||4!=a.Ed.uc(b,d,!1)||(h.RH(b,d),m=!0);
m||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.yi=h.i.wq(),h.Gh=h.i.wq(),c.Zu(b,h.i,h.yi),c.Zu(d,h.i,h.Gh),h.tq(b,d),h.i.xq(h.yi),h.i.xq(h.Gh),h.i.ph());return c.yg(h.H,h.cd)};c.ju=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.rK();g=new a.h;var k=new a.h;b.s(g);d.s(k);var m=!1;a.Ed.Gk(g,k,e)&&(h.JA(b),m=!0);m||4!=a.Ed.uc(b,d,!1)||(h.JA(b),m=!0);m||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.yi=h.i.wq(),c.Zu(b,h.i,h.yi),h.jz(b,d),h.i.xq(h.yi),h.i.ph());return c.yg(h.H,h.cd)};c.GB=function(b,
d,e,g,f){var h=new c;h.yj();h.Cj(g);h.wK();g=new a.h;var k=new a.h;b.s(g);d.s(k);var m=!1;a.Ed.Gk(g,k,e)&&(h.uJ(),m=!0);m||(g=new a.ed,b=g.Jb(b),d=g.Jb(d),h.Mp(g,e,f),h.jz(b,d),h.i.ph());return c.yg(h.H,h.cd)};c.hu=function(b,d,e,g){var h=new c;h.yj();h.Cj(g);h.dK();var f=new a.h;b.s(f);d=d.w();var k=!1;a.Ed.Dx(d,f,e)&&(h.tv(b),k=!0);k||(e=a.fd.ee(b,d,e),1==e?(h.H[0]=0,h.H[2]=2,h.H[3]=-1,h.H[5]=1,h.H[6]=-1):2==e?(h.H[6]=-1,0!=b.ef()?(h.H[0]=-1,h.H[3]=0,h.H[2]=2,h.H[5]=1):(h.H[0]=0,h.H[3]=-1,h.H[5]=
-1,e=new a.h,b.s(e),h.H[2]=0==e.ea()&&0==e.O()?-1:1)):h.tv(b));return this.yg(h.H,g)};c.ku=function(b,d,e,g,f){var h=new c;h.yj();h.Cj(g);h.rK();var k=new a.h;b.s(k);g=d.w();var m=!1;a.Ed.Dx(g,k,e)&&(h.JA(b),m=!0);if(!m){var k=null,q=m=!1;if(h.fa[0]||h.fa[6])a.Ed.KA(b,g,e)?(h.fa[0]&&(k=a.Pi.Xm(b,f),q=!a.Ed.bu(k,g,e),m=!0,h.H[0]=q?-1:0),h.H[6]=-1):(h.H[0]=-1,h.H[6]=0);h.fa[3]&&(null!=k&&k.u()?h.H[3]=-1:(m||(null==k&&(k=a.Pi.Xm(b,f)),q=!a.Ed.bu(k,g,e),m=!0),h.H[3]=q?0:-1));h.fa[5]&&(null!=k&&k.u()?
h.H[5]=-1:m&&!q?h.H[5]=0:(null==k&&(k=a.Pi.Xm(b,f)),f=a.Ed.zx(k,d,e),h.H[5]=f?-1:0));h.fa[2]&&(0!=b.Rb()?h.H[2]=1:(f=new a.Dd(b.description),f.Hd(b,0,b.D()),b=a.Ed.zx(f,d,e),h.H[2]=b?-1:0))}return this.yg(h.H,h.cd)};c.cu=function(b,d,e,g){var h=new c;h.yj();h.Cj(g);h.wK();var f=new a.h;b.s(f);d=d.w();var k=!1;a.Ed.Dx(d,f,e)&&(h.uJ(),k=!0);if(!k){f=!1;k=!0;e*=e;for(var m=0;m<b.D();m++){var l=b.Ba(m);a.b.sc(l,d)<=e?f=!0:k=!1;if(f&&!k)break}f?(h.H[0]=0,h.H[2]=k?-1:0,h.H[6]=-1):(h.H[0]=-1,h.H[2]=0,h.H[6]=
0)}return c.yg(h.H,g)};c.jW=function(b,d,e,g){b=b.w();d=d.w();for(var h=[],f=0;9>f;f++)h[f]=-1;a.b.sc(b,d)<=e*e?h[0]=0:(h[2]=0,h[6]=0);h[8]=2;return c.yg(h,g)};c.yg=function(a,d){for(var b=0;9>b;b++)switch(d.charAt(b)){case "T":if(-1==a[b])return!1;break;case "F":if(-1!=a[b])return!1;break;case "0":if(0!=a[b])return!1;break;case "1":if(1!=a[b])return!1;break;case "2":if(2!=a[b])return!1}return!0};c.XW=function(b,d,c){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(b.u()&&d.u()){for(var h=0;9>h;h++)e[h]=-1;
return this.yg(e,c)}h=!1;b.u()&&(b=d,h=!0);e[0]=-1;e[1]=-1;e[3]=-1;e[4]=-1;e[6]=-1;e[7]=-1;e[8]=2;d=b.G();a.T.Hc(d)?1736==d?0!=b.ef()?(e[2]=2,e[5]=1):(e[5]=-1,d=new a.h,b.s(d),e[2]=0==d.ea()&&0==d.O()?0:1):(d=0!=b.Rb(),e[2]=d?1:0,e[5]=a.Pi.Rq(b)?0:-1):(e[2]=0,e[5]=-1);h&&this.ZK(e);return this.yg(e,c)};c.fT=function(a,d,e){return c.XL(a)?3:c.BL(a)?4:c.DL(a,d,e)?8:c.ZY(a,d,e)?16:c.HY(a)?1:c.NU(a,d,e)?32:0};c.XL=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.BL=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.DL=function(a,d,c){if(0==d&&0==c)return!1;if(2!=d||2!=c)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==d&&1==c&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=c&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.ZY=function(a,d,c){return d>c?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==d&&1==c&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.HY=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.NU=function(a,d,c){if(d==c){if(1!=d)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};c.Zu=function(a,d,c){a=d.Ia(a);for(var b=d.nf;-1!=b;b=d.ng(b))if(0!=(d.Ld(b)&a)){var e=d.gf(b);if(-1==e)d.ko(b,c,0);else{var h=e,g=0;do 0!=(d.Ah(h)&a)&&g++,h=d.qc(d.Aa(h));while(h!=e);d.ko(b,
c,g)}}};c.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};c.prototype.yj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};c.ZK=function(a){var b=a[1],c=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=c;a[7]=e};c.prototype.Cj=function(a){this.cd=a;for(a=0;9>a;a++)"*"!=this.cd.charAt(a)?(this.fa[a]=!0,this.Fe++):this.fa[a]=!1};c.prototype.zK=function(){for(var a=0;9>
a;a++)this.fa[a]&&-2==this.H[a]&&(this.H[a]=-1,this.fa[a]=!1)};c.prototype.tc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.fa[a]=!1,this.Fe--,!0;if("T"!=this.cd.charAt(a)&&"F"!=this.cd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.fa[a]=!1;this.Fe--;return!0}this.fa[a]=!1;this.Fe--;return!0};c.prototype.cK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=
!1,this.Fe--)};c.prototype.kC=function(){this.jx=1;this.Ln=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};c.prototype.DX=function(){this.jx=2;this.Ln=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};c.prototype.dK=function(){this.Ln=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};c.prototype.rK=function(){this.Ln=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);
this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};c.prototype.wK=function(){this.Ln=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[3]&&(this.H[3]=-1,this.fa[3]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[5]&&(this.H[5]=-1,this.fa[5]=
!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};c.prototype.WO=function(a,d,c){var b=!0;this.fa[0]&&(this.$T(a,d,c),b=b&&this.tc(0));this.fa[1]&&(this.tH(a,d,1),b=b&&this.tc(1));this.fa[2]&&(this.uH(a,d,c,2),b=b&&this.tc(2));this.fa[3]&&(this.tH(a,c,3),b=b&&this.tc(3));this.fa[4]&&(this.bP(a,d,c),b=b&&this.tc(4));this.fa[5]&&(this.sF(a,c,5),b=b&&this.tc(5));this.fa[6]&&(this.uH(a,c,d,6),b=b&&this.tc(6));this.fa[7]&&(this.sF(a,d,7),
b=b&&this.tc(7));return b};c.prototype.rv=function(a,d){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5));this.Bs(d,this.fa[6]?6:-1,this.cd.charAt(6),this.fa[7]?7:-1,this.cd.charAt(7))};c.prototype.Bs=function(b,d,c,e,g){if(-1!=d||-1!=e)("T"!=c&&"F"!=c&&-1!=d||"T"!=g&&"F"!=g&&-1!=e?0!=b.ef():1)?(-1!=d&&(this.H[d]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=d&&(c=new a.h,b.s(c),this.H[d]=0==c.ea()&&0==c.O()?0:
1))};c.prototype.Py=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Bs(a,this.fa[0]?0:-1,this.cd.charAt(0),this.fa[1]?1:-1,this.cd.charAt(1))};c.prototype.nF=function(a){this.Py(a);c.ZK(this.H)};c.prototype.sv=function(b,d){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[6]){var c=this.cd.charAt(6),c="T"!=c&&"F"!=c?0!=d.Rb():!0;this.H[6]=c?1:0}this.fa[7]&&(c=a.Pi.Rq(d),this.H[7]=c?0:-1);this.Bs(b,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?
5:-1,this.cd.charAt(5))};c.prototype.oF=function(b){if(this.fa[0]){var d=this.cd.charAt(0),d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.H[0]=d?1:0}this.fa[1]&&(b=a.Pi.Rq(b),this.H[1]=b?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};c.prototype.tv=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5))};c.prototype.YO=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};c.prototype.RH=
function(b,d){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[2]){var c=this.cd.charAt(2),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[2]=c?1:0}this.fa[5]&&(c=a.Pi.Rq(b),this.H[5]=c?0:-1);this.fa[6]&&(c=this.cd.charAt(6),c="T"!=c&&"F"!=c?0!=d.Rb():!0,this.H[6]=c?1:0);this.fa[7]&&(c=a.Pi.Rq(d),this.H[7]=c?0:-1)};c.prototype.JA=function(b){this.H[0]=-1;this.H[3]=-1;if(this.fa[2]){var d=this.cd.charAt(2),d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.H[2]=d?1:0}this.fa[5]&&(b=a.Pi.Rq(b),this.H[5]=b?0:-1);
this.H[6]=0};c.prototype.uJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};c.prototype.XO=function(a,d,c){var b=!0;this.fa[0]&&(this.aU(a,d),b=b&&this.tc(0));this.fa[1]&&(this.XT(a,d,c,this.Gh),b=b&&this.tc(1));this.fa[2]&&(this.YT(a,d),b=b&&this.tc(2));this.fa[3]&&(this.fP(a,d,c,this.Gh),b=b&&this.tc(3));this.fa[4]&&(this.cP(a,d,c,this.Gh),b=b&&this.tc(4));this.fa[5]&&(this.dP(a,d,c),b=b&&this.tc(5));this.fa[6]&&(this.BR(a,d),b=b&&this.tc(6));this.fa[7]&&(this.AR(a,d,c,this.Gh),b=b&&this.tc(7));
return b};c.prototype.RU=function(a,d,c){var b=!0;this.fa[0]&&(this.dU(a,d,c,this.yi,this.Gh),b=b&&this.tc(0));this.fa[1]&&(this.vH(a,d,c,this.yi,this.Gh,1),b=b&&this.tc(1));this.fa[2]&&(this.wH(a,d,c,2),b=b&&this.tc(2));this.fa[3]&&(this.vH(a,c,d,this.Gh,this.yi,3),b=b&&this.tc(3));this.fa[4]&&(this.hP(a,d,c,this.yi,this.Gh),b=b&&this.tc(4));this.fa[5]&&(this.tF(a,c,this.yi,5),b=b&&this.tc(5));this.fa[6]&&(this.wH(a,c,d,6),b=b&&this.tc(6));this.fa[7]&&(this.tF(a,d,this.Gh,7),b=b&&this.tc(7));return b};
c.prototype.pF=function(a,d,c){var b=!0;this.fa[0]&&(this.bU(a,d),b=b&&this.tc(0));this.fa[2]&&(this.ZT(a,d),b=b&&this.tc(2));this.fa[3]&&(this.gP(a,d,c),b=b&&this.tc(3));this.fa[5]&&(this.eP(a,d),b=b&&this.tc(5));this.fa[6]&&(this.CR(a,d),b=b&&this.tc(6));return b};c.prototype.SH=function(a,d,c){var b=!0;this.fa[0]&&(this.eU(a,d,c,this.yi),b=b&&this.tc(0));this.fa[2]&&(this.cU(a,c),b=b&&this.tc(2));this.fa[3]&&(this.jP(a,d,c,this.yi),b=b&&this.tc(3));this.fa[5]&&(this.iP(a,d,c,this.yi),b=b&&this.tc(5));
this.fa[6]&&(this.DR(a,d,c),b=b&&this.tc(6));return b};c.prototype.iW=function(a,d,c){var b=!0;this.fa[0]&&(this.fU(a,d,c),b=b&&this.tc(0));this.fa[2]&&(this.xH(a,d,c,2),b=b&&this.tc(2));this.fa[6]&&(this.xH(a,c,d,6),b=b&&this.tc(6));return b};c.prototype.$T=function(a,d,c){2!=this.H[0]&&(a=this.i.Bf(a),0!=(a&d)&&0!=(a&c)&&(this.H[0]=2))};c.prototype.tH=function(a,d,c){if(1!=this.H[c]){var b=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&d)&&0!=(b&d)&&(this.H[c]=1)}};c.prototype.uH=function(a,d,c,e){2!=
this.H[e]&&(a=this.i.Bf(a),0!=(a&d)&&0==(a&c)&&(this.H[e]=2))};c.prototype.bP=function(a,d,c){if(1!=this.H[4]){var b=this.i.Ah(a);0!=(b&d)&&0!=(b&c)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Ld(this.i.Uf(a)),0!=(a&d)&&0!=(a&c)&&(this.H[4]=0))}};c.prototype.sF=function(a,d,c){if(1!=this.H[c]){var b=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&d)&&0==(b&d)&&(this.H[c]=1)}};c.prototype.aU=function(a,d){if(1!=this.H[0]){var b=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&
d)&&0!=(b&d)&&(this.H[0]=1)}};c.prototype.XT=function(a,d,c,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var b=this.i.Uf(a),h=this.i.Ld(b);0==(h&d)&&0!=(this.i.Bf(a)&d)&&(a=this.i.Gg(b,e),0!=(h&c)&&0!=a%2&&(this.H[1]=0))}};c.prototype.YT=function(a,d){2!=this.H[2]&&0!=(this.i.Ah(a)&d)&&(this.H[2]=2)};c.prototype.fP=function(a,d,c,e){if(1!=this.H[3]){var b=this.i.Ah(a);0!=(b&d)&&0!=(b&c)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(b=this.i.Uf(a),
a=this.i.Ld(b),0!=(a&d)&&(d=this.i.Gg(b,e),0!=(a&c)&&0==d%2&&(this.H[3]=0)))}};c.prototype.cP=function(a,d,c,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var b=this.i.Uf(a);a=this.i.Ld(b);0!=(a&d)&&(d=this.i.Gg(b,e),0!=(a&c)&&0!=d%2&&(this.H[4]=0))}};c.prototype.dP=function(a,d,c){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&d)&&0==(a&c)&&(this.H[5]=1))};c.prototype.BR=function(a,d){if(1!=this.H[6]){var b=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&d)&&0==(b&d)&&(this.H[6]=1)}};c.prototype.AR=
function(a,d,c,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var b=this.i.Uf(a),h=this.i.Ld(b);0==(h&d)&&0==(this.i.Bf(a)&d)&&(a=this.i.Gg(b,e),0!=(h&c)&&0!=a%2&&(this.H[7]=0))}};c.prototype.dU=function(a,d,c,e,g){if(1!=this.H[0]){var b=this.i.Ah(a);0!=(b&d)&&0!=(b&c)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),b=this.i.Ld(a),0!=(b&d)&&0!=(b&c)&&(d=this.i.Gg(a,e),g=this.i.Gg(a,g),0==d%2&&0==g%2&&(this.H[0]=0)))}};c.prototype.vH=function(a,
d,c,e,g,f){if(0!=this.H[f]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var b=this.i.Ld(a);0!=(b&d)&&0!=(b&c)&&(d=this.i.Gg(a,e),g=this.i.Gg(a,g),0==d%2&&0!=g%2&&(this.H[f]=0))}};c.prototype.wH=function(a,d,c,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&d)&&0==(a&c)&&(this.H[e]=1))};c.prototype.hP=function(a,d,c,e,g){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var b=this.i.Ld(a);0!=(b&d)&&0!=(b&c)&&(d=this.i.Gg(a,e),g=this.i.Gg(a,g),0!=d%2&&0!=g%2&&(this.H[4]=
0))}};c.prototype.tF=function(a,d,c,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),0==(this.i.Ld(a)&d)&&0!=this.i.Gg(a,c)%2&&(this.H[e]=0))};c.prototype.bU=function(a,d){0!=this.H[0]&&0==(this.i.Ld(a)&d)&&0!=(this.i.Kk(this.i.Nz(a))&d)&&(this.H[0]=0)};c.prototype.ZT=function(a,d){2!=this.H[2]&&0!=(this.i.Ld(a)&d)&&(this.H[2]=2)};c.prototype.gP=function(a,d,c){0!=this.H[3]&&(a=this.i.Ld(a),0!=(a&d)&&0!=(a&c)&&(this.H[3]=0))};c.prototype.eP=function(a,d){1!=this.H[5]&&
0!=(this.i.Ld(a)&d)&&(this.H[5]=1)};c.prototype.CR=function(a,d){0!=this.H[6]&&0==(this.i.Ld(a)&d)&&0==(this.i.Kk(this.i.Nz(a))&d)&&(this.H[6]=0)};c.prototype.eU=function(a,d,c,e){if(0!=this.H[0]){var b=this.i.Ld(a);0!=(b&d)&&0!=(b&c)&&0==this.i.Gg(a,e)%2&&(this.H[0]=0)}};c.prototype.cU=function(a,d){1!=this.H[2]&&(-1!=this.i.gf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Ld(a)&d)&&(this.H[2]=0))};c.prototype.jP=function(a,d,c,e){if(0!=this.H[3]){var b=this.i.Ld(a);0!=(b&d)&&0!=(b&c)&&0!=this.i.Gg(a,
e)%2&&(this.H[3]=0)}};c.prototype.iP=function(a,d,c,e){if(0!=this.H[5]){var b=this.i.Ld(a);0!=(b&d)&&0==(b&c)&&0!=this.i.Gg(a,e)%2&&(this.H[5]=0)}};c.prototype.DR=function(a,d,c){0!=this.H[6]&&(a=this.i.Ld(a),0==(a&d)&&0!=(a&c)&&(this.H[6]=0))};c.prototype.fU=function(a,d,c){0!=this.H[0]&&(a=this.i.Ld(a),0!=(a&d)&&0!=(a&c)&&(this.H[0]=0))};c.prototype.xH=function(a,d,c,e){0!=this.H[e]&&(a=this.i.Ld(a),0!=(a&d)&&0==(a&c)&&(this.H[e]=0))};c.prototype.tq=function(b,d){var c=!1;b=this.i.Ia(b);d=this.i.Ia(d);
this.wj=this.i.xh();for(var e=this.i.nf;-1!=e;e=this.i.ng(e)){var g=this.i.gf(e);if(-1==g){if(-1!=this.Ln)switch(this.Ln){case 3:c=this.pF(e,b,d);break;case 4:c=this.SH(e,b,d);break;default:throw a.g.X("internal error");}}else{var f=g;do{var k=f;if(1!=this.i.Kb(k,this.wj)){do{switch(this.jx){case 0:c=this.WO(k,b,d);break;case 1:c=this.XO(k,b,d);break;case 2:c=this.RU(k,b,d);break;default:throw a.g.X("internal error");}if(c)break;this.i.Ob(k,this.wj,1);k=this.i.qc(k)}while(k!=f&&!c)}if(c)break;f=this.i.qc(this.i.Aa(k))}while(f!=
g);if(c)break}}c||this.zK();this.i.oi(this.wj)};c.prototype.jz=function(b,d){var c=!1;b=this.i.Ia(b);d=this.i.Ia(d);for(var e=this.i.nf;-1!=e;e=this.i.ng(e)){switch(this.Ln){case 3:c=this.pF(e,b,d);break;case 4:c=this.SH(e,b,d);break;case 5:c=this.iW(e,b,d);break;default:throw a.g.za();}if(c)break}c||this.zK()};c.prototype.Xr=function(a,d){this.i.Vr(a,d)};c.prototype.Mp=function(a,d,c){this.tR(a,d,c);this.Xr(a,c)};c.prototype.tR=function(b,d,c){a.vk.V(b,d,c,!1);b.zq(0,!0,!0);for(d=b.qd;-1!=d;d=b.Re(d))1736==
b.ic(d)&&a.so.V(b,d,-1,!1,c)};c.bG=function(b,d){var c=b.G();if(a.T.Nc(c))return c=new a.Ua(b.description),c.cc(b,!0),c;if(197==c){c=new a.h;b.s(c);if(c.ea()<=d&&c.O()<=d)return c=new a.Wa(b.description),b.Tf(c),c;if(c.ea()<=d||c.O()<=d)return c=new a.Ua(b.description),d=new a.Wa,b.gg(0,d),c.Of(d),b.gg(2,d),c.lineTo(d),c;c=new a.Ja(b.description);c.hd(b,!1);return c}return b};return c}();a.Tm=e})(y||(y={}));(function(a){var e=function(){function b(b){this.yn=new a.ha(0);this.Rw=new a.ha(0);this.ou=
new a.b;this.pu=new a.b;this.a=b;this.Ft=-1}b.prototype.jc=function(a){return this.a.jc(this.mA(a))};b.prototype.ow=function(a){var b=this.Uz(a);a=this.KG(a);if(this.a.Ra(b)==a){var d=b,b=a;a=d}this.a.Mc(b,this.ou);this.a.Mc(a,this.pu);return this.ou.y<this.pu.y};b.prototype.mA=function(a){var b=this.Uz(a);a=this.KG(a);return this.a.U(b)==a?b:a};b.prototype.Uz=function(a){return this.yn.get(a)};b.prototype.KG=function(a){return this.Rw.get(a)};b.prototype.vG=function(a){this.yn.set(a,this.Ft);this.Ft=
a};b.prototype.kJ=function(b){if(-1!=this.Ft){var d=this.Ft;this.Ft=this.yn.get(d);this.yn.set(d,b);this.Rw.set(d,this.a.U(b));return d}null==this.yn&&(this.yn=new a.ha(0),this.Rw=new a.ha(0));d=this.yn.size;this.yn.add(b);this.Rw.add(this.a.U(b));return d};b.prototype.fA=function(a){return this.a.kd(this.Uz(a))};return b}();a.mZ=e;var g=function(){function b(b){this.Ze=b;this.Ce=new a.Hb;this.Gn=new a.Hb;this.EI=0;this.up=null;this.hB=-1}b.prototype.compare=function(a,b,c){c=a.ia(c);var d=this.Ze.ib,
e;this.hB==b?e=this.EI:(this.up=d.jc(b),null==this.up?(a=d.a,a.nd(d.mA(b),this.Ce),this.up=this.Ce,e=this.Ce.kf(this.Ze.Xh,0)):e=this.up.kf(this.Ze.Xh,0),this.EI=e,this.hB=b);a=d.jc(c);var h;null==a?(a=d.a,a.nd(d.mA(c),this.Gn),a=this.Gn,h=this.Gn.kf(this.Ze.Xh,0)):h=a.kf(this.Ze.Xh,0);e==h&&(b=d.ow(b),c=d.ow(c),c=Math.min(b?this.up.oa:this.up.ra,c?a.oa:a.ra),b=.5*(c+this.Ze.Xh),b==this.Ze.Xh&&(b=c),e=this.up.kf(b,0),h=a.kf(b,0));return e<h?-1:e>h?1:0};b.prototype.reset=function(){this.hB=-1};return b}(),
c=function(){function b(){this.Qn=this.om=null;this.hb=new a.xk;this.hb.kR();this.te=new g(this);this.hb.Lp(this.te)}b.prototype.WR=function(){var b=!1;this.Vw&&(b=this.XR());if(1==this.a.aa(this.Y)){var c=this.a.Pb(this.Y),b=this.a.jA(c);this.a.rC(c,!0);return 0>b?(b=this.a.cb(c),this.a.UJ(b),this.a.rh(c,this.a.Ra(b)),!0):!1}this.mm=this.a.pz();this.qp=this.a.pz();for(c=this.a.Pb(this.Y);-1!=c;c=this.a.Sb(c))this.a.Zr(c,this.mm,0),this.a.Zr(c,this.qp,-1);c=new a.ha(0);this.Xh=NaN;var e=new a.b;this.Zt=
this.a.aa(this.Y);this.lp=this.a.Sd();this.Ot=this.a.Sd();for(var g=this.om.wc(this.om.De);-1!=g;g=this.om.nb(g)){var f=this.om.getData(g);this.a.Mc(f,e);e.y!=this.Xh&&0!=c.size&&(b=this.lu(c)||b,this.te.reset(),c.clear(!1));c.add(f);this.Xh=e.y;if(0==this.Zt)break}0<this.Zt&&(b=this.lu(c)||b,c.clear(!1));this.a.je(this.lp);this.a.je(this.Ot);for(c=this.a.Pb(this.Y);-1!=c;)if(3==this.a.Xj(c,this.mm)){this.a.rC(c,!0);e=c;for(c=this.a.Xj(c,this.qp);-1!=c;)g=this.a.Xj(c,this.qp),this.a.BV(this.Y,this.a.Sb(e),
c),e=c,c=g;c=this.a.Sb(e)}else this.a.rC(c,!1),c=this.a.Sb(c);this.a.eC(this.mm);this.a.eC(this.qp);return b};b.prototype.lu=function(a){return this.vW(a)};b.prototype.vW=function(b){var c=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Qn?(this.Qn=new a.ha(0),this.Qn.zb(16)):this.Qn.clear(!1);this.uW(b);for(var d=0,g=b.size;d<g;d++){var f=b.get(d);-1!=f&&this.qH(f,-1)}for(d=0;d<this.Qn.size&&0<this.Zt;d++)if(b=this.Qn.get(d),f=this.ib.fA(this.hb.ia(b)),g=-1,0==this.a.Xj(f,this.mm)){for(var f=
this.hb.Se(b),k=b,l;-1!=f;){var n=this.hb.ia(f),p=this.ib.fA(n),r=this.a.Xj(p,this.mm);if(0!=r){g=p;break}k=f;f=this.hb.Se(f)}-1==f?(l=!0,f=k):(n=this.hb.ia(f),l=this.ib.ow(n),f=this.hb.nb(f),l=!l);do{n=this.hb.ia(f);p=this.ib.fA(n);r=this.a.Xj(p,this.mm);if(0==r&&(l!=this.ib.ow(n)&&(c=this.a.cb(p),this.a.UJ(c),this.a.rh(p,this.a.Ra(c)),c=!0),this.a.Zr(p,this.mm,l?3:2),l||(k=this.a.Xj(g,this.qp),this.a.Zr(g,this.qp,p),this.a.Zr(p,this.qp,k)),this.Zt--,0==this.Zt))return c;g=p;k=f;f=this.hb.nb(f);
l=!l}while(k!=b)}return c};b.prototype.uW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.a.Sa(d,this.lp),g=this.a.Sa(d,this.Ot);if(-1!=e){var f=this.hb.ia(e);this.ib.vG(f);this.a.Va(d,this.lp,-1)}-1!=g&&(f=this.hb.ia(g),this.ib.vG(f),this.a.Va(d,this.Ot,-1));f=-1;-1!=e&&-1!=g?(this.hb.Jd(e,-1),this.hb.Jd(g,-1),a.set(b,-1)):f=-1!=e?e:g;-1!=f&&(this.qH(d,f)||this.hb.Jd(f,-1),a.set(b,-1))}};b.prototype.qH=function(b,c){var d=new a.b,e=new a.b;this.a.Mc(b,d);var h=this.a.U(b);this.a.Mc(h,
e);var g=!1;if(d.y<e.y){var g=!0,f=this.ib.kJ(b),k;-1==c?k=this.hb.addElement(f,-1):(k=c,this.hb.pk(k,f));f=this.a.Sa(h,this.lp);-1==f?this.a.Va(h,this.lp,k):this.a.Va(h,this.Ot,k);h=this.a.kd(b);0==this.a.Xj(h,this.mm)&&this.Qn.add(k)}h=this.a.Ra(b);this.a.Mc(h,e);d.y<e.y&&(g=!0,f=this.ib.kJ(h),-1==c?k=this.hb.addElement(f,-1):(k=c,this.hb.pk(k,f)),f=this.a.Sa(h,this.lp),-1==f?this.a.Va(h,this.lp,k):this.a.Va(h,this.Ot,k),h=this.a.kd(b),0==this.a.Xj(h,this.mm)&&this.Qn.add(k));return g};b.V=function(a,
c,e,g){var d=new b;d.a=a;d.Y=c;d.om=e;d.Vw=g;return d.WR()};b.prototype.XR=function(){var b=new a.ha(0),c=new a.ha(0),e=-1,g=-1,f=new a.b;f.Yc();for(var k=-1,l=-1,n=-1,p=new a.b,r=this.om.wc(this.om.De);-1!=r;r=this.om.nb(r)){var t=this.om.getData(r);this.a.Mc(t,p);var u=this.a.kd(t);f.vb(p)&&l==u?(-1==g&&(e=this.a.pz(),g=this.a.Sd()),-1==n&&(n=c.size,this.a.Va(k,g,n),c.add(1),-1==this.a.Xj(u,e)&&(this.a.Zr(u,e,k),b.add(u))),this.a.Va(t,g,n),c.qK(c.Ec()+1)):(n=-1,f.L(p));k=t;l=u}if(0==b.size)return!1;
f=new a.ha(0);k=new a.ha(0);l=0;for(n=b.size;l<n;l++){var u=b.get(l),w=this.a.Xj(u,e),t=this.a.Sa(w,g);f.clear(!1);k.clear(!1);f.add(w);k.add(t);for(t=this.a.U(w);t!=w;t=this.a.U(t)){var v=t,p=this.a.Sa(v,g);if(-1!=p)if(0==k.size)k.add(p),f.add(v);else if(k.Ec()==p){var r=f.Ec(),x=this.a.U(r),w=this.a.U(v);this.a.Jc(r,w);this.a.Kc(w,r);this.a.Jc(v,x);this.a.Kc(x,v);v=[!1];x=this.a.pH(this.Y,x,this.a.cb(u),v);this.a.Va(t,g,-1);v[0]&&this.a.ig(u,w);t=this.a.La(u);w=this.a.La(x);t-=w;this.a.sk(u,t);
c.set(p,c.get(p)-1);1==c.get(p)&&(c.set(p,0),k.Mf(),f.Mf());t=w=r}else f.add(t),k.add(p)}}this.a.eC(e);this.a.je(g);return!0};return b}();a.sN=c})(y||(y={}));(function(a){var e=function(){function e(){}e.prototype.Bg=function(){this.xB=this.xb=null};e.prototype.get=function(){return this.xB};e.prototype.set=function(c){this.xB=c;if(null!=c)throw 322==c.G()&&(this.xb=c),a.g.za();};e.prototype.create=function(c){if(322==c)this.Hs();else throw a.g.X("Not Implemented");};e.prototype.Hs=function(){null==
this.xb&&(this.xb=new a.Hb);this.xB=this.xb};return e}();a.Bg=e})(y||(y={}));(function(a){a=a.wN||(a.wN={});a[a.enumLineSeg=1]="enumLineSeg";a[a.enumBezierSeg=2]="enumBezierSeg";a[a.enumArcSeg=4]="enumArcSeg";a[a.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";a[a.enumSegmentMask=7]="enumSegmentMask";a[a.enumDensified=8]="enumDensified"})(y||(y={}));(function(a){var e=function(){return function(a){this.Aj=a;this.VC=this.WC=1;this.WB=this.VB=this.XB=0}}(),g=function(){function c(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.fl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.ag=new a.Wa;this.ta=this.sx=0;this.gp=[];this.Wt=[];this.mx=[];this.yr=[];this.uB=[]}c.prototype.ZB=function(a){if(null!=a){for(var b=0,c=a.length;b<c;b++)this.VW(a[b]);a.length=0}};c.prototype.VW=function(a){a.Aj=null;this.yr.push(a)};c.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.Aj=a,--this.yr.length;return b};c.prototype.lT=function(a,c){return 0==a?this.Wt[c]:this.mx[c]};
c.prototype.JB=function(){this.sx>=this.uB.length&&this.uB.push(new a.Bg);var b=this.uB[this.sx];this.sx++;return b};c.prototype.clear=function(){this.ZB(this.gp);this.ZB(this.Wt);this.ZB(this.mx);this.sx=0};c.prototype.Hp=function(a){this.gp.push(this.Ax(a))};c.prototype.Wl=function(a){return 0==a?this.Wt.length:this.mx.length};c.prototype.Mq=function(a,c){return this.lT(a,c).Aj};c.prototype.Ma=function(b,c){if(2!=this.gp.length)throw a.g.za();this.ta=b;var d=a.Ub.Yx(.01*b),e=!1,g=this.gp[0],f=this.gp[1];
if(c||0!=(g.Aj.ws(f.Aj,b,!0)&5)){if(322==g.Aj.G()&&(c=g.Aj,322==f.Aj.G())){var k=f.Aj,l=a.Hb.Cy(c,k,null,this.vr,this.fl,b);if(0==l)throw a.Hb.Cy(c,k,null,this.vr,this.fl,b),a.g.za();b=Array(9);a.J.Ov(b,null);for(var n=0;n<l;n++){var p=this.vr[n],r=this.fl[n],t=g.WB,u=1;0==p?(t=g.XB,u=g.WC):1==p&&(t=g.VB,u=g.VC);var w=f.WB,v=1;0==r?(w=f.XB,v=f.WC):1==r&&(w=f.VB,v=f.VC);var x=new a.b;t==w?(t=new a.b,c.hc(p,t),p=new a.b,k.hc(r,p),r=u+v,v/=r,a.Ub.QH(t,p,v,x),a.b.sc(x,t)+a.b.sc(x,p)>d&&(e=!0)):t>w?(c.hc(p,
x),p=new a.b,k.hc(r,p),a.b.sc(x,p)>d&&(e=!0)):(k.hc(r,x),t=new a.b,c.hc(p,t),a.b.sc(x,t)>d&&(e=!0));b[n]=x}g=0;f=-1;for(n=0;n<=l;n++)v=n<l?this.vr[n]:1,v!=g&&(d=this.JB(),c.yh(g,v,d),-1!=f&&d.get().Lc(b[f]),n!=l&&d.get().Xc(b[n]),g=v,this.Wt.push(this.Ax(d.get()))),f=n;c=[0,0,0,0,0,0,0,0,0];for(n=0;n<l;n++)c[n]=n;1<l&&this.fl[0]>this.fl[1]&&(v=this.fl[0],this.fl[0]=this.fl[1],this.fl[1]=v,n=c[0],c[0]=c[1],c[1]=n);g=0;f=-1;for(n=0;n<=l;n++)v=n<l?this.fl[n]:1,v!=g&&(d=this.JB(),k.yh(g,v,d),-1!=f&&(g=
c[f],d.get().Lc(b[g])),n!=l&&(g=c[n],d.get().Xc(b[g])),g=v,this.mx.push(this.Ax(d.get()))),f=n;return e}throw a.g.za();}return!1};c.prototype.vA=function(b,c,e){c.copyTo(this.ag);if(1!=this.gp.length)throw a.g.za();this.ta=b;var d=this.gp[0];if(e||d.Aj.fv(c.w(),b,!0))if(322==d.Aj.G()){b=d.Aj;var h=b.ne(c.w(),!1);this.vr[0]=h;var g=d.WB;e=1;0==h?(g=d.XB,e=d.WC):1==h&&(g=d.VB,e=d.VC);d=new a.b;0==g?(g=new a.b,b.hc(h,g),c=c.w(),a.Ub.QH(g,c,1/(e+1),d)):0<g?(d=new a.b,b.hc(h,d)):d=c.w();e=0;h=-1;for(g=
0;1>=g;g++){c=1>g?this.vr[g]:1;if(c!=e){var f=this.JB();b.yh(e,c,f);-1!=h&&f.get().Lc(d);1!=g&&f.get().Xc(d);e=c;this.Wt.push(this.Ax(f.get()))}h=g}this.ag.rb(d)}else throw a.g.za();};return c}();a.jE=g})(y||(y={}));(function(a){var e=function(){function e(c){this.Bt=this.Vk=this.xb=null;this.lm=this.sf=this.bd=this.We=this.Ph=this.Ta=0;this.bb=null;this.Xl=this.sn=!1;this.We=-1;this.Ph=this.bd=0;this.Ta=-1;this.bb=c;this.sf=this.us(this.Ph);this.sn=!1;this.Vk=null;this.lm=-1;this.Xl=!1;this.Bt=new a.b}
e.Nm=function(c,b){if(0>b||b>=c.D())throw a.g.vd();var d=new e(c),h=c.cw(b);d.bd=b-c.wa(h);d.Ph=h+1;d.Ta=h;d.sf=d.us(d.Ta);d.lm=d.bb.wa(d.Ta);d.Xl=d.bb.Qb(d.Ta);return d};e.Mm=function(c,b,d){if(0>b||b>=c.aa()||0>d)throw a.g.vd();var h=c.Qb(b)?0:1;if(d>=c.La(b)-h)throw a.g.vd();c=new e(c);c.We=-1;c.bd=d;c.Ta=b;c.Ph=c.bd+1;c.sf=c.us(c.Ph);c.lm=c.bb.wa(c.Ta);c.Xl=c.bb.Qb(c.Ta);return c};e.prototype.cX=function(c){if(this.bb!=c.bb)throw a.g.Da();this.We=c.We;this.bd=c.bd;this.Ta=c.Ta;this.Ph=c.Ph;this.sf=
c.sf;this.sn=c.sn;this.lm=c.lm;this.Vk=null;this.Xl=c.Xl};e.prototype.ba=function(){this.We!=this.bd&&this.TE();if(this.sn)this.bd=(this.bd+1)%this.sf;else{if(this.bd==this.sf)throw a.g.vd();this.bd++}return this.Vk};e.prototype.Mi=function(){if(this.sn)this.bd=(this.sf+this.bd-1)%this.sf;else{if(0==this.bd)throw a.g.vd();this.bd--}this.bd!=this.We&&this.TE();return this.Vk};e.prototype.dX=function(){this.We=-1;this.bd=0};e.prototype.eX=function(){this.bd=this.sf;this.We=-1};e.prototype.Tb=function(a,
b){void 0===b&&(b=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.jO();if(a>=c&&a<this.bb.Fc(this.Ta)){this.We=-1;this.bd=a-c;return}}c=0<=b&&b<this.bb.aa()&&a>=this.bb.wa(b)&&a<this.bb.Fc(b)?b:this.bb.cw(a);this.Ph=c+1;this.Ta=c;this.We=-1;this.bd=a-this.bb.wa(c);this.sf=this.us(c);this.lm=this.bb.wa(this.Ta);this.Xl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Ph;if(this.Ta>=this.bb.aa())return!1;this.We=-1;this.bd=0;this.sf=this.us(this.Ta);this.lm=this.bb.wa(this.Ta);this.Xl=
this.bb.Qb(this.Ta);this.Ph++;return!0};e.prototype.zj=function(){this.sf=this.bd=this.We=-1;this.Ph=0;this.Ta=-1;this.Xl=!1;this.lm=-1};e.prototype.hC=function(c){if(0>c)throw a.g.vd();this.Ph=c;this.lm=this.sf=this.bd=this.We=this.Ta=-1;this.Xl=!1};e.prototype.us=function(a){if(this.bb.Gc())return 0;var b=1;this.bb.Qb(a)&&(b=0);return this.bb.La(a)-b};e.prototype.Lo=function(){return this.We==this.sf-1&&this.bb.Qb(this.Ta)};e.prototype.mC=function(){this.sn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.We};e.prototype.jO=function(){return this.bb.wa(this.Ta)};e.prototype.Lk=function(){return this.Lo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.pn=function(){return 0==this.We};e.prototype.Oo=function(){return this.We==this.sf-1};e.prototype.Ea=function(){return this.bd<this.sf};e.prototype.rA=function(){return 0<this.bd};e.prototype.Sf=function(){var a=new e(this.bb);a.We=this.We;a.bd=this.bd;a.sf=this.sf;a.Ta=this.Ta;a.Ph=this.Ph;a.bb=this.bb;a.sn=this.sn;return a};e.prototype.TE=function(){if(0>
this.bd||this.bd>=this.sf)throw a.g.vd();this.We=this.bd;var c=this.Db();this.bb.vc();var b=this.bb.$e,d=1;null!=b&&(d=b.read(c)&7);b=this.bb.description;switch(d){case 1:null==this.xb&&(this.xb=new a.Hb);this.Vk=this.xb;break;case 2:throw a.g.X("internal error");case 4:throw a.g.za();default:throw a.g.za();}this.Vk.Eg(b);d=this.Lk();this.bb.Mc(c,this.Bt);this.Vk.Lc(this.Bt);this.bb.Mc(d,this.Bt);this.Vk.Xc(this.Bt);for(var e=1,g=b.Ga;e<g;e++)for(var f=b.pd(e),k=a.ma.Xa(f),l=0;l<k;l++){var n=this.bb.Wc(f,
c,l);this.Vk.Tx(f,l,n);n=this.bb.Wc(f,d,l);this.Vk.Lx(f,l,n)}};e.prototype.vU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Mo=function(){var a=this.bb.oT();return null!=a?1!=(a.read(this.We)&7):!1};return e}();a.xN=e})(y||(y={}));(function(a){var e=function(){function e(c){c instanceof a.T?(this.wI=c,this.Ca=-1,this.ej=1):(this.ZU=c.slice(0),this.Ca=-1,this.ej=c.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.ej-1?(this.Ca++,null!=this.wI?
this.wI:this.ZU[this.Ca]):null};e.prototype.Oe=function(){return!0};return e}();a.gd=e})(y||(y={}));(function(a){var e=function(){return function(){this.next=null}}(),g=function(){function c(){this.Lr=this.wx=this.xx=this.Sk=this.bi=0;this.rG=!1;this.LK=0;this.co=this.jg=this.Jm=this.ii=null;this.ym=0;this.Zy=null;this.Sk=this.bi=-1}c.prototype.$X=function(b,c,e){this.bi=b;this.Sk=c;this.ii=this.Jm=null;this.Lr=0;this.Zy=e;null==this.co&&(this.co=a.J.df(384,0));this.OK()};c.prototype.O=function(){return this.bi};
c.prototype.ea=function(){return this.Sk};c.prototype.flush=function(){0<this.ym&&(this.Zy.nG(this.co,this.ym),this.ym=0)};c.prototype.OK=function(){if(0<this.Lr){for(var a=0;a<this.Sk;a++){for(var c=this.Jm[a];null!=c;){var e=c,c=c.next;e.next=null}this.Jm[a]=null}this.ii=null}this.xx=this.Sk;this.wx=-1;this.Lr=0};c.prototype.MJ=function(a){this.rG=a==c.ly;for(a=this.xx;a<=this.wx;a++)this.QO(),this.HO(a),this.vR();this.OK()};c.prototype.Ny=function(b,c,h,g){if(c!=g){var d=1;c>g&&(d=b,b=h,h=d,d=
c,c=g,g=d,d=-1);if(!(0>g||c>=this.Sk)){0>b&&0>h?h=b=-1:b>=this.bi&&h>=this.bi&&(h=b=this.bi);var f=(h-b)/(g-c);g>this.Sk&&(g=this.Sk,h=f*(g-c)+b);0>c&&(b=f*(0-c)+b,c=0);var k=Math.max(this.bi+1,8388607);-8388607>b?(c=(0-b)/f+c,b=0):b>k&&(c=(this.bi-b)/f+c,b=this.bi);-8388607>h?g=(0-b)/f+c:h>k&&(g=(this.bi-b)/f+c);c=a.J.truncate(c);g=a.J.truncate(g);c!=g&&(h=new e,h.x=a.J.truncate(4294967296*b),h.y=c,h.B=g,h.oR=a.J.truncate(4294967296*f),h.dir=d,null==this.Jm&&(this.Jm=a.J.df(this.Sk,null)),h.next=
this.Jm[h.y],this.Jm[h.y]=h,h.y<this.xx&&(this.xx=h.y),h.B>this.wx&&(this.wx=h.B),this.Lr++)}}};c.prototype.QO=function(){if(null!=this.ii){for(var a=!1,c=null,e=this.ii;null!=e;)if(e.y++,e.y==e.B){var g=e,e=e.next;null!=c?c.next=e:this.ii=e;g.next=null}else e.x+=e.oR,null!=c&&c.x>e.x&&(a=!0),c=e,e=e.next;a&&(this.ii=this.KK(this.ii))}};c.prototype.HO=function(a){if(!(a>=this.Sk)){var b=this.Jm[a];if(null!=b){this.Jm[a]=null;b=this.KK(b);this.Lr-=this.LK;a=this.ii;for(var c=!0,e=b,g=null;null!=a&&
null!=e;)a.x>e.x?(c&&(this.ii=e),c=e.next,e.next=a,null!=g&&(g.next=e),g=e,e=c):(c=a.next,a.next=e,null!=g&&(g.next=a),g=a,a=c),c=!1;null==this.ii&&(this.ii=b)}}};c.tE=function(a,c){return 0>a?0:a>c?c:a};c.prototype.vR=function(){if(null!=this.ii)for(var b=0,d=this.ii,e=a.J.truncate(a.J.UH(d.x)),g=d.next;null!=g;g=g.next)if(b=this.rG?b^1:b+g.dir,g.x>d.x){var f=a.J.truncate(a.J.UH(g.x));0!=b&&(d=c.tE(e,this.bi),e=c.tE(f,this.bi),e>d&&d<this.bi&&(this.co[this.ym++]=d,this.co[this.ym++]=e,this.co[this.ym++]=
g.y,this.ym==this.co.length&&(this.Zy.nG(this.co,this.ym),this.ym=0)));d=g;e=f}};c.prototype.KK=function(b){for(var d=0,e=b;null!=e;e=e.next)d++;this.LK=d;if(1==d)return b;null==this.jg?this.jg=a.J.df(Math.max(d,16),null):this.jg.length<d&&(this.jg=a.J.df(Math.max(d,2*this.jg.length),null));for(var g=0,e=b;null!=e;e=e.next)this.jg[g++]=e;2==d?this.jg[0].x>this.jg[1].x&&(b=this.jg[0],this.jg[0]=this.jg[1],this.jg[1]=b):c.GW(this.jg,d,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});b=this.jg[0];
this.jg[0]=null;e=b;for(g=1;g<d;g++)e.next=this.jg[g],e=this.jg[g],this.jg[g]=null;e.next=null;return b};c.GW=function(a,c,e){if(c==a.length)a.sort(e);else{var b=a.slice(0,0),d=a.slice(c);c=a.slice(0,c).sort(e);a.length=0;a.push.apply(a,b.concat(c).concat(d))}};c.ly=0;c.vZ=1;return c}();a.vy=g})(y||(y={}));(function(a){var e=function(){function e(){}e.prototype.Si=function(a,b){var c=this.a.Sa(a,this.Fr);this.km==c&&(this.km=this.Je.nb(this.km));this.ap==c&&(this.ap=this.Je.nb(this.ap));this.Je.jd(this.zB,
c);this.Bk(a);if(b&&(c=this.a.kd(a),-1!=c&&this.a.cb(c)==a)){b=this.a.U(a);if(b!=a){var e=this.a.kd(b);if(e==c){this.a.ig(c,b);return}b=this.a.Ra(a);if(b!=a&&(e=this.a.kd(b),e==c)){this.a.ig(c,b);return}}this.a.ig(c,-1);this.a.rh(c,-1)}};e.prototype.JE=function(){for(var c=!1,b=0,d=new a.b;;){b++;null==this.wi?(this.wi=new a.ha(0),this.xt=new a.ha(0),this.Ue=new a.ha(0)):(this.wi.clear(!1),this.xt.clear(!1),this.Ue.clear(!1));for(var e=this.ap,g=0,f=!0;e!=this.km;){var k=this.Je.getData(e),l=new a.b;
this.a.Mc(k,l);f&&(this.a.Mc(k,d),f=!1);var l=this.a.Ra(k),n=this.a.U(k);-559038737!=this.a.Sa(l,this.Sg)&&(this.wi.add(l),this.a.Va(l,this.Sg,-559038737),this.xt.add(k),this.Ue.add(g++));-559038737!=this.a.Sa(n,this.Sg)&&(this.wi.add(n),this.a.Va(n,this.Sg,-559038737),this.xt.add(k),this.Ue.add(g++));e=this.Je.nb(e)}if(2>this.wi.size)break;var p=this;this.Ue.Fd(0,this.Ue.size,function(a,b){return p.bO(a,b)});e=0;for(g=this.Ue.size;e<g;e++)f=this.Ue.get(e),f=this.wi.get(f),this.a.Va(f,this.Sg,e),
l=new a.b,this.a.Mc(f,l);l=this.oO(d);e=0;for(g=this.Ue.size;e<g;e++)f=this.Ue.get(e),-1!=f&&(f=this.wi.get(f),this.a.Va(f,this.Sg,-1));if(l)c=!0;else break}return c};e.prototype.oO=function(a){for(var b=!1,c=!0;c;){var c=!1,e=0;-1==this.Ue.get(e)&&(e=this.Vm(e));for(var g=this.Vm(e),f=0,k=this.Ue.size;f<k&&-1!=e&&-1!=g&&e!=g;f++){var l=this.Ue.get(e),g=this.Ue.get(g),l=this.wi.get(l),g=this.wi.get(g),n=this.a.U(l);this.a.qw(n,a)||(n=this.a.Ra(l));var p=this.a.U(g);this.a.qw(p,a)||(p=this.a.Ra(g));
var r=this.dv(n,l),t=this.dv(p,g),u=r?this.a.Ra(n):this.a.U(n),w=t?this.a.Ra(p):this.a.U(p),v=!1;this.mq(n)?v=!0:this.mq(p)?v=!0:this.mq(l)?v=!0:this.mq(g)?v=!0:this.mq(u)?v=!0:this.mq(w)&&(v=!0);!v&&this.a.Uq(l,g)&&(v=!0,this.ME(r,t,n,l,p,g));!v&&this.a.Uq(u,w)&&(v=!0,this.ME(!r,!t,n,u,p,w));v&&(b=!0);c=c||v;e=this.Vm(e);g=this.Vm(e)}}if(!b)for(e=0,-1==this.Ue.get(e)&&(e=this.Vm(e)),g=this.Vm(e),f=0,k=this.Ue.size;f<k&&-1!=e&&-1!=g&&e!=g;f++)l=this.Ue.get(e),g=this.Ue.get(g),l=this.wi.get(l),g=this.wi.get(g),
n=this.a.U(l),this.a.qw(n,a)||(n=this.a.Ra(l)),p=this.a.U(g),this.a.qw(p,a)||(p=this.a.Ra(g)),r=this.dv(n,l),t=this.dv(p,g),u=r?this.a.Ra(n):this.a.U(n),w=t?this.a.Ra(p):this.a.U(p),this.fO(r,t,l,n,u,g,p,w)&&(b=!0),e=this.Vm(e),g=this.Vm(e);return b};e.prototype.rO=function(){1736==this.a.ic(this.Y)&&1==this.a.Eo(this.Y)&&(new a.Cg).cW(this.Vw,this.a,this.Y,this.ie);var c=!1,b=!0;this.Sg=this.Fr=-1;var d=this.a.D(this.Y),e=new a.ha(0);e.zb(d);for(var g=this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g))for(var f=
this.a.cb(g),k=0,l=this.a.La(g);k<l;k++)e.add(f),f=this.a.U(f);var n=this.a.Cd.f,p=this.a.Cd.dd;this.a.yb.vc();var r=this.a.yb.ya[0].f;e.Fd(0,d,function(a,b){var c=n[p*a],d=n[p*b],e=r[2*c],c=r[2*c+1],h=r[2*d],d=r[2*d+1],e=c<d?-1:c>d?1:e<h?-1:e>h?1:0;0==e&&(e=n[p*a+3],d=n[p*b+3],e=e<d?-1:e==d?0:1);return e});this.Fr=this.a.Sd();this.Je=new a.cq;this.zB=this.Je.ni(0);this.Je.ao(d);for(g=0;g<d;g++)f=e.get(g),k=this.Je.addElement(this.zB,f),this.a.Va(f,this.Fr,k);this.Sg=this.a.Sd();this.km=-1;for(this.AE()&&
(c=!0);b;){b=!1;d=0;e=!1;do{e=!1;this.ap=-1;for(var l=0,g=new a.b,k=new a.b,t=this.Je.wc(this.zB);-1!=t;)f=this.Je.getData(t),-1!=this.ap?(this.a.Mc(f,k),g.vb(k))?l++:(g.L(k),this.km=t,0<l&&(f=this.JE())&&(e=!0,-1!=this.km&&(f=this.Je.getData(this.km),this.a.Mc(f,g))),this.ap=t=this.km,l=0):(this.ap=t,this.a.Mc(this.Je.getData(t),g),l=0),-1!=t&&(t=this.Je.nb(t));this.km=-1;0<l&&(f=this.JE())&&(e=!0);if(10<d++)throw a.g.za();e&&this.iO();this.AE()&&(e=!0);b=b||e&&!1;c=c||e}while(e)}this.a.je(this.Fr);
this.a.je(this.Sg);return c=a.sN.V(this.a,this.Y,this.Je,this.Vw)||c};e.prototype.dv=function(a,b){return this.a.U(b)==a?!1:!0};e.prototype.fO=function(a,b,d,e,g,f,k,l){if(e==k)return this.Bk(d),this.Bk(f),!1;var c=this.a.Sa(d,this.Sg),h=this.a.Sa(g,this.Sg),m=this.a.Sa(f,this.Sg),q=this.a.Sa(l,this.Sg);d=[0,0,0,0,0,0,0,0];var n=[0,0,0,0];d[0]=0;n[0]=c;d[1]=0;n[1]=h;d[2]=1;n[2]=m;d[3]=1;n[3]=q;for(c=1;4>c;c++){h=n[c];m=d[c];for(q=c-1;0<=q&&n[q]>h;)n[q+1]=n[q],d[q+1]=d[q],q--;n[q+1]=h;d[q+1]=m}n=0;
0!=d[0]&&(n|=1);0!=d[1]&&(n|=2);0!=d[2]&&(n|=4);0!=d[3]&&(n|=8);if(5!=n&&10!=n)return!1;a==b?a?(this.a.Jc(l,e),this.a.Kc(e,l),this.a.Jc(g,k),this.a.Kc(k,g)):(this.a.Kc(l,e),this.a.Jc(e,l),this.a.Kc(g,k),this.a.Jc(k,g)):a?(this.a.Kc(e,f),this.a.Jc(f,e),this.a.Kc(k,g),this.a.Jc(g,k)):(this.a.Jc(e,f),this.a.Kc(f,e),this.a.Jc(k,g),this.a.Kc(g,k));return!0};e.prototype.ME=function(a,b,d,e,g,f){this.h_?this.qO():this.pO(a,b,d,e,g,f)};e.prototype.qO=function(){throw a.g.X("not implemented.");};e.prototype.pO=
function(a,b,d,e,g,f){if(a!=b)a?(this.a.Jc(d,g),this.a.Kc(g,d),this.a.Jc(f,e),this.a.Kc(e,f),this.wo(g,d),this.Si(g,!0),this.a.Ni(g,!0),this.Bk(d),this.wo(f,e),this.Si(f,!0),this.a.Ni(f,!1)):(this.a.Jc(g,d),this.a.Kc(d,g),this.a.Jc(e,f),this.a.Kc(f,e),this.wo(g,d),this.Si(g,!0),this.a.Ni(g,!1),this.Bk(d),this.wo(f,e),this.Si(f,!0),this.a.Ni(f,!0)),this.Bk(e);else{var c=a?d:e,h=b?g:f;a=a?e:d;b=b?f:g;g=!1;this.a.Jc(c,h);this.a.Jc(h,c);this.a.Kc(a,b);this.a.Kc(b,a);for(f=b;f!=h;)d=this.a.Ra(f),e=this.a.U(f),
this.a.Kc(f,e),this.a.Jc(f,d),g=g||f==c,f=e;g||(d=this.a.Ra(h),e=this.a.U(h),this.a.Kc(h,e),this.a.Jc(h,d));this.wo(h,c);this.Si(h,!0);this.a.Ni(h,!1);this.Bk(c);this.wo(b,a);this.Si(b,!0);this.a.Ni(b,!1);this.Bk(a)}};e.prototype.AE=function(){for(var a=!1,b=this.a.Pb(this.Y);-1!=b;){for(var d=this.a.cb(b),e=0,g=this.a.La(b);e<g&&1<g;){var f=this.a.Ra(d),k=this.a.U(d);this.a.Uq(f,k)?(a=!0,this.Si(d,!1),this.a.td(d,!0),this.Si(k,!1),this.a.td(k,!0),d=f,e=0,g=this.a.La(b)):(d=k,e++)}if(2>this.a.La(b)){a=
this.a.cb(b);e=0;for(g=this.a.La(b);e<g;e++)this.Si(a,!1),a=this.a.U(a);b=this.a.Qr(b);a=!0}else b=this.a.Sb(b)}return a};e.prototype.mq=function(a){for(var b=!1;;){var c=this.a.U(a),e=this.a.Ra(a);if(c==a)return this.Si(a,!0),this.a.Ni(a,!1),!0;if(!this.a.Uq(c,e))break;b=!0;this.Bk(e);this.Bk(c);this.Si(a,!0);this.a.Ni(a,!1);this.wo(c,e);this.Si(c,!0);this.a.Ni(c,!0);if(c==e)break;a=e}return b};e.prototype.iO=function(){for(var a=0,b=this.Je.wc(this.Je.De);-1!=b;b=this.Je.nb(b)){var d=this.Je.getData(b);
this.a.Bj(d,-1)}for(var e=0,g=this.a.Pb(this.Y);-1!=g;)if(b=this.a.cb(g),-1==b||-1!=this.a.kd(b))d=g,g=this.a.Sb(g),this.a.Rr(d);else{this.a.Bj(b,g);for(var f=1,d=this.a.U(b);d!=b;d=this.a.U(d))this.a.Bj(d,g),f++;this.a.Up(g,!1);this.a.sk(g,f);this.a.rh(g,this.a.Ra(b));e+=f;a++;g=this.a.Sb(g)}for(b=this.Je.wc(this.Je.De);-1!=b;b=this.Je.nb(b))d=this.Je.getData(b),-1==this.a.kd(d)&&(g=this.a.pH(this.Y,d,d,null),e+=this.a.La(g),a++);this.a.Bm(this.Y,a);this.a.qk(this.Y,e);a=0;for(e=this.a.qd;-1!=e;e=
this.a.Re(e))a+=this.a.D(e);this.a.CC(a)};e.prototype.Vm=function(a){for(var b=0,c=this.Ue.size-1;b<c;b++)if(a=(a+1)%this.Ue.size,-1!=this.Ue.get(a))return a;return-1};e.prototype.wo=function(a,b){var c=this.a.Sa(b,this.Fr),e=this.a.Sa(b,this.Sg);this.a.MC(a,b);this.a.Va(b,this.Fr,c);this.a.Va(b,this.Sg,e)};e.prototype.Bk=function(a){var b=this.a.Sa(a,this.Sg);-1!=b&&(this.Ue.set(b,-1),this.a.Va(a,this.Sg,-1))};e.V=function(a,b,d,h,g){var c=new e;c.a=a;c.Y=b;c.gB=d;c.Vw=h;c.ie=g;return c.rO()};e.prototype.bO=
function(c,b){var d=this.wi.get(c),e=new a.b;this.a.Mc(d,e);var d=new a.b,g=this.wi.get(b);this.a.Mc(g,d);if(e.vb(d))return 0;c=this.xt.get(c);g=new a.b;this.a.Mc(c,g);b=this.xt.get(b);c=new a.b;this.a.Mc(b,c);b=new a.b;b.xc(e,g);e=new a.b;e.xc(d,c);return a.b.ts(b,e)};return e}();a.so=e})(y||(y={}));(function(a){(function(a){a[a.Local=0]="Local";a[a.Geographic=1]="Geographic";a[a.Projected=2]="Projected";a[a.Image=3]="Image";a[a.Unknown=4]="Unknown"})(a.yN||(a.yN={}));(function(a){a[a.Integer32=
0]="Integer32";a[a.Integer64=1]="Integer64";a[a.FloatingPoint=2]="FloatingPoint"})(a.lN||(a.lN={}));var e=function(){function e(){this.jq="";this.gv=null;this.xg=0;this.$I=this.Ap=-1;this.Vh=null}e.prototype.Bc=function(){return this.xg};e.prototype.Ps=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Rs=function(){return 0};e.prototype.Os=function(){return 0};e.prototype.Wz=function(){return 5.7295779513082306E10};e.prototype.Xz=function(){return 1E3};e.prototype.Vz=function(){return 1E3};
e.prototype.$s=function(){return 1};e.prototype.pe=function(){var c=.001;0!=this.xg?c=a.ss.SR(this.xg):null!=this.Vh&&(c=a.uE.TR(this.Vh));return c};e.prototype.dH=function(){return this.Vh};e.prototype.Td=function(){if(0!=this.xg)return a.$c.vh(a.ss.Dz(this.xg));if(null!=this.Vh)return a.uE.UR(this.Vh)};e.Fb=function(c){if(0!=c.xg){if(!0===a.ss.uU(c.xg))return 1;if(!0===a.ss.wU(c.xg))return 2}return 4};e.prototype.Ys=function(){var c=this.Bc();if(-1!=this.Ap)return this.Ap;this.Ap=a.ss.nL(c);return-1!=
this.Ap?this.Ap:c};e.create=function(c){if(0>=c)throw a.g.F("Invalid or unsupported wkid: "+c);var b=new e;b.xg=c;return b};e.MQ=function(c){if(null==c||0==c.length)throw a.g.F("Cannot create SpatialReference from null or empty text.");var b=new e;b.Vh=c;return b};e.prototype.Eb=function(a){return this==a?!0:null==a||this.constructor!=a.constructor||this.xg!=a.xg||0==this.xg&&this.Vh!==a.Vh?!1:!0};e.pS=function(c,b){var d=Math.PI/180,e=new a.da;a.$L.sS(c.w().x*d,c.w().y*d,b.w().x*d,b.w().y*d,e);return e.j};
e.prototype.toString=function(){return"[ tol: "+this.Ho()+"; wkid: "+this.Bc()+"; wkt: "+this.dH()+"]"};e.prototype.kc=function(){if(""!==this.jq)return this.jq;var a=this.toString();if(Array.prototype.reduce)return this.jq="S"+a.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var b=0;if(0===a.length)return"";for(var d=0;d<a.length;d++)b=(b<<5)-b+a.charCodeAt(d),b&=b;return this.jq="S"+b};e.prototype.Ho=function(){return this.pe(0)};e.prototype.Bh=function(){return null!==
this.gv?this.gv:this.gv=a.Su.SQ(this)};e.r_=!0;e.xv=2147483645;e.yv=9007199254740990;return e}();a.ve=e})(y||(y={}));(function(a){var e=function(e){function c(){var b=null!==e&&e.apply(this,arguments)||this;b.jj=null;b.tV=null;b.rp=new a.kE;b.yp=null;b.Xw=null;return b}Y(c,e);c.SQ=function(b){var d=new c;d.xg=b.xg;d.Ap=b.Ap;d.$I=b.$I;d.Vh=b.Vh;if(""!==d.Vh&&null!==d.Vh){b=c.Gj(d.Vh);var e=c.Ej(d.Vh);d.rp.Ay(b,e,a.Tu.Integer64);d.Gy(b);d.Jy(e);d.xg=b.Ys()}else b=c.Fj(d.xg),d.Gy(b),d.Jy(null),d.rp.Ay(b,
null,a.Tu.Integer64);return d};c.prototype.pe=function(a){return this.rp.Ho(a)};c.Ej=function(b){if(0>=b.length)throw a.g.F();var d=null;try{d=a.WD.fromString(b)}catch(h){d=null}return null==d?null:c.de(d,!0)};c.prototype.Gy=function(a){this.Nd=a;this.yp=this.Nd.Td()};c.prototype.Jy=function(a){this.LI=a;this.tV=null!=this.LI?this.LI.yp:null};c.prototype.Ic=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Nd.Ic()};c.prototype.IH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.jj.Ik().Ic():
this.Nd.Ic()};c.prototype.Jg=function(){return null!=this.Nd?this.Nd.rf:null};c.prototype.hn=function(){return this.Nd.hn()};c.prototype.ce=function(){return this.Nd.ce()};c.prototype.Dh=function(){return null!=this.Nd?this.Nd.fx:NaN};c.prototype.kn=function(){return this.Nd.kn()};c.prototype.Us=function(){return this.Nd.Us()};c.prototype.Wj=function(){return this.Nd.Wj()};c.prototype.JT=function(b){return a.ZD.zz(this.Nd,b.Nd)};c.prototype.Ok=function(){return this.Nd.Ok()};c.prototype.Ts=function(){return this.Nd.Ts()};
c.prototype.ri=function(){return 3==this.Fb()?this.jj.Ik().ri():this.Nd.ri()};c.prototype.Ch=function(){if(!this.Ic())throw a.g.F("!isPannable()");var b=new a.h;this.Nd.Ch(b);return b};c.prototype.oe=function(){if(!this.Ic())throw a.g.F("!isPannable()");return this.Nd.mp};c.prototype.aT=function(){if(!this.Ic())throw a.g.F("!isPannable()");var b=new a.h;this.Nd.$S(b);return b};c.prototype.bw=function(){if(!this.Ic())throw a.g.F("!isPannable()");return this.Nd.bw()};c.prototype.aw=function(){if(!this.Ic())throw a.g.F("!isPannable()");
return this.Nd.aw()};c.prototype.Vs=function(){return null!=this.jj?this.jj.Ik().Vs():this.Nd.Vs()};c.prototype.dS=function(){return this.Nd.Uv()};c.prototype.NW=function(a){a.assign(this.rp)};c.prototype.Zi=function(){return this.yp.getUnitFactor()};c.prototype.iA=function(a){return this.rp.iA(a)};c.prototype.lc=function(){var b=this.Fb();if(1==b)return this;if(3==b)return this.jj.Ik().lc();if(0==b)throw a.g.X("invalid call");if(4===b)throw a.g.X("invalid call");if(null!==this.Xw)return this.Xw;
b=this.Jg().getGeogcs();if(null==b)throw a.g.za();return this.Xw=c.hG(b,this.rp.$s())};c.hG=function(b,d){if(null==b)throw a.g.F("null pointer.");var e=new c;b=c.dc(b,!0);e.rp.Ay(b,null,d);e.Gy(b);e.Jy(null);e.xg=b.Ys();return e};c.prototype.Fb=function(){var b=this.Jg();if(null!=b)switch(b.getType()){case a.Uc.PE_TYPE_GEOGCS:return 1;case a.Uc.PE_TYPE_PROJCS:return 2}return 4};c.prototype.gA=function(b){var c=new a.b;this.Nd.gA(b,c);return c};c.prototype.Uv=function(){return this.Nd.Uv()};c.dc=function(b,
d){var e=b.getCode();if(0>=e&&(e=a.Qf.getCode(b),0<e)){var g=a.Qf.coordsys(e);if(null==g)throw a.g.F("Text to wkid mapping had failed: "+e);return c.dc(g,d)}if(d&&0<e&&(g=c.ad[e]))return g;g=a.Ib.iw(b,e,!1);if(d=c.Ug[g])return d;d=0>=e?b:a.Qf.coordsys(e);d=new a.ZD(d);c.Ug[g]=d;0<e&&(c.ad[e]=d);return d};c.Fj=function(b){if(0>=b)throw a.g.F("Invalid or unsupported wkid: "+b);var d=c.ad[b];if(null!=d)return d;d=a.Qf.coordsys(b);if(null==d)throw a.g.F("Invalid or unsupported wkid: "+b);d=c.dc(d,!1);
d.Ys()!=b&&(c.ad[b]=d);return d};c.Gj=function(b){if(null==b||void 0===b||0==b.length)throw a.g.F("Cannot create SpatialReference from null or empty text.");var d=null;try{d=a.Qf.fromString(a.Uc.PE_TYPE_COORDSYS,b)}catch(h){throw a.g.F("Cannot create SpatialReference from text. "+h.message);}if(null===d)throw a.g.F("Cannot create SpatialReference from text. ");return c.dc(d,!0)};c.de=function(b,d){var e=b.getCode();if(0>=e&&(e=a.Qf.getCode(b),0<e)){e=a.Qf.vertcs(e);if(null===e)throw a.g.F();return c.de(e,
d)}if(d&&0<e&&(d=c.Xf[e]))return d;b=a.Ib.iw(b,e,!1);if(d=c.Yg[b])return d;var g;0>=e||(g=a.Qf.vertcs(e));if(null===g)throw a.g.F();d=new a.hN(g);c.Yg[b]=d;0<e&&(c.Xf[e]=d);return d};c.lf=function(b,c){var d;if(null===c||c.u())return null;var e=new a.h,g;null!==c&&1!=b.Fb()?(d=b.lc(),g=d.Jg(),d=a.rs.Gs(b,d,null,null),d=a.ns.local().V(c,d,null),d.s(e)):(g=b.Jg(),c.s(e));d=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new a.UD(e.o,e.A,e.v,e.B,d,g)};c.IE=function(a){var b={name:"",
steps:[],_pt:null,_entry:null},c=0;for(a=a.getEntries();c<a.length;c++){var e=a[c],g={d_:!1,C_:"",B_:-1,geogtran:null};0===e.getDirection()?g.isInverse=!1:g.isInverse=!0;var f=e.getGeogtran().getCode();-1<f?g.wkid=f:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};c.rT=function(b,d,e,g){void 0===e&&(e=null);e=c.lf(g,e);b=a.fq.getGTlist(b.Jg(),d.Jg(),2,a.fq.PE_GTLIST_OPTS_COMMON,e,1);d=null;b&&0<b.length&&(d=this.IE(b[0]),a.sy.destroy(b));null!==e&&e.destroy();return d};c.sT=function(b,d,
e,g){var h;void 0===e&&(e=null);void 0===g&&(g=null);void 0===h&&(h=30);e=c.lf(g,e);b=a.fq.getGTlist(b.Jg(),d.Jg(),2,a.fq.PE_GTLIST_OPTS_COMMON,e,h);d=[];if(b&&0<b.length){for(h=0;h<b.length;h++)d.push(this.IE(b[h]));a.sy.destroy(b)}null!==e&&e.destroy();return d};c.ad={};c.Ug={};c.Xf={};c.Yg={};return c}(a.ve);a.Su=e})(y||(y={}));(function(a){var e;(function(a){a[a.Integer32=0]="Integer32";a[a.Integer64=1]="Integer64";a[a.FloatingPoint=2]="FloatingPoint"})(e=a.Tu||(a.Tu={}));var g=function(){function c(){this.kq()}
c.prototype.assign=function(a){this.bm=a.bm;this.cm=a.cm;this.vj=a.vj;this.Tw=a.Tw;this.Pn=a.Pn;this.Sw=a.Sw;this.rx=a.rx;this.ll=a.ll;this.Cr=a.Cr;this.Br=a.Br;this.Kn=a.Kn};c.prototype.Ps=function(){return this.bm};c.prototype.Qs=function(){return this.cm};c.prototype.Rs=function(){return this.Tw};c.prototype.Os=function(){return this.Sw};c.prototype.Wz=function(){return this.vj};c.prototype.Xz=function(){return this.Pn};c.prototype.Vz=function(){return this.rx};c.prototype.$s=function(){return this.Kn};
c.prototype.kq=function(){this.cm=this.bm=0;this.vj=1;this.Tw=0;this.Pn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.ll=2.220446049250313E-14;this.Kn=e.FloatingPoint};c.prototype.Ay=function(b,c,h){this.kq();this.Kn=h;if(h!=e.FloatingPoint){var d=new a.h;b.zS(d);this.bm=d.o;this.cm=d.A}else this.cm=this.bm=-1.7976931348623157E308;d=b.rf.getType();d==a.Uc.PE_TYPE_GEOGCS?(d=(h==e.Integer64?1E-9:1/18E5)*b.ce(),this.vj=1/d):d==a.Uc.PE_TYPE_PROJCS&&(d=(h==e.Integer64?1E-4:.001)*b.hn(),this.vj=1/d);null!=
c?(d=(h==e.Integer32?.001:1E-4)*c.JI,this.Pn=1/d):this.Pn=1E4;this.rx=1E4;this.sO();this.ll=b.fx;this.Cr=null!=c?.001*c.JI:.001;this.Br=2.220446049250313E-14};c.prototype.sO=function(){if(this.Kn!=e.FloatingPoint){var b=this.Kn==e.Integer64?a.ve.yv:a.ve.xv,c=b/this.vj,h=this.bm+c,g=a.J.truncate((h-this.bm)*this.vj);g>b&&(this.vj=b/(h-this.bm));c=this.cm+c;g=a.J.truncate((c-this.cm)*this.vj);g>b&&(this.vj=b/(c-this.cm))}};c.prototype.BC=function(a,c){switch(a){case 0:this.ll=c;case 1:this.Cr=c;case 2:this.Br=
c}};c.prototype.Ho=function(a){switch(a){case 0:return this.ll;case 1:return this.Cr;case 2:return this.Br}return 0};c.prototype.xT=function(){var b=new a.h;switch(this.$s()){case e.Integer32:var c=a.ve.xv/this.Wz();b.I(this.Ps(),this.Qs(),this.Ps()+c,this.Qs()+c);break;case e.Integer64:c=a.ve.yv/this.Wz();b.I(this.Ps(),this.Qs(),this.Ps()+c,this.Qs()+c);break;case e.FloatingPoint:b.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw a.g.X("internal error");
}return b};c.prototype.zT=function(){var b=new a.yc;switch(this.$s()){case e.Integer32:var c=a.ve.xv/this.Xz();b.I(this.Rs(),this.Rs()+c);break;case e.Integer64:c=a.ve.yv/this.Xz();b.I(this.Rs(),this.Rs()+c);break;case e.FloatingPoint:b.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw a.g.X("internal error");}return b};c.prototype.TS=function(){var b=new a.yc;switch(this.$s()){case e.Integer32:var c=a.ve.xv/this.Vz();b.I(this.Os(),this.Os()+c);break;case e.Integer64:c=a.ve.yv/
this.Vz();b.I(this.Os(),this.Os()+c);break;case e.FloatingPoint:b.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw a.g.X("internal error");}return b};c.prototype.iA=function(a){if(this.Kn==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.vj;case 1:return 1/this.Pn;case 2:return 1/this.Pn;default:return 0}};c.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.ll.toString();a=a+";m_falseX: "+this.bm.toString();a=a+";m_falseY: "+this.cm.toString();a=a+";m_unitsXY: "+
this.vj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Pn.toString();a=a+";m_falseM: "+this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.Kn.toString();return a+"] "};return c}();a.kE=g})(y||(y={}));(function(a){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,c){a=a/6378137*
57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function c(b,c){var d=b.Sf();if(33===b.G()){var e=c(d.Te(),d.Cf());d.rb(e[0],e[1])}else if(197===b.G())e=c(b.dt(),b.ft(),!0),b=c(b.ct(),b.et(),!0),d.I(e[0],e[1],b[0],b[1]);else for(e=new a.b,b=0;b<d.D();b++){d.w(b,e);var h=c(e.x,e.y,!0);e.ja(h[0],h[1]);d.rb(b,e)}return d}function b(a){return c(a,
g)}function d(a){return c(a,e)}var h=Math.PI/180,f=function(){function b(){}b.os=function(b){var c=Math.sqrt(.006694379990197414),d=Math.sin(b.y*h);return a.b.pa(6378137*b.x*h,3167719.6636462314*(d/(1-.006694379990197414*d*d)-1/(2*c)*Math.log((1-c*d)/(1+c*d))))};b.xz=function(b,c,d,e){var g=1/298.257223563,f=Math.sin(d);d=Math.cos(d);var k=(1-g)*Math.tan(b);b=1/Math.sqrt(1+k*k);for(var m=k*b,l=Math.atan2(k,d),k=b*f,n=k*k,q=1-n,p=2.7233160610754688E11*q/4.040829998466145E13,r=1+p/16384*(4096+p*(-768+
p*(320-175*p))),t=p/1024*(256+p*(-128+p*(74-47*p))),p=e/(6356752.31424518*r),u=2*Math.PI,w,v,C,x;1E-12<Math.abs(p-u);)C=Math.cos(2*l+p),w=Math.sin(p),v=Math.cos(p),x=t*w*(C+t/4*(v*(-1+2*C*C)-t/6*C*(-3+4*w*w)*(-3+4*C*C))),u=p,p=e/(6356752.31424518*r)+x;e=m*w-b*v*d;q=g/16*q*(4+g*(4-3*q));return a.b.pa((c+(Math.atan2(w*f,b*v-m*w*d)-(1-q)*g*k*(p+q*w*(C+q*v*(-1+2*C*C)))))/h,Math.atan2(m*v+b*w*d,(1-g)*Math.sqrt(n+e*e))/h)};b.uV=function(a,b,c,d){var e=1/298.257223563,h=d-b,g=Math.atan((1-e)*Math.tan(a)),
f=Math.atan((1-e)*Math.tan(c)),k=Math.sin(g),g=Math.cos(g),m=Math.sin(f),f=Math.cos(f),l=h,n,q=1E3,p,r,t,u,w,v,C;do{t=Math.sin(l);u=Math.cos(l);r=Math.sqrt(f*t*f*t+(g*m-k*f*u)*(g*m-k*f*u));if(0===r)return 0;u=k*m+g*f*u;w=Math.atan2(r,u);v=g*f*t/r;p=1-v*v;t=u-2*k*m/p;isNaN(t)&&(t=0);C=e/16*p*(4+e*(4-3*p));n=l;l=h+(1-C)*e*v*(w+C*r*(t+C*u*(-1+2*t*t)))}while(1E-12<Math.abs(l-n)&&0<--q);if(0===q)return k=d-b,{azimuth:Math.atan2(Math.sin(k)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(k)),
geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*p/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(f*Math.sin(l),g*m-k*f*Math.cos(l)),oS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(w-b*r*(t+b/4*(u*(-1+2*t*t)-b/6*t*(-3+4*r*r)*(-3+4*t*t)))),u_:Math.atan2(g*Math.sin(l),g*m*Math.cos(l)-k*f)}};b.hM=function(b){var c=b.hasAttribute(1),d=b.hasAttribute(2),e=[],h=b.aa(),g=
null,f=null;c&&(g=b.Qa(1));d&&(f=b.Qa(2));for(var k=new a.b,m=0;m<h;m++){for(var l=b.wa(m),n=b.La(m),q=0,p=0,r=NaN,t=NaN,u=NaN,w=NaN,v=b.Qb(m),C=[],x=l;x<l+n;x++){b.w(x,k);var w=u=NaN,y=[k.x,k.y];c&&(u=g.get(x),y.push(u));d&&(h=f.get(x),y.push(w));x==l&&v&&(q=k.x,p=k.y,r=u,t=w);C.push(y)}!v||q==k.x&&p==k.y&&(!c||isNaN(r)&&isNaN(u)||r==u)&&(!d||isNaN(t)&&isNaN(w)||t==w)||C.push(C[0].slice(0));e.push(C)}return e};b.Hz=function(a,c){a=b.hM(a);637.100877141506>c&&(c=637.100877141506);for(var d=[],e,g=
0;g<a.length;g++){var f=a[g];d.push(e=[]);e.push([f[0][0],f[0][1]]);var k,m,l,n,q,p;k=f[0][0]*h;m=f[0][1]*h;for(q=0;q<f.length-1;q++)if(l=f[q+1][0]*h,n=f[q+1][1]*h,k!==l||m!==n){n=b.uV(m,k,n,l);l=n.azimuth;n=n.oS;var r=n/c;if(1<r){for(p=1;p<=r-1;p++){var t=b.xz(m,k,l,p*c);e.push([t.x,t.y])}p=b.xz(m,k,l,(n+Math.floor(r-1)*c)/2);e.push([p.x,p.y])}m=b.xz(m,k,l,n);e.push([m.x,m.y]);k=m.x*h;m=m.y*h}}return{VJ:d}};b.nS=function(c){for(var d=[],e=0;e<c.length;e++){var h=c[e],h=b.Hz(h,1E4);d.push(h)}c=[];
for(var g=0;g<d.length;g++){for(var h=d[g],f=0,e=0;e<h.VJ.length;e++){var k=h.VJ[e],m=b.os(a.b.pa(k[0][0],k[0][1])),l=b.os(a.b.pa(k[k.length-1][0],k[k.length-1][1])),n=l.x*m.y-m.x*l.y,q;for(q=0;q<k.length-1;q++)m=b.os(a.b.pa(k[q+1][0],k[q+1][1])),l=b.os(a.b.pa(k[q][0],k[q][1])),n+=l.x*m.y-m.x*l.y;f+=n}f/=1;c.push(f/-2)}return c};return b}();a.aM=f;f=function(){function c(){}c.$B=function(a,b,d,e,h,g,f){c.iD[a.kc()]=b;0==isNaN(d)&&(c.kD[a.kc()]=d);0==isNaN(e)&&(c.uD[a.kc()]=e);0==isNaN(h)&&(c.gD[a.kc()]=
h);c.nD[a.kc()]=g;null!==f&&(c.pD[a.kc()]=f)};c.Ix=function(a,b,d){c.sD[a.kc()+"-"+b.kc()]=d};c.lc=function(b){b=c.iD[b.kc()];if(void 0==b)throw a.g.af();return b};c.ce=function(b){b=c.kD[b.kc()];if(void 0==b)throw a.g.af();return b};c.hw=function(b){b=c.uD[b.kc()];if(void 0==b)throw a.g.af();return b};c.Sv=function(b){b=c.gD[b.kc()];if(void 0==b)throw a.g.af();return b};c.Ch=function(b){b=c.pD[b.kc()];if(void 0==b)throw a.g.af();return a.h.pa(b[0],b[1],b[2],b[3])};c.Ic=function(b){b=c.nD[b.kc()];
if(void 0==b)throw a.g.af();return b};c.Vg=function(b,d,e){if(d.Eb(e))return b;var h=c.sD[d.kc()+"-"+e.kc()];if(void 0!==h)return h(b,d,e);throw a.g.af();};c.nu=function(){throw a.g.af();};c.tS=function(){throw a.g.af();};c.xW=function(){throw a.g.af();};c.Ok=function(){throw a.g.af();};c.WW=function(){var c=a.ve.create(102100),e=a.ve.create(3857),h=a.ve.create(4326);a.fb.$B(c,h,NaN,NaN,NaN,!1,null);a.fb.$B(h,h,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);a.fb.$B(e,h,NaN,NaN,NaN,!1,null);
a.fb.Ix(c,h,b);a.fb.Ix(h,c,d);a.fb.Ix(e,h,b);a.fb.Ix(h,e,d)};c.iD=[];c.kD=[];c.uD=[];c.gD=[];c.nD=[];c.pD=[];c.sD=[];return c}();a.fb=f})(y||(y={}));y.fb.WW();(function(a){var e=function(){function e(a){this.f=null;this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=a}e.prototype.jd=function(a){a<this.Gf?(this.f[a*this.dd]=this.jh,this.jh=a):this.Gf--;this.size--};e.prototype.S=function(a,b){return this.f[a*this.dd+b]};e.prototype.R=function(a,b,d){this.f[a*this.dd+b]=d};e.prototype.Me=function(){var c=
this.jh;if(-1==c){if(this.Gf==this.xd){c=0!=this.xd?a.J.truncate(3*(this.xd+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.xd)throw a.g.vd();this.Io(c)}c=this.Gf;this.Gf++}else this.jh=this.f[c*this.dd];this.size++;for(var b=c*this.dd+this.dd,d=c*this.dd;d<b;d++)this.f[d]=-1;return c};e.prototype.pl=function(c){var b=this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?a.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw a.g.vd();this.Io(b)}b=this.Gf;this.Gf++}else this.jh=
this.f[b*this.dd];this.size++;for(var d=b*this.dd,e=this.dd,g=0;g<e;g++)this.f[d+g]=c[g];return b};e.prototype.Wi=function(a){this.jh=-1;this.size=this.Gf=0;a&&(this.f=null,this.xd=0)};e.prototype.Ne=function(a){a>this.xd&&this.Io(a)};e.prototype.ay=function(a,b,d){var c=this.f[this.dd*b+d];this.f[this.dd*b+d]=this.f[this.dd*a+d];this.f[this.dd*a+d]=c};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(a){return 0<=a};e.prototype.Io=function(a){null==this.f&&(this.f=[]);this.xd=a};
return e}();a.Zc=e;e=function(){function e(a){this.f=new Int32Array(0);this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=a}e.prototype.jd=function(a){a<this.Gf?(this.f[a*this.dd]=this.jh,this.jh=a):this.Gf--;this.size--};e.prototype.S=function(a,b){return this.f[a*this.dd+b]};e.prototype.R=function(a,b,d){this.f[a*this.dd+b]=d};e.prototype.Me=function(){var c=this.jh;if(-1==c){if(this.Gf==this.xd){c=0!=this.xd?a.J.truncate(3*(this.xd+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.xd)throw a.g.vd();
this.Io(c)}c=this.Gf;this.Gf++}else this.jh=this.f[c*this.dd];this.size++;for(var b=c*this.dd;b<c*this.dd+this.dd;b++)this.f[b]=-1;return c};e.prototype.pl=function(c){var b=this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?a.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw a.g.vd();this.Io(b)}b=this.Gf;this.Gf++}else this.jh=this.f[b*this.dd];this.size++;for(var d=b*this.dd,e=0;e<c.length;e++)this.f[d+e]=c[e];return b};e.prototype.Wi=function(a){this.jh=-1;this.size=
this.Gf=0;a&&(this.f=null,this.xd=0)};e.prototype.Ne=function(a){a>this.xd&&this.Io(a)};e.prototype.ay=function(a,b,d){var c=this.f[this.dd*b+d];this.f[this.dd*b+d]=this.f[this.dd*a+d];this.f[this.dd*a+d]=c};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(a){return 0<=a};e.prototype.Io=function(a){null==this.f&&(this.f=new Int32Array(0));var b=new Int32Array(this.dd*a);b.set(this.f,0);this.f=b;this.xd=a};return e}();a.zN=e;!0===a.Yh.Gm&&(a.Zc=a.zN)})(y||(y={}));(function(a){var e;
(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var f=function(){function b(b){this.Ze=b;this.Xh=NaN;this.dI=new a.Bg;this.eI=new a.Bg;this.kt=new a.yc;this.lt=new a.yc}b.prototype.compare=function(a,b,c){a=a.ia(c);this.Ze.TB(b,this.dI);this.Ze.TB(a,this.eI);b=
this.dI.get();a=this.eI.get();this.kt.I(b.ua,b.sa);this.lt.I(a.ua,a.sa);if(this.kt.la<this.lt.ga)return-1;if(this.kt.ga>this.lt.la)return 1;c=b.ra==b.oa;var d=a.ra==a.oa;if(c||d){if(c&&d)return 0;if(b.ra==a.ra&&b.ua==a.ua)return c?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return c?-1:1}c=b.kf(this.Xh,this.kt.ga);d=a.kf(this.Xh,this.lt.ga);c==d&&(c=Math.min(b.oa,a.oa),d=.5*(c+this.Xh),d==this.Xh&&(d=c),c=b.kf(d,this.kt.ga),d=a.kf(d,this.lt.ga));return c<d?-1:c>d?1:0};b.prototype.FK=function(a){this.Xh=a};return b}(),
c=function(){function b(b){this.bb=b;this.YI=new a.Bg;this.ag=new a.b;this.fB=new a.yc}b.prototype.JX=function(a){this.ag.L(a)};b.prototype.compare=function(a,b){this.bb.TB(a.ia(b),this.YI);a=this.YI.get();this.fB.I(a.ua,a.sa);if(this.ag.x<this.fB.ga)return-1;if(this.ag.x>this.fB.la)return 1;a=a.kf(this.ag.y,this.ag.x);return this.ag.x<a?-1:this.ag.x>a?1:0};return b}();e=function(){function b(){this.gI=this.dj=this.gj=this.WA=this.To=this.Ve=this.Qc=this.Fh=this.Ae=null;this.zp=this.Rg=-1;this.fI=
!0;this.$A=!1;this.XA=NaN;this.nj=new a.Yd;this.zP=2147483647;this.yP=a.J.truncate(-2147483648);this.wg=this.ue=this.pm=this.rr=this.wn=this.qr=this.Lt=this.nf=-1;this.qa=0}b.prototype.cz=function(a){this.XA=a};b.prototype.Sn=function(){null==this.Ae&&(this.Ae=new a.Zc(8));var b=this.Ae.Me();this.Ae.R(b,1,0);return b};b.prototype.KV=function(){null==this.Qc&&(this.Qc=new a.Zc(8));var b=this.Qc.Me();this.Qc.R(b,2,0);this.Qc.R(b,3,0);var c=this.Qc.Me();this.Qc.R(c,2,0);this.Qc.R(c,3,0);this.nK(b,c);
this.nK(c,b);return b};b.prototype.jJ=function(){null==this.Ve&&(this.Ve=new a.Zc(8));var b=this.Ve.Me();this.Ve.R(b,2,0);return b};b.prototype.uX=function(a,b){this.Ae.R(a,7,b)};b.prototype.jo=function(a,b){this.Ae.R(a,2,b)};b.prototype.tX=function(a,b){this.Ae.R(a,1,b)};b.prototype.KX=function(a,b){this.Ae.R(a,3,b)};b.prototype.HX=function(a,b){this.Ae.R(a,4,b)};b.prototype.Ur=function(a,b){this.Ae.R(a,5,b)};b.prototype.wS=function(a){return this.Ae.S(a,5)};b.prototype.sX=function(a,b){this.Ae.R(a,
6,b)};b.prototype.yO=function(a,b){this.sX(b,a)};b.prototype.mK=function(a,b){this.Qc.R(a,1,b)};b.prototype.nK=function(a,b){this.Qc.R(a,4,b)};b.prototype.Dm=function(a,b){this.Qc.R(a,5,b)};b.prototype.Cm=function(a,b){this.Qc.R(a,6,b)};b.prototype.zX=function(a,b){this.Qc.R(a,2,b)};b.prototype.Nx=function(a,b){this.Qc.R(a,3,b)};b.prototype.OG=function(a){return this.Qc.S(a,3)};b.prototype.wu=function(a,b){this.Qc.R(a,7,b)};b.prototype.kL=function(a,b){if(-1!=this.fn(a))for(b=b?-1:a,a=this.fn(a);-1!=
a;a=this.it(a))this.a.Va(this.Yj(a),this.rr,b)};b.prototype.ey=function(a,b){-1!=a&&(this.kL(a,b),this.kL(this.Aa(a),b))};b.prototype.uu=function(a,b){this.Ve.R(a,1,b)};b.prototype.qh=function(a,b){this.Ve.R(a,2,b)};b.prototype.fo=function(a,b){this.Ve.R(a,3,b);this.qX(a,this.vS(b));this.pX(b,a)};b.prototype.pX=function(a,b){this.Ve.R(a,4,b)};b.prototype.qX=function(a,b){this.Ve.R(a,5,b)};b.prototype.hK=function(a,b){this.Ve.R(a,6,b)};b.prototype.fK=function(a,b){this.Ve.R(a,7,b)};b.prototype.eK=
function(a,b){this.To.write(a,b)};b.prototype.gK=function(a,b){this.WA.write(a,b)};b.prototype.MY=function(b){var c=0,d=0,e=this.EG(b),f=new a.b,g=new a.b,k=new a.b;this.Ws(e,f);g.L(f);var l=e;do this.en(l,k),d+=a.b.Cb(g,k),this.Af(this.Aa(l))!=b&&(c+=(k.x-f.x-(g.x-f.x))*(k.y-f.y+(g.y-f.y))*.5),g.L(k),l=this.qc(l);while(l!=e);this.To.write(b,c);this.WA.write(b,d)};b.prototype.fW=function(b){var d=new f(this),e=new a.xk;e.Ne(a.J.truncate(this.qa/2));e.Lp(d);for(var g=new a.ha(0),k=this.xh(),l=null,
n=0,p=new a.b,r=this.nf;-1!=r;r=this.ng(r)){n++;var t=this.gf(r);if(-1!=t){g.uf(0);if(!this.FY(e,k,g,t)){this.w(r,p);d.FK(p.y);var u=t;do{var v=this.Kb(u,k);-1!=v&&(e.Jd(v,-1),this.Ob(u,k,-2));u=this.qc(this.Aa(u))}while(t!=u);u=t;do v=this.Kb(u,k),-1==v&&(v=e.addElement(u,-1),g.add(v)),u=this.qc(this.Aa(u));while(t!=u)}for(t=g.size-1;0<=t;t--)v=g.get(t),u=e.ia(v),this.Ob(this.Aa(u),k,v),this.eW(e,v,b)}else-1==this.Nz(r)&&(null==l&&(l=new c(this)),this.w(r,p),l.JX(p),u=e.lX(l),t=this.pm,-1!=u&&(v=
e.ia(u),this.Af(v)==this.Af(this.Aa(v))&&(v=this.QG(e,u)),-1!=v&&(t=this.Af(v))),this.yO(t,r))}this.oi(k)};b.prototype.eW=function(a,b,c){var d=a.ia(b),e=this.Af(d);if(-1==this.Co(e)){var h=this.QG(a,b),f=this.Aa(d),g=this.Af(f);this.Dq(e);this.Dq(g);var k=this.Co(e),m=this.Co(g);-1==h&&-1==k&&(g==e?(this.fo(g,this.pm),k=m=this.pm):(-1==m&&(this.fo(g,this.pm),m=this.pm),this.fo(e,g),k=g));if(-1!=h){var l=this.Af(h);-1==m&&(0>=this.Dq(l)?(m=this.Co(l),this.fo(g,m)):(this.fo(g,l),m=l),g==e&&(k=m))}-1==
k&&this.GY(e,g);0==c?this.EW(a,b,d,h,e,g):5==c?this.FW(a,b,d,f,e,g):4==c&&this.DW(d,h,e,g)}};b.prototype.EW=function(a,b,c,e,f,g){var d=this.Kk(f);if(-1!=e){var h=this.Kk(g),k=this.Kk(this.Af(e));e=d&h&k;k^=k&this.Ah(c);k|=e;0!=k&&(this.qh(g,h|k),this.qh(f,k|d),d=d||k)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ia(b);c=this.Af(this.Aa(e));f=this.Kk(c);g=this.Ah(e);h=this.Af(e);k=this.Kk(h);e=f&k&d;d^=d&g;d|=e;if(0==d)break;this.qh(c,f|d);this.qh(h,k|d)}};b.prototype.FW=function(b,c,e,f,g,k){if(g!=k){e=this.Kb(e,
this.wg);e+=this.Kb(f,this.wg);f=0;var d=new a.ha(0),h=new a.ha(0);h.add(0);for(var m=b.wc(-1);m!=c;m=b.nb(m)){var l=b.ia(m),n=this.Aa(l),q=this.Af(l),p=this.Af(n);if(q!=p){l=this.Kb(l,this.wg);l+=this.Kb(n,this.wg);f+=l;n=!1;0!=d.size&&d.Ec()==p&&(h.Mf(),d.Mf(),n=!0);if(-1==this.Co(p))throw a.g.za();n&&this.Co(p)==q||(h.add(f),d.add(q))}}f+=e;0!=d.size&&d.Ec()==k&&(h.Mf(),d.Mf());0!=f?0==h.Ec()&&(b=this.a.qd,b=this.Ia(b),this.qh(g,b)):0!=h.Ec()&&(b=this.a.qd,b=this.Ia(b),this.qh(g,b))}};b.prototype.DW=
function(a,b,c,e){var d=this.Ia(this.a.qd);if(-1==b)this.qh(e,this.zp),a=this.Kb(a,this.Rg),0!=(a&1)?this.qh(c,d):this.qh(c,this.zp);else{var f=this.Kk(e);0==f&&(f=this.Kk(this.Af(b)),this.qh(e,f));a=this.Kb(a,this.Rg);0!=(a&1)?this.qh(c,f==d?this.zp:d):this.qh(c,f)}};b.prototype.FY=function(a,b,c,e){var d=e,f=-1,h=-1,g=0;do{if(2==g)return!1;var k=this.Kb(d,b);if(-1!=k){if(-1!=f)return!1;f=k}else{if(-1!=h)return!1;h=d}g++;d=this.qc(this.Aa(d))}while(e!=d);if(-1==h||-1==f)return!1;this.Ob(a.ia(f),
b,-2);a.pk(f,h);c.add(f);return!0};b.prototype.GY=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.fo(a,b):0>c&&0<d?this.fo(a,b):(c=this.Co(b),-1!=c&&this.fo(a,c))}};b.prototype.QQ=function(b,c){this.rr=this.a.Sd();for(var d=0,e=c.size;d<e;d++){var f=c.get(d),h=this.a.Sa(f,this.wn),g=this.a.mg(this.a.kd(f)),k=this.a.ic(g);if(a.T.Hc(k)){var l=this.a.U(f);if(-1!=l){var n=this.a.Sa(l,this.wn);if(h!=n){var p=this.KV(),r=this.Aa(p),t=this.Fh.Me();this.Fh.R(t,0,f);this.Fh.R(t,1,-1);
this.wu(p,t);this.mK(p,h);t=this.gf(h);-1==t?(this.jo(h,p),this.Dm(p,r),this.Cm(r,p)):(h=this.Qe(t),this.Dm(t,r),this.Cm(r,t),this.Cm(h,p),this.Dm(p,h));this.mK(r,n);h=this.gf(n);-1==h?(this.jo(n,r),this.Cm(p,r),this.Dm(r,p)):(n=this.Qe(h),this.Dm(h,p),this.Cm(p,h),this.Cm(n,r),this.Dm(r,n));g=this.Ia(g);0==b?(this.Ob(r,this.ue,0),this.Ob(p,this.ue,1736==k?g:0)):5==b?(n=new a.b,this.a.w(f,n),f=new a.b,this.a.w(l,f),h=l=0,0>n.compare(f)?l=1:h=-1,this.Ob(r,this.ue,0),this.Ob(p,this.ue,0),this.Ob(p,
this.wg,l),this.Ob(r,this.wg,h)):7==b?(this.Ob(r,this.ue,this.zp),this.Ob(p,this.ue,1736==k?g:0)):4==b&&(this.Ob(r,this.ue,0),this.Ob(p,this.ue,0),this.Ob(p,this.Rg,1),this.Ob(r,this.Rg,1));k=1736==k?this.yP:0;this.Nx(p,g|k);this.Nx(r,g|k)}}}}};b.prototype.yV=function(a,b){var c=this.fn(b);if(-1!=c){var d=this.fn(a);this.Fh.R(c,1,d);this.wu(a,c);this.wu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.fn(b);-1!=c&&(d=this.fn(a),this.Fh.R(c,1,d),this.wu(a,c),this.wu(b,-1))};b.prototype.gY=function(b){function c(a,
b){return e.gQ(a,b)}var d=new a.ha(0);d.zb(10);for(var e=this,f=this.nf;-1!=f;f=this.ng(f)){d.clear(!1);var g=this.gf(f);if(-1!=g){var k=g;do d.add(k),k=this.qc(this.Aa(k));while(k!=g);if(1<d.size){k=!0;if(2<d.size)d.Fd(0,d.size,c),d.add(d.get(0));else if(0<this.fQ(d.get(0),d.get(1))){var l=d.get(0);d.set(0,d.get(1));d.set(1,l)}else k=!1;for(var n=l=d.get(0),p=this.Uf(n),r=this.Aa(n),t=-1,u=1,v=d.size;u<v;u++){var w=d.get(u),x=this.Aa(w),y=this.Mk(x);if(y==p&&w!=n){if(0==b)t=this.OG(n)|this.OG(w),
this.Nx(n,t),this.Nx(r,t),this.Ob(n,this.ue,this.Kb(n,this.ue)|this.Kb(w,this.ue)),this.Ob(r,this.ue,this.Kb(r,this.ue)|this.Kb(x,this.ue));else if(-1!=this.wg)t=this.Kb(n,this.wg)+this.Kb(w,this.wg),x=this.Kb(r,this.wg)+this.Kb(x,this.wg),this.Ob(n,this.wg,t),this.Ob(r,this.wg,x);else{if(7==b){this.nj=new a.Yd(5,f,-1);return}-1!=this.Rg&&(t=this.Kb(n,this.Rg)+this.Kb(w,this.Rg),x=this.Kb(r,this.Rg)+this.Kb(x,this.Rg),this.Ob(n,this.Rg,t),this.Ob(r,this.Rg,x))}this.yV(n,w);this.rz(w);t=n;d.set(u,
-1);w==l&&(d.set(0,-1),l=-1)}else this.ey(t,!1),t=-1,n=w,p=y,r=x}this.ey(t,!1);t=-1;if(k){l=-1;u=0;for(v=d.size;u<v;u++)if(w=d.get(u),-1!=w)if(-1==l)n=l=w,p=this.Uf(n),r=this.Aa(n);else if(w!=n&&(x=this.Aa(w),y=this.Mk(x),this.Cm(r,w),this.Dm(w,r),n=w,p=y,r=x,7==b&&(this.Kb(w,this.ue)|this.Kb(this.Qe(w),this.ue))==(this.zp|1))){this.nj=new a.Yd(5,f,-1);return}this.jo(f,l)}else{l=-1;u=0;for(v=d.size;u<v;u++)if(w=d.get(u),-1!=w){l=w;break}g!=l&&this.jo(f,l)}}}}};b.prototype.vP=function(){for(var b=
-1,c=this.xh(),e=this.nf;-1!=e;e=this.ng(e)){var f=this.gf(e);if(-1!=f){var g=f;do{if(1!=this.Kb(g,c)){var k=this.jJ();this.uu(k,g);this.fK(k,b);-1!=b&&this.hK(b,k);var b=k,l=0,n=g;do l|=this.Kb(n,this.ue),this.zX(n,k),this.Ob(n,c,1),n=this.qc(n);while(n!=g);this.qh(k,l)}g=this.qc(this.Aa(g))}while(g!=f)}}k=this.jJ();this.uu(k,-1);this.fK(k,b);-1!=b&&this.hK(b,k);this.pm=k;this.To=a.Pd.yd(this.Ve.size,NaN);this.WA=a.Pd.yd(this.Ve.size,NaN);this.eK(this.pm,Infinity);this.gK(this.pm,Infinity);this.oi(c)};
b.prototype.JS=function(a,b,c){b=-1!=b?b:this.gf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,c))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};b.prototype.$W=function(){for(var a=this.xh(),b=this.nf;-1!=b;b=this.ng(b))for(var c=-1;;){var e=this.JS(b,c,a);if(-1==e)break;for(var c=this.qc(this.Aa(e)),f=e;;){var g=this.qc(f),k=this.Qe(f),l=this.Aa(f);if(k==l){this.bR(f);if(c==f||c==l)c=-1;if(f==e||k==e){e=g;if(f==e||k==e)break;f=g;continue}}else this.Ob(f,a,1);f=g;if(f==e)break}}};b.prototype.pC=
function(b,c,e,f){this.ph();this.fI=f;this.a=b;this.qr=this.a.gG();b=new a.ha(0);b.zb(null!=e?this.a.D(e.get(0)):this.a.ud);var d=0,g=1,h=null!=e?e.get(0):this.a.qd;for(f=1;-1!=h;){this.a.lK(h,this.qr,g);for(var g=g<<1,k=this.a.Pb(h);-1!=k;k=this.a.Sb(k))for(var m=this.a.cb(k),l=0,n=this.a.La(k);l<n;l++)b.add(m),m=this.a.U(m);a.T.Po(this.a.ic(h))||(d+=this.a.aa(h));null!=e?(h=f<e.size?e.get(f):-1,f++):h=this.a.Re(h)}this.zp=g;this.qa=b.size;this.a.Xx(b,this.qa);null==this.Fh&&(this.Fh=new a.Zc(2),
this.Ae=new a.Zc(8),this.Qc=new a.Zc(8),this.Ve=new a.Zc(8));this.Fh.Ne(this.qa);this.Ae.Ne(this.qa+10);this.Qc.Ne(2*this.qa+32);this.Ve.Ne(Math.max(32,d));this.wn=this.a.Sd();e=new a.b;f=0;d=new a.b;e.Yc();for(g=0;g<=this.qa;g++)if(g<this.qa?(m=b.get(g),this.a.w(m,d)):d.Yc(),!e.vb(d)){if(f<g){m=this.Sn();for(n=l=-1;f<g;f++)n=b.get(f),this.a.Va(n,this.wn,m),h=this.Fh.Me(),this.Fh.R(h,0,n),this.Fh.R(h,1,l),l=h,k=this.a.kd(n),h=this.a.mg(k),h=this.Ia(h),this.tX(m,this.Ld(m)|h);this.uX(m,l);this.Ur(m,
this.a.Za(n));-1!=this.Lt&&this.HX(this.Lt,m);this.KX(m,this.Lt);this.Lt=m;-1==this.nf&&(this.nf=m)}f=g;e.L(d)}this.ue=this.xh();5==c&&(this.wg=this.xh());4==c&&(this.Rg=this.xh());this.QQ(c,b);0==this.nj.Ji&&(this.gY(c),0==this.nj.Ji&&(isNaN(this.XA)||this.XP()?(this.vP(),0==this.nj.Ji&&(this.oi(this.ue),this.ue=-1,this.fI&&this.fW(c))):this.$A=!0))};b.prototype.rz=function(a){var b=this.qc(a),c=this.Qe(a),d=this.Aa(a),e=this.qc(d),f=this.Qe(d);b!=d&&(this.Cm(f,b),this.Dm(b,f));c!=d&&(this.Cm(c,
e),this.Dm(e,c));c=this.Mk(a);this.gf(c)==a&&(e!=a?this.jo(c,e):this.jo(c,-1));e=this.Mk(d);this.gf(e)==d&&(b!=d?this.jo(e,b):this.jo(e,-1));this.Qc.jd(a);this.Qc.jd(d)};b.prototype.QG=function(a,b){for(;;)if(b=a.Se(b),-1!=b){var c=a.ia(b);if(this.Af(c)!=this.Af(this.Aa(c)))return c}else return-1};b.prototype.Vr=function(a,b,c){void 0===c&&(c=!0);this.pC(a,0,null,c)};b.prototype.aK=function(b,c){var d=new a.ha(0);d.add(c);this.pC(b,4,d,1736==b.ic(c))};b.prototype.bK=function(b,c){var d=new a.ha(0);
d.add(c);this.pC(b,5,d,!0)};b.prototype.ph=function(){null!=this.a&&(-1!=this.qr&&(this.a.ZW(this.qr),this.qr=-1),-1!=this.wn&&(this.a.je(this.wn),this.wn=-1),-1!=this.rr&&(this.a.je(this.rr),this.rr=-1),-1!=this.ue&&(this.oi(this.ue),this.ue=-1),-1!=this.wg&&(this.oi(this.wg),this.wg=-1),-1!=this.Rg&&(this.oi(this.Rg),this.Rg=-1),this.a=null,this.Ae.Wi(!0),this.Fh.Wi(!0),this.Lt=this.nf=-1,null!=this.Qc&&this.Qc.Wi(!0),null!=this.gj&&(this.gj.length=0),null!=this.dj&&(this.dj.length=0),null!=this.gI&&
(this.gI.length=0),null!=this.Ve&&this.Ve.Wi(!0),this.pm=-1,this.To=null)};b.prototype.gf=function(a){return this.Ae.S(a,2)};b.prototype.w=function(a,b){this.a.gH(this.wS(a),b)};b.prototype.Ld=function(a){return this.Ae.S(a,1)};b.prototype.ng=function(a){return this.Ae.S(a,4)};b.prototype.Nz=function(a){return this.Ae.S(a,6)};b.prototype.dn=function(a){return this.Ae.S(a,7)};b.prototype.it=function(a){return this.Fh.S(a,1)};b.prototype.Yj=function(a){return this.Fh.S(a,0)};b.prototype.Gg=function(a,
b){b=this.dj[b];return b.size<=a?-1:b.read(a)};b.prototype.ko=function(a,b,c){b=this.dj[b];b.size<=a&&b.resize(this.Ae.size,-1);b.write(a,c)};b.prototype.wq=function(){null==this.dj&&(this.dj=[]);for(var b=a.ha.yd(this.Ae.xd,-1),c=0,e=this.dj.length;c<e;c++)if(null==this.dj[c])return this.dj[c]=b,c;this.dj.push(b);return this.dj.length-1};b.prototype.xq=function(a){this.dj[a]=null};b.prototype.Mk=function(a){return this.Qc.S(a,1)};b.prototype.Uf=function(a){return this.Mk(this.Aa(a))};b.prototype.Aa=
function(a){return this.Qc.S(a,4)};b.prototype.Qe=function(a){return this.Qc.S(a,5)};b.prototype.qc=function(a){return this.Qc.S(a,6)};b.prototype.Af=function(a){return this.Qc.S(a,2)};b.prototype.Bf=function(a){return this.Kk(this.Qc.S(a,2))};b.prototype.fn=function(a){return this.Qc.S(a,7)};b.prototype.Ws=function(a,b){this.w(this.Mk(a),b)};b.prototype.en=function(a,b){this.w(this.Uf(a),b)};b.prototype.Ah=function(a){return this.Qc.S(a,3)&this.zP};b.prototype.Kb=function(a,b){b=this.gj[b];return b.size<=
a?-1:b.read(a)};b.prototype.Ob=function(a,b,c){b=this.gj[b];b.size<=a&&b.resize(this.Qc.size,-1);b.write(a,c)};b.prototype.xh=function(){null==this.gj&&(this.gj=[]);for(var b=a.ha.yd(this.Qc.xd,-1),c=0,e=this.gj.length;c<e;c++)if(null==this.gj[c])return this.gj[c]=b,c;this.gj.push(b);return this.gj.length-1};b.prototype.oi=function(a){this.gj[a]=null};b.prototype.bR=function(a){var b=this.Af(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.EG(b)==a&&this.uu(b,c);c=this.To.read(b);isNaN(c)||
(this.eK(b,NaN),this.gK(b,NaN));this.ey(a,!0);this.rz(a)};b.prototype.cR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.Af(this.Aa(d));this.uu(this.Af(d),-1);this.uu(e,-1);this.ey(d,!0);this.rz(d)}};b.prototype.EG=function(a){return this.Ve.S(a,1)};b.prototype.Kk=function(a){return this.Ve.S(a,2)};b.prototype.Co=function(a){return this.Ve.S(a,3)};b.prototype.vS=function(a){return this.Ve.S(a,4)};b.prototype.Dq=function(a){var b=this.To.read(a);isNaN(b)&&(this.MY(a),b=this.To.read(a));
return b};b.prototype.Ia=function(a){return this.a.NG(a,this.qr)};b.prototype.ff=function(a){return this.a.Sa(a,this.wn)};b.prototype.MS=function(a){return this.a.Sa(a,this.rr)};b.prototype.LS=function(a,b){var c=this.gf(a);if(-1==c)return-1;var d=c,e=-1,f=-1;do{if(this.Uf(d)==b)return d;if(-1==e){e=this.gf(b);if(-1==e)break;f=e}if(this.Uf(f)==a)return d=this.Aa(f);d=this.qc(this.Aa(d));f=this.qc(this.Aa(f))}while(d!=c&&f!=e);return-1};b.prototype.TB=function(b,c){c.Hs();c=c.get();var d=new a.b;this.Ws(b,
d);c.Lc(d);this.en(b,d);c.Xc(d)};b.prototype.gQ=function(b,c){if(b==c)return 0;var d=new a.b;this.en(b,d);var e=new a.b;this.en(c,e);if(d.vb(e))return 0;c=new a.b;this.Ws(b,c);b=new a.b;b.xc(d,c);d=new a.b;d.xc(e,c);return a.b.ts(b,d)};b.prototype.fQ=function(b,c){if(b==c)return 0;var d=new a.b;this.en(b,d);var e=new a.b;this.en(c,e);if(d.vb(e))return 0;c=new a.b;this.Ws(b,c);b=new a.b;b.xc(d,c);d=new a.b;d.xc(e,c);return 0<=d.y&&0<b.y?a.b.ts(b,d):0};b.prototype.XP=function(){for(var b=a.Ub.Yx(this.XA),
c=new a.b,e=new a.b,f=new a.b,g=new a.b,k=new a.b,l=this.nf;-1!=l;l=this.ng(l)){var n=this.gf(l);if(-1!=n){var p=n;this.Ws(p,c);this.en(p,e);k.xc(e,c);var r=k.uk();do{var t=p,p=this.qc(this.Aa(p));if(p!=t){this.en(p,f);g.xc(f,c);var t=g.uk(),u=g.Vi(k);if(u*u/(t*r)*Math.min(t,r)<=b)return!1;k.L(g);r=t;e.L(f)}}while(p!=n)}}return!0};return b}();a.Vu=e})(y||(y={}));(function(a){var e=function(){function e(){this.i=null;this.nI=new a.b;this.oI=new a.b;this.Nh=null;this.rt=!1;this.bp=-1}e.prototype.Df=
function(a){return a<this.Nh.length?this.Nh[a]:!1};e.prototype.Ml=function(c,b,d,e){var f=a.T.hf(this.i.a.ic(d));if(2==a.T.hf(this.i.a.ic(b))&&1==f)this.WQ(c,b,d,e);else throw a.g.za();};e.prototype.Vr=function(c,b){null==this.i&&(this.i=new a.Vu);this.i.Vr(c,b)};e.prototype.Wr=function(c,b,d){a.vk.V(c,b,d,!0);for(b=c.qd;-1!=b;b=c.Re(b))1736==c.ic(b)&&a.so.V(c,b,-1,this.rt,d);this.Vr(c,d)};e.prototype.SF=function(a,b,d,e,f){var c=this.i.a;if(1736==c.ic(a))for(a=c.Pb(a);-1!=a;a=c.Sb(a)){var g=c.cb(a);
this.i.ff(g);this.i.ff(c.U(g));var h=this.i.MS(g);if(-1!=h){var k=this.i.Kb(h,d);if(1!=k&&2!=k)if(this.Df(this.i.Bf(h))){this.i.Ob(h,d,1);var k=c.Vf(b,-1),m=h,l=this.i.ff(g),n=1;do{var p=this.nn(g,f);c.Oj(k,p);-1!=e&&this.i.ko(l,e,1);this.i.Ob(m,d,1);var m=this.i.qc(m),r;do p=1==n?c.U(g):c.Ra(g),r=-1!=p?this.i.ff(p):-1;while(r==l);var t=this.i.Mk(m);if(t!=r){do p=1==n?c.Ra(g):c.U(g),r=-1!=p?this.i.ff(p):-1;while(r==l);t!=r?(r=t,p=this.i.Yj(this.i.dn(r))):n=-n}l=r;g=p}while(m!=h);c.ho(k,!0)}else this.i.Ob(h,
d,2)}}};e.prototype.lG=function(){for(var c=this.i.xh(),b=new a.ha(0),d=this.i.nf;-1!=d;d=this.i.ng(d)){var e=this.i.gf(d),f=e;if(-1!=e){do{if(1!=this.i.Kb(f,c)){var g=this.i.Aa(f);this.i.Ob(g,c,1);this.i.Ob(f,c,1);this.Df(this.i.Bf(f))&&this.Df(this.i.Bf(g))&&b.add(f)}f=this.i.qc(this.i.Aa(f))}while(f!=e)}}this.i.oi(c);this.i.cR(b)};e.prototype.nn=function(a,b){return-1==b?a:this.wT(a,b)};e.prototype.wT=function(a,b){var c=this.i.a,e,f,g=this.i.dn(this.i.ff(a));do{e=this.i.Yj(g);f=c.mg(c.kd(e));
if(f==b)return e;g=this.i.it(g)}while(-1!=g);return a};e.prototype.ds=function(c,b,d){this.lG();var e=this.i.a,f=e.ah(1736),g=this.i.xh();this.WK(c,b,f,d,g,-1);this.i.oi(g);a.so.V(e,f,1,this.rt,null);return f};e.prototype.WK=function(a,b,d,e,f,g){this.SF(a,d,f,g,e);-1!=b&&this.SF(b,d,f,g,e);a=this.i.a;for(b=this.i.nf;-1!=b;b=this.i.ng(b)){var c=this.i.gf(b);if(-1!=c){var h=c;do{var k=this.i.Kb(h,f);if(1!=k&&2!=k)if(this.Df(this.i.Bf(h))){var k=a.Vf(d,-1),m=h;do{var l=this.i.fn(m);-1!=l?l=this.i.Yj(l):
(l=this.i.Yj(this.i.fn(this.i.Aa(m))),l=this.i.a.U(l));l=this.nn(l,e);a.Oj(k,l);this.i.Ob(m,f,1);-1!=g&&(l=this.i.ff(l),this.i.ko(l,g,1));m=this.i.qc(m)}while(m!=h);a.ho(k,!0)}else this.i.Ob(h,f,2);h=this.i.qc(this.i.Aa(h))}while(h!=c)}}};e.prototype.yY=function(c,b,d){var e=this.i.a,f=e.ah(1736),g=e.ah(1607),k=e.ah(550);this.lG();var l=-1,n=this.i.xh(),p=this.i.wq();this.WK(c,b,f,d,n,p);for(c=this.i.nf;-1!=c;c=this.i.ng(c))if(b=this.i.gf(c),-1!=b){var r=b;do{var t=this.i.Kb(r,n),u=this.i.Kb(this.i.Aa(r),
n),t=t|u;if(2==t)if(t=this.i.Ah(r),this.Df(t)){var v=e.Vf(g,-1),w=r,t=this.Jx(c,e),t=this.nn(t,d);e.Oj(v,t);this.i.ko(c,p,1);do{t=this.i.Uf(w);u=this.Jx(t,e);u=this.nn(u,d);e.Oj(v,u);this.i.Ob(w,n,1);this.i.Ob(this.i.Aa(w),n,1);this.i.ko(t,p,1);w=this.i.qc(w);t=this.i.Kb(w,n);u=this.i.Kb(this.i.Aa(w),n);t|=u;if(2!=t)break;t=this.i.Ah(w);if(!this.Df(t)){this.i.Ob(w,n,1);this.i.Ob(this.i.Aa(w),n,1);break}}while(w!=r)}else this.i.Ob(r,n,1),this.i.Ob(this.i.Aa(r),n,1);r=this.i.qc(this.i.Aa(r))}while(r!=
b)}for(c=this.i.nf;-1!=c;c=this.i.ng(c))t=this.i.Gg(c,p),1!=t&&(t=this.i.Ld(c),this.Df(t)&&(-1==l&&(l=e.Vf(k,-1)),b=this.i.dn(c),-1!=b&&(b=this.i.Yj(b),t=this.nn(b,d),e.Oj(l,t))));this.i.xq(p);this.i.oi(n);a.so.V(e,f,1,this.rt,null);d=[];d[0]=k;d[1]=g;d[2]=f;return d};e.prototype.Jx=function(a,b){var c=-1;for(a=this.i.dn(a);-1!=a;a=this.i.it(a)){var e=this.i.Yj(a);-1==c&&(c=e);var f=this.i.Ia(b.mg(b.kd(e)));if(this.Df(f)){c=e;break}}return c};e.prototype.QB=function(c,b){for(var d=this.i.Mk(b),e=
this.i.Uf(b),f=0,g=0,k=this.i.dn(d);-1!=k;k=this.i.it(k)){var l=this.i.Yj(k),n=c.kd(l),p=this.i.Ia(c.mg(n)),r=c.U(l),t=c.Ra(l),n=c.cb(n);n==l&&(this.bp=b);-1!=r&&this.i.ff(r)==e?(f++,this.Df(p)&&(n==r&&(this.bp=this.i.qc(b)),g++)):-1!=t&&this.i.ff(t)==e&&(f--,this.Df(p)&&(n==t&&(this.bp=this.i.qc(b)),g--))}this.i.w(d,this.nI);this.i.w(e,this.oI);d=a.b.Cb(this.nI,this.oI);return(0!=g?g:f)*d};e.prototype.Fq=function(a){return this.i.Ah(a)|this.i.Bf(a)|this.i.Bf(this.i.Aa(a))};e.prototype.aL=function(a){for(var b=
this.i.Aa(this.i.Qe(a)),c=-1;b!=a;){if(this.Df(this.Fq(b))){if(-1!=c)return-1;c=b}b=this.i.Aa(this.i.Qe(b))}return-1!=c?this.i.Aa(c):-1};e.prototype.bL=function(a){for(var b=this.i.Aa(this.i.qc(a)),c=-1;b!=a;){if(this.Df(this.Fq(b))){if(-1!=c)return-1;c=b}b=this.i.Aa(this.i.qc(b))}return-1!=c?this.i.Aa(c):-1};e.prototype.RJ=function(c,b,d,e,f){var g=this.i.a,h=c,k=this.i.Aa(h);this.i.Ob(h,d,1);this.i.Ob(k,d,1);var m=this.QB(g,h);this.bp=-1;for(var l=h,n=-1,p=!1,r=1;;){var t=this.i.Qe(h);if(t==k)break;
k=this.i.qc(k);if(this.i.Aa(t)!=k)if(h=this.aL(h),-1==h)break;else p=!0,k=this.i.Aa(h);else h=t;if(h==c){n=c;break}t=this.Fq(h);if(!this.Df(t))break;this.i.Ob(h,d,1);this.i.Ob(k,d,1);l=h;m+=this.QB(g,h);r++}if(-1==n)for(h=c,k=this.i.Aa(h),n=h;;){c=this.i.qc(h);if(c==k)break;k=this.i.Qe(k);if(this.i.Aa(c)!=k)if(h=this.bL(h),-1==h){p=!0;break}else k=this.i.Aa(h);else h=c;t=this.Fq(h);if(!this.Df(t))break;this.i.Ob(h,d,1);this.i.Ob(k,d,1);n=h;m+=this.QB(g,h);r++}else if(-1!=this.bp&&(l=this.bp,n=this.i.Qe(this.bp),
this.i.Aa(n)!=this.i.qc(this.i.Aa(l))&&(n=this.aL(l),-1==n)))throw a.g.za();0<=m||(h=n,n=this.i.Aa(l),l=this.i.Aa(h));d=g.Vf(b,-1);h=l;l=this.i.Mk(l);p=this.i.Uf(n)==l&&p;m=this.Jx(l,g);m=this.nn(m,f);g.Oj(d,m);-1!=e&&this.i.ko(l,e,1);l=0;for(r=p?a.J.truncate((r+1)/2):-1;;){c=this.i.Uf(h);m=this.Jx(c,g);m=this.nn(m,f);g.Oj(d,m);l++;-1!=e&&this.i.ko(c,e,1);p&&l==r&&(d=g.Vf(b,-1),g.Oj(d,m));if(h==n)break;c=this.i.qc(h);if(this.i.Qe(this.i.Aa(h))!=this.i.Aa(c)){if(h=this.bL(h),-1==h)throw a.g.za();}else h=
c}};e.prototype.es=function(a){for(var b=this.i.a.ah(1607),c=this.i.xh(),e=this.i.nf;-1!=e;e=this.i.ng(e)){var f=this.i.gf(e),g=f;do 1!=this.i.Kb(g,c)&&this.Df(this.Fq(g))&&this.RJ(g,b,c,-1,a),g=this.i.qc(this.i.Aa(g));while(g!=f)}this.i.oi(c);return b};e.prototype.zY=function(a){for(var b=this.i.a,c=b.ah(1607),e=b.ah(550),f=this.i.xh(),g=this.i.wq(),k=-1,l=this.i.nf;-1!=l;l=this.i.ng(l)){var n=this.i.gf(l),p=n;do{var r=this.i.Kb(p,f);1!=r&&(r=this.Fq(p),this.Df(r)&&this.RJ(p,c,f,g,a));p=this.i.qc(this.i.Aa(p))}while(p!=
n)}for(l=this.i.nf;-1!=l;l=this.i.ng(l))r=this.i.Gg(l,g),1!=r&&(r=this.i.Ld(l),this.Df(r)&&(-1==k&&(k=b.Vf(e,-1)),n=this.i.dn(l),-1!=n&&(n=this.i.Yj(n),n=this.nn(n,a),b.Oj(k,n))));this.i.oi(f);this.i.xq(g);a=[];a[0]=e;a[1]=c;return a};e.prototype.Xp=function(){for(var a=this.i.a,b=a.ah(550),d=a.Vf(b,-1),e=this.i.nf;-1!=e;e=this.i.ng(e))if(this.Df(this.i.Ld(e))){for(var f=-1,g=this.i.dn(e);-1!=g;g=this.i.it(g)){var k=this.i.Yj(g);-1==f&&(f=k);var l=this.i.Ia(a.mg(a.kd(k)));if(this.Df(l)){f=k;break}}a.Oj(d,
f)}return b};e.prototype.Jo=function(a){this.Nh=[];for(var b=0;b<a;b++)this.Nh[b]=!1};e.fD=function(c,b,d,e){var f=c.Ka(),g=Array(1E3);a.J.Ov(g,null);var h=a.J.df(1E3,0),k=c.D(),l=!0,n=2==b.ub();if(1!=b.ub()&&2!=b.ub())throw a.g.za();for(var p=0;p<k;){var r=a.J.truncate(c.JW(g,p)-p);n?a.fd.UK(b,g,r,d,h):a.fd.VK(b,g,r,d,h);for(var t=0,u=0;u<r;u++){var v=0==h[u];e||(v=!v);v&&(l&&(l=!1,f.Hd(c,0,p)),t!=u&&f.Hd(c,p+t,p+u),t=u+1)}l||t==r||f.Hd(c,p+t,p+r);p+=r}return l?c:f};e.AH=function(c,b,d){return c instanceof
a.Dd?e.fD(c,b,d,!0):b instanceof a.Wa?c.u()||b.u()?c.Ka():a.vk.mJ(d,c,b)?a.vk.bQ(c,b):c.Ka():e.hD(c,b,d,!0)};e.nw=function(c,b,d,f){var g=new a.h;c.s(g);var h=new a.h;b.s(h);var k=new a.h;k.I(g);k.Nb(h);d=a.na.$d(d,k,!0);k=new a.h;k.I(h);h=a.na.As(d);k.P(h,h);if(!g.Yb(k)){if(c.ub()<=b.ub())return e.dc(e.N(c.Ka()),c,"\x26");if(c.ub()>b.ub())return e.dc(e.N(b.Ka()),c,"\x26")}h=new e;g=new a.ed;k=g.Jb(e.N(c));b=g.Jb(e.N(b));h.Wr(g,d,f);f=h.nw(k,b);c=e.dc(g.Pe(f),c,"\x26");a.T.Hc(c.G())&&(c.Xg(2,d),1736==
c.G()&&c.Fl());return c};e.hD=function(c,b,d,e){if(c.u())return c.Ka();if(b.u())return e?c.Ka():null;var f=[null],g=[0],h=2==b.ub();if(1!=b.ub()&&2!=b.ub())throw a.g.za();f[0]=c.w();h?a.fd.UK(b,f,1,d,g):a.fd.VK(b,f,1,d,g);b=0==g[0];e||(b=!b);return b?c.Ka():c};e.TZ=function(c,b,d){return c instanceof a.Dd?e.fD(c,b,d,!1):b instanceof a.Wa?c.u()?c.Ka():b.u()?c:a.vk.mJ(d,c,b)?c.Ka():c:e.hD(c,b,d,!1)};e.prototype.rJ=function(c,b,d,e,f){if(c.u())return c;var g=new a.ed;c=g.Jb(c);return this.ql(g,c,b,d,
e,f)};e.prototype.dW=function(c,b,d,e,f,g){if(f&&550!=c.ic(b)){var h=new a.bE;h.qY(c,d);h.hh?(a.vk.V(c,d,g,!0),f=!1):this.i.cz(d)}else a.vk.V(c,d,g,!0),f=!1;e&&550!=c.ic(b)?this.i.bK(c,b):this.i.aK(c,b);if(this.i.$A)return this.i.ph(),this.i=null,this.ql(c,b,d,e,!1,g);this.i.cz(NaN);g=this.i.Ia(b);this.Jo(g+1);this.Nh[g]=!0;if(1736==c.ic(b)||e&&550!=c.ic(b))return c.Op(b,0),b=this.ds(b,-1,-1),c=c.Pe(b),c.Op(0),f?c.Xg(1,0):(c.Xg(2,d),c.Fl()),c;if(1607==c.ic(b))return b=this.es(-1),c=c.Pe(b),f||c.Xg(2,
d),c;if(550==c.ic(b))return b=this.Xp(),c=c.Pe(b),f||c.Xg(2,d),c;throw a.g.za();};e.prototype.ql=function(c,b,d,e,f,g){this.i=new a.Vu;try{return this.dW(c,b,d,e,f,g)}finally{this.i.ph()}};e.ql=function(a,b,d,f,g){return(new e).rJ(a,b,d,f,g)};e.prototype.cW=function(c,b,d){this.rt=c;this.i=new a.Vu;c=b.Eo(d);var e=b.ic(d);1!=c||550==e?this.i.aK(b,d):this.i.bK(b,d);if(!this.i.$A)if(this.i.cz(NaN),e=this.i.Ia(d),this.Jo(e+1),this.Nh[e]=!0,1736==b.ic(d)||1==c&&550!=b.ic(d))b.Op(d,0),c=this.ds(d,-1,-1),
b.HC(c,d),b.dC(c);else if(1607==b.ic(d))c=this.es(-1),b.HC(c,d),b.dC(c);else if(550==b.ic(d))c=this.Xp(),b.HC(c,d),b.dC(c);else throw a.g.X("internal error");};e.GC=function(a,b,d,f){var c=new e;c.rt=!0;return c.rJ(a,b,!1,d,f)};e.prototype.an=function(c,b){var d=a.T.hf(this.i.a.ic(c)),e=a.T.hf(this.i.a.ic(b));if(d>e)return c;var f=this.i.Ia(c),g=this.i.Ia(b);this.Jo((f|g)+1);this.Nh[this.i.Ia(c)]=!0;if(2==d&&2==e)return this.ds(c,b,-1);if(1==d&&2==e||1==d&&1==e)return this.es(-1);if(0==d)return this.Xp();
throw a.g.za();};e.prototype.kG=function(c,b){var d=a.T.hf(this.i.a.ic(c)),e=a.T.hf(this.i.a.ic(b));if(d>e)return c;if(d<e)return b;var f=this.i.Ia(c),g=this.i.Ia(b);this.Jo((f|g)+1);this.Nh[this.i.Ia(c)]=!0;this.Nh[this.i.Ia(b)]=!0;this.Nh[this.i.Ia(c)|this.i.Ia(b)]=!0;if(2==d&&2==e)return this.ds(c,b,-1);if(1==d&&1==e)return this.es(-1);if(0==d&&0==e)return this.Xp();throw a.g.za();};e.prototype.nw=function(c,b){var d=a.T.hf(this.i.a.ic(c)),e=a.T.hf(this.i.a.ic(b)),f=this.i.Ia(c),g=this.i.Ia(b);
this.Jo((f|g)+1);this.Nh[this.i.Ia(c)|this.i.Ia(b)]=!0;f=-1;1<this.i.a.Gr.Ga&&(f=c);if(2==d&&2==e)return this.ds(c,b,f);if(1==d&&0<e||1==e&&0<d)return this.es(f);if(0==d||0==e)return this.Xp();throw a.g.za();};e.prototype.yA=function(c,b){var d=a.T.hf(this.i.a.ic(c)),e=a.T.hf(this.i.a.ic(b)),f=this.i.Ia(c),g=this.i.Ia(b);this.Jo((f|g)+1);this.Nh[this.i.Ia(c)|this.i.Ia(b)]=!0;f=-1;1<this.i.a.Gr.Ga&&(f=c);if(2==d&&2==e)return this.yY(c,b,f);if(1==d&&0<e||1==e&&0<d)return this.zY(f);if(0==d||0==e)return d=
[],d[0]=this.Xp(),d;throw a.g.za();};e.prototype.Wp=function(c,b){var d=a.T.hf(this.i.a.ic(c)),e=a.T.hf(this.i.a.ic(b)),f=this.i.Ia(c),g=this.i.Ia(b);this.Jo((f|g)+1);this.Nh[this.i.Ia(c)]=!0;this.Nh[this.i.Ia(b)]=!0;if(2==d&&2==e)return this.ds(c,b,-1);if(1==d&&1==e)return this.es(-1);if(0==d&&0==e)return this.Xp();throw a.g.za();};e.N=function(c){var b=c.G();return 197==b?(b=new a.Ja(c.description),c.u()||b.hd(c,!1),b):33==b?(b=new a.Dd(c.description),c.u()||b.add(c),b):322==b?(b=new a.Ua(c.description),
c.u()||b.cc(c,!0),b):c};e.dc=function(c,b,d){var e=c.G();return 197==e?(b=new a.Ja(c.description),c.u()||b.hd(c,!1),b):33!=e||"|"!=d&&"^"!=d?322==e?(b=new a.Ua(c.description),c.u()||b.cc(c,!0),b):33==e&&"-"==d&&33==b.G()||550==e&&"\x26"==d&&33==b.G()?(b=new a.Wa(c.description),c.u()||c.xe(0,b),b):c:(b=new a.Dd(c.description),c.u()||b.add(c),b)};e.an=function(c,b,d,f){if(c.u()||b.u()||c.ub()>b.ub())return e.dc(e.N(c),c,"-");var g=new a.h;c.s(g);var h=new a.h;b.s(h);if(!g.Yb(h))return e.dc(e.N(c),c,
"-");var k=new a.h;k.I(g);k.Nb(h);d=a.na.$d(d,k,!0);h=new e;g=new a.ed;k=g.Jb(e.N(c));b=g.Jb(e.N(b));h.Wr(g,d,f);f=h.an(k,b);f=g.Pe(f);c=e.dc(f,c,"-");a.T.Hc(c.G())&&(c.Xg(2,d),1736==c.G()&&c.Fl());return c};e.kG=function(c,b,d,f){if(c.ub()>b.ub())return e.dc(e.N(c),c,"|");if(c.ub()<b.ub()||c.u())return e.dc(e.N(b),c,"|");if(b.u())return e.dc(e.N(c),c,"|");var g=new a.h;c.s(g);var h=new a.h;b.s(h);var k=new a.h;k.I(g);k.Nb(h);d=a.na.$d(d,k,!0);if(!g.Yb(h.OS(d,d)))switch(c=e.N(c),b=e.N(b),c.G()){case 550:return c=
a.T.me(c),c.Hd(b,0,-1),c;case 1607:return c=a.T.me(c),c.add(b,!1),c;case 1736:return c=a.T.me(c),c.add(b,!1),c;default:throw a.g.za();}h=new e;g=new a.ed;k=g.Jb(e.N(c));b=g.Jb(e.N(b));h.Wr(g,d,f);b=h.kG(k,b);c=e.dc(g.Pe(b),c,"|");a.T.Hc(c.G())&&(c.Xg(2,d),1736==c.G()&&c.Fl());return c};e.nR=function(c,b,d){if(2>c.length)throw a.g.F("not enough geometries to dissolve");for(var f=0,g=0,k=c.length;g<k;g++)f=Math.max(c[g].ub(),f);var l=new a.h;l.Oa();for(var n=new a.ed,p=-1,r=0,t=-1,g=0,k=c.length;g<
k;g++)if(c[g].ub()==f)if(c[g].u())-1==t&&(t=g);else{t=g;-1==p?p=n.Jb(e.N(c[g])):n.TO(p,e.N(c[g]));var u=new a.h;c[g].ac(u);l.Nb(u);r++}if(2>r)return e.N(c[t]);c=2==f;b=a.na.$d(0==f?b:null,l,!0);return(new e).ql(n,p,b,c,!0,d)};e.yA=function(c,b,d,f){var g=[null,null,null],h=new a.h;c.s(h);var k=new a.h;b.s(k);var l=new a.h;l.I(h);l.Nb(k);d=a.na.$d(d,l,!0);l=new a.h;l.I(k);k=a.na.As(d);l.P(k,k);if(!h.Yb(l)){if(c.ub()<=b.ub())return c=e.dc(e.N(c.Ka()),c,"\x26"),g[c.ub()]=c,g;if(c.ub()>b.ub())return c=
e.dc(e.N(b.Ka()),c,"\x26"),g[c.ub()]=c,g}k=new e;h=new a.ed;l=h.Jb(e.N(c));b=h.Jb(e.N(b));k.Wr(h,d,f);f=k.yA(l,b);for(b=0;b<f.length;b++)k=e.dc(h.Pe(f[b]),c,"\x26"),a.T.Hc(k.G())&&(k.Xg(2,d),1736==k.G()&&k.Fl()),g[k.ub()]=k;return g};e.Wp=function(c,b,d,f){if(c.ub()>b.ub())return e.dc(e.N(c),c,"^");if(c.ub()<b.ub()||c.u())return e.dc(e.N(b),c,"^");if(b.u())return e.dc(e.N(c),c,"^");var g=new a.h;c.s(g);var h=new a.h;b.s(h);var k=new a.h;k.I(g);k.Nb(h);d=a.na.$d(d,k,!0);h=new e;g=new a.ed;k=g.Jb(e.N(c));
b=g.Jb(e.N(b));h.Wr(g,d,f);f=h.Wp(k,b);c=e.dc(g.Pe(f),c,"^");a.T.Hc(c.G())&&(c.Xg(2,d),1736==c.G()&&c.Fl());return c};e.wZ=function(c,b,d){b=b.G();d=d.G();return 550==c.G()&&(33==b||33==d)&&1>=c.D()?(d=new a.Wa(c.description),c.u()||c.xe(0,d),d):c};e.prototype.$R=function(a,b){var c=this.i.a;a=c.Vf(a,-1);for(var e=b.size,f=0;f<e;f++){var g=b.get(f);c.Oj(a,g)}c.ho(a,!0)};e.prototype.AX=function(a,b){for(var c=this.i.a,e=c.qd;-1!=e;e=c.Re(e))if(e==b)for(var f=c.Pb(e);-1!=f;f=c.Sb(f)){var g=c.cb(f);
if(-1!=g)for(var k=c.U(g);-1!=k;){var g=this.i.ff(g),l=this.i.ff(k),g=this.i.LS(g,l);-1!=g&&(l=this.i.Aa(g),this.i.Ob(g,a,1),this.i.Ob(l,a,2));g=k;k=c.U(g)}}};e.prototype.wW=function(c,b,d,e){d=this.i.Ia(d);e=this.i.Ia(e);var f=new a.ha(0);f.zb(256);for(var g=this.i.a,h=this.i.xh(),k=this.i.nf;-1!=k;k=this.i.ng(k)){var l=this.i.gf(k);if(-1!=l){var n=l;do{if(1!=this.i.Kb(n,h)){var p=n,r=n,t=!1,u=0;do{this.i.Ob(p,h,1);if(!t){var v=this.i.Ah(p);0!=(v&e)&&0!=(this.i.Bf(p)&d)&&(r=p,t=!0)}t&&(f.add(this.i.Yj(this.i.dn(this.i.Mk(p)))),
-1!=c&&(v=this.i.Ah(p),0!=(v&e)&&(v=this.i.Kb(p,c),u|=v)));p=this.i.qc(p)}while(p!=r);t&&0<this.i.Dq(this.i.Af(r))&&(p=g.ah(1736),this.$R(p,f),-1!=b&&g.lK(p,b,u));f.clear(!1)}n=this.i.qc(this.i.Aa(n))}while(n!=l)}}this.i.oi(h)};e.prototype.WQ=function(a,b,d,e){this.i.$W();var c=-1;-1!=a&&(c=this.i.xh(),this.AX(c,d));this.wW(c,a,b,d);var f=this.i.a;a=0;for(c=f.qd;-1!=c;c=f.Re(c))c!=b&&c!=d&&(e.add(c),a++);e.Fd(0,a,function(a,b){a=f.jA(f.Pb(a));b=f.jA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.ph=
function(){null!=this.i&&(this.i.ph(),this.i=null)};return e}();a.Cg=e})(y||(y={}));(function(a){var e=function(){function e(a){void 0!==a?this.Vp(a):this.sC()}e.prototype.Vx=function(){this.bc=this.Wb=this.Ab=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(a){return this==a?!0:a instanceof e?this.lb==a.lb&&this.sb==a.sb&&this.Wb==a.Wb&&this.Ab==a.Ab&&this.gb==a.gb&&this.bc==a.bc:!1};e.prototype.kc=function(){a.J.$i();a.J.$i();a.J.$i();a.J.$i();a.J.$i();return a.J.$i()};e.prototype.ai=function(a,
b){var c=this.Ab*a.x+this.gb*a.y+this.bc;b.x=this.lb*a.x+this.sb*a.y+this.Wb;b.y=c};e.prototype.BY=function(a,b,d,e,f){var c=2*b;e*=2;for(b=2*(b+f);c<b;c+=2,e+=2){f=a[c];var g=a[c+1];d[e]=this.lb*f+this.sb*g+this.Wb;d[e+1]=this.Ab*f+this.gb*g+this.bc}};e.prototype.DY=function(c,b,d){for(var e=0;e<b;e++){var f=c[e].x,g=c[e].y,k=this.lb*f+this.sb*g+this.Wb,f=this.Ab*f+this.gb*g+this.bc;null!=d[e]?d[e].ja(k,f):d[e]=a.b.pa(k,f)}};e.prototype.multiply=function(a){e.multiply(this,a,this)};e.multiply=function(a,
b,d){var c,e,f,g,k;c=a.lb*b.lb+a.Ab*b.sb;e=a.sb*b.lb+a.gb*b.sb;f=a.Wb*b.lb+a.bc*b.sb+b.Wb;g=a.lb*b.Ab+a.Ab*b.gb;k=a.sb*b.Ab+a.gb*b.gb;a=a.Wb*b.Ab+a.bc*b.gb+b.bc;d.lb=c;d.sb=e;d.Wb=f;d.Ab=g;d.gb=k;d.bc=a};e.prototype.Sf=function(){var a=new e;a.lb=this.lb;a.sb=this.sb;a.Wb=this.Wb;a.Ab=this.Ab;a.gb=this.gb;a.bc=this.bc;return a};e.prototype.NC=function(c){if(!c.u()){for(var b=[],d=0;4>d;d++)b[d]=new a.b;c.SB(b);this.EY(b,b);c.Mx(b,4)}};e.prototype.EY=function(c,b){for(var d=0;d<c.length;d++){var e=
new a.b,f=c[d];e.x=this.lb*f.x+this.sb*f.y+this.Wb;e.y=this.Ab*f.x+this.gb*f.y+this.bc;b[d]=e}};e.prototype.NT=function(a,b){a.u()||b.u()||0==a.O()||0==a.ea()?this.Vx():(this.sb=this.Ab=0,this.lb=b.O()/a.O(),this.gb=b.ea()/a.ea(),this.Wb=b.o-a.o*this.lb,this.bc=b.A-a.A*this.gb)};e.prototype.CY=function(c){var b=new a.b,d=new a.b;b.ja(this.lb,this.Ab);d.ja(this.sb,this.gb);b.sub(b);var e=.5*b.uk();b.ja(this.lb,this.Ab);d.ja(this.sb,this.gb);b.add(d);b=.5*b.uk();return c*(e>b?Math.sqrt(e):Math.sqrt(b))};
e.prototype.sC=function(){this.lb=1;this.Ab=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.No=function(c){if(void 0!==c){var b=a.b.pa(0,1);this.ai(b,b);b.sub(a.b.pa(0,1));if(b.uk()>c*c)return!1;b.ja(0,0);this.ai(b,b);if(b.uk()>c*c)return!1;b.ja(1,0);this.ai(b,b);b.sub(a.b.pa(1,0));return b.uk()<=c*c}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.Ab&&0==this.bc};e.prototype.eh=function(a){return Math.abs(this.lb*this.gb-this.Ab*this.sb)<=2*a*(Math.abs(this.lb*this.gb)+Math.abs(this.Ab*
this.sb))};e.prototype.zg=function(a,b){this.lb=1;this.sb=0;this.Wb=a;this.Ab=0;this.gb=1;this.bc=b};e.prototype.Vp=function(a,b){void 0!==b?(this.lb=a,this.Ab=this.Wb=this.sb=0,this.gb=b,this.bc=0):this.Vp(a,a)};e.prototype.AC=function(){this.lb=0;this.sb=1;this.Wb=0;this.Ab=1;this.bc=this.gb=0};e.prototype.OX=function(a){this.PX(Math.cos(a),Math.sin(a))};e.prototype.PX=function(a,b){this.lb=a;this.sb=-b;this.Wb=0;this.Ab=b;this.gb=a;this.bc=0};e.prototype.shift=function(a,b){this.Wb+=a;this.bc+=
b};e.prototype.scale=function(a,b){this.lb*=a;this.sb*=a;this.Wb*=a;this.Ab*=b;this.gb*=b;this.bc*=b};e.prototype.rotate=function(a){var b=new e;b.OX(a);this.multiply(b)};e.prototype.inverse=function(a){if(void 0!==a){var b=this.lb*this.gb-this.sb*this.Ab;0==b?a.Vx():(b=1/b,a.Wb=(this.sb*this.bc-this.Wb*this.gb)*b,a.bc=(this.Wb*this.Ab-this.lb*this.bc)*b,a.lb=this.gb*b,a.sb=-this.sb*b,a.Ab=-this.Ab*b,a.gb=this.lb*b)}else this.inverse(this)};return e}();a.Gd=e})(y||(y={}));(function(a){var e=function(){function e(){}
e.prototype.Vx=function(){this.ci=this.bc=this.Wb=this.zf=this.wf=this.vf=this.yf=this.gb=this.sb=this.Pf=this.Ab=this.lb=0};e.prototype.Vp=function(a,b,d){this.lb=a;this.sb=this.Pf=this.Ab=0;this.gb=b;this.wf=this.vf=this.yf=0;this.zf=d;this.ci=this.bc=this.Wb=0};e.prototype.NC=function(c){if(c.u())return c;for(var b=new a.od[8],d=0;8>d;d++)b[d]=new a.od;c.SB(b);this.transform(b,8,b);c.Mx(b);return c};e.prototype.transform=function(c,b,d){for(var e=0;e<b;e++){var f=new a.od,g=c[e];f.x=this.lb*g.x+
this.sb*g.y+this.vf*g.z+this.Wb;f.y=this.Ab*g.x+this.gb*g.y+this.wf*g.z+this.bc;f.z=this.Pf*g.x+this.yf*g.y+this.zf*g.z+this.ci;d[e]=f}};e.prototype.Yp=function(c){var b=new a.od;b.x=this.lb*c.x+this.sb*c.y+this.vf*c.z+this.Wb;b.y=this.Ab*c.x+this.gb*c.y+this.wf*c.z+this.bc;b.z=this.Pf*c.x+this.yf*c.y+this.zf*c.z+this.ci;return b};e.prototype.Tg=function(a){e.multiply(this,a,this)};e.multiply=function(a,b,d){var c,e,f,g,k,l,n,p,r,t,u;c=a.lb*b.lb+a.Ab*b.sb+a.Pf*b.vf;e=a.lb*b.Ab+a.Ab*b.gb+a.Pf*b.wf;
f=a.lb*b.Pf+a.Ab*b.yf+a.Pf*b.zf;g=a.sb*b.lb+a.gb*b.sb+a.yf*b.vf;k=a.sb*b.Ab+a.gb*b.gb+a.yf*b.wf;l=a.sb*b.Pf+a.gb*b.yf+a.yf*b.zf;n=a.vf*b.lb+a.wf*b.sb+a.zf*b.vf;p=a.vf*b.Ab+a.wf*b.gb+a.zf*b.wf;r=a.vf*b.Pf+a.wf*b.yf+a.zf*b.zf;t=a.Wb*b.lb+a.bc*b.sb+a.ci*b.vf+b.Wb;u=a.Wb*b.Ab+a.bc*b.gb+a.ci*b.wf+b.bc;a=a.Wb*b.Pf+a.bc*b.yf+a.ci*b.zf+b.ci;d.lb=c;d.Ab=e;d.Pf=f;d.sb=g;d.gb=k;d.yf=l;d.vf=n;d.wf=p;d.zf=r;d.Wb=t;d.bc=u;d.ci=a};e.inverse=function(c,b){var d=c.lb*(c.gb*c.zf-c.yf*c.wf)-c.Ab*(c.sb*c.zf-c.yf*c.vf)+
c.Pf*(c.sb*c.wf-c.gb*c.vf);if(0!=d){var e,f,g,k,l,n,p,r,t,u;r=1/d;d=(c.gb*c.zf-c.yf*c.wf)*r;g=-(c.sb*c.zf-c.yf*c.vf)*r;n=(c.sb*c.wf-c.gb*c.vf)*r;e=-(c.Ab*c.zf-c.wf*c.Pf)*r;k=(c.lb*c.zf-c.Pf*c.vf)*r;p=-(c.lb*c.wf-c.Ab*c.vf)*r;f=(c.Ab*c.yf-c.Pf*c.gb)*r;l=-(c.lb*c.yf-c.Pf*c.sb)*r;r*=c.lb*c.gb-c.Ab*c.sb;t=-(c.Wb*d+c.bc*g+c.ci*n);u=-(c.Wb*e+c.bc*k+c.ci*p);c=-(c.Wb*f+c.bc*l+c.ci*r);b.lb=d;b.Ab=e;b.Pf=f;b.sb=g;b.gb=k;b.yf=l;b.vf=n;b.wf=p;b.zf=r;b.Wb=t;b.bc=u;b.ci=c}else throw a.g.X("math singularity");};
e.prototype.Sf=function(){var a=new e;a.lb=this.lb;a.Ab=this.Ab;a.Pf=this.Pf;a.sb=this.sb;a.gb=this.gb;a.yf=this.yf;a.vf=this.vf;a.wf=this.wf;a.zf=this.zf;a.Wb=this.Wb;a.bc=this.bc;a.ci=this.ci;return a};return e}();a.DN=e})(y||(y={}));(function(a){var e=function(c){function b(a){if(void 0!==a)a=c.call(this,a.kc(),a)||this;else{a=c.call(this)||this;a.vg=[];a.vg[0]=0;a.Ga=1;a.Th=[];for(var b=0;10>b;b++)a.Th[b]=-1;a.Th[a.vg[0]]=0}a.Zq=!0;return a}Y(b,c);b.prototype.Rd=function(a){this.hasAttribute(a)||
(this.Th[a]=0,this.GE())};b.prototype.removeAttribute=function(b){if(0==b)throw a.g.F("Position attribue cannot be removed");this.hasAttribute(b)&&(this.Th[b]=-1,this.GE())};b.prototype.reset=function(){this.vg[0]=0;this.Ga=1;for(var a=0;a<this.Th.length;a++)this.Th[a]=-1;this.Th[this.vg[0]]=0;this.Zq=!0};b.prototype.Rz=function(){return f.Go().add(this)};b.Hg=function(){return f.Go().uT()};b.N=function(){return f.Go().vT()};b.prototype.eO=function(){var b=this.kc();return new a.ma(b,this)};b.prototype.GE=
function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Th[a]&&(this.vg[b]=a,this.Th[a]=b,b++,this.Ga++);this.Zq=!0};b.prototype.kc=function(){this.Zq&&(this.gm=this.Ck(),this.Zq=!1);return this.gm};b.prototype.Eb=function(a){if(null==a)return!1;if(a==this)return!0;if(!(a instanceof b)||a.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.vg[c]!=a.vg[c])return!1;return this.Zq!=a.Zq?!1:!0};b.prototype.GH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.vg[b]!=a.vg[b])return!1;
return!0};b.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.lg(a.pd(d));return c};b.VS=function(a,c){a=new b(a);a.Rd(c);return a.Rz()};b.WS=function(a,c){for(var d=null,e=0;10>e;e++)!a.hasAttribute(e)&&c.hasAttribute(e)&&(null==d&&(d=new b(a)),d.Rd(e));return null!=d?d.Rz():a};b.tb=function(a,c){a=new b(a);a.removeAttribute(c);return a.Rz()};return b}(a.ma);a.we=e;var f=function(){function a(){this.map=[];var a=new e;this.add(a);a=new e;a.Rd(1);this.add(a)}a.Go=
function(){return a.QN};a.prototype.uT=function(){return a.Lm};a.prototype.vT=function(){return a.Mm};a.prototype.add=function(b){var c=b.kc();if(null!=a.Lm&&a.Lm.kc()==c&&b.GH(a.Lm))return a.Lm;if(null!=a.Mm&&a.Mm.kc()==c&&b.GH(a.Mm))return a.Mm;var e=null;void 0!==this.map[c]&&(e=this.map[c]);null==e&&(e=b.eO(),1==e.Ga?a.Lm=e:2==e.Ga&&1==e.pd(1)?a.Mm=e:this.map[c]=e);return e};a.QN=new a;return a}()})(y||(y={}));var ta={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},
ua={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},sa=new (function(){function a(){this.mO=50;this.hq=new Map;this.Lj=[]}a.prototype.clear=function(){this.Lj.length=0;this.hq.clear()};a.prototype["delete"]=function(a){return this.hq["delete"](a)?(this.Lj.splice(this.Lj.indexOf(a),1),!0):!1};a.prototype.get=function(a){var e=this.hq.get(a);if(void 0!==e)return this.Lj[0]!==a&&(this.Lj.splice(this.Lj.indexOf(a),
1),this.Lj.unshift(a)),e};a.prototype.has=function(a){return this.hq.has(a)};a.prototype.set=function(a,e){void 0!==this.get(a)&&this["delete"](a);this.Lj.unshift(a);this.hq.set(a,e);this.aO();return this};a.prototype.aO=function(){for(;this.Lj.length&&this.Lj.length>this.mO;){var a=this.Lj.pop();this.hq["delete"](a)}};return a}()),K=(ga={},ga.convertJSONToGeometry=function(a){return y.gc.EQ(a)},ga.hasM=function(a){return a.hasAttribute(y.hi.M)},ga.hasZ=function(a){return a.hasAttribute(y.hi.Z)},
ga.getPointX=function(a){return a.Te()},ga.getPointY=function(a){return a.Cf()},ga.getPointZ=function(a){return a.yT()},ga.getPointM=function(a){return a.SS()},ga.getXMin=function(a){return a.dt()},ga.getYMin=function(a){return a.ft()},ga.getXMax=function(a){return a.ct()},ga.getYMax=function(a){return a.et()},ga.getZExtent=function(a){return a.hg(y.hi.Z,0)},ga.getMExtent=function(a){return a.hg(y.hi.M,0)},ga.exportPaths=function(a){var e=[],f=a.aa(),c=null,b=null,d=a.hasAttribute(y.hi.Z),g=a.hasAttribute(y.hi.M);
d&&(c=a.Qa(y.hi.Z));g&&(b=a.Qa(y.hi.M));for(var k=new y.b,l=0;l<f;l++){for(var n=a.wa(l),p=a.La(l),r=0,t=0,u=NaN,v=NaN,x=NaN,z=NaN,A=a.Qb(l),B=[],D=n;D<n+p;D++){a.w(D,k);var z=x=NaN,E=[k.x,k.y];d&&(x=c.get(D),E.push(x));g&&(z=b.get(D),E.push(z));D==n&&A&&(r=k.x,t=k.y,u=x,v=z);B.push(E)}!A||r==k.x&&t==k.y&&(!d||isNaN(u)&&isNaN(x)||u==x)&&(!g||isNaN(v)&&isNaN(z)||v==z)||B.push(B[0].slice(0));e.push(B)}return e},ga.exportPathsFlat=function(){},ga.exportPoints=function(a){var e=a.hasAttribute(y.hi.Z),
f=a.hasAttribute(y.hi.M),c=null,b=null;e&&(c=a.Qa(y.hi.Z));f&&(b=a.Qa(y.hi.M));for(var d=new y.b,g=a.D(),k=[],l=0;l<g;l++){a.w(l,d);var n=[d.x,d.y];e&&n.push(c.get(l));f&&n.push(b.get(l));k.push(n)}return k},ga.exportPointsFlat=function(){},ga);return function(){function a(){}a.buffer=ba;a.clip=v;a.contains=x;a.convexHull=L;a.crosses=p;a.cut=r;a.densify=Z;a.difference=M;a.disjoint=B;a.distance=f;a.equals=l;a.extendedSpatialReferenceInfo=t;a.generalize=W;a.geodesicArea=ra;a.geodesicBuffer=V;a.geodesicDensify=
ka;a.geodesicLength=va;a.intersect=O;a.intersects=A;a.isSimple=P;a.nearestCoordinate=Q;a.nearestVertex=S;a.nearestVertices=aa;a.offset=T;a.overlaps=G;a.planarArea=ca;a.planarLength=la;a.relate=N;a.simplify=R;a.symmetricDifference=I;a.touches=e;a.union=ea;a.within=n;a.rotate=y.my.rotate;a.flipHorizontal=y.my.YR;a.flipVertical=y.my.ZR;a._enableProjection=xa;a._project=ya;a._getTransformation=ia;a._getTransformationBySuitability=wa;return a}()})},"esri/geometry/geometryAdapters/hydrated":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(E,a,k,D,z,u,t){Object.defineProperty(a,"__esModule",{value:!0});a.hydratedAdapter=void 0;a.hydratedAdapter={convertToGEGeometry:function(a,k){if(null==k)return null;var r="cache"in k?k.cache._geVersion:void 0;null==r&&(r=a.convertJSONToGeometry(k),"cache"in k&&(k.cache._geVersion=r));return r},exportPoint:function(a,k,t){var p=a.hasZ(k),f=a.hasM(k);t=new z({x:a.getPointX(k),y:a.getPointY(k),spatialReference:t});p&&(t.z=a.getPointZ(k));f&&(t.m=a.getPointM(k));t.cache._geVersion=k;return t},
exportPolygon:function(a,k,t){a=new u({rings:a.exportPaths(k),hasZ:a.hasZ(k),hasM:a.hasM(k),spatialReference:t});a.cache._geVersion=k;return a},exportPolyline:function(a,k,u){a=new t({paths:a.exportPaths(k),hasZ:a.hasZ(k),hasM:a.hasM(k),spatialReference:u});a.cache._geVersion=k;return a},exportMultipoint:function(a,k,t){a=new D({hasZ:a.hasZ(k),hasM:a.hasM(k),points:a.exportPoints(k),spatialReference:t});a.cache._geVersion=k;return a},exportExtent:function(a,r,t){var p=a.hasZ(r),f=a.hasM(r);t=new k({xmin:a.getXMin(r),
ymin:a.getYMin(r),xmax:a.getXMax(r),ymax:a.getYMax(r),spatialReference:t});p&&(p=a.getZExtent(r),t.zmin=p.vmin,t.zmax=p.vmax);f&&(a=a.getMExtent(r),t.mmin=a.vmin,t.mmax=a.vmax);t.cache._geVersion=r;return t}}})},"esri/views/draw/support/layerUtils":function(){define(["require","exports"],function(E,a){Object.defineProperty(a,"__esModule",{value:!0});a.addUniqueLayer=void 0;a.addUniqueLayer=function(a,D){D&&a&&a.map&&(a=a.map,a.layers.find(function(a){return a===D})||a.add(D))}})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports tslib ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),
function(E,a,k,D,z,u){Object.defineProperty(a,"__esModule",{value:!0});a.OperationHandle=void 0;E=function(a){function t(k){k=a.call(this,k)||this;k.cancelled=!1;k.history={undo:[],redo:[]};k.type=null;return k}k.__extends(t,a);Object.defineProperty(t.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";
case "draw":case "draw-3d":break;default:D.neverReached(this.activeComponent)}return null},enumerable:!1,configurable:!0});t.prototype.addToHistory=function(a){this.history.redo=[];this.history.undo.push(a)};t.prototype.resetHistory=function(){this.history.redo=[];this.history.undo=[]};t.prototype.canUndo=function(){return 0<this.history.undo.length};t.prototype.canRedo=function(){return 0<this.history.redo.length};t.prototype.complete=function(){this.reset();this.onEnd();this.emit("complete")};t.prototype.cancel=
function(){this.cancelled=!0;this.complete()};t.prototype.reset=function(){this.activeComponent.reset()};t.prototype.refreshComponent=function(){var a=this.activeComponent;a&&("box"!==a.type&&"reshape"!==a.type||a.refresh())};Object.defineProperty(t.prototype,"undo",{set:function(a){var k=this;this._set("undo",function(){k.canUndo()&&a()})},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"redo",{set:function(a){var k=this;this._set("redo",function(){k.canRedo()&&a()})},enumerable:!1,
configurable:!0});k.__decorate([u.property()],t.prototype,"activeComponent",void 0);k.__decorate([u.property()],t.prototype,"cancelled",void 0);k.__decorate([u.property()],t.prototype,"history",void 0);k.__decorate([u.property({dependsOn:["activeComponent"]})],t.prototype,"tool",null);k.__decorate([u.property()],t.prototype,"type",void 0);k.__decorate([u.property()],t.prototype,"canUndo",null);k.__decorate([u.property()],t.prototype,"canRedo",null);k.__decorate([u.property()],t.prototype,"onEnd",
void 0);k.__decorate([u.property()],t.prototype,"undo",null);k.__decorate([u.property()],t.prototype,"redo",null);k.__decorate([u.property()],t.prototype,"toggleTool",void 0);k.__decorate([u.property()],t.prototype,"setSnapToScene",void 0);k.__decorate([u.property()],t.prototype,"addToSelection",void 0);k.__decorate([u.property()],t.prototype,"removeFromSelection",void 0);return t=k.__decorate([u.subclass("esri.widgets.Sketch.support.OperationHandle")],t)}(z.EventedAccessor);a.OperationHandle=E})},
"*noref":1}});
define("require exports tslib @dojo/framework/shim/Map ../intl ../core/events ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Attachments ./FeatureForm ./FeatureTemplates ./Spinner ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(E,a,k,D,z,u,t,v,r,x,p,f,l,A,e,n,B,G){function N(a){a.focus()}return function(a){function e(e,k){var r=a.call(this,e,k)||this;r._candidateCommitted=!1;r._featureForm=
new f;r._attachments=new p({visibleElements:{addSubmitButton:!1,cancelAddButton:!1,cancelUpdateButton:!1,deleteButton:!1,errorMessage:!1,progressBar:!1,updateButton:!1}});r._featureTemplates=new l;r._filterText="";r._prompt=null;r._spinner=new A;r.activeWorkflow=null;r.allowedWorkflows=null;r.iconClass="esri-icon-edit";r.label=void 0;r.layerInfos=null;r.messages=null;r.messagesCommon=null;r.messagesTemplates=null;r.supportingWidgetDefaults=null;r.view=null;r.viewModel=new n;r._handleHeaderClickOrKeyDown=
function(a){a.currentTarget["data-prevent-back"]||r._handleBack.call(r,a)};r._setCandidateFeature=function(a,e){void 0===e&&(e=!1);if(!r._candidateCommitted){var f=r.viewModel.activeWorkflow;f.data.edits.feature=a;e&&(f.next(),r._candidateCommitted=!0)}};r._handleSave=r._handleSave.bind(r);r._handleBack=r._handleBack.bind(r);r._handleDone=r._handleDone.bind(r);r._handleDelete=r._handleDelete.bind(r);r._handleAdd=r._handleAdd.bind(r);r._handleEdit=r._handleEdit.bind(r);r._handleAttachmentAdd=r._handleAttachmentAdd.bind(r);
r._handleAttachmentUpdate=r._handleAttachmentUpdate.bind(r);r._handleAttachmentDelete=r._handleAttachmentDelete.bind(r);return r}k.__extends(e,a);e.prototype.initialize=function(){var a=this,e=this.messages,f=this.messagesCommon;this.own([v.init(this,"viewModel",function(e){a._featureForm.viewModel=e?e.featureFormViewModel:null;a._attachments.viewModel=e?e.attachmentsViewModel:null;a._featureTemplates.viewModel=e?e.featureTemplatesViewModel:null;a._spinner.viewModel=e?e.spinnerViewModel:null}),v.init(this,
"view",function(e,f){var k="editor-"+a.id+"-spinner";f&&f.ui.remove(a._spinner,k);e&&e.ui.add(a._spinner,{key:k,position:"manual"})}),v.on(this,"viewModel.sketchViewModel","create",function(){a.scheduleRender()}),v.on(this,"viewModel.activeWorkflow","cancel-request",function(k){var l=k.controller;a._prompt={title:e.cancelRequestTitle,message:e.cancelRequestWarningMessage,options:[{label:f.form.no,type:"neutral",action:function(){l.deny();return a._prompt=null}},{label:f.form.yes,type:"negative",action:function(){l.allow();
a._prompt=null}}]};a.scheduleRender()}),v.init(this,"supportingWidgetDefaults",function(e){e&&(a._featureForm.set(e.featureForm),a._attachments.set(e.attachments),a._featureTemplates.set(e.featureTemplates),a.viewModel.sketchViewModel.set(e.sketch))}),v.watch(this,"_attachments.error",function(k){k&&(a._prompt={title:e.errorWarningTitle,message:k.message,options:[{label:f.form.ok,type:"neutral",action:function(){a._prompt=null}}]})}),v.watch(this,"viewModel.failures",function(f){if(f){f=f[0];var k=
f.retry,l=f.cancel;a._prompt={title:e.errorWarningTitle,message:z.substitute(e.errorWarningMessageTemplate,{errorMessage:f.error.message}),options:[{label:e.retry,type:"positive",action:function(){k();a._prompt=null}},{label:e.ignore,type:"neutral",action:function(){l();return a._prompt=null}}]}}}),v.watch(this,"viewModel.state",function(e){"awaiting-update-feature-candidate"===e&&(a._candidateCommitted=!1)}),v.watch(this,["_attachments.selectedFile","_attachments.submitting"],function(){return a.scheduleRender()}),
v.whenNot(this,"viewModel.activeWorkflow",function(){return a._featureTemplates.filterText=""})])};e.prototype.destroy=function(){this._attachments.destroy();this._featureForm.destroy();this._featureTemplates.destroy()};e.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};e.prototype.startCreateWorkflowAtFeatureCreation=function(a){return this.viewModel.startCreateWorkflowAtFeatureCreation(a)};e.prototype.startCreateWorkflowAtFeatureEdit=
function(a){return this.viewModel.startCreateWorkflowAtFeatureEdit(a)};e.prototype.startUpdateWorkflowAtFeatureSelection=function(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()};e.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(a){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(a)};e.prototype.startUpdateWorkflowAtFeatureEdit=function(a){return this.viewModel.startUpdateWorkflowAtFeatureEdit(a)};e.prototype.deleteFeatureFromWorkflow=function(){return this.viewModel.deleteFeatureFromWorkflow()};
e.prototype.cancelWorkflow=function(a){return this.viewModel.cancelWorkflow(a)};e.prototype.render=function(){var a=this._attachments,e=this.viewModel;if(!e)return G.tsx("div",{class:"esri-editor esri-widget esri-widget--panel"});var f=e.state,k=this._prompt?G.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,title:this._prompt.title,options:this._prompt.options})):null;return G.tsx("div",{class:"esri-editor esri-widget esri-widget--panel"},e.syncing||
a.submitting?this.renderProgressBar():null,"disabled"===f?null:"ready"===f?this.renderLanding():"awaiting-feature-creation-info"===f?this.renderTemplates():"editing-new-feature"===f||"editing-existing-feature"===f?this.renderAttributeEditing():"awaiting-feature-to-update"===f?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===f?this.renderFeatureList():"awaiting-feature-to-create"===f?this.renderFeatureCreation():"adding-attachment"===f?this.renderAttachmentAdding():"editing-attachment"===
f?this.renderAttachmentEditing():null,k)};e.prototype.renderTemplates=function(){return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(this.messages.selectTemplate,!0),G.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()))};e.prototype.renderAttributeEditing=function(){var a=this.viewModel,e=a.activeWorkflow,a=a.featureFormViewModel,f=e.data.edits.feature,k=this.messages,l=this.messagesCommon,n="create"===e.type?l.add:l.update,p=
[{label:n,type:"primary",disabled:"update"===e.type&&!e.data.edits.modified||0<a.inputFields.length&&!a.valid,clickHandler:this._handleSave}],r=!1;"update"===e.type&&(e.data.editableItem.hasAttachments&&(r=!0),-1<e.data.editableItem.supports.indexOf("delete")&&p.push({label:l.delete,type:"tertiary",clickHandler:this._handleDelete}));e=this._getLabel(f);return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(e,!0),G.tsx("div",{key:"content",class:this.classes("esri-editor__content",
"esri-editor__scroller")},G.tsx("div",{class:"esri-editor__content-group"},0<a.inputFields.length?this._featureForm.render():this.renderMessage(z.substitute(k.clickToFinishTemplate,{button:n})),r?G.tsx("div",{key:"attachments"},G.tsx("div",null,k.attachments),this._attachments.render()):null)),this.renderControls(p))};e.prototype.renderAttachmentAdding=function(){var a=this._attachments,e=this.messagesCommon,e=[{label:a.submitting?e.cancel:e.add,disabled:a.submitting||!a.selectedFile,type:"primary",
clickHandler:this._handleAttachmentAdd}];return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(this.messages.addAttachment,!0,a.submitting),G.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},a.render()),this.renderControls(e))};e.prototype.renderAttachmentEditing=function(){var a=this._attachments,e=this.messagesCommon,e=[{label:e.update,disabled:a.submitting||!a.selectedFile,type:"primary",clickHandler:this._handleAttachmentUpdate},
{label:e.delete,disabled:a.submitting,type:"tertiary",clickHandler:this._handleAttachmentDelete}];return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(this.messages.editAttachment,!0,a.submitting),G.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},a.render()),this.renderControls(e))};e.prototype.renderFeatureUpdating=function(){var a=this.messages;return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(a.selectFeature,
!0),G.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(a.selectFeatureToEdit)))};e.prototype.renderMessage=function(a){return G.tsx("div",{class:"esri-editor__message"},a)};e.prototype.renderFeatureCreation=function(){var a=this.messages,e=this.viewModel,f=e.sketchViewModel,e=e.activeWorkflow.data.creationInfo.layer,f=f.canUndo()&&f.createGraphic?f.createGraphic:null,f=this._getSketchingTip(e.geometryType,f);return G.tsx("div",{class:"esri-editor__temp-wrapper",
key:"wrapper"},this.renderHeader(a.placeFeature,!0),G.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(f)))};e.prototype.renderControls=function(a){var e=this;return G.tsx("div",{class:"esri-editor__controls",key:"controls"},a.map(function(a,f){var k=a.disabled,k=void 0===k?!1:k,l=a.type,n=a.clickHandler;return e.renderButton({label:a.label,class:e.classes("esri-editor__control-button","esri-button","secondary"===l?"esri-button--secondary":
"tertiary"===l?"esri-button--tertiary":null,k?"esri-button--disabled":null),disabled:k,clickHandler:n,key:f})}))};e.prototype.renderPrompt=function(a){var e=this,f=a.title,k=a.message;a=a.options;a=void 0===a?[]:a;return G.tsx("div",{class:"esri-editor__warning-card",role:"alert"},G.tsx("div",{class:"esri-editor__warning-header"},G.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),G.tsx("h4",{class:this.classes("esri-heading","esri-editor__warning-heading")},f)),G.tsx("div",{class:"esri-editor__warning-message"},
k),G.tsx("div",{class:"esri-editor__warning-divider"}),a.map(function(a,f){var k=a.label,l=a.action;a=a.type;var n=0===f;return G.tsx("div",{afterCreate:n?N:null,class:e.classes("esri-editor__warning-option",n?"esri-editor__warning-option--primary":null,"positive"===a?"esri-editor__warning-option--positive":"negative"===a?"esri-editor__warning-option--negative":null),key:f,onclick:l,onkeydown:function(a){var e=u.eventKey(a);if("Enter"===e||" "===e)a.preventDefault(),l.call(null)},tabIndex:0,role:"button"},
k)}))};e.prototype.renderProgressBar=function(){return G.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};e.prototype.renderButton=function(a){return G.tsx("button",{class:a.class,disabled:a.disabled,key:a.key,onclick:a.clickHandler,type:"button"},a.label)};e.prototype.renderHeader=function(a,e,f){void 0===e&&(e=!1);void 0===f&&(f=!1);var k=this.messagesCommon;return G.tsx("header",{class:"esri-editor__header",key:"header"},e?G.tsx("div",{"aria-label":k.back,class:this.classes("esri-editor__back-button",
"esri-interactive",f?"esri-button--disabled":null),key:"back-button","data-prevent-back":f,onclick:this._handleHeaderClickOrKeyDown,onkeydown:this._handleHeaderClickOrKeyDown,role:"button",tabIndex:0,title:k.back},G.tsx("span",{"aria-hidden":"true",class:G.isRTL()?"esri-icon-right":"esri-icon-left"})):null,G.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},a))};e.prototype.renderLanding=function(){var a=this.messages,e=this.viewModel,f=e.allowedWorkflows,k=e.canCreate,e=e.canUpdate,
l=G.isRTL()?"esri-icon-left":"esri-icon-right";return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(a.widgetLabel),G.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},G.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<f.indexOf("update")?G.tsx("div",{"aria-disabled":e?"false":"true",class:this.classes("esri-editor__feature-list-item",e?null:"esri-editor__feature-list-item--disabled"),key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,
role:"button",tabIndex:e?0:-1},G.tsx("span",{class:"esri-editor__feature-list-name"},a.editFeature),G.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",l)})):null,-1<f.indexOf("create")?G.tsx("div",{class:this.classes("esri-editor__feature-list-item",k?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:k?0:-1},G.tsx("span",{class:"esri-editor__feature-list-name"},a.addFeature),G.tsx("span",
{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",l)})):null)))};e.prototype.renderFeatureList=function(){var a=this,e=this.messagesTemplates,f=this.viewModel,k=f.editableItems,l=f.activeWorkflow.data.candidates,f=z.substitute(this.messages.multipleFeaturesTemplate,{total:l.length}),n=new D.default;l.map(function(e){return{label:a._getLabel(e),id:e.attributes[e.layer.objectIdField],data:e}}).filter(function(e){var f=e.label,k=e.data;e=a._filterText.toLowerCase();var l=k.layer.title;
return-1<a.viewModel.editableItems.find(function(a){return a.layer===k.layer}).supports.indexOf("update")&&(!e||-1<f.toLowerCase().indexOf(e)||-1<l.toLowerCase().indexOf(e))}).forEach(function(a){var e=a.data.layer;n.has(e)?n.get(e).items.push(a):n.set(e,{id:""+e.id,label:e.title,items:[a]})});k=k.filter(function(a){return n.has(a.layer)}).map(function(a){return n.get(a.layer)}).toArray();return G.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(f,!0),G.tsx("div",{key:"content",
class:this.classes("esri-editor__content","esri-editor__scroller")},B.ItemList({id:this.id,filterText:this._filterText,items:k,messages:{filterPlaceholder:e.filterPlaceholder,noItems:e.noItems,noMatches:e.noMatches},onItemMouseEnter:function(e){return a._setCandidateFeature(e.data)},onItemMouseLeave:function(){return a._setCandidateFeature(null)},onItemSelect:function(e){return a._setCandidateFeature(e.data,!0)},onFilterChange:function(e){return a._filterText=e}})))};e.prototype._getSketchingTip=
function(a,e){var f=this.messages;if("point"===a)return f.tips.clickToAddPoint;if("polygon"===a||"polyline"===a){if(!e)return f.tips.clickToStart;e=e.geometry["polygon"===a?"rings":"paths"][0];return"polygon"===a&&4>e?f.tips.clickToContinue:f.tips.clickToContinueThenDoubleClickToEnd}return f.tips.clickToAddFeature};e.prototype._getLabel=function(a){var e=a.layer,f=e.objectIdField;a=a.attributes;return(e=x.getDisplayFieldName(e))&&""+a[e]||z.substitute(this.messages.untitledFeatureTemplate,{id:a[f]})};
e.prototype._handleDelete=function(){var a=this,e=this.messages;this._prompt={title:e.deleteWarningTitle,message:e.deleteWarningMessage,options:[{label:e.keepFeature,type:"neutral",action:function(){return a._prompt=null}},{label:this.messagesCommon.delete,type:"positive",action:function(){a.viewModel.deleteFeatureFromWorkflow();a._prompt=null}}]}};e.prototype._handleSave=function(){this.viewModel.activeWorkflow.commit()};e.prototype._handleAttachmentAdd=function(){var a=this.viewModel.activeWorkflow;
this._attachments.addAttachment().then(function(){return a.previous()})};e.prototype._handleAttachmentUpdate=function(){var a=this.viewModel.activeWorkflow;this._attachments.updateAttachment().then(function(){return a.previous()})};e.prototype._handleAttachmentDelete=function(){var a=this,e=this.messages;this._prompt={title:e.deleteAttachmentWarningTitle,message:e.deleteAttachmentWarningMessage,options:[{label:e.keepAttachment,type:"neutral",action:function(){return a._prompt=null}},{label:this.messagesCommon.delete,
type:"positive",action:function(){var e=a._attachments,f=a.viewModel.activeWorkflow;e.deleteAttachment(e.viewModel.activeAttachmentInfo).then(function(){f.previous();a._prompt=null})}}]}};e.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};e.prototype._handleEdit=function(){this.viewModel.canUpdate&&this.viewModel.startUpdateWorkflowAtFeatureSelection()};e.prototype._handleDone=function(){this.viewModel.cancelWorkflow({force:!0})};
e.prototype._handleBack=function(){var a=this,e=this.messages,f=this.viewModel.activeWorkflow,k=f.stepId,l=f.data,n=f.type,p=function(){f.hasPreviousStep?f.previous():a.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===k||"editing-existing-feature"===k&&l.edits.modified?this._prompt={title:"create"===n?e.cancelAddTitle:e.cancelEditTitle,message:"create"===n?e.cancelAddWarningMessage:e.cancelEditWarningMessage,options:[{label:"create"===n?e.continueAdding:e.continueEditing,type:"neutral",
action:function(){return a._prompt=null}},{label:"create"===n?e.discardFeature:e.discardEdits,type:"negative",action:function(){p();a._prompt=null}}]}:p()};k.__decorate([r.property()],e.prototype,"_attachments",void 0);k.__decorate([r.aliasOf("viewModel.activeWorkflow")],e.prototype,"activeWorkflow",void 0);k.__decorate([r.aliasOf("viewModel.allowedWorkflows")],e.prototype,"allowedWorkflows",void 0);k.__decorate([r.property()],e.prototype,"iconClass",void 0);k.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",
overridable:!0}})],e.prototype,"label",void 0);k.__decorate([r.aliasOf("viewModel.layerInfos")],e.prototype,"layerInfos",void 0);k.__decorate([r.property(),G.renderable(),G.messageBundle("esri/widgets/Editor/t9n/Editor")],e.prototype,"messages",void 0);k.__decorate([r.property(),G.renderable(),G.messageBundle("esri/t9n/common")],e.prototype,"messagesCommon",void 0);k.__decorate([r.property(),G.renderable(),G.messageBundle("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],e.prototype,"messagesTemplates",
void 0);k.__decorate([r.property()],e.prototype,"supportingWidgetDefaults",void 0);k.__decorate([r.aliasOf("viewModel.view")],e.prototype,"view",void 0);k.__decorate([r.property(),G.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" ")),G.vmEvent(["workflow-cancel","workflow-commit"])],e.prototype,"viewModel",void 0);k.__decorate([G.accessibleHandler()],e.prototype,"_handleDelete",null);k.__decorate([G.accessibleHandler()],
e.prototype,"_handleAttachmentAdd",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleAttachmentUpdate",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleAttachmentDelete",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleAdd",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleEdit",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleDone",null);k.__decorate([G.accessibleHandler()],e.prototype,"_handleBack",null);return e=k.__decorate([r.subclass("esri.widgets.Editor")],
e)}(t.HandleOwnerMixin(e))});