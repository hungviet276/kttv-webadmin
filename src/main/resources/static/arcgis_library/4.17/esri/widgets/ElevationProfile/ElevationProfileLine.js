// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../Color ../../core/Accessor ../../core/arrayUtils ../../core/Logger ../../core/maybe ../../core/uuid ../../core/accessorSupport/decorators ../../geometry/Point ./GroundElevationProvider ./SceneElevationProvider".split(" "),function(t,u,c,g,k,l,m,e,n,d,p,f,q){var r=m.getLogger("ElevationProfileLine");return function(h){function a(b){b=h.call(this,b)||this;b.id=n.generateUUID();b.color=new g("0000FF");b.provider=new f;b.progress=1;b.samples=null;b.stats=null;b.spatialReference=
null;return b}c.__extends(a,h);a.prototype.castProvider=function(b){var a=null;if("string"===typeof b)switch(b){case "ground":case "world-elevation":a=new f({ground:"world-elevation"});break;case "world-topobathymetry":a=new f({ground:"world-topobathymetry"});break;case "scene":a=new q}else"function"===typeof b.queryElevation&&(a=b);return a?a:(r.error("ElevationProfileLine.provider may not be set to null or undefined"),this._get("provider"))};Object.defineProperty(a.prototype,"updating",{get:function(){return 1>
this.progress},enumerable:!1,configurable:!0});a.prototype.updateFromResult=function(b){e.isNone(b)?(this._set("samples",null),this._set("stats",null),this._set("spatialReference",null),this._set("progress",1)):(this._set("samples",b.samples),this._set("stats",b.stats),this._set("spatialReference",b.spatialReference),this._set("progress",b.progress));this.notifyChange("samples");this.notifyChange("stats")};a.prototype.getPoint=function(b){var a=this.samples,c=this.spatialReference;if(e.isNone(a)||
e.isNone(c))return null;var d=a.length;if(0===d)return null;b=l.binaryFindClosest(a,b*a[d-1].distance,function(a){return a.distance});return new p({x:b.x,y:b.y,z:e.unwrapOr(b.z,void 0),spatialReference:c})};c.__decorate([d.property({nonNullable:!0})],a.prototype,"id",void 0);c.__decorate([d.property({nonNullable:!0})],a.prototype,"label",void 0);c.__decorate([d.property({type:g,nonNullable:!0})],a.prototype,"color",void 0);c.__decorate([d.property({nonNullable:!0})],a.prototype,"provider",void 0);
c.__decorate([d.cast("provider")],a.prototype,"castProvider",null);c.__decorate([d.property()],a.prototype,"progress",void 0);c.__decorate([d.property({readOnly:!0,dependsOn:["progress"]})],a.prototype,"updating",null);c.__decorate([d.property()],a.prototype,"samples",void 0);c.__decorate([d.property()],a.prototype,"stats",void 0);c.__decorate([d.property()],a.prototype,"spatialReference",void 0);return a=c.__decorate([d.subclass("esri.widgets.ElevationProfile.ElevationProfileLine")],a)}(k)});