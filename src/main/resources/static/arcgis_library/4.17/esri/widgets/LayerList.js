// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
/*
 MIT
*/
require({cache:{"esri/libs/sortablejs/Sortable":function(){(function(S,x){"object"===typeof exports&&"undefined"!==typeof module?module.exports=x():"function"===typeof define&&define.amd?define(x):(S=S||self,S.Sortable=x())})(this,function(){function S(b){S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return S(b)}function x(){x=Object.assign||
function(b){for(var e=1;e<arguments.length;e++){var g=arguments[e],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&(b[w]=g[w])}return b};return x.apply(this,arguments)}function c(b){for(var e=1;e<arguments.length;e++){var g=null!=arguments[e]?arguments[e]:{},w=Object.keys(g);"function"===typeof Object.getOwnPropertySymbols&&(w=w.concat(Object.getOwnPropertySymbols(g).filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})));w.forEach(function(e){var w=g[e];e in b?Object.defineProperty(b,
e,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[e]=w})}return b}function Q(b,e){if(null==b)return{};var g;if(null==b)g={};else{g={};var w=Object.keys(b),a,d;for(d=0;d<w.length;d++)a=w[d],0<=e.indexOf(a)||(g[a]=b[a])}if(Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(b),a=0;a<d.length;a++)w=d[a],0<=e.indexOf(w)||Object.prototype.propertyIsEnumerable.call(b,w)&&(g[w]=b[w]);return g}function V(b){var e;if(Array.isArray(b)){e=0;for(var g=Array(b.length);e<b.length;e++)g[e]=b[e];
e=g}else e=void 0;e||(e=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=e))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}function M(b){return!!navigator.userAgent.match(b)}function r(b,e,g){b.addEventListener(e,g,!ka&&kb)}function t(b,e,g){b.removeEventListener(e,g,!ka&&kb)}function h(b,e){if(e){"\x3e"===e[0]&&(e=e.substring(1));if(b)try{if(b.matches)return b.matches(e);if(b.msMatchesSelector)return b.msMatchesSelector(e);
if(b.webkitMatchesSelector)return b.webkitMatchesSelector(e)}catch(g){}return!1}}function J(b,e,g,w){if(b){g=g||document;do{if(null!=e&&("\x3e"===e[0]?b.parentNode===g&&h(b,e):h(b,e))||w&&b===g)return b;if(b===g)break}while(b=b.host&&b!==document&&b.host.nodeType?b.host:b.parentNode)}return null}function n(b,e,g){if(b&&e)if(b.classList)b.classList[g?"add":"remove"](e);else{var w=(" "+b.className+" ").replace(lb," ").replace(" "+e+" "," ");b.className=(w+(g?" "+e:"")).replace(lb," ")}}function f(b,
e,g){var w=b&&b.style;if(w){if(void 0===g)return document.defaultView&&document.defaultView.getComputedStyle?g=document.defaultView.getComputedStyle(b,""):b.currentStyle&&(g=b.currentStyle),void 0===e?g:g[e];e in w||-1!==e.indexOf("webkit")||(e="-webkit-"+e);w[e]=g+("string"===typeof g?"":"px")}}function A(b,e){var g="";if("string"===typeof b)g=b;else{do{var w=f(b,"transform");w&&"none"!==w&&(g=w+" "+g)}while(!e&&(b=b.parentNode))}return(b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix)&&
new b(g)}function H(b,e,g){if(b){b=b.getElementsByTagName(e);e=0;var w=b.length;if(g)for(;e<w;e++)g(b[e],e);return b}return[]}function G(){return ka?document.documentElement:document.scrollingElement}function E(b,e,g,w,a){if(b.getBoundingClientRect||b===window){var d,O,m,k,c,B,u;b!==window&&b!==G()?(d=b.getBoundingClientRect(),O=d.top,m=d.left,k=d.bottom,c=d.right,B=d.height,u=d.width):(m=O=0,k=window.innerHeight,c=window.innerWidth,B=window.innerHeight,u=window.innerWidth);if((e||g)&&b!==window&&
(a=a||b.parentNode,!ka)){do if(a&&a.getBoundingClientRect&&("none"!==f(a,"transform")||g&&"static"!==f(a,"position"))){k=a.getBoundingClientRect();O-=k.top+parseInt(f(a,"border-top-width"));m-=k.left+parseInt(f(a,"border-left-width"));k=O+d.height;c=m+d.width;break}while(a=a.parentNode)}w&&b!==window&&(w=(b=A(a||b))&&b.a,a=b&&b.d,b&&(O/=a,m/=w,u/=w,B/=a,k=O+B,c=m+u));return{top:O,left:m,bottom:k,right:c,width:u,height:B}}}function z(b,e,g){var a=p(b,!0);for(b=E(b)[e];a;){e=E(a)[g];var d=void 0,d=
"top"===g||"left"===g?b>=e:b<=e;if(!d)return a;if(a===G())break;a=p(a,!1)}return!1}function la(b,e,g){for(var a=0,d=0,m=b.children;d<m.length;){if("none"!==m[d].style.display&&m[d]!==y.ghost&&m[d]!==y.dragged&&J(m[d],g.draggable,b,!1)){if(a===e)return m[d];a++}d++}return null}function l(b,e){for(b=b.lastElementChild;b&&(b===y.ghost||"none"===f(b,"display")||e&&!h(b,e));)b=b.previousElementSibling;return b||null}function K(b,e){var g=0;if(!b||!b.parentNode)return-1;for(;b=b.previousElementSibling;)"TEMPLATE"===
b.nodeName.toUpperCase()||b===y.clone||e&&!h(b,e)||g++;return g}function I(b){var e=0,g=0,a=G();if(b){do var d=A(b),m=d.d,e=e+b.scrollLeft*d.a,g=g+b.scrollTop*m;while(b!==a&&(b=b.parentNode))}return[e,g]}function aa(b,e){for(var g in b)if(b.hasOwnProperty(g))for(var a in e)if(e.hasOwnProperty(a)&&e[a]===b[g][a])return Number(g);return-1}function p(b,e){if(!b||!b.getBoundingClientRect)return G();var g=!1;do if(b.clientWidth<b.scrollWidth||b.clientHeight<b.scrollHeight){var a=f(b);if(b.clientWidth<
b.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||b.clientHeight<b.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!b.getBoundingClientRect||b===document.body)break;if(g||e)return b;g=!0}}while(b=b.parentNode);return G()}function a(b,e){return Math.round(b.top)===Math.round(e.top)&&Math.round(b.left)===Math.round(e.left)&&Math.round(b.height)===Math.round(e.height)&&Math.round(b.width)===Math.round(e.width)}function d(b,e){return function(){if(!Ba){var g=arguments;1===g.length?
b.call(this,g[0]):b.apply(this,g);Ba=setTimeout(function(){Ba=void 0},e)}}}function k(b,e,g){b.scrollLeft+=e;b.scrollTop+=g}function u(b){var e=window.Polymer,g=window.jQuery||window.Zepto;return e&&e.dom?e.dom(b).cloneNode(!0):g?g(b).clone(!0)[0]:b.cloneNode(!0)}function F(b,e){f(b,"position","absolute");f(b,"top",e.top);f(b,"left",e.left);f(b,"width",e.width);f(b,"height",e.height)}function ba(b){f(b,"position","");f(b,"top","");f(b,"left","");f(b,"width","");f(b,"height","")}function ma(){var b=
[],e;return{captureAnimationState:function(){b=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==f(e,"display")&&e!==y.ghost){b.push({target:e,rect:E(e)});var g=c({},b[b.length-1].rect);if(e.thisAnimationDuration){var a=A(e,!0);a&&(g.top-=a.f,g.left-=a.e)}e.fromRect=g}})},addAnimationState:function(e){b.push(e)},removeAnimationState:function(e){b.splice(aa(b,{target:e}),1)},animateAll:function(g){var w=this;if(this.options.animation){var d=!1,m=0;b.forEach(function(b){var e=
0,g=b.target,O=g.fromRect,k=E(g),c=g.prevFromRect,f=g.prevToRect;b=b.rect;var B=A(g,!0);B&&(k.top-=B.f,k.left-=B.e);g.toRect=k;g.thisAnimationDuration&&a(c,k)&&!a(O,k)&&(b.top-k.top)/(b.left-k.left)===(O.top-k.top)/(O.left-k.left)&&(e=Math.sqrt(Math.pow(c.top-b.top,2)+Math.pow(c.left-b.left,2))/Math.sqrt(Math.pow(c.top-f.top,2)+Math.pow(c.left-f.left,2))*w.options.animation);a(k,O)||(g.prevFromRect=O,g.prevToRect=k,e||(e=w.options.animation),w.animate(g,b,k,e));e&&(d=!0,m=Math.max(m,e),clearTimeout(g.animationResetTimer),
g.animationResetTimer=setTimeout(function(){g.animationTime=0;g.prevFromRect=null;g.fromRect=null;g.prevToRect=null;g.thisAnimationDuration=null},e),g.thisAnimationDuration=e)});clearTimeout(e);d?e=setTimeout(function(){"function"===typeof g&&g()},m):"function"===typeof g&&g();b=[]}else clearTimeout(e),"function"===typeof g&&g()},animate:function(b,e,a,d){if(d){f(b,"transition","");f(b,"transform","");var g=A(this.el),w=(e.left-a.left)/(g&&g.a||1);e=(e.top-a.top)/(g&&g.d||1);b.animatingX=!!w;b.animatingY=
!!e;f(b,"transform","translate3d("+w+"px,"+e+"px,0)");f(b,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:""));f(b,"transform","translate3d(0,0,0)");"number"===typeof b.animated&&clearTimeout(b.animated);b.animated=setTimeout(function(){f(b,"transition","");f(b,"transform","");b.animated=!1;b.animatingX=!1;b.animatingY=!1},d)}}}}function pa(b){var e=b.sortable,g=b.rootEl,a=b.name,d=b.targetEl,m=b.cloneEl,k=b.toEl,f=b.fromEl,B=b.oldIndex,u=b.newIndex,h=b.oldDraggableIndex,
l=b.newDraggableIndex,H=b.originalEvent,p=b.putSortable,q=b.extraEventProperties;if(e=e||g&&g[Y]){var n=e.options,I="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||ka||Ca?(b=document.createEvent("Event"),b.initEvent(a,!0,!0)):b=new CustomEvent(a,{bubbles:!0,cancelable:!0});b.to=k||g;b.from=f||g;b.item=d||g;b.clone=m;b.oldIndex=B;b.newIndex=u;b.oldDraggableIndex=h;b.newDraggableIndex=l;b.originalEvent=H;b.pullMode=p?p.lastPutMode:void 0;var a=c({},q,Da.getEventProperties(a,e)),F;for(F in a)b[F]=
a[F];g&&g.dispatchEvent(b);n[I]&&n[I].call(e,b)}}function W(b){pa(c({putSortable:X,cloneEl:P,targetEl:v,rootEl:N,oldIndex:xa,oldDraggableIndex:Ea,newIndex:ea,newDraggableIndex:qa},b))}function y(b,e){if(!b||!b.nodeType||1!==b.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(b));this.el=b;this.options=e=x({},e);b[Y]=this;var g={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(b.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,
invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mb(b,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(b,e){b.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",
fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==y.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};Da.initializePlugins(this,b,g);for(var a in g)a in e||(e[a]=g[a]);nb(e);for(var d in this)"_"===d.charAt(0)&&"function"===typeof this[d]&&(this[d]=this[d].bind(this));if(this.nativeDraggable=e.forceFallback?!1:xb)this.options.touchStartThreshold=1;e.supportPointer?r(b,"pointerdown",this._onTapStart):(r(b,"mousedown",this._onTapStart),r(b,"touchstart",
this._onTapStart));this.nativeDraggable&&(r(b,"dragover",this),r(b,"dragenter",this));Pa.push(this.el);e.store&&e.store.get&&this.sort(e.store.get(this)||[]);x(this,ma())}function na(b,e,g,a,d,m,k,c){var w,O=b[Y],f=O.options.onMove,B;!window.CustomEvent||ka||Ca?(w=document.createEvent("Event"),w.initEvent("move",!0,!0)):w=new CustomEvent("move",{bubbles:!0,cancelable:!0});w.to=e;w.from=b;w.dragged=g;w.draggedRect=a;w.related=d||e;w.relatedRect=m||E(e);w.willInsertAfter=c;w.originalEvent=k;b.dispatchEvent(w);
f&&(B=f.call(O,w,k));return B}function sa(b){b.draggable=!1}function Za(){$a=!1}function oa(b,e,g){g=E(l(g.el,g.options.draggable));return e?b.clientX>g.right+10||b.clientX<=g.right&&b.clientY>g.bottom&&b.clientX>=g.left:b.clientX>g.right&&b.clientY>g.top||b.clientX<=g.right&&b.clientY>g.bottom+10}function yb(b,e,g,a,d,m,k,c){b=a?b.clientY:b.clientX;var w=a?g.height:g.width,O=a?g.top:g.left;g=a?g.bottom:g.right;a=!1;if(!k)if(c&&Qa<w*d)if(!Fa&&(1===Ga?b>O+w*m/2:b<g-w*m/2)&&(Fa=!0),Fa)a=!0;else{if(1===
Ga?b<O+Qa:b>g-Qa)return-Ga}else if(b>O+w*(1-d)/2&&b<g-w*(1-d)/2)return e=K(v)<K(e)?1:-1,e;if(a||k)if(b<O+w*m/2||b>g-w*m/2)return b>O+w/2?1:-1;return 0}function q(b){b=b.tagName+b.className+b.src+b.href+b.textContent;for(var e=b.length,g=0;e--;)g+=b.charCodeAt(e);return g.toString(36)}function zb(b){Ra.length=0;b=b.getElementsByTagName("input");for(var e=b.length;e--;){var g=b[e];g.checked&&Ra.push(g)}}function m(b){return setTimeout(b,0)}function B(){T.forEach(function(b){clearInterval(b.pid)});T=
[]}function R(){}function ca(){}function Ha(b,e){C.forEach(function(g,a){(a=e.children[g.sortableIndex+(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function ob(b,e){fa.forEach(function(g,a){(a=e.children[g.sortableIndex+(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function Sa(){C.forEach(function(b){b!==L&&b.parentNode&&b.parentNode.removeChild(b)})}var ka=M(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ca=M(/Edge/i),pb=M(/firefox/i),ab=M(/safari/i)&&!M(/chrome/i)&&
!M(/android/i),Ia=M(/iP(ad|od|hone)/i),Ab=M(/chrome/i)&&M(/android/i),kb={capture:!1,passive:!1},lb=/\s+/g,Ba,Y="Sortable"+(new Date).getTime(),Ja=[],bb={initializeByDefault:!0},Da={mount:function(b){for(var e in bb)!bb.hasOwnProperty(e)||e in b||(b[e]=bb[e]);Ja.push(b)},pluginEvent:function(b,e,g){var a=this;this.eventCanceled=!1;g.cancel=function(){a.eventCanceled=!0};var d=b+"Global";Ja.forEach(function(a){if(e[a.pluginName]){if(e[a.pluginName][d])e[a.pluginName][d](c({sortable:e},g));if(e.options[a.pluginName]&&
e[a.pluginName][b])e[a.pluginName][b](c({sortable:e},g))}})},initializePlugins:function(b,e,g,a){Ja.forEach(function(a){var d=a.pluginName;if(b.options[d]||a.initializeByDefault)a=new a(b,e,b.options),a.sortable=b,a.options=b.options,b[d]=a,x(g,a.defaults)});for(var d in b.options)b.options.hasOwnProperty(d)&&(a=this.modifyOption(b,d,b.options[d]),"undefined"!==typeof a&&(b.options[d]=a))},getEventProperties:function(b,e){var g={};Ja.forEach(function(a){"function"===typeof a.eventProperties&&x(g,
a.eventProperties.call(e[a.pluginName],b))});return g},modifyOption:function(b,e,g){var a;Ja.forEach(function(d){b[d.pluginName]&&d.optionListeners&&"function"===typeof d.optionListeners[e]&&(a=d.optionListeners[e].call(b[d.pluginName],g))});return a}},da=function(b,e){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=g.evt,g=Q(g,["evt"]);Da.pluginEvent.bind(y)(b,e,c({dragEl:v,parentEl:U,ghostEl:D,rootEl:N,nextEl:ta,lastDownEl:Ta,cloneEl:P,cloneHidden:ra,dragStarted:Ka,putSortable:X,
activeSortable:y.active,originalEvent:a,oldIndex:xa,oldDraggableIndex:Ea,newIndex:ea,newDraggableIndex:qa,hideGhostForTarget:qb,unhideGhostForTarget:rb,cloneNowHidden:function(){ra=!0},cloneNowShown:function(){ra=!1},dispatchSortableEvent:function(b){W({sortable:e,name:b,originalEvent:a})}},g))};if("undefined"===typeof window||!window.document)throw Error("Sortable.js requires a window with a document");var v,U,D,N,ta,Ta,P,ra,xa,ea,Ea,qa,Ua,X,ya=!1,Va=!1,Pa=[],ua,ia,cb,db,sb,tb,Ka,za,Ga,Fa=!1,Wa=
!1,Qa,Z,eb=[],$a=!1,Ra=[],ub=Ca||ka?"cssFloat":"float",xb=!Ab&&!Ia&&"draggable"in document.createElement("div"),vb=function(){if(ka)return!1;var b=document.createElement("x");b.style.cssText="pointer-events:auto";return"auto"===b.style.pointerEvents}(),mb=function(b,e){var g=f(b),a=parseInt(g.width)-parseInt(g.paddingLeft)-parseInt(g.paddingRight)-parseInt(g.borderLeftWidth)-parseInt(g.borderRightWidth),d=la(b,0,e);b=la(b,1,e);var m=d&&f(d);e=b&&f(b);var k=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+
E(d).width,c=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+E(b).width;return"flex"===g.display?"column"===g.flexDirection||"column-reverse"===g.flexDirection?"vertical":"horizontal":"grid"===g.display?1>=g.gridTemplateColumns.split(" ").length?"vertical":"horizontal":d&&m["float"]&&"none"!==m["float"]?(g="left"===m["float"]?"left":"right",!b||"both"!==e.clear&&e.clear!==g?"horizontal":"vertical"):d&&("block"===m.display||"flex"===m.display||"table"===m.display||"grid"===m.display||k>=a&&"none"===
g[ub]||b&&"none"===g[ub]&&k+c>a)?"vertical":"horizontal"},Bb=function(b,e,g){var a=g?b.left:b.top,d=g?b.right:b.bottom;b=g?b.width:b.height;var m=g?e.left:e.top,k=g?e.right:e.bottom;e=g?e.width:e.height;return a===m||d===k||a+b/2===m+e/2},Cb=function(b,e){var g;Pa.some(function(a){if(!l(a)){var d=E(a),m=a[Y].options.emptyInsertThreshold,w=b>=d.left-m&&b<=d.right+m,d=e>=d.top-m&&e<=d.bottom+m;if(m&&w&&d)return g=a}});return g},nb=function(b){function e(b,a){return function(g,d,m,w){var k=g.options.group.name&&
d.options.group.name&&g.options.group.name===d.options.group.name;if(null==b&&(a||k))return!0;if(null==b||!1===b)return!1;if(a&&"clone"===b)return b;if("function"===typeof b)return e(b(g,d,m,w),a)(g,d,m,w);g=(a?g:d).options.group.name;return!0===b||"string"===typeof b&&b===g||b.join&&-1<b.indexOf(g)}}var g={},a=b.group;a&&"object"==S(a)||(a={name:a});g.name=a.name;g.checkPull=e(a.pull,!0);g.checkPut=e(a.put);g.revertClone=a.revertClone;b.group=g},qb=function(){!vb&&D&&f(D,"display","none")},rb=function(){!vb&&
D&&f(D,"display","")};document.addEventListener("click",function(b){if(Va)return b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),Va=!1},!0);var va=function(b){if(v){b=b.touches?b.touches[0]:b;var e=Cb(b.clientX,b.clientY);if(e){var a={},d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.target=a.rootEl=e;a.preventDefault=void 0;a.stopPropagation=void 0;e[Y]._onDragOver(a)}}},Db=function(b){v&&v.parentNode[Y]._isOutsideThisEl(b.target)};
y.prototype={constructor:y,_isOutsideThisEl:function(b){this.el.contains(b)||b===this.el||(za=null)},_getDirection:function(b,e){return"function"===typeof this.options.direction?this.options.direction.call(this,b,e,v):this.options.direction},_onTapStart:function(b){if(b.cancelable){var e=this,a=this.el,d=this.options,m=d.preventOnFilter,k=b.type,c=b.touches&&b.touches[0]||b.pointerType&&"touch"===b.pointerType&&b,f=(c||b).target,B=b.target.shadowRoot&&(b.path&&b.path[0]||b.composedPath&&b.composedPath()[0])||
f,u=d.filter;zb(a);if(!(v||/mousedown|pointerdown/.test(k)&&0!==b.button||d.disabled||B.isContentEditable||(f=J(f,d.draggable,a,!1),f&&f.animated||Ta===f))){xa=K(f);Ea=K(f,d.draggable);if("function"===typeof u){if(u.call(this,b,f,this)){W({sortable:e,rootEl:B,name:"filter",targetEl:f,toEl:a,fromEl:a});da("filter",e,{evt:b});m&&b.cancelable&&b.preventDefault();return}}else if(u&&(u=u.split(",").some(function(g){if(g=J(B,g.trim(),a,!1))return W({sortable:e,rootEl:g,name:"filter",targetEl:f,fromEl:a,
toEl:a}),da("filter",e,{evt:b}),!0}))){m&&b.cancelable&&b.preventDefault();return}d.handle&&!J(B,d.handle,a,!1)||this._prepareDragStart(b,c,f)}}},_prepareDragStart:function(b,e,a){var g=this,d=g.el,m=g.options,k=d.ownerDocument;if(a&&!v&&a.parentNode===d){var c=E(a);N=d;v=a;U=v.parentNode;ta=v.nextSibling;Ta=a;Ua=m.group;y.dragged=v;ua={target:v,clientX:(e||b).clientX,clientY:(e||b).clientY};sb=ua.clientX-c.left;tb=ua.clientY-c.top;this._lastX=(e||b).clientX;this._lastY=(e||b).clientY;v.style["will-change"]=
"all";a=function(){da("delayEnded",g,{evt:b});y.eventCanceled?g._onDrop():(g._disableDelayedDragEvents(),!pb&&g.nativeDraggable&&(v.draggable=!0),g._triggerDragStart(b,e),W({sortable:g,name:"choose",originalEvent:b}),n(v,m.chosenClass,!0))};m.ignore.split(",").forEach(function(b){H(v,b.trim(),sa)});r(k,"dragover",va);r(k,"mousemove",va);r(k,"touchmove",va);r(k,"mouseup",g._onDrop);r(k,"touchend",g._onDrop);r(k,"touchcancel",g._onDrop);pb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,
v.draggable=!0);da("delayStart",this,{evt:b});!m.delay||m.delayOnTouchOnly&&!e||this.nativeDraggable&&(Ca||ka)?a():y.eventCanceled?this._onDrop():(r(k,"mouseup",g._disableDelayedDrag),r(k,"touchend",g._disableDelayedDrag),r(k,"touchcancel",g._disableDelayedDrag),r(k,"mousemove",g._delayedDragTouchMoveHandler),r(k,"touchmove",g._delayedDragTouchMoveHandler),m.supportPointer&&r(k,"pointermove",g._delayedDragTouchMoveHandler),g._dragStartTimer=setTimeout(a,m.delay))}},_delayedDragTouchMoveHandler:function(b){b=
b.touches?b.touches[0]:b;Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&sa(v);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var b=this.el.ownerDocument;t(b,"mouseup",this._disableDelayedDrag);t(b,"touchend",this._disableDelayedDrag);t(b,"touchcancel",this._disableDelayedDrag);
t(b,"mousemove",this._delayedDragTouchMoveHandler);t(b,"touchmove",this._delayedDragTouchMoveHandler);t(b,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(b,e){e=e||"touch"==b.pointerType&&b;!this.nativeDraggable||e?this.options.supportPointer?r(document,"pointermove",this._onTouchMove):e?r(document,"touchmove",this._onTouchMove):r(document,"mousemove",this._onTouchMove):(r(v,"dragend",this),r(N,"dragstart",this._onDragStart));try{document.selection?m(function(){document.selection.empty()}):
window.getSelection().removeAllRanges()}catch(g){}},_dragStarted:function(b,e){ya=!1;if(N&&v){da("dragStarted",this,{evt:e});this.nativeDraggable&&r(document,"dragover",Db);var a=this.options;!b&&n(v,a.dragClass,!1);n(v,a.ghostClass,!0);y.active=this;b&&this._appendGhost();W({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ia){this._lastX=ia.clientX;this._lastY=ia.clientY;qb();for(var b=document.elementFromPoint(ia.clientX,ia.clientY),e=b;b&&b.shadowRoot;){b=
b.shadowRoot.elementFromPoint(ia.clientX,ia.clientY);if(b===e)break;e=b}v.parentNode[Y]._isOutsideThisEl(b);if(e){do{if(e[Y]){var a=void 0;if((a=e[Y]._onDragOver({clientX:ia.clientX,clientY:ia.clientY,target:b,rootEl:e}))&&!this.options.dragoverBubble)break}b=e}while(e=e.parentNode)}rb()}},_onTouchMove:function(b){if(ua){var e=this.options,a=e.fallbackTolerance,d=e.fallbackOffset,e=b.touches?b.touches[0]:b,m=D&&A(D),k=D&&m&&m.a,c=D&&m&&m.d,B=Ia&&Z&&I(Z),k=(e.clientX-ua.clientX+d.x)/(k||1)+(B?B[0]-
eb[0]:0)/(k||1),d=(e.clientY-ua.clientY+d.y)/(c||1)+(B?B[1]-eb[1]:0)/(c||1);if(!y.active&&!ya){if(a&&Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))<a)return;this._onDragStart(b,!0)}D&&(m?(m.e+=k-(cb||0),m.f+=d-(db||0)):m={a:1,b:0,c:0,d:1,e:k,f:d},a="matrix(".concat(m.a,",").concat(m.b,",").concat(m.c,",").concat(m.d,",").concat(m.e,",").concat(m.f,")"),f(D,"webkitTransform",a),f(D,"mozTransform",a),f(D,"msTransform",a),f(D,"transform",a),cb=k,db=d,ia=e);b.cancelable&&b.preventDefault()}},
_appendGhost:function(){if(!D){var b=this.options.fallbackOnBody?document.body:N,e=E(v,!0,Ia,!0,b),a=this.options;if(Ia){for(Z=b;"static"===f(Z,"position")&&"none"===f(Z,"transform")&&Z!==document;)Z=Z.parentNode;Z!==document.body&&Z!==document.documentElement?(Z===document&&(Z=G()),e.top+=Z.scrollTop,e.left+=Z.scrollLeft):Z=G();eb=I(Z)}D=v.cloneNode(!0);n(D,a.ghostClass,!1);n(D,a.fallbackClass,!0);n(D,a.dragClass,!0);f(D,"transition","");f(D,"transform","");f(D,"box-sizing","border-box");f(D,"margin",
0);f(D,"top",e.top);f(D,"left",e.left);f(D,"width",e.width);f(D,"height",e.height);f(D,"opacity","0.8");f(D,"position",Ia?"absolute":"fixed");f(D,"zIndex","100000");f(D,"pointerEvents","none");y.ghost=D;b.appendChild(D);f(D,"transform-origin",sb/parseInt(D.style.width)*100+"% "+tb/parseInt(D.style.height)*100+"%")}},_onDragStart:function(b,e){var a=this,d=b.dataTransfer,k=a.options;da("dragStart",this,{evt:b});y.eventCanceled?this._onDrop():(da("setupClone",this),y.eventCanceled||(P=u(v),P.draggable=
!1,P.style["will-change"]="",this._hideClone(),n(P,this.options.chosenClass,!1),y.clone=P),a.cloneId=m(function(){da("clone",a);y.eventCanceled||(a.options.removeCloneOnHide||N.insertBefore(P,v),a._hideClone(),W({sortable:a,name:"clone"}))}),!e&&n(v,k.dragClass,!0),e?(Va=!0,a._loopId=setInterval(a._emulateDragOver,50)):(t(document,"mouseup",a._onDrop),t(document,"touchend",a._onDrop),t(document,"touchcancel",a._onDrop),d&&(d.effectAllowed="move",k.setData&&k.setData.call(a,d,v)),r(document,"drop",
a),f(v,"transform","translateZ(0)")),ya=!0,a._dragStartId=m(a._dragStarted.bind(a,e,b)),r(document,"selectstart",a),Ka=!0,ab&&f(document.body,"user-select","none"))},_onDragOver:function(b){function e(e,a){da(e,G,c({evt:b,isOwner:A,axis:ca?"vertical":"horizontal",revert:H,dragRect:h,targetRect:p,canSort:r,fromSortable:t,target:u,completed:d,onMove:function(e,a){return na(N,B,v,h,e,E(e),b,a)},changed:m},a))}function a(){e("dragOverAnimationCapture");G.captureAnimationState();G!==t&&t.captureAnimationState()}
function d(a){e("dragOverCompleted",{insertion:a});a&&(A?I._hideClone():I._showClone(G),G!==t&&(n(v,X?X.options.ghostClass:I.options.ghostClass,!1),n(v,q.ghostClass,!0)),X!==G&&G!==y.active?X=G:G===y.active&&X&&(X=null),t===G&&(G._ignoreWhileAnimating=u),G.animateAll(function(){e("dragOverAnimationComplete");G._ignoreWhileAnimating=null}),G!==t&&(t.animateAll(),t._ignoreWhileAnimating=null));if(u===v&&!v.animated||u===B&&!u.animated)za=null;q.dragoverBubble||b.rootEl||u===document||(v.parentNode[Y]._isOutsideThisEl(b.target),
!a&&va(b));!q.dragoverBubble&&b.stopPropagation&&b.stopPropagation();return ba=!0}function m(){ea=K(v);qa=K(v,q.draggable);W({sortable:G,name:"change",toEl:B,newIndex:ea,newDraggableIndex:qa,originalEvent:b})}var B=this.el,u=b.target,h,p,H,q=this.options,F=q.group,I=y.active,A=Ua===F,r=q.sort,t=X||I,ca,G=this,ba=!1;if(!$a){void 0!==b.preventDefault&&b.cancelable&&b.preventDefault();u=J(u,q.draggable,B,!0);e("dragOver");if(y.eventCanceled)return ba;if(v.contains(b.target)||u.animated&&u.animatingX&&
u.animatingY||G._ignoreWhileAnimating===u)return d(!1);Va=!1;if(I&&!q.disabled&&(A?r||(H=!N.contains(v)):X===this||(this.lastPutMode=Ua.checkPull(this,I,v,b))&&F.checkPut(this,I,v,b))){ca="vertical"===this._getDirection(b,u);h=E(v);e("dragOverValid");if(y.eventCanceled)return ba;if(H)return U=N,a(),this._hideClone(),e("revert"),y.eventCanceled||(ta?N.insertBefore(v,ta):N.appendChild(v)),d(!0);F=l(B,q.draggable);if(!F||oa(b,ca,this)&&!F.animated){if(F===v)return d(!1);F&&B===b.target&&(u=F);u&&(p=
E(u));if(!1!==na(N,B,v,h,u,p,b,!!u))return a(),B.appendChild(v),U=B,m(),d(!0)}else if(u.parentNode===B){p=E(u);var R=0,Ha,R=v.parentNode!==B,x=!Bb(v.animated&&v.toRect||h,u.animated&&u.toRect||p,ca),F=ca?"top":"left",ma=z(u,"top","top")||z(v,"top","top"),C=ma?ma.scrollTop:void 0;za!==u&&(Ha=p[F],Fa=!1,Wa=!x&&q.invertSwap||R);var R=yb(b,u,p,ca,x?1:q.swapThreshold,null==q.invertedSwapThreshold?q.swapThreshold:q.invertedSwapThreshold,Wa,za===u),aa;if(0!==R){x=K(v);do x-=R,aa=U.children[x];while(aa&&
("none"===f(aa,"display")||aa===D))}if(0===R||aa===u)return d(!1);za=u;Ga=R;aa=u.nextElementSibling;x=!1;x=1===R;R=na(N,B,v,h,u,p,b,x);if(!1!==R){if(1===R||-1===R)x=1===R;$a=!0;setTimeout(Za,30);a();x&&!aa?B.appendChild(v):u.parentNode.insertBefore(v,x?aa:u);ma&&k(ma,0,C-ma.scrollTop);U=v.parentNode;void 0===Ha||Wa||(Qa=Math.abs(Ha-E(u)[F]));m();return d(!0)}}if(B.contains(v))return d(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){t(document,"mousemove",this._onTouchMove);t(document,
"touchmove",this._onTouchMove);t(document,"pointermove",this._onTouchMove);t(document,"dragover",va);t(document,"mousemove",va);t(document,"touchmove",va)},_offUpEvents:function(){var b=this.el.ownerDocument;t(b,"mouseup",this._onDrop);t(b,"touchend",this._onDrop);t(b,"pointerup",this._onDrop);t(b,"touchcancel",this._onDrop);t(document,"selectstart",this)},_onDrop:function(b){var e=this.el,a=this.options;ea=K(v);qa=K(v,a.draggable);da("drop",this,{evt:b});U=v&&v.parentNode;ea=K(v);qa=K(v,a.draggable);
if(!y.eventCanceled&&(Fa=Wa=ya=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(t(document,"drop",this),t(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ab&&f(document.body,"user-select",""),b&&(Ka&&(b.cancelable&&b.preventDefault(),!a.dropBubble&&b.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(N===U||X&&"clone"!==X.lastPutMode)&&P&&P.parentNode&&P.parentNode.removeChild(P),
v&&(this.nativeDraggable&&t(v,"dragend",this),sa(v),v.style["will-change"]="",Ka&&!ya&&n(v,X?X.options.ghostClass:this.options.ghostClass,!1),n(v,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:b}),N!==U?(0<=ea&&(W({rootEl:U,name:"add",toEl:U,fromEl:N,originalEvent:b}),W({sortable:this,name:"remove",toEl:U,originalEvent:b}),W({rootEl:U,name:"sort",toEl:U,fromEl:N,originalEvent:b}),W({sortable:this,name:"sort",toEl:U,originalEvent:b})),
X&&X.save()):ea!==xa&&0<=ea&&(W({sortable:this,name:"update",toEl:U,originalEvent:b}),W({sortable:this,name:"sort",toEl:U,originalEvent:b})),y.active)))){if(null==ea||-1===ea)ea=xa,qa=Ea;W({sortable:this,name:"end",toEl:U,originalEvent:b});this.save()}this._nulling()},_nulling:function(){da("nulling",this);N=v=U=D=ta=P=Ta=ra=ua=ia=Ka=ea=qa=xa=Ea=za=Ga=X=Ua=y.dragged=y.ghost=y.clone=y.active=null;Ra.forEach(function(b){b.checked=!0});Ra.length=cb=db=0},handleEvent:function(b){switch(b.type){case "drop":case "dragend":this._onDrop(b);
break;case "dragenter":case "dragover":v&&(this._onDragOver(b),b.dataTransfer&&(b.dataTransfer.dropEffect="move"),b.cancelable&&b.preventDefault());break;case "selectstart":b.preventDefault()}},toArray:function(){for(var b=[],e,a=this.el.children,d=0,m=a.length,k=this.options;d<m;d++)e=a[d],J(e,k.draggable,this.el,!1)&&b.push(e.getAttribute(k.dataIdAttr)||q(e));return b},sort:function(b){var e={},a=this.el;this.toArray().forEach(function(b,g){g=a.children[g];J(g,this.options.draggable,a,!1)&&(e[b]=
g)},this);b.forEach(function(b){e[b]&&(a.removeChild(e[b]),a.appendChild(e[b]))})},save:function(){var b=this.options.store;b&&b.set&&b.set(this)},closest:function(b,e){return J(b,e||this.options.draggable,this.el,!1)},option:function(b,e){var a=this.options;if(void 0===e)return a[b];var d=Da.modifyOption(this,b,e);a[b]="undefined"!==typeof d?d:e;"group"===b&&nb(a)},destroy:function(){da("destroy",this);var b=this.el;b[Y]=null;t(b,"mousedown",this._onTapStart);t(b,"touchstart",this._onTapStart);t(b,
"pointerdown",this._onTapStart);this.nativeDraggable&&(t(b,"dragover",this),t(b,"dragenter",this));Array.prototype.forEach.call(b.querySelectorAll("[draggable]"),function(b){b.removeAttribute("draggable")});this._onDrop();Pa.splice(Pa.indexOf(this.el),1);this.el=b=null},_hideClone:function(){ra||(da("hideClone",this),y.eventCanceled||(f(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),ra=!0))},_showClone:function(b){"clone"!==b.lastPutMode?this._hideClone():
ra&&(da("showClone",this),y.eventCanceled||(N.contains(v)&&!this.options.group.revertClone?N.insertBefore(P,v):ta?N.insertBefore(P,ta):N.appendChild(P),this.options.group.revertClone&&this.animate(v,P),f(P,"display",""),ra=!1))}};r(document,"touchmove",function(b){(y.active||ya)&&b.cancelable&&b.preventDefault()});y.utils={on:r,off:t,css:f,find:H,is:function(b,e){return!!J(b,e,b,!1)},extend:function(b,e){if(b&&e)for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);return b},throttle:d,closest:J,toggleClass:n,
clone:u,index:K,nextTick:m,cancelNextTick:function(b){return clearTimeout(b)},detectDirection:mb,getChild:la};y.get=function(b){return b[Y]};y.mount=function(){for(var b=arguments.length,e=Array(b),a=0;a<b;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]);e.forEach(function(b){if(!b.prototype||!b.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(b));b.utils&&(y.utils=c({},y.utils,b.utils));Da.mount(b)})};y.create=function(b,e){return new y(b,
e)};y.version="1.10.0";var T=[],La,fb,gb=!1,hb,ib,Xa,Aa,jb=d(function(b,e,a,d){if(e.scroll){var g=(b.touches?b.touches[0]:b).clientX,m=(b.touches?b.touches[0]:b).clientY,c=e.scrollSensitivity,u=e.scrollSpeed,w=G(),h=!1,q;fb!==a&&(fb=a,B(),La=e.scroll,q=e.scrollFn,!0===La&&(La=p(a,!0)));a=0;var H=La;do{var l=H,F=E(l),I=F.top,n=F.bottom,A=F.left,v=F.right,z=F.width,F=F.height,R=void 0,r=void 0,t=l.scrollWidth,ca=l.scrollHeight,r=f(l),ba=l.scrollLeft,x=l.scrollTop;l===w?(R=z<t&&("auto"===r.overflowX||
"scroll"===r.overflowX||"visible"===r.overflowX),r=F<ca&&("auto"===r.overflowY||"scroll"===r.overflowY||"visible"===r.overflowY)):(R=z<t&&("auto"===r.overflowX||"scroll"===r.overflowX),r=F<ca&&("auto"===r.overflowY||"scroll"===r.overflowY));A=R&&(Math.abs(v-g)<=c&&ba+z<t)-(Math.abs(A-g)<=c&&!!ba);I=r&&(Math.abs(n-m)<=c&&x+F<ca)-(Math.abs(I-m)<=c&&!!x);if(!T[a])for(n=0;n<=a;n++)T[n]||(T[n]={});if(T[a].vx!=A||T[a].vy!=I||T[a].el!==l)if(T[a].el=l,T[a].vx=A,T[a].vy=I,clearInterval(T[a].pid),0!=A||0!=
I)h=!0,T[a].pid=setInterval(function(){d&&0===this.layer&&y.active._onTouchMove(Xa);var a=T[this.layer].vy?T[this.layer].vy*u:0,e=T[this.layer].vx?T[this.layer].vx*u:0;"function"===typeof q&&"continue"!==q.call(y.dragged.parentNode[Y],e,a,b,Xa,T[this.layer].el)||k(T[this.layer].el,e,a)}.bind({layer:a}),24);a++}while(e.bubbleScroll&&H!==w&&(H=p(H,!1)));gb=h}},30),wb=function(b){var a=b.originalEvent,d=b.putSortable,m=b.dragEl,k=b.activeSortable,c=b.dispatchSortableEvent,u=b.hideGhostForTarget;b=b.unhideGhostForTarget;
k=d||k;u();a=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a;a=document.elementFromPoint(a.clientX,a.clientY);b();k&&!k.el.contains(a)&&(c("spill"),this.onSpill({dragEl:m,putSortable:d}))};R.prototype={startIndex:null,dragStart:function(b){this.startIndex=b.oldDraggableIndex},onSpill:function(b){var a=b.dragEl;b=b.putSortable;this.sortable.captureAnimationState();b&&b.captureAnimationState();var d=la(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(a,
d):this.sortable.el.appendChild(a);this.sortable.animateAll();b&&b.animateAll()},drop:wb};x(R,{pluginName:"revertOnSpill"});ca.prototype={onSpill:function(b){var a=b.dragEl;b=b.putSortable||this.sortable;b.captureAnimationState();a.parentNode&&a.parentNode.removeChild(a);b.animateAll()},drop:wb};x(ca,{pluginName:"removeOnSpill"});var ha,C=[],fa=[],Ma,ja,Na=!1,ga=!1,Oa=!1,L,wa,Ya;y.mount(new function(){function b(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var b in this)"_"===
b.charAt(0)&&"function"===typeof this[b]&&(this[b]=this[b].bind(this))}b.prototype={dragStarted:function(b){b=b.originalEvent;this.sortable.nativeDraggable?r(document,"dragover",this._handleAutoScroll):this.options.supportPointer?r(document,"pointermove",this._handleFallbackAutoScroll):b.touches?r(document,"touchmove",this._handleFallbackAutoScroll):r(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(b){b=b.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},
drop:function(){this.sortable.nativeDraggable?t(document,"dragover",this._handleAutoScroll):(t(document,"pointermove",this._handleFallbackAutoScroll),t(document,"touchmove",this._handleFallbackAutoScroll),t(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(Aa);B();clearTimeout(Ba);Ba=void 0},nulling:function(){Xa=fb=La=gb=Aa=hb=ib=null;T.length=0},_handleFallbackAutoScroll:function(b){this._handleAutoScroll(b,!0)},_handleAutoScroll:function(b,a){var e=this,d=(b.touches?b.touches[0]:
b).clientX,g=(b.touches?b.touches[0]:b).clientY,m=document.elementFromPoint(d,g);Xa=b;if(a||Ca||ka||ab){jb(b,this.options,m,a);var k=p(m,!0);!gb||Aa&&d===hb&&g===ib||(Aa&&clearInterval(Aa),Aa=setInterval(function(){var m=p(document.elementFromPoint(d,g),!0);m!==k&&(k=m,B());jb(b,e.options,m,a)},10),hb=d,ib=g)}else this.options.bubbleScroll&&p(m,!0)!==G()?jb(b,this.options,p(m,!1),!1):B()}};return x(b,{pluginName:"scroll",initializeByDefault:!0})});y.mount(ca,R);y.mount(new function(){function b(){this.defaults=
{swapClass:"sortable-swap-highlight"}}b.prototype={dragStart:function(b){ha=b.dragEl},dragOverValid:function(b){var a=b.completed,e=b.target,d=b.onMove,m=b.changed,k=b.cancel;if(b.activeSortable.options.swap){var c=this.sortable.el;b=this.options;e&&e!==c&&(c=ha,!1!==d(e)?(n(e,b.swapClass,!0),ha=e):ha=null,c&&c!==ha&&n(c,b.swapClass,!1));m();a(!0);k()}},drop:function(b){var a=b.activeSortable,e=b.putSortable;b=b.dragEl;var d=e||this.sortable,m=this.options;ha&&n(ha,m.swapClass,!1);if(ha&&(m.swap||
e&&e.options.swap)&&b!==ha){d.captureAnimationState();d!==a&&a.captureAnimationState();var e=ha,m=b.parentNode,k=e.parentNode,c,u;m&&k&&!m.isEqualNode(e)&&!k.isEqualNode(b)&&(c=K(b),u=K(e),m.isEqualNode(k)&&c<u&&u++,m.insertBefore(e,m.children[c]),k.insertBefore(b,k.children[u]));d.animateAll();d!==a&&a.animateAll()}},nulling:function(){ha=null}};return x(b,{pluginName:"swap",eventProperties:function(){return{swapItem:ha}}})});y.mount(new function(){function b(b){for(var a in this)"_"===a.charAt(0)&&
"function"===typeof this[a]&&(this[a]=this[a].bind(this));b.options.supportPointer?r(document,"pointerup",this._deselectMultiDrag):(r(document,"mouseup",this._deselectMultiDrag),r(document,"touchend",this._deselectMultiDrag));r(document,"keydown",this._checkKeyDown);r(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,e){var d="";C.length&&ja===b?C.forEach(function(b,a){d+=(a?", ":"")+b.textContent}):d=e.textContent;a.setData("Text",
d)}}}b.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(b){L=b.dragEl},delayEnded:function(){this.isMultiDrag=~C.indexOf(L)},setupClone:function(b){var a=b.sortable;b=b.cancel;if(this.isMultiDrag){for(var e=0;e<C.length;e++)fa.push(u(C[e])),fa[e].sortableIndex=C[e].sortableIndex,fa[e].draggable=!1,fa[e].style["will-change"]="",n(fa[e],this.options.selectedClass,!1),C[e]===L&&n(fa[e],this.options.chosenClass,!1);a._hideClone();b()}},clone:function(b){var a=b.sortable,e=b.rootEl,
d=b.dispatchSortableEvent;b=b.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&C.length&&ja===a&&(ob(!0,e),d("clone"),b())},showClone:function(b){var a=b.cloneNowShown,e=b.cancel;this.isMultiDrag&&(ob(!1,b.rootEl),fa.forEach(function(b){f(b,"display","")}),a(),Ya=!1,e())},hideClone:function(b){var a=this,e=b.cloneNowHidden;b=b.cancel;this.isMultiDrag&&(fa.forEach(function(b){f(b,"display","none");a.options.removeCloneOnHide&&b.parentNode&&b.parentNode.removeChild(b)}),e(),Ya=!0,b())},dragStartGlobal:function(b){!this.isMultiDrag&&
ja&&ja.multiDrag._deselectMultiDrag();C.forEach(function(b){b.sortableIndex=K(b)});C=C.sort(function(b,a){return b.sortableIndex-a.sortableIndex});Oa=!0},dragStarted:function(b){var a=this;b=b.sortable;if(this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){C.forEach(function(b){b!==L&&f(b,"position","absolute")});var e=E(L,!1,!0,!0);C.forEach(function(b){b!==L&&F(b,e)});Na=ga=!0}b.animateAll(function(){Na=ga=!1;a.options.animation&&C.forEach(function(b){ba(b)});
a.options.sort&&Sa()})}},dragOver:function(b){var a=b.target,e=b.completed;b=b.cancel;ga&&~C.indexOf(a)&&(e(!1),b())},revert:function(b){var a=b.fromSortable,e=b.rootEl,d=b.sortable,m=b.dragRect;1<C.length&&(C.forEach(function(b){d.addAnimationState({target:b,rect:ga?E(b):m});ba(b);b.fromRect=m;a.removeAnimationState(b)}),ga=!1,Ha(!this.options.removeCloneOnHide,e))},dragOverCompleted:function(b){var a=b.sortable,e=b.isOwner,d=b.activeSortable,m=b.parentEl,k=b.putSortable,c=this.options;if(b.insertion){e&&
d._hideClone();Na=!1;if(c.animation&&1<C.length&&(ga||!e&&!d.options.sort&&!k)){var u=E(L,!1,!0,!0);C.forEach(function(b){b!==L&&(F(b,u),m.appendChild(b))});ga=!0}e||(ga||Sa(),1<C.length?(b=Ya,d._showClone(a),d.options.animation&&!Ya&&b&&fa.forEach(function(b){d.addAnimationState({target:b,rect:wa});b.fromRect=wa;b.thisAnimationDuration=null})):d._showClone(a))}},dragOverAnimationCapture:function(b){var a=b.dragRect,e=b.isOwner;b=b.activeSortable;C.forEach(function(b){b.thisAnimationDuration=null});
b.options.animation&&!e&&b.multiDrag.isMultiDrag&&(wa=x({},a),a=A(L,!0),wa.top-=a.f,wa.left-=a.e)},dragOverAnimationComplete:function(){ga&&(ga=!1,Sa())},drop:function(b){var a=b.originalEvent,e=b.rootEl,d=b.parentEl,m=b.sortable,k=b.dispatchSortableEvent,c=b.oldIndex,u=(b=b.putSortable)||this.sortable;if(a){var B=this.options,f=d.children;if(!Oa)if(B.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),n(L,B.selectedClass,!~C.indexOf(L)),~C.indexOf(L))C.splice(C.indexOf(L),1),Ma=null,
pa({sortable:m,rootEl:e,name:"deselect",targetEl:L,originalEvt:a});else{C.push(L);pa({sortable:m,rootEl:e,name:"select",targetEl:L,originalEvt:a});if(a.shiftKey&&Ma&&m.el.contains(Ma)){var h=K(Ma),q=K(L);if(~h&&~q&&h!==q){var l;q>h?(l=h,h=q):(l=q,h+=1);for(;l<h;l++)~C.indexOf(f[l])||(n(f[l],B.selectedClass,!0),C.push(f[l]),pa({sortable:m,rootEl:e,name:"select",targetEl:f[l],originalEvt:a}))}}else Ma=L;ja=u}if(Oa&&this.isMultiDrag){if((d[Y].options.sort||d!==e)&&1<C.length){var p=E(L),H=K(L,":not(."+
this.options.selectedClass+")");!Na&&B.animation&&(L.thisAnimationDuration=null);u.captureAnimationState();if(!Na&&(B.animation&&(L.fromRect=p,C.forEach(function(b){b.thisAnimationDuration=null;if(b!==L){var a=ga?E(b):p;b.fromRect=a;u.addAnimationState({target:b,rect:a})}})),Sa(),C.forEach(function(b){f[H]?d.insertBefore(b,f[H]):d.appendChild(b);H++}),c===K(L))){var F=!1;C.forEach(function(b){b.sortableIndex!==K(b)&&(F=!0)});F&&k("update")}C.forEach(function(b){ba(b)});u.animateAll()}ja=u}(e===d||
b&&"clone"!==b.lastPutMode)&&fa.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=Oa=!1;fa.length=0},destroyGlobal:function(){this._deselectMultiDrag();t(document,"pointerup",this._deselectMultiDrag);t(document,"mouseup",this._deselectMultiDrag);t(document,"touchend",this._deselectMultiDrag);t(document,"keydown",this._checkKeyDown);t(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(b){if(!(Oa||ja!==this.sortable||b&&J(b.target,
this.options.draggable,this.sortable.el,!1)||b&&0!==b.button))for(;C.length;){var a=C[0];n(a,this.options.selectedClass,!1);C.shift();pa({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a,originalEvt:b})}},_checkKeyDown:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}};return x(b,{pluginName:"multiDrag",utils:{select:function(b){var a=b.parentNode[Y];a&&a.options.multiDrag&&
!~C.indexOf(b)&&(ja&&ja!==a&&(ja.multiDrag._deselectMultiDrag(),ja=a),n(b,a.options.selectedClass,!0),C.push(b))},deselect:function(b){var a=b.parentNode[Y],e=C.indexOf(b);a&&a.options.multiDrag&&~e&&(n(b,a.options.selectedClass,!1),C.splice(e,1))}},eventProperties:function(){var b=this,a=[],d=[];C.forEach(function(e){a.push({multiDragElement:e,index:e.sortableIndex});var m;m=ga&&e!==L?-1:ga?K(e,":not(."+b.options.selectedClass+")"):K(e);d.push({multiDragElement:e,index:m})});return{items:V(C),clones:[].concat(fa),
oldIndicies:a,newIndicies:d}},optionListeners:{multiDragKey:function(b){b=b.toLowerCase();"ctrl"===b?b="Control":1<b.length&&(b=b.charAt(0).toUpperCase()+b.substr(1));return b}}})});return y})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports tslib ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(S,x,c,Q,V,M,r,t,h,J){var n=Q.ofType(h);return function(f){function A(c){c=
f.call(this,c)||this;c._handles=new M;c.listItemCreatedFunction=null;c.operationalItems=new n;c.view=null;return c}c.__extends(A,f);A.prototype.initialize=function(){var c=this;this._handles.add(r.init(this,["view","view.ready"],function(){return c._viewHandles()}),"view")};A.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(A.prototype,"state",{get:function(){var c=this.get("view");return this.get("view.ready")?
"ready":c?"loading":"disabled"},enumerable:!1,configurable:!0});A.prototype.triggerAction=function(c,f){c&&!c.disabled&&this.emit("trigger-action",{action:c,item:f})};A.prototype.moveListItem=function(c,f,h,n){var H,l,A=null===c||void 0===c?void 0:c.layer;if(A){var I=null===(l=null===(H=this.view)||void 0===H?void 0:H.map)||void 0===l?void 0:l.layers;H=f?J.getItemLayers(f):I;I=h?J.getItemLayers(h):I;H&&I&&(l=this.operationalItems,f=(null===f||void 0===f?void 0:f.children)||l,l=(null===h||void 0===
h?void 0:h.children)||l,n=I.length-n,c.parent=h||null,f.includes(c)&&f.remove(c),H.includes(A)&&H.remove(A),l.includes(c)||l.add(c,n),I.includes(A)||I.add(A,n))}};A.prototype._createLayerViewHandles=function(c){var f=this,h=this._handles;h.remove("layer-views");this._compileList();c&&h.add(c.on("change",function(){return f._compileList()}),"layer-views")};A.prototype._createMapLayerHandles=function(c){var f=this,h=this._handles;h.remove("map-layers");this._compileList();c&&h.add(c.on("change",function(){return f._compileList()}),
"map-layers")};A.prototype._watchItemProperties=function(c){var f=this;this._handles.add([c.children.on("change",function(){f._modifyListItemChildren(c.children)})],"children-change-"+c.uid)};A.prototype._modifyListItemChildren=function(c){var f=this;c.forEach(function(c){return f._modifyListItem(c)})};A.prototype._modifyListItem=function(c){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:c});this._modifyListItemChildren(c.children)};A.prototype._createListItem=
function(c){c=new h({layer:c,view:this.view});this._watchItemProperties(c);return c};A.prototype._removeAllItems=function(){var c=this._handles,f=this.operationalItems;f.forEach(function(f){c.remove("children-change-"+f.uid)});f.removeAll()};A.prototype._getViewableLayers=function(c){if(c)return c.filter(function(c){return"hide"!==J.findLayerListMode(c)})};A.prototype._watchLayersListMode=function(c){var f=this,h=this._handles;h.remove("layer-list-mode");c&&c.forEach(function(c){h.add(r.watch(c,"listMode",
function(){return f._compileList()}),"layer-list-mode")})};A.prototype._compileList=function(){var c=this.get("view.map.layers");this._watchLayersListMode(c);(c=this._getViewableLayers(c))&&c.length?(this._createNewItems(c),this._modifyOrRemoveItems(c),this._sortItems(c)):this._removeAllItems()};A.prototype._createNewItems=function(c){var f=this,h=this.operationalItems;c.forEach(function(c){h.find(function(f){return f.layer===c})||h.add(f._createListItem(c))})};A.prototype._modifyOrRemoveItems=function(c){var f=
this,h=this._handles,n=this.operationalItems,A=[];n.forEach(function(l){l&&c&&c.find(function(c){return l.layer===c})?f._modifyListItem(l):(h.remove("children-change-"+l.uid),A.push(l))});n.removeMany(A)};A.prototype._sortItems=function(c){this.operationalItems.sort(function(f,h){f=c.indexOf(f.layer);h=c.indexOf(h.layer);return f>h?-1:f<h?1:0})};A.prototype._viewHandles=function(){var c=this,f=this._handles,h=this.view;f.remove(["map-layers","layer-views","view-layers"]);this._compileList();h&&h.ready&&
f.add([r.init(this,"view.map.layers",function(f){return c._createMapLayerHandles(f)}),r.init(this,"view.layerViews",function(f){return c._createLayerViewHandles(f)}),r.init(this,"listItemCreatedFunction",function(){return c._compileList()})],"view-layers")};c.__decorate([t.property()],A.prototype,"listItemCreatedFunction",void 0);c.__decorate([t.property({type:n})],A.prototype,"operationalItems",void 0);c.__decorate([t.property({dependsOn:["view.ready"],readOnly:!0})],A.prototype,"state",null);c.__decorate([t.property()],
A.prototype,"view",void 0);return A=c.__decorate([t.subclass("esri.widgets.LayerList.LayerListViewModel")],A)}(V.EventedAccessor)})},"esri/widgets/LayerList/ListItem":function(){define("require exports tslib ../../core/Accessor ../../core/Collection ../../core/HandleOwner ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(S,x,c,Q,V,M,r,t,h,J,n,f,A,H,G,E){S=V.ofType({key:"type",defaultKeyValue:"button",base:n,typeMap:{button:f,toggle:H,slider:A}});var z=V.ofType(S);return function(f){function l(c){c=f.call(this,c)||this;c.actionsSections=new z;c.actionsOpen=!1;c.children=new (V.ofType(n));c.childrenSortable=!0;c.error=null;c.layer=null;c.layerView=null;c.open=!1;c.panel=null;c.parent=null;c.sortable=!0;c.view=null;c.visible=null;return c}c.__extends(l,f);n=l;l.prototype.initialize=function(){var c=this;this.handles.add([t.init(this,
"layer",function(f){return c._watchLayerProperties(f)}),t.init(this,"view",function(f){return c._updateChildren(f)}),t.init(this,"panel",function(f){return c._setListItemOnPanel(f)}),t.init(this,["layer","view"],function(){return c._getLayerView()})])};l.prototype.destroy=function(){this.view=null};l.prototype.castPanel=function(c){this.get("panel.open")&&!c.hasOwnProperty("open")&&(c.open=!0);return c?new G(c):null};Object.defineProperty(l.prototype,"title",{get:function(){var c=this.get("layer.layer");
return(!c||c&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(c){void 0===c?this._clearOverride("title"):this._override("title",c)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"updating",{get:function(){var c=this.layerView;return c?c.updating:this._isLayerUpdating(this.layer)},enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"visibleAtCurrentScale",{get:function(){return!E.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},
enumerable:!1,configurable:!0});Object.defineProperty(l.prototype,"visibilityMode",{get:function(){return E.findLayerVisibilityMode(this.layer)},enumerable:!1,configurable:!0});l.prototype.clone=function(){return new n({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};l.prototype._setListItemOnPanel=function(c){c&&(c.listItem=this)};l.prototype._updateChildren=
function(c){var f=this.children;f&&f.forEach(function(f){return f.view=c})};l.prototype._addChildren=function(c){var f=this;this.handles.remove("child-list-mode");this.children.removeAll();if(c){c.forEach(function(a){f.handles.add(t.watch(a,"listMode",function(){return f._addChildren(c)}),"child-list-mode")});var h=[];c.filter(function(a){return"hide"!==E.findLayerListMode(a)}).forEach(function(a){E.canDisplayLayer(a)&&(a=new n({layer:a,parent:f,view:f.view}),h.unshift(a))});this.children.addMany(h)}};
l.prototype._watchSublayerChanges=function(c){var f=this;c&&this.handles.add(c.on("change",function(){f._addChildren(c)}),"layer")};l.prototype._initializeChildLayers=function(c){this._addChildren(c);this._watchSublayerChanges(c)};l.prototype._watchLayerProperties=function(c){var f=this;if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),c))if(this.handles.add(t.watch(c,"listMode",function(){return f._watchLayerProperties(c)}),"layer"),"hide-children"===E.findLayerListMode(c))this.children.removeAll();
else{var h=E.getNormalizedChildLayerProperty(c);h&&this.handles.add(t.init(c,h,function(){c.hasOwnProperty(h)&&f._initializeChildLayers(c[h])}),"layer")}};l.prototype._getLayerView=function(){return c.__awaiter(this,void 0,void 0,function(){var f,h,l,a;return c.__generator(this,function(d){switch(d.label){case 0:f=this;h=f.layer;l=f.view;if(!h||!l)return[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,l.whenLayerView(h)];case 2:a=d.sent();if(a.layer!==this.layer)return[2];this._set("layerView",
a);return[3,4];case 3:return d.sent(),[3,4];case 4:return[2]}})})};l.prototype._isLayerUpdating=function(c){return c instanceof J?!1:c&&"loading"===c.loadStatus};var n;c.__decorate([h.property({type:z})],l.prototype,"actionsSections",void 0);c.__decorate([h.property()],l.prototype,"actionsOpen",void 0);c.__decorate([h.property({type:V})],l.prototype,"children",void 0);c.__decorate([h.property()],l.prototype,"childrenSortable",void 0);c.__decorate([h.aliasOf("layer.loadError?")],l.prototype,"error",
void 0);c.__decorate([h.property()],l.prototype,"layer",void 0);c.__decorate([h.property({readOnly:!0})],l.prototype,"layerView",void 0);c.__decorate([h.property()],l.prototype,"open",void 0);c.__decorate([h.property({type:G})],l.prototype,"panel",void 0);c.__decorate([h.cast("panel")],l.prototype,"castPanel",null);c.__decorate([h.property()],l.prototype,"parent",void 0);c.__decorate([h.property()],l.prototype,"sortable",void 0);c.__decorate([h.property({dependsOn:["layer.layer?.loaded","layer.title"]})],
l.prototype,"title",null);c.__decorate([h.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],l.prototype,"updating",null);c.__decorate([h.property({value:null})],l.prototype,"view",void 0);c.__decorate([h.aliasOf("layer.visible")],l.prototype,"visible",void 0);c.__decorate([h.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],l.prototype,"visibleAtCurrentScale",null);c.__decorate([h.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility",
"layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],l.prototype,"visibilityMode",null);return l=n=c.__decorate([h.subclass("esri.widgets.LayerList.ListItem")],l)}(r.IdentifiableMixin(M.HandleOwnerMixin(Q)))})},"esri/layers/support/Sublayer":function(){define("require exports tslib ../../geometry ../../PopupTemplate ../../renderers ../../request ../../symbols ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Identifiable ../../core/lang ../../core/Loadable ../../core/Logger ../../core/MultiOriginJSONSupport ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../core/accessorSupport/PropertyOrigin ../../core/accessorSupport/utils ./FeatureType ./Field ./FieldsIndex ./fieldUtils ./LabelClass ./source/DataLayerSource ./source/MapLayerSource ../../support/popupUtils ../../tasks/support/Query @dojo/framework/shim/Promise".split(" "),
function(S,x,c,Q,V,M,r,t,h,J,n,f,A,H,G,E,z,la,l,K,I,aa,p,a,d,k,u,F,ba,ma,pa){function W(a){return a&&"esriSMS"===a.type}function y(a,d,c){return{ignoreOrigin:!0,enabled:c&&c.writeSublayerStructure||!1}}function na(a,d,c){return{ignoreOrigin:!0,enabled:c?c.writeSublayerStructure||this.originIdOf(d)>=I.nameToId(c.origin):!1}}var sa=G.getLogger("esri.layers.support.Sublayer"),Za=0,oa=new Set;oa.add("layer");oa.add("parent");oa.add("loaded");oa.add("loadStatus");oa.add("loadError");oa.add("loadWarnings");
return function(f){function q(a){a=f.call(this,a)||this;a.capabilities=void 0;a.fields=null;a.fullExtent=null;a.globalIdField=null;a.legendEnabled=!0;a.objectIdField=null;a.popupEnabled=!0;a.popupTemplate=null;a.sourceJSON=null;a.title=null;a.typeIdField=null;a.types=null;return a}c.__extends(q,f);n=q;q.prototype.load=function(a){return c.__awaiter(this,void 0,void 0,function(){var d=this;return c.__generator(this,function(m){this.addResolvingPromise(function(){return c.__awaiter(d,void 0,void 0,
function(){var d,m,k,f,u;return c.__generator(this,function(h){switch(h.label){case 0:if(!this.layer&&!this.url)throw new J("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});d=null;return!this.layer||2<this.originIdOf("url")||"data-layer"===(null===(f=this.source)||void 0===f?void 0:f.type)?[4,r(this.url,c.__assign({responseType:"json",query:{f:"json"}},a))]:[3,2];case 1:return m=h.sent(),d=m.data,[3,4];case 2:return k=this.id,"map-layer"===(null===
(u=this.source)||void 0===u?void 0:u.type)&&(k=this.source.mapLayerId),[4,this.layer.fetchSublayerInfo(k,a)];case 3:d=h.sent(),h.label=4;case 4:return d&&(this.sourceJSON=d,this.read({layerDefinition:d},{origin:"service"})),[2]}})})}());return[2,this]})})};q.prototype.readCapabilities=function(a,d){d=d.layerDefinition||d;a=(a=d.capabilities||a)?a.toLowerCase().split(",").map(function(a){return a.trim()}):[];return{exportMap:{supportsModification:!!d.canModifyLayer},operations:{supportsQuery:-1!==
a.indexOf("query")}}};Object.defineProperty(q.prototype,"definitionExpression",{set:function(a){this._setAndNotifyLayer("definitionExpression",a)},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"fieldsIndex",{get:function(){return new d(this.fields||[])},enumerable:!1,configurable:!0});q.prototype.readGlobalIdFieldFromService=function(a,d){d=d.layerDefinition||d;if(d.globalIdField)return d.globalIdField;if(d.fields)for(a=0,d=d.fields;a<d.length;a++){var c=d[a];if("esriFieldTypeGlobalID"===
c.type)return c.name}};Object.defineProperty(q.prototype,"id",{get:function(){var a=this._get("id");return null==a?Za++:a},set:function(a){this._get("id")!==a&&(!1===this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"):this._set("id",a))},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"labelingInfo",{set:function(a){this._setAndNotifyLayer("labelingInfo",a)},enumerable:!1,
configurable:!0});q.prototype.writeLabelingInfo=function(a,d,c,k){a&&a.length&&(d.layerDefinition={drawingInfo:{labelingInfo:a.map(function(a){return a.write({},k)})}})};Object.defineProperty(q.prototype,"labelsVisible",{set:function(a){this._setAndNotifyLayer("labelsVisible",a)},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"layer",{set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(function(d){return d.layer=a})},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,
"listMode",{set:function(a){this._set("listMode",a)},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"minScale",{set:function(a){this._setAndNotifyLayer("minScale",a)},enumerable:!1,configurable:!0});q.prototype.readMinScale=function(a,d){return d.minScale||d.layerDefinition&&d.layerDefinition.minScale||0};Object.defineProperty(q.prototype,"maxScale",{set:function(a){this._setAndNotifyLayer("maxScale",a)},enumerable:!1,configurable:!0});q.prototype.readMaxScale=function(a,d){return d.maxScale||
d.layerDefinition&&d.layerDefinition.maxScale||0};q.prototype.readObjectIdFieldFromService=function(a,d){d=d.layerDefinition||d;if(d.objectIdField)return d.objectIdField;if(d.fields)for(a=0,d=d.fields;a<d.length;a++){var c=d[a];if("esriFieldTypeOID"===c.type)return c.name}};Object.defineProperty(q.prototype,"opacity",{set:function(a){this._setAndNotifyLayer("opacity",a)},enumerable:!1,configurable:!0});q.prototype.readOpacity=function(a,d){a=d.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:
a.drawingInfo.transparency)};q.prototype.writeOpacity=function(a,d,c,k){d.layerDefinition={drawingInfo:{transparency:100-100*a}}};q.prototype.writeParent=function(a,d){d.parentLayerId=this.parent&&this.parent!==this.layer?this.parent.id:-1};Object.defineProperty(q.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"renderer",{set:function(a){if(a)for(var d=0,c=a.getSymbols();d<c.length;d++)if(t.isSymbol3D(c[d])){sa.warn("Sublayer renderer should use 2D symbols");
break}this._setAndNotifyLayer("renderer",a)},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"source",{get:function(){return this._get("source")||new ba.MapLayerSource({mapLayerId:this.id})},set:function(a){this._setAndNotifyLayer("source",a)},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"sublayers",{set:function(a){this._handleSublayersChange(a,this._get("sublayers"));this._set("sublayers",a)},enumerable:!1,configurable:!0});q.prototype.castSublayers=function(a){return K.default(h.ofType(n),
a)};q.prototype.writeSublayers=function(a,d,c){this.get("sublayers.length")&&(d[c]=this.sublayers.map(function(a){return a.id}).toArray().reverse())};q.prototype.readTypeIdField=function(a,d){d=d.layerDefinition||d;if(a=d.typeIdField)if(d=k.getField(d.fields,a))return d.name;return null};Object.defineProperty(q.prototype,"url",{get:function(){var a,d,c=null!==(d=null===(a=this.layer)||void 0===a?void 0:a.parsedUrl)&&void 0!==d?d:this._lastParsedUrl;a=this.source;if(!c)return null;this._lastParsedUrl=
c;if("map-layer"===(null===a||void 0===a?void 0:a.type))return c.path+"/"+a.mapLayerId;a={layer:JSON.stringify({source:this.source})};return c.path+"/dynamicLayer?"+la.objectToQuery(a)},set:function(a){a?this._override("url",a):this._clearOverride("url")},enumerable:!1,configurable:!0});Object.defineProperty(q.prototype,"visible",{set:function(a){this._setAndNotifyLayer("visible",a)},enumerable:!1,configurable:!0});q.prototype.writeVisible=function(a,d,c,k){d[c]=this.getAtOrigin("defaultVisibility",
"service")||a};q.prototype.clone=function(){var a=aa.getProperties(this).store,d=new n;aa.getProperties(d).store=a.clone(oa);this.url;d._lastParsedUrl=this._lastParsedUrl;return d};q.prototype.createPopupTemplate=function(a){return ma.createPopupTemplate(this,a)};q.prototype.createQuery=function(){return new pa({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};q.prototype.createFeatureLayer=function(){var a,d;return c.__awaiter(this,void 0,void 0,function(){var k,f,m;return c.__generator(this,
function(c){switch(c.label){case 0:if(this.hasOwnProperty("sublayers"))return[2,null];k=null===(a=this.layer)||void 0===a?void 0:a.parsedUrl;return[4,new Promise(function(a,d){S(["../FeatureLayer"],a,d)})];case 1:return f=c.sent(),m=new f({url:k.path}),k&&this.source&&("map-layer"===this.source.type?m.layerId=this.source.mapLayerId:m.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(m.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(m.definitionExpression=this.definitionExpression),
2<this.originIdOf("labelingInfo")&&(m.labelingInfo=A.clone(this.labelingInfo)),0<this.originIdOf("labelsVisible")&&(m.labelsVisible=this.labelsVisible),0<this.originIdOf("legendEnabled")&&(m.legendEnabled=this.legendEnabled),0<this.originIdOf("visible")&&(m.visible=this.visible),0<this.originIdOf("minScale")&&(m.minScale=this.minScale),0<this.originIdOf("maxScale")&&(m.maxScale=this.maxScale),0<this.originIdOf("opacity")&&(m.opacity=this.opacity),0<this.originIdOf("popupTemplate")&&(m.popupTemplate=
A.clone(this.popupTemplate)),2<this.originIdOf("renderer")&&(m.renderer=A.clone(this.renderer)),"data-layer"===(null===(d=this.source)||void 0===d?void 0:d.type)&&(m.dynamicDataSource=this.source.clone()),0<this.originIdOf("title")&&(m.title=this.title),[2,m]}})})};q.prototype.getFeatureType=function(a){var d=this.typeIdField;if(!d||!a)return null;var c=a.attributes?a.attributes[d]:void 0;if(null==c)return null;var k=null;this.types.some(function(a){var d=a.id;if(null==d)return!1;d.toString()===c.toString()&&
(k=a);return!!k});return k};q.prototype.getFieldDomain=function(a,d){return(d=this.getFeatureType(d&&d.feature))&&(d=d.domains&&d.domains[a])&&"inherited"!==d.type?d:this._getLayerDomain(a)};q.prototype.queryFeatures=function(a,d){var c=this;void 0===a&&(a=this.createQuery());return this.load().then(function(){if(!c.get("capabilities.operations.supportsQuery"))throw new J("Sublayer.queryFeatures","this layer doesn't support queries.");return z.all([new Promise(function(a,d){S(["../../tasks/operations/query"],
a,d)}),new Promise(function(a,d){S(["../../tasks/support/FeatureSet"],a,d)})])}).then(function(k){var f=k[0].executeQuery,m=k[1];return f(c.url,pa.from(a),c.layer?c.layer.spatialReference:null,d).then(function(a){return m.fromJSON(a.data)})}).then(function(a){a&&a.features&&a.features.forEach(function(a){a.sourceLayer=c});return a})};q.prototype.toExportImageJSON=function(){var a=this,d,c={id:this.id,source:null===(d=this.source)||void 0===d?void 0:d.toJSON()};this.definitionExpression&&(c.definitionExpression=
this.definitionExpression);var k=["renderer","labelingInfo","opacity","labelsVisible"].reduce(function(d,c){d[c]=a.originIdOf(c);return d},{});Object.keys(k).some(function(a){return 2<=k[a]})&&(d=c.drawingInfo={},2<=k.renderer&&(d.renderer=this.renderer?this.renderer.toJSON():null),2<=k.labelsVisible&&(d.showLabels=this.labelsVisible),this.labelsVisible&&2<=k.labelingInfo&&(d.labelingInfo=this.labelingInfo?this.labelingInfo.map(function(a){return a.write({},{origin:"service"})}):null,d.showLabels=
!0),2<=k.opacity&&(d.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(d.renderer));return c};q.prototype._assignDefaultSymbolColors=function(a){this._forEachSimpleMarkerSymbols(a,function(a){a.color||"esriSMSX"!==a.style&&"esriSMSCross"!==a.style||(a.color=a.outline&&a.outline.color?a.outline.color:[0,0,0,0])})};q.prototype._forEachSimpleMarkerSymbols=function(a,d){if(a){var c=0,k="uniqueValueInfos"in a?a.uniqueValueInfos:"classBreakInfos"in a?a.classBreakInfos:[];for(;c<k.length;c++){var f=
k[c];W(f.symbol)&&d(f.symbol)}"symbol"in a&&W(a.symbol)&&d(a.symbol);"defaultSymbol"in a&&W(a.defaultSymbol)&&d(a.defaultSymbol)}};q.prototype._setAndNotifyLayer=function(a,d){var c=this.layer,k=this._get(a),f,u;switch(a){case "definitionExpression":f="supportsSublayerDefinitionExpression";case "minScale":case "maxScale":case "visible":f="supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":f="supportsDynamicLayers",u="supportsModification"}var h=
aa.getProperties(this).getDefaultOrigin();if("service"!==h){if(f&&!1===this.get("layer.capabilities.exportMap."+f)){this._logLockedError(a,"capability not available 'layer.capabilities.exportMap."+f+"'");return}if(u&&!1===this.get("capabilities.exportMap."+u)){this._logLockedError(a,"capability not available 'capabilities.exportMap."+u+"'");return}}"source"===a&&"not-loaded"!==this.loadStatus?this._logLockedError(a,"'source' can't be changed after calling sublayer.load()"):(this._set(a,d),"service"!==
h&&k!==d&&c&&c.emit&&c.emit("sublayer-update",{propertyName:a,target:this}))};q.prototype._handleSublayersChange=function(a,d){var c=this;d&&(d.forEach(function(a){a.parent=null;a.layer=null}),this.handles.removeAll());a&&(a.forEach(function(a){a.parent=c;a.layer=c.layer}),this.handles.add([a.on("after-add",function(a){a=a.item;a.parent=c;a.layer=c.layer}),a.on("after-remove",function(a){a=a.item;a.parent=null;a.layer=null}),a.on("before-changes",function(a){var d=c.get("layer.capabilities.exportMap.supportsSublayersChanges");
null==d||d||(sa.error(new J("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:c,layer:c.layer})),a.preventDefault())})]))};q.prototype._logLockedError=function(a,d){sa.error(new J("sublayer:locked","Property '"+a+"' can't be changed on Sublayer from the layer '"+this.layer.id+"'",{reason:d,sublayer:this,layer:this.layer}))};q.prototype._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};var n;q.test={isSublayerStructureOverridePolicy:function(a){return a===
y}};c.__decorate([l.property({readOnly:!0})],q.prototype,"capabilities",void 0);c.__decorate([l.reader("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],q.prototype,"readCapabilities",null);c.__decorate([l.property({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:na}}})],q.prototype,"definitionExpression",null);c.__decorate([l.property({type:[a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],
q.prototype,"fields",void 0);c.__decorate([l.property({readOnly:!0,dependsOn:["fields"]})],q.prototype,"fieldsIndex",null);c.__decorate([l.property({type:Q.Extent,json:{read:{source:"layerDefinition.extent"}}})],q.prototype,"fullExtent",void 0);c.__decorate([l.property({type:String})],q.prototype,"globalIdField",void 0);c.__decorate([l.reader("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],q.prototype,"readGlobalIdFieldFromService",null);c.__decorate([l.property({type:Number,
json:{write:{ignoreOrigin:!0}}})],q.prototype,"id",null);c.__decorate([l.property({value:null,type:[u],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:y}}})],q.prototype,"labelingInfo",null);c.__decorate([l.writer("labelingInfo")],q.prototype,"writeLabelingInfo",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",
overridePolicy:y}}})],q.prototype,"labelsVisible",null);c.__decorate([l.property({value:null})],q.prototype,"layer",null);c.__decorate([l.property({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:na}}})],q.prototype,"legendEnabled",void 0);c.__decorate([l.property({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],q.prototype,"listMode",null);c.__decorate([l.property({type:Number,
value:0,json:{write:{overridePolicy:y}}})],q.prototype,"minScale",null);c.__decorate([l.reader("minScale",["minScale","layerDefinition.minScale"])],q.prototype,"readMinScale",null);c.__decorate([l.property({type:Number,value:0,json:{write:{overridePolicy:y}}})],q.prototype,"maxScale",null);c.__decorate([l.reader("maxScale",["maxScale","layerDefinition.maxScale"])],q.prototype,"readMaxScale",null);c.__decorate([l.property({type:String})],q.prototype,"objectIdField",void 0);c.__decorate([l.reader("service",
"objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],q.prototype,"readObjectIdFieldFromService",null);c.__decorate([l.property({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:y}}})],q.prototype,"opacity",null);c.__decorate([l.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],q.prototype,"readOpacity",null);c.__decorate([l.writer("opacity")],q.prototype,"writeOpacity",null);c.__decorate([l.property({json:{type:Number,
write:{target:"parentLayerId",allowNull:!0,overridePolicy:y}}})],q.prototype,"parent",void 0);c.__decorate([l.writer("parent")],q.prototype,"writeParent",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(a,d){return!d.disablePopup}},write:{target:"disablePopup",overridePolicy:na,writer:function(a,d,c){d[c]=!a}}}})],q.prototype,"popupEnabled",void 0);c.__decorate([l.property({type:V,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:na}}})],
q.prototype,"popupTemplate",void 0);c.__decorate([l.property({readOnly:!0,dependsOn:["fields","title"]})],q.prototype,"defaultPopupTemplate",null);c.__decorate([l.property({types:M.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:y},origins:{"web-scene":{types:M.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:y}}}}})],q.prototype,"renderer",null);c.__decorate([l.property({types:{key:"type",base:null,typeMap:{"data-layer":F.DataLayerSource,
"map-layer":ba.MapLayerSource}},cast:function(a){if(a){if("mapLayerId"in a)return K.ensureClass(ba.MapLayerSource,a);if("dataSource"in a)return K.ensureClass(F.DataLayerSource,a)}return a},json:{name:"layerDefinition.source",write:{overridePolicy:y}}})],q.prototype,"source",null);c.__decorate([l.property()],q.prototype,"sourceJSON",void 0);c.__decorate([l.property({value:null,json:{type:[K.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:y}}})],q.prototype,"sublayers",null);c.__decorate([l.cast("sublayers")],
q.prototype,"castSublayers",null);c.__decorate([l.writer("sublayers")],q.prototype,"writeSublayers",null);c.__decorate([l.property({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:na}}})],q.prototype,"title",void 0);c.__decorate([l.property({type:String})],q.prototype,"typeIdField",void 0);c.__decorate([l.reader("typeIdField",["layerDefinition.typeIdField"])],q.prototype,"readTypeIdField",null);c.__decorate([l.property({type:[p],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],
q.prototype,"types",void 0);c.__decorate([l.property({type:String,dependsOn:["layer","source"],json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:function(){return{enabled:this._isOverridden("url")}}}}})],q.prototype,"url",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:y}}})],q.prototype,"visible",null);c.__decorate([l.writer("visible")],q.prototype,"writeVisible",null);return q=n=c.__decorate([l.subclass("esri.layers.support.Sublayer")],
q)}(n.HandleOwnerMixin(E.MultiOriginJSONMixin(f.IdentifiableMixin(H))))})},"esri/support/actions/ActionSlider":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(S,x,c,Q,V){return function(x){function r(c){c=x.call(this,c)||this;c.displayValueEnabled=!1;c.max=1;c.min=0;c.step=.1;c.type="slider";c.value=null;return c}c.__extends(r,x);t=r;r.prototype.clone=function(){return new t({active:this.active,className:this.className,disabled:this.disabled,
id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var t;c.__decorate([Q.property()],r.prototype,"displayValueEnabled",void 0);c.__decorate([Q.property()],r.prototype,"max",void 0);c.__decorate([Q.property()],r.prototype,"min",void 0);c.__decorate([Q.property()],r.prototype,"step",void 0);c.__decorate([Q.property()],r.prototype,"value",void 0);return r=t=c.__decorate([Q.subclass("esri.support.Action.ActionSlider")],
r)}(V)})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports tslib ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget @dojo/framework/shim/Promise".split(" "),function(S,x,c,Q,V,M,r,t,h){return function(t){function n(c,h){c=t.call(this,c,h)||this;c._legend=null;c._handles=new Q;c.content=null;c.image=null;c.listItem=null;c.open=!1;c.visible=!0;return c}c.__extends(n,t);n.prototype.initialize=function(){var c=
this;this.own([M.init(this,"content",function(f){return c._createLegend(f)})])};n.prototype.destroy=function(){var c=this._legend;c&&c.destroy();this._legend=null};Object.defineProperty(n.prototype,"className",{get:function(){var c=this.image,h=this._getFirstWidget();return this._get("className")||!c&&h?h.iconClass:""},set:function(c){void 0===c?this._clearOverride("className"):this._override("className",c)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"title",{get:function(){var c=
this._getFirstWidget();return this._get("title")||c?c.label:""},set:function(c){void 0===c?this._clearOverride("title"):this._override("title",c)},enumerable:!1,configurable:!0});n.prototype.render=function(){return h.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};n.prototype._renderContent=function(c){var f=this._legend,n=this.listItem;return c?"legend"===c?n&&n.view&&n.layer&&f?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),
key:f},f.render()):null:"string"===typeof c?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:c,innerHTML:c}):h.isWidget(c)?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:c},c.render()):c instanceof HTMLElement?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:c,bind:c,afterCreate:this._attachToNode}):null:null};
n.prototype._renderContents=function(){var c=this,h=this.content;return Array.isArray(h)?h.map(function(f){return c._renderContent(f)}):this._renderContent(h)};n.prototype._getLegendOptions=function(c){if(c){var f=c.layer;c=c.view;if(f&&c)return{view:c,layerInfos:[{layer:f,title:""}]}}};n.prototype._createLegend=function(c){var f=this;this._hasLegend(c)&&!this._legend&&(new Promise(function(c,f){S(["../Legend"],c,f)})).then(function(c){var h=f._handles,n=new c(f._getLegendOptions(f.listItem));f._legend=
n;f.notifyChange("className");f.notifyChange("title");c=M.init(f,["listItem.view","listItem.layer"],function(){return f._updateLegend(n)});h.add(c,"legends");f.scheduleRender()})};n.prototype._hasLegend=function(c){return"legend"===c?!0:Array.isArray(c)?c.some(function(c){return"legend"===c}):!1};n.prototype._attachToNode=function(c){c.appendChild(this)};n.prototype._updateLegend=function(c){var f=this.listItem;if(f){var h=f.layer;c.view=f.view;c.layerInfos=[{layer:h,title:null}];this.scheduleRender()}};
n.prototype._getWidget=function(c){return"legend"===c?this._legend:h.isWidget(c)?c:null};n.prototype._getFirstWidget=function(){var c=this,h=this.content;if(Array.isArray(h)){var n=null;h.some(function(f){(f=c._getWidget(f))&&(n=f);return!!f});return n}return this._getWidget(h)};c.__decorate([r.property({dependsOn:["content","image"]})],n.prototype,"className",null);c.__decorate([r.property(),h.renderable()],n.prototype,"content",void 0);c.__decorate([r.property()],n.prototype,"image",void 0);c.__decorate([r.property()],
n.prototype,"listItem",void 0);c.__decorate([r.property({dependsOn:["content"]})],n.prototype,"title",null);c.__decorate([r.property(),h.renderable()],n.prototype,"open",void 0);c.__decorate([r.property()],n.prototype,"visible",void 0);return n=c.__decorate([r.subclass("esri.widgets.LayerList.ListItemPanel")],n)}(V.IdentifiableMixin(t))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require","exports"],function(S,x){function c(c){if(c)return null!=c.listMode?c.listMode:void 0}
function Q(c){if(c)return null!=c.minScale?c.minScale:void 0}function V(c){if(c)return null!=c.maxScale?c.maxScale:void 0}function M(c){if(c&&c.listMode!==t.hideChildren&&"wmts"!==c.type)return"group"===c.type?"layers":"sublayers"}function r(c,r){c&&c.sort(function(c,f){c=r.indexOf(c.uid);f=r.indexOf(f.uid);return c>f?-1:c<f?1:0})}Object.defineProperty(x,"__esModule",{value:!0});x.findSelectedItem=x.getItemLayers=x.sortChildLayersToIds=x.sortLayersToIds=x.isLayerOutsideScaleRange=x.canDisplayLayer=
x.canSortSublayers=x.getNormalizedChildLayerProperty=x.findLayerVisibilityMode=x.findLayerMaxScale=x.findLayerMinScale=x.findLayerListMode=void 0;var t={hide:"hide",hideChildren:"hide-children"};x.findLayerListMode=c;x.findLayerMinScale=Q;x.findLayerMaxScale=V;x.findLayerVisibilityMode=function(c){if(!c)return"inherited";var h=c.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof h)return h?"independent":"inherited";h=c.get("capabilities.exportMap.supportsSublayerVisibility");
return"boolean"===typeof h?h?"independent":"inherited":null!=c.visibilityMode?c.visibilityMode:"independent"};x.getNormalizedChildLayerProperty=M;x.canSortSublayers=function(c){c=c&&(c.get("layer.layer")||c.layer);if(!c)return!1;c=c.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"===typeof c?c:!0};x.canDisplayLayer=function(h){return c(h)!==t.hide};x.isLayerOutsideScaleRange=function(c,r){if(!c||isNaN(r))return!1;var h=Q(c);c=V(c);h=!isNaN(h)&&0<h&&r>h;r=!isNaN(c)&&0<c&&r<c;
return h||r};x.sortLayersToIds=r;x.sortChildLayersToIds=function(c,t){if(c=null===c||void 0===c?void 0:c.layer){var h=M(c);h&&(c=c.get(h),r(c,t))}};x.getItemLayers=function(c){return(c=null===c||void 0===c?void 0:c.layer)&&"group"===c.type?c.layers:null};x.findSelectedItem=function(c,r){var h,f=null===(h=c.layer)||void 0===h?void 0:h.uid;return f&&r.find(function(c){var h;return(null===(h=c.layer)||void 0===h?void 0:h.uid)===f})}})},"*noref":1}});
define("require exports tslib ../core/Collection ../core/deprecate ../core/events ../core/Handles ../core/has ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ../libs/sortablejs/Sortable ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./LayerList/support/layerListUtils ./support/widget".split(" "),function(S,x,c,Q,V,M,r,t,h,J,n,f,A,H,G,E,z){function la(c){var f=c.children;c.actionsOpen&&(c.actionsOpen=!1);f.forEach(function(a){return la(a)})}var l=Q.ofType(G),K=h.getLogger("esri.widgets.LayerList"),
I={statusIndicators:!0};return function(h){function p(a,d){var k=h.call(this,a,d)||this;k._handles=new r;k._sortableNodes=new Map;k._sortableMap=new Map;k._focusSortUid=null;k._newUI=t("esri-layerlist-new-ui");k.visibleItems=null;k.iconClass="esri-icon-layers";k.label=void 0;k.listItemCreatedFunction=null;k.messages=null;k.messagesCommon=null;k.multipleSelectionEnabled=!1;k.operationalItems=null;k.selectionEnabled=!1;k.selectedItems=new l;k.view=null;k.viewModel=new H;k.visibleElements=c.__assign({},
I);k._onSortableSort=function(a){var c=a.to,d=a.from,f=a.item;a=a.newIndex;d&&c&&(d===c?k._sortLayers(k._sortableMap.get(d.dataset.group)):k._moveLayerFromChildList({to:c,from:d,item:f,newIndex:a}))};k._sortableCanPut=function(a,c,d){var k,f,u=a.el.dataset.group;c=c.el.dataset.group;a=a.el["data-item"];d=d["data-item"];d=null===(k=null===d||void 0===d?void 0:d.layer)||void 0===k?void 0:k.type;k=null===(f=null===a||void 0===a?void 0:a.layer)||void 0===f?void 0:f.type;return u&&c&&d&&!("group"===k&&
"group"===d)};k._sortableCanPull=function(a,c,d){var k;a=a.el.dataset.group;c=c.el.dataset.group;d=d["data-item"];d=null===(k=null===d||void 0===d?void 0:d.layer)||void 0===k?void 0:k.type;return a&&c&&!!d};k._onSortableEnd=function(a){var c=a.from;c!==a.to&&c.insertBefore(a.item,c.children[a.oldIndex])};return k}c.__extends(p,h);p.prototype.initialize=function(){var a=this,c=this.operationalItems;this._setVisibleItems(c);this.own(J.on(this,"operationalItems","change",function(){return a._itemsChanged(c)}),
J.init(this,"selectionEnabled",function(){return a._toggleAllSorting()}))};p.prototype.destroy=function(){this._destroySortables();this._handles.destroy();this._handles=null};Object.defineProperty(p.prototype,"statusIndicatorsVisible",{set:function(a){V.deprecatedProperty(K,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"});this.visibleElements=c.__assign(c.__assign({},this.visibleElements),{statusIndicators:a})},enumerable:!1,configurable:!0});p.prototype.castVisibleElements=
function(a){return c.__assign(c.__assign({},I),a)};p.prototype.triggerAction=function(a,c){this.viewModel.triggerAction(a,c)};p.prototype.render=function(){var a,c,k=this.visibleItems,f=this._newUI,h=null===(c=this.viewModel)||void 0===c?void 0:c.state;c=(a={},a["esri-layer-list--new-ui"]=f,a["esri-hidden"]="loading"===h,a["esri-disabled"]="disabled"===h,a);return z.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",c)},(null===k||void 0===k?0:k.length)?this.renderItems():
this.renderNoItems())};p.prototype.renderNoItems=function(){return z.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)};p.prototype.renderItems=function(){var a=this,c=this.visibleItems;return z.tsx("ul",{"aria-label":this.messages.widgetLabel,role:this.selectionEnabled?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root",
"esri-layer-list__list--independent")},null===c||void 0===c?void 0:c.map(function(c){return a.renderItem(c,null)}).toArray())};p.prototype.renderActionsMenuIcon=function(a,c){var d,f=this.messagesCommon,h=(d={},d["esri-layer-list__item-actions-menu-item--active"]=a.actionsOpen,d);d=a.actionsOpen?f.close:f.open;return z.tsx("div",{key:"actions-menu-toggle","data-item":a,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",
h),tabindex:"0",role:"button","aria-controls":c,"aria-label":d,title:d},z.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))};p.prototype.renderActionsMenu=function(a,c,k,f){var d=a.panel,d=d&&d.visible?this.renderPanelButton(d):null,u=(c=1===k&&this._getSingleActionButton(c))?this.renderAction({item:a,action:c,singleAction:!0}):null;return(a=!c&&k?this.renderActionsMenuIcon(a,f):null)||d||c?z.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},d,u,a):null};
p.prototype.renderChildList=function(a,c){var d,f=this,h,l=this.selectionEnabled,n=a.visibilityMode,p=a.children,r=!!a.error,r=!!p.length&&!r,t=!r&&l&&"group"===(null===(h=a.layer)||void 0===h?void 0:h.type);h=(d={},d["esri-layer-list__list--exclusive"]="exclusive"===n,d["esri-layer-list__list--inherited"]="inherited"===n,d["esri-layer-list__list--independent"]="inherited"!==n&&"exclusive"!==n,d);return r||t?z.tsx("ul",{bind:this,key:"list-items",id:c,"data-group":a.uid,"data-item":a,afterCreate:this._sortNodeCreated,
afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes("esri-layer-list__list",h),"aria-expanded":a.open?"true":"false",role:l?"listbox":"exclusive"===n?"radiogroup":"group",hidden:a.open||t?null:!0},null===p||void 0===p?void 0:p.map(function(c){return f.renderItem(c,a)}).toArray()):null};p.prototype.renderChildrenToggle=function(a,c){var d,f=this.messagesCommon,h=!!a.error,h=!!a.children.length&&!h,l=(d={},d["esri-layer-list__child-toggle--open"]=a.open,d);d=a.open?
f.collapse:f.expand;return h?z.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":a,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",l),tabindex:"0",role:"button","aria-controls":c,"aria-label":d,title:d},z.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),z.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened",
"esri-icon-down-arrow")}),z.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null};p.prototype.renderError=function(a){return a.error?z.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},z.tsx("span",null,this.messages.layerError)):null};p.prototype.renderItemContent=function(a,c,k){var d=this.id+"_"+a.uid,f=d+"_actions",d=d+"__list",h=a.panel,l=this._filterActions(a.actionsSections),
n=this._countActions(l);return[z.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(a,d),this.renderLabel(a,c,k),this.renderActionsMenu(a,l,n,f)),this.renderError(a),n?this.renderActionsSections(a,l,f):null,h&&h.open?h.render():null,this.renderChildList(a,d)]};p.prototype.renderItem=function(a,d){var k,f,h,l=this._newUI,n=this.selectionEnabled,p=this.selectedItems,r=this.visibleElements,t=this.id+"_"+a.uid+"__title",x=!!a.error,A=!!a.children.length&&
!x,l=(k={},k["esri-layer-list__item--has-children"]=A,k["esri-layer-list__item--error"]=!!x,k["esri-layer-list__item--updating"]=a.updating&&!d&&r.statusIndicators,k["esri-layer-list__item--invisible"]=l&&!a.visible,k["esri-layer-list__item--invisible-at-scale"]=!a.visibleAtCurrentScale,k["esri-layer-list__item--selectable"]=n,k);return n?(k=(f={},f["data-layer-uid"]=null===(h=a.layer)||void 0===h?void 0:h.uid,f["data-sort-filter"]=(!a.sortable).toString(),f),z.tsx("li",c.__assign({key:"item-with-selection-"+
a.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",l),"aria-labelledby":t,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":a,"data-group":d?d.uid:"root",tabIndex:0,"aria-selected":E.findSelectedItem(a,p)?"true":"false",role:"option"},k),this.renderItemContent(a,d,t))):z.tsx("li",{key:"item-no-selection-"+a.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",
l),"aria-labelledby":t},this.renderItemContent(a,d,t))};p.prototype.renderItemTitle=function(a,c){var d=this.messages,f=a.title||d.untitledLayer;a=a.visibleAtCurrentScale?f:f+" ("+d.layerInvisibleAtScale+")";return z.tsx("span",{key:"layer-title-container",id:c,title:a,"aria-label":a,class:"esri-layer-list__item-title"},f)};p.prototype.renderItemToggleIcon=function(a,c){var d,f=this._newUI;c=c&&c.visibilityMode;a=(d={},d["esri-layer-list__item-toggle-icon"]=f,d["esri-layer-list__item-toggle-icon"]=
f&&"exclusive"!==c,d["esri-layer-list__item-radio-icon"]=f&&"exclusive"===c,d["esri-icon-radio-checked"]="exclusive"===c&&a.visible,d["esri-icon-radio-unchecked"]="exclusive"===c&&!a.visible,d["esri-icon-visible"]="exclusive"!==c&&a.visible,d["esri-icon-non-visible"]="exclusive"!==c&&!a.visible,d);return z.tsx("span",{key:"item-toggle-icon",class:this.classes(a),"aria-hidden":"true"})};p.prototype.renderItemToggle=function(a,c,f){var d=c&&c.visibilityMode;return this.selectionEnabled?z.tsx("span",
{key:"item-toggle-selection-enabled",class:"esri-layer-list__item-toggle",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":d,tabIndex:0,"aria-checked":a.visible?"true":"false",role:"exclusive"===d?"radio":"switch","aria-labelledby":f},this.renderItemToggleIcon(a,c)):z.tsx("span",{key:"item-toggle",class:"esri-layer-list__item-toggle"},this.renderItemToggleIcon(a,c))};p.prototype.renderItemError=function(a){return a.error?z.tsx("span",
{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null};p.prototype.renderLabel=function(a,c,f){var d=this.selectionEnabled,k=this._newUI,h=null===c||void 0===c?void 0:c.visibilityMode,l="exclusive"===h?"radio":"switch";c=[this.renderItemToggle(a,c,f),this.renderItemTitle(a,f)];k&&c.reverse();d=d?z.tsx("div",{key:"item-label-no-selection-"+a.uid,class:"esri-layer-list__item-label"},c):z.tsx("div",{key:"item-label-with-selection-"+a.uid,class:"esri-layer-list__item-label",
bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":h,tabIndex:0,"aria-checked":a.visible?"true":"false",role:l,"aria-labelledby":f},c);return"inherited"===h||a.error?z.tsx("div",{key:"item-label-container-"+a.uid,class:"esri-layer-list__item-label"},this.renderItemError(a),this.renderItemTitle(a,f)):d};p.prototype.renderPanelButton=function(a){var c,f,h=a.className,l=a.open,n=a.title,h=a.image||h?h:"esri-icon-default-action",p=this._getIconImageStyles(a),
l=(c={},c["esri-layer-list__item-actions-menu-item--active"]=l,c);c=(f={},f["esri-layer-list__item-action-image"]=!!p["background-image"],f);h&&(c[h]=!!h);return z.tsx("div",{key:a,bind:this,"data-panel":a,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",l),role:"button",tabindex:"0",title:n,"aria-label":n},z.tsx("span",{class:this.classes(c),styles:p}))};p.prototype.renderActionsSections=function(a,c,f){var d=this;c=c.toArray().map(function(c){return z.tsx("ul",
{key:c,class:"esri-layer-list__item-actions-list"},d.renderActionSection(a,c))});return z.tsx("div",{role:"group","aria-expanded":a.actionsOpen?"true":"false",key:"actions-section",id:f,class:"esri-layer-list__item-actions",hidden:a.actionsOpen?null:!0},c)};p.prototype.renderActionSection=function(a,c){var d=this;return(c&&c.toArray()).map(function(c){return d.renderAction({item:a,action:c})})};p.prototype.renderActionIcon=function(a){var c,f=a.active,h=a.className,l=this._getIconImageStyles(a);a=
"button"!==a.type||a.image||h?h:"esri-icon-default-action";h=(c={},c["esri-layer-list__item-action-image"]=!f&&!!l["background-image"],c["esri-icon-loading-indicator"]=f,c["esri-rotating"]=f,c);a&&!f&&(h[a]=!0);return z.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",h),styles:l})};p.prototype.renderActionTitle=function(a,c){return c?null:z.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},a)};p.prototype.renderAction=
function(a){var c,f=a.item,h=a.action;a=a.singleAction;var l=h.active,n=h.disabled,p=h.title,l=(c={},c["esri-layer-list__item-actions-menu-item"]=a&&"button"===h.type,c["esri-layer-list__item-action"]=l||!a&&"toggle"!==h.type,c["esri-layer-list__action-toggle"]=!l&&"toggle"===h.type,c["esri-layer-list__action-toggle--on"]=!l&&"toggle"===h.type&&h.value,c["esri-disabled-element"]=n,c);c=[this.renderActionIcon(h),this.renderActionTitle(p,a)];return a?z.tsx("div",{bind:this,"data-item":f,"data-action":h,
role:"button",key:h,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:p,"aria-label":p},c):z.tsx("li",{bind:this,"data-item":f,"data-action":h,key:h,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:p,"aria-label":p},c)};p.prototype._sortNodeRemoved=function(a){var c=this._sortableMap;a=a.dataset.group;var f=c.get(a);f&&f.destroy();c.delete(a)};p.prototype._destroySortables=function(){var a=this._sortableMap,c=
this._sortableNodes;a.forEach(function(a){return a&&a.destroy()});a.clear();c.clear()};p.prototype._moveLayerFromChildList=function(a){this.viewModel.moveListItem(a.item["data-item"],a.from["data-item"],a.to["data-item"],a.newIndex)};p.prototype._sortLayers=function(a){var c,f;if(a){var h=a.el["data-item"];a=a.toArray();h?E.sortChildLayersToIds(h,a):E.sortLayersToIds(null===(f=null===(c=this.view)||void 0===c?void 0:c.map)||void 0===f?void 0:f.layers,a)}};p.prototype._toggleSorting=function(a,c){var d=
this._sortableMap,h=this.selectionEnabled,l=d.get(c),n=a["data-item"],h=("root"===c?!0:n.childrenSortable&&E.canSortSublayers(n))&&h;l?l.option("disabled",!h):h&&(a=f.create(a,{dataIdAttr:"data-layer-uid",group:{name:c,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter\x3d"true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!h,chosenClass:"esri-layer-list--chosen"}),d.set(c,a))};p.prototype._toggleAllSorting=function(){var a=this;
this._sortableNodes.forEach(function(c,f){return a._toggleSorting(c,f)})};p.prototype._sortNodeCreated=function(a){var c=a.dataset.group;c&&(this._sortableNodes.set(c,a),this._toggleSorting(a,c))};p.prototype._setVisibleItems=function(a){var c=this;this.visibleItems=null===a||void 0===a?void 0:a.filter(function(a){return c.errorsVisible||!a.error})};p.prototype._getSingleActionButton=function(a){return a.reduce(function(a){return a}).filter(function(a){return a&&"button"===a.type}).getItemAt(0)};
p.prototype._focusListItem=function(a){var c,f=this._focusSortUid;a&&f&&(null===(c=a["data-item"].layer)||void 0===c?void 0:c.uid)===f&&(a.focus(),this._focusSortUid=null)};p.prototype._watchActionSectionChanges=function(a,c){var d=this,f="action-section"+c;this._handles.add(a.on("change",this.scheduleRender.bind(this)),f);a.forEach(function(a){return d._renderOnActionChanges(a,c)})};p.prototype._renderOnActionChanges=function(a,c){var d=this;c="actions"+c;"toggle"===a.type?this._handles.add([J.init(a,
"className image id title visible value".split(" "),function(){return d.scheduleRender()})],c):"slider"===a.type?this._handles.add([J.init(a,"className id title visible value displayValueEnabled max min step".split(" "),function(){return d.scheduleRender()})],c):this._handles.add([J.init(a,["className","image","id","title","visible"],function(){return d.scheduleRender()})],c)};p.prototype._renderOnItemChanges=function(a){var c=this,f=a.uid,h="items"+f;this._handles.add([J.init(a,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className sortable childrenSortable".split(" "),
function(){return c.scheduleRender()}),a.actionsSections.on("change",function(){return c.scheduleRender()}),a.children.on("change",function(){return c.scheduleRender()})],h);a.children.forEach(function(a){return c._renderOnItemChanges(a)});a.actionsSections.forEach(function(a){return c._watchActionSectionChanges(a,f)})};p.prototype._itemsChanged=function(a){var c=this;this._handles.removeAll();a.forEach(function(a){return c._renderOnItemChanges(a)});this._setVisibleItems(a);this.scheduleRender()};
p.prototype._filterActions=function(a){return a.map(function(a){return a.filter(function(a){return a.visible})})};p.prototype._countActions=function(a){return a.reduce(function(a,c){return a+c.length},0)};p.prototype._getIconImageStyles=function(a){a="esri.widgets.LayerList.ListItemPanel"===a.declaredClass||"esri.support.Action.ActionButton"===a.declaredClass||"esri.support.Action.ActionToggle"===a.declaredClass?a.image:null;return{"background-image":a?'url("'+a+'")':null}};p.prototype._selectionKeydown=
function(a){var c,f,h,l,n=M.eventKey(a);if(-1===["ArrowDown","ArrowUp"].indexOf(n))this._toggleSelection(a);else{a.stopPropagation();var p=a.currentTarget,r=p["data-item"],t=this.selectedItems;if(p=this._sortableMap.get(p.dataset.group)){var t=E.findSelectedItem(r,t),y=p.toArray();a=y.indexOf(a.target.dataset.layerUid);if(-1!==a){if("ArrowDown"===n){var x=a+1;if(x>=y.length)return;t?(y.splice(x,0,y.splice(a,1)[0]),p.sort(y),this._sortLayers(p),this._focusSortUid=null===(c=r.layer)||void 0===c?void 0:
c.uid):(this._focusSortUid=null===(f=r.layer)||void 0===f?void 0:f.uid,this.scheduleRender())}"ArrowUp"===n&&(x=a-1,-1>=x||(t?(y.splice(x,0,y.splice(a,1)[0]),p.sort(y),this._sortLayers(p),this._focusSortUid=null===(h=r.layer)||void 0===h?void 0:h.uid):(this._focusSortUid=null===(l=r.layer)||void 0===l?void 0:l.uid,this.scheduleRender())))}}}};p.prototype._toggleActionsOpen=function(a){var c=a.currentTarget["data-item"],f=!c.actionsOpen;f&&this.operationalItems.forEach(function(a){return la(a)});c.actionsOpen=
f;a.stopPropagation()};p.prototype._triggerPanel=function(a){var c=a.currentTarget["data-panel"];c&&(c.open=!c.open);a.stopPropagation()};p.prototype._triggerAction=function(a){var c=a.currentTarget,f=c["data-action"],c=c["data-item"];"toggle"===f.type&&(f.value=!f.value);this.triggerAction(f,c);a.stopPropagation()};p.prototype._toggleVisibility=function(a){var c=a.currentTarget,f=c.getAttribute("data-parent-visibility"),c=c["data-item"];"exclusive"===f&&c.visible||(c.visible=!c.visible);a.stopPropagation()};
p.prototype._toggleChildrenClick=function(a){var c=a.currentTarget["data-item"];c.open=!c.open;a.stopPropagation()};p.prototype._toggleSelection=function(a){a.stopPropagation();var c=this.selectedItems,f=this.multipleSelectionEnabled&&(a.metaKey||a.ctrlKey);a=a.currentTarget["data-item"];var h=E.findSelectedItem(a,c),l=c.length,n=h&&1===l;f?h?c.remove(h):c.add(a):l&&!n?(c.removeAll(),c.add(a)):h?c.remove(h):c.add(a)};c.__decorate([n.property()],p.prototype,"visibleItems",void 0);c.__decorate([n.property()],
p.prototype,"iconClass",void 0);c.__decorate([n.property(),z.renderable()],p.prototype,"errorsVisible",void 0);c.__decorate([n.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],p.prototype,"label",void 0);c.__decorate([n.aliasOf("viewModel.listItemCreatedFunction"),z.renderable()],p.prototype,"listItemCreatedFunction",void 0);c.__decorate([n.property(),z.renderable(),z.messageBundle("esri/widgets/LayerList/t9n/LayerList")],p.prototype,"messages",void 0);c.__decorate([n.property(),
z.renderable(),z.messageBundle("esri/t9n/common")],p.prototype,"messagesCommon",void 0);c.__decorate([n.property()],p.prototype,"multipleSelectionEnabled",void 0);c.__decorate([n.aliasOf("viewModel.operationalItems"),z.renderable()],p.prototype,"operationalItems",void 0);c.__decorate([n.property(),z.renderable()],p.prototype,"selectionEnabled",void 0);c.__decorate([n.property(),z.renderable()],p.prototype,"selectedItems",void 0);c.__decorate([n.property(),z.renderable()],p.prototype,"statusIndicatorsVisible",
null);c.__decorate([n.aliasOf("viewModel.view"),z.renderable()],p.prototype,"view",void 0);c.__decorate([z.vmEvent("trigger-action"),n.property({type:H}),z.renderable("viewModel.state")],p.prototype,"viewModel",void 0);c.__decorate([n.property(),z.renderable()],p.prototype,"visibleElements",void 0);c.__decorate([n.cast("visibleElements")],p.prototype,"castVisibleElements",null);c.__decorate([n.aliasOf("viewModel.triggerAction")],p.prototype,"triggerAction",null);c.__decorate([z.accessibleHandler()],
p.prototype,"_toggleActionsOpen",null);c.__decorate([z.accessibleHandler()],p.prototype,"_triggerPanel",null);c.__decorate([z.accessibleHandler()],p.prototype,"_triggerAction",null);c.__decorate([z.accessibleHandler()],p.prototype,"_toggleVisibility",null);c.__decorate([z.accessibleHandler()],p.prototype,"_toggleChildrenClick",null);c.__decorate([z.accessibleHandler()],p.prototype,"_toggleSelection",null);return p=c.__decorate([n.subclass("esri.widgets.LayerList")],p)}(A)});