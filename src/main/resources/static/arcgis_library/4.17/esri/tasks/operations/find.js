// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","../../layers/support/layerUtils"],function(l,d,k){Object.defineProperty(d,"__esModule",{value:!0});d.findToFindRESTParameters=void 0;d.findToFindRESTParameters=function(a){a=a.toJSON();var f=a.dynamicLayers,e=a.layerDefinitions,g=a.layerIds,b=a.outSR,c=a.searchFields;a={contains:a.contains,returnGeometry:a.returnGeometry,geometryPrecision:a.geometryPrecision,maxAllowableOffset:a.maxAllowableOffset,searchText:a.searchText};g&&(a.layers=g.join(","));c&&(a.searchFields=c.join(","));
b&&(a.sr=b.wkid||JSON.stringify(b));if(e){c=[];for(b=0;b<e.length;b++){var d=e[b];c[d.id]=d.definitionExpression}a.layerDefs=k.serializeLayerDefinitions(c)}if(f&&f.length){for(var h=[],c=function(a){var b=f[a],c=b.id;!b.subLayerIds&&g&&-1!==g.indexOf(c)&&(a={id:c},a.source=b.source,b=null,e&&e.length&&(b=(b=e.filter(function(a){return a.id===c})[0])&&b.definitionExpression),b&&(a.definitionExpression=b),h.push(a))},b=0;b<f.length;b++)c(b);b=JSON.stringify(h);"[]"===b&&(b="[{}]");a.dynamicLayers=b}return a}});