// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/lang ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils".split(" "),function(h,e,g,k,l,d){Object.defineProperty(e,"__esModule",{value:!0});e.EffectScale=void 0;h=function(){function b(){}b.local=function(){null===b.instance&&(b.instance=new b);return b.instance};b.prototype.execute=function(a,c,b){return new m(a,c,b)};b.instance=null;return b}();e.EffectScale=h;var m=function(){function b(a,c,b){this._inputGeometries=
a;this._xFactor=void 0!==c.xScaleFactor?c.xScaleFactor:1.15;this._yFactor=void 0!==c.yScaleFactor?c.yScaleFactor:1.15;b}b.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(1===this._xFactor&&1===this._yFactor)return a;var c=k.create();l.getBoundsXY(c,a);var b=(c[2]+c[0])/2,c=(c[3]+c[1])/2;if(d.isExtent(a))return a={rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]},this._scaleMultipath(a.rings,b,c),a;if(d.isPolygon(a))return a=g.clone(a),
this._scaleMultipath(a.rings,b,c),a;if(d.isPolyline(a))return a=g.clone(a),this._scaleMultipath(a.paths,b,c),a;if(d.isMultipoint(a))return a=g.clone(a),this._scalePath(a.points,b,c),a;if(d.isPoint(a))return a;a=this._inputGeometries.next()}return null};b.prototype._scaleMultipath=function(a,b,d){if(a)for(var c=0;c<a.length;c++)this._scalePath(a[c],b,d)};b.prototype._scalePath=function(a,b,d){if(a)for(var c=0;c<a.length;c++){var f=a[c],e=(f[1]-d)*this._yFactor;f[0]=b+(f[0]-b)*this._xFactor;f[1]=d+
e}};return b}()});