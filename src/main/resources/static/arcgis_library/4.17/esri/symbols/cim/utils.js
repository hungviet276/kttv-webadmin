// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports"],function(E,b){function p(a,b){"string"!==typeof a&&(a=String(a));switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}Object.defineProperty(b,"__esModule",{value:!0});b.isCIMMarkerStrokePlacement=b.isCIMFill=b.isCIMStroke=b.isCIMMarker=b.toCIMSymbolJSON=b.fromCIMColor=b.resampleHermite=b._adjustTextCase=b.createLabelOverrideFunction=b.colorToArray=b.evaluateValueOrFunction=void 0;b.evaluateValueOrFunction=function(a,
b,h,k){return"function"===typeof a?a(b,h,k):a};b.colorToArray=function(a){return[a.r,a.g,a.b,a.a]};b.createLabelOverrideFunction=function(a,b,h){var k=function(a){for(var b=a.length;b--;)if(-1===" /-,\n".indexOf(a.charAt(b)))return!1;return!0},l=[],c=0,e=-1;do e=b.indexOf("[",c),e>=c&&(e>c&&(c=b.substr(c,e-c),l.push([c,null,k(c)])),c=e+1,e=b.indexOf("]",c),e>=c&&(e>c&&(c=b.substr(c,e-c),(c=a[c])&&l.push([null,c,!1])),c=e+1));while(-1!==e);c<b.length-1&&(c=b.substr(c),l.push([c,null,k(c)]));return function(a){for(var b=
"",c=null,e=0;e<l.length;e++){var f=l[e],g=f[0],d=f[1],f=f[2];if(g)f?c=g:(c&&(b+=c,c=null),b+=g);else if(g=a.attributes[d])c&&(b+=c,c=null),b+=g}return p(b,h)}};b._adjustTextCase=p;b.resampleHermite=function(a,b,h,k,l,c,e){void 0===e&&(e=!0);var q=b/l;h/=c;for(var B=Math.ceil(q/2),p=Math.ceil(h/2),n=0;n<c;n++)for(var f=0;f<l;f++){for(var g=4*(f+(e?c-n-1:n)*l),d=0,r=0,w=0,x=0,y=0,z=0,A=0,C=(n+.5)*h,t=Math.floor(n*h);t<(n+1)*h;t++)for(var u=Math.abs(C-(t+.5))/p,D=(f+.5)*q,u=u*u,v=Math.floor(f*q);v<
(f+1)*q;v++){var m=Math.abs(D-(v+.5))/B,d=Math.sqrt(u+m*m);-1<=d&&1>=d&&(d=2*d*d*d-3*d*d+1,0<d&&(m=4*(v+t*b),A+=d*a[m+3],w+=d,255>a[m+3]&&(d=d*a[m+3]/250),x+=d*a[m],y+=d*a[m+1],z+=d*a[m+2],r+=d))}k[g]=x/r;k[g+1]=y/r;k[g+2]=z/r;k[g+3]=A/w}};b.fromCIMColor=function(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}};b.toCIMSymbolJSON=function(a){var b;return null===(b=a.data)||void 0===b?void 0:b.symbol};b.isCIMMarker=function(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||
"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===a.type};b.isCIMStroke=function(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===a.type||"CIMSolidStroke"===a.type};b.isCIMFill=function(a){return"CIMGradientFill"===a.type||"CIMHatchFill"===a.type||"CIMPictureFill"===a.type||"CIMSolidFill"===a.type||"CIMWaterFill"===a.type};b.isCIMMarkerStrokePlacement=function(a){return"CIMMarkerPlacementAlongLineRandomSize"===a.type||
"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===a.type||"CIMMarkerPlacementOnLine"===a.type||"CIMMarkerPlacementOnVertices"===a.type}});