// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ../config ./global ../views/webgl/context-util".split(" "),function(r,t,p,k,d,l){function a(a){return"function"===typeof f[a]?f[a]=f[a](d):f[a]}function g(){if(b)return b;b={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");
if(!a)return b;var c=l.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!c&&(c=l.createContext(a,{},"webgl"))&&(b.majorPerformanceCaveat=!0);if(!c)return b;a=c.getParameter(c.VERSION);if(!a)return b;if(a=a.match(/^WebGL\s+([\d.]*)/)){b.version=parseFloat(a[1]);b.available=.94<=b.version;if(a=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT))b.supportsHighPrecisionFragment=0<a.precision;b.supportsVertexShaderSamplers=0<c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);b.supportsElementIndexUint=
null!==c.getExtension("OES_element_index_uint");b.supportsStandardDerivatives=null!==c.getExtension("OES_standard_derivatives");b.supportsInstancedArrays=null!==c.getExtension("ANGLE_instanced_arrays");b.supportsTextureFloat=null!==c.getExtension("OES_texture_float");b.supportsColorBufferFloat=null!==c.getExtension("WEBGL_color_buffer_float")}b.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE);return b}function q(){if(h)return h;h={available:!1,version:0};var a=document.createElement("canvas");if(!a)return h;
a=l.createContext(a,{},"webgl2");if(!a)return h;h.available=!0;a=a.getParameter(a.VERSION);if(!a)return h;if(a=a.match(/^WebGL\s+([\d.]*)/))h.version=parseFloat(a[1]);return h}var m,n,f;k.has||(null===(m=d.dojoConfig)||void 0===m?0:m.has)?(f=p.__assign(p.__assign({},null===(n=d.dojoConfig)||void 0===n?void 0:n.has),k.has),delete k.has):f={};a.add=function(e,c,d,b){if(b||"undefined"===typeof f[e])f[e]=c;return d&&a(e)};a.cache=f;(function(){a.add("host-webworker","undefined"!==typeof d.WorkerGlobalScope&&
self instanceof d.WorkerGlobalScope);var e="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",e);a.add("dom",e);if(a("host-browser")){var c=navigator,e=c.userAgent,c=c.appVersion,b=parseFloat(c);a.add("edge",parseFloat(e.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(e.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&!0&&parseFloat(e.split("Chrome/")[1])||
void 0);a.add("safari",0<=c.indexOf("Safari")&&!a("chrome")&&!a("edge")?parseFloat(c.split("Version/")[1]):void 0);a.add("mac",0<=c.indexOf("Macintosh"));if(e.match(/(iPhone|iPod|iPad)/)){var g=RegExp.$1.replace(/P/,"p"),f=e.match(/OS ([\d_]+)/)?RegExp.$1:"1",f=parseFloat(f.replace(/_/,".").replace(/_/g,""));a.add(g,f);a.add("ios",f)}a.add("trident",parseFloat(c.split("Trident/")[1])||void 0);a("webkit")||(0<=e.indexOf("Opera")&&a.add("opera",9.8<=b?parseFloat(e.split("Version/")[1])||b:b),0<=e.indexOf("Gecko")&&
!a("trident")&&!a("edge")&&a.add("mozilla",b),a("mozilla")&&a.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0))}})();a.add("esri-deprecation-warnings",!0);(function(){if(d.navigator){var b=navigator.userAgent,c=b.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),b=b.match(/iPhone/i);c&&a.add("esri-mobile",c);b&&a.add("esri-iPhone",b);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident"));a.add("esri-secure-context",
function(){if("isSecureContext"in d)return d.isSecureContext;if(d.location&&d.location.origin)return 0===d.location.origin.indexOf("https:")});a.add("esri-wasm","WebAssembly"in d);a.add("esri-shared-array-buffer",function(){var a=!1===d.crossOriginIsolated;return"SharedArrayBuffer"in d&&!a});a.add("esri-atomics","Atomics"in d);a.add("esri-workers","Worker"in d);a.add("esri-text-decoder","TextDecoder"in d);a.add("esri-text-encoder","TextEncoder"in d);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",
!1);a.add("feature-layers-workers",!0);a.add("mapview-transitions-duration",200);a("host-webworker")||(a.add("esri-abortable-fetch","fetch"in d&&"signal"in new Request("https://www.arcgis.com")),a.add("csp-restrictions",function(){try{new Function}catch(u){return!0}return!1}),a.add("esri-image-decode",function(){if("decode"in new Image){var b=new Image;b.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';b.decode().then(function(){a.add("esri-image-decode",
!0,!0,!0)}).catch(function(){a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",function(){var a=d.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),a.add("esri-webgl",function(){return g().available}),a.add("esri-webgl-high-precision-fragment",function(){return g().supportsHighPrecisionFragment}),a.add("esri-webgl-vertex-shader-samplers",function(){return g().supportsVertexShaderSamplers}),a.add("esri-webgl-element-index-uint",function(){return g().supportsElementIndexUint}),
a.add("esri-webgl-standard-derivatives",function(){return g().supportsStandardDerivatives}),a.add("esri-webgl-texture-float",function(){return g().supportsTextureFloat}),a.add("esri-webgl-color-buffer-float",function(){return g().supportsColorBufferFloat}),a.add("esri-webgl-instanced-arrays",function(){return g().supportsInstancedArrays}),a.add("esri-webgl-major-performance-caveat",function(){return g().majorPerformanceCaveat}),a.add("esri-featurelayer-webgl",!0),a.add("esri-featurelayer-webgl-labeling",
!0),a.add("esri-webgl2",function(){return q().available}),a.add("esri-webgl-max-texture-size",function(){return g().maxTextureSize}))})();var b=null,h=null;return a});