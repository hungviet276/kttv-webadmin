// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","../factories/vec3f64","./common"],function(D,b,u,m){function v(a){var c=a[0],d=a[1];a=a[2];return Math.sqrt(c*c+d*d+a*a)}function r(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a}function w(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];return a}function x(a,c,d){a[0]=c[0]*d[0];a[1]=c[1]*d[1];a[2]=c[2]*d[2];return a}function y(a,c,d){a[0]=c[0]/d[0];a[1]=c[1]/d[1];a[2]=c[2]/d[2];return a}function z(a,c){var d=c[0]-a[0],b=c[1]-a[1];a=c[2]-a[2];return Math.sqrt(d*d+b*b+
a*a)}function A(a,c){var d=c[0]-a[0],b=c[1]-a[1];a=c[2]-a[2];return d*d+b*b+a*a}function B(a){var c=a[0],d=a[1];a=a[2];return c*c+d*d+a*a}function t(a,c){var d=c[0],b=c[1],f=c[2],d=d*d+b*b+f*f;0<d&&(d=1/Math.sqrt(d),a[0]=c[0]*d,a[1]=c[1]*d,a[2]=c[2]*d);return a}function C(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}Object.defineProperty(b,"__esModule",{value:!0});b.sqrLen=b.len=b.sqrDist=b.dist=b.div=b.mul=b.sub=b.equals=b.exactEquals=b.str=b.angle=b.rotateZ=b.rotateY=b.rotateX=b.transformQuat=b.transformMat3=
b.transformMat4=b.random=b.bezier=b.hermite=b.lerp=b.cross=b.dot=b.normalize=b.inverse=b.negate=b.squaredLength=b.squaredDistance=b.distance=b.scaleAndAdd=b.scale=b.round=b.max=b.min=b.floor=b.ceil=b.divide=b.multiply=b.subtract=b.add=b.set=b.copy=b.length=void 0;b.length=v;b.copy=r;b.set=function(a,c,d,b){a[0]=c;a[1]=d;a[2]=b;return a};b.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];return a};b.subtract=w;b.multiply=x;b.divide=y;b.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);
a[2]=Math.ceil(c[2]);return a};b.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);return a};b.min=function(a,c,d){a[0]=Math.min(c[0],d[0]);a[1]=Math.min(c[1],d[1]);a[2]=Math.min(c[2],d[2]);return a};b.max=function(a,c,d){a[0]=Math.max(c[0],d[0]);a[1]=Math.max(c[1],d[1]);a[2]=Math.max(c[2],d[2]);return a};b.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=Math.round(c[2]);return a};b.scale=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;
return a};b.scaleAndAdd=function(a,c,d,b){a[0]=c[0]+d[0]*b;a[1]=c[1]+d[1]*b;a[2]=c[2]+d[2]*b;return a};b.distance=z;b.squaredDistance=A;b.squaredLength=B;b.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a};b.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};b.normalize=t;b.dot=C;b.cross=function(a,c,d){var b=c[0],f=c[1];c=c[2];var e=d[0],n=d[1];d=d[2];a[0]=f*d-c*n;a[1]=c*e-b*d;a[2]=b*n-f*e;return a};b.lerp=function(a,c,d,b){var f=c[0],e=c[1];c=c[2];a[0]=f+b*(d[0]-f);
a[1]=e+b*(d[1]-e);a[2]=c+b*(d[2]-c);return a};b.hermite=function(a,c,d,b,f,e){var g=e*e,h=g*(2*e-3)+1,l=g*(e-2)+e,k=g*(e-1);e=g*(3-2*e);a[0]=c[0]*h+d[0]*l+b[0]*k+f[0]*e;a[1]=c[1]*h+d[1]*l+b[1]*k+f[1]*e;a[2]=c[2]*h+d[2]*l+b[2]*k+f[2]*e;return a};b.bezier=function(a,c,d,b,f,e){var g=1-e,h=g*g,l=e*e,k=h*g,h=3*e*h,g=3*l*g;e*=l;a[0]=c[0]*k+d[0]*h+b[0]*g+f[0]*e;a[1]=c[1]*k+d[1]*h+b[1]*g+f[1]*e;a[2]=c[2]*k+d[2]*h+b[2]*g+f[2]*e;return a};b.random=function(a,c){c=c||1;var d=2*m.RANDOM()*Math.PI,b=2*m.RANDOM()-
1,f=Math.sqrt(1-b*b)*c;a[0]=Math.cos(d)*f;a[1]=Math.sin(d)*f;a[2]=b*c;return a};b.transformMat4=function(a,c,d){var b=c[0],f=c[1];c=c[2];a[0]=d[0]*b+d[4]*f+d[8]*c+d[12];a[1]=d[1]*b+d[5]*f+d[9]*c+d[13];a[2]=d[2]*b+d[6]*f+d[10]*c+d[14];return a};b.transformMat3=function(a,c,d){var b=c[0],f=c[1];c=c[2];a[0]=b*d[0]+f*d[3]+c*d[6];a[1]=b*d[1]+f*d[4]+c*d[7];a[2]=b*d[2]+f*d[5]+c*d[8];return a};b.transformQuat=function(a,c,d){var b=d[0],f=d[1],e=d[2],n=c[0],h=c[1];c=c[2];var l=f*c-e*h,k=e*n-b*c,m=b*h-f*n;
d=2*d[3];a[0]=n+l*d+2*(f*m-e*k);a[1]=h+k*d+2*(e*l-b*m);a[2]=c+m*d+2*(b*k-f*l);return a};b.rotateX=function(a,c,b,g){var d=[],e=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];e[0]=d[0];e[1]=d[1]*Math.cos(g)-d[2]*Math.sin(g);e[2]=d[1]*Math.sin(g)+d[2]*Math.cos(g);a[0]=e[0]+b[0];a[1]=e[1]+b[1];a[2]=e[2]+b[2];return a};b.rotateY=function(a,c,b,g){var d=[],e=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];e[0]=d[2]*Math.sin(g)+d[0]*Math.cos(g);e[1]=d[1];e[2]=d[2]*Math.cos(g)-d[0]*Math.sin(g);a[0]=e[0]+
b[0];a[1]=e[1]+b[1];a[2]=e[2]+b[2];return a};b.rotateZ=function(a,c,b,g){var d=[],e=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];e[0]=d[0]*Math.cos(g)-d[1]*Math.sin(g);e[1]=d[0]*Math.sin(g)+d[1]*Math.cos(g);e[2]=d[2];a[0]=e[0]+b[0];a[1]=e[1]+b[1];a[2]=e[2]+b[2];return a};b.angle=function(a,c){r(p,a);r(q,c);t(p,p);t(q,q);a=C(p,q);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var p=u.create(),q=u.create();b.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};b.exactEquals=function(a,c){return a[0]===
c[0]&&a[1]===c[1]&&a[2]===c[2]};b.equals=function(a,c){var b=a[0],g=a[1];a=a[2];var f=c[0],e=c[1];c=c[2];return Math.abs(b-f)<=m.EPSILON*Math.max(1,Math.abs(b),Math.abs(f))&&Math.abs(g-e)<=m.EPSILON*Math.max(1,Math.abs(g),Math.abs(e))&&Math.abs(a-c)<=m.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};b.sub=w;b.mul=x;b.div=y;b.dist=z;b.sqrDist=A;b.len=v;b.sqrLen=B});