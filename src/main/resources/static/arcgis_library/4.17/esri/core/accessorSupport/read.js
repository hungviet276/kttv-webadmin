// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),function(D,d,q,v,C,t){function r(d,a,g){void 0===g&&(g=A);if(a&&"object"===typeof a){for(var e=C.getProperties(d),l=e.metadatas,w={},f=0,h=Object.getOwnPropertyNames(a);f<h.length;f++){var n=w,k=l,c=h[f],p=a,q=g,b=t.originSpecificReadPropertyDefinition(k[c],q);b&&(!b.read||!1!==b.read.enabled&&!b.read.source)&&(n[c]=!0);for(var x=0,r=Object.getOwnPropertyNames(k);x<r.length;x++){var z=r[x],b=t.originSpecificReadPropertyDefinition(k[z],
q),m;a:{m=c;var B=p;if(b&&b.read&&!1!==b.read.enabled&&b.read.source)if(b=b.read.source,"string"===typeof b){if(b===m||-1<b.indexOf(".")&&0===b.indexOf(m)&&v.exists(b,B)){m=!0;break a}}else for(var y=0;y<b.length;y++){var u=b[y];if(u===m||-1<u.indexOf(".")&&0===u.indexOf(m)&&v.exists(u,B)){m=!0;break a}}m=!1}m&&(n[z]=!0)}}e.setDefaultOrigin(g.origin);h=0;for(n=Object.getOwnPropertyNames(w);h<n.length;h++)f=n[h],c=(k=t.originSpecificReadPropertyDefinition(l[f],g).read)&&k.source,p=void 0,p=c&&"string"===
typeof c?v.valueOf(a,c):a[f],k&&k.reader&&(p=k.reader.call(d,p,a,g)),void 0!==p&&e.set(f,p);if(!g||!g.ignoreDefaults)for(a=0,l=Object.getOwnPropertyNames(l);a<l.length;a++)f=l[a],w[f]||(h=d,n=e,k=g,c=(c=t.originSpecificPropertyDefinition(n.metadatas[f],"any",k))&&c.default,void 0!==c&&(h="function"===typeof c?c.call(h,f,k):c,void 0!==h&&n.set(f,h)));e.setDefaultOrigin("user")}}Object.defineProperty(d,"__esModule",{value:!0});d.readLoadable=d.read=void 0;var A={origin:"service"};d.read=r;d.readLoadable=
function(d,a,g,e){var l;void 0===e&&(e=A);a=q.__assign(q.__assign({},e),{messages:[]});g(a);null===(l=a.messages)||void 0===l?void 0:l.forEach(function(a){"warning"!==a.type||d.loaded?e&&e.messages&&e.messages.push(a):d.loadWarnings.push(a)})};d.default=r});