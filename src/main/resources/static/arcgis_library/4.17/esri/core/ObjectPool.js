// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib"],function(h,k,f){return function(){function c(a,b,c,d,e){void 0===d&&(d=1);void 0===e&&(e=0);this.ctor=a;this.acquireFunction=b;this.releaseFunction=c;this.allocationSize=d;this._pool=Array(e);this._initialSize=e;if(this.ctor)for(a=0;a<e;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(d,1)}c.prototype.destroy=function(){this.prune(0)};c.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.ctor;if(c.test.disabled)b=
new b;else{if(0===this._pool.length)for(var g=this.allocationSize,d=0;d<g;d++)this._pool[d]=new b;b=this._pool.pop()}this.acquireFunction?this.acquireFunction.apply(this,f.__spreadArrays([b],a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);return b};c.prototype.release=function(a){a&&!c.test.disabled&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};c.prototype.prune=function(a){void 0===a&&(a=this._initialSize);
if(!(a>=this._pool.length)){for(var b=a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};c.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};c.test={disabled:!1};return c}()});