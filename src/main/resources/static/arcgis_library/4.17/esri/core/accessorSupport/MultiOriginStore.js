// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ../arrayUtils ../lang ../maybe ./PropertyOrigin".split(" "),function(g,h,m,k,n,l){Object.defineProperty(h,"__esModule",{value:!0});g=function(){function d(){this._propertyOriginMap=new Map;this._originStores=Array(l.OriginIdNum);this._values=new Map}d.prototype.clone=function(a){var b=new d,c=this._originStores[0];c&&c.forEach(function(a,c){b.set(c,k.clone(a),0)});for(var c=function(c){var d=e._originStores[c];d&&d.forEach(function(d,e){a&&a.has(e)||b.set(e,k.clone(d),c)})},
e=this,f=2;f<l.OriginIdNum;f++)c(f);return b};d.prototype.get=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?b.get(a):void 0};d.prototype.keys=function(a){return(a=null==a?this._values:this._originStores[a])?m.keysOfMap(a):[]};d.prototype.set=function(a,b,c){void 0===c&&(c=6);var d=this._originStores[c];d||(d=new Map,this._originStores[c]=d);d.set(a,b);return!this._values.has(a)||n.assumeNonNull(this._propertyOriginMap.get(a))<=c?(d=this._values.get(a),this._values.set(a,b),
this._propertyOriginMap.set(a,c),d!==b):!1};d.prototype.delete=function(a,b){void 0===b&&(b=6);var c=this._originStores[b];if(c){var d=c.get(a);c.delete(a);if(this._values.has(a)&&this._propertyOriginMap.get(a)===b)for(this._values.delete(a),--b;0<=b;b--)if((c=this._originStores[b])&&c.has(a)){this._values.set(a,c.get(a));this._propertyOriginMap.set(a,b);break}return d}};d.prototype.has=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?b.has(a):!1};d.prototype.revert=function(a,
b){for(;0<b&&!this.has(a,b);)--b;var c=this._originStores[b],c=c&&c.get(a),d=this._values.get(a);this._values.set(a,c);this._propertyOriginMap.set(a,b);return d!==c};d.prototype.originOf=function(a){return this._propertyOriginMap.get(a)||0};d.prototype.forEach=function(a){this._values.forEach(a)};return d}();h.default=g});