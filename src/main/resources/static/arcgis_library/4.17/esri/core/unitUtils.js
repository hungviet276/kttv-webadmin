// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ./compilerUtils ./jsonMap ./SetUtils ../geometry/support/geodesicConstants ../geometry/support/WKIDUnitConversion".split(" "),function(q,a,B,k,C,l,D){function g(b){if(b=E[b])return b;throw Error("unknown measure");}function r(b){return f[b].baseUnit}function m(b,a){void 0===a&&(a=null);a=a||g(b);return f[a].baseUnit===b}function e(b,a,c){if(a===c)return b;var d=g(a);if(d!==g(c))throw Error("incompatible units");b=m(a,d)?b:b*f[d].units[a].inBaseUnits;return m(c,d)?b:b/f[d].units[c].inBaseUnits}
function t(b,a){return 3E3>e(b,a,"meters")?"meters":"kilometers"}function u(b,a){return 1E5>e(b,a,"meters")?"meters":"kilometers"}function v(b,a){return 1E3>e(b,a,"feet")?"feet":"miles"}function w(b,a){return 1E5>e(b,a,"feet")?"feet":"miles"}function x(b){return y.fromJSON(b.toLowerCase())||null}function n(b,a){void 0===a&&(a=F);return z(b,!0)||a}function z(b,a){void 0===a&&(a=!1);var c,d,e;null!=b&&("object"===typeof b?(c=b.wkid,d=b.wkt):"number"===typeof b?c=b:"string"===typeof b&&(d=b));c?(e=h.values[h[c]],
!e&&a&&G.has(c)&&(e=H)):d&&-1!==d.search(/^PROJCS/i)&&(b=A.exec(d))&&b[1]&&(e=parseFloat(b[1].split(",")[1]));return e}function p(b){var a,c,e;null!=b&&("object"===typeof b?(a=b.wkid,c=b.wkt):"number"===typeof b?a=b:"string"===typeof b&&(c=b));a?e=h.units[h[a]]:c&&-1!==c.search(/^PROJCS/i)&&(b=A.exec(c))&&b[1]&&(e=(b=/[\\"\\']{1}([^\\"\\']+)/.exec(b[1]))&&b[1]);return e?x(e):null}Object.defineProperty(a,"__esModule",{value:!0});a.getDefaultUnitSystem=a.getUnitString=a.getMetersPerUnit=a.getMetersPerUnitForSR=
a.getVerticalUnitStringForSR=a.getMetersPerVerticalUnitForSR=a.unitToRESTJSON=a.unitFromRESTJSON=a.lengthToDegrees=a.preferredImperialAreaUnit=a.preferredMetricAreaUnit=a.preferredImperialVerticalLengthUnit=a.preferredImperialLengthUnit=a.preferredMetricVerticalLengthUnit=a.preferredMetricLengthUnit=a.preferredVerticalLengthUnit=a.preferredLengthUnit=a.convertUnit=a.isBaseUnit=a.baseUnitForUnit=a.baseUnitForMeasure=a.measureForUnit=a.measurementLengthUnits=a.measurementAreaUnits=a.inchesPerMeter=
void 0;a.inchesPerMeter=39.37;var F=l.metersPerDegree,H=l.earthRadius*Math.PI/200,A=/UNIT\[([^\]]+)\]\]$/i,h=D,G=C.SetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=k.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",
foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});q={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};k={"square-millimeters":{inBaseUnits:1E-6},
"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(b){return b*b}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var f={length:{baseUnit:"meters",units:q},
area:{baseUnit:"square-meters",units:k},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},
degrees:{inBaseUnits:Math.PI/180}}}},E=function(){var b={},a;for(a in f)for(var c in f[a].units)b[c]=a;return b}();a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.measureForUnit=g;a.baseUnitForMeasure=r;a.baseUnitForUnit=function(b){return r(g(b))};a.isBaseUnit=
m;a.convertUnit=e;a.preferredLengthUnit=function(b,a,c){switch(c){case "metric":return t(b,a);case "imperial":return v(b,a);default:return c}};a.preferredVerticalLengthUnit=function(a,d,c){switch(c){case "metric":return u(a,d);case "imperial":return w(a,d);default:return c}};a.preferredMetricLengthUnit=t;a.preferredMetricVerticalLengthUnit=u;a.preferredImperialLengthUnit=v;a.preferredImperialVerticalLengthUnit=w;a.preferredMetricAreaUnit=function(a,d){return 3E6>e(a,d,"square-meters")?"square-meters":
"square-kilometers"};a.preferredImperialAreaUnit=function(a,d){return 1E6>e(a,d,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(a,d,c){void 0===c&&(c=l.earthRadius);return e(a,d,"meters")/(c*Math.PI/180)};a.unitFromRESTJSON=x;a.unitToRESTJSON=function(a){return y.toJSON(a)||null};a.getMetersPerVerticalUnitForSR=function(a){a=n(a);return 1E5<a?1:a};a.getVerticalUnitStringForSR=function(a){return 1E5<n(a)?"meters":p(a)};a.getMetersPerUnitForSR=n;a.getMetersPerUnit=z;a.getUnitString=
p;a.getDefaultUnitSystem=function(a){if(!a)return null;a=p(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:B.neverReached(a)}return null}});