// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
define("require exports ./colorUtils ./core/mathUtils ./core/maybe ./core/accessorSupport/ensureType".split(" "),function(k,q,l,n,m,p){function g(b){return n.clamp(p.ensureInteger(b),0,255)}function h(b,a,d){b=Number(b);return isNaN(b)?d:b<a?a:b>d?d:b}k=function(){function b(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}b.blendColors=function(a,d,c,e){void 0===e&&(e=new b);e.r=Math.round(a.r+(d.r-a.r)*c);e.g=Math.round(a.g+(d.g-a.g)*c);e.b=Math.round(a.b+(d.b-a.b)*c);e.a=a.a+(d.a-a.a)*
c;return e._sanitize()};b.fromRgb=function(a,d){var c=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){a=c[2].split(/\s*,\s*/);c=c[1];if("rgb"===c&&3===a.length||"rgba"===c&&4===a.length)return c=a[0],"%"===c.charAt(c.length-1)?(c=a.map(function(a){return 2.56*parseFloat(a)}),4===a.length&&(c[3]=parseFloat(a[3])),b.fromArray(c,d)):b.fromArray(a.map(function(a){return parseFloat(a)}),d);if("hsl"===c&&3===a.length||"hsla"===c&&4===a.length)return b.fromArray(l.hsla2rgba(parseFloat(a[0]),
parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])),d)}return null};b.fromHex=function(a,d){void 0===d&&(d=new b);var c=4===a.length?4:8,e=(1<<c)-1,f=Number("0x"+a.substr(1));if(isNaN(f))return null;["b","g","r"].forEach(function(a){var b=f&e;f>>=c;d[a]=4===c?17*b:b});d.a=1;return d};b.fromArray=function(a,d){void 0===d&&(d=new b);d._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(d.a)&&(d.a=1);return d._sanitize()};b.fromString=function(a,d){var c=l.getNamedColor(a);return c&&
b.fromArray(c,d)||b.fromRgb(a,d)||b.fromHex(a,d)};b.fromJSON=function(a){return a&&new b([a[0],a[1],a[2],a[3]/255])};b.toUnitRGB=function(a){return m.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};b.toUnitRGBA=function(a){return m.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};Object.defineProperty(b.prototype,"isBright",{get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b},enumerable:!1,configurable:!0});b.prototype.setColor=function(a){var d,c,e,f;"string"===typeof a?b.fromString(a,
this):Array.isArray(a)?b.fromArray(a,this):(this._set(null!==(d=a.r)&&void 0!==d?d:0,null!==(c=a.g)&&void 0!==c?c:0,null!==(e=a.b)&&void 0!==e?e:0,null!==(f=a.a)&&void 0!==f?f:1),a instanceof b||this._sanitize());return this};b.prototype.toRgb=function(){return[this.r,this.g,this.b]};b.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};b.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+
(2>c.length?"0"+c:c)};b.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};b.prototype.toString=function(){return this.toCss(!0)};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toArray=function(a){void 0===a&&(a=0);var b=g(this.r),c=g(this.g),e=g(this.b);return 0===a||1!==this.a?[b,c,e,g(255*this.a)]:[b,c,e]};b.prototype.clone=function(){return new b(this.toRgba())};b.prototype.hash=function(){return this.r<<
24|this.g<<16|this.b<<8|255*this.a};b.prototype._sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};b.prototype._set=function(a,b,c,e){this.r=a;this.g=b;this.b=c;this.a=e};return b}();k.prototype.declaredClass="esri.Color";return k});